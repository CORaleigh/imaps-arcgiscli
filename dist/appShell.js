(self.webpackChunkimaps=self.webpackChunkimaps||[]).push([[5877],{37704:(e,t,s)=>{"use strict";s.d(t,{f:()=>n,i:()=>u,p:()=>m,r:()=>o,t:()=>h,w:()=>l});var i=s(59472),r=s(10923);function n(e,t){const s=t&&t.url&&t.url.path;if(e&&s&&(e=(0,r.hF)(e,s,{preserveProtocolRelative:!0}),t.portalItem&&t.readResourcePaths)){const s=(0,r.PF)(e,t.portalItem.itemUrl);c.test(s)&&t.readResourcePaths.push(t.portalItem.resourceFromPath(s).path)}return f(e,t&&t.portal)}function h(e,t){if(!e)return e;!(0,r.YP)(e)&&t&&t.blockedRelativeUrls&&t.blockedRelativeUrls.push(e);let s=(0,r.hF)(e);if(t){const i=t.verifyItemRelativeUrls&&t.verifyItemRelativeUrls.rootPath||t.url&&t.url.path;if(i){const n=f(i,t.portal);s=(0,r.PF)(f(s,t.portal),n,n),s!==e&&t.verifyItemRelativeUrls&&t.verifyItemRelativeUrls.writtenUrls.push(s)}}return s=function(e,t){return t&&!t.isPortal&&t.urlKey&&t.customBaseUrl?(0,r.Ie)(e,`${t.urlKey}.${t.customBaseUrl}`,t.portalHostname):e}(s,t&&t.portal),(0,r.YP)(s)&&(s=(0,r.Fv)(s)),s}function o(e,t,s){return n(e,s)}function l(e,t,s,i){const r=h(e,i);void 0!==r&&(t[s]=r)}const a=/\/items\/([^\/]+)\/resources\//,c=/^\.\/resources\//;function u(e){const t=(0,i.pC)(e)?e.match(a):null;return(0,i.pC)(t)?t[1]:null}function f(e,t){if(!t||t.isPortal||!t.urlKey||!t.customBaseUrl)return e;const s=`${t.urlKey}.${t.customBaseUrl}`;return(0,r.D6)(r.Gd,`${r.Gd.scheme}://${s}`)?(0,r.Ie)(e,t.portalHostname,s):(0,r.Ie)(e,s,t.portalHostname)}var m=Object.freeze({__proto__:null,fromJSON:n,toJSON:h,read:o,write:l,itemIdFromResourceUrl:u})},83477:(e,t,s)=>{"use strict";s.d(t,{Z:()=>x});var i,r=s(56140),n=s(82550),h=s(59472),o=s(68055),l=s(79881),a=s(87566),c=s(38035),u=s(42148),f=s(74386),m=s(35470);const _=new c.Z(class{constructor(){this.target=null,this.cancellable=!1,this.defaultPrevented=!1,this.item=void 0,this.type=void 0}preventDefault(){this.cancellable&&(this.defaultPrevented=!0)}reset(e){this.defaultPrevented=!1,this.item=e}},void 0,(e=>{e.item=null,e.target=null,e.defaultPrevented=!1,e.cancellable=!1})),p=()=>{};function d(e){return e?e instanceof w?e.toArray():e.length?Array.prototype.slice.apply(e):[]:[]}function g(e){if(e&&e.length)return e[0]}function v(e,t,s,i){const r=Math.min(e.length-s,t.length-i);let n=0;for(;n<r&&e[s+n]===t[i+n];)n++;return n}function y(e,t,s,i){t&&t.forEach(((t,r,n)=>{e.push(t),y(e,s.call(i,t,r,n),s,i)}))}const C=new Set,P=new Set,E=new Set,A=new Map;let b=0,w=i=class extends m.Z.EventedAccessor{constructor(e){super(e),this._chgListeners=[],this._notifications=null,this._timer=null,this.length=0,this._items=[],Object.defineProperty(this,"uid",{value:b++})}static isCollection(e){return null!=e&&e instanceof i}normalizeCtorArgs(e){return e?Array.isArray(e)||e instanceof i?{items:e}:e:{}}*[Symbol.iterator](){yield*this.items}get items(){return this._items}set items(e){this._emitBeforeChanges(1)||(this._splice(0,this.length,...d(e)),this._emitAfterChanges(1))}hasEventListener(e){return"change"===e?this._chgListeners.length>0:this._emitter.hasEventListener(e)}on(e,t){if("change"===e){const e=this._chgListeners,s={removed:!1,callback:t};return e.push(s),this._notifications&&this._notifications.push({listeners:e.slice(),items:this._items.slice(),changes:[]}),{remove(){this.remove=p,s.removed=!0,e.splice(e.indexOf(s),1)}}}return this._emitter.on(e,t)}once(e,t){const s=this.on(e,t);return{remove(){s.remove()}}}add(e,t){if(this._emitBeforeChanges(1))return this;const s=this.getNextIndex(null!=t?t:null);return this._splice(s,0,e),this._emitAfterChanges(1),this}addMany(e,t=this._items.length){if(!e||!e.length)return this;if(this._emitBeforeChanges(1))return this;const s=this.getNextIndex(t);return this._splice(s,0,...d(e)),this._emitAfterChanges(1),this}removeAll(){if(!this.length||this._emitBeforeChanges(2))return[];const e=this._splice(0,this.length)||[];return this._emitAfterChanges(2),e}clone(){return this._createNewInstance({items:this._items.map(n.d9)})}concat(...e){const t=e.map(d);return this._createNewInstance({items:this._items.concat(...t)})}drain(e,t){if(!this.length||this._emitBeforeChanges(2))return;const s=(0,h.j0)(this._splice(0,this.length)),i=s.length;for(let r=0;r<i;r++)e.call(t,s[r],r,s);this._emitAfterChanges(2)}every(e,t){return this._items.every(e,t)}filter(e,t){let s;return s=2===arguments.length?this._items.filter(e,t):this._items.filter(e),this._createNewInstance({items:s})}find(e,t){return this._items.find(e,t)}findIndex(e,t){return this._items.findIndex(e,t)}flatten(e,t){const s=[];return y(s,this,e,t),new i(s)}forEach(e,t){return this._items.forEach(e,t)}getItemAt(e){return this._items[e]}getNextIndex(e){const t=this.length;return(e=null==e?t:e)<0?e=0:e>t&&(e=t),e}includes(e,t=0){return this._items.includes(e,t)}indexOf(e,t=0){return this._items.indexOf(e,t)}join(e=","){return this._items.join(e)}lastIndexOf(e,t=this.length-1){return this._items.lastIndexOf(e,t)}map(e,t){const s=this._items.map(e,t);return new i({items:s})}reorder(e,t=this.length-1){const s=this.indexOf(e);if(-1!==s){if(t<0?t=0:t>=this.length&&(t=this.length-1),s!==t){if(this._emitBeforeChanges(4))return e;this._splice(s,1),this._splice(t,0,e),this._emitAfterChanges(4)}return e}}pop(){if(!this.length||this._emitBeforeChanges(2))return;const e=g(this._splice(this.length-1,1));return this._emitAfterChanges(2),e}push(...e){return this._emitBeforeChanges(1)||(this._splice(this.length,0,...e),this._emitAfterChanges(1)),this.length}reduce(e,t){const s=this._items;return 2===arguments.length?s.reduce(e,t):s.reduce(e)}reduceRight(e,t){const s=this._items;return 2===arguments.length?s.reduceRight(e,t):s.reduceRight(e)}remove(e){return this.removeAt(this.indexOf(e))}removeAt(e){if(e<0||e>=this.length||this._emitBeforeChanges(2))return;const t=g(this._splice(e,1));return this._emitAfterChanges(2),t}removeMany(e){if(!e||!e.length||this._emitBeforeChanges(2))return[];const t=e instanceof i?e.toArray():e,s=this._items,r=[],n=t.length;for(let e=0;e<n;e++){const i=t[e],n=s.indexOf(i);if(n>-1){const i=1+v(t,s,e+1,n+1),h=this._splice(n,i);h&&h.length>0&&r.push.apply(r,h),e+=i-1}}return this._emitAfterChanges(2),r}reverse(){if(this._emitBeforeChanges(4))return this;const e=this._splice(0,this.length);return e&&(e.reverse(),this._splice(0,0,...e)),this._emitAfterChanges(4),this}shift(){if(!this.length||this._emitBeforeChanges(2))return;const e=g(this._splice(0,1));return this._emitAfterChanges(2),e}slice(e=0,t=this.length){return this._createNewInstance({items:this._items.slice(e,t)})}some(e,t){return this._items.some(e,t)}sort(e){if(!this.length||this._emitBeforeChanges(4))return this;const t=(0,h.j0)(this._splice(0,this.length));return arguments.length?t.sort(e):t.sort(),this._splice(0,0,...t),this._emitAfterChanges(4),this}splice(e,t,...s){const i=(t?2:0)|(s.length?1:0);if(this._emitBeforeChanges(i))return[];const r=this._splice(e,t,...s)||[];return this._emitAfterChanges(i),r}toArray(){return this._items.slice()}toJSON(){return this.toArray()}toLocaleString(){return this._items.toLocaleString()}toString(){return this._items.toString()}unshift(...e){return!e.length||this._emitBeforeChanges(1)||(this._splice(0,0,...e),this._emitAfterChanges(1)),this.length}_createNewInstance(e){return new this.constructor(e)}_splice(e,t,...s){const i=this._items,r=this.constructor.prototype.itemType;let n,h;if(!this._notifications&&this.hasEventListener("change")&&(this._notifications=[{listeners:this._chgListeners.slice(),items:this._items.slice(),changes:[]}],this._timer&&this._timer.remove(),this._timer=(0,f.Os)((()=>this._dispatchChange()))),t){if(h=i.splice(e,t),this.hasEventListener("before-remove")){const t=_.acquire();t.target=this,t.cancellable=!0;for(let s=0,r=h.length;s<r;s++)n=h[s],t.reset(n),this.emit("before-remove",t),t.defaultPrevented&&(h.splice(s,1),i.splice(e,0,n),e+=1,s-=1,r-=1);_.release(t)}if(this.length=this._items.length,this.hasEventListener("after-remove")){const e=_.acquire();e.target=this,e.cancellable=!1;const t=h.length;for(let s=0;s<t;s++)e.reset(h[s]),this.emit("after-remove",e);_.release(e)}}if(s&&s.length){if(r){const e=[];for(const t of s){const s=r.ensureType(t);null==s&&null!=t||e.push(s)}s=e}const t=this.hasEventListener("before-add"),n=this.hasEventListener("after-add"),h=e===this.length;if(t||n){const r=_.acquire();r.target=this,r.cancellable=!0;const o=_.acquire();o.target=this,o.cancellable=!1;for(const l of s)t?(r.reset(l),this.emit("before-add",r),r.defaultPrevented||(h?i.push(l):i.splice(e++,0,l),this._set("length",i.length),n&&(o.reset(l),this.emit("after-add",o)))):(h?i.push(l):i.splice(e++,0,l),this._set("length",i.length),o.reset(l),this.emit("after-add",o));_.release(o),_.release(r)}else{if(h)for(const e of s)i.push(e);else i.splice(e,0,...s);this._set("length",i.length)}}return(s&&s.length||h&&h.length)&&this._notifyChangeEvent(s,h),h}_emitBeforeChanges(e){let t=!1;if(this.hasEventListener("before-changes")){const s=_.acquire();s.target=this,s.cancellable=!0,s.type=e,this.emit("before-changes",s),t=s.defaultPrevented,_.release(s)}return t}_emitAfterChanges(e){if(this.hasEventListener("after-changes")){const t=_.acquire();t.target=this,t.cancellable=!1,t.type=e,this.emit("after-changes",t),_.release(t)}}_notifyChangeEvent(e,t){this.hasEventListener("change")&&this._notifications&&this._notifications[this._notifications.length-1].changes.push({added:e,removed:t})}_dispatchChange(){if(this._timer&&(this._timer.remove(),this._timer=null),!this._notifications)return;const e=this._notifications;this._notifications=null;for(const t of e){const e=t.changes;C.clear(),P.clear(),E.clear();for(const{added:t,removed:s}of e){if(t)if(0===E.size&&0===P.size)for(const e of t)C.add(e);else for(const e of t)P.has(e)?(E.add(e),P.delete(e)):E.has(e)||C.add(e);if(s)if(0===E.size&&0===C.size)for(const e of s)P.add(e);else for(const e of s)C.has(e)?C.delete(e):(E.delete(e),P.add(e))}const s=u.Z.acquire();C.forEach((e=>{s.push(e)}));const i=u.Z.acquire();P.forEach((e=>{i.push(e)}));const r=this._items,n=t.items,h=u.Z.acquire();if(E.forEach((e=>{n.indexOf(e)!==r.indexOf(e)&&h.push(e)})),t.listeners&&(s.length||i.length||h.length)){const e={target:this,added:s,removed:i,moved:h},r=t.listeners.length;for(let s=0;s<r;s++){const i=t.listeners[s];i.removed||i.callback.call(this,e)}}u.Z.release(s),u.Z.release(i),u.Z.release(h)}C.clear(),P.clear(),E.clear()}};w.ofType=e=>{if(!e)return i;if(A.has(e))return A.get(e);let t=null;if("function"==typeof e)t=e.prototype.declaredClass;else if(e.base)t=e.base.prototype.declaredClass;else for(const s in e.typeMap){const i=e.typeMap[s].prototype.declaredClass;t?t+=` | ${i}`:t=i}let s=class extends i{};s=(0,r._)([(0,a.j)(`esri.core.Collection<${t}>`)],s);const n={Type:e,ensureType:"function"==typeof e?(0,o.se)(e):(0,o.N7)(e)};return Object.defineProperty(s.prototype,"itemType",{value:n}),A.set(e,s),s},(0,r._)([(0,l.Cb)()],w.prototype,"length",void 0),(0,r._)([(0,l.Cb)()],w.prototype,"items",null),w=i=(0,r._)([(0,a.j)("esri.core.Collection")],w);const x=w},35470:(e,t,s)=>{"use strict";s.d(t,{Z:()=>l});var i=s(56140),r=s(5632),n=s(87566),h=s(82677);class o{constructor(){this._emitter=new o.EventEmitter(this)}emit(e,t){return this._emitter.emit(e,t)}on(e,t){return this._emitter.on(e,t)}once(e,t){return this._emitter.once(e,t)}hasEventListener(e){return this._emitter.hasEventListener(e)}}!function(e){class t{constructor(e=null){this.target=e,this._listenersMap=null}clear(){this._listenersMap&&this._listenersMap.clear()}emit(e,t){const s=this._listenersMap&&this._listenersMap.get(e);if(!s)return!1;const i=this.target||this;return[...s].forEach((e=>{e.call(i,t)})),s.length>0}on(e,t){if(Array.isArray(e)){const s=e.map((e=>this.on(e,t)));return(0,r.AL)(s)}if(e.indexOf(",")>-1)throw new TypeError("Evented.on() with a comma delimited string of event types is not supported");this._listenersMap||(this._listenersMap=new Map);const s=this._listenersMap.get(e)||[];return s.push(t),this._listenersMap.set(e,s),{remove:()=>{const s=this._listenersMap&&this._listenersMap.get(e)||[],i=s.indexOf(t);i>=0&&s.splice(i,1)}}}once(e,t){let s;return s=this.on(e,(e=>{s.remove(),t.call(null,e)})),s}hasEventListener(e){const t=this._listenersMap&&this._listenersMap.get(e);return null!=t&&t.length>0}}e.EventEmitter=t,e.EventedMixin=e=>{let s=class extends e{constructor(){super(...arguments),this._emitter=new t}emit(e,t){return this._emitter.emit(e,t)}on(e,t){return this._emitter.on(e,t)}once(e,t){return this._emitter.once(e,t)}hasEventListener(e){return this._emitter.hasEventListener(e)}};return s=(0,i._)([(0,n.j)("esri.core.Evented")],s),s};let s=class extends h.default{constructor(){super(...arguments),this._emitter=new o.EventEmitter(this)}emit(e,t){return this._emitter.emit(e,t)}on(e,t){return this._emitter.on(e,t)}once(e,t){return this._emitter.once(e,t)}hasEventListener(e){return this._emitter.hasEventListener(e)}};s=(0,i._)([(0,n.j)("esri.core.Evented")],s),e.EventedAccessor=s}(o||(o={}));const l=o},75044:(e,t,s)=>{"use strict";s.d(t,{D:()=>c,v:()=>a});var i=s(56140),r=s(59472),n=s(87566),h=s(39105),o=s(82677);class l{constructor(e){this.instance=e,this._resolver=(0,h.createDeferred)(),this._status=0,this._resolvingPromises=[],this._resolver.promise.then((()=>{this._status=1,this._cleanUp()}),(()=>{this._status=2,this._cleanUp()}))}addResolvingPromise(e){this._resolvingPromises.push(e),this._tryResolve()}isResolved(){return 1===this._status}isRejected(){return 2===this._status}isFulfilled(){return 0!==this._status}abort(){this._resolver.reject((0,h.createAbortError)())}when(e,t){return this._resolver.promise.then(e,t)}_cleanUp(){this._allPromise=this._resolvingPromises=this._allPromise=null}_tryResolve(){if(this.isFulfilled())return;const e=(0,h.createDeferred)(),t=[...this._resolvingPromises,(0,r.j0)(e.promise)],s=this._allPromise=(0,h.all)(t);s.then((()=>{this.isFulfilled()||this._allPromise!==s||this._resolver.resolve(this.instance)}),(e=>{this.isFulfilled()||this._allPromise!==s||(0,h.isAbortError)(e)||this._resolver.reject(e)})),e.resolve()}}const a=e=>{let t=class extends e{constructor(...e){super(...e),this._promiseProps=new l(this),this.addResolvingPromise((0,h.resolve)())}isResolved(){return this._promiseProps.isResolved()}isRejected(){return this._promiseProps.isRejected()}isFulfilled(){return this._promiseProps.isFulfilled()}when(e,t){return(0,h.create)(((e,t)=>{this._promiseProps.when(e,t)})).then(e,t)}catch(e){return this.when(null,e)}addResolvingPromise(e){e&&!this._promiseProps.isFulfilled()&&this._promiseProps.addResolvingPromise("_promiseProps"in e?e.when():e)}};return t=(0,i._)([(0,n.j)("esri.core.Promise")],t),t};let c=class extends(a(o.default)){};c=(0,i._)([(0,n.j)("esri.core.Promise")],c)},51894:(e,t,s)=>{"use strict";s.d(t,{B:()=>r});var i=s(79881);function r(e,t){const s=t?{...t,source:e}:e;return(0,i.Cb)({aliasOf:s})}},3814:(e,t,s)=>{"use strict";function i(e){return(t,s)=>{t[s]=e}}s.d(t,{c:()=>i})}},0,[[28066,3666,3347,515,9720,774],[60774,3666,3347,515,9720,774],[77312,3666,3347,515,9720,774]]]);
//# sourceMappingURL=appShell.js.map