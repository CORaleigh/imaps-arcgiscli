{"version":3,"sources":["webpack://imaps/./node_modules/@arcgis/core/chunks/persistableUrlUtils.js","webpack://imaps/./node_modules/@arcgis/core/core/Collection.js","webpack://imaps/./node_modules/@arcgis/core/core/Evented.js","webpack://imaps/./node_modules/@arcgis/core/core/Promise.js","webpack://imaps/./node_modules/@arcgis/core/core/accessorSupport/decorators/aliasOf.js","webpack://imaps/./node_modules/@arcgis/core/core/accessorSupport/decorators/shared.js"],"names":["n","r","o","s","url","path","preserveProtocolRelative","portalItem","readResourcePaths","t","itemUrl","p","test","push","resourceFromPath","U","portal","i","a","blockedRelativeUrls","u","verifyItemRelativeUrls","rootPath","writtenUrls","isPortal","urlKey","customBaseUrl","portalHostname","c","e","m","f","v","match","h","Object","freeze","__proto__","fromJSON","toJSON","read","write","itemIdFromResourceUrl","this","target","cancellable","defaultPrevented","item","type","g","x","toArray","length","Array","prototype","slice","apply","_","d","Math","min","forEach","call","Set","y","C","A","Map","b","super","_chgListeners","_notifications","_timer","_items","defineProperty","value","isArray","items","Symbol","iterator","_emitBeforeChanges","_splice","_emitAfterChanges","_emitter","hasEventListener","removed","callback","listeners","changes","remove","splice","indexOf","on","getNextIndex","_createNewInstance","map","concat","every","arguments","filter","find","findIndex","includes","join","lastIndexOf","reduce","reduceRight","removeAt","reverse","some","sort","toLocaleString","toString","constructor","itemType","_dispatchChange","acquire","reset","emit","release","ensureType","l","_set","_notifyChangeEvent","added","clear","size","add","has","delete","moved","ofType","get","declaredClass","base","typeMap","Type","set","EventEmitter","once","_listenersMap","TypeError","EventedMixin","EventedAccessor","instance","_resolver","_status","_resolvingPromises","promise","then","_cleanUp","_tryResolve","reject","_allPromise","isFulfilled","resolve","_promiseProps","addResolvingPromise","isResolved","isRejected","when","source","aliasOf"],"mappings":"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","file":"appShell.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{isSome as r}from\"../core/maybe.js\";import{makeAbsolute as t,makeRelative as e,isAbsolute as o,normalize as s,changeDomain as l,hasSameOrigin as a,appUrl as u}from\"../core/urlUtils.js\";function n(r,o){const s=o&&o.url&&o.url.path;if(r&&s&&(r=t(r,s,{preserveProtocolRelative:!0}),o.portalItem&&o.readResourcePaths)){const t=e(r,o.portalItem.itemUrl);p.test(t)&&o.readResourcePaths.push(o.portalItem.resourceFromPath(t).path)}return U(r,o&&o.portal)}function i(r,a){if(!r)return r;!o(r)&&a&&a.blockedRelativeUrls&&a.blockedRelativeUrls.push(r);let u=t(r);if(a){const t=a.verifyItemRelativeUrls&&a.verifyItemRelativeUrls.rootPath||a.url&&a.url.path;if(t){const o=U(t,a.portal);u=e(U(u,a.portal),o,o),u!==r&&a.verifyItemRelativeUrls&&a.verifyItemRelativeUrls.writtenUrls.push(u)}}return u=function(r,t){if(t&&!t.isPortal&&t.urlKey&&t.customBaseUrl)return l(r,`${t.urlKey}.${t.customBaseUrl}`,t.portalHostname);return r}(u,a&&a.portal),o(u)&&(u=s(u)),u}function c(r,t,e){return n(r,e)}function m(r,t,e,o){const s=i(r,o);void 0!==s&&(t[e]=s)}const f=/\\/items\\/([^\\/]+)\\/resources\\//,p=/^\\.\\/resources\\//;function v(t){const e=r(t)?t.match(f):null;return r(e)?e[1]:null}function U(r,t){if(!t||t.isPortal||!t.urlKey||!t.customBaseUrl)return r;const e=`${t.urlKey}.${t.customBaseUrl}`;return a(u,`${u.scheme}://${e}`)?l(r,t.portalHostname,e):l(r,e,t.portalHostname)}var h=Object.freeze({__proto__:null,fromJSON:n,toJSON:i,read:c,write:m,itemIdFromResourceUrl:v});export{n as f,v as i,h as p,c as r,i as t,m as w};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import{clone as t}from\"./lang.js\";import{assumeNonNull as s}from\"./maybe.js\";import{ensureType as i,ensureOneOfType as n}from\"./accessorSupport/ensureType.js\";import{property as r}from\"./accessorSupport/decorators/property.js\";import{subclass as h}from\"./accessorSupport/decorators/subclass.js\";import o from\"./ObjectPool.js\";import l from\"./ArrayPool.js\";import{schedule as a}from\"./scheduling.js\";import c from\"./Evented.js\";var f;const m=new o(class{constructor(){this.target=null,this.cancellable=!1,this.defaultPrevented=!1,this.item=void 0,this.type=void 0}preventDefault(){this.cancellable&&(this.defaultPrevented=!0)}reset(e){this.defaultPrevented=!1,this.item=e}},void 0,(e=>{e.item=null,e.target=null,e.defaultPrevented=!1,e.cancellable=!1})),u=()=>{};function g(e){return e?e instanceof x?e.toArray():e.length?Array.prototype.slice.apply(e):[]:[]}function _(e){if(e&&e.length)return e[0]}function d(e,t,s,i){const n=Math.min(e.length-s,t.length-i);let r=0;for(;r<n&&e[s+r]===t[i+r];)r++;return r}function p(e,t,s,i){t&&t.forEach(((t,n,r)=>{e.push(t),p(e,s.call(i,t,n,r),s,i)}))}const v=new Set,y=new Set,C=new Set,A=new Map;let b=0,x=f=class extends c.EventedAccessor{constructor(e){super(e),this._chgListeners=[],this._notifications=null,this._timer=null,this.length=0,this._items=[],Object.defineProperty(this,\"uid\",{value:b++})}static isCollection(e){return null!=e&&e instanceof f}normalizeCtorArgs(e){return e?Array.isArray(e)||e instanceof f?{items:e}:e:{}}*[Symbol.iterator](){yield*this.items}get items(){return this._items}set items(e){this._emitBeforeChanges(1)||(this._splice(0,this.length,...g(e)),this._emitAfterChanges(1))}hasEventListener(e){return\"change\"===e?this._chgListeners.length>0:this._emitter.hasEventListener(e)}on(e,t){if(\"change\"===e){const e=this._chgListeners,s={removed:!1,callback:t};return e.push(s),this._notifications&&this._notifications.push({listeners:e.slice(),items:this._items.slice(),changes:[]}),{remove(){this.remove=u,s.removed=!0,e.splice(e.indexOf(s),1)}}}return this._emitter.on(e,t)}once(e,t){const s=this.on(e,t);return{remove(){s.remove()}}}add(e,t){if(this._emitBeforeChanges(1))return this;const s=this.getNextIndex(null!=t?t:null);return this._splice(s,0,e),this._emitAfterChanges(1),this}addMany(e,t=this._items.length){if(!e||!e.length)return this;if(this._emitBeforeChanges(1))return this;const s=this.getNextIndex(t);return this._splice(s,0,...g(e)),this._emitAfterChanges(1),this}removeAll(){if(!this.length||this._emitBeforeChanges(2))return[];const e=this._splice(0,this.length)||[];return this._emitAfterChanges(2),e}clone(){return this._createNewInstance({items:this._items.map(t)})}concat(...e){const t=e.map(g);return this._createNewInstance({items:this._items.concat(...t)})}drain(e,t){if(!this.length||this._emitBeforeChanges(2))return;const i=s(this._splice(0,this.length)),n=i.length;for(let s=0;s<n;s++)e.call(t,i[s],s,i);this._emitAfterChanges(2)}every(e,t){return this._items.every(e,t)}filter(e,t){let s;return s=2===arguments.length?this._items.filter(e,t):this._items.filter(e),this._createNewInstance({items:s})}find(e,t){return this._items.find(e,t)}findIndex(e,t){return this._items.findIndex(e,t)}flatten(e,t){const s=[];return p(s,this,e,t),new f(s)}forEach(e,t){return this._items.forEach(e,t)}getItemAt(e){return this._items[e]}getNextIndex(e){const t=this.length;return(e=null==e?t:e)<0?e=0:e>t&&(e=t),e}includes(e,t=0){return this._items.includes(e,t)}indexOf(e,t=0){return this._items.indexOf(e,t)}join(e=\",\"){return this._items.join(e)}lastIndexOf(e,t=this.length-1){return this._items.lastIndexOf(e,t)}map(e,t){const s=this._items.map(e,t);return new f({items:s})}reorder(e,t=this.length-1){const s=this.indexOf(e);if(-1!==s){if(t<0?t=0:t>=this.length&&(t=this.length-1),s!==t){if(this._emitBeforeChanges(4))return e;this._splice(s,1),this._splice(t,0,e),this._emitAfterChanges(4)}return e}}pop(){if(!this.length||this._emitBeforeChanges(2))return;const e=_(this._splice(this.length-1,1));return this._emitAfterChanges(2),e}push(...e){return this._emitBeforeChanges(1)||(this._splice(this.length,0,...e),this._emitAfterChanges(1)),this.length}reduce(e,t){const s=this._items;return 2===arguments.length?s.reduce(e,t):s.reduce(e)}reduceRight(e,t){const s=this._items;return 2===arguments.length?s.reduceRight(e,t):s.reduceRight(e)}remove(e){return this.removeAt(this.indexOf(e))}removeAt(e){if(e<0||e>=this.length||this._emitBeforeChanges(2))return;const t=_(this._splice(e,1));return this._emitAfterChanges(2),t}removeMany(e){if(!e||!e.length||this._emitBeforeChanges(2))return[];const t=e instanceof f?e.toArray():e,s=this._items,i=[],n=t.length;for(let e=0;e<n;e++){const n=t[e],r=s.indexOf(n);if(r>-1){const n=1+d(t,s,e+1,r+1),h=this._splice(r,n);h&&h.length>0&&i.push.apply(i,h),e+=n-1}}return this._emitAfterChanges(2),i}reverse(){if(this._emitBeforeChanges(4))return this;const e=this._splice(0,this.length);return e&&(e.reverse(),this._splice(0,0,...e)),this._emitAfterChanges(4),this}shift(){if(!this.length||this._emitBeforeChanges(2))return;const e=_(this._splice(0,1));return this._emitAfterChanges(2),e}slice(e=0,t=this.length){return this._createNewInstance({items:this._items.slice(e,t)})}some(e,t){return this._items.some(e,t)}sort(e){if(!this.length||this._emitBeforeChanges(4))return this;const t=s(this._splice(0,this.length));return arguments.length?t.sort(e):t.sort(),this._splice(0,0,...t),this._emitAfterChanges(4),this}splice(e,t,...s){const i=(t?2:0)|(s.length?1:0);if(this._emitBeforeChanges(i))return[];const n=this._splice(e,t,...s)||[];return this._emitAfterChanges(i),n}toArray(){return this._items.slice()}toJSON(){return this.toArray()}toLocaleString(){return this._items.toLocaleString()}toString(){return this._items.toString()}unshift(...e){return!e.length||this._emitBeforeChanges(1)||(this._splice(0,0,...e),this._emitAfterChanges(1)),this.length}_createNewInstance(e){return new this.constructor(e)}_splice(e,t,...s){const i=this._items,n=this.constructor.prototype.itemType;let r,h;if(!this._notifications&&this.hasEventListener(\"change\")&&(this._notifications=[{listeners:this._chgListeners.slice(),items:this._items.slice(),changes:[]}],this._timer&&this._timer.remove(),this._timer=a((()=>this._dispatchChange()))),t){if(h=i.splice(e,t),this.hasEventListener(\"before-remove\")){const t=m.acquire();t.target=this,t.cancellable=!0;for(let s=0,n=h.length;s<n;s++)r=h[s],t.reset(r),this.emit(\"before-remove\",t),t.defaultPrevented&&(h.splice(s,1),i.splice(e,0,r),e+=1,s-=1,n-=1);m.release(t)}if(this.length=this._items.length,this.hasEventListener(\"after-remove\")){const e=m.acquire();e.target=this,e.cancellable=!1;const t=h.length;for(let s=0;s<t;s++)e.reset(h[s]),this.emit(\"after-remove\",e);m.release(e)}}if(s&&s.length){if(n){const e=[];for(const t of s){const s=n.ensureType(t);null==s&&null!=t||e.push(s)}s=e}const t=this.hasEventListener(\"before-add\"),r=this.hasEventListener(\"after-add\"),h=e===this.length;if(t||r){const n=m.acquire();n.target=this,n.cancellable=!0;const o=m.acquire();o.target=this,o.cancellable=!1;for(const l of s)t?(n.reset(l),this.emit(\"before-add\",n),n.defaultPrevented||(h?i.push(l):i.splice(e++,0,l),this._set(\"length\",i.length),r&&(o.reset(l),this.emit(\"after-add\",o)))):(h?i.push(l):i.splice(e++,0,l),this._set(\"length\",i.length),o.reset(l),this.emit(\"after-add\",o));m.release(o),m.release(n)}else{if(h)for(const e of s)i.push(e);else i.splice(e,0,...s);this._set(\"length\",i.length)}}return(s&&s.length||h&&h.length)&&this._notifyChangeEvent(s,h),h}_emitBeforeChanges(e){let t=!1;if(this.hasEventListener(\"before-changes\")){const s=m.acquire();s.target=this,s.cancellable=!0,s.type=e,this.emit(\"before-changes\",s),t=s.defaultPrevented,m.release(s)}return t}_emitAfterChanges(e){if(this.hasEventListener(\"after-changes\")){const t=m.acquire();t.target=this,t.cancellable=!1,t.type=e,this.emit(\"after-changes\",t),m.release(t)}}_notifyChangeEvent(e,t){this.hasEventListener(\"change\")&&this._notifications&&this._notifications[this._notifications.length-1].changes.push({added:e,removed:t})}_dispatchChange(){if(this._timer&&(this._timer.remove(),this._timer=null),!this._notifications)return;const e=this._notifications;this._notifications=null;for(const t of e){const e=t.changes;v.clear(),y.clear(),C.clear();for(const{added:t,removed:s}of e){if(t)if(0===C.size&&0===y.size)for(const e of t)v.add(e);else for(const e of t)y.has(e)?(C.add(e),y.delete(e)):C.has(e)||v.add(e);if(s)if(0===C.size&&0===v.size)for(const e of s)y.add(e);else for(const e of s)v.has(e)?v.delete(e):(C.delete(e),y.add(e))}const s=l.acquire();v.forEach((e=>{s.push(e)}));const i=l.acquire();y.forEach((e=>{i.push(e)}));const n=this._items,r=t.items,h=l.acquire();if(C.forEach((e=>{r.indexOf(e)!==n.indexOf(e)&&h.push(e)})),t.listeners&&(s.length||i.length||h.length)){const e={target:this,added:s,removed:i,moved:h},n=t.listeners.length;for(let s=0;s<n;s++){const i=t.listeners[s];i.removed||i.callback.call(this,e)}}l.release(s),l.release(i),l.release(h)}v.clear(),y.clear(),C.clear()}};x.ofType=t=>{if(!t)return f;if(A.has(t))return A.get(t);let s=null;if(\"function\"==typeof t)s=t.prototype.declaredClass;else if(t.base)s=t.base.prototype.declaredClass;else for(const e in t.typeMap){const i=t.typeMap[e].prototype.declaredClass;s?s+=` | ${i}`:s=i}let r=class extends f{};r=e([h(`esri.core.Collection<${s}>`)],r);const o={Type:t,ensureType:\"function\"==typeof t?i(t):n(t)};return Object.defineProperty(r.prototype,\"itemType\",{value:o}),A.set(t,r),r},e([r()],x.prototype,\"length\",void 0),e([r()],x.prototype,\"items\",null),x=f=e([h(\"esri.core.Collection\")],x);var E=x;export default E;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../chunks/tslib.es6.js\";import{handlesGroup as e}from\"./handleUtils.js\";import{subclass as s}from\"./accessorSupport/decorators/subclass.js\";import r from\"./Accessor.js\";class n{constructor(){this._emitter=new n.EventEmitter(this)}emit(t,e){return this._emitter.emit(t,e)}on(t,e){return this._emitter.on(t,e)}once(t,e){return this._emitter.once(t,e)}hasEventListener(t){return this._emitter.hasEventListener(t)}}!function(i){class o{constructor(t=null){this.target=t,this._listenersMap=null}clear(){this._listenersMap&&this._listenersMap.clear()}emit(t,e){const s=this._listenersMap&&this._listenersMap.get(t);if(!s)return!1;const r=this.target||this;return[...s].forEach((t=>{t.call(r,e)})),s.length>0}on(t,s){if(Array.isArray(t)){const r=t.map((t=>this.on(t,s)));return e(r)}if(t.indexOf(\",\")>-1)throw new TypeError(\"Evented.on() with a comma delimited string of event types is not supported\");this._listenersMap||(this._listenersMap=new Map);const r=this._listenersMap.get(t)||[];return r.push(s),this._listenersMap.set(t,r),{remove:()=>{const e=this._listenersMap&&this._listenersMap.get(t)||[],r=e.indexOf(s);r>=0&&e.splice(r,1)}}}once(t,e){let s;return s=this.on(t,(t=>{s.remove(),e.call(null,t)})),s}hasEventListener(t){const e=this._listenersMap&&this._listenersMap.get(t);return null!=e&&e.length>0}}i.EventEmitter=o,i.EventedMixin=e=>{let r=class extends e{constructor(){super(...arguments),this._emitter=new o}emit(t,e){return this._emitter.emit(t,e)}on(t,e){return this._emitter.on(t,e)}once(t,e){return this._emitter.once(t,e)}hasEventListener(t){return this._emitter.hasEventListener(t)}};return r=t([s(\"esri.core.Evented\")],r),r};let h=class extends r{constructor(){super(...arguments),this._emitter=new n.EventEmitter(this)}emit(t,e){return this._emitter.emit(t,e)}on(t,e){return this._emitter.on(t,e)}once(t,e){return this._emitter.once(t,e)}hasEventListener(t){return this._emitter.hasEventListener(t)}};h=t([s(\"esri.core.Evented\")],h),i.EventedAccessor=h}(n||(n={}));var i=n;export default i;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as s}from\"../chunks/tslib.es6.js\";import{assumeNonNull as e}from\"./maybe.js\";import{subclass as i}from\"./accessorSupport/decorators/subclass.js\";import{resolve as r,create as t,createDeferred as o,createAbortError as l,all as h,isAbortError as n}from\"./promiseUtils.js\";import m from\"./Accessor.js\";class _{constructor(s){this.instance=s,this._resolver=o(),this._status=0,this._resolvingPromises=[],this._resolver.promise.then((()=>{this._status=1,this._cleanUp()}),(()=>{this._status=2,this._cleanUp()}))}addResolvingPromise(s){this._resolvingPromises.push(s),this._tryResolve()}isResolved(){return 1===this._status}isRejected(){return 2===this._status}isFulfilled(){return 0!==this._status}abort(){this._resolver.reject(l())}when(s,e){return this._resolver.promise.then(s,e)}_cleanUp(){this._allPromise=this._resolvingPromises=this._allPromise=null}_tryResolve(){if(this.isFulfilled())return;const s=o(),i=[...this._resolvingPromises,e(s.promise)],r=this._allPromise=h(i);r.then((()=>{this.isFulfilled()||this._allPromise!==r||this._resolver.resolve(this.instance)}),(s=>{this.isFulfilled()||this._allPromise!==r||n(s)||this._resolver.reject(s)})),s.resolve()}}const p=e=>{let o=class extends e{constructor(...s){super(...s),this._promiseProps=new _(this),this.addResolvingPromise(r())}isResolved(){return this._promiseProps.isResolved()}isRejected(){return this._promiseProps.isRejected()}isFulfilled(){return this._promiseProps.isFulfilled()}when(s,e){return t(((s,e)=>{this._promiseProps.when(s,e)})).then(s,e)}catch(s){return this.when(null,s)}addResolvingPromise(s){s&&!this._promiseProps.isFulfilled()&&this._promiseProps.addResolvingPromise(\"_promiseProps\"in s?s.when():s)}};return o=s([i(\"esri.core.Promise\")],o),o};let u=class extends(p(m)){};u=s([i(\"esri.core.Promise\")],u);export{u as EsriPromise,p as EsriPromiseMixin};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{property as r}from\"./property.js\";function o(o,t){const e=t?{...t,source:o}:o;return r({aliasOf:e})}export{o as aliasOf};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nfunction n(n){return(r,t)=>{r[t]=n}}export{n as shared};\n"],"sourceRoot":""}