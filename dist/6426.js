(self.webpackChunkimaps=self.webpackChunkimaps||[]).push([[6426],{94850:(e,t,i)=>{"use strict";i.d(t,{Z:()=>W});var r,a=i(56140),s=(i(95830),i(36544)),n=i(79881),o=i(60263),l=i(87566),c=(i(10923),i(57002),i(86035),i(82677)),d=i(35470),p=i(22696),h=i(94588),u=i(82550),y=i(68055),f=i(60538),g=i(32656),v=i(39105),m=i(58385),_=i(83477),b=i(78745),w=i(3277),C=i(32105),T=i(809),I=i(1721),M=i(9870);let L=r=class extends m.wq{constructor(e){super(e),this.type="none"}clone(){return new r({type:this.type})}};var S;(0,a._)([(0,M.J)({none:"none",stayAbove:"stay-above"})],L.prototype,"type",void 0),L=r=(0,a._)([(0,l.j)("esri.ground.NavigationConstraint")],L);const k=s.Z.getLogger("esri.Ground");let x=S=class extends((0,m.eC)(T.Z)){constructor(e){super(e),this.opacity=1,this.surfaceColor=null,this.navigationConstraint=null,this.layers=new _.Z;const t=e=>{e.parent&&e.parent!==this&&"remove"in e.parent&&e.parent.remove(e),e.parent=this,"elevation"!==e.type&&"base-elevation"!==e.type&&k.error(`Layer '${e.title}, id:${e.id}' of type '${e.type}' is not supported as a ground layer and will therefore be ignored. Only layers of type 'elevation' are supported.`)};this.layers.on("after-add",(e=>t(e.item))),this.layers.on("after-remove",(e=>{e.item.parent=null}))}initialize(){this.when().catch((e=>{k.error("#load()","Failed to load ground",e)})),this.resourceInfo&&this.read(this.resourceInfo.data,this.resourceInfo.context)}destroy(){const e=this.layers.removeAll();for(const t of e)t.destroy();this.layers.destroy()}normalizeCtorArgs(e){return e&&"resourceInfo"in e&&(this._set("resourceInfo",e.resourceInfo),delete(e={...e}).resourceInfo),e}set layers(e){this._set("layers",(0,C.Z)(e,this._get("layers")))}writeLayers(e,t,i,r){const a=[];e?(r={...r,layerContainerType:"ground"},e.forEach((e=>{if("write"in e){const t={};(0,h.sM)(e)().write(t,r)&&a.push(t)}else r&&r.messages&&r.messages.push(new g.Z("layer:unsupported",`Layers (${e.title}, ${e.id}) of type '${e.declaredClass}' cannot be persisted in the ground`,{layer:e}))})),t.layers=a):t.layers=a}load(e){return this.addResolvingPromise(this._loadFromSource(e)),(0,v.resolve)(this)}loadAll(){return(0,I.GZ)(this,(e=>{e(this.layers)}))}async queryElevation(e,t){await this.load({signal:null==t?void 0:t.signal});const{ElevationQuery:r}=await Promise.all([i.e(8157),i.e(7333),i.e(3549)]).then(i.bind(i,93549));(0,v.throwIfAborted)(t);const a=new r,s=this.layers.filter(V).toArray();return a.queryAll(s,e,t)}async createElevationSampler(e,t){await this.load({signal:null==t?void 0:t.signal});const{ElevationQuery:r}=await Promise.all([i.e(8157),i.e(7333),i.e(3549)]).then(i.bind(i,93549));(0,v.throwIfAborted)(t);const a=new r,s=this.layers.filter(V).toArray();return a.createSamplerAll(s,e,t)}clone(){const e={opacity:this.opacity,surfaceColor:(0,u.d9)(this.surfaceColor),navigationConstraint:(0,u.d9)(this.navigationConstraint),layers:this.layers.slice()};return this.loaded&&(e.loadStatus="loaded"),new S({resourceInfo:this.resourceInfo}).set(e)}read(e,t){this.resourceInfo||this._set("resourceInfo",{data:e,context:t}),super.read(e,t)}_loadFromSource(e){const t=this.resourceInfo;return t?this._loadLayersFromJSON(t.data,t.context,e):(0,v.resolve)(null)}_loadLayersFromJSON(e,t,r){const a=t&&t.origin||"web-scene",s=t&&t.portal||null,n=t&&t.url||null;return i.e(7254).then(i.bind(i,87254)).then((({populateOperationalLayers:t})=>{(0,v.throwIfAborted)(r);const i=[];if(e.layers&&Array.isArray(e.layers)){const r={context:{origin:a,url:n,portal:s,layerContainerType:"ground"},defaultLayerType:"ArcGISTiledElevationServiceLayer"};i.push(t(this.layers,e.layers,r))}return(0,v.eachAlways)(i)})).then((()=>{}))}};function V(e){return"elevation"===e.type||function(e){return e&&"createElevationSampler"in e}(e)}(0,a._)([(0,n.Cb)({json:{read:!1}})],x.prototype,"layers",null),(0,a._)([(0,f.c)("layers")],x.prototype,"writeLayers",null),(0,a._)([(0,n.Cb)({readOnly:!0})],x.prototype,"resourceInfo",void 0),(0,a._)([(0,n.Cb)({type:Number,nonNullable:!0,range:{min:0,max:1},json:{type:y.z8,read:{reader:w.b,source:"transparency"},write:{writer:(e,t)=>{t.transparency=(0,w.a)(e)},target:"transparency"}}})],x.prototype,"opacity",void 0),(0,a._)([(0,n.Cb)({type:b.default,json:{type:[y.z8],write:(e,t)=>{t.surfaceColor=e.toJSON().slice(0,3)}}})],x.prototype,"surfaceColor",void 0),(0,a._)([(0,n.Cb)({type:L,json:{write:!0}})],x.prototype,"navigationConstraint",void 0),x=S=(0,a._)([(0,l.j)("esri.Ground")],x);const E=x;var D=i(78452),R=i(80882);const O=s.Z.getLogger("esri.support.groundUtils"),P={"world-elevation":{id:"worldElevation",url:"//elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/Terrain3D/ImageServer",layerType:"ArcGISTiledElevationServiceLayer"},"world-topobathymetry":{id:"worldTopoBathymetry",url:"//elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/TopoBathy3D/ImageServer",layerType:"ArcGISTiledElevationServiceLayer"}};var F=i(90921),N=i(16137);const A=s.Z.getLogger("esri.Map");let Z=class extends((0,N.Q)((0,F.K)(d.Z.EventedMixin(c.default)))){constructor(e){super(e),this.allLayers=new D.Z({root:this,rootCollectionNames:["basemap.baseLayers","ground.layers","layers","basemap.referenceLayers"],getChildrenFunction:e=>e.layers}),this.allTables=this._createTablesFlattener(this),this.basemap=null,this.ground=new E,this._basemapCache=(0,R.Df)()}destroy(){var e,t;this.allLayers.destroy(),this.allTables.destroy(),null==(e=this.ground)||e.destroy(),null==(t=this.basemap)||t.destroy(),(0,R.Bf)(this._basemapCache),this._basemapCache=null}castBasemap(e){return(0,R.se)(e,this._basemapCache)}castGround(e){return function(e){let t;return"string"==typeof e?e in P?t=new E({resourceInfo:{data:{layers:[P[e]]}}}):O.warn(`Unable to find ground definition for: ${e}. Try "world-elevation"`):t=(0,y.se)(E,e),t}(e)||(A.error("Map.ground may not be set to null or undefined"),this._get("ground"))}findLayerById(e){return this.allLayers.find((t=>t.id===e))}findTableById(e){return this.allTables.find((t=>t.id===e))}_createTablesFlattener(e){return new D.Z({root:e,rootCollectionNames:["tables","layers"],getChildrenFunction:e=>e&&"group"===e.type?this._createTablesFlattener(e):null,itemFilterFunction:e=>this._isMapOrGroupLayer(e.parent)&&e.parent.tables.includes(e)})}_isMapOrGroupLayer(e){return e&&(e===this||this._isGroupLayer(e))}_isGroupLayer(e){return e&&"group"===e.type}};(0,a._)([(0,n.Cb)({readOnly:!0,dependsOn:[],autoTracked:!1})],Z.prototype,"allLayers",void 0),(0,a._)([(0,n.Cb)({readOnly:!0})],Z.prototype,"allTables",void 0),(0,a._)([(0,n.Cb)({type:p.default})],Z.prototype,"basemap",void 0),(0,a._)([(0,o.p)("basemap")],Z.prototype,"castBasemap",null),(0,a._)([(0,n.Cb)({type:E,nonNullable:!0})],Z.prototype,"ground",void 0),(0,a._)([(0,o.p)("ground")],Z.prototype,"castGround",null),Z=(0,a._)([(0,l.j)("esri.Map")],Z);const W=Z},78452:(e,t,i)=>{"use strict";i.d(t,{Z:()=>c});var r=i(56140),a=i(79881),s=i(87566),n=i(83477),o=i(59691);let l=class extends n.Z{constructor(e){super(e),this._handles=new o.Z,this.root=null}initialize(){this._handles.add(this.rootCollectionNames.map((e=>this.watch("root."+e,(()=>this.updateCollections()),!0)))),this.updateCollections()}destroy(){this.root=null,this.refresh(),this._handles.destroy(),this._handles=null}updateCollections(){this._collections=this.rootCollectionNames.map((e=>this.get("root."+e))).filter((e=>null!=e)),this.refresh()}refresh(){const e=this._handles;e.remove("collections");const t=new Array;let i=0;for(const e of this._collections)i=this._processCollection(t,i,e);this.splice(i,this.length);for(const i of t)e.add(i.on("after-changes",(()=>this.refresh())),"collections")}_createNewInstance(e){return new n.Z(e)}_processCollection(e,t,i){return i?(e.push(i),i.forEach((i=>{if(i){if(!this.itemFilterFunction||this.itemFilterFunction(i)){const e=this.indexOf(i,t);e>=0?e!==t&&this.reorder(i,t):this.add(i,t),++t}this.getChildrenFunction&&(t=this._processCollection(e,t,this.getChildrenFunction(i)))}})),t):t}};(0,r._)([(0,a.Cb)()],l.prototype,"rootCollectionNames",void 0),(0,r._)([(0,a.Cb)()],l.prototype,"root",void 0),(0,r._)([(0,a.Cb)()],l.prototype,"getChildrenFunction",void 0),(0,r._)([(0,a.Cb)()],l.prototype,"itemFilterFunction",void 0),l=(0,r._)([(0,s.j)("esri.core.CollectionFlattener")],l);const c=l},77293:(e,t,i)=>{"use strict";function r(e,t){for(const[i,r]of e)if(t(r,i))return!0;return!1}i.d(t,{o:()=>r})},11555:(e,t,i)=>{"use strict";i.d(t,{R:()=>h});var r=i(56140),a=(i(95830),i(36544),i(68055),i(79881)),s=i(87566),n=(i(10923),i(57002),i(86035),i(82677)),o=i(18152),l=i(77204),c=i(24681),d=i(65287);const p={visible:"visibleSublayers",definitionExpression:"layerDefs",labelingInfo:"hasDynamicLayers",labelsVisible:"hasDynamicLayers",opacity:"hasDynamicLayers",minScale:"visibleSublayers",maxScale:"visibleSublayers",renderer:"hasDynamicLayers",source:"hasDynamicLayers"};let h=class extends((0,l.p)(n.default)){constructor(){super(...arguments),this._scale=null,this.view=null}destroy(){this.layer=this.view=null}get dynamicLayers(){if(!this.hasDynamicLayers)return null;const e=this.visibleSublayers.map((e=>e.toExportImageJSON()));return e.length?JSON.stringify(e):null}get hasDynamicLayers(){return this.layer&&(0,c.FN)(this.visibleSublayers,this.layer.serviceSublayers,this.layer)}set layer(e){this._get("layer")!==e&&(this._set("layer",e),this.handles.remove("layer"),e&&this.handles.add([e.allSublayers.on("change",(()=>this.notifyChange("visibleSublayers"))),e.on("sublayer-update",(e=>this.notifyChange(p[e.propertyName])))],"layer"))}get layers(){const e=this.visibleSublayers;return e?e.length?"show:"+e.map((e=>e.id)).join(","):"show:-1":null}get layerDefs(){const e=this.visibleSublayers.filter((e=>null!=e.definitionExpression));return e.length?JSON.stringify(e.reduce(((e,t)=>(e[t.id]=t.definitionExpression,e)),{})):null}get scale(){return null!=this._scale?this._scale:this.view&&this.view.scale||0}set scale(e){this.view||(this._scale=e,this.notifyChange("scale"))}get version(){const e=this;e.layers,e.layerDefs,e.dynamicLayers,e.timeExtent;const t=e.layer;return t&&(t.dpi,t.imageFormat,t.imageTransparency,t.gdbVersion),(this._get("version")||0)+1}set version(e){this._set("version",e)}get visibleSublayers(){const e=[];if(!this.layer)return e;const t=this.layer.sublayers,i=t=>{const r=this.scale,a=0===r,s=0===t.minScale||r<=t.minScale,n=0===t.maxScale||r>=t.maxScale;t.visible&&(a||s&&n)&&(t.sublayers?t.sublayers.forEach(i):e.unshift(t))};t&&t.forEach(i);const r=this._get("visibleSublayers");return!r||r.length!==e.length||r.some(((t,i)=>e[i]!==t))?e:r}toJSON(){const e=this.layer;let t={dpi:e.dpi,format:e.imageFormat,transparent:e.imageTransparency,gdbVersion:e.gdbVersion||null};return this.hasDynamicLayers&&this.dynamicLayers?t.dynamicLayers=this.dynamicLayers:t={...t,layers:this.layers,layerDefs:this.layerDefs},t}};(0,r._)([(0,a.Cb)({readOnly:!0,dependsOn:["hasDynamicLayers","visibleSublayers"]})],h.prototype,"dynamicLayers",null),(0,r._)([(0,a.Cb)({readOnly:!0,dependsOn:["visibleSublayers","layer.serviceSublayers","layer.capabilities"]})],h.prototype,"hasDynamicLayers",null),(0,r._)([(0,a.Cb)()],h.prototype,"layer",null),(0,r._)([(0,a.Cb)({readOnly:!0,dependsOn:["visibleSublayers"]})],h.prototype,"layers",null),(0,r._)([(0,a.Cb)({readOnly:!0,dependsOn:["visibleSublayers"]})],h.prototype,"layerDefs",null),(0,r._)([(0,a.Cb)({type:Number,dependsOn:["view.scale"]})],h.prototype,"scale",null),(0,r._)([(0,a.Cb)(o.qG)],h.prototype,"timeExtent",void 0),(0,r._)([(0,a.Cb)({dependsOn:["layers","layerDefs","dynamicLayers","layer.dpi","layer.imageFormat","layer.imageTransparency","layer.gdbVersion","timeExtent"]})],h.prototype,"version",null),(0,r._)([(0,a.Cb)({type:d.Z})],h.prototype,"view",void 0),(0,r._)([(0,a.Cb)({readOnly:!0,dependsOn:["layer.sublayers","scale"]})],h.prototype,"visibleSublayers",null),h=(0,r._)([(0,s.j)("esri.layers.mixins.ExportImageParameters")],h)},97849:(e,t,i)=>{"use strict";i.d(t,{ld:()=>p,B5:()=>c,M8:()=>u,h3:()=>m,G:()=>v,Qc:()=>d,Nm:()=>y,XG:()=>f,a7:()=>h,wH:()=>g});var r=i(59472),a=i(10923),s=i(37704);const n=["MapServer","ImageServer","FeatureServer","SceneServer","StreamServer","VectorTileServer"],o=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/rest\\/services\\/(.+?)\\/(${n.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),l=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/([^\\/\\n]+)\\/(${n.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i");function c(e){return!!o.test(e)}function d(e){const t=(0,a.mN)(e),i=t.path.match(o)||t.path.match(l);if(!i)return null;const[,r,s,n,c]=i,d=s.indexOf("/");return{title:p(-1!==d?s.slice(d+1):s),serverType:n,sublayer:null!=c&&""!==c?parseInt(c,10):null,url:{path:r}}}function p(e){return(e=e.replace(/\s*[/_]+\s*/g," "))[0].toUpperCase()+e.slice(1)}function h(e,t){const i=[];if(e){const t=d(e);(0,r.pC)(t)&&t.title&&i.push(t.title)}if(t){const e=p(t);i.push(e)}if(2===i.length){if(-1!==i[0].toLowerCase().indexOf(i[1].toLowerCase()))return i[0];if(-1!==i[1].toLowerCase().indexOf(i[0].toLowerCase()))return i[1]}return i.join(" - ")}function u(e){if(!e)return!1;const t=-1!==(e=e.toLowerCase()).indexOf(".arcgis.com/"),i=-1!==e.indexOf("//services")||-1!==e.indexOf("//tiles")||-1!==e.indexOf("//features");return t&&i}function y(e,t){return e?(0,a.Qj)((0,a.Hu)(e,t)):e}function f(e,t,i){if(!t)return{url:t};t=(0,a.Hu)(t,i);const s=d((0,a.mN)(t).path);let n;return(0,r.pC)(s)&&(null!=s.sublayer&&null==e.layerId&&(n=s.sublayer),t=s.url.path),{url:(0,a.Qj)(t),layerId:n}}function g(e,t,i,r,n){(0,s.w)(t,r,"url",n),r.url&&null!=e.layerId&&(r.url=(0,a.v_)(r.url,i,e.layerId.toString()))}function v(e){if(!e)return!1;const t=e.toLowerCase(),i=-1!==t.indexOf("/services/"),r=-1!==t.indexOf("/mapserver/wmsserver"),a=-1!==t.indexOf("/imageserver/wmsserver"),s=-1!==t.indexOf("/wmsserver");return i&&(r||a||s)}function m(e){if(!e)return!1;const t=new a.R9((0,a.hF)(e)).authority.toLowerCase();return"server.arcgisonline.com"===t||"services.arcgisonline.com"===t}},24681:(e,t,i)=>{"use strict";function r(e,t,i){return t.flatten((({sublayers:e})=>e)).length!==e.length||(!!e.some((e=>e.originIdOf("minScale")>i||e.originIdOf("maxScale")>i||e.originIdOf("renderer")>i||e.originIdOf("labelingInfo")>i||e.originIdOf("opacity")>i||e.originIdOf("labelsVisible")>i||e.originIdOf("source")>i))||!s(e,t))}function a(e,t,i){return!!e.some((e=>{const t=e.source;return!(!t||"map-layer"===t.type&&t.mapLayerId===e.id&&(!t.gdbVersion||t.gdbVersion===i.gdbVersion))||e.originIdOf("renderer")>2||e.originIdOf("labelingInfo")>2||e.originIdOf("opacity")>2||e.originIdOf("labelsVisible")>2}))||!s(e,t)}function s(e,t){if(!e||!e.length)return!0;const i=t.slice().reverse().flatten((({sublayers:e})=>e&&e.toArray().reverse())).map((e=>e.id)).toArray();if(e.length>i.length)return!1;let r=0;const a=i.length;for(const{id:t}of e){for(;r<a&&i[r]!==t;)r++;if(r>=a)return!1}return!0}function n(e){return!!e&&e.some((e=>null!=e.minScale||e.layerDefinition&&null!=e.layerDefinition.minScale))}i.d(t,{FN:()=>a,ac:()=>n,QV:()=>r})},90921:(e,t,i)=>{"use strict";i.d(t,{K:()=>y});var r=i(56140),a=(i(95830),i(36544)),s=(i(68055),i(79881)),n=i(87566),o=(i(10923),i(57002),i(86035),i(39105)),l=i(83477),c=i(32105),d=i(56700);function p(e){return e&&"group"===e.type}function h(e,t,i){let r,a;if(e)for(let s=0,n=e.length;s<n;s++){if(r=e.getItemAt(s),r[t]===i)return r;if(p(r)&&(a=h(r.layers,t,i),a))return a}}const u=a.Z.getLogger("esri.support.LayersMixin"),y=e=>{let t=class extends e{constructor(...e){super(...e),this.layers=new l.Z;const t=e=>{e.parent=this,this.layerAdded(e),"elevation"!==e.type&&"base-elevation"!==e.type||u.error(`Layer 'title:${e.title}, id:${e.id}' of type '${e.type}' is not supported as an operational layer and will therefore be ignored.`)},i=e=>{e.parent=null,this.layerRemoved(e)};this.layers.on("before-add",(e=>{var t;(t=e.item).parent&&"remove"in t.parent&&t.parent.remove(t)})),this.layers.on("after-add",(e=>t(e.item))),this.layers.on("after-remove",(e=>i(e.item)))}destroy(){const e=this.layers.removeAll();for(const t of e)this.layerRemoved(t),t.destroy();this.layers.destroy()}set layers(e){this._set("layers",(0,c.Z)(e,this._get("layers")))}add(e,t){const i=this.layers;t=i.getNextIndex(t),e instanceof d.Z?e.parent===this?this.reorder(e,t):i.add(e,t):(0,o.isPromiseLike)(e)?e.then((e=>{this.destroyed||this.add(e,t)})):u.error("#add()","The item being added is not a Layer or a Promise that resolves to a Layer.")}addMany(e,t){const i=this.layers;t=i.getNextIndex(t),e.slice().forEach((e=>{e.parent!==this?(i.add(e,t),t+=1):this.reorder(e,t)}))}findLayerById(e){return h(this.layers,"id",e)}findLayerByUid(e){return h(this.layers,"uid",e)}remove(e){return this.layers.remove(e)}removeMany(e){return this.layers.removeMany(e)}removeAll(){return this.layers.removeAll()}reorder(e,t){return this.layers.reorder(e,t)}layerAdded(e){}layerRemoved(e){}};return(0,r._)([(0,s.Cb)()],t.prototype,"layers",null),t=(0,r._)([(0,n.j)("esri.support.LayersMixin")],t),t}},16137:(e,t,i)=>{"use strict";i.d(t,{Q:()=>h});var r=i(56140),a=(i(95830),i(36544)),s=(i(68055),i(79881)),n=i(87566),o=(i(10923),i(57002),i(86035),i(83477)),l=i(32105);const c=a.Z.getLogger("esri.support.TablesMixin");function d(e){return e&&"group"===e.type}function p(e,t,i){if(e)for(let r=0,a=e.length;r<a;r++){const a=e.getItemAt(r);if(a[t]===i)return a;if(d(a)){const e=p(a.tables,t,i);if(e)return e}}}const h=e=>{let t=class extends e{constructor(...e){super(...e),this.tables=new o.Z,this.tables.on("after-add",(e=>{const t=e.item;t.parent&&t.parent!==this&&"tables"in t.parent&&t.parent.tables.remove(t),t.parent=this,"feature"!==t.type&&c.error(`Layer 'title:${t.title}, id:${t.id}' of type '${t.type}' is not supported as a table and will therefore be ignored.`)})),this.tables.on("after-remove",(e=>{e.item.parent=null}))}destroy(){const e=this.tables.removeAll();for(const t of e)t.destroy();this.tables.destroy()}set tables(e){this._set("tables",(0,l.Z)(e,this._get("tables")))}findTableById(e){return p(this.tables,"id",e)}findTableByUid(e){return p(this.tables,"uid",e)}};return(0,r._)([(0,s.Cb)()],t.prototype,"tables",null),t=(0,r._)([(0,n.j)("esri.support.TablesMixin")],t),t}},80882:(e,t,i)=>{"use strict";i.d(t,{Bj:()=>y,Df:()=>d,Bf:()=>p,se:()=>h,tR:()=>u,zb:()=>f,aL:()=>g});var r=i(36544),a=i(68055),s=i(10923),n=i(83477),o=i(93776),l=i(22696);const c=r.Z.getLogger("esri.support.basemapUtils");function d(){return{}}function p(e){for(const t in e){const i=e[t];!1===(null==i?void 0:i.destroyed)&&i.destroy(),delete e[t]}}function h(e,t){var i;let r;if("string"==typeof e){if(!(e in o.s)){const t=Object.keys(o.s).map((e=>`"${e}"`)).join(", ");return c.warn(`Unable to find basemap definition for: ${e}. Try one of these: ${t}`),null}t&&(r=t[e]),r||(r=l.default.fromId(e),t&&(t[e]=r))}else r=(0,a.se)(l.default,e);return null!=(i=r)&&i.destroyed&&(c.warn("The provided basemap is already destroyed",{basemap:r}),r=null),r}function u(e){let t=null;const i=_(e),r=!i.baseLayers.length;for(const e in o.s){const a=I(i,C(o.s[e]),{mustMatchReferences:r});if("equal"===a){t=e;break}"base-layers-equal"===a&&(t=e)}return t}function y(e,t){return e===t||"equal"===I(_(e),_(t),{mustMatchReferences:!0})}function f(e){return!(null==e||!e.baseLayers.concat(e.referenceLayers).some(g))}function g(e){if(m(e.url))return!0;if("vector-tile"===e.type)for(const t in e.sourceNameToSource){const i=e.sourceNameToSource[t];if(m(null==i?void 0:i.sourceUrl))return!0}return!1}const v=/^(basemaps|ibasemaps).*-api\.arcgis\.com$/i;function m(e){if(!e)return!1;const t=new s.R9((0,s.hF)(e));return v.test(t.authority)}function _(e){return e?!e.loaded&&e.resourceInfo?C(e.resourceInfo.data):{baseLayers:b(e.baseLayers),referenceLayers:b(e.referenceLayers)}:null}function b(e){return(n.Z.isCollection(e)?e.toArray():e).map(w)}function w(e){return{type:e.type,url:S("urlTemplate"in e&&e.urlTemplate||e.url||"styleUrl"in e&&e.styleUrl),minScale:"minScale"in e&&null!=e.minScale?e.minScale:0,maxScale:"maxScale"in e&&null!=e.maxScale?e.maxScale:0,opacity:null!=e.opacity?e.opacity:1,visible:null==e.visible||!!e.visible}}function C(e){return e?{baseLayers:T(e.baseMapLayers.filter((e=>!e.isReference))),referenceLayers:T(e.baseMapLayers.filter((e=>e.isReference)))}:null}function T(e){return e.map((e=>function(e){let t;switch(e.layerType){case"VectorTileLayer":t="vector-tile";break;case"ArcGISTiledMapServiceLayer":t="tile";break;default:t="unknown"}return{type:t,url:S(e.templateUrl||e.urlTemplate||e.styleUrl||e.url),minScale:null!=e.minScale?e.minScale:0,maxScale:null!=e.maxScale?e.maxScale:0,opacity:null!=e.opacity?e.opacity:1,visible:null==e.visibility||!!e.visibility}}(e)))}function I(e,t,i){return null!=e!=(null!=t)?"not-equal":e?M(e.baseLayers,t.baseLayers)?M(e.referenceLayers,t.referenceLayers)?"equal":i.mustMatchReferences?"not-equal":"base-layers-equal":"not-equal":"equal"}function M(e,t){if(e.length!==t.length)return!1;for(let i=0;i<e.length;i++)if(!L(e[i],t[i]))return!1;return!0}function L(e,t){return e.type===t.type&&e.url===t.url&&e.minScale===t.minScale&&e.maxScale===t.maxScale&&e.visible===t.visible&&e.opacity===t.opacity}function S(e){return e?(0,s.Fv)(e).replace(/^\s*https?:/i,"").toLowerCase():""}},65287:(e,t,i)=>{"use strict";i.d(t,{Z:()=>Ee});var r=i(56140),a=(i(95830),i(59472)),s=i(36544),n=(i(68055),i(79881)),o=i(51894),l=i(87566),c=i(32656),d=(i(10923),i(57002),i(86035),i(39105)),p=i(74386),h=i(82677),u=i(27780),y=i(73032),f=i(52937),g=i(35470),v=i(83477),m=i(75044),_=i(809),b=i(78452),w=i(94850),C=i(87864),T=i(80621),I=i(19048),M=i(77204),L=i(99322);let S=class extends h.default{constructor(e){super(e),this.view=null,this.baseLayerViews=new v.Z,this.referenceLayerViews=new v.Z,this._loadingHandle=(0,T.init)(this,"view.map.basemap",(e=>{e&&e.load().catch((()=>{}))}))}destroy(){this._set("view",null),this._loadingHandle&&(this._loadingHandle.remove(),this._loadingHandle=null)}get suspended(){return!this.view||this.view.suspended}get updating(){return!(this.view&&this.view.suspended||!(this.view&&this.view.map&&this.view.map.basemap)||this.view.map.basemap.loaded)}};(0,r._)([(0,n.Cb)({constructOnly:!0})],S.prototype,"view",void 0),(0,r._)([(0,n.Cb)({readOnly:!0})],S.prototype,"baseLayerViews",void 0),(0,r._)([(0,n.Cb)({readOnly:!0})],S.prototype,"referenceLayerViews",void 0),(0,r._)([(0,n.Cb)({readOnly:!0,dependsOn:["view.suspended"]})],S.prototype,"suspended",null),(0,r._)([(0,n.Cb)({type:Boolean,readOnly:!0,dependsOn:["view.suspended","view.map.basemap.loaded"]})],S.prototype,"updating",null),S=(0,r._)([(0,l.j)("esri.views.BasemapView")],S);var k=i(45671),x=i(77293);const V=s.Z.getLogger("esri.views.LayerViewManager");class E{constructor(e,t,i){this.layer=e,this.view=t,this.layerViewImporter=i,this._controller=(0,d.createAbortController)(),this._deferred=(0,d.createDeferred)(),this._started=!1,this.done=!1,(0,d.onAbort)(this._controller.signal,(()=>{const t=new c.Z("cancelled:layerview-create","layerview creation cancelled",{layer:e});this._deferred.reject(t)}))}get promise(){return this._deferred.promise}destroy(){this._controller.abort();const{layerView:e}=this;if(!e)return;const{layer:t,view:i}=this;t.emit("layerview-destroy",{view:i,layerView:e}),i.emit("layerview-destroy",{layer:t,layerView:e}),this.done=!0,this.layer=null,this.layerView=null,this.view=null,this.layerViewImporter=null}async start(){if(this._started)return;this._started=!0;const{_controller:{signal:e},layer:t,view:i}=this;this._map=i.map;try{var r,s;let n,o;if(await t.load({signal:e}),"prefetchResources"in t&&await t.prefetchResources({signal:e}),t.createLayerView)n=await t.createLayerView(i,{signal:e});else{if(!this.layerViewImporter.hasLayerViewModule(t))throw new c.Z("layer:view-not-supported","No layerview implementation was found");const r=await this.layerViewImporter.importLayerView(t);(0,d.throwIfAborted)(e),n="default"in r?new r.default({layer:t,view:i}):new r({layer:t,view:i})}const l=()=>{o=(0,a.hw)(o),n.destroy(),n.layer=null,n.parent=null,n.view=null,this.done=!0};o=(0,d.onAbort)(e,l),(0,d.throwIfAborted)(e);try{await n.when()}catch(e){throw l(),e}if(!(null==(r=this._map)||null==(s=r.allLayers)?void 0:s.includes(t)))return l(),void this._deferred.reject(new c.Z("view:no-layerview-for-layer","The layer has been removed from the map",{layer:t}));this.layerView=n,t.emit("layerview-create",{view:i,layerView:n}),i.emit("layerview-create",{layer:t,layerView:n}),this.done=!0,this._deferred.resolve(n)}catch(e){t.emit("layerview-create-error",{view:i,error:e}),i.emit("layerview-create-error",{layer:t,error:e}),this.done=!0,this._deferred.reject(new c.Z("layerview:create-error","layerview creation failed",{layer:t,error:e}))}}}let D=class extends M.r{constructor(e){super(e),this._layerLayerViewInfoMap=new Map,this._watchUpdatingTracking=new k.t,this.supportsGround=!0,this._preloadLayerViewModules=()=>{var e;const t=null==(e=this.view.map)?void 0:e.allLayers;if(t)for(const e of t)this.layerViewImporter.hasLayerViewModule(e)&&this.layerViewImporter.importLayerView(e)},this._reschedule=()=>((0,a.Wi)(this._workPromise)&&(this._workPromise=(0,d.createDeferred)()),this.handles.remove("reschedule"),this.handles.add((0,p.Os)(this._doWork),"reschedule"),this._workPromise.promise),this._doWork=()=>{var e,t,i;const r=this.view.map;if(this._map!==r&&(this.clear(),this._map=r),(0,a.Wi)(this._workPromise))return void this.notifyChange("updating");this.handles.remove("reschedule"),this.handles.remove("collection-change");const s=new b.Z({root:this,rootCollectionNames:this._rootCollectionNames,getChildrenFunction:e=>e.layers});if(!s)return this._workPromise.resolve(),void(this._workPromise=null);for(const e of s)this._createLayerView(e);this._refreshCollections();for(const[e,t]of this._layerLayerViewInfoMap)s.includes(e)||(this._layerLayerViewInfoMap.delete(t.layer),t.destroy());const n=s.filter((e=>"group"===e.type)).map((e=>e.layers)),o=[null==r||null==(e=r.ground)?void 0:e.layers,null==r||null==(t=r.basemap)?void 0:t.baseLayers,null==r||null==(i=r.basemap)?void 0:i.referenceLayers,null==r?void 0:r.layers,...n].filter((e=>!!e));this.handles.add(o.map((e=>this._watchUpdatingTracking.addOnCollectionChange(e,this._reschedule))),"collection-change"),this._workPromise.resolve(),this._workPromise=null}}initialize(){this.handles.add([(0,T.on)(this,"view.map.allLayers","change",this._preloadLayerViewModules,this._preloadLayerViewModules),(0,T.init)(this.view,["map.basemap","map.ground","map.layers","ready"],this._reschedule,!0)]),this._preloadLayerViewModules(),this._reschedule()}destroy(){this.clear(),this._watchUpdatingTracking.destroy(),this._map=null}get _layersToLayerViews(){const e=[["view.map.basemap.baseLayers","view.basemapView.baseLayerViews"],["view.map.layers","view.layerViews"],["view.map.basemap.referenceLayers","view.basemapView.referenceLayerViews"]];return this.supportsGround&&e.push(["view.map.ground.layers","view.groundView.layerViews"]),new Map(e)}get _rootCollectionNames(){return Array.from(this._layersToLayerViews.keys())}get updating(){return!(!(0,a.pC)(this._workPromise)&&!this._watchUpdatingTracking.updating)||(0,x.o)(this._layerLayerViewInfoMap,(e=>!e.done))}clear(){if(!this.destroyed){for(const e of this._layerLayerViewInfoMap.values())e.destroy();this._layerLayerViewInfoMap.clear(),this._refreshCollections()}}async whenLayerView(e){return await this._reschedule(),this._layerLayerViewInfoMap.has(e)?this._layerLayerViewInfoMap.get(e).promise:(0,d.reject)(new c.Z("view:no-layerview-for-layer","No layerview has been found for the layer",{layer:e}))}_refreshCollections(){for(const[e,t]of this._layersToLayerViews)this._populateLayerViewsOwners(this.get(e),this.get(t),this.view);this.notifyChange("updating")}_populateLayerViewsOwners(e,t,i){if(!e||!t)return void(t&&t.removeAll());let r=0;for(const a of e){const e=this._layerLayerViewInfoMap.get(a);if(!e||!e.layerView)continue;const s=e.layerView;s.layer=a,s.parent=i,t.getItemAt(r)!==s&&t.splice(r,0,s),a.layers&&this._populateLayerViewsOwners(a.layers,s.layerViews,s),r+=1}r<t.length&&t.splice(r,t.length)}_createLayerView(e){if(this._layerLayerViewInfoMap.has(e))return this.view.ready&&this._layerLayerViewInfoMap.get(e).start(),void this.notifyChange("updating");e.load().catch((()=>{})),this.layerViewImporter.hasLayerViewModule(e)&&this.layerViewImporter.importLayerView(e);const t=new E(e,this.view,this.layerViewImporter);t.promise.then((()=>this._refreshCollections()),(t=>{var i,r;t&&((0,d.isAbortError)(t)||"cancelled:layerview-create"===t.name)||V.error(`Failed to create layerview for layer title:'${null!=(i=e.title)?i:"no title"}', id:'${null!=(r=e.id)?r:"no id"}' of type '${e.type}'.`,{layer:e,error:t}),this._refreshCollections()})),this._layerLayerViewInfoMap.set(e,t),this.view.ready&&t.start(),this.notifyChange("updating")}};(0,r._)([(0,n.Cb)()],D.prototype,"_workPromise",void 0),(0,r._)([(0,n.Cb)({readOnly:!0})],D.prototype,"_watchUpdatingTracking",void 0),(0,r._)([(0,n.Cb)({dependsOn:["supportsGround"],readOnly:!0})],D.prototype,"_layersToLayerViews",null),(0,r._)([(0,n.Cb)({dependsOn:["_layersToLayerViews"],readOnly:!0})],D.prototype,"_rootCollectionNames",null),(0,r._)([(0,n.Cb)()],D.prototype,"layerViewImporter",void 0),(0,r._)([(0,n.Cb)()],D.prototype,"supportsGround",void 0),(0,r._)([(0,n.Cb)({readOnly:!0,dependsOn:["_workPromise","_watchUpdatingTracking.updating"]})],D.prototype,"updating",null),(0,r._)([(0,n.Cb)({constructOnly:!0})],D.prototype,"view",void 0),D=(0,r._)([(0,l.j)("esri.views.LayerViewManager")],D);const R=D;let O=class extends h.default{constructor(e){super(e),this.factor=1.5,this.offsetX=0,this.offsetY=0,this.position=null,this.size=120,this.mask=null,this.maskEnabled=!0,this.overlay=null,this.overlayEnabled=!0,this.visible=!1}get version(){return this.factor,this.offsetX,this.offsetY,this.position,this.visible,this.size,this.mask,this.maskEnabled,this.overlay,this.overlayEnabled,(this._get("version")||0)+1}};(0,r._)([(0,n.Cb)({type:Number})],O.prototype,"factor",void 0),(0,r._)([(0,n.Cb)({type:Number})],O.prototype,"offsetX",void 0),(0,r._)([(0,n.Cb)({type:Number})],O.prototype,"offsetY",void 0),(0,r._)([(0,n.Cb)()],O.prototype,"position",void 0),(0,r._)([(0,n.Cb)({type:Number,range:{min:0}})],O.prototype,"size",void 0),(0,r._)([(0,n.Cb)()],O.prototype,"mask",void 0),(0,r._)([(0,n.Cb)()],O.prototype,"maskEnabled",void 0),(0,r._)([(0,n.Cb)()],O.prototype,"overlay",void 0),(0,r._)([(0,n.Cb)()],O.prototype,"overlayEnabled",void 0),(0,r._)([(0,n.Cb)({readOnly:!0,dependsOn:["factor","offsetX","offsetY","position","visible","mask","overlay","maskEnabled","overlayEnabled","size"]})],O.prototype,"version",null),(0,r._)([(0,n.Cb)({type:Boolean})],O.prototype,"visible",void 0),O=(0,r._)([(0,l.j)("esri.views.Magnifier")],O);const P=O;var F=i(59691),N=i(12421);let A=class extends h.default{constructor(){super(...arguments),this._handles=new F.Z,this._currentTick=0}initialize(){this._handles.add([this.view.allLayerViews.on("after-changes",(()=>{this.notifyChange("tickInterval"),this._handles.remove("layerViewsUpdating"),this._handles.add(this._getLayerViewHandles(),"layerViewsUpdating")})),this.watch("tickInterval",(()=>this._restartTicking())),this.watch("view.ready",(()=>this._restartTicking()))]),this._restartTicking()}destroy(){this._handles&&(this._handles.destroy(),this._handles=null,this._intervalID&&clearInterval(this._intervalID),this._currentTick=0)}get tickInterval(){const e=this.view.allLayerViews.filter((e=>(0,N.N)(e)));return this._getCommonInterval(e)}_restartTicking(){this._currentTick=0,this._intervalID&&clearInterval(this._intervalID),this.get("view.ready")&&this.tickInterval&&(this._intervalID=setInterval((()=>{const e=Date.now();this._currentTick+=this.tickInterval,this.view.allLayerViews.forEach((t=>{if((0,N.N)(t)){const i=Math.round(6e4*t.refreshInterval),r=this._currentTick%i==0,a=e-t.refreshTimestamp<5400;i&&r&&!a&&t.refresh(e)}}))}),this.tickInterval))}_getLayerViewHandles(){const e=[],t=()=>this.notifyChange("tickInterval");return this.view.allLayerViews.forEach((i=>{(0,N.N)(i)&&i.layer&&e.push(i.watch("refreshInterval",t),i.layer.on("refresh",(()=>{i.refresh(Date.now())})))})),e}_getCommonInterval(e){const t=(e,i)=>isNaN(e)||isNaN(i)?0:i<=0?e:t(i,e%i);return e.toArray().reduce(((e,i)=>t(Math.round(6e4*i.refreshInterval),e)),0)}};(0,r._)([(0,n.Cb)()],A.prototype,"view",void 0),(0,r._)([(0,n.Cb)({readOnly:!0})],A.prototype,"tickInterval",null),A=(0,r._)([(0,l.j)("esri.views.RefreshManager")],A);const Z=A;var W=i(33655),j=i(96071),B=i(46539),$=i(69948);const H=["click","double-click","immediate-click","immediate-double-click","hold","drag","key-down","key-up","pointer-down","pointer-move","pointer-up","pointer-drag","mouse-wheel","pointer-enter","pointer-leave","gamepad","focus","blur"],G={};function K(e){return!!G[e]}H.forEach((e=>{G[e]=!0}));class z{constructor(e){this.handlers=new Map,this.counter=0,this.handlerCounts=new Map,this.view=e,this.inputManager=null}connect(e){e&&this.disconnect(),this.inputManager=e,this.handlers.forEach((({handler:e,priority:t},i)=>this.inputManager.installHandlers(i,[e],t)))}disconnect(){this.inputManager&&this.handlers.forEach(((e,t)=>this.inputManager.uninstallHandlers(t))),this.inputManager=null}destroy(){this.disconnect(),this.handlers.clear(),this.view=null}on(e,t,i,r){const a=Array.isArray(e)?e:e.split(",");if(!function(e){for(const t of e)if(!K(t))return!1;return!0}(a))return a.some(K)&&console.error("Error: registering input events and other events on the view at the same time is not supported."),null;let s,n;Array.isArray(t)?n=t:(s=t,n=[]),"function"==typeof i?s=i:r=i,r=null!=r?r:$.f.DEFAULT;const o=this.createUniqueGroupName(),l=new q(this.view,a,n,s);this.handlers.set(o,{handler:l,priority:r});for(const e of a){const t=this.handlerCounts.get(e)||0;this.handlerCounts.set(e,t+1)}return this.inputManager&&this.inputManager.installHandlers(o,[l],r),{remove:()=>this.removeHandler(o,a)}}hasHandler(e){return!!this.handlerCounts.get(e)}removeHandler(e,t){if(this.handlers.has(e)){this.handlers.delete(e);for(const e of t){const t=this.handlerCounts.get(e);void 0===t?console.error("Trying to remove handler for event that has no handlers registered: ",e):1===t?this.handlerCounts.delete(e):this.handlerCounts.set(e,t-1)}}this.inputManager&&this.inputManager.uninstallHandlers(e)}createUniqueGroupName(){return this.counter+=1,`viewEvents_${this.counter}`}}class q extends B.a{constructor(e,t,i,r){super(!0),this.view=e;for(const e of t)switch(e){case"click":this.registerIncoming("click",i,(e=>r(this.wrapClick(e))));break;case"double-click":this.registerIncoming("double-click",i,(e=>r(this.wrapDoubleClick(e))));break;case"immediate-click":this.registerIncoming("immediate-click",i,(e=>r(this.wrapImmediateClick(e))));break;case"immediate-double-click":this.registerIncoming("immediate-double-click",i,(e=>r(this.wrapImmediateDoubleClick(e))));break;case"hold":this.registerIncoming("hold",i,(e=>r(this.wrapHold(e))));break;case"drag":this.registerIncoming("drag",i,(e=>{const t=this.wrapDrag(e);t&&r(t)}));break;case"key-down":this.registerIncoming("key-down",i,(e=>r(this.wrapKeyDown(e))));break;case"key-up":this.registerIncoming("key-up",i,(e=>r(this.wrapKeyUp(e))));break;case"pointer-down":this.registerIncoming("pointer-down",i,(e=>r(this.wrapPointer(e,"pointer-down"))));break;case"pointer-move":this.registerIncoming("pointer-move",i,(e=>r(this.wrapPointer(e,"pointer-move"))));break;case"pointer-up":this.registerIncoming("pointer-up",i,(e=>r(this.wrapPointer(e,"pointer-up"))));break;case"pointer-drag":this.registerIncoming("pointer-drag",i,(e=>r(this.wrapPointerDrag(e))));break;case"mouse-wheel":this.registerIncoming("mouse-wheel",i,(e=>r(this.wrapMouseWheel(e))));break;case"pointer-enter":this.registerIncoming("pointer-enter",i,(e=>r(this.wrapPointer(e,"pointer-enter"))));break;case"pointer-leave":this.registerIncoming("pointer-leave",i,(e=>r(this.wrapPointer(e,"pointer-leave"))));break;case"gamepad":this.registerIncoming("gamepad",i,(e=>{r(this.wrapGamepad(e))}));break;case"focus":this.registerIncoming("focus",i,(e=>{r(this.wrapFocus(e))}));break;case"blur":this.registerIncoming("blur",i,(e=>{r(this.wrapBlur(e))}))}}wrapFocus(e){return{type:"focus",timestamp:e.timestamp,native:e.data.native,cancelable:e.cancelable,stopPropagation:()=>e.stopPropagation(),async:t=>e.async(t),preventDefault:()=>e.preventDefault()}}wrapBlur(e){return{type:"blur",timestamp:e.timestamp,native:e.data.native,cancelable:e.cancelable,stopPropagation:()=>e.stopPropagation(),async:t=>e.async(t),preventDefault:()=>e.preventDefault()}}wrapClick(e){const{pointerType:t,button:i,buttons:r,x:a,y:s,native:n,eventId:o}=e.data,{cancelable:l,timestamp:c}=e;return{type:"click",pointerType:t,button:i,buttons:r,x:a,y:s,native:n,timestamp:c,screenPoint:(0,j.vW)(a,s),mapPoint:this.getMapPoint(a,s),eventId:o,cancelable:l,stopPropagation:()=>e.stopPropagation(),async:t=>e.async(t),preventDefault:()=>e.preventDefault()}}wrapDoubleClick(e){const{pointerType:t,button:i,buttons:r,x:a,y:s,native:n,eventId:o}=e.data,{cancelable:l,timestamp:c}=e;return{type:"double-click",pointerType:t,button:i,buttons:r,x:a,y:s,native:n,timestamp:c,mapPoint:this.getMapPoint(a,s),eventId:o,cancelable:l,stopPropagation:()=>e.stopPropagation(),async:t=>e.async(t),preventDefault:()=>e.preventDefault()}}wrapImmediateClick(e){const{pointerType:t,button:i,buttons:r,x:a,y:s,native:n,eventId:o}=e.data,l=n.pointerId,{cancelable:c,timestamp:d}=e;return{type:"immediate-click",pointerId:l,pointerType:t,button:i,buttons:r,x:a,y:s,native:n,timestamp:d,mapPoint:this.getMapPoint(a,s),eventId:o,cancelable:c,stopPropagation:()=>e.stopPropagation(),async:t=>e.async(t),preventDefault:()=>e.preventDefault()}}wrapImmediateDoubleClick(e){const{pointerType:t,button:i,buttons:r,x:a,y:s,native:n,eventId:o}=e.data,l=n.pointerId,{cancelable:c,timestamp:d}=e;return{type:"immediate-double-click",pointerId:l,pointerType:t,button:i,buttons:r,x:a,y:s,native:n,timestamp:d,mapPoint:this.getMapPoint(a,s),eventId:o,cancelable:c,stopPropagation:()=>e.stopPropagation(),async:t=>e.async(t),preventDefault:()=>e.preventDefault()}}wrapHold(e){const{pointerType:t,button:i,buttons:r,x:a,y:s,native:n}=e.data,{cancelable:o,timestamp:l}=e;return{type:"hold",pointerType:t,button:i,buttons:r,x:a,y:s,native:n,timestamp:l,mapPoint:this.getMapPoint(a,s),cancelable:o,stopPropagation:()=>e.stopPropagation(),async:t=>e.async(t),preventDefault:()=>e.preventDefault()}}getMapPoint(e,t){return this.view.toMap((0,j.vW)(e,t),{exclude:[]})}wrapDrag(e){const t=e.data,{x:i,y:r}=t.center,{action:a,pointerType:s,button:n}=t;if("start"===a&&(this.latestDragStart=t),!this.latestDragStart)return;const o=t.pointer.native,l=t.buttons,{cancelable:c,timestamp:d}=e,p={x:this.latestDragStart.center.x,y:this.latestDragStart.center.y};return"end"===a&&(this.latestDragStart=void 0),{type:"drag",action:a,x:i,y:r,origin:p,pointerType:s,button:n,buttons:l,radius:t.radius,angle:(0,W.BV)(t.angle),native:o,timestamp:d,cancelable:c,stopPropagation:()=>e.stopPropagation(),async:t=>e.async(t),preventDefault:()=>e.preventDefault()}}wrapKeyDown(e){const{key:t,repeat:i,native:r}=e.data,{cancelable:a,timestamp:s}=e;return{type:"key-down",key:t,repeat:i,native:r,timestamp:s,cancelable:a,stopPropagation:()=>e.stopPropagation(),async:t=>e.async(t),preventDefault:()=>e.preventDefault()}}wrapKeyUp(e){const{key:t,native:i}=e.data,{cancelable:r,timestamp:a}=e;return{type:"key-up",key:t,native:i,timestamp:a,cancelable:r,stopPropagation:()=>e.stopPropagation(),async:t=>e.async(t),preventDefault:()=>e.preventDefault()}}wrapPointer(e,t){const{x:i,y:r,button:a,buttons:s,native:n,eventId:o}=e.data,l=n.pointerId,c=n.pointerType,{cancelable:d,timestamp:p}=e;return{type:t,x:i,y:r,pointerId:l,pointerType:c,button:a,buttons:s,native:n,timestamp:p,eventId:o,cancelable:d,stopPropagation:()=>e.stopPropagation(),async:t=>e.async(t),preventDefault:()=>e.preventDefault()}}wrapPointerDrag(e){const{x:t,y:i,buttons:r,native:a,eventId:s}=e.data.currentEvent,{button:n}=e.data.startEvent,o=e.data.startEvent.native.pointerId,l=e.data.startEvent.native.pointerType,c=e.data.action,d={x:e.data.startEvent.x,y:e.data.startEvent.y},{cancelable:p,timestamp:h}=e;return{type:"pointer-drag",x:t,y:i,pointerId:o,pointerType:l,button:n,buttons:r,action:c,origin:d,native:a,timestamp:h,eventId:s,cancelable:p,stopPropagation:()=>e.stopPropagation(),async:t=>e.async(t),preventDefault:()=>e.preventDefault()}}wrapMouseWheel(e){const{cancelable:t,data:i,timestamp:r}=e,{x:a,y:s,deltaY:n,native:o}=i;return{type:"mouse-wheel",x:a,y:s,deltaY:n,native:o,timestamp:r,cancelable:t,stopPropagation:()=>e.stopPropagation(),async:t=>e.async(t),preventDefault:()=>e.preventDefault()}}wrapGamepad(e){const{action:t,state:i,device:r}=e.data,{cancelable:a,timestamp:s}=e,{buttons:n,axes:o}=i;return{type:"gamepad",device:r,timestamp:s,action:t,buttons:n,axes:o,cancelable:a,stopPropagation:()=>e.stopPropagation(),async:t=>e.async(t),preventDefault:()=>e.preventDefault()}}}var U=i(17519),J=i(2887);function Q(e){return"mouse"===e}function Y(e){return"mouse"!==e.pointerType||0===e.button}function X(e){return!!e.native.shiftKey}const ee={manipulator:null,tool:null},te=s.Z.getLogger("esri.views.ToolViewManager");let ie=class extends h.default{constructor(e){super(e),this._handles=new F.Z,this._creatingTool=null,this._manipulatorState=new class{constructor(){this._pointerLocations=new Map,this._hoveredManipulators=new Map,this._grabbedManipulators=new Map,this._draggedManipulators=new Map,this._stopDrag=!1,this._revertToActiveTool=null,this._cursor=null}get cursor(){return this._cursor}handleInputEvent(e,t){const i=()=>e.stopPropagation();switch(e.type){case"pointer-move":Q(e.pointerType)&&this._pointerLocations.set(e.pointerId,{x:e.x,y:e.y,pointerType:e.pointerType});break;case"drag":this._grabbedManipulators.size>0&&(this._stopDrag=!0),this._stopDrag&&(i(),"end"===e.action&&(this._stopDrag=!1));break;case"pointer-down":{if(!Y(e)||X(e))break;const r=(0,J.vT)(e),s=this._intersect(r,e.pointerType,t.forEachTool);if((0,a.Wi)(s))break;const n=this._findToolAndManipulatorByKey(s,t.forEachTool,ee),o=(0,a.yw)(n,(e=>e.manipulator)),l=(0,a.yw)(n,(e=>e.tool));!((0,a.pC)(o)&&(0,a.pC)(l)&&o.interactive)||o.grabbable&&o.grabbableForEvent(e)||!o.grabbing||o.dragging||this._ungrabManipulatorBeforeDragging(o,l,e),(0,a.pC)(o)&&o.interactive&&o.grabbable&&o.grabbableForEvent(e)&&!o.grabbing&&(this._grabbedManipulators.set(e.pointerId,{key:s,start:r}),1===this._grabbedManipulators.size&&(this._revertToActiveTool=t.activeTool,t.setActiveTool(s.tool)),o.grabbing=!0,o.events.emit("grab-changed",{action:"start",screenPoint:r}),i());break}case"pointer-up":this._handlePointerEnd(e,t);break;case"pointer-drag":{if(!Y(e))break;const r=this._grabbedManipulators.get(e.pointerId),s=this._draggedManipulators.get(e.pointerId),n=(0,a.yw)(r||s,(({key:e})=>e)),o=this._findManipulatorByKey(n,t.forEachTool);if((0,a.Wi)(o))break;const l=(0,J.vT)(e);l.x=(0,W.uZ)(l.x,0,t.view.width),l.y=(0,W.uZ)(l.y,0,t.view.height);const c=(0,a.Wg)(r||s).start;switch(e.action){case"start":case"update":"update"!==e.action&&1!==this._grabbedManipulators.size||(o.dragging=!0,s?o.events.emit("drag",{action:"update",start:c,screenPoint:l}):o.events.emit("drag",{action:"start",start:c,screenPoint:l,pointerType:e.pointerType}),this._draggedManipulators.set(e.pointerId,{key:(0,a.Wg)(n),start:c}));break;case"end":o.dragging=!1,s&&o.events.emit("drag",{action:"end",start:c,screenPoint:l}),this._draggedManipulators.delete(e.pointerId),this._handlePointerEnd(e,t)}i();break}case"immediate-click":{const r=(0,J.vT)(e),s=this._intersect(r,e.pointerType,t.forEachTool),n=this._findToolAndManipulatorByKey(s,t.forEachTool,ee);if(X(e)||t.forEachTool((e=>{if((!(0,a.pC)(n)||n.tool!==e||!e.selectionManagementDisabled)&&e.manipulators){let t=!1;e.manipulators.forEach((({manipulator:e})=>{e.selected&&(e.selected=!1,t=!0)})),t&&e.manipulatorSelectionChanged&&e.manipulatorSelectionChanged()}})),(0,a.Wi)(n))break;const{manipulator:o,tool:l}=n;if(!o.interactive)break;o.selectable&&!l.selectionManagementDisabled&&(o.selected=!o.selected,l.manipulatorSelectionChanged&&l.manipulatorSelectionChanged());const c=e.native.shiftKey;o.events.emit("immediate-click",{screenPoint:r,button:e.button,pointerType:e.pointerType,shiftKey:c,stopPropagation:i});break}case"click":{const r=(0,J.vT)(e),s=this._intersect(r,e.pointerType,t.forEachTool),n=this._findManipulatorByKey(s,t.forEachTool);if((0,a.Wi)(n)||!n.interactive)break;const o=e.native.shiftKey;n.events.emit(e.type,{screenPoint:r,button:e.button,pointerType:e.pointerType,shiftKey:o}),i();break}case"double-click":{const r=(0,J.vT)(e),s=this._intersect(r,e.pointerType,t.forEachTool),n=this._findManipulatorByKey(s,t.forEachTool);if((0,a.Wi)(n)||!n.interactive)break;const o=e.native.shiftKey;n.events.emit("double-click",{screenPoint:r,button:e.button,pointerType:e.pointerType,shiftKey:o,stopPropagation:i});break}case"immediate-double-click":{const r=(0,J.vT)(e),s=this._intersect(r,e.pointerType,t.forEachTool),n=this._findManipulatorByKey(s,t.forEachTool);if((0,a.Wi)(n)||!n.interactive)break;const o=e.native.shiftKey;n.events.emit("immediate-double-click",{screenPoint:r,button:e.button,pointerType:e.pointerType,shiftKey:o,stopPropagation:i});break}}this._updateCursor(t.forEachTool)}_ungrabManipulatorBeforeDragging(e,t,i){e.grabbing=!1,e.events.emit("grab-changed",{action:"end",screenPoint:(0,J.vT)(i)}),this._grabbedManipulators.forEach((({key:i},r)=>{i.tool===t&&t.manipulators.findById(i.manipulatorId)===e&&this._grabbedManipulators.delete(r)}))}_handlePointerEnd(e,t){const i=(0,a.yw)(this._grabbedManipulators.get(e.pointerId),(({key:e})=>e)),r=this._findManipulatorByKey(i,t.forEachTool);if((0,a.pC)(r)&&!r.dragging){const s=(0,a.pC)(t.creatingTool)&&t.creatingTool===(0,a.Wg)(i).tool;1!==this._grabbedManipulators.size||0!==this._draggedManipulators.size||s||(t.setActiveTool(this._revertToActiveTool),this._revertToActiveTool=null),r.grabbing&&(r.grabbing=!1,r.events.emit("grab-changed",{action:"end",screenPoint:(0,J.vT)(e)})),this._grabbedManipulators.delete(e.pointerId)}}_cursorFromMap(e,t){let i=null;return(0,x.o)(e,(({key:e})=>{const r=this._findManipulatorByKey(e,t);return!!((0,a.pC)(r)&&r.interactive&&"cursor"in r&&r.cursor)&&(i=r.cursor,!0)})),i}_updateCursor(e){this._grabbedManipulators.size>0?this._cursor=this._cursorFromMap(this._grabbedManipulators,e)||"grabbing":this._hoveredManipulators.size>0?this._cursor=this._cursorFromMap(this._hoveredManipulators,e)||"pointer":this._cursor=null}clearPointers(e,t,i=!0,r){const s=t=>t.tool===e&&((0,a.Wi)(r)||t.manipulatorId===r);this._grabbedManipulators.forEach((({key:e},i)=>{if(s(e)){this._grabbedManipulators.delete(i);const r=this._findManipulatorByKey(e,t);(0,a.pC)(r)&&(r.grabbing=!1,r.events.emit("grab-changed",{action:"end",screenPoint:null}))}})),this._draggedManipulators.forEach((({key:e},i)=>{if(s(e)){this._draggedManipulators.delete(i);const r=this._findManipulatorByKey(e,t);(0,a.pC)(r)&&(r.dragging=!1,r.events.emit("drag",{action:"cancel"}))}})),i&&this._hoveredManipulators.forEach((({key:e},i)=>{if(s(e)){this._hoveredManipulators.delete(i);const r=this._findManipulatorByKey(e,t);(0,a.pC)(r)&&(r.hovering=!1)}})),this._updateCursor(t)}_intersect(e,t,i){let r=null;return i((i=>{if(null==i.manipulators||!(0,U.a6)(i))return!1;const s=i.manipulators.intersect(e,t);return!(0,a.Wi)(s)&&(r={manipulatorId:s,tool:i},!0)})),r}updateHoveredStateFromKnownPointers(e){this._pointerLocations.forEach(((t,i)=>{this._updateHoveredStateForPointerAtScreenPosition((0,j.vW)(t.x,t.y),i,t.pointerType,e)}))}handleHoverEvent(e,t){"pointer-up"!==e.type&&"immediate-click"!==e.type&&"pointer-move"!==e.type||!Q(e.pointerType)||this._updateHoveredStateForPointerAtScreenPosition((0,J.vT)(e),e.pointerId,e.pointerType,t)}_updateHoveredStateForPointerAtScreenPosition(e,t,i,r){const s=this._intersect(e,i,r);let n=this._findManipulatorByKey(s,r);const o=(0,a.yw)(this._hoveredManipulators.get(t),(({key:e})=>e)),l=this._findManipulatorByKey(o,r);(0,a.pC)(n)&&!n.interactive&&(n=null),l!==n&&((0,a.pC)(l)&&(l.hovering=!1),(0,a.pC)(n)?(n.hovering=!0,this._hoveredManipulators.set(t,{key:(0,a.Wg)(s)})):this._hoveredManipulators.delete(t),this._updateCursor(r))}_findManipulatorByKey(e,t){return this._findToolAndManipulatorByKey(e,t,ee)?ee.manipulator:null}_findToolAndManipulatorByKey(e,t,i){return(0,a.Wi)(e)?null:(i.tool=null,i.manipulator=null,t((t=>{if(t!==e.tool||null==t.manipulators||!(0,U.a6)(t))return!1;const r=t.manipulators.findById(e.manipulatorId);return!!(0,a.pC)(r)&&(i.manipulator=r,i.tool=t,!0)})),i.manipulator?i:null)}},this.tools=(0,U.To)(),this.cursor=null,this._forEachTool=e=>{if(!(0,a.pC)(this._creatingTool)||!e(this._creatingTool))for(const t of this.tools.items)if(e(t))return}}initialize(){this._handles.add([this.view.on(H,(e=>{this._handleInputEvent(e)}),$.f.TOOL),this.tools.on("before-add",(e=>{const t=e.item;null==t||this.tools.includes(t)?e.preventDefault():null==t.created||t.created||(te.error("tools","Tool can not be added to view before it has been created"),e.preventDefault())})),this.tools.on("before-remove",(({item:e})=>{this._manipulatorState.clearPointers(e,this._forEachTool)})),this.tools.on("change",(()=>{this._refreshToolWatchers()}))])}destroy(){this._forEachTool((e=>e.destroy())),this._handles.destroy(),this._handles=null}set activeTool(e){!(0,a.pC)(e)||this.view.ready?((0,U.LF)(this,e,(t=>{this._set("activeTool",t),this._removeIncompleteTools(e),this._forEachTool((e=>{const t=(0,a.Wi)(this.activeTool)||e===this.activeTool;e.setEditableFlag&&e.setEditableFlag(1,t);const i=(0,U.a6)(e);!(0,a.Wi)(this.activeTool)&&i||this._manipulatorState.clearPointers(e,this._forEachTool,!i)})),this._updateCursor()})),this._creatingTool!==e&&this._rejectCreatingTool()):te.error("#activeTool=","cannot set active tool while view is not ready")}async createTool(e,t,i){await this.view.whenReady();const r="Tool creation was interrupted by another tool being created";if((0,d.isAborted)(i))throw(0,d.createAbortError)(r);const s=new e({...(0,U.J1)(t),view:this.view}),n=(0,d.onAbort)(i,(()=>this.activeTool=null));return this._rejectCreatingTool(r),this._creatingTool=s,s.attach(),this._refreshToolWatchers(),(0,U.Iv)(s,!0),await s.when(),(0,a.pC)(n)&&n.remove(),this._creatingTool=null,this.tools.add(s),s instanceof h.default&&null!=s.completed&&(0,T.whenOnce)(s,"completed").then((()=>{(0,U.Iv)(s,!1)})),s}attach(){this._forEachTool((e=>e.attach())),"3d"===this.view.type?this._handles.add([this.view.state.watch("camera",(()=>{this.forEachManipulator((e=>{null!=e.onViewChange&&e.onViewChange()}))})),this.view.elevationProvider.on("elevation-change",(e=>{this.forEachManipulator((t=>{null!=t.onElevationChange&&t.onElevationChange(e)}))}))],"manipulators"):this._handles.add(this.view.watch("extent",(()=>{this.forEachManipulator((e=>{null!=e.onViewChange&&e.onViewChange()}))})))}detach(){this.activeTool=null,this._forEachTool((e=>{e.detach(),e.destroy()})),this.tools.removeAll(),this._handles.remove("manipulators")}forEachManipulator(e){this._forEachTool((t=>{t.manipulators&&t.manipulators.forEach((({manipulator:i})=>e(i,t)))}))}_handleInputEvent(e){let t=!1;const i={...e,stopPropagation:()=>{t=!0,e.stopPropagation()}};(0,a.pC)(this.activeTool)?this.activeTool.handleInputEvent&&this.activeTool.handleInputEvent(i):this._forEachTool((e=>{!t&&!1!==e.visible&&e.handleInputEvent&&e.handleInputEvent(i)})),!t&&"key-down"===e.type&&"Escape"===e.key&&this.activeTool&&(e.stopPropagation(),this.activeTool=null),this._manipulatorState.handleInputEvent(i,{forEachTool:this._forEachTool,activeTool:this.activeTool,setActiveTool:e=>{this.activeTool=e},creatingTool:this._creatingTool,view:this.view}),!t&&(0,a.pC)(this.activeTool)&&this.activeTool.handleInputEventAfter&&this.activeTool.handleInputEventAfter(i),this._manipulatorState.handleHoverEvent(i,this._forEachTool),this._updateCursor()}_refreshToolWatchers(){this._handles.remove("tools"),this._forEachTool((e=>{if(e instanceof h.default){const t=(0,T.watch)(e,["cursor","visible","editable"],(()=>{(0,U.a6)(e)||this._manipulatorState.clearPointers(e,this._forEachTool),this._updateCursor()}));this._handles.add(t,"tools")}e.manipulators&&this._handles.add(e.manipulators.on("change",(t=>{t.removed.forEach((({id:t})=>{this._manipulatorState.clearPointers(e,this._forEachTool,!0,t)})),this._manipulatorState.updateHoveredStateFromKnownPointers(this._forEachTool),this._updateCursor()})),"tools")})),this._manipulatorState.updateHoveredStateFromKnownPointers(this._forEachTool),this._updateCursor()}_updateCursor(){let e=null;this._forEachTool((t=>null!=t.cursor&&!1!==t.visible&&(e=t.cursor,!0))),e||(e=this._manipulatorState.cursor),this._get("cursor")!==e&&this._set("cursor",e)}_rejectCreatingTool(e){const t=this._creatingTool;(0,a.Wi)(t)||(this._manipulatorState.clearPointers(t,this._forEachTool),t.rejectCreation&&t.rejectCreation((0,d.createAbortError)(e)),t.destroy(),this._creatingTool=null,this._refreshToolWatchers())}_removeIncompleteTools(e){this.tools.filter((t=>((0,a.Wi)(e)||t!==e)&&null!=t.completed&&!t.completed)).forEach((e=>{this.tools.remove(e)}))}};(0,r._)([(0,n.Cb)({constructOnly:!0,nonNullable:!0})],ie.prototype,"view",void 0),(0,r._)([(0,n.Cb)({value:null})],ie.prototype,"activeTool",null),(0,r._)([(0,n.Cb)({readOnly:!0,type:v.Z})],ie.prototype,"tools",void 0),(0,r._)([(0,n.Cb)({readOnly:!0})],ie.prototype,"cursor",void 0),ie=(0,r._)([(0,l.j)("esri.views.ToolViewManager")],ie);const re=ie;var ae=i(37699);let se=class extends h.default{constructor(...e){super(...e),this.devices=new v.Z,this.enabledFocusMode="document"}};(0,r._)([(0,n.Cb)({type:v.Z.ofType(ae.Z),readOnly:!0})],se.prototype,"devices",void 0),(0,r._)([(0,n.Cb)({type:["document","view","none"]})],se.prototype,"enabledFocusMode",void 0),se=(0,r._)([(0,l.j)("esri.views.input.gamepad.GamepadSettings")],se);const ne=se;let oe=class extends h.default{constructor(){super(...arguments),this.gamepad=new ne}};(0,r._)([(0,n.Cb)({readOnly:!0})],oe.prototype,"gamepad",void 0),oe=(0,r._)([(0,l.j)("esri.views.input.Input")],oe);const le=oe;let ce=class extends h.default{constructor(e){super(e),this.enabled=!0,this.device=null,this.mode="pan",this.tiltDirection="forward-down",this.velocityFactor=1}};(0,r._)([(0,n.Cb)({type:Boolean,nonNullable:!0})],ce.prototype,"enabled",void 0),(0,r._)([(0,n.Cb)({type:ae.Z})],ce.prototype,"device",void 0),(0,r._)([(0,n.Cb)({type:["pan","zoom"],nonNullable:!0})],ce.prototype,"mode",void 0),(0,r._)([(0,n.Cb)({type:["forward-down","forward-up"],nonNullable:!0})],ce.prototype,"tiltDirection",void 0),(0,r._)([(0,n.Cb)({type:Number,nonNullable:!0})],ce.prototype,"velocityFactor",void 0),ce=(0,r._)([(0,l.j)("esri.views.navigation.gamepad.GamepadSettings")],ce);const de=ce;let pe=class extends h.default{constructor(e){super(e),this.browserTouchPanEnabled=!0,this.gamepad=new de,this.momentumEnabled=!0,this.mouseWheelZoomEnabled=!0}};(0,r._)([(0,n.Cb)({type:Boolean})],pe.prototype,"browserTouchPanEnabled",void 0),(0,r._)([(0,n.Cb)({type:de,nonNullable:!0})],pe.prototype,"gamepad",void 0),(0,r._)([(0,n.Cb)({type:Boolean})],pe.prototype,"momentumEnabled",void 0),(0,r._)([(0,n.Cb)({type:Boolean})],pe.prototype,"mouseWheelZoomEnabled",void 0),pe=(0,r._)([(0,l.j)("esri.views.navigation.Navigation")],pe);const he=pe;var ue=i(19677),ye=i(41241),fe=i(97849);function ge(e){const t=e.url&&(0,fe.Qc)(e.url);return null==(e.spatialReference&&e.spatialReference.vcsWkid)&&(0,a.pC)(t)&&"ImageServer"===t.serverType||!ve(e)||!e.heightModelInfo?_e(e)?I.Z.deriveUnitFromSR(we,e.spatialReference):null:e.heightModelInfo}function ve(e){return"heightModelInfo"in e}function me(e){if("unknown"===e.type||!("capabilities"in e))return!1;switch(e.type){case"csv":case"feature":case"geojson":case"ogc-feature":return!0;case"imagery":case"map-image":case"map-notes":case"tile":case"vector-tile":case"scene":case null:default:return!1}}function _e(e){return me(e)?!!(e.capabilities&&e.capabilities.data&&e.capabilities.data.supportsZ):be(e)}function be(e){switch(e.type){case"building-scene":case"elevation":case"integrated-mesh":case"point-cloud":case"scene":return!0;case"base-dynamic":case"base-elevation":case"base-tile":case"bing-maps":case"csv":case"geojson":case"feature":case"geo-rss":case"graphics":case"group":case"imagery":case"imagery-tile":case"kml":case"map-image":case"map-notes":case"ogc-feature":case"open-street-map":case"route":case"stream":case"tile":case"unknown":case"unsupported":case"vector-tile":case"wcs":case"web-tile":case"wms":case"wmts":case null:return!1}return!1}const we=new I.Z({heightModel:"gravity-related-height"});var Ce;const Te=s.Z.getLogger("esri.views.support.DefaultsFromMap");let Ie=Ce=class extends h.default{constructor(){super(...arguments),this._handles=new F.Z,this._waitTask=null,this._extentProjectController=null,this._spatialReferenceCandidates=null,this._extentCandidates=null,this.logDebugInformation=!1,this.isSpatialReferenceDone=!1,this.isTileInfoDone=!1,this.isHeightModelInfoSearching=!1,this.spatialReference=null,this.extent=null,this.heightModelInfo=null,this.vcsWkid=null,this.latestVcsWkid=null,this.mapCollectionPaths=Ce.DefaultMapCollectionPaths.slice(),this.tileInfo=null}initialize(){this.watch("mapCollectionPaths",(()=>{this._running&&(this.reset(),this.start())}))}destroy(){this._set("view",null),this._handles&&(this._handles.destroy(),this._handles=null),this._cancelLoading()}get _running(){return!!(this._handles&&this._handles.size>0)}reset(){this._handles.removeAll(),this._set("isSpatialReferenceDone",!1),this._set("isTileInfoDone",!1),this._set("isHeightModelInfoSearching",!1),this._set("spatialReference",null),this._set("extent",null),this._set("heightModelInfo",null),this._set("vcsWkid",null),this._set("latestVcsWkid",null),this._set("tileInfo",null),this._spatialReferenceCandidates=null,this._extentCandidates=null}start(){this._handles.removeAll();const e=this._updateLayerChange.bind(this);for(const t of this.mapCollectionPaths)this._handles.add((0,T.on)(this.view,`map.${t}`,"change",e,e,e,!0));this._handles.add((0,T.when)(this,"isSpatialReferenceDone",(()=>this._updateTileInfo()),!0))}_ownerNameFromCollectionName(e){const t=e.lastIndexOf(".");return-1===t?"view":"view."+e.slice(0,t)}_ensureLoadedOwnersFromCollectionName(e){const t=this._ownerNameFromCollectionName(e).split(".");let i;for(let r=0;r<t.length&&(i=this.get(t.slice(0,r+1).join(".")),i);r++)if(i.load&&!i.isFulfilled())return{collectionName:e,owner:null,loading:i.load().catch((()=>{}))};return{collectionName:e,owner:i}}_cancelLoading(){this._waitTask=null,this._extentProjectController&&(this._extentProjectController.abort(),this._extentProjectController=null)}_updateWhen(e){let t=!0,i=!1;const r=e.catch((()=>{})).then((()=>{t?i=!0:r===this._waitTask&&this._update()}));return t=!1,i||(this._waitTask=r),i}_updateLayerChange(){this.isSpatialReferenceDone&&!this.spatialReference&&this._set("isSpatialReferenceDone",!1),this._update()}_update(){if(this._cancelLoading(),this.view){if(!this.isSpatialReferenceDone){this._debugLog("Starting search for spatial reference...");const e=this._processMapCollections((e=>this._processSpatialReferenceSource(e)));if(this._debugLog(`Search ended with status '${Le(e)}'`),0!==e){let e=null,t=this._spatialReferenceCandidates;if(!t||t.length<1?(e=this.defaultSpatialReference,this._debugLog(`No spatial reference found, locking to default (${Me(e)})`)):(this.defaultSpatialReference&&t.length>1&&t.findIndex((e=>e.equals(this.defaultSpatialReference)))>-1&&(t=[this.defaultSpatialReference]),e=t[0],this._debugLog(`Locking to ${Me(e)}`)),this._set("spatialReference",e),e)if(this.extent)this._set("isSpatialReferenceDone",!0);else{const t=this.logDebugInformation;this.logDebugInformation=!1,this._processMapCollections((t=>this._findExtent(t,e))),this.logDebugInformation=t,this._projectExtentCandidate().catch((()=>{})).then((()=>this._set("isSpatialReferenceDone",!0)))}else this._set("isSpatialReferenceDone",!0)}}if(null==this.heightModelInfo&&this.view.isHeightModelInfoRequired){this._debugLog("Starting search for height model info...");const e=this._processMapCollections((e=>this._processHeightModelInfoSource(e)),(e=>function(e){return null!=e.layers||be(e)||me(e)||ve(e)}(e)));this._debugLog(`Search ended with status ${Le(e)}`),this._set("isHeightModelInfoSearching",0===e)}this._updateTileInfo()}}_processMapCollections(e,t){this._preloadMapCollections(t);let i=2;return this._forAllMapCollectionSources((e=>{if(2!==i)return!1;const{collectionName:t}=e;return this._debugLog(`Processing collection ${t}...`),!(e.loading&&!this._updateWhen(e.loading)&&(this._debugLog(`Collection ${e.collectionName} owner is loading -> wait`),i=0,1))}),(r=>2===i&&(null==t||t(r)?!r.load||r.isFulfilled()||this._updateWhen(r.load())?!((!r.load||r.isResolved())&&e(r)&&(i=1,1)):(this._debugLog(`Source ${r.id} is loading -> wait`),i=0,!1):(this._debugLog(`Source ${r.id} is skipped due to predicate`),!1)))),i}_preloadMapCollections(e){let t=10;const i=this.logDebugInformation;this.logDebugInformation=!1,this._forAllMapCollectionSources((()=>!0),(r=>0!==t&&!(null!=e&&!e(r)||(r.load&&!r.isFulfilled()&&(this.logDebugInformation=i,this._debugLog(`Pre-loading source ${r.id}`),this.logDebugInformation=!1,r.load().catch((()=>{})),t--),0)))),this.logDebugInformation=i}_forAllMapCollectionSources(e,t){for(const i of this.mapCollectionPaths){const r=`map.${i}`,a=this._ensureLoadedOwnersFromCollectionName(r);if(!1===e(a))continue;const s=a.owner;if(!s||s.isRejected&&s.isRejected()){this._debugLog(`Collection ${r} owner is invalid or rejected -> skip`);continue}const n=this.view.get(r);n?this._forEachSource(n,t):this._debugLog(`Collection ${r} does not exist -> skip`)}}_forEachSource(e,t){for(const i of e.items)!1!==t(i)&&"layers"in i&&i.layers&&this._forEachSource(i.layers,t)}_processSpatialReferenceSource(e){let t=this._getSupportedSpatialReferences(e);return 0!==t.length&&(this._spatialReferenceCandidates?(t=(0,ue.wf)(t,this._spatialReferenceCandidates,((e,t)=>e.equals(t))),t.length>0?this._spatialReferenceCandidates=t:this._debugLog(`Layer ${e.id} is ignored because its supported spatial\n          references are not compatible with the previous candidates`)):this._spatialReferenceCandidates=t,1===this._spatialReferenceCandidates.length)}_findExtent(e,t){const i="fullExtents"in e&&e.fullExtents||(e.fullExtent?[e.fullExtent]:[]),r=i.find((e=>e.spatialReference.equals(t)));if(r)return this._set("extent",r),!0;if(this._getSupportedSpatialReferences(e).length>0){const t=i.map((t=>({extent:t,layer:e}))),r=this._extentCandidates||[];this._extentCandidates=r.concat(t)}return!1}async _projectExtentCandidate(){if(!this._extentCandidates||!this._extentCandidates.length)return;const e=this.spatialReference,t=this._extentCandidates.find((t=>(0,ye.Q8)(t.extent.spatialReference,e)));if(t)this._set("extent",(0,ye.iV)(t.extent,e));else{const t=this._extentCandidates[0];this._extentProjectController=(0,d.createAbortController)();const r=await i.e(5138).then(i.bind(i,75138));try{const i=await r.projectGeometry(t.extent,e,t.layer.portalItem,this._extentProjectController.signal);this._set("extent",i)}catch{}this._extentProjectController=null}}_getSupportedSpatialReferences(e){const t="supportedSpatialReferences"in e&&e.supportedSpatialReferences||(e.spatialReference?[e.spatialReference]:[]);if(0===t.length)return this._debugLog(`Layer ${e.id} is ignored because it does not have any spatial references`),[];const i=t.filter((t=>this.view.isSpatialReferenceSupported(t,e,(e=>this._debugLog(e)))));return 0===i.length?this._debugLog(`Layer ${e.id} has spatial references but none of them are supported (or layer doesn't require locking)`):this._debugLog(`Layer ${e.id} has spatial references. Resulting candidate set: ${i.map(Me).join(", ")}`),i}_processHeightModelInfoSource(e){const t=ge(e);return!!t&&(this._set("heightModelInfo",t),this._set("isHeightModelInfoSearching",!1),e.spatialReference&&(this._set("vcsWkid",e.spatialReference.vcsWkid),this._set("latestVcsWkid",e.spatialReference.latestVcsWkid)),!0)}_updateTileInfo(){if(null!=this.tileInfo)return;if(!this.view.isTileInfoRequired())return void this._set("isTileInfoDone",!0);if(!this.isSpatialReferenceDone)return;const e=this.get("view.map");if(!e)return void this._debugLog("updateTileInfo: no map");const t=e.basemap,i=e.get("layers.0");let r=null;if(t&&"failed"!==t.loadStatus){if(!t.loaded)return this._updateWhen(t.load()),void this._debugLog("updateTileInfo: basemap still loading");const e=t&&t.get("baseLayers.0");if(e&&"failed"!==e.loadStatus){if(!e.loaded)return this._updateWhen(e.load()),void this._debugLog("updateTileInfo: first basemap layer still loading");r="tileInfo"in e&&e.tileInfo}else{if(!i||"failed"===i.loadStatus)return this._debugLog("updateTileInfo: no tileInfo"),void this._set("isTileInfoDone",!0);if(!i.loaded)return this._updateWhen(i.load()),void this._debugLog("updateTileInfo: first operational layer still loading");r="tileInfo"in i&&i.tileInfo}}else if(i&&"failed"!==i.loadStatus){if(!i.loaded)return this._updateWhen(i.load()),void this._debugLog("updateTileInfo: first operational layer still loading");r="tileInfo"in i&&i.tileInfo}r&&!r.spatialReference.equals(this.spatialReference)&&(r=null),this._debugLog(`updateTileInfo: setting ${r}`),this._set("tileInfo",r),this._set("isTileInfoDone",!0)}_debugLog(e){this.logDebugInformation&&Te.info(e)}};function Me(e){return e?JSON.stringify(e.toJSON()):"undefined"}function Le(e){switch(e){case 0:return"Waiting";case 1:return"Found";case 2:return"Exhausted"}}Ie.DefaultMapCollectionPaths=["basemap.baseLayers","layers","ground.layers","basemap.referenceLayers"],(0,r._)([(0,n.Cb)()],Ie.prototype,"logDebugInformation",void 0),(0,r._)([(0,n.Cb)({readOnly:!0})],Ie.prototype,"isSpatialReferenceDone",void 0),(0,r._)([(0,n.Cb)({readOnly:!0})],Ie.prototype,"isTileInfoDone",void 0),(0,r._)([(0,n.Cb)({readOnly:!0})],Ie.prototype,"isHeightModelInfoSearching",void 0),(0,r._)([(0,n.Cb)({constructOnly:!0})],Ie.prototype,"view",void 0),(0,r._)([(0,n.Cb)({readOnly:!0})],Ie.prototype,"spatialReference",void 0),(0,r._)([(0,n.Cb)({readOnly:!0})],Ie.prototype,"extent",void 0),(0,r._)([(0,n.Cb)({readOnly:!0})],Ie.prototype,"heightModelInfo",void 0),(0,r._)([(0,n.Cb)({readOnly:!0})],Ie.prototype,"vcsWkid",void 0),(0,r._)([(0,n.Cb)({readOnly:!0})],Ie.prototype,"latestVcsWkid",void 0),(0,r._)([(0,n.Cb)()],Ie.prototype,"mapCollectionPaths",void 0),(0,r._)([(0,n.Cb)()],Ie.prototype,"defaultSpatialReference",void 0),(0,r._)([(0,n.Cb)({readOnly:!0})],Ie.prototype,"tileInfo",void 0),Ie=Ce=(0,r._)([(0,l.j)("esri.views.support.DefaultsFromMap")],Ie);const Se=Ie;var ke;const xe=s.Z.getLogger("esri.views.View");let Ve=ke=class extends((0,M.p)(g.Z.EventedMixin((0,m.v)(h.default)))){constructor(e){super(e),this._userSpatialReference=null,this._cursor=null,this.allLayerViews=new b.Z({root:this,rootCollectionNames:["basemapView.baseLayerViews","groundView?.layerViews","layerViews","basemapView.referenceLayerViews"],getChildrenFunction:e=>e.layerViews}),this.animation=null,this.basemapView=null,this.defaultsFromMap=new Se({view:this}),this.fatalError=null,this.extent=null,this.graphics=new L.ZP,this.navigating=!1,this.layerViews=new v.Z,this.magnifier=new P,this.padding={left:0,top:0,right:0,bottom:0},this.ready=!1,this.spatialReferenceWarningDelay=1e3,this.supportsGround=!0,this.timeExtent=null,this.type=null,this.scale=null,this.updating=!1,this.initialExtentRequired=!0,this.renderContext=null,this.input=new le,this.navigation=new he,this.layerViewManager=null,this.refreshManager=null,this.isHeightModelInfoRequired=!1,this.width=null,this.height=null,this.resizing=!1,this.suspended=!1,this.viewEvents=new z(this),this.persistableViewModels=new v.Z,this._isValid=!1,this._readyCycleForced=!1,this.handles.add(this.watch("preconditionsReady",(e=>{e?(this._currentSpatialReference=this.spatialReference,ke.views.add(this)):(this._currentSpatialReference=null,ke.views.remove(this)),this.notifyChange("spatialReference"),!e&&this.ready?(this.layerViewManager.clear(),this.toolViewManager.detach(),this._teardown()):e&&!this.ready&&(this._startup(),this.toolViewManager.attach())}),!0))}initialize(){let e;this.addResolvingPromise(this.validate().then((()=>(this._isValid=!0,(0,T.whenOnce)(this,"ready"))))),this.basemapView=new S({view:this}),this.layerViewManager=new R({view:this,layerViewImporter:{importLayerView:e=>this.importLayerView(e),hasLayerViewModule:e=>this.hasLayerViewModule(e)},supportsGround:this.supportsGround}),this.refreshManager=new Z({view:this}),this.toolViewManager=new re({view:this}),this._resetInitialViewPropertiesFromContent(),(0,T.init)(this.defaultsFromMap,"isSpatialReferenceDone",(t=>{const i=!!(this.map&&this.map.allLayers.length>0);if(t&&!this.spatialReference&&i||!e){if(t&&!this.spatialReference&&i&&!e){const t=e=(0,d.after)(this.spatialReferenceWarningDelay);e.then((()=>{t===e&&xe.warn("#spatialReference","no spatial reference could be derived from the currently added map layers")})).catch((()=>{}))}}else e=null}),!0)}destroy(){if(this.destroyed)return;this.viewEvents.destroy(),this.allLayerViews.destroy(),this.navigation&&(this.navigation.destroy(),this._set("navigation",null)),this.graphics.destroy(),this.graphics=null,this.handles.remove("defaultsFromMap"),this.defaultsFromMap.destroy(),this._set("defaultsFromMap",null),this.toolViewManager.destroy(),this.toolViewManager=null,this.refreshManager.destroy(),this.refreshManager=null,this.layerViewManager.destroy(),this.layerViewManager=null,this.basemapView.destroy(),this.basemapView=null,this.invalidate(),this._emitter.clear(),this.handles.removeAll();const e=this.map;this.map=null,null==e||e.destroy()}_startup(){this._set("ready",!0)}_teardown(){this._set("ready",!1)}whenReady(){return(0,d.resolve)()}toMap(){return xe.error("#toMap()","Not implemented on this instance of View"),null}get heightModelInfo(){return this.getDefaultHeightModelInfo()}get interacting(){return this.navigating}get preconditionsReady(){return!!(!this.fatalError&&this._isValid&&!this._readyCycleForced&&this.map&&(!_.Z.isLoadable(this.map)||this.map.loaded)&&0!==this.width&&0!==this.height&&this.spatialReference&&this.isSpatialReferenceSupported(this.spatialReference)&&(this._currentSpatialReference||!this.initialExtentRequired||this.initialExtent||this.defaultsFromMap&&this.defaultsFromMap.isSpatialReferenceDone)&&this.defaultsFromMap&&this.defaultsFromMap.isTileInfoDone)}set map(e){var t;e!==this._get("map")&&(null!=(t=e)&&t.destroyed&&(xe.warn("#map","The provided map is already destroyed",{map:e}),e=null),_.Z.isLoadable(e)&&e.load().catch((()=>{})),this.initialized&&(this.forceReadyCycle(),this._resetInitialViewPropertiesFromContent()),this._set("map",e))}get spatialReference(){let e=this._userSpatialReference||this._currentSpatialReference||this.getDefaultSpatialReference()||null;return e&&this.isHeightModelInfoRequired&&this.defaultsFromMap&&(e=e.clone(),e.vcsWkid=this.defaultsFromMap.vcsWkid,e.latestVcsWkid=this.defaultsFromMap.latestVcsWkid),e}set spatialReference(e){this._userSpatialReference=e,this._set("spatialReference",e)}get stationary(){return!this.animation&&!this.navigating&&!this.resizing}get initialExtent(){return this.defaultsFromMap&&this.defaultsFromMap.extent}get cursor(){const e=this.toolViewManager?this.toolViewManager.cursor:null;return(0,a.pC)(e)?e:this._cursor||"default"}set cursor(e){this._cursor=e,this.notifyChange("cursor")}get size(){return[this.width,this.height]}whenLayerView(e){return this.layerViewManager.whenLayerView(e)}getDefaultSpatialReference(){return this.get("defaultsFromMap.spatialReference")}getDefaultHeightModelInfo(){return this.get("map.supportsHeightModelInfo")&&this.get("map.heightModelInfo")||this.get("defaultsFromMap.heightModelInfo")||null}importLayerView(e){throw new c.Z("importLayerView() not implemented")}hasLayerViewModule(e){return!1}async validate(){}invalidate(){this._isValid=!1}isSpatialReferenceSupported(e,t,i){return!0}isTileInfoRequired(){return!1}when(e,t){return this.isResolved()&&!this.ready&&xe.warn("#when()",'Calling view.when() while the view is no longer ready but was already resolved once will resolve immediately. Use watchUtils.whenOnce(view, "ready").then(...) instead.'),super.when(e,t)}forceReadyCycle(){this.ready&&(this._readyCycleForced=!0,(0,T.whenFalseOnce)(this,"preconditionsReady",(()=>this._readyCycleForced=!1)))}createTool(e,t,i){return this.toolViewManager.createTool(e,t,i)}tryFatalErrorRecovery(){this.fatalError=null}_resetInitialViewPropertiesFromContent(){if(!this.defaultsFromMap)return;const e=()=>this.defaultsFromMap&&this.defaultsFromMap.start();this.defaultsFromMap.reset(),this._currentSpatialReference=null,this.notifyChange("spatialReference"),this.handles.remove("defaultsFromMap"),this.handles.add([(0,T.watch)(this,"spatialReference",((t,i)=>{(0,u.fS)(t,i)||e()})),(0,T.watch)(this,"initialExtentRequired",e),(0,p.Os)(e)],"defaultsFromMap")}};Ve.views=new v.Z,(0,r._)([(0,o.B)("toolViewManager.activeTool")],Ve.prototype,"activeTool",void 0),(0,r._)([(0,n.Cb)({readOnly:!0})],Ve.prototype,"allLayerViews",void 0),(0,r._)([(0,n.Cb)()],Ve.prototype,"animation",void 0),(0,r._)([(0,n.Cb)()],Ve.prototype,"basemapView",void 0),(0,r._)([(0,n.Cb)()],Ve.prototype,"defaultsFromMap",void 0),(0,r._)([(0,n.Cb)()],Ve.prototype,"fatalError",void 0),(0,r._)([(0,n.Cb)({type:f.Z})],Ve.prototype,"extent",void 0),(0,r._)([(0,n.Cb)((0,L.$o)())],Ve.prototype,"graphics",void 0),(0,r._)([(0,n.Cb)({readOnly:!0,type:I.Z,dependsOn:["map.heightModelInfo?","defaultsFromMap.heightModelInfo"],autoTracked:!1})],Ve.prototype,"heightModelInfo",null),(0,r._)([(0,n.Cb)({readOnly:!0,dependsOn:["navigating"]})],Ve.prototype,"interacting",null),(0,r._)([(0,n.Cb)({readOnly:!0})],Ve.prototype,"navigating",void 0),(0,r._)([(0,n.Cb)({readOnly:!0,dependsOn:["fatalError","_isValid","_readyCycleForced","map","map.loaded?","width","height","spatialReference","_currentSpatialReference","initialExtentRequired","initialExtent","defaultsFromMap.isSpatialReferenceDone","defaultsFromMap.isTileInfoDone"],autoTracked:!1})],Ve.prototype,"preconditionsReady",null),(0,r._)([(0,n.Cb)({type:v.Z,readOnly:!0})],Ve.prototype,"layerViews",void 0),(0,r._)([(0,n.Cb)({type:P})],Ve.prototype,"magnifier",void 0),(0,r._)([(0,n.Cb)({value:null,type:w.Z})],Ve.prototype,"map",null),(0,r._)([(0,n.Cb)()],Ve.prototype,"padding",void 0),(0,r._)([(0,n.Cb)({readOnly:!0})],Ve.prototype,"ready",void 0),(0,r._)([(0,n.Cb)({type:y.Z,dependsOn:["defaultsFromMap.spatialReference","defaultsFromMap.vcsWkid","defaultsFromMap.latestVcsWkid"]})],Ve.prototype,"spatialReference",null),(0,r._)([(0,n.Cb)()],Ve.prototype,"spatialReferenceWarningDelay",void 0),(0,r._)([(0,n.Cb)({dependsOn:["animation","navigating","resizing"]})],Ve.prototype,"stationary",null),(0,r._)([(0,n.Cb)({readOnly:!0})],Ve.prototype,"supportsGround",void 0),(0,r._)([(0,n.Cb)({type:C.Z})],Ve.prototype,"timeExtent",void 0),(0,r._)([(0,o.B)("toolViewManager.tools")],Ve.prototype,"tools",void 0),(0,r._)([(0,n.Cb)()],Ve.prototype,"toolViewManager",void 0),(0,r._)([(0,n.Cb)({readOnly:!0})],Ve.prototype,"type",void 0),(0,r._)([(0,n.Cb)({type:Number})],Ve.prototype,"scale",void 0),(0,r._)([(0,n.Cb)({readOnly:!0})],Ve.prototype,"updating",void 0),(0,r._)([(0,n.Cb)({readOnly:!0})],Ve.prototype,"initialExtentRequired",void 0),(0,r._)([(0,n.Cb)({readOnly:!0,type:f.Z,dependsOn:["defaultsFromMap.extent"]})],Ve.prototype,"initialExtent",null),(0,r._)([(0,n.Cb)({dependsOn:["toolViewManager.cursor"]})],Ve.prototype,"cursor",null),(0,r._)([(0,n.Cb)()],Ve.prototype,"renderContext",void 0),(0,r._)([(0,n.Cb)({readOnly:!0})],Ve.prototype,"input",void 0),(0,r._)([(0,n.Cb)({type:he,nonNullable:!0})],Ve.prototype,"navigation",void 0),(0,r._)([(0,n.Cb)()],Ve.prototype,"layerViewManager",void 0),(0,r._)([(0,n.Cb)()],Ve.prototype,"width",void 0),(0,r._)([(0,n.Cb)()],Ve.prototype,"height",void 0),(0,r._)([(0,n.Cb)({readOnly:!0})],Ve.prototype,"resizing",void 0),(0,r._)([(0,n.Cb)({value:null,dependsOn:["width","height"],readOnly:!0})],Ve.prototype,"size",null),(0,r._)([(0,n.Cb)({readOnly:!0})],Ve.prototype,"suspended",void 0),(0,r._)([(0,n.Cb)({readOnly:!0})],Ve.prototype,"viewEvents",void 0),(0,r._)([(0,n.Cb)({readOnly:!0})],Ve.prototype,"persistableViewModels",void 0),(0,r._)([(0,n.Cb)()],Ve.prototype,"_isValid",void 0),(0,r._)([(0,n.Cb)()],Ve.prototype,"_readyCycleForced",void 0),(0,r._)([(0,n.Cb)()],Ve.prototype,"_currentSpatialReference",void 0),Ve=ke=(0,r._)([(0,l.j)("esri.views.View")],Ve);const Ee=Ve},37699:(e,t,i)=>{"use strict";i.d(t,{Z:()=>d});var r=i(56140),a=(i(95830),i(36544),i(68055),i(79881)),s=i(87566),n=(i(10923),i(57002),i(86035),i(82677));let o=class extends n.default{constructor(e){super(),this.nativeIndex=null,this._detectedDeviceType="unknown","standard"===e.mapping?this._detectedDeviceType="standard":l.test(e.id)?this._detectedDeviceType="spacemouse":this._detectedDeviceType="unknown",this.nativeIndex=e.index}get native(){return(navigator.getGamepads?navigator.getGamepads():[])[this.nativeIndex]}get deviceType(){return this._detectedDeviceType}get axisThreshold(){return c[this.deviceType]}};(0,r._)([(0,a.Cb)({nonNullable:!0,readOnly:!0})],o.prototype,"nativeIndex",void 0),(0,r._)([(0,a.Cb)({type:String,readOnly:!0})],o.prototype,"deviceType",null),(0,r._)([(0,a.Cb)({type:Number,readOnly:!0})],o.prototype,"axisThreshold",null),o=(0,r._)([(0,s.j)("esri.views.input.gamepad.GamepadInputDevice")],o);const l=new RegExp("^(3dconnexion|space(mouse|navigator|pilot|explorer))","i"),c={standard:.15,spacemouse:.025,unknown:0};const d=o},12421:(e,t,i)=>{"use strict";i.d(t,{y:()=>l,N:()=>c});var r=i(56140),a=(i(95830),i(36544),i(68055),i(79881)),s=i(51894),n=i(87566),o=(i(10923),i(57002),i(86035),i(39105));const l=e=>{let t=class extends e{constructor(){super(...arguments),this.refreshTimestamp=null,this.refreshDebounced=(0,o.debounce)((async(e,t)=>{let i;"number"==typeof e?i=e:(i=Date.now(),t=e),this._set("refreshTimestamp",i),this.doRefresh&&await this.doRefresh(t)}),2e3)}refresh(e=Date.now()){this._set("refreshTimestamp",e),this.doRefresh&&this.doRefresh()}};return(0,r._)([(0,a.Cb)()],t.prototype,"layer",void 0),(0,r._)([(0,s.B)("layer.refreshInterval")],t.prototype,"refreshInterval",void 0),(0,r._)([(0,a.Cb)({readOnly:!0})],t.prototype,"refreshTimestamp",void 0),t=(0,r._)([(0,n.j)("esri.layers.mixins.RefreshableLayerView")],t),t};function c(e){return"refresh"in e}},4338:(e,t,i)=>{"use strict";i.d(t,{_:()=>n});var r=i(56140),a=(i(95830),i(36544),i(68055),i(79881)),s=i(87566);i(10923),i(57002),i(86035);const n=e=>{let t=class extends e{constructor(...e){super(...e),this.goToOverride=null,this.view=null}callGoTo(e){const{view:t}=this;return this.goToOverride?this.goToOverride(t,e):t.goTo(e.target,e.options)}};return(0,r._)([(0,a.Cb)()],t.prototype,"goToOverride",void 0),(0,r._)([(0,a.Cb)()],t.prototype,"view",void 0),t=(0,r._)([(0,s.j)("esri.widgets.support.GoTo")],t),t}}}]);
//# sourceMappingURL=6426.js.map