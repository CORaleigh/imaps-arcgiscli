/*! For license information please see index.js.LICENSE.txt */
(self.webpackChunkimaps=self.webpackChunkimaps||[]).push([[4826],{65984:(e,t,i)=>{"use strict";i.d(t,{Z:()=>C});var r,n=i(56140),s=(i(95830),i(59472)),o=(i(36544),i(79881)),a=i(60263),l=i(87566),c=(i(10923),i(57002),i(86035),i(58385)),h=i(56885),d=i(36348),u=i(68055),p=i(30590),f=i(60538),m=i(61106),_=i(33655),g=i(17154);let y=r=class extends c.wq{constructor(...e){super(...e),this.position=new m.Z([0,0,0]),this.heading=0,this.tilt=0,this.fov=55}normalizeCtorArgs(e,t,i,r){if(e&&"object"==typeof e&&("x"in e||Array.isArray(e))){const n={position:e};return null!=t&&(n.heading=t),null!=i&&(n.tilt=i),null!=r&&(n.fov=r),n}return e}writePosition(e,t,i,r){const n=e.clone();n.x=(0,u.q9)(e.x||0),n.y=(0,u.q9)(e.y||0),n.z=e.hasZ?(0,u.q9)(e.z||0):e.z,t[i]=n.write(null,r)}readPosition(e,t){const i=new m.Z;return i.read(e,t),i.x=(0,u.q9)(i.x||0),i.y=(0,u.q9)(i.y||0),i.z=i.hasZ?(0,u.q9)(i.z||0):i.z,i}equals(e){return!!e&&this.tilt===e.tilt&&this.heading===e.heading&&this.fov===e.fov&&this.position.equals(e.position)}clone(){return new r({position:this.position.clone(),heading:this.heading,tilt:this.tilt,fov:this.fov})}};(0,n._)([(0,o.Cb)({type:m.Z,json:{write:{isRequired:!0}}})],y.prototype,"position",void 0),(0,n._)([(0,f.c)("position")],y.prototype,"writePosition",null),(0,n._)([(0,p.r)("position")],y.prototype,"readPosition",null),(0,n._)([(0,o.Cb)({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}}),(0,a.p)((e=>g.LU.normalize((0,u.q9)(e))))],y.prototype,"heading",void 0),(0,n._)([(0,o.Cb)({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}}),(0,a.p)((e=>(0,_.uZ)((0,u.q9)(e),-180,180)))],y.prototype,"tilt",void 0),(0,n._)([(0,o.Cb)({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],y.prototype,"fov",void 0),y=r=(0,n._)([(0,l.j)("esri.Camera")],y);const v=y;var b;let w=b=class extends c.wq{constructor(e){super(e),this.rotation=0,this.scale=0,this.targetGeometry=null,this.camera=null}castRotation(e){return(e%=360)<0&&(e+=360),e}clone(){return new b({rotation:this.rotation,scale:this.scale,targetGeometry:(0,s.pC)(this.targetGeometry)?this.targetGeometry.clone():null,camera:(0,s.pC)(this.camera)?this.camera.clone():null})}};function x(){return{enabled:!this.camera}}(0,n._)([(0,o.Cb)({type:Number,json:{write:!0,origins:{"web-map":{default:0,write:!0},"web-scene":{write:{overridePolicy:x}}}}})],w.prototype,"rotation",void 0),(0,n._)([(0,a.p)("rotation")],w.prototype,"castRotation",null),(0,n._)([(0,o.Cb)({type:Number,json:{write:!0,origins:{"web-map":{default:0,write:!0},"web-scene":{write:{overridePolicy:x}}}}})],w.prototype,"scale",void 0),(0,n._)([(0,o.Cb)({types:d.qM,json:{read:h.im,write:!0,origins:{"web-scene":{read:h.im,write:{overridePolicy:x}}}}})],w.prototype,"targetGeometry",void 0),(0,n._)([(0,o.Cb)({type:v,json:{write:!0}})],w.prototype,"camera",void 0),w=b=(0,n._)([(0,l.j)("esri.Viewpoint")],w);const C=w},76910:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>Be});var r,n=i(56140),s=(i(95830),i(59472)),o=i(36544),a=i(68055),l=i(79881),c=i(30590),h=i(87566),d=i(60538),u=i(32656),p=i(10923),f=(i(57002),i(86035),i(19677)),m=i(39105),_=i(17771),g=i(73032),y=i(41241),v=i(83477),b=i(23838),w=i(75044),x=i(809),C=i(32797),S=i(1721),A=i(80192),T=i(87837),k=i(80882),O=i(94850),P=i(65984),I=i(43072),E=i(80621),M=i(28885),R=i(97849),N=i(62646),L=i(52411),D=i(82550),z=i(58385);let F=r=class extends z.wq{constructor(e){super(e),this.activeRange=null,this.currentRangeExtent=null,this.fullRangeExtent=null}clone(){return new r((0,D.d9)({activeRange:this.activeRange,currentRangeExtent:this.currentRangeExtent,fullRangeExtent:this.fullRangeExtent}))}};(0,n._)([(0,l.Cb)({type:String,nonNullable:!0,json:{read:{source:"activeRangeName"},write:{target:"activeRangeName",isRequired:!0}}})],F.prototype,"activeRange",void 0),(0,n._)([(0,l.Cb)({type:[Number],json:{write:!0}})],F.prototype,"currentRangeExtent",void 0),(0,n._)([(0,l.Cb)({type:[Number],json:{write:!0}})],F.prototype,"fullRangeExtent",void 0),F=r=(0,n._)([(0,h.j)("esri.webdoc.RangeInfo")],F);const j=F;var B;const V=new(i(56274).Xn)({slider:"slider",picker:"picker"});let U=B=class extends z.wq{constructor(e){super(e),this.interactionMode=null,this.numStops=null,this.stopInterval=null}clone(){return new B({interactionMode:this.interactionMode,numStops:this.numStops,stopInterval:this.stopInterval})}};(0,n._)([(0,l.Cb)({type:V.apiValues,nonNullable:!0,json:{type:V.jsonValues,default:null,read:{reader:V.read},write:{isRequired:!0,writer:V.write}}})],U.prototype,"interactionMode",void 0),(0,n._)([(0,l.Cb)({type:Number,json:{read:{source:"numberOfStops"},write:{target:"numberOfStops",overridePolicy(){const e=null!=this.stopInterval;return{enabled:!e,isRequired:!e}}}}})],U.prototype,"numStops",void 0),(0,n._)([(0,l.Cb)({type:Number,json:{write:{overridePolicy(){return{isRequired:null==this.numStops}}}}})],U.prototype,"stopInterval",void 0),U=B=(0,n._)([(0,h.j)("esri.webdoc.widgets.Range")],U);const G=U;var Z,H=i(10103),W=i(87864),q=i(40522);let $=Z=class extends z.wq{constructor(e){super(e),this.currentTimeExtent=null,this.fullTimeExtent=null,this.numStops=null,this.numThumbs=null,this.stopDelay=null,this.stopInterval=null}readCurrentTimeExtent(e){if(!e)return;const t=null!=e[0]?new Date(e[0]):null,i=null!=e[1]?new Date(e[1]):null;return new W.Z({start:t,end:i})}writeCurrentTimeExtent(e,t,i){e&&(0,H.RB)(i,[e.start?e.start.getTime():null,e.end?e.end.getTime():null],t)}readFullTimeExtent(e,t){const i=t.properties;if(!i)return;const r=null!=i.endTime?new Date(i.endTime):null,n=null!=i.startTime?new Date(i.startTime):null;return new W.Z({start:n,end:r})}writeFullTimeExtent(e,t){if(!e)return;const i=t.properties=t.properties||{},r=e.end,n=e.start;r&&(i.endTime=r?r.getTime():null),n&&(i.startTime=n?n.getTime():null)}readStopInterval(e,t,i){return e?q.Z.fromJSON({value:e.interval,unit:e.units},i):null}writeStopInterval(e,t,i,r){if(!e)return;const n=e.toJSON(r);(0,H.RB)(i,{interval:n.value,units:n.unit},t)}clone(){return new Z((0,D.d9)({currentTimeExtent:this.currentTimeExtent,fullTimeExtent:this.fullTimeExtent,numStops:this.numStops,numThumbs:this.numThumbs,stopDelay:this.stopDelay,stopInterval:this.stopInterval}))}};(0,n._)([(0,l.Cb)({type:W.Z,json:{read:{source:"properties.currentTimeExtent"},write:{target:"properties.currentTimeExtent"}}})],$.prototype,"currentTimeExtent",void 0),(0,n._)([(0,c.r)("currentTimeExtent")],$.prototype,"readCurrentTimeExtent",null),(0,n._)([(0,d.c)("currentTimeExtent")],$.prototype,"writeCurrentTimeExtent",null),(0,n._)([(0,l.Cb)({type:W.Z,json:{read:{source:["properties.endTime","properties.startTime"]},write:{target:{"properties.endTime":{type:Number},"properties.startTime":{type:Number}}}}})],$.prototype,"fullTimeExtent",void 0),(0,n._)([(0,c.r)("fullTimeExtent")],$.prototype,"readFullTimeExtent",null),(0,n._)([(0,d.c)("fullTimeExtent")],$.prototype,"writeFullTimeExtent",null),(0,n._)([(0,l.Cb)({type:Number,json:{read:{source:"properties.numberOfStops"},write:{target:"properties.numberOfStops",overridePolicy(){const e=!!this.stopInterval;return{enabled:!e,isRequired:!e}}}}})],$.prototype,"numStops",void 0),(0,n._)([(0,l.Cb)({type:[1,2],nonNullable:!0,json:{read:{source:"properties.thumbCount"},write:{target:"properties.thumbCount",isRequired:!0}}})],$.prototype,"numThumbs",void 0),(0,n._)([(0,l.Cb)({type:Number,nonNullable:!0,json:{read:{source:"properties.thumbMovingRate"},write:{target:"properties.thumbMovingRate",isRequired:!0}}})],$.prototype,"stopDelay",void 0),(0,n._)([(0,l.Cb)({type:q.Z,json:{read:{source:"properties.timeStopInterval"},write:{target:"properties.timeStopInterval",overridePolicy(){return{isRequired:null==this.numStops}}}}})],$.prototype,"stopInterval",void 0),(0,n._)([(0,c.r)("stopInterval")],$.prototype,"readStopInterval",null),(0,n._)([(0,d.c)("stopInterval")],$.prototype,"writeStopInterval",null),$=Z=(0,n._)([(0,h.j)("esri.webdoc.widgets.TimeSlider")],$);const J=$;var Y;let K=Y=class extends z.wq{constructor(e){super(e),this.range=null,this.timeSlider=null}clone(){return new Y((0,D.d9)({range:this.range,timeSlider:this.timeSlider}))}};(0,n._)([(0,l.Cb)({type:G,json:{write:!0}})],K.prototype,"range",void 0),(0,n._)([(0,l.Cb)({type:J,json:{write:!0}})],K.prototype,"timeSlider",void 0),K=Y=(0,n._)([(0,h.j)("esri.webdoc.Widgets")],K);const X=K,Q={width:600,height:400};function ee(e){return{enabled:!(null==e||!e.length)}}var te,ie=i(9870),re=i(88210);let ne=te=class extends z.wq{constructor(e){super(e),this.exactMatch=!1,this.name=null,this.type=null}clone(){return new te({exactMatch:this.exactMatch,type:this.type,name:this.name})}};(0,n._)([(0,l.Cb)({type:Boolean,json:{write:!0}})],ne.prototype,"exactMatch",void 0),(0,n._)([(0,l.Cb)({type:String,json:{write:!0}})],ne.prototype,"name",void 0),(0,n._)([(0,ie.J)(re.v)],ne.prototype,"type",void 0),ne=te=(0,n._)([(0,h.j)("esri.webdoc.applicationProperties.SearchLayerField")],ne);const se=ne;var oe;let ae=oe=class extends z.wq{constructor(e){super(e),this.field=null,this.id=null,this.subLayer=null}clone(){return new oe((0,D.d9)({field:this.field,id:this.id,subLayer:this.subLayer}))}};(0,n._)([(0,l.Cb)({type:se,json:{write:{isRequired:!0}}})],ae.prototype,"field",void 0),(0,n._)([(0,l.Cb)({type:String,json:{write:{isRequired:!0}}})],ae.prototype,"id",void 0),(0,n._)([(0,l.Cb)({type:a.z8,json:{write:!0}})],ae.prototype,"subLayer",void 0),ae=oe=(0,n._)([(0,h.j)("esri.webdoc.applicationProperties.SearchLayer")],ae);const le=ae;var ce;let he=ce=class extends z.wq{constructor(e){super(e),this.exactMatch=!1,this.name=null,this.type=null}clone(){return new ce({exactMatch:this.exactMatch,type:this.type,name:this.name})}};(0,n._)([(0,l.Cb)({type:Boolean,json:{write:!0}})],he.prototype,"exactMatch",void 0),(0,n._)([(0,l.Cb)({type:String,json:{write:!0}})],he.prototype,"name",void 0),(0,n._)([(0,ie.J)(re.v)],he.prototype,"type",void 0),he=ce=(0,n._)([(0,h.j)("esri.webdoc.applicationProperties.SearchTableField")],he);const de=he;var ue;let pe=ue=class extends z.wq{constructor(e){super(e),this.field=null,this.id=null}clone(){return new ue((0,D.d9)({field:this.field,id:this.id}))}};(0,n._)([(0,l.Cb)({type:de,json:{write:{isRequired:!0}}})],pe.prototype,"field",void 0),(0,n._)([(0,l.Cb)({type:String,json:{write:{isRequired:!0}}})],pe.prototype,"id",void 0),pe=ue=(0,n._)([(0,h.j)("esri.webdoc.applicationProperties.SearchTable")],pe);const fe=pe;var me;const _e=v.Z.ofType(le),ge=v.Z.ofType(fe);let ye=me=class extends z.wq{constructor(e){super(e),this.addressSearchEnabled=!0,this.enabled=!0,this.hintText=null,this.layers=new _e,this.tables=new ge}readAddressSearchEnabled(e){return!e}writeAddressSearchEnabled(e,t,i){t[i]=!e}clone(){return new me((0,D.d9)({addressSearchEnabled:this.addressSearchEnabled,enabled:this.enabled,hintText:this.hintText,layers:this.layers,tables:this.tables}))}};(0,n._)([(0,l.Cb)({type:Boolean,json:{read:{source:"disablePlaceFinder"},write:{target:"disablePlaceFinder"},default:!0,origins:{"web-scene":{read:!1,write:!1}}}})],ye.prototype,"addressSearchEnabled",void 0),(0,n._)([(0,c.r)("addressSearchEnabled")],ye.prototype,"readAddressSearchEnabled",null),(0,n._)([(0,d.c)("addressSearchEnabled")],ye.prototype,"writeAddressSearchEnabled",null),(0,n._)([(0,l.Cb)({type:Boolean,json:{write:!0,default:!0}})],ye.prototype,"enabled",void 0),(0,n._)([(0,l.Cb)({type:String,json:{write:!0}})],ye.prototype,"hintText",void 0),(0,n._)([(0,l.Cb)({type:_e,json:{write:{overridePolicy:ee},origins:{"web-scene":{write:{isRequired:!0}}}}})],ye.prototype,"layers",void 0),(0,n._)([(0,l.Cb)({type:ge,json:{read:!0,write:{overridePolicy:ee},origins:{"web-scene":{read:!1,write:!1}}}})],ye.prototype,"tables",void 0),ye=me=(0,n._)([(0,h.j)("esri.webdoc.applicationProperties.Search")],ye);const ve=ye;var be;let we=be=class extends z.wq{constructor(e){super(e),this.search=null}clone(){return new be((0,D.d9)({search:this.search}))}};(0,n._)([(0,l.Cb)({type:ve,json:{write:!0}})],we.prototype,"search",void 0),we=be=(0,n._)([(0,h.j)("esri.webdoc.applicationProperties.Viewing")],we);const xe=we;var Ce;let Se=Ce=class extends z.wq{constructor(e){super(e),this.editing=null,this.offline=null,this.viewing=null}clone(){return new Ce((0,D.d9)({editing:this.editing,offline:this.offline,viewing:this.viewing}))}};(0,n._)([(0,l.Cb)({json:{write:!0}})],Se.prototype,"editing",void 0),(0,n._)([(0,l.Cb)({json:{write:!0}})],Se.prototype,"offline",void 0),(0,n._)([(0,l.Cb)({type:xe,json:{write:!0}})],Se.prototype,"viewing",void 0),Se=Ce=(0,n._)([(0,h.j)("esri.webmap.ApplicationProperties")],Se);const Ae=Se;var Te,ke=i(65892),Oe=i(29155),Pe=i(82677);let Ie=Te=class extends Pe.default{constructor(e){super(e),this.background=null,this.rangeInfo=null,this.spatialReference=null,this.viewpoint=null}clone(){return new Te((0,D.d9)({background:this.background,rangeInfo:this.rangeInfo,spatialReference:this.spatialReference,viewpoint:this.viewpoint}))}};(0,n._)([(0,l.Cb)({type:Oe.Z})],Ie.prototype,"background",void 0),(0,n._)([(0,l.Cb)({type:j})],Ie.prototype,"rangeInfo",void 0),(0,n._)([(0,l.Cb)({type:g.Z})],Ie.prototype,"spatialReference",void 0),(0,n._)([(0,l.Cb)({type:P.Z})],Ie.prototype,"viewpoint",void 0),Ie=Te=(0,n._)([(0,h.j)("esri.webmap.InitialViewProperties")],Ie);const Ee=Ie;var Me=i(34175);class Re extends Me.G{constructor(e,t){super(e,t,"webmap")}}const Ne=new Re(2,19),Le=v.Z.ofType(ke.Z),De=o.Z.getLogger("esri.WebMap"),ze=new Map;ze.set("image/jpeg","jpeg"),ze.set("image/jpg","jpg"),ze.set("image/png","png"),ze.set("image/gif","gif");const Fe=["NatGeo_World_Map","Ocean_Basemap","USA_Topo_Maps","World_Imagery","World_Street_Map","World_Terrain_Base","World_Topo_Map","World_Hillshade","Canvas/World_Light_Gray_Base","Canvas/World_Light_Gray_Reference","Canvas/World_Dark_Gray_Base","Canvas/World_Dark_Gray_Reference","Ocean/World_Ocean_Base","Ocean/World_Ocean_Reference","Reference/World_Boundaries_and_Places","Reference/World_Reference_Overlay","Reference/World_Transportation"].map((e=>e.toLowerCase()));let je=class extends((0,I.R)(x.Z.LoadableMixin((0,w.v)(O.Z)))){constructor(e){super(e),this.applicationProperties=null,this.bookmarks=new Le,this.initialViewProperties=new Ee,this.portalItem=null,this.presentation=null,this.sourceVersion=null,this.widgets=null,this.authoringApp=this.authoringAppVersion=null,this._isAuthoringAppSetByUser=this._isAuthoringAppVersionSetByUser=!1}destroy(){const e=this.portalItem;this.portalItem=null,null==e||e.destroy()}initialize(){if(this.when().catch((e=>{De.error("#load()","Failed to load web map",e)})),this.resourceInfo){let e;try{e=this._validateJSON(this.resourceInfo)}catch(e){return void this.addResolvingPromise((0,m.reject)(e))}this.read(e)}}set authoringApp(e){this._isAuthoringAppSetByUser=!0,this._set("authoringApp",e)}writeAuthoringApp(e,t){e&&this._isAuthoringAppSetByUser?t.authoringApp=e:t.authoringApp="ArcGIS API for JavaScript"}set authoringAppVersion(e){this._isAuthoringAppVersionSetByUser=!0,this._set("authoringAppVersion",e)}writeAuthoringAppVersion(e,t){e&&this._isAuthoringAppVersionSetByUser?t.authoringAppVersion=e:t.authoringAppVersion=b.i8}readInitialViewProperties(e,t){const i=new Ee;return t.background&&(i.background=Oe.Z.fromJSON(t.background)),t.initialState&&t.initialState.viewpoint&&(i.viewpoint=P.Z.fromJSON(t.initialState.viewpoint)),t.mapRangeInfo&&(i.rangeInfo=j.fromJSON(t.mapRangeInfo)),t.spatialReference&&(i.spatialReference=g.Z.fromJSON(t.spatialReference)),i}writeInitialViewProperties(e,t,i,r){if(!e)return;const n=e.background;n&&n.color&&(t.background=n.write(null,r)),e.viewpoint&&(t.initialState={viewpoint:e.viewpoint.write(null,r)}),e.rangeInfo&&(t.mapRangeInfo=e.rangeInfo.toJSON(r)),e.spatialReference&&(t.spatialReference=e.spatialReference.write(null,r))}writeLayers(e,t,i,r){t[i]=this._writeLayers(e,r,"operational-layers")}readSourceVersion(e,t){const[i,r]=t.version.split(".");return new Re(parseInt(i,10),parseInt(r,10))}writeSourceVersion(e,t,i){t[i]=`${Ne.major}.${Ne.minor}`}writeTables(e,t,i,r){const n=this._writeLayers(e,r,"tables");n.length&&(t[i]=n)}get thumbnailUrl(){return this.portalItem&&this.portalItem.thumbnailUrl||null}set thumbnailUrl(e){e?(this._override("thumbnailUrl",e),this._thumbnailFilename=this._generateCustomThumbnailFilename(e)):this._clearThumbnailOverride()}load(e){return this.addResolvingPromise(this._loadFromSource()),(0,m.resolve)(this)}loadAll(){return(0,S.GZ)(this,(e=>{e(this.ground,this.basemap,this.layers,this.tables)}))}read(e,t){t={...t,origin:"web-map"};const i=this._getAuthoringPropsState();(0,_.$Z)(this,e,(t=>super.read(e,t)),t),this._restoreAuthoringPropsFromState(i)}write(e,t){if("loaded"!==this.loadStatus){const e=new u.Z("webmap:not-loaded","Web map must be loaded before it can be serialized");throw De.error("#toJSON()","Web map must be loaded before it can be serialized",this.loadError||this.loadStatus),e}return this._removeDanglingLayerRefs(),t={...t,origin:"web-map",restrictedWebMapWriting:!0,webmap:this},super.write(e,t)}async save(e){e=e||{},this._validateItem(),await this._updateFromPromise,await this.load(),await this._loadLayerContainers(),this._validateMap();const t=this.portalItem,i={origin:"web-map",messages:[],writtenProperties:[],url:t.itemUrl&&(0,p.mN)(t.itemUrl),portal:t.portal||C.Z.getDefault()},r=this.write(null,i);return this._validateJSONForWriting(i,e),await this._updateItemProperties(t),await this._updateItem(t,r,i),await this._updateItemThumbnail(),t}async saveAs(e,t){t=t||{};const i=this._getPortalItem(e);await this._updateFromPromise,await this.load(),await this._loadLayerContainers(),this._validateMap();const r={origin:"web-map",messages:[],writtenProperties:[],url:null,portal:i.portal},n=this.write(null,r);this._validateJSONForWriting(r,t),await this._updateItemPropertiesForSaveAs(i);const s=this._getThumbnailState();return await this._createItem(i,n,r,t),this._restoreThumbnailFromState(s),await this._updateItemThumbnail(),i}async updateFrom(e,t){const i=this._updateFromInternal(e,t);this._updateFromPromise=i,await i,i===this._updateFromPromise&&(this._updateFromPromise=null)}getLayerJSONFromResourceInfo(e){var t,i,r,n;const s=this.resourceInfo;return this._collectAllLayersJSON((0,f.xH)([null==s||null==(t=s.baseMap)?void 0:t.baseMapLayers,null==s?void 0:s.operationalLayers,null==(i=this.basemap)||null==(r=i.resourceInfo)||null==(n=r.data)?void 0:n.baseMapLayers])).find((t=>t.id===e.id))}_collectAllLayersJSON(e){return e.reduce(((e,t)=>(e.push(t),"GroupLayer"===t.layerType&&(e=e.concat(this._collectAllLayersJSON(t.layers||[]))),e)),[])}_writeLayers(e,t,i){return t={...t,layerContainerType:i},e.map((e=>(0,s.Wg)((0,T.Nw)(e,"tables"===i?null:this.getLayerJSONFromResourceInfo(e),t)))).filter(Boolean).toArray()}_loadFromSource(){return this.resourceInfo?this._loadFromJSON(this.resourceInfo,{origin:"web-map"}):this.portalItem&&this.portalItem.id?this._loadFromItem(this.portalItem):(0,m.resolve)(null)}_loadFromItem(e){return e.load().catch((e=>{throw new u.Z("webmap:load-portal-item","Failed to load portal item",{error:e})})).then((()=>{if("Web Map"!==e.type)throw new u.Z("webmap:invalid-portal-item","Invalid portal item type '${type}', expected 'Web Map'",{type:e.type})})).then((()=>e.fetchData())).then((t=>(this.resourceInfo=t,this._readAndLoadFromJSON(t,{origin:"web-map",portal:e.portal||C.Z.getDefault()})))).then((()=>this._computeInitialViewpoint()))}_readAndLoadFromJSON(e,t){const i=this._validateJSON(e);return this.read(i,t),this._loadFromJSON(i,t)}_validateJSON(e){const t=Re.parse(e.version||"","webmap");return Ne.validate(t),e.version=`${t.major}.${t.minor}`,e}_loadFromJSON(e,t){const r={context:{...t,layerContainerType:"operational-layers"}};return this.portalItem&&(r.context.portal=this.portalItem.portal||C.Z.getDefault()),i.e(8756).then(i.bind(i,87254)).then((({populateOperationalLayers:t})=>{const i=[],n=e.operationalLayers;n&&n.length&&i.push(t(this.layers,n,r));const s={...r,context:{...r.context,layerContainerType:"tables"},defaultLayerType:"ArcGISFeatureLayer"},o=e.tables;return o&&o.length&&i.push(t(this.tables,o,s)),(0,m.eachAlways)(i).then((()=>{}))}))}async _computeInitialViewpoint(){var e,t;let i=this.initialViewProperties;if(null==(e=i)||null==(t=e.viewpoint)?void 0:t.targetGeometry)return;const r=await this._getExtentFromItem();r&&(i=i?i.clone():new Ee,i.viewpoint=new P.Z,i.viewpoint.targetGeometry=r,this.initialViewProperties=i)}async _getExtentFromItem(){var e,t;const r=null==(e=this.initialViewProperties)?void 0:e.spatialReference,n=null==(t=this.portalItem)?void 0:t.extent;return r&&n?r.isWGS84?n.clone():r.isWebMercator?(0,y.$)(n):(await Promise.resolve().then(i.bind(i,75138))).create(this.portalItem).then((e=>{const t=new L.Z;return t.geometries=[n],t.outSpatialReference=r,e.project(t)})).then((e=>e[0])).catch((e=>(De.error("Error projecting item's extent:",e),null))):null}_removeDanglingLayerRefs(){const e=this.applicationProperties,t=e&&e.viewing&&e.viewing.search,i=e=>!!this.allLayers.find((t=>t.id===e));t&&t.layers&&(t.layers=t.layers.filter((e=>i(e.id)))),t&&t.tables&&(t.tables=t.tables.filter((e=>!!this.tables.find((t=>t.id===e.id)))));const r=e&&e.editing&&e.editing.locationTracking;r&&r.info&&!i(r.info.layerId)&&(e.editing=null);const n=this.presentation&&this.presentation.slides;n&&n.forEach((e=>{e.visibleLayers&&(e.visibleLayers=e.visibleLayers.filter((e=>i(e.id))))}))}_validateMap(){if(!this.basemap||!this.basemap.baseLayers.length)throw new u.Z("webmap:save","Map does not have a valid basemap with a base layer.")}_validateItem(){if(!this.portalItem)throw De.error("save: requires the portalItem property to be set"),new u.Z("webmap:portal-item-not-set","Portal item to save to has not been set on the WebMap");this._validateItemType(this.portalItem)}_validateItemType(e){if("Web Map"!==e.type)throw new u.Z("webmap:portal-item-wrong-type",'Portal item needs to have type "Web Map"')}_loadLayerContainers(){const e=[];return this.basemap&&e.push(this.basemap.load()),this.ground&&e.push(this.ground.load()),(0,m.eachAlways)(e).then((()=>{}))}_loadAllLayers(){const e=this._getAllLayersAndTables().map((e=>e.load()));return(0,m.eachAlways)(e).then((()=>{}))}_getAllLayersAndTables(){return this.allLayers.concat(this.allTables)}_validateJSONForWriting(e,t){let i=e.messages.filter((e=>"error"===e.type)).map((e=>new u.Z(e.name,e.message,e.details)));if(t.ignoreUnsupported&&(i=i.filter((e=>"layer:unsupported"!==e.name&&"symbol:unsupported"!==e.name&&"symbol-layer:unsupported"!==e.name&&"property:unsupported"!==e.name&&"url:unsupported"!==e.name))),i.length>0)throw new u.Z("webmap:save","Failed to save webmap due to unsupported or invalid content. See 'details.errors' for more detailed information",{errors:i})}async _updateItemProperties(e){e.extent=await this._getWGS84Extent(this.initialViewProperties.viewpoint.targetGeometry),await this._updateTypeKeywords(e)}async _updateItemPropertiesForSaveAs(e){(0,N.ck)(e,"CollectorDisabled"),(0,N.ck)(e,"OfflineDisabled"),(0,N.ck)(e,"Workforce Project"),(0,N.ck)(e,"Workforce Worker"),(0,N.ck)(e,"Workforce Dispatcher"),(0,N.ck)(e,"Offline Map Areas"),(0,N.ck)(e,"FieldMapsDisabled"),await this._updateItemProperties(e)}async _getWGS84Extent(e){const t=e.clone().normalize();let i;if(t.length>1)for(const e of t)i?e.width>i.width&&(i=e):i=e;else i=t[0];return this._projectToWGS84(i)}async _projectToWGS84(e){const t=e.spatialReference;if(t.isWGS84)return e.clone();if(t.isWebMercator)return(0,y.Sx)(e);const r=await Promise.resolve().then(i.bind(i,75138)),n=await r.create(this.portalItem),s=new L.Z;return s.geometries=[e],s.outSpatialReference=g.Z.WGS84,(await n.project(s))[0]}async _updateTypeKeywords(e){(0,N.qj)(e,"ArcGIS API for JavaScript"),await this._loadAllLayers(),this._evalCollectorKeyword(e),this._evalDataEditingKeyword(e),this._evalOfflineKeyword(e),this._evalDeveloperBasemapKeyword(e),e.typeKeywords&&(e.typeKeywords=e.typeKeywords.filter(((e,t,i)=>i.indexOf(e)===t)))}_evalCollectorKeyword(e){(0,N._$)(e,"CollectorDisabled")||(0,N._$)(e,"Workforce Project")||(0,N._$)(e,"Workforce Worker")||(0,N._$)(e,"Workforce Dispatcher")||!this._hasEditableFeatureLayer()?(0,N.ck)(e,"Collector"):(0,N.qj)(e,"Collector")}_evalDataEditingKeyword(e){this._hasEditableFeatureLayer()?(0,N.qj)(e,"Data Editing"):(0,N.ck)(e,"Data Editing")}_evalOfflineKeyword(e){!(0,N._$)(e,"OfflineDisabled")&&this._isOfflineCapableMap()?(0,N.qj)(e,"Offline"):(0,N.ck)(e,"Offline")}_evalDeveloperBasemapKeyword(e){(0,k.zb)(this.basemap)?(0,N.qj)(e,"DeveloperBasemap"):(0,N.ck)(e,"DeveloperBasemap")}_hasEditableFeatureLayer(){return this._getAllLayersAndTables().some((e=>e.loaded&&this._isFeatureServiceLayer(e)&&e.capabilities.operations.supportsEditing&&e.editingEnabled))}_isFeatureServiceLayer(e){return!("feature"!==e.type||!e.source||"feature-layer"!==e.source.type)}_isOfflineCapableMap(){return this._getAllLayersAndTables().filter((e=>"group"!==e.type)).every((e=>e.loaded&&this._isOfflineCapableLayer(e)))}_isOfflineCapableLayer(e){return this._isFeatureServiceLayer(e)&&e.capabilities.operations.supportsSync||("tile"===e.type||"vector-tile"===e.type)&&(e.capabilities.operations.supportsExportTiles||this._isExportableAGOLTileLayer(e)||(0,k.aL)(e))&&e.spatialReference.equals(this.initialViewProperties.spatialReference)}_isExportableAGOLTileLayer(e){return"tile"===e.type&&(0,R.h3)(e.url)&&Fe.some((t=>e.url.toLowerCase().indexOf("/"+t+"/")>-1))}async _updateItem(e,t,i){await e.update({data:t}),this._syncUpInstanceWithItem(e,t,i)}async _createItem(e,t,i,r){const n=this.portalItem,s=!!(n&&n.id&&n.portal.user),o=e.portal;if(await o._signIn(),!await this._canCopyItem(n,s,o))throw new u.Z("webmap:save-as-copy-not-allowed","Owner of this map does not allow others to save a copy");await o.user.addItem({item:e,folder:r.folder,data:t}),this.portalItem=e,this._syncUpInstanceWithItem(e,t,i)}async _canCopyItem(e,t,i){return!((0,s.pC)(e)&&e.id&&e.typeKeywords&&e.typeKeywords.indexOf("useOnly")>-1)||e.portal.portalHostname===i.portalHostname&&(t||await e.reload(),"admin"===e.itemControl||"update"===e.itemControl)}_syncUpInstanceWithItem(e,t,i){I.w.prototype.read.call(this,{version:t.version,authoringApp:t.authoringApp,authoringAppVersion:t.authoringAppVersion},{origin:"web-map",ignoreDefaults:!0,url:e.itemUrl&&(0,p.mN)(e.itemUrl)}),(0,M.D)(i),this.resourceInfo=t}async _updateItemThumbnail(){this.thumbnailUrl&&this._isOverridden("thumbnailUrl")&&(await this.portalItem.updateThumbnail({thumbnail:this.thumbnailUrl,filename:this._thumbnailFilename}),this._clearThumbnailOverride())}_getPortalItem(e){let t=A.default.from(e);return t.id&&(t=t.clone(),t.id=null),t.type||(t.type="Web Map"),t.portal||(t.portal=C.Z.getDefault()),this._validateItemType(t),t}async _updateFromInternal(e,t){t=t||{},await(0,E.whenTrueOnce)(e,"ready"),this._updateInitialViewProperties(e,t),await this._updateThumbnailUrl(e,t)}_updateInitialViewProperties(e,t){var i;if(t.backgroundExcluded||(this.initialViewProperties.background=null==(i=e.background)?void 0:i.clone()),this.initialViewProperties.spatialReference=e.spatialReference.clone(),t.viewpointExcluded||(this.initialViewProperties.viewpoint=new P.Z({rotation:e.rotation,scale:t.scalePreserved?e.scale:null,targetGeometry:this._getViewExtent(e)})),!t.widgetsExcluded)for(const t of e.persistableViewModels)t.updateWebDocument(this)}_getViewExtent(e){const t=e.center.clone().normalize(),i=e.extent.clone(),r=i.width/2;return i.xmin=t.x-r,i.xmax=t.x+r,i}async _updateThumbnailUrl(e,t){if(t.thumbnailExcluded)return;const i=function(e,t){t=t||Q;let{width:i,height:r}=t;const n=i/r;return n<1.5?r=i/1.5:n>1.5&&(i=1.5*r),i>e.width&&(r*=e.width/i,i=e.width),r>e.height&&(i*=e.height/r,r=e.height),{width:Math.round(i),height:Math.round(r)}}(e,t.thumbnailSize),r=await e.takeScreenshot({format:"png",width:i.width,height:i.height});this._setAutoGeneratedThumbnail(r.dataUrl)}_setAutoGeneratedThumbnail(e){this.thumbnailUrl=e,this._thumbnailFilename=null}_clearThumbnailOverride(){this._clearOverride("thumbnailUrl"),this.clear("thumbnailUrl","user"),this._thumbnailFilename=null}_generateCustomThumbnailFilename(e){if((0,p.HK)(e)){const t=(0,p.sJ)(e),i=t&&t.mediaType,r=i&&ze.get(i.toLowerCase())||null,n=`thumbnail${Date.now()}`;return r?`${n}.${r}`:n}return null}_getThumbnailState(){let e=this.thumbnailUrl;return e&&(e=this._isOverridden("thumbnailUrl")?e:(0,p.ZN)(e,"w","8192")),{thumbnailUrl:e,filename:this._thumbnailFilename}}_restoreThumbnailFromState(e){this.thumbnailUrl=e.thumbnailUrl,this._thumbnailFilename=e.filename}_getAuthoringPropsState(){return{authoringApp:this.authoringApp,authoringAppVersion:this.authoringAppVersion,isAuthoringAppSetByUser:this._isAuthoringAppSetByUser,isAuthoringAppVersionSetByUser:this._isAuthoringAppVersionSetByUser}}_restoreAuthoringPropsFromState(e){e.isAuthoringAppSetByUser?this.authoringApp=e.authoringApp:this._isAuthoringAppSetByUser=!1,e.isAuthoringAppVersionSetByUser?this.authoringAppVersion=e.authoringAppVersion:this._isAuthoringAppVersionSetByUser=!1}static fromJSON(e){const t=e;if(!t)throw new u.Z("webmap:empty-resource","Expected a JSON resource but got nothing");return new this({resourceInfo:t})}};je.VERSION=Ne,(0,n._)([(0,l.Cb)({type:Ae,json:{write:!0}})],je.prototype,"applicationProperties",void 0),(0,n._)([(0,l.Cb)({type:String,json:{write:{allowNull:!0,ignoreOrigin:!0}}})],je.prototype,"authoringApp",null),(0,n._)([(0,d.c)("authoringApp")],je.prototype,"writeAuthoringApp",null),(0,n._)([(0,l.Cb)({type:String,json:{write:{allowNull:!0,ignoreOrigin:!0}}})],je.prototype,"authoringAppVersion",null),(0,n._)([(0,d.c)("authoringAppVersion")],je.prototype,"writeAuthoringAppVersion",null),(0,n._)([(0,l.Cb)({json:{read:{source:"baseMap"},write:{target:"baseMap"}}})],je.prototype,"basemap",void 0),(0,n._)([(0,l.Cb)({type:Le,json:{write:{overridePolicy:e=>({enabled:!!(e&&e.length>0),ignoreOrigin:!0})}}})],je.prototype,"bookmarks",void 0),(0,n._)([(0,l.Cb)({type:Ee,nonNullable:!0,json:{read:{source:["background","initialState.viewpoint","mapRangeInfo","spatialReference"]},write:{ignoreOrigin:!0,target:{background:{type:Oe.Z},"initialState.viewpoint":{type:P.Z},mapRangeInfo:{type:j},spatialReference:{type:g.Z}}}}})],je.prototype,"initialViewProperties",void 0),(0,n._)([(0,c.r)("initialViewProperties")],je.prototype,"readInitialViewProperties",null),(0,n._)([(0,d.c)("initialViewProperties")],je.prototype,"writeInitialViewProperties",null),(0,n._)([(0,l.Cb)({json:{write:{target:"operationalLayers",ignoreOrigin:!0}}})],je.prototype,"layers",void 0),(0,n._)([(0,d.c)("layers")],je.prototype,"writeLayers",null),(0,n._)([(0,l.Cb)({type:A.default})],je.prototype,"portalItem",void 0),(0,n._)([(0,l.Cb)({json:{write:!0}})],je.prototype,"presentation",void 0),(0,n._)([(0,l.Cb)()],je.prototype,"resourceInfo",void 0),(0,n._)([(0,l.Cb)({readOnly:!0,type:Re,json:{read:{source:"version"},write:{allowNull:!0,ignoreOrigin:!0,target:"version",isRequired:!0}}})],je.prototype,"sourceVersion",void 0),(0,n._)([(0,c.r)("sourceVersion")],je.prototype,"readSourceVersion",null),(0,n._)([(0,d.c)("sourceVersion")],je.prototype,"writeSourceVersion",null),(0,n._)([(0,l.Cb)({json:{read:!1,write:{ignoreOrigin:!0}}})],je.prototype,"tables",void 0),(0,n._)([(0,d.c)("tables")],je.prototype,"writeTables",null),(0,n._)([(0,l.Cb)({dependsOn:["portalItem.thumbnailUrl"]})],je.prototype,"thumbnailUrl",null),(0,n._)([(0,l.Cb)({type:X,json:{write:!0}})],je.prototype,"widgets",void 0),je=(0,n._)([(0,h.j)("esri.WebMap")],je);const Be=je},55955:(e,t,i)=>{"use strict";function r(){const e=new Float32Array(9);return e[0]=1,e[4]=1,e[8]=1,e}function n(e){const t=new Float32Array(9);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}i.d(t,{a:()=>n,c:()=>r});Object.freeze({__proto__:null,create:r,clone:n,fromValues:function(e,t,i,r,n,s,o,a,l){const c=new Float32Array(9);return c[0]=e,c[1]=t,c[2]=i,c[3]=r,c[4]=n,c[5]=s,c[6]=o,c[7]=a,c[8]=l,c},createView:function(e,t){return new Float32Array(e,t,9)}})},27851:(e,t,i)=>{"use strict";function r(){return new Float32Array(2)}function n(e,t){const i=new Float32Array(2);return i[0]=e,i[1]=t,i}function s(){return r()}function o(){return n(1,1)}function a(){return n(1,0)}function l(){return n(0,1)}i.d(t,{c:()=>r,f:()=>n});const c=s(),h=o(),d=a(),u=l();Object.freeze({__proto__:null,create:r,clone:function(e){const t=new Float32Array(2);return t[0]=e[0],t[1]=e[1],t},fromValues:n,createView:function(e,t){return new Float32Array(e,t,2)},zeros:s,ones:o,unitX:a,unitY:l,ZEROS:c,ONES:h,UNIT_X:d,UNIT_Y:u})},34175:(e,t,i)=>{"use strict";i.d(t,{G:()=>n});var r=i(32656);class n{constructor(e,t,i=""){this.major=e,this.minor=t,this._context=i}lessThan(e,t){return this.major<e||e===this.major&&this.minor<t}since(e,t){return!this.lessThan(e,t)}validate(e){if(this.major!==e.major){const t=this._context&&this._context+":",i=this._context&&this._context+" ";throw new r.Z(t+"unsupported-version",`Required major ${i}version is '${this.major}', but got '\${version.major}.\${version.minor}'`,{version:e})}}clone(){return new n(this.major,this.minor,this._context)}static parse(e,t=""){const[i,s]=e.split("."),o=/^\s*\d+\s*$/;if(!i||!i.match||!i.match(o))throw new r.Z((t&&t+":")+"invalid-version","Expected major version to be a number, but got '${version}'",{version:e});if(!s||!s.match||!s.match(o))throw new r.Z((t&&t+":")+"invalid-version","Expected minor version to be a number, but got '${version}'",{version:e});const a=parseInt(i,10),l=parseInt(s,10);return new n(a,l,t)}}},28885:(e,t,i)=>{"use strict";i.d(t,{D:()=>n});var r=i(96054);function n(e){e&&e.writtenProperties&&e.writtenProperties.forEach((e=>{const t=e.target;e.newOrigin&&e.oldOrigin!==e.newOrigin&&(0,r.l)(t)&&t.updateOrigin(e.propName,e.newOrigin)}))}},87790:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>k});var r=i(56140),n=(i(95830),i(59472)),s=i(36544),o=(i(68055),i(79881)),a=i(30590),l=i(87566),c=i(32656),h=i(10923),d=(i(57002),i(86035),i(39105)),u=i(54721),p=i(56700),f=i(43072),m=i(19048),_=i(18152),g=i(78910),y=i(48899),v=i(33716),b=i(54856),w=i(92673);const x=s.Z.getLogger("esri.views.3d.support.WorkerHandle");class C extends class{constructor(e,t,i,r={}){this._methodName=t,this._promise=(0,w.bA)(e,{...r,scheduler:i}).then((e=>{void 0===this._thread?(this._thread=e,this._promise=null,r.hasInitialize&&this.broadcast({},"initialize")):e.close()})),this._promise.catch((t=>x.error(`Failed to initialize ${e} worker: ${t}`)))}destroy(){this._thread&&(this._thread.close(),this._thread=null),this._promise=null}invoke(e,t){if(this._thread){const i=this.getTransferList(e);return this._thread.invoke(this._methodName,e,{transferList:i,signal:t})}return this._promise?this._promise.then((()=>((0,d.throwIfAborted)(t),this.invoke(e,t)))):(0,d.reject)(null)}broadcast(e,t){return this._thread?(0,d.all)(this._thread.broadcast(t,e)).then((()=>{})):this._promise?this._promise.then((()=>this.broadcast(e,t))):(0,d.reject)()}get promise(){return this._promise}}{constructor(e){super("LercWorker","_decode",e,{strategy:"dedicated"}),this.scheduler=e}decode(e,t,i){return e&&0!==e.byteLength?this.invoke({buffer:e,options:t},i):(0,d.resolve)(null)}getTransferList(e){return[e.buffer]}}const S=new Map;const A=s.Z.getLogger("esri.layers.ElevationLayer");let T=class extends((0,b.Z)((0,y.Y)((0,g.q)((0,v.I)((0,f.R)(p.Z)))))){constructor(...e){super(...e),this.copyright=null,this.heightModelInfo=null,this.path=null,this.opacity=1,this.operationalLayerType="ArcGISTiledElevationServiceLayer",this.sourceJSON=null,this.type="elevation",this.url=null,this.version=null,this._lercDecoder=function(e){let t=S.get(e);return t||(t={instance:new C(e),ref:0},S.set(e,t)),++t.ref,t.instance}()}normalizeCtorArgs(e,t){return"string"==typeof e?{url:e,...t}:e}destroy(){(function(e){if(null==e)return;const t=e.scheduler,i=S.get(t);i&&--i.ref<=0&&(i.instance.destroy(),S.delete(t))})(this._lercDecoder),this._lercDecoder=null}set minScale(e){this.constructed&&A.warn(`${this.declaredClass}.minScale support has been removed (since 4.5)`)}get minScale(){}set maxScale(e){this.constructed&&A.warn(`${this.declaredClass}.maxScale support has been removed (since 4.5)`)}get maxScale(){}readVersion(e,t){let i=t.currentVersion;return i||(i=9.3),i}load(e){const t=(0,n.pC)(e)?e.signal:null;return this.addResolvingPromise(this.loadFromPortal({supportedTypes:["Image Service"],supportsData:!1,validateItem:e=>{for(let t=0;t<e.typeKeywords.length;t++)if("elevation 3d layer"===e.typeKeywords[t].toLowerCase())return!0;throw new c.Z("portal:invalid-layer-item-type","Invalid layer item type '${type}', expected '${expectedType}' ",{type:"Image Service",expectedType:"Image Service Elevation 3D Layer"})}},e).then((()=>this._fetchImageService(t)),(()=>this._fetchImageService(t)))),(0,d.resolve)(this)}fetchTile(e,t,i,r){const s=(0,n.pC)((r=r||{signal:null}).signal)?r.signal:r.signal=(0,d.createAbortController)().signal,o={responseType:"array-buffer",signal:s},a={noDataValue:r.noDataValue,returnFileInfo:!0};return this.load().then((()=>this._fetchTileAvailability(e,t,i,r))).then((()=>(0,u.default)(this.getTileUrl(e,t,i),o))).then((e=>this._lercDecoder.decode(e.data,a,s))).then((e=>({values:e.pixelData,width:e.width,height:e.height,maxZError:e.fileInfo.maxZError,noDataValue:e.noDataValue,minValue:e.minValue,maxValue:e.maxValue})))}getTileUrl(e,t,i){const r=!this.tilemapCache&&this.supportsBlankTile,n=(0,h.B7)({...this.parsedUrl.query,blankTile:!r&&null});return`${this.parsedUrl.path}/tile/${e}/${t}/${i}${n?"?"+n:""}`}async queryElevation(e,t){const{ElevationQuery:r}=await Promise.all([i.e(8157),i.e(7333),i.e(5836)]).then(i.bind(i,93549));return(0,d.throwIfAborted)(t),(new r).query(this,e,t)}async createElevationSampler(e,t){const{ElevationQuery:r}=await Promise.all([i.e(8157),i.e(7333),i.e(5836)]).then(i.bind(i,93549));return(0,d.throwIfAborted)(t),(new r).createSampler(this,e,t)}_fetchTileAvailability(e,t,i,r){return this.tilemapCache?this.tilemapCache.fetchAvailability(e,t,i,r):(0,d.resolve)("unknown")}async _fetchImageService(e){if(this.sourceJSON)return this.sourceJSON;const t={query:{f:"json",...this.parsedUrl.query},responseType:"json",signal:e},i=await(0,u.default)(this.parsedUrl.path,t);i.ssl&&(this.url=this.url.replace(/^http:/i,"https:")),this.sourceJSON=i.data,this.read(i.data,{origin:"service",url:this.parsedUrl})}};(0,r._)([(0,o.Cb)({json:{read:{source:"copyrightText"}}})],T.prototype,"copyright",void 0),(0,r._)([(0,o.Cb)({readOnly:!0,type:m.Z})],T.prototype,"heightModelInfo",void 0),(0,r._)([(0,o.Cb)({type:String,json:{origins:{"web-scene":{read:!0,write:!0}},read:!1}})],T.prototype,"path",void 0),(0,r._)([(0,o.Cb)({type:["show","hide"]})],T.prototype,"listMode",void 0),(0,r._)([(0,o.Cb)({json:{read:!1,write:!1,origins:{service:{read:!1,write:!1},"portal-item":{read:!1,write:!1},"web-document":{read:!1,write:!1}}}})],T.prototype,"minScale",null),(0,r._)([(0,o.Cb)({json:{read:!1,write:!1,origins:{service:{read:!1,write:!1},"portal-item":{read:!1,write:!1},"web-document":{read:!1,write:!1}}}})],T.prototype,"maxScale",null),(0,r._)([(0,o.Cb)({json:{read:!1,write:!1,origins:{"web-document":{read:!1,write:!1}}}})],T.prototype,"opacity",void 0),(0,r._)([(0,o.Cb)({type:["ArcGISTiledElevationServiceLayer"]})],T.prototype,"operationalLayerType",void 0),(0,r._)([(0,o.Cb)()],T.prototype,"sourceJSON",void 0),(0,r._)([(0,o.Cb)({json:{read:!1},value:"elevation",readOnly:!0})],T.prototype,"type",void 0),(0,r._)([(0,o.Cb)(_.HQ)],T.prototype,"url",void 0),(0,r._)([(0,o.Cb)()],T.prototype,"version",void 0),(0,r._)([(0,a.r)("version",["currentVersion"])],T.prototype,"readVersion",null),T=(0,r._)([(0,l.j)("esri.layers.ElevationLayer")],T);const k=T},66416:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>R});var r=i(56140),n=(i(95830),i(59472)),s=(i(36544),i(79881)),o=i(60263),a=i(30590),l=i(87566),c=i(60538),h=i(32656),d=i(10923),u=(i(57002),i(86035),i(39105)),p=i(73032),f=(i(36348),i(54721)),m=i(56700),_=i(43072),g=i(97849),y=i(18152),v=i(78910),b=i(48899),w=i(57407),x=i(63795),C=i(33716),S=i(2194),A=i(10113),T=i(77204),k=i(54856),O=i(5698),P=i(41452),I=i(49708);const E=["Canvas/World_Dark_Gray_Base","Canvas/World_Dark_Gray_Reference","Canvas/World_Light_Gray_Base","Canvas/World_Light_Gray_Reference","Elevation/World_Hillshade","Elevation/World_Hillshade_Dark","Ocean/World_Ocean_Base","Ocean/World_Ocean_Reference","Ocean_Basemap","Reference/World_Boundaries_and_Places","Reference/World_Boundaries_and_Places_Alternate","Reference/World_Transportation","World_Imagery","World_Street_Map","World_Topo_Map"];let M=class extends((0,w.h)((0,I.x)((0,A.M)((0,S.Q)((0,v.q)((0,C.I)((0,k.Z)((0,O.O)((0,b.Y)((0,_.R)((0,T.p)((0,x.N)(m.Z))))))))))))){constructor(...e){super(...e),this.listMode="show",this.isReference=null,this.operationalLayerType="ArcGISTiledMapServiceLayer",this.resampling=!0,this.sourceJSON=null,this.spatialReference=null,this.path=null,this.sublayers=null,this.type="tile",this.url=null}normalizeCtorArgs(e,t){return"string"==typeof e?{url:e,...t}:e}load(e){const t=(0,n.pC)(e)?e.signal:null;return this.addResolvingPromise(this.loadFromPortal({supportedTypes:["Map Service"]},e).then((()=>this._fetchService(t)),(()=>this._fetchService(t)))),(0,u.resolve)(this)}get attributionDataUrl(){var e;const t=null==(e=this.parsedUrl)?void 0:e.path.toLowerCase();return t&&this._getDefaultAttribution(this._getMapName(t))}readSpatialReference(e,t){return(e=e||t.tileInfo&&t.tileInfo.spatialReference)&&p.Z.fromJSON(e)}writeSublayers(e,t,i,r){if(!this.loaded||!e)return;const n=e.slice().reverse().flatten((({sublayers:e})=>e&&e.toArray().reverse())).toArray(),s=[],o={writeSublayerStructure:!1,...r};n.forEach((e=>{const t=e.write({},o);s.push(t)})),s.some((e=>Object.keys(e).length>1))&&(t.layers=s)}get tileServers(){return this._getDefaultTileServers(this.parsedUrl.path)}castTileServers(e){return Array.isArray(e)?e.map((e=>(0,d.mN)(e).path)):null}fetchTile(e,t,i,r={}){const{signal:n,timestamp:s}=r,o=this.getTileUrl(e,t,i),a={responseType:"image",signal:n};return null!=s&&(a.query={_ts:r.timestamp}),(0,f.default)(o,a).then((e=>e.data))}getTileUrl(e,t,i){const r=!this.tilemapCache&&this.supportsBlankTile,n=(0,d.B7)({...this.parsedUrl.query,blankTile:!r&&null,...this.customParameters}),s=this.tileServers;return`${s&&s.length?s[t%s.length]:this.parsedUrl.path}/tile/${e}/${t}/${i}${n?"?"+n:""}`}_fetchService(e){return(0,u.create)(((t,i)=>{if(this.sourceJSON){if(null!=this.sourceJSON.bandCount&&null!=this.sourceJSON.pixelSizeX)throw new h.Z("tile-layer:unsupported-url","use ImageryTileLayer to open a tiled image service");return void t({data:this.sourceJSON})}if(!this.parsedUrl)throw new h.Z("tile-layer:undefined-url","layer's url is not defined");const r=(0,g.Qc)(this.parsedUrl.path);if((0,n.pC)(r)&&"ImageServer"===r.serverType)throw new h.Z("tile-layer:unsupported-url","use ImageryTileLayer to open a tiled image service");(0,f.default)(this.parsedUrl.path,{query:{f:"json",...this.parsedUrl.query,...this.customParameters},responseType:"json",signal:e}).then(t,i)})).then((t=>{if(t.ssl&&(this.url=this.url.replace(/^http:/i,"https:")),this.sourceJSON=t.data,this.read(t.data,{origin:"service",url:this.parsedUrl}),10.1===this.version&&!(0,g.M8)(this.url))return this._fetchServerVersion(this.url,e).then((e=>{this.read({currentVersion:e})})).catch((()=>{}))}))}_fetchServerVersion(e,t){if(!(0,g.B5)(e))return(0,u.reject)();const i=e.replace(/(.*\/rest)\/.*/i,"$1")+"/info";return(0,f.default)(i,{query:{f:"json",...this.customParameters},responseType:"json",signal:t}).then((e=>{if(e.data&&e.data.currentVersion)return e.data.currentVersion;throw new h.Z("tile-layer:version-not-available")}))}_getMapName(e){const t=e.match(/^(?:https?:)?\/\/(server\.arcgisonline\.com|services\.arcgisonline\.com|ibasemaps-api\.arcgis\.com)\/arcgis\/rest\/services\/([^\/]+(\/[^\/]+)*)\/mapserver/i);return t&&t[2]}_getDefaultAttribution(e){if(!e)return;let t;e=e.toLowerCase();for(let i=0,r=E.length;i<r;i++)if(t=E[i],t.toLowerCase().indexOf(e)>-1)return(0,d.hF)("//static.arcgis.com/attribution/"+t)}_getDefaultTileServers(e){const t=-1!==e.search(/^(?:https?:)?\/\/server\.arcgisonline\.com/i),i=-1!==e.search(/^(?:https?:)?\/\/services\.arcgisonline\.com/i);return t||i?[e,e.replace(t?/server\.arcgisonline/i:/services\.arcgisonline/i,t?"services.arcgisonline":"server.arcgisonline")]:[]}};(0,r._)([(0,s.Cb)({readOnly:!0,dependsOn:["parsedUrl"]})],M.prototype,"attributionDataUrl",null),(0,r._)([(0,s.Cb)({type:["show","hide","hide-children"]})],M.prototype,"listMode",void 0),(0,r._)([(0,s.Cb)({type:Boolean,json:{read:!1,write:{enabled:!0,overridePolicy:()=>({enabled:!1})}}})],M.prototype,"isReference",void 0),(0,r._)([(0,s.Cb)({readOnly:!0,type:["ArcGISTiledMapServiceLayer"]})],M.prototype,"operationalLayerType",void 0),(0,r._)([(0,s.Cb)({type:Boolean})],M.prototype,"resampling",void 0),(0,r._)([(0,s.Cb)()],M.prototype,"sourceJSON",void 0),(0,r._)([(0,s.Cb)({type:p.Z})],M.prototype,"spatialReference",void 0),(0,r._)([(0,a.r)("spatialReference",["spatialReference","tileInfo"])],M.prototype,"readSpatialReference",null),(0,r._)([(0,s.Cb)({type:String,json:{origins:{"web-scene":{read:!0,write:!0}},read:!1}})],M.prototype,"path",void 0),(0,r._)([(0,s.Cb)({readOnly:!0})],M.prototype,"sublayers",void 0),(0,r._)([(0,c.c)("sublayers",{layers:{type:[P.Z]}})],M.prototype,"writeSublayers",null),(0,r._)([(0,s.Cb)({json:{read:!1,write:!1}})],M.prototype,"popupEnabled",void 0),(0,r._)([(0,s.Cb)({dependsOn:["parsedUrl"]})],M.prototype,"tileServers",null),(0,r._)([(0,o.p)("tileServers")],M.prototype,"castTileServers",null),(0,r._)([(0,s.Cb)({readOnly:!0,json:{read:!1}})],M.prototype,"type",void 0),(0,r._)([(0,s.Cb)(y.HQ)],M.prototype,"url",void 0),M=(0,r._)([(0,l.j)("esri.layers.TileLayer")],M);const R=M},18897:(e,t,i)=>{"use strict";i.d(t,{Z:()=>h});var r,n=i(56140),s=(i(95830),i(36544),i(68055)),o=i(79881),a=i(87566),l=(i(10923),i(57002),i(86035),i(58385));let c=r=class extends l.wq{constructor(e){super(e),this.level=0,this.levelValue=null,this.resolution=0,this.scale=0}clone(){return new r({level:this.level,levelValue:this.levelValue,resolution:this.resolution,scale:this.scale})}};(0,n._)([(0,o.Cb)({type:s.z8,json:{write:!0}})],c.prototype,"level",void 0),(0,n._)([(0,o.Cb)({type:String,json:{write:!0}})],c.prototype,"levelValue",void 0),(0,n._)([(0,o.Cb)({type:Number,json:{write:!0}})],c.prototype,"resolution",void 0),(0,n._)([(0,o.Cb)({type:Number,json:{write:!0}})],c.prototype,"scale",void 0),c=r=(0,n._)([(0,a.j)("esri.layers.support.LOD")],c);const h=c},40920:(e,t,i)=>{"use strict";i.d(t,{Z:()=>w});var r,n=i(56140),s=(i(95830),i(36544),i(68055)),o=i(79881),a=i(56274),l=i(30590),c=i(87566),h=i(60538),d=(i(10923),i(57002),i(86035),i(58385)),u=i(27780),p=i(73032),f=i(41241),m=i(61106),_=(i(36348),i(93533)),g=i(50897),y=i(18897);const v=new a.Xn({PNG:"png",PNG8:"png8",PNG24:"png24",PNG32:"png32",JPEG:"jpg",JPG:"jpg",DIB:"dib",TIFF:"tiff",EMF:"emf",PS:"ps",PDF:"pdf",GIF:"gif",SVG:"svg",SVGZ:"svgz",Mixed:"mixed",MIXED:"mixed",LERC:"lerc",LERC2D:"lerc2d",RAW:"raw",pbf:"pbf"});let b=r=class extends d.wq{constructor(e){super(e),this.dpi=96,this.format=null,this.origin=null,this.minScale=0,this.maxScale=0,this.size=null,this.spatialReference=null}static create(e={size:256,spatialReference:p.Z.WebMercator}){const t=e.resolutionFactor||1,i=e.scales,n=e.size||256,s=e.spatialReference||p.Z.WebMercator;if(!(0,u.JY)(s)){const e=[];if(i)for(let t=0;t<i.length;t++){const r=i[t];e.push({level:t,scale:r,resolution:r})}else{let t=5e-4;for(let i=23;i>=0;i--)e.unshift({level:i,scale:t,resolution:t}),t*=2}return new r({dpi:96,lods:e,origin:new m.Z(0,0,s),size:[n,n],spatialReference:s})}const o=(0,u.C5)(s),a=e.origin?new m.Z({x:e.origin.x,y:e.origin.y,spatialReference:s}):new m.Z(o?{x:o.origin[0],y:o.origin[1],spatialReference:s}:{x:0,y:0,spatialReference:s}),l=1/(39.37*(0,_.c9)(s)*96),c=[];if(i)for(let e=0;e<i.length;e++){const t=i[e],r=t*l;c.push({level:e,scale:t,resolution:r})}else{let e=(0,u.sT)(s)?512/n*591657527.5917094:256/n*591657527.591555;const i=Math.ceil(24/t);c.push({level:0,scale:e,resolution:e*l});for(let r=1;r<i;r++){const i=e/Math.pow(2,t),n=i*l;c.push({level:r,scale:i,resolution:n}),e=i}}return new r({dpi:96,lods:c,origin:a,size:[n,n],spatialReference:s})}get isWrappable(){const{spatialReference:e,origin:t}=this;if(e&&t){const i=(0,u.C5)(e);return e.isWrappable&&Math.abs(i.origin[0]-t.x)<=i.dx}return!1}readOrigin(e,t){return m.Z.fromJSON({spatialReference:t.spatialReference,...e})}set lods(e){let t=0,i=0;const r=[];this._levelToLOD={},e&&(t=-1/0,i=1/0,e.forEach((e=>{r.push(e.scale),t=e.scale>t?e.scale:t,i=e.scale<i?e.scale:i,this._levelToLOD[e.level]=e}))),this._set("scales",r),this._set("minScale",t),this._set("maxScale",i),this._set("lods",e),this._initializeUpsampleLevels()}readSize(e,t){return[t.cols,t.rows]}writeSize(e,t){t.cols=e[0],t.rows=e[0]}zoomToScale(e){const t=this.scales;if(e<=0)return t[0];if(e>=t.length)return t[t.length-1];{const i=Math.round(e-.5),r=Math.round(e);return t[r]+(r-e)*(t[i]-t[r])}}scaleToZoom(e){const t=this.scales,i=t.length-1;let r=0;for(;r<i;r++){const i=t[r],n=t[r+1];if(i<=e)return r;if(n===e)return r+1;if(i>e&&n<e)return r+1-(e-n)/(i-n)}return r}snapScale(e,t=.95){const i=this.scaleToZoom(e);return i%Math.floor(i)>=t?this.zoomToScale(Math.ceil(i)):this.zoomToScale(Math.floor(i))}tileAt(e,t,i,r){const n=this.lodAt(e);if(!n)return null;let s,o;if("number"==typeof t)s=t,o=i;else if((0,u.fS)(t.spatialReference,this.spatialReference))s=t.x,o=t.y,r=i;else{const e=(0,f.iV)(t,this.spatialReference);if(!e)return null;s=e.x,o=e.y,r=i}const a=n.resolution*this.size[0],l=n.resolution*this.size[1];return r||(r={id:null,level:0,row:0,col:0,extent:(0,g.Ue)()}),r.level=e,r.row=Math.floor((this.origin.y-o)/l+.001),r.col=Math.floor((s-this.origin.x)/a+.001),this.updateTileInfo(r),r}updateTileInfo(e){const t=this.lodAt(e.level);if(!t)return;const i=t.resolution*this.size[0],r=t.resolution*this.size[1];e.id=`${e.level}/${e.row}/${e.col}`,e.extent||(e.extent=(0,g.Ue)()),e.extent[0]=this.origin.x+e.col*i,e.extent[1]=this.origin.y-(e.row+1)*r,e.extent[2]=e.extent[0]+i,e.extent[3]=e.extent[1]+r}upsampleTile(e){const t=this._upsampleLevels[e.level];return!(!t||-1===t.parentLevel||(e.level=t.parentLevel,e.row=Math.floor(e.row/t.factor+.001),e.col=Math.floor(e.col/t.factor+.001),this.updateTileInfo(e),0))}getTileBounds(e,t){const{resolution:i}=this.lodAt(t.level),r=i*this.size[0],n=i*this.size[1];return e[0]=this.origin.x+t.col*r,e[1]=this.origin.y-(t.row+1)*n,e[2]=e[0]+r,e[3]=e[1]+n,e}lodAt(e){return this._levelToLOD&&this._levelToLOD[e]||null}clone(){return r.fromJSON(this.write({}))}_initializeUpsampleLevels(){const e=this.lods;this._upsampleLevels=[];let t=null;for(let i=0;i<e.length;i++){const r=e[i];this._upsampleLevels[r.level]={parentLevel:t?t.level:-1,factor:t?t.resolution/r.resolution:0},t=r}}};(0,n._)([(0,o.Cb)({type:Number,json:{write:!0}})],b.prototype,"compressionQuality",void 0),(0,n._)([(0,o.Cb)({type:Number,json:{write:!0}})],b.prototype,"dpi",void 0),(0,n._)([(0,o.Cb)({type:String,json:{read:v.read,write:v.write,origins:{"web-scene":{read:!1,write:!1}}}})],b.prototype,"format",void 0),(0,n._)([(0,o.Cb)({readOnly:!0,dependsOn:["spatialReference","origin"]})],b.prototype,"isWrappable",null),(0,n._)([(0,o.Cb)({type:m.Z,json:{write:!0}})],b.prototype,"origin",void 0),(0,n._)([(0,l.r)("origin")],b.prototype,"readOrigin",null),(0,n._)([(0,o.Cb)({type:[y.Z],value:null,json:{write:!0}})],b.prototype,"lods",null),(0,n._)([(0,o.Cb)({readOnly:!0})],b.prototype,"minScale",void 0),(0,n._)([(0,o.Cb)({readOnly:!0})],b.prototype,"maxScale",void 0),(0,n._)([(0,o.Cb)({readOnly:!0})],b.prototype,"scales",void 0),(0,n._)([(0,o.Cb)({cast:e=>Array.isArray(e)?e:"number"==typeof e?[e,e]:[256,256]})],b.prototype,"size",void 0),(0,n._)([(0,l.r)("size",["rows","cols"])],b.prototype,"readSize",null),(0,n._)([(0,h.c)("size",{cols:{type:s.z8},rows:{type:s.z8}})],b.prototype,"writeSize",null),(0,n._)([(0,o.Cb)({type:p.Z,json:{write:!0}})],b.prototype,"spatialReference",void 0),b=r=(0,n._)([(0,c.j)("esri.layers.support.TileInfo")],b);const w=b},78136:(e,t,i)=>{"use strict";i.d(t,{y:()=>S});var r=i(56140),n=(i(95830),i(36544)),s=i(79881),o=i(60263),a=i(87566),l=i(32656),c=i(10923),h=(i(57002),i(86035),i(62698)),d=i(39105),u=i(74386),p=i(82677),f=i(54721),m=i(59691),_=i(80621),g=i(40365),y=i(82550),v=i(19677);class b{constructor(){this.location={left:0,top:0,width:0,height:0},this._allAvailability="unknown",this.byteSize=40}getAvailability(e,t){if("unknown"!==this._allAvailability)return this._allAvailability;const i=(e-this.location.top)*this.location.width+(t-this.location.left),r=i%8,n=i>>3,s=this._tileAvailabilityBitSet;return n<0||n>s.length?"unknown":s[n]&1<<r?"available":"unavailable"}_updateFromData(e){const t=this.location.width,i=this.location.height;let r=!0,n=!0;const s=Math.ceil(t*i/8),o=new Uint8Array(s);let a=0;for(let t=0;t<e.length;t++){const i=t%8;e[t]?(n=!1,o[a]|=1<<i):r=!1,7===i&&++a}n?this._allAvailability="unavailable":r?this._allAvailability="available":(this._allAvailability="unknown",this._tileAvailabilityBitSet=o,this.byteSize+=o.length)}static fromDefinition(e,t){const i=e.service.request||f.default,{row:r,col:n,width:s,height:o}=e,a={query:{f:"json"}};return t=t?{...a,...t}:a,i(function(e){let t;if("vector-tile"===e.service.type)t=`${e.service.url}/tilemap/${e.level}/${e.row}/${e.col}/${e.width}/${e.height}`;else{const i=e.service.tileServers;t=`${i&&i.length?i[e.row%i.length]:e.service.url}/tilemap/${e.level}/${e.row}/${e.col}/${e.width}/${e.height}`}const i=e.service.query;return i&&(t=`${t}?${i}`),t}(e),t).then((e=>e.data)).catch((e=>{if(e&&e.details&&422===e.details.httpStatus)return{location:{top:r,left:n,width:s,height:o},valid:!0,data:(0,v.a9)(s*o,0)};throw e})).then((e=>{if(e.location&&(e.location.top!==r||e.location.left!==n||e.location.width!==s||e.location.height!==o))throw new l.Z("tilemap:location-mismatch","Tilemap response for different location than requested",{response:e,definition:{top:r,left:n,width:s,height:o}});return b.fromJSON(e)}))}static fromJSON(e){b.validateJSON(e);const t=new b;return t.location=Object.freeze((0,y.d9)(e.location)),t._updateFromData(e.data),Object.freeze(t)}static validateJSON(e){if(!e||!e.location)throw new l.Z("tilemap:missing-location","Location missing from tilemap response");if(!1===e.valid)throw new l.Z("tilemap:invalid","Tilemap response was marked as invalid");if(!e.data)throw new l.Z("tilemap:missing-data","Data missing from tilemap response");if(!Array.isArray(e.data))throw new l.Z("tilemap:data-mismatch","Data must be an array of numbers");if(e.data.length!==e.location.width*e.location.height)throw new l.Z("tilemap:data-mismatch","Number of data items does not match width/height of tilemap")}}function w(e){return`${e.level}/${e.row}/${e.col}/${e.width}/${e.height}`}var x;const C=n.Z.getLogger("esri.layers.support.TilemapCache");let S=x=class extends p.default{constructor(e){super(e),this._handles=new m.Z,this._pendingTilemapRequests={},this._availableLevels={},this.levels=5,this.cacheByteSize=2097152,this.request=f.default,this._prefetchingEnabled=!0}initialize(){this._tilemapCache=new g.Z(this.cacheByteSize),this._handles.add([this.watch(["layer.parsedUrl","layer.tileServers?"],(()=>this._initializeTilemapDefinition())),(0,_.init)(this,"layer.tileInfo.lods",(e=>this._initializeAvailableLevels(e)),!0)]),this._initializeTilemapDefinition()}destroy(){this._handles&&(this._handles.destroy(),this._handles=null)}castLevels(e){return e<=2?(C.error("Minimum levels for Tilemap is 3, but got ",e),3):e}get size(){return 1<<this.levels}fetchTilemap(e,t,i,r){if(!this._availableLevels[e])return(0,d.reject)(new l.Z("tilemap-cache:level-unavailable",`Level ${e} is unavailable in the service`));const n=this._tmpTilemapDefinition,s=this._tilemapFromCache(e,t,i,n);if(s)return(0,d.resolve)(s);const o=r&&r.signal;return r={...r,signal:null},(0,d.create)(((e,t)=>{(0,d.onAbort)(o,(()=>t((0,d.createAbortError)())));const i=w(n);let s=this._pendingTilemapRequests[i];if(!s){s=b.fromDefinition(n,r).then((e=>(this._tilemapCache.put(i,e,e.byteSize),e)));const e=()=>delete this._pendingTilemapRequests[i];this._pendingTilemapRequests[i]=s,s.then(e,e)}s.then(e,t)}))}getAvailability(e,t,i){if(!this._availableLevels[e])return"unavailable";const r=this._tilemapFromCache(e,t,i,this._tmpTilemapDefinition);return r?r.getAvailability(t,i):"unknown"}getAvailabilityUpsample(e,t,i,r){r.level=e,r.row=t,r.col=i;const n=this.layer.tileInfo;for(n.updateTileInfo(r);;){const e=this.getAvailability(r.level,r.row,r.col);if("unavailable"!==e)return e;if(!n.upsampleTile(r))return"unavailable"}}fetchAvailability(e,t,i,r){return this._availableLevels[e]?this.fetchTilemap(e,t,i,r).catch((e=>e)).then((r=>{if(r instanceof b){const n=r.getAvailability(t,i);return"unavailable"===n?(0,d.reject)(new l.Z("tile-map:tile-unavailable","Tile is not available",{level:e,row:t,col:i})):n}if((0,d.isAbortError)(r))throw r;return"unknown"})):(0,d.reject)(new l.Z("tilemap-cache:level-unavailable",`Level ${e} is unavailable in the service`))}fetchAvailabilityUpsample(e,t,i,r,n){r.level=e,r.row=t,r.col=i;const s=this.layer.tileInfo;s.updateTileInfo(r);const o=this.fetchAvailability(e,t,i,n).catch((e=>{if((0,d.isAbortError)(e))throw e;if(s.upsampleTile(r))return this.fetchAvailabilityUpsample(r.level,r.row,r.col,r);throw e}));return this._fetchAvailabilityUpsamplePrefetch(r.id,e,t,i,n,o),o}async _fetchAvailabilityUpsamplePrefetch(e,t,i,r,n,s){if(!this._prefetchingEnabled)return;const o=`prefetch-${e}`;if(this._handles.has(o))return;const a=(0,d.createAbortController)();s.then((()=>a.abort()),(()=>a.abort()));let l=!1;const c={remove(){l||(l=!0,a.abort())}};if(this._handles.add(c,o),await(0,u.MU)(10,a.signal).catch((()=>{})),l||(l=!0,this._handles.remove(o)),(0,d.isAborted)(a))return;const h={id:e,level:t,row:i,col:r},p={...n,signal:a.signal},f=this.layer.tileInfo;for(let e=0;x._prefetches.length<x._maxPrefetch&&f.upsampleTile(h);++e){const e=this.fetchAvailability(h.level,h.row,h.col,p);x._prefetches.push(e);const t=()=>{x._prefetches.removeUnordered(e)};e.then(t,t)}}_initializeTilemapDefinition(){if(!this.layer.parsedUrl)return;const e=this.layer.parsedUrl,t=e.query;this._tilemapCache.clear(),this._tmpTilemapDefinition={service:{url:e.path,query:t?(0,c.B7)(t):null,tileServers:this.layer.tileServers,request:this.request,type:this.layer.type},width:this.size,height:this.size,level:0,row:0,col:0}}_tilemapFromCache(e,t,i,r){r.level=e,r.row=t-t%this.size,r.col=i-i%this.size;const n=w(r);return this._tilemapCache.get(n)}_initializeAvailableLevels(e){this._availableLevels={},e&&e.forEach((e=>this._availableLevels[e.level]=!0))}get test(){const e=this;return{get prefetchingEnabled(){return e._prefetchingEnabled},set prefetchingEnabled(t){e._prefetchingEnabled=t},hasTilemap:(t,i,r)=>!!e._tilemapFromCache(t,i,r,e._tmpTilemapDefinition)}}};S._maxPrefetch=4,S._prefetches=new h.Z({initialSize:x._maxPrefetch}),(0,r._)([(0,s.Cb)({constructOnly:!0,type:Number})],S.prototype,"levels",void 0),(0,r._)([(0,o.p)("levels")],S.prototype,"castLevels",null),(0,r._)([(0,s.Cb)({readOnly:!0,dependsOn:["levels"],type:Number})],S.prototype,"size",null),(0,r._)([(0,s.Cb)({constructOnly:!0,type:Number})],S.prototype,"cacheByteSize",void 0),(0,r._)([(0,s.Cb)({constructOnly:!0})],S.prototype,"layer",void 0),(0,r._)([(0,s.Cb)({constructOnly:!0})],S.prototype,"request",void 0),S=x=(0,r._)([(0,a.j)("esri.layers.support.TilemapCache")],S)},63710:(e,t,i)=>{"use strict";i.d(t,{d:()=>s,h:()=>n});var r=i(40920);const n={type:r.Z,json:{origins:{service:{read:{source:["tileInfo","minScale","maxScale","minLOD","maxLOD"],reader:s}}}}};function s(e,t,i,n){if(!e)return null;const{minScale:s,maxScale:o,minLOD:a,maxLOD:l}=t;if(null!=a&&null!=l)return n&&n.ignoreMinMaxLOD?r.Z.fromJSON(e):r.Z.fromJSON({...e,lods:e.lods.filter((({level:e})=>null!=e&&e>=a&&e<=l))});if(0!==s&&0!==o){const t=e=>Math.round(1e4*e)/1e4,i=s?t(s):1/0,n=o?t(o):-1/0;return r.Z.fromJSON({...e,lods:e.lods.filter((e=>{const r=t(e.scale);return r<=i&&r>=n}))})}return r.Z.fromJSON(e)}},62646:(e,t,i)=>{"use strict";function r(e,t){if(!n(e,t)){const i=e.typeKeywords;i?i.push(t):e.typeKeywords=[t]}}function n(e,t){return!!e.typeKeywords&&e.typeKeywords.indexOf(t)>-1}function s(e,t){const i=e.typeKeywords;if(i){const e=i.indexOf(t);e>-1&&i.splice(e,1)}}i.d(t,{qj:()=>r,_$:()=>n,ck:()=>s})},80705:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>ge});var r=i(56140),n=(i(95830),i(82550)),s=(i(36544),i(68055),i(79881)),o=i(56274),a=i(87566),l=i(32656),c=i(10923),h=(i(57002),i(86035),i(39105)),d=i(53817),u=i(96071),p=i(23838),f=i(54721),m=i(5328),_=i(31518),g=i(95986),y=i(94588),v=i(73032),b=i(52937),w=i(91535),x=i(70834),C=i(76194),S=i(21544),A=i(58385);let T=class extends A.wq{constructor(){super(...arguments),this.extent=null,this.height=null,this.href=null,this.opacity=1,this.rotation=0,this.scale=null,this.visible=!0,this.width=null}};(0,r._)([(0,s.Cb)({type:b.Z})],T.prototype,"extent",void 0),(0,r._)([(0,s.Cb)()],T.prototype,"height",void 0),(0,r._)([(0,s.Cb)()],T.prototype,"href",void 0),(0,r._)([(0,s.Cb)()],T.prototype,"opacity",void 0),(0,r._)([(0,s.Cb)()],T.prototype,"rotation",void 0),(0,r._)([(0,s.Cb)()],T.prototype,"scale",void 0),(0,r._)([(0,s.Cb)()],T.prototype,"visible",void 0),(0,r._)([(0,s.Cb)()],T.prototype,"width",void 0),T=(0,r._)([(0,a.j)("esri.layer.support.MapImage")],T);const k=T;let O=class extends A.wq{constructor(e){super(e),this.itemId=null,this.url=null}};(0,r._)([(0,s.Cb)({type:String,json:{read:{source:"itemID"},write:{target:"itemID"}}})],O.prototype,"itemId",void 0),(0,r._)([(0,s.Cb)({type:String,json:{write:!0}})],O.prototype,"url",void 0),O=(0,r._)([(0,a.j)("esri.tasks.support.DataFile")],O);const P=O,I=new o.Xn({esriJobCancelled:"job-cancelled",esriJobCancelling:"job-cancelling",esriJobDeleted:"job-deleted",esriJobDeleting:"job-deleting",esriJobTimedOut:"job-timed-out",esriJobExecuting:"job-executing",esriJobFailed:"job-failed",esriJobNew:"job-new",esriJobSubmitted:"job-submitted",esriJobSucceeded:"job-succeeded",esriJobWaiting:"job-waiting"});let E=class extends A.wq{constructor(e){super(e),this.jobId=null,this.jobStatus=null,this.messages=null}};(0,r._)([(0,s.Cb)()],E.prototype,"jobId",void 0),(0,r._)([(0,s.Cb)({json:{read:I.read}})],E.prototype,"jobStatus",void 0),(0,r._)([(0,s.Cb)({type:[S.Z]})],E.prototype,"messages",void 0),E=(0,r._)([(0,a.j)("esri.tasks.support.JobInfo")],E);const M=E,R=new o.Xn({esriMeters:"meters",esriFeet:"feet",esriKilometers:"kilometers",esriMiles:"miles",esriNauticalMiles:"nautical-miles",esriYards:"yards"},{ignoreUnknown:!1});let N=class extends A.wq{constructor(e){super(e),this.distance=0,this.units=null}};(0,r._)([(0,s.Cb)({json:{write:!0}})],N.prototype,"distance",void 0),(0,r._)([(0,s.Cb)({json:{read:R.read,write:R.write}})],N.prototype,"units",void 0),N=(0,r._)([(0,a.j)("esri/tasks/support/LinearUnit")],N);const L=N,D=new o.Xn({GPBoolean:"boolean",GPDataFile:"data-file",GPDate:"date",GPDouble:"double",GPFeatureRecordSetLayer:"feature-record-set-layer",GPField:"field",GPLinearUnit:"linear-unit",GPLong:"long",GPRasterData:"raster-data",GPRasterDataLayer:"raster-data-layer",GPRecordSet:"record-set",GPString:"string","GPMultiValue:GPBoolean":"multi-value","GPMultiValue:GPDataFile":"multi-value","GPMultiValue:GPDate":"multi-value","GPMultiValue:GPDouble":"multi-value","GPMultiValue:GPFeatureRecordSetLayer":"multi-value","GPMultiValue:GPField":"multi-value","GPMultiValue:GPLinearUnit":"multi-value","GPMultiValue:GPLong":"multi-value","GPMultiValue:GPRasterData":"multi-value","GPMultiValue:GPRasterDataLayer":"multi-value","GPMultiValue:GPRecordSet":"multi-value","GPMultiValue:GPString":"multi-value"});let z=class extends A.wq{constructor(e){super(e),this.dataType=null,this.value=null}};(0,r._)([(0,s.Cb)({json:{read:D.read,write:D.write}})],z.prototype,"dataType",void 0),(0,r._)([(0,s.Cb)()],z.prototype,"value",void 0),z=(0,r._)([(0,a.j)("esri.tasks.support.ParameterValue")],z);const F=z;let j=class extends A.wq{constructor(e){super(e),this.format=null,this.itemId=null,this.url=null}};(0,r._)([(0,s.Cb)()],j.prototype,"format",void 0),(0,r._)([(0,s.Cb)({json:{read:{source:"itemID"},write:{target:"itemID"}}})],j.prototype,"itemId",void 0),(0,r._)([(0,s.Cb)()],j.prototype,"url",void 0),j=(0,r._)([(0,a.j)("esri/tasks/support/RasterData")],j);const B=j;let V=class extends g.Z{constructor(e){super(e),this._timers=new Map,this.outSpatialReference=null,this.processExtent=null,this.processSpatialReference=null,this.returnFeatureCollection=!1,this.returnM=!1,this.returnZ=!1}destroy(){this._timers.forEach((e=>{clearInterval(e)}))}cancelJob(e,t){const{path:i}=this.parsedUrl,r={...this.requestOptions,...t,query:{f:"json"}};return this._clearTimer(e),(0,f.default)(`${i}/jobs/${e}/cancel`,r).then((e=>M.fromJSON(e.data)))}checkJobStatus(e,t){const{path:i}=this.parsedUrl,r={...this.requestOptions,...t,query:{f:"json"}};return(0,f.default)(`${i}/jobs/${e}`,r).then((e=>M.fromJSON(e.data)))}execute(e,t){return this._constructRequest("execute",e,t).then((e=>{const t=e.data.results||[],i=e.data.messages||[];return{results:t.map(this._decode),messages:i.map((e=>S.Z.fromJSON(e)))}}))}getResultData(e,t,i){const{returnFeatureCollection:r,returnM:n,returnZ:s,outSpatialReference:o,parsedUrl:a}=this,{path:l}=a,c={returnFeatureCollection:r||void 0,returnM:n||void 0,returnZ:s||void 0,outSR:o,returnType:"data",f:"json"},h=this._gpEncode(c,null),d={...this.requestOptions,...i,query:h};return(0,f.default)(`${l}/jobs/${e}/results/${t}`,d).then((e=>this._decode(e.data)))}getResultImage(e,t,i,r){const{path:n}=this.parsedUrl,s={...i.toJSON(),f:"json"},o=this._gpEncode(s),a={...this.requestOptions,...r,query:o};return(0,f.default)(`${n}/jobs/${e}/results/${t}`,a).then((e=>this._decode(e.data)))}async getResultMapImageLayer(e){const{path:t}=this.parsedUrl,r=t.indexOf("/GPServer/"),n=`${t.substring(0,r)}/MapServer/jobs/${e}`;return new(0,(await Promise.all([i.e(3716),i.e(8834),i.e(4139),i.e(8591),i.e(142),i.e(2551),i.e(3347),i.e(2406),i.e(5666),i.e(2696),i.e(6426),i.e(1462),i.e(5731)]).then(i.bind(i,62933))).default)({url:n})}submitJob(e,t){return this._constructRequest("submitJob",e,t).then((e=>M.fromJSON(e.data)))}waitForJobCompletion(e,t={}){const{interval:i=1e3,signal:r,statusCallback:n}=t;return(0,h.create)(((t,s)=>{(0,h.onAbort)(r,(()=>{this._clearTimer(e),s((0,h.createAbortError)())})),this._clearTimer(e);const o=setInterval((()=>{this._timers.has(e)||s((0,h.createAbortError)()),this._getJobStatus(e,this.requestOptions).then((i=>{const{jobStatus:r}=i;switch(r){case"job-succeeded":this._clearTimer(e),t(i);break;case"job-submitted":case"job-executing":case"job-waiting":case"job-new":n&&n(i);break;case"job-cancelled":case"job-cancelling":case"job-deleted":case"job-deleting":case"job-timed-out":case"job-failed":this._clearTimer(e),s(i);break;default:(0,y.Bg)(r)}}))}),i);this._timers.set(e,o)}))}_clearTimer(e){this._timers.has(e)&&(clearInterval(this._timers.get(e)),this._timers.delete(e))}_constructRequest(e,t,i){const r={},n={},s=[];return this._collectGeometries(t,s,r),(0,w.aX)(s).then((s=>{const{outSpatialReference:o,parsedUrl:a,processExtent:l,processSpatialReference:c,returnFeatureCollection:h,returnM:d,returnZ:u}=this,{path:p}=a;for(const e in r){const t=r[e];n[e]=s.slice(t[0],t[1])}const m=o?o.wkid||o:null,_=c?c.wkid||c:null,g="execute"===e?{returnFeatureCollection:h||void 0,returnM:d||void 0,returnZ:u||void 0}:null,y={...l?{context:{extent:l,outSR:m,processSR:_}}:{"env:outSR":m,"env:processSR":_},...t,...g,f:"json"},v=this._gpEncode(y,null,n),b={...this.requestOptions,...i,query:v};return(0,f.default)(`${p}/${e}`,b)}))}_collectGeometries(e,t,i){for(const r in e){const n=e[r];if(n&&"object"==typeof n&&n instanceof C.default){const{features:e}=n;i[r]=[t.length,t.length+e.length],e.forEach((e=>{t.push(e.geometry)}))}}}_decode(e){const t=e.dataType,i=F.fromJSON(e);switch(t){case"GPBoolean":case"GPDouble":case"GPLong":case"GPString":return i;case"GPDate":i.value=new Date(i.value);break;case"GPDataFile":i.value=P.fromJSON(i.value);break;case"GPLinearUnit":i.value=L.fromJSON(i.value);break;case"GPFeatureRecordSetLayer":case"GPRecordSet":{const t=e.value.url;i.value=t?P.fromJSON(i.value):C.default.fromJSON(i.value);break}case"GPRasterData":case"GPRasterDataLayer":{const t=e.value.mapImage;i.value=t?k.fromJSON(t):B.fromJSON(i.value);break}case"GPField":i.value=x.Z.fromJSON(i.value);break;case"GPMultiValue:GPBoolean":case"GPMultiValue:GPDouble":case"GPMultiValue:GPLong":case"GPMultiValue:GPString":return i;case"GPMultiValue:GPDate":{const e=i.value;i.value=e.map((e=>new Date(e)));break}case"GPMultiValue:GPDataFile":i.value=i.value.map((e=>P.fromJSON(e)));break;case"GPMultiValue:GPLinearUnit":i.value=i.value.map((e=>L.fromJSON(e)));break;case"GPMultiValue:GPFeatureRecordSetLayer":case"GPMultiValue:GPRecordSet":i.value=i.value.map((e=>C.default.fromJSON(e)));break;case"GPMultiValue:GPRasterData":case"GPMultiValue:GPRasterDataLayer":i.value=i.value.map((e=>e?k.fromJSON(e):B.fromJSON(i.value)));break;case"GPMultiValue:GPField":i.value=i.value.map((e=>x.Z.fromJSON(e)))}return i}_gpEncode(e,t,i){for(const t in e){const i=e[t];Array.isArray(i)?e[t]=JSON.stringify(i.map((e=>this._gpEncode({item:e},!0).item),this)):i instanceof Date&&(e[t]=i.getTime())}return this._encode(e,t,i)}_getJobStatus(e,t){const{path:i}=this.parsedUrl,r=`${i}/jobs/${e}`,n={...this.requestOptions,...t,query:{f:"json"}};return(0,f.default)(r,n).then((e=>M.fromJSON(e.data)))}};(0,r._)([(0,s.Cb)({type:v.Z})],V.prototype,"outSpatialReference",void 0),(0,r._)([(0,s.Cb)({type:b.Z})],V.prototype,"processExtent",void 0),(0,r._)([(0,s.Cb)({type:v.Z})],V.prototype,"processSpatialReference",void 0),(0,r._)([(0,s.Cb)({nonNullable:!0})],V.prototype,"returnFeatureCollection",void 0),(0,r._)([(0,s.Cb)({nonNullable:!0})],V.prototype,"returnM",void 0),(0,r._)([(0,s.Cb)({nonNullable:!0})],V.prototype,"returnZ",void 0),V=(0,r._)([(0,a.j)("esri/tasks/Geoprocessor")],V);const U=V;var G=i(33517),Z=i(12783);function H(e,t){const{graphic:i,renderer:r,symbol:n}=t,s=n.type;if("text"===s||"shield-label-symbol"===s||!("visualVariables"in r)||!r.visualVariables)return;const o=r.getVisualVariablesForType("size"),a=r.getVisualVariablesForType("color"),l=r.getVisualVariablesForType("opacity"),c=r.getVisualVariablesForType("rotation"),h=o&&o[0],d=a&&a[0],p=l&&l[0],f=c&&c[0];if(h){const t="simple-marker"===s?n.style:null,r=(0,m.getSize)(h,i,{shape:t});null!=r&&("simple-marker"===s?e.size=(0,u.Wz)(r):"picture-marker"===s?(e.width=(0,u.Wz)(r),e.height=(0,u.Wz)(r)):"simple-line"===s?e.width=(0,u.Wz)(r):e.outline&&(e.outline.width=(0,u.Wz)(r)))}if(d){const t=(0,m.getColor)(d,i);(t&&"simple-marker"===s||"simple-line"===s||"simple-fill"===s)&&(e.color=t?t.toJSON():void 0)}if(p){const t=(0,m.getOpacity)(p,i);null!=t&&e.color&&(e.color[3]=Math.round(255*t))}f&&(e.angle=-(0,m.getRotationAngle)(r,i))}function W(e){return e&&"bing-maps"===e.type}function q(e){return e&&"csv"===e.type}function $(e){return e&&"feature"===e.type}function J(e){return e&&"geojson"===e.type}function Y(e){return e&&"graphics"===e.type}function K(e){return e&&"group"===e.type}function X(e){return e&&"esri.views.2d.layers.GroupLayerView2D"===e.declaredClass}function Q(e){return e&&"imagery"===e.type}function ee(e){return e&&"kml"===e.type}function te(e){return e&&"map-image"===e.type}function ie(e){return e&&"map-notes"===e.type}function re(e){return e&&"open-street-map"===e.type}function ne(e){return e&&"stream"===e.type}function se(e){return e&&"tile"===e.type}function oe(e){return e&&"vector-tile"===e.type}function ae(e){return e&&"web-tile"===e.type}function le(e){return e&&"wms"===e.type}function ce(e){return e&&"wmts"===e.type}var he=i(70026);const de={Feet:"ft",Kilometers:"km",Meters:"m",Miles:"mi"},ue=new o.Xn({esriFeet:"Feet",esriKilometers:"Kilometers",esriMeters:"Meters",esriMiles:"Miles"}),pe=new o.Xn({esriExecutionTypeSynchronous:"sync",esriExecutionTypeAsynchronous:"async"}),fe=new _.Z({returnGeometry:!0});function me(e){return e&&(e.path||"image/svg+xml"===e.contentType||e.url&&e.url.endsWith(".svg"))}let _e=class extends g.Z{constructor(...e){super(...e),this._ssExtent=null,this._legendLayers=[],this._legendLayerNameMap={},this._gpServerUrl=null,this._cimVersion=null,this._is11xService=!1,this._gpMetadata=null,this.updateDelay=1e3}get _geoprocessor(){return new U({url:this.url})}get mode(){return this._gpMetadata&&this._gpMetadata.executionType?pe.fromJSON(this._gpMetadata.executionType):"sync"}execute(e,t){let i=this.url;const r=i.lastIndexOf("/GPServer/");return r>0&&(i=i.slice(0,r+9)),(0,h.resolve)().then((()=>this._gpServerUrl===i?{data:this._gpMetadata}:(this._gpServerUrl=i,(0,f.default)(i,{query:{f:"json"}})))).then((t=>(this._gpMetadata=t.data,this._cimVersion=this._gpMetadata.cimVersion,this._is11xService=!!this._cimVersion,this._getGpPrintParams(e)))).then((e=>{const i=e=>"sync"===this.mode?e.results&&e.results[0]&&e.results[0].value:this._geoprocessor.getResultData(e.jobId,"Output_File",t).then((e=>e.value));return"async"===this.mode?this._geoprocessor.submitJob(e,t).then((e=>this._geoprocessor.waitForJobCompletion(e.jobId,{interval:this.updateDelay}).then(i))):this._geoprocessor.execute(e,t).then(i)}))}async _createOperationalLayers(e,t){const i=[],r={layerView:null,printTemplate:t,view:e};let n=0;t.scalePreserved&&(n=t.outScale||e.scale);const s=function(e,t){const i=e.allLayerViews.items;if(t===e.scale)return i.filter((e=>!e.suspended));const r=new Array;for(const e of i)X(e.parent)&&!r.includes(e.parent)||!e.visible||t&&"isVisibleAtScale"in e&&!e.isVisibleAtScale(t)||r.push(e);return r}(e,n);for(const e of s){const t=e.layer;if(!t.loaded||K(t))continue;let n;r.layerView=e,n=W(t)?this._createBingMapsLayerJSON(t):q(t)?await this._createCSVLayerJSON(t,r):$(t)?await this._createFeatureLayerJSON(t,r):J(t)?await this._createGeoJSONLayer(t,r):Y(t)?await this._createGraphicsLayerJSON(t,r):Q(t)?this._createImageryLayerJSON(t):ee(t)?await this._createKMLLayerJSON(t,r):te(t)?this._createMapImageLayerJSON(t,r):ie(t)?await this._createMapNotesLayerJSON(r):re(t)?this._createOpenStreetMapLayerJSON():ne(t)?await this._createStreamLayerJSON(t,r):se(t)?this._createTileLayerJSON(t):oe(t)?await this._createVectorTileLayerJSON(t,r):ae(t)?this._createWebTileLayerJSON(t):le(t)?this._createWMSLayerJSON(t):ce(t)?this._createWMTSLayerJSON(t):await this._createScreenshotJSON(t,r),n&&(Array.isArray(n)?i.push(...n):(n.id=t.id,n.title=this._legendLayerNameMap[t.id]||t.title,n.opacity=t.opacity,n.minScale=t.minScale||0,n.maxScale=t.maxScale||0,i.push(n)))}if(n&&i.forEach((e=>{e.minScale=0,e.maxScale=0})),e.graphics&&e.graphics.length){const r=await this._createFeatureCollectionJSON(null,e.graphics,t);r&&i.push(r)}return i}_createBingMapsLayerJSON(e){return{culture:e.culture,key:e.key,type:"BingMaps"+("aerial"===e.style?"Aerial":"hybrid"===e.style?"Hybrid":"Road")}}async _createCSVLayerJSON(e,{layerView:t,printTemplate:i}){let r;if(this._legendLayers&&this._legendLayers.push({id:e.id}),!this._is11xService){const r=await this._getGraphics(t);return this._createFeatureCollectionJSON(e,r,i)}return r={type:"CSV"},e.write(r,{origin:"web-map"}),delete r.popupInfo,delete r.layerType,r.showLabels=i.showLabels&&e.labelsVisible,r}async _createFeatureCollectionJSON(e,t,i){let r;const n={layerDefinition:{name:"polygonLayer",geometryType:"esriGeometryPolygon",drawingInfo:{renderer:null}},featureSet:{geometryType:"esriGeometryPolygon",features:[]}},s={layerDefinition:{name:"polylineLayer",geometryType:"esriGeometryPolyline",drawingInfo:{renderer:null}},featureSet:{geometryType:"esriGeometryPolyline",features:[]}},o={layerDefinition:{name:"pointLayer",geometryType:"esriGeometryPoint",drawingInfo:{renderer:null}},featureSet:{geometryType:"esriGeometryPoint",features:[]}},a={layerDefinition:{name:"multipointLayer",geometryType:"esriGeometryMultipoint",drawingInfo:{renderer:null}},featureSet:{geometryType:"esriGeometryMultipoint",features:[]}},l={layerDefinition:{name:"pointLayer",geometryType:"esriGeometryPoint",drawingInfo:{renderer:null}},featureSet:{geometryType:"esriGeometryPoint",features:[]}};if(l.layerDefinition.name="textLayer",delete l.layerDefinition.drawingInfo,e){if("esri.layers.FeatureLayer"===e.declaredClass||"esri.layers.StreamLayer"===e.declaredClass?n.layerDefinition.name=s.layerDefinition.name=o.layerDefinition.name=a.layerDefinition.name=this._legendLayerNameMap[e.id]||e.get("arcgisProps.title")||e.title:"esri.layers.GraphicsLayer"===e.declaredClass&&(t=e.graphics.items),e.renderer){const t=e.renderer.toJSON();n.layerDefinition.drawingInfo.renderer=t,s.layerDefinition.drawingInfo.renderer=t,o.layerDefinition.drawingInfo.renderer=t,a.layerDefinition.drawingInfo.renderer=t}if(i.showLabels&&e.labelsVisible&&"function"==typeof e.write){var c,h;const t=null==(c=e.write({},{origin:"web-map"}).layerDefinition)||null==(h=c.drawingInfo)?void 0:h.labelingInfo;t&&(r=!0,n.layerDefinition.drawingInfo.labelingInfo=t,s.layerDefinition.drawingInfo.labelingInfo=t,o.layerDefinition.drawingInfo.labelingInfo=t,a.layerDefinition.drawingInfo.labelingInfo=t)}}let u;null!=e&&e.renderer||r||(delete n.layerDefinition.drawingInfo,delete s.layerDefinition.drawingInfo,delete o.layerDefinition.drawingInfo,delete a.layerDefinition.drawingInfo);const p=e&&e.fields,f=e&&e.renderer;if(p&&f&&"function"==typeof f.collectRequiredFields){const e=new Set;await f.collectRequiredFields(e,p),u=Array.from(e)}if(p){const e=p.map((e=>e.toJSON()));n.layerDefinition.fields=e,s.layerDefinition.fields=e,o.layerDefinition.fields=e,a.layerDefinition.fields=e}const m=t&&t.length;let _;for(let r=0;r<m;r++){const c=t[r]||t.getItemAt(r);if(!1===c.visible||!c.geometry)continue;if(_=c.toJSON(),_.hasOwnProperty("popupTemplate")&&delete _.popupTemplate,_.geometry&&_.geometry.z&&delete _.geometry.z,_.symbol&&_.symbol.outline&&"esriCLS"===_.symbol.outline.type&&!this._is11xService)continue;!this._is11xService&&_.symbol&&_.symbol.outline&&_.symbol.outline.color&&_.symbol.outline.color[3]&&(_.symbol.outline.color[3]=255);const h=e&&e.renderer&&("valueExpression"in e.renderer&&e.renderer.valueExpression||"hasVisualVariables"in e.renderer&&e.renderer.hasVisualVariables());if(!_.symbol&&e&&e.renderer&&h&&!this._is11xService){const t=e.renderer,i=await t.getSymbolAsync(c);if(!i)continue;_.symbol=i.toJSON(),"hasVisualVariables"in t&&t.hasVisualVariables()&&H(_.symbol,{renderer:t,graphic:c,symbol:i})}if(_.symbol&&(_.symbol.angle||delete _.symbol.angle,me(_.symbol)?_.symbol=await this._convertSvgToPictureMarkerSymbolJson(_.symbol):_.symbol.text&&delete _.attributes),(!i||!i.forceFeatureAttributes)&&u&&u.length){const e={};u.forEach((t=>{_.attributes&&_.attributes.hasOwnProperty(t)&&(e[t]=_.attributes[t])})),_.attributes=e}"polygon"===c.geometry.type?n.featureSet.features.push(_):"polyline"===c.geometry.type?s.featureSet.features.push(_):"point"===c.geometry.type?_.symbol&&_.symbol.text?l.featureSet.features.push(_):o.featureSet.features.push(_):"multipoint"===c.geometry.type?a.featureSet.features.push(_):"extent"===c.geometry.type&&(_.geometry=d.Z.fromExtent(c.geometry).toJSON(),n.featureSet.features.push(_))}const g=[n,s,a,o,l].filter((e=>e.featureSet.features.length>0));for(const e of g){const t=e.featureSet.features.every((e=>e.symbol));!t||i&&i.forceFeatureAttributes||e.featureSet.features.forEach((e=>{delete e.attributes})),t&&delete e.layerDefinition.drawingInfo,e.layerDefinition.drawingInfo&&e.layerDefinition.drawingInfo.renderer&&await this._convertSvgRenderer(e.layerDefinition.drawingInfo.renderer)}return g.length?{featureCollection:{layers:g},showLabels:r}:null}async _createFeatureLayerJSON(e,t){var i,r;let n;this._legendLayers&&this._legendLayers.push({id:e.id});const s=e.renderer;if(e.featureReduction||s&&"dot-density"===s.type&&(!this._is11xService||parseFloat(this._cimVersion)<2.6))return this._createScreenshotJSON(e,t);const{layerView:o,printTemplate:a,view:l}=t,c=s&&("valueExpression"in s&&s.valueExpression||"hasVisualVariables"in s&&s.hasVisualVariables()),h="feature-layer"!==(null==(i=e.source)?void 0:i.type)&&"ogc-feature"!==(null==(r=e.source)?void 0:r.type);if(!this._is11xService&&c||e.featureReduction||h||!s||"field"in s&&null!=s.field&&("string"!=typeof s.field||!e.getField(s.field))){const t=await this._getGraphics(o);n=await this._createFeatureCollectionJSON(e,t,a)}else{var d,u;if(n={id:(p=e.write()).id,title:p.title,opacity:p.opacity,minScale:p.minScale,maxScale:p.maxScale,url:p.url,layerDefinition:p.layerDefinition},n.showLabels=a.showLabels&&e.labelsVisible,this._setURLandToken(n,e),null!=(d=n.layerDefinition)&&null!=(u=d.drawingInfo)&&u.renderer&&(delete n.layerDefinition.minScale,delete n.layerDefinition.maxScale,await this._convertSvgRenderer(n.layerDefinition.drawingInfo.renderer),"visualVariables"in s&&s.visualVariables&&s.visualVariables[0])){const e=s.visualVariables[0];if("size"===e.type&&e.maxSize&&"number"!=typeof e.maxSize&&e.minSize&&"number"!=typeof e.minSize){const t=(0,m.getSizeRangeAtScale)(e,l.scale);n.layerDefinition.drawingInfo.renderer.visualVariables[0].minSize=t.minSize,n.layerDefinition.drawingInfo.renderer.visualVariables[0].maxSize=t.maxSize}}}var p;return n}async _createGeoJSONLayer(e,{layerView:t,printTemplate:i}){this._legendLayers&&this._legendLayers.push({id:e.id});const r=await this._getGraphics(t);return this._createFeatureCollectionJSON(e,r,i)}async _createGraphicsLayerJSON(e,{printTemplate:t}){return this._createFeatureCollectionJSON(e,null,t)}_createImageryLayerJSON(e){this._legendLayers&&this._legendLayers.push({id:e.id});const t={bandIds:e.bandIds,compressionQuality:e.compressionQuality,format:e.format,interpolation:e.interpolation};if((e.mosaicRule||e.definitionExpression)&&(t.mosaicRule=e.exportImageServiceParameters.mosaicRule.toJSON()),e.renderingRule||e.renderer)if(this._is11xService)e.renderingRule&&(t.renderingRule=e.renderingRule.toJSON()),e.renderer&&(t.layerDefinition=t.layerDefinition||{},t.layerDefinition.drawingInfo=t.layerDefinition.drawingInfo||{},t.layerDefinition.drawingInfo.renderer=e.renderer.toJSON());else{const i=e.exportImageServiceParameters.combineRendererWithRenderingRule();i&&(t.renderingRule=i.toJSON())}return this._setURLandToken(t,e),t}async _createKMLLayerJSON(e,t){const i=t.printTemplate;if(this._is11xService){const t={type:"kml"};return e.write(t,{origin:"web-map"}),delete t.layerType,t.url=(0,c.Fv)(e.url),t}{const r=[],n=t.layerView;n.allVisibleMapImages.forEach(((t,i)=>{const n={id:`${e.id}_image${i}`,type:"image",title:e.id,minScale:e.minScale||0,maxScale:e.maxScale||0,opacity:e.opacity,extent:t.extent};"data:image/png;base64,"===t.href.substr(0,22)?n.imageData=t.href.substr(22):n.url=t.href,r.push(n)}));const s=[...n.allVisiblePoints.items,...n.allVisiblePolylines.items,...n.allVisiblePolygons.items],o={id:e.id,...await this._createFeatureCollectionJSON(null,s,i)};return r.push(o),r}}_createMapImageLayerJSON(e,{view:t}){let i;const r={id:e.id,subLayerIds:[]};let n=[];const s=t.scale,o=e=>{const t=0===s,i=0===e.minScale||s<=e.minScale,a=0===e.maxScale||s>=e.maxScale;if(e.visible&&(t||i&&a))if(e.sublayers)e.sublayers.forEach(o);else{const t=e.toExportImageJSON(),i={id:e.id,name:e.title,layerDefinition:{drawingInfo:t.drawingInfo,definitionExpression:t.definitionExpression,source:t.source}};n.unshift(i),r.subLayerIds.push(e.id)}};return e.sublayers&&e.sublayers.forEach(o),n.length&&(n=n.map((({id:e,name:t,layerDefinition:i})=>({id:e,name:t,layerDefinition:i}))),i={layers:n,visibleLayers:r.subLayerIds},this._setURLandToken(i,e),this._legendLayers.push(r)),i}async _createMapNotesLayerJSON({layerView:e,printTemplate:t}){const i=[];for(const r of e.graphicsViews()){const e=await this._createFeatureCollectionJSON(r,r.graphics,t);e&&i.push(...e.featureCollection.layers)}return{featureCollection:{layers:i}}}_createOpenStreetMapLayerJSON(){return{type:"OpenStreetMap"}}async _createScreenshotJSON(e,{printTemplate:t,view:i}){const r={type:"image"},n={format:"png",ignoreBackground:!0,layers:[e],rotation:0},s=this._ssExtent||i.extent.clone();let o=96,a=!0,l=!0;if(t.exportOptions){const e=t.exportOptions;e.dpi>0&&(o=e.dpi),e.width>0&&(a=e.width%2==i.width%2),e.height>0&&(l=e.height%2==i.height%2)}if("map-only"===t.layout&&t.scalePreserved&&(!t.outScale||t.outScale===i.scale)&&96===o&&(!a||!l)&&(n.area={x:0,y:0,width:i.width,height:i.height},a||(n.area.width-=1),l||(n.area.height-=1),!this._ssExtent)){const e=i.toMap((0,u.vW)(n.area.width,n.area.height));s.ymin=e.y,s.xmax=e.x,this._ssExtent=s}r.extent=s.clone()._normalize(!0).toJSON();const h=await i.takeScreenshot(n),d=(0,c.sJ)(h.dataUrl);return r.imageData=d.data,r}async _createStreamLayerJSON(e,{layerView:t,printTemplate:i}){this._legendLayers&&this._legendLayers.push({id:e.id});const r=await this._getGraphics(t);return this._createFeatureCollectionJSON(e,r,i)}_createTileLayerJSON(e){const t={customParameters:e.customParameters};return this._setURLandToken(t,e),t}async _createVectorTileLayerJSON(e,t){if(this._is11xService&&e.serviceUrl&&e.styleUrl){const t=p.id&&p.id.findCredential(e.styleUrl),i=p.id&&p.id.findCredential(e.serviceUrl);if(!t&&!i||"2.1.0"!==this._cimVersion){const r={type:"VectorTileLayer"};return r.styleUrl=(0,c.Fv)(e.styleUrl),t&&(r.token=t.token),i&&i.token!==r.token&&(r.additionalTokens=[{url:e.serviceUrl,token:i.token}]),r}}return this._createScreenshotJSON(e,t)}_createWebTileLayerJSON(e){const t={type:"WebTiledLayer",urlTemplate:e.urlTemplate.replace(/\${/g,"{"),credits:e.copyright};return e.subDomains&&e.subDomains.length>0&&(t.subDomains=e.subDomains),t}_createWMSLayerJSON(e){let t;const i=[],r=e=>{e.visible&&(e.sublayers?e.sublayers.forEach(r):e.name&&i.unshift(e.name))};return e.sublayers&&e.sublayers.forEach(r),i.length&&(t={type:"wms",customLayerParameters:e.customLayerParameters,customParameters:e.customParameters,transparentBackground:e.imageTransparency,visibleLayers:i,url:(0,c.Fv)(e.url),version:e.version}),t}_createWMTSLayerJSON(e){const t=e.activeLayer;return{type:"wmts",customLayerParameters:e.customLayerParameters,customParameters:e.customParameters,format:t.imageFormat,layer:t.id,style:t.styleId,tileMatrixSet:t.tileMatrixSetId,url:(0,c.Fv)(e.url)}}_setURLandToken(e,t){var i;if(!t.url)return;e.url=(0,c.Fv)(e.url||t.url);const r=null==(i=p.id)?void 0:i.findCredential(t.url);r&&(e.token=r.token)}async _convertSvgToPictureMarkerSymbolJson(e){this._canvas||(this._canvas=document.createElement("canvas"));const t=1024;this._canvas.width=t,this._canvas.height=t;const i=this._canvas.getContext("2d");let r,n;if(e.path){var s;const o=new Path2D(e.path);o.closePath(),i.fillStyle=Array.isArray(e.color)?`rgba(${e.color[0]},${e.color[1]},${e.color[2]},${e.color[3]/255})`:"rgb(0,0,0)",i.fill(o);const a=function(e,t=15){const i=e.canvas.width,r=e.canvas.height,n=e.getImageData(0,0,i,r).data;let s,o,a,l,c,h;e:for(o=r;o--;)for(s=i;s--;)if(n[4*(i*o+s)+3]>t){h=o;break e}if(!h)return null;e:for(s=i;s--;)for(o=h+1;o--;)if(n[4*(i*o+s)+3]>t){c=s;break e}e:for(s=0;s<=c;++s)for(o=h+1;o--;)if(n[4*(i*o+s)+3]>t){a=s;break e}e:for(o=0;o<=h;++o)for(s=a;s<=c;++s)if(n[4*(i*o+s)+3]>t){l=o;break e}return{x:a,y:l,width:c-a,height:h-l}}(i);if(!a)return null;i.clearRect(0,0,t,t);const l=(0,u.F2)(e.size)/Math.max(a.width,a.height);i.scale(l,l);const c=t/l,h=c/2-a.width/2-a.x,d=c/2-a.height/2-a.y;if(i.translate(h,d),Array.isArray(e.color)&&i.fill(o),null!=(s=e.outline)&&s.width&&Array.isArray(e.outline.color)){const t=e.outline;i.lineWidth=(0,u.F2)(t.width)/l,i.lineJoin="round",i.strokeStyle=`rgba(${t.color[0]},${t.color[1]},${t.color[2]},${t.color[3]/255})`,i.stroke(o),a.width+=i.lineWidth,a.height+=i.lineWidth}a.width*=l,a.height*=l;const p=i.getImageData(512-a.width/2,512-a.height/2,Math.ceil(a.width),Math.ceil(a.height));r=p.width,n=p.height,i.canvas.width=r,i.canvas.height=n,i.putImageData(p,0,0)}else{const t="image/svg+xml"===e.contentType?"data:image/svg+xml;base64,"+e.imageData:e.url,s=(await(0,f.default)(t,{responseType:"image"})).data;r=(0,u.F2)(e.width),n=(0,u.F2)(e.height),i.canvas.width=r,i.canvas.height=n,i.drawImage(s,0,0,i.canvas.width,i.canvas.height)}return{type:"esriPMS",imageData:i.canvas.toDataURL("image/png").substr(22),angle:e.angle,contentType:"image/png",height:(0,u.Wz)(n),width:(0,u.Wz)(r),xoffset:e.xoffset,yoffset:e.yoffset}}async _convertSvgRenderer(e){const t=e.type;if("simple"===t&&me(e.symbol))e.symbol=await this._convertSvgToPictureMarkerSymbolJson(e.symbol);else if("uniqueValue"===t||"classBreaks"===t){me(e.defaultSymbol)&&(e.defaultSymbol=await this._convertSvgToPictureMarkerSymbolJson(e.defaultSymbol));const i=e["uniqueValue"===t?"uniqueValueInfos":"classBreakInfos"];if(i)for(const e of i)me(e.symbol)&&(e.symbol=await this._convertSvgToPictureMarkerSymbolJson(e.symbol))}}_getGraphics(e){return e.queryFeatures(fe).then((e=>e.features))}async _getPrintDefinition(e,t){const i=e.view;let r=i.spatialReference;const n={operationalLayers:await this._createOperationalLayers(i,t)};let s=this._ssExtent||e.extent||i.extent;return r&&r.isWrappable&&(s=s.clone()._normalize(!0),r=s.spatialReference),n.mapOptions={extent:s&&s.toJSON(),spatialReference:r&&r.toJSON(),showAttribution:t.attributionVisible},this._ssExtent=null,i.background&&(n.background=i.background.toJSON()),i.rotation&&(n.mapOptions.rotation=-i.rotation),t.scalePreserved&&(n.mapOptions.scale=t.outScale||i.scale),n}async _getGpPrintParams(e){const t=e.template||new he.Z;null==t.showLabels&&(t.showLabels=!0);const i=t.exportOptions;let r;const s=(0,Z.a)(t.layout);if(i&&(r={dpi:i.dpi},"map_only"===s.toLowerCase()||""===s)){const e=i.width,t=i.height;r.outputSize=[e,t]}const o=t.layoutOptions;let a;if(o){let e,t;"Miles"===o.scalebarUnit||"Kilometers"===o.scalebarUnit?(e="Kilometers",t="Miles"):"Meters"!==o.scalebarUnit&&"Feet"!==o.scalebarUnit||(e="Meters",t="Feet"),a={titleText:o.titleText,authorText:o.authorText,copyrightText:o.copyrightText,customTextElements:o.customTextElements,scaleBarOptions:{metricUnit:ue.toJSON(e),metricLabel:de[e],nonMetricUnit:ue.toJSON(t),nonMetricLabel:de[t]}}}let c=null;o&&o.legendLayers&&(c=o.legendLayers.map((e=>{this._legendLayerNameMap[e.layerId]=e.title;const t={id:e.layerId};return e.subLayerIds&&(t.subLayerIds=e.subLayerIds),t})));const h=await this._getPrintDefinition(e,t);if(h.operationalLayers){const e=new RegExp("[\\u4E00-\\u9FFF\\u0E00-\\u0E7F\\u0900-\\u097F\\u3040-\\u309F\\u30A0-\\u30FF\\u31F0-\\u31FF]"),t=/[\u0600-\u06FF]/,i=i=>{const r=i.text,n=i.font,s=n&&n.family&&n.family.toLowerCase();r&&n&&("arial"===s||"arial unicode ms"===s)&&(n.family=e.test(r)?"Arial Unicode MS":"Arial","normal"!==n.style&&t.test(r)&&(n.family="Arial Unicode MS"))},r=()=>{throw new l.Z("print-task:cim-symbol-unsupported","CIMSymbol is not supported by a print service published from ArcMap")};h.operationalLayers.forEach((e=>{var t,n,s;null!=(t=e.featureCollection)&&t.layers?e.featureCollection.layers.forEach((e=>{var t,n,s,o;if(null!=(t=e.layerDefinition)&&null!=(n=t.drawingInfo)&&null!=(s=n.renderer)&&s.symbol){const t=e.layerDefinition.drawingInfo.renderer;"esriTS"===t.symbol.type?i(t.symbol):"CIMSymbolReference"!==t.symbol.type||this._is11xService||r()}null!=(o=e.featureSet)&&o.features&&e.featureSet.features.forEach((e=>{e.symbol&&("esriTS"===e.symbol.type?i(e.symbol):"CIMSymbolReference"!==e.symbol.type||this._is11xService||r())}))})):!this._is11xService&&null!=(n=e.layerDefinition)&&null!=(s=n.drawingInfo)&&s.renderer&&JSON.stringify(e.layerDefinition.drawingInfo.renderer).includes('"type":"CIMSymbolReference"')&&r()}))}e.outSpatialReference&&(h.mapOptions.spatialReference=e.outSpatialReference.toJSON()),(0,n.jB)(h,{exportOptions:r,layoutOptions:a}),(0,n.jB)(h.layoutOptions,{legendOptions:{operationalLayers:null!=c?c:this._legendLayers.slice()}}),this._legendLayers.length=0;const d={Web_Map_as_JSON:JSON.stringify(h),Format:(0,G.a)(t.format),Layout_Template:s};return e.extraParameters&&(0,n.jB)(d,e.extraParameters),d}};(0,r._)([(0,s.Cb)({dependsOn:["url"]})],_e.prototype,"_geoprocessor",null),(0,r._)([(0,s.Cb)()],_e.prototype,"_gpMetadata",void 0),(0,r._)([(0,s.Cb)({dependsOn:["_gpMetadata"],readOnly:!0})],_e.prototype,"mode",null),(0,r._)([(0,s.Cb)()],_e.prototype,"updateDelay",void 0),_e=(0,r._)([(0,a.j)("esri.tasks.PrintTask")],_e);const ge=_e},21544:(e,t,i)=>{"use strict";i.d(t,{Z:()=>h});var r=i(56140),n=(i(95830),i(36544),i(68055),i(79881)),s=i(56274),o=i(87566),a=(i(10923),i(57002),i(86035),i(58385));const l=new s.Xn({esriJobMessageTypeInformative:"informative",esriJobMessageTypeProcessDefinition:"process-definition",esriJobMessageTypeProcessStart:"process-start",esriJobMessageTypeProcessStop:"process-stop",esriJobMessageTypeWarning:"warning",esriJobMessageTypeError:"error",esriJobMessageTypeEmpty:"empty",esriJobMessageTypeAbort:"abort"});let c=class extends a.wq{constructor(e){super(e),this.description=null,this.type=null}};(0,r._)([(0,n.Cb)({type:String,json:{write:!0}})],c.prototype,"description",void 0),(0,r._)([(0,n.Cb)({type:String,json:{read:l.read,write:l.write}})],c.prototype,"type",void 0),c=(0,r._)([(0,o.j)("esri.tasks.support.GPMessage")],c);const h=c},70026:(e,t,i)=>{"use strict";i.d(t,{Z:()=>u});var r=i(56140),n=(i(95830),i(36544)),s=(i(68055),i(79881)),o=i(87765),a=i(87566),l=(i(10923),i(57002),i(86035),i(82677));const c=n.Z.getLogger("esri.tasks.support.PrintTemplate");function h(){(0,o.Mr)(c,"preserveScale",{replacement:"scalePreserved",version:"4.16"})}let d=class extends l.default{constructor(e){super(e),this.attributionVisible=!0,this.exportOptions={width:800,height:1100,dpi:96},this.forceFeatureAttributes=!1,this.format="png32",this.label=null,this.layout="map-only",this.layoutOptions=null,this.outScale=0,this.scalePreserved=!0,this.showLabels=!0}get preserveScale(){return h(),this.scalePreserved}set preserveScale(e){h(),this.scalePreserved=e}};(0,r._)([(0,s.Cb)()],d.prototype,"attributionVisible",void 0),(0,r._)([(0,s.Cb)()],d.prototype,"exportOptions",void 0),(0,r._)([(0,s.Cb)()],d.prototype,"forceFeatureAttributes",void 0),(0,r._)([(0,s.Cb)()],d.prototype,"format",void 0),(0,r._)([(0,s.Cb)()],d.prototype,"label",void 0),(0,r._)([(0,s.Cb)()],d.prototype,"layout",void 0),(0,r._)([(0,s.Cb)()],d.prototype,"layoutOptions",void 0),(0,r._)([(0,s.Cb)()],d.prototype,"outScale",void 0),(0,r._)([(0,s.Cb)({dependsOn:["scalePreserved"]})],d.prototype,"preserveScale",null),(0,r._)([(0,s.Cb)()],d.prototype,"scalePreserved",void 0),(0,r._)([(0,s.Cb)()],d.prototype,"showLabels",void 0),d=(0,r._)([(0,a.j)("esri.tasks.support.PrintTemplate")],d);const u=d},33517:(e,t,i)=>{"use strict";i.d(t,{i:()=>n,a:()=>s});const r=new(i(56274).Xn)({PDF:"pdf",PNG32:"png32",PNG8:"png8",JPG:"jpg",GIF:"gif",EPS:"eps",SVG:"svg",SVGZ:"svgz"}),n=r.fromJSON.bind(r),s=r.toJSON.bind(r)},12783:(e,t,i)=>{"use strict";i.d(t,{i:()=>n,a:()=>s});const r=new(i(56274).Xn)({MAP_ONLY:"map-only","A3 Landscape":"a3-landscape","A3 Portrait":"a3-portrait","A4 Landscape":"a4-landscape","A4 Portrait":"a4-portrait","Letter ANSI A Landscape":"letter-ansi-a-landscape","Letter ANSI A Portrait":"letter-ansi-a-portrait","Tabloid ANSI B Landscape":"tabloid-ansi-b-landscape","Tabloid ANSI B Portrait":"tabloid-ansi-b-portrait"}),n=r.fromJSON.bind(r),s=r.toJSON.bind(r)},92765:(e,t,i)=>{"use strict";i.d(t,{Z:()=>S});var r,n=i(56140),s=(i(95830),i(36544),i(68055),i(79881)),o=i(87566),a=(i(10923),i(57002),i(86035),i(58385)),l=i(61106),c=i(52937),h=(i(36348),i(60418)),d=i(65984),u=i(55735),p=i(98501),f=i(14286),m=i(42738),_=i(75384),g=i(15187),y=i(87561),v=i(55955),b=i(27851);function w(e){return function(e){return e instanceof Float32Array&&e.length>=2}(e)||function(e){return Array.isArray(e)&&e.length>=2}(e)}const x=[0,0];let C=r=class extends a.wq{constructor(...e){super(...e),this._viewpoint2D={center:(0,u.a)(),rotation:0,scale:0,spatialReference:null},this.center=[0,0],this.extent=new c.Z,this.id=0,this.inverseTransform=(0,_.c)(),this.resolution=0,this.rotation=0,this.scale=0,this.transform=(0,_.c)(),this.transformNoRotation=(0,_.c)(),this.displayMat3=(0,v.c)(),this.displayViewMat3=(0,v.c)(),this.viewMat3=(0,v.c)(),this.viewMat2d=(0,y.c)(),this.worldScreenWidth=0,this.size=[0,0]}set pixelRatio(e){this._set("pixelRatio",e),this._update()}set size(e){this._set("size",e),this._update()}set viewpoint(e){if(e){const t=this._viewpoint2D,i=e.targetGeometry;t.center[0]=i.x,t.center[1]=i.y,t.rotation=e.rotation,t.scale=e.scale,t.spatialReference=i.spatialReference}this._update()}copy(e){const t=this.size,i=this.viewpoint;return i&&t?(this.viewpoint=(0,g.JG)(i,e.viewpoint),this._set("size",(0,f.c)(t,e.size))):(this.viewpoint=e.viewpoint.clone(),this._set("size",[e.size[0],e.size[1]])),this._set("pixelRatio",e.pixelRatio),this}clone(){return new r({size:this.size,viewpoint:this.viewpoint.clone(),pixelRatio:this.pixelRatio})}toMap(e,t,i){return w(t)?(0,f.t)(e,t,this.inverseTransform):(x[0]=t,x[1]=i,(0,f.t)(e,x,this.inverseTransform))}toScreen(e,t,i){return w(t)?(0,f.t)(e,t,this.transform):(x[0]=t,x[1]=i,(0,f.t)(e,x,this.transform))}toScreenNoRotation(e,t,i){return w(t)?(0,f.t)(e,t,this.transformNoRotation):(x[0]=t,x[1]=i,(0,f.t)(e,x,this.transformNoRotation))}getScreenTransform(e,t){const{center:i}=this._viewpoint2D,r=this._get("pixelRatio")||1,n=this._get("size");return(0,g.Rb)(e,i,n,t,0,r),e}_update(){const{center:e,spatialReference:t,scale:i,rotation:r}=this._viewpoint2D,n=this._get("pixelRatio")||1,s=this._get("size"),o=new d.Z({targetGeometry:new l.Z(e[0],e[1],t),scale:i,rotation:r});if(this._set("viewpoint",o),!s||!t||!i)return;this.resolution=(0,g.uG)(o),this.rotation=r,this.scale=i,this.spatialReference=t,(0,f.c)(this.center,e);const a=0!==s[0]?2/s[0]:0,c=0!==s[1]?-2/s[1]:0;(0,p.s)(this.displayMat3,a,0,0,0,c,0,-1,1,1);const u=(0,p.i)(this.viewMat3),_=(0,b.f)(s[0]/2,s[1]/2),y=(0,b.f)(-s[0]/2,-s[1]/2),v=(0,h.t)(r);(0,p.a)(u,u,_),(0,p.r)(u,u,v),(0,p.a)(u,u,y),(0,p.m)(this.displayViewMat3,this.displayMat3,u);const w=(0,m.i)(this.viewMat2d);return(0,m.t)(w,w,_),(0,m.r)(w,w,v),(0,m.t)(w,w,y),(0,g.bk)(this.extent,o,s),(0,g.Ck)(this.transform,o,s,n),(0,m.a)(this.inverseTransform,this.transform),(0,g.Jp)(this.transformNoRotation,o,s,n),this.worldScreenWidth=(0,g.L2)(this.spatialReference,this.resolution),this._set("id",this.id+1),this}};(0,n._)([(0,s.Cb)({readOnly:!0})],C.prototype,"id",void 0),(0,n._)([(0,s.Cb)({value:1,json:{write:!0}})],C.prototype,"pixelRatio",null),(0,n._)([(0,s.Cb)({json:{write:!0}})],C.prototype,"size",null),(0,n._)([(0,s.Cb)({type:d.Z,json:{write:!0}})],C.prototype,"viewpoint",null),C=r=(0,n._)([(0,o.j)("esri.views.2d.ViewState")],C);const S=C},56291:(e,t,i)=>{"use strict";i.d(t,{s:()=>a});var r=i(95830),n=i(39105),s=i(35470);const o=1/(0,r.Z)("mapview-transitions-duration");class a extends s.Z{constructor(){super(...arguments),this._fadeOutResolver=null,this._fadeInResolver=null,this._clips=null,this.computedVisible=!0,this.computedOpacity=1,this.fadeTransitionEnabled=!1,this.inFadeTransition=!1,this._isReady=!1,this._opacity=1,this._stage=null,this._visible=!0}get clips(){return this._clips}set clips(e){this._clips=e,this.requestRender()}get isReady(){return this._isReady}get opacity(){return this._opacity}set opacity(e){this._opacity!==e&&(this._opacity=Math.min(1,Math.max(e,0)),this.requestRender())}get stage(){return this._stage}set stage(e){if(this._stage===e)return;const t=this._stage;this._stage=e,e?this._stage.untrashDisplayObject(this)||(this.onAttach(),this.emit("attach")):t.trashDisplayObject(this)}get visible(){return this._visible}set visible(e){this._visible!==e&&(this._visible=e,this.requestRender())}fadeIn(){return this._fadeInResolver||(this._fadeOutResolver&&(this._fadeOutResolver(),this._fadeOutResolver=null),this.computedOpacity=0,this.fadeTransitionEnabled=!0,this._fadeInResolver=(0,n.createResolver)(),this.requestRender()),this._fadeInResolver.promise}fadeOut(){return this._fadeOutResolver||(this._fadeInResolver&&(this._fadeInResolver(),this._fadeInResolver=null),this.fadeTransitionEnabled=!0,this._fadeOutResolver=(0,n.createResolver)(),this.requestRender()),this._fadeOutResolver.promise}beforeRender(e){this.updateTransitionProperties(e.deltaTime,e.state.scale)}afterRender(e){this._fadeInResolver&&this.computedOpacity===this.opacity?(this._fadeInResolver(),this._fadeInResolver=null):this._fadeOutResolver&&0===this.computedOpacity&&(this._fadeOutResolver(),this._fadeOutResolver=null)}setTransform(e){}processRender(e){this.stage&&this.computedVisible&&this.doRender(e)}requestRender(){this.stage&&this.stage.requestRender()}processDetach(){this.onDetach(),this.emit("detach")}updateTransitionProperties(e,t){if(this.fadeTransitionEnabled){const t=this._fadeOutResolver||!this.visible?0:this.opacity,i=this.computedOpacity;if(i===t)this.computedVisible=this.visible;else{const r=e*o;this.computedOpacity=i>t?Math.max(t,i-r):Math.min(t,i+r),this.computedVisible=this.computedOpacity>0;const n=t===this.computedOpacity;this.inFadeTransition=!n,n||this.requestRender()}}else this.computedOpacity=this.opacity,this.computedVisible=this.visible}onAttach(){}onDetach(){}doRender(e){}ready(){this._isReady||(this._isReady=!0,this.emit("isReady"),this.requestRender())}}},57498:(e,t,i)=>{"use strict";i.d(t,{i:()=>_});var r=i(98501),n=i(55955),s=i(41658),o=(i(95830),i(59472)),a=(i(33655),i(5627),i(69595)),l=i(74038),c=(i(84570),i(89930),i(17441));class h{constructor(e){this.layerUIDs=[],this.isDestroyed=!1,this.data=e,this.memoryUsed=e.byteLength;let t=1;const i=new Uint32Array(e);this.layerUIDs=[];const r=i[t++];for(let e=0;e<r;e++)this.layerUIDs[e]=i[t++];this.bufferDataOffset=t}get isPreparedForRendering(){return(0,o.Wi)(this.data)}get offset(){return this.bufferDataOffset}destroy(){this.isDestroyed||(this.doDestroy(),this.isDestroyed=!0)}prepareForRendering(e,t){(0,o.Wi)(this.data)||(this.doPrepareForRendering(e,t,this.data,this.bufferDataOffset),this.data=null)}}class d extends h{constructor(e){super(e),this.type=2,this.lineIndexStart=0,this.lineIndexCount=0;let t=this.bufferDataOffset;const i=new Uint32Array(e);this.lineIndexStart=i[t++],this.lineIndexCount=i[t++],this.isLineDataDriven=!!i[t++],this.bufferDataOffset=t}hasData(){return this.lineIndexCount>0}triangleCount(){return this.lineIndexCount/3}doDestroy(){(0,o.pC)(this.lineVertexArrayObject)&&this.lineVertexArrayObject.dispose(),(0,o.pC)(this.lineVertexBuffer)&&this.lineVertexBuffer.dispose(),(0,o.pC)(this.lineIndexBuffer)&&this.lineIndexBuffer.dispose(),this.lineVertexArrayObject=null,this.lineVertexBuffer=null,this.lineIndexBuffer=null,this.memoryUsed=0}doPrepareForRendering(e,t,i,r){const n=new Uint32Array(i),s=new Int32Array(n.buffer),o=n[r++];this.lineVertexBuffer=a.Z.createVertex(e,35044,new Int32Array(s.buffer,4*r,o)),r+=o;const c=n[r++];this.lineIndexBuffer=a.Z.createIndex(e,35044,new Uint32Array(n.buffer,4*r,c)),r+=c,this.lineVertexArrayObject=new l.Z(e,t.getProgramAttributes(3),this.isLineDataDriven?d.lineVertexAttributesDD:d.lineVertexAttributes,{geometry:this.lineVertexBuffer},this.lineIndexBuffer)}}d.lineVertexAttributes={geometry:[{name:"a_pos",count:2,type:5122,offset:0,stride:12,normalized:!1,divisor:0},{name:"a_offsetAndNormal",count:4,type:5120,offset:4,stride:12,normalized:!1,divisor:0},{name:"a_accumulatedDistance",count:2,type:5123,offset:8,stride:12,normalized:!1,divisor:0}]},d.lineVertexAttributesDD={geometry:[{name:"a_pos",count:2,type:5122,offset:0,stride:20,normalized:!1,divisor:0},{name:"a_offsetAndNormal",count:4,type:5120,offset:4,stride:20,normalized:!1,divisor:0},{name:"a_accumulatedDistance",count:2,type:5122,offset:8,stride:20,normalized:!1,divisor:0},{name:"a_color",count:4,type:5121,offset:12,stride:20,normalized:!0,divisor:0},{name:"a_width",count:1,type:5126,offset:16,stride:20,normalized:!1,divisor:0}]};class u extends h{constructor(e){super(e),this.type=1,this.fillIndexStart=0,this.fillIndexCount=0,this.outlineIndexStart=0,this.outlineIndexCount=0;let t=this.bufferDataOffset;const i=new Uint32Array(e);this.fillIndexStart=i[t++],this.fillIndexCount=i[t++],this.outlineIndexStart=i[t++],this.outlineIndexCount=i[t++],this.isFillDataDriven=!!i[t++],this.isOutlineDataDriven=!!i[t++],this.bufferDataOffset=t}hasData(){return this.fillIndexCount>0||this.outlineIndexCount>0}triangleCount(){return(this.fillIndexCount+this.outlineIndexCount)/3}doDestroy(){(0,o.pC)(this.fillVertexArrayObject)&&this.fillVertexArrayObject.dispose(),(0,o.pC)(this.fillVertexBuffer)&&this.fillVertexBuffer.dispose(),(0,o.pC)(this.fillIndexBuffer)&&this.fillIndexBuffer.dispose(),this.fillVertexArrayObject=null,this.fillVertexBuffer=null,this.fillIndexBuffer=null,(0,o.pC)(this.outlineVertexArrayObject)&&this.outlineVertexArrayObject.dispose(),(0,o.pC)(this.outlineVertexBuffer)&&this.outlineVertexBuffer.dispose(),(0,o.pC)(this.outlineIndexBuffer)&&this.outlineIndexBuffer.dispose(),this.outlineVertexArrayObject=null,this.outlineVertexBuffer=null,this.outlineIndexBuffer=null,this.memoryUsed=0}doPrepareForRendering(e,t,i,r){const n=new Uint32Array(i),s=new Int32Array(n.buffer),o=n[r++];this.fillVertexBuffer=a.Z.createVertex(e,35044,new Int32Array(s.buffer,4*r,o)),r+=o;const c=n[r++];this.fillIndexBuffer=a.Z.createIndex(e,35044,new Uint32Array(n.buffer,4*r,c)),r+=c;const h=n[r++];this.outlineVertexBuffer=a.Z.createVertex(e,35044,new Int32Array(s.buffer,4*r,h)),r+=h;const d=n[r++];this.outlineIndexBuffer=a.Z.createIndex(e,35044,new Uint32Array(n.buffer,4*r,d)),r+=d,this.fillVertexArrayObject=new l.Z(e,t.getProgramAttributes(1),this.isFillDataDriven?u.fillVertexAttributesDD:u.fillVertexAttributes,{geometry:this.fillVertexBuffer},this.fillIndexBuffer),this.outlineVertexArrayObject=new l.Z(e,t.getProgramAttributes(2),this.isOutlineDataDriven?u.outlineVertexAttributesDD:u.outlineVertexAttributes,{geometry:this.outlineVertexBuffer},this.outlineIndexBuffer)}}u.fillVertexAttributes={geometry:[{name:"a_pos",count:2,type:5122,offset:0,stride:4,normalized:!1,divisor:0}]},u.fillVertexAttributesDD={geometry:[{name:"a_pos",count:2,type:5122,offset:0,stride:8,normalized:!1,divisor:0},{name:"a_color",count:4,type:5121,offset:4,stride:8,normalized:!0,divisor:0}]},u.outlineVertexAttributes={geometry:[{name:"a_pos",count:2,type:5122,offset:0,stride:8,normalized:!1,divisor:0},{name:"a_offset",count:2,type:5120,offset:4,stride:8,normalized:!1,divisor:0},{name:"a_xnormal",count:2,type:5120,offset:6,stride:8,normalized:!1,divisor:0}]},u.outlineVertexAttributesDD={geometry:[{name:"a_pos",count:2,type:5122,offset:0,stride:12,normalized:!1,divisor:0},{name:"a_offset",count:2,type:5120,offset:4,stride:12,normalized:!1,divisor:0},{name:"a_xnormal",count:2,type:5120,offset:6,stride:12,normalized:!1,divisor:0},{name:"a_color",count:4,type:5121,offset:8,stride:12,normalized:!0,divisor:0}]};class p extends h{constructor(e,t){super(e),this.type=3,this.iconPerPageElementsMap=new Map,this.glyphPerPageElementsMap=new Map,this.symbolInstances=[],this.isIconSDF=!1,this.opacityChanged=!1,this.lastOpacityUpdate=0,this.symbols=[];let i=this.bufferDataOffset;const r=new Uint32Array(e),n=new Int32Array(e),s=new Float32Array(e);this.isIconSDF=!!r[i++],this.isIconDataDriven=!!r[i++],this.isTextDataDriven=!!r[i++];const o=r[i++];for(let e=0;e<o;e++){const e=r[i++],t=r[i++],n=r[i++];this.iconPerPageElementsMap.set(e,[t,n])}const a=r[i++];for(let e=0;e<a;e++){const e=r[i++],t=r[i++],n=r[i++];this.glyphPerPageElementsMap.set(e,[t,n])}const l=r[i++],h=r[i++];this.iconOpacity=new Int32Array(l),this.textOpacity=new Int32Array(h),i=(0,c.wB)(r,n,s,i,this.symbols,t),this.bufferDataOffset=i}hasData(){return this.iconPerPageElementsMap.size>0||this.glyphPerPageElementsMap.size>0}triangleCount(){let e=0;return this.iconPerPageElementsMap.forEach((t=>{e+=t[1]})),this.glyphPerPageElementsMap.forEach((t=>{e+=t[1]})),e/3}doDestroy(){(0,o.pC)(this.iconVertexArrayObject)&&this.iconVertexArrayObject.dispose(),(0,o.pC)(this.iconVertexBuffer)&&this.iconVertexBuffer.dispose(),(0,o.pC)(this.iconOpacityBuffer)&&this.iconOpacityBuffer.dispose(),(0,o.pC)(this.iconIndexBuffer)&&this.iconIndexBuffer.dispose(),this.iconVertexArrayObject=null,this.iconVertexBuffer=null,this.iconOpacityBuffer=null,this.iconIndexBuffer=null,(0,o.pC)(this.textVertexArrayObject)&&this.textVertexArrayObject.dispose(),(0,o.pC)(this.textVertexBuffer)&&this.textVertexBuffer.dispose(),(0,o.pC)(this.textOpacityBuffer)&&this.textOpacityBuffer.dispose(),(0,o.pC)(this.textIndexBuffer)&&this.textIndexBuffer.dispose(),this.textVertexArrayObject=null,this.textVertexBuffer=null,this.textOpacityBuffer=null,this.textIndexBuffer=null,this.memoryUsed=0}updateOpacityInfo(){if(!this.opacityChanged)return;this.opacityChanged=!1;const e=(0,o.Wg)(this.iconOpacity),t=(0,o.Wg)(this.iconOpacityBuffer);e.length>0&&e.byteLength===t.size&&t.setSubData(e);const i=(0,o.Wg)(this.textOpacity),r=(0,o.Wg)(this.textOpacityBuffer);i.length>0&&i.byteLength===r.size&&r.setSubData(i)}doPrepareForRendering(e,t,i,r){const n=new Uint32Array(i),s=new Int32Array(n.buffer),c=n[r++];this.iconVertexBuffer=a.Z.createVertex(e,35044,new Int32Array(s.buffer,4*r,c)),r+=c;const h=n[r++];this.iconIndexBuffer=a.Z.createIndex(e,35044,new Uint32Array(n.buffer,4*r,h)),r+=h;const d=n[r++];this.textVertexBuffer=a.Z.createVertex(e,35044,new Int32Array(s.buffer,4*r,d)),r+=d;const u=n[r++];this.textIndexBuffer=a.Z.createIndex(e,35044,new Uint32Array(n.buffer,4*r,u)),r+=u,this.iconOpacityBuffer=a.Z.createVertex(e,35044,(0,o.Wg)(this.iconOpacity).buffer),this.textOpacityBuffer=a.Z.createVertex(e,35044,(0,o.Wg)(this.textOpacity).buffer),this.iconVertexArrayObject=new l.Z(e,t.getProgramAttributes(4),this.isIconDataDriven?p.vertexAttributesDD:p.vertexAttributes,{geometry:this.iconVertexBuffer,opacity:this.iconOpacityBuffer},this.iconIndexBuffer),this.textVertexArrayObject=new l.Z(e,t.getProgramAttributes(6),this.isTextDataDriven?p.vertexAttributesDD:p.vertexAttributes,{geometry:this.textVertexBuffer,opacity:this.textOpacityBuffer},this.textIndexBuffer)}}p.vertexAttributes={geometry:[{name:"a_pos",count:2,type:5122,offset:0,stride:16,normalized:!1,divisor:0},{name:"a_vertexOffset",count:2,type:5122,offset:4,stride:16,normalized:!1,divisor:0},{name:"a_texAngleRange",count:4,type:5121,offset:8,stride:16,normalized:!1,divisor:0},{name:"a_levelInfo",count:4,type:5121,offset:12,stride:16,normalized:!1,divisor:0}],opacity:[{name:"a_opacityInfo",count:1,type:5121,offset:0,stride:1,normalized:!1,divisor:0}]},p.vertexAttributesDD={geometry:[{name:"a_pos",count:2,type:5122,offset:0,stride:24,normalized:!1,divisor:0},{name:"a_vertexOffset",count:2,type:5122,offset:4,stride:24,normalized:!1,divisor:0},{name:"a_texAngleRange",count:4,type:5121,offset:8,stride:24,normalized:!1,divisor:0},{name:"a_levelInfo",count:4,type:5121,offset:12,stride:24,normalized:!1,divisor:0},{name:"a_color",count:4,type:5121,offset:16,stride:24,normalized:!0,divisor:0},{name:"a_size",count:1,type:5126,offset:20,stride:24,normalized:!1,divisor:0}],opacity:[{name:"a_opacityInfo",count:1,type:5121,offset:0,stride:1,normalized:!1,divisor:0}]};class f extends h{constructor(e){super(e),this.type=4,this.circleIndexStart=0,this.circleIndexCount=0;let t=this.bufferDataOffset;const i=new Uint32Array(e);this.circleIndexStart=i[t++],this.circleIndexCount=i[t++],this.bufferDataOffset=t}hasData(){return this.circleIndexCount>0}triangleCount(){return this.circleIndexCount/3}doDestroy(){(0,o.pC)(this.circleVertexArrayObject)&&this.circleVertexArrayObject.dispose(),(0,o.pC)(this.circleVertexBuffer)&&this.circleVertexBuffer.dispose(),(0,o.pC)(this.circleIndexBuffer)&&this.circleIndexBuffer.dispose(),this.circleVertexArrayObject=null,this.circleVertexBuffer=null,this.circleIndexBuffer=null,this.memoryUsed=0}doPrepareForRendering(e,t,i,r){const n=new Uint32Array(i),s=new Int32Array(n.buffer),o=n[r++];this.circleVertexBuffer=a.Z.createVertex(e,35044,new Int32Array(s.buffer,4*r,o)),r+=o;const c=n[r++];this.circleIndexBuffer=a.Z.createIndex(e,35044,new Uint32Array(n.buffer,4*r,c)),r+=c,this.circleVertexArrayObject=new l.Z(e,t.getProgramAttributes(5),f.circleVertexAttributes,{geometry:this.circleVertexBuffer},this.circleIndexBuffer)}}f.circleVertexAttributes={geometry:[{name:"a_pos",count:2,type:5122,offset:0,stride:16,normalized:!1,divisor:0},{name:"a_color",count:4,type:5121,offset:4,stride:16,normalized:!0,divisor:0},{name:"a_stroke_color",count:4,type:5121,offset:8,stride:16,normalized:!0,divisor:0},{name:"a_data",count:4,type:5121,offset:12,stride:16,normalized:!1,divisor:0}]};var m=i(9793);class _ extends m.I{constructor(e,t,i,r){super(e,i,r,[4096,4096]),this._referenced=0,this._hasSymbolBuckets=!1,this._memoryUsedByLayerData=0,this.layerData=new Map,this.layerCount=0,this.status="loading",this.allSymbolsFadingOut=!1,this.lastOpacityUpdate=0,this.symbols=new Map,this.isCoverage=!1,this.neededForCoverage=!1,this.decluttered=!1,this.invalidating=!1,this.parentTile=null,this.childrenTiles=new Set,this._processed=!1,this._referenced=1,this.styleRepository=t,this.id=e.id,this.transforms.tileUnitsToPixels=(0,n.c)()}get hasSymbolBuckets(){return this._hasSymbolBuckets}get isFading(){return this._hasSymbolBuckets&&performance.now()-this.lastOpacityUpdate<s.nN}get isHoldingForFade(){return this._hasSymbolBuckets&&(!this.allSymbolsFadingOut||performance.now()-this.lastOpacityUpdate<s.nN)}get wasRequested(){return"errored"===this.status||"loaded"===this.status||"reloading"===this.status}setData(e){this.changeDataImpl(e),this.requestRender(),this.ready(),this.invalidating=!1,this._processed=!0}deleteLayerData(e){let t=!1;for(const i of e)if(this.layerData.has(i)){const e=this.layerData.get(i);this._memoryUsedByLayerData-=e.memoryUsed,3===e.type&&this.symbols.has(i)&&(this.symbols.delete(i),t=!0),e.destroy(),this.layerData.delete(i),this.layerCount--}t&&this.emit("symbols-changed"),this.requestRender()}processed(){return this._processed}hasData(){return this.layerCount>0}dispose(){_._destroyRenderBuckets(this.layerData),this.layerData=null,this.layerCount=0,this._memoryUsedByLayerData=0,this.destroy()}release(){return 0==--this._referenced&&(this.dispose(),this.stage=null,!0)}reference(){++this._referenced}get referenced(){return this._referenced}getMemoryUsage(){return this._memoryUsedByLayerData/(this._referenced||1)}changeDataImpl(e){let t=!1;if(e){const i=this._createRenderBuckets(e);for(const[e,r]of i){if(this.layerData.has(e)){const t=this.layerData.get(e);this._memoryUsedByLayerData-=r.memoryUsed,t.destroy(),this.layerData.delete(e),this.layerCount--}3===r.type&&(this.symbols.set(e,r.symbols),t=!0),this._memoryUsedByLayerData+=r.memoryUsed,this.layerData.set(e,r),this.layerCount++}}this._hasSymbolBuckets=!1;for(const[e,t]of this.layerData)3===t.type&&(this._hasSymbolBuckets=!0);t&&this.emit("symbols-changed")}attachWithContext(e){this.stage={context:e,trashDisplayObject(e){e.processDetach()},untrashDisplayObject:()=>!1}}setTransform(e,t){super.setTransform(e,t);const i=t/(e.resolution*e.pixelRatio),n=this.size[0]/this.coordRange[0]*i,s=this.size[1]/this.coordRange[1]*i,o=[0,0];e.toScreen(o,this.coords);const a=this.transforms.tileUnitsToPixels;(0,r.i)(a),(0,r.a)(a,a,o),(0,r.r)(a,a,Math.PI*e.rotation/180),(0,r.c)(a,a,[n,s,1])}static _destroyRenderBuckets(e){const t=new Set;e.forEach((e=>{t.has(e)||(e.destroy(),t.add(e))})),e.clear()}_createRenderBuckets(e){const t=new Map,i=new Map;for(const r of e){const e=this._deserializeBucket(r,i);for(const i of e.layerUIDs)t.set(i,e)}return t}_deserializeBucket(e,t){let i=t.get(e);if(i)return i;switch(new Uint32Array(e)[0]){case 1:i=new u(e);break;case 2:i=new d(e);break;case 3:i=new p(e,this);break;case 4:i=new f(e)}return t.set(e,i),i}}},41658:(e,t,i)=>{"use strict";i.d(t,{PF:()=>n,Ts:()=>s,Bf:()=>r,nN:()=>o});const r=!0,n=32,s=1.5,o=200},16086:(e,t,i)=>{"use strict";i.d(t,{a:()=>r,J:()=>n});class r{constructor(e){this.xTile=0,this.yTile=0,this.hash=0,this.priority=1,this.colliders=[],this.textVertexRanges=[],this.iconVertexRanges=[],this.tile=e}}class n{constructor(){this.tileSymbols=[],this.parts=[{startTime:0,startOpacity:0,targetOpacity:0,show:!1},{startTime:0,startOpacity:0,targetOpacity:0,show:!1}],this.show=!1}}},17441:(e,t,i)=>{"use strict";i.d(t,{HX:()=>s,wB:()=>o,co:()=>n,C$:()=>a});var r=i(16086);function n(e,t,i,r,n,s){const o=i-n;if(o>=0)return(t>>o)+(r-(s<<o))*(e>>o);const a=-o;return t-(s-(r<<a))*(e>>a)<<a}class s{constructor(e,t,i){this._rows=Math.ceil(t/i),this._columns=Math.ceil(e/i),this._cellSize=i,this.cells=new Array(this._rows);for(let e=0;e<this._rows;e++){this.cells[e]=new Array(this._columns);for(let t=0;t<this._columns;t++)this.cells[e][t]=[]}}getCell(e,t){const i=Math.min(Math.max(Math.floor(t/this._cellSize),0),this._rows-1),r=Math.min(Math.max(Math.floor(e/this._cellSize),0),this._columns-1);return this.cells[i]&&this.cells[i][r]||null}getCellSpan(e,t,i,r){return[Math.min(Math.max(Math.floor(e/this._cellSize),0),this.columns-1),Math.min(Math.max(Math.floor(t/this._cellSize),0),this.rows-1),Math.min(Math.max(Math.floor(i/this._cellSize),0),this.columns-1),Math.min(Math.max(Math.floor(r/this._cellSize),0),this.rows-1)]}get cellSize(){return this._cellSize}get columns(){return this._columns}get rows(){return this._rows}}function o(e,t,i,n,s,o){const a=t[n++];for(let l=0;l<a;l++){const a=new r.a(o);a.xTile=t[n++],a.yTile=t[n++],a.hash=t[n++],a.priority=t[n++];const l=t[n++];for(let e=0;e<l;e++){const e=t[n++],r=t[n++],s=t[n++],o=t[n++],l=!!t[n++],c=t[n++],h=i[n++],d=i[n++],u=t[n++],p=t[n++];a.colliders.push({xTile:e,yTile:r,dxPixels:s,dyPixels:o,hard:l,partIndex:c,width:u,height:p,minLod:h,maxLod:d})}const c=e[n++];for(let t=0;t<c;t++)a.textVertexRanges.push([e[n++],e[n++]]);const h=e[n++];for(let t=0;t<h;t++)a.iconVertexRanges.push([e[n++],e[n++]]);s.push(a)}return n}function a(e,t,i){for(const[r,n]of e.symbols)l(e,t,i,n,r)}function l(e,t,i,r,n){const s=e.layerData.get(n);if(3===s.type){for(const t of r){const r=t.unique;let n;if(t.selectedForRendering){const t=r.parts[0],s=t.startOpacity,o=t.targetOpacity;e.allSymbolsFadingOut=e.allSymbolsFadingOut&&0===o;const a=i?Math.floor(127*s)|o<<7:o?255:0;n=a<<24|a<<16|a<<8|a}else n=0;for(const[e,i]of t.iconVertexRanges)for(let t=e;t<e+i;t+=4)s.iconOpacity[t/4]=n;if(t.selectedForRendering){const t=r.parts[1],s=t.startOpacity,o=t.targetOpacity;e.allSymbolsFadingOut=e.allSymbolsFadingOut&&0===o;const a=i?Math.floor(127*s)|o<<7:o?255:0;n=a<<24|a<<16|a<<8|a}else n=0;for(const[e,i]of t.textVertexRanges)for(let t=e;t<e+i;t+=4)s.textOpacity[t/4]=n}s.lastOpacityUpdate=t,s.opacityChanged=!0}}},9793:(e,t,i)=>{"use strict";i.d(t,{I:()=>a});i(95830);var r=i(98501),n=i(5201),s=i(55955),o=i(56291);class a extends o.s{constructor(e,t,i,r=i){super(),this.triangleCountReportedInDebug=0,this.transforms={dvs:(0,s.c)(),tileMat3:(0,s.c)()},this.triangleCount=0,this.key=new n.Z(e),this.bounds=t,this.size=i,this.coordRange=r}destroy(){this.texture&&(this.texture.dispose(),this.texture=null)}get coords(){return this._coords}get bounds(){return this._bounds}set bounds(e){this._coords=[e[0],e[3]],this._bounds=e}setTransform(e,t){const i=t/(e.resolution*e.pixelRatio),n=this.transforms.tileMat3,[s,o]=e.toScreenNoRotation([0,0],this.coords),a=this.size[0]/this.coordRange[0]*i,l=this.size[1]/this.coordRange[1]*i;(0,r.s)(n,a,0,0,0,l,0,s,o,1),(0,r.m)(this.transforms.dvs,e.displayViewMat3,n)}}},90461:(e,t,i)=>{"use strict";i.d(t,{T:()=>r});class r{constructor(){this._names=new Map}begin(e){this._names.has(e)||(this._names.set(e,!1),(e=>-1!==e.indexOf("Brush"))(e)&&this.record("Esri.FirstDraw"),performance.mark(`Esri.${e}.Start`))}end(e){this._names.has(e)&&!this._names.get(e)&&(this._names.set(e,!0),performance.mark(`Esri.${e}.End`))}record(e){this._names.has(e)||(this._names.set(e,!0),performance.mark(`Esri.${e}`))}}},68414:(e,t,i)=>{"use strict";var r=i(56140),n=(i(95830),i(36544),i(68055),i(79881)),s=i(87566),o=(i(10923),i(57002),i(86035),i(82677)),a=i(14286),l=i(9512);const c=new Set,h=[],d=new Map,u=[0,0];let p=class extends o.default{constructor(e){super(e),this._keyToItem=new Map,this.concurrency=6,this.strategy="scale-first",this.tileInfoView=null}initialize(){const{concurrency:e,process:t}=this;this._peekByScaleFirst,this._peekByCenterFirst,this._queue=new l.e({concurrency:e,process:(e,i)=>{const r=this._keyToItem.get(e);return t(r,{signal:i})},peeker:e=>e.values().next().value})}destroy(){this.clear(),this._queue.destroy(),this._queue=null}get length(){return this._queue?this._queue.length:0}get onGoingCount(){return this._keyToItem.size}get updating(){return this.length>0||this.onGoingCount>0}abort(e){const t="string"==typeof e?e:e.id;this._queue.abort(t)}clear(){this._queue.clear(),this._keyToItem.clear(),this.notifyChange("updating")}has(e){return"string"==typeof e?this._keyToItem.has(e):this._keyToItem.has(e.id)}isOngoing(e){const t="string"==typeof e?e:e.id;return this.has(t)&&this._queue.isOngoing(t)}pause(){this._queue.pause()}push(e,t){const i=e.key.id+"-"+t;if(this.has(i))return this.get(i);const r=this._queue.push(i),n=()=>{this._keyToItem.delete(i),this.notifyChange("updating")};return this._keyToItem.set(i,e),r.then(n,n),this.notifyChange("updating"),r}reset(){this._queue.reset(),this.notifyChange("updating")}resume(){this._queue.resume()}_peekByScaleFirst(e){if(!this.state)return e.values().next().value;const t=this.tileInfoView;let i=Number.NEGATIVE_INFINITY,r=Number.POSITIVE_INFINITY;e.forEach((e=>{const t=this._keyToItem.get(e),n=this.tileInfoView.getTileScale(t.key);d.has(n)||(d.set(n,[]),i=Math.max(n,i),r=Math.min(n,r)),d.get(n).push(t.key),c.add(n)}));let n=this.state.scale;var s,o;d.has(n)||(o=c,(s=h).length=0,o.forEach((e=>s.push(e))),h.sort(),n=h.reduce(((e,t)=>Math.abs(t-n)<Math.abs(e-n)?t:e),h[0])),n=Math.min(n,i),n=Math.max(n,r);const a=d.get(n),l=t.getClosestInfoForScale(n),u=l.getColumnForX(this.state.center[0]),p=l.getRowForY(this.state.center[1]);return a.sort(((e,t)=>{const i=l.denormalizeCol(e.col,e.world),r=l.denormalizeCol(t.col,t.world);return Math.sqrt((u-i)*(u-i)+(p-e.row)*(p-e.row))-Math.sqrt((u-r)*(u-r)+(p-t.row)*(p-t.row))})),c.clear(),d.clear(),a[0].id}_peekByCenterFirst(e){if(!this.state)return e.values().next().value;const t=this.tileInfoView,i=this.state.center;let r=Number.POSITIVE_INFINITY,n=null;return e.forEach((e=>{const s=this._keyToItem.get(e);t.getTileCoords(u,s.key);const o=(0,a.i)(u,i);o<r&&(r=o,n=s.key)})),n.id}};(0,r._)([(0,n.Cb)({constructOnly:!0})],p.prototype,"concurrency",void 0),(0,r._)([(0,n.Cb)({constructOnly:!0})],p.prototype,"process",void 0),(0,r._)([(0,n.Cb)()],p.prototype,"state",void 0),(0,r._)([(0,n.Cb)({constructOnly:!0})],p.prototype,"strategy",void 0),(0,r._)([(0,n.Cb)({constructOnly:!0})],p.prototype,"tileInfoView",void 0),(0,r._)([(0,n.Cb)({readOnly:!0})],p.prototype,"updating",null),p=(0,r._)([(0,s.j)("esri.views.2d.tiling.PagedTileQueue")],p)},73978:(e,t,i)=>{"use strict";i.d(t,{Z:()=>s});var r=i(38035);class n{constructor(){this.spans=[]}acquire(e){this.lodInfo=e}release(){this.lodInfo=null,this.spans.length=0}forEach(e,t){const{spans:i,lodInfo:r}=this,{level:n}=r;if(0!==i.length)for(const{row:s,colFrom:o,colTo:a}of i)for(let i=o;i<=a;i++)e.call(t,n,s,r.normalizeCol(i),r.getWorldForColumn(i))}}n.pool=new r.Z(n);const s=n},46666:(e,t,i)=>{"use strict";i.d(t,{Z:()=>m});var r=i(27780),n=i(5201);function s(e,t){return[e,t]}function o(e,t,i){return e[0]=t,e[1]=i,e}const a=new n.Z("0/0/0/0");class l{constructor(e,t,i,r,n,s,o,a,l,c,h,d){this.level=e,this.resolution=t,this.scale=i,this.origin=r,this.first=n,this.last=s,this.size=o,this.norm=a,this.worldStart=l,this.worldEnd=c,this.worldSize=h,this.wrap=d}static create(e,t,i){const n=(0,r.C5)(e.spatialReference),a=s(e.origin.x,e.origin.y),c=s(e.size[0]*t.resolution,e.size[1]*t.resolution),h=s(-1/0,-1/0),d=s(1/0,1/0),u=s(1/0,1/0);let p,f,m,_;return i&&(o(h,Math.max(0,Math.floor((i.xmin-a[0])/c[0])),Math.max(0,Math.floor((a[1]-i.ymax)/c[1]))),o(d,Math.max(0,Math.floor((i.xmax-a[0])/c[0])),Math.max(0,Math.floor((a[1]-i.ymin)/c[1]))),o(u,d[0]-h[0]+1,d[1]-h[1]+1)),e.isWrappable?(p=s(Math.ceil(Math.round((n.valid[1]-n.valid[0])/t.resolution)/e.size[0]),u[1]),f=s(Math.floor((n.origin[0]-a[0])/c[0]),h[1]),m=s(p[0]+f[0]-1,d[1]),_=!0):(f=h,m=d,p=u,_=!1),new l(t.level,t.resolution,t.scale,a,h,d,u,c,f,m,p,_)}normalizeCol(e){if(!this.wrap)return e;const t=this.worldSize[0];return e<0?t-1-Math.abs((e+1)%t):e%t}denormalizeCol(e,t){return this.wrap?this.worldSize[0]*t+e:e}getWorldForColumn(e){return this.wrap?Math.floor(e/this.worldSize[0]):0}getFirstColumnForWorld(e){return e*this.worldSize[0]+this.first[0]}getLastColumnForWorld(e){return e*this.worldSize[0]+this.first[0]+this.size[0]-1}getColumnForX(e){return(e-this.origin[0])/this.norm[0]}getXForColumn(e){return this.origin[0]+e*this.norm[0]}getRowForY(e){return(this.origin[1]-e)/this.norm[1]}getYForRow(e){return this.origin[1]-e*this.norm[1]}getTileBounds(e,t,i=!1){a.set(t);const r=i?a.col:this.denormalizeCol(a.col,a.world),n=a.row;return function(e,t,i,r,n){e[0]=t,e[1]=i,e[2]=r,e[3]=n}(e,this.getXForColumn(r),this.getYForRow(n+1),this.getXForColumn(r+1),this.getYForRow(n)),e}getTileCoords(e,t,i=!1){a.set(t);const r=i?a.col:this.denormalizeCol(a.col,a.world);return Array.isArray(e)?o(e,this.getXForColumn(r),this.getYForRow(a.row)):(e.x=this.getXForColumn(r),e.y=this.getYForRow(a.row)),e}}const c=l;var h=i(73978);const d=class{constructor(e,t,i){this.row=e,this.colFrom=t,this.colTo=i}},u=new n.Z("0/0/0/0");class p{constructor(e,t,i,r,n,s,o,a){this.x=e,this.ymin=t,this.ymax=i,this.invM=r,this.leftAdjust=n,this.rightAdjust=s,this.leftBound=o,this.rightBound=a}static create(e,t){e[1]>t[1]&&([e,t]=[t,e]);const[i,r]=e,[n,s]=t,o=n-i,a=s-r,l=0!==a?o/a:0,c=(Math.ceil(r)-r)*l,h=(Math.floor(r)-r)*l;return new p(i,Math.floor(r),Math.ceil(s),l,o<0?c:h,o<0?h:c,o<0?n:i,o<0?i:n)}incrRow(){this.x+=this.invM}getLeftCol(){return Math.max(this.x+this.leftAdjust,this.leftBound)}getRightCol(){return Math.min(this.x+this.rightAdjust,this.rightBound)}}const f=[[0,0],[0,0],[0,0],[0,0]],m=class{constructor(e,t){this.tileInfo=e,this.fullExtent=t,this.scales=[],this._lodInfos=null,this._infoByScale={},this._infoByLevel={};const i=e.lods.slice();i.sort((function(e,t){return t.scale-e.scale}));const r=this._lodInfos=i.map((i=>c.create(e,i,t)));i.forEach(((e,t)=>{this._infoByLevel[e.level]=r[t],this._infoByScale[e.scale]=r[t],this.scales[t]=e.scale}),this),this._wrap=e.isWrappable}get spatialReference(){return this.tileInfo.spatialReference}getLODInfoAt(e){return this._infoByLevel["number"==typeof e?e:e.level]}getTileBounds(e,t,i=!1){u.set(t);const r=this._infoByLevel[u.level];return r?r.getTileBounds(e,u,i):e}getTileCoords(e,t,i=!1){u.set(t);const r=this._infoByLevel[u.level];return r?r.getTileCoords(e,u,i):e}getTileCoverage(e,t=192,i="closest"){const r="closest"===i?this.getClosestInfoForScale(e.scale):this.getSmallestInfoForScale(e.scale),n=h.Z.pool.acquire(r),s=this._wrap;let o,a,l,c=1/0,u=-1/0;const m=n.spans;f[0][0]=f[0][1]=f[1][1]=f[3][0]=-t,f[1][0]=f[2][0]=e.size[0]+t,f[2][1]=f[3][1]=e.size[1]+t;for(const t of f)e.toMap(t,t),t[0]=r.getColumnForX(t[0]),t[1]=r.getRowForY(t[1]);const _=[];let g=3;for(let e=0;e<4;e++){if(f[e][1]===f[g][1]){g=e;continue}const t=p.create(f[e],f[g]);c=Math.min(t.ymin,c),u=Math.max(t.ymax,u),void 0===_[t.ymin]&&(_[t.ymin]=[]),_[t.ymin].push(t),g=e}if(null==c||null==u||u-c>100)return null;let y=[];for(o=c;o<u;){null!=_[o]&&(y=y.concat(_[o])),a=1/0,l=-1/0;for(let e=y.length-1;e>=0;e--){const t=y[e];a=Math.min(a,t.getLeftCol()),l=Math.max(l,t.getRightCol())}if(a=Math.floor(a),l=Math.floor(l),o>=r.first[1]&&o<=r.last[1])if(s)if(r.size[0]<r.worldSize[0]){const e=Math.floor(l/r.worldSize[0]);for(let t=Math.floor(a/r.worldSize[0]);t<=e;t++)m.push(new d(o,Math.max(r.getFirstColumnForWorld(t),a),Math.min(r.getLastColumnForWorld(t),l)))}else m.push(new d(o,a,l));else a>r.last[0]||l<r.first[0]||(a=Math.max(a,r.first[0]),l=Math.min(l,r.last[0]),m.push(new d(o,a,l)));o+=1;for(let e=y.length-1;e>=0;e--){const t=y[e];t.ymax>=o?t.incrRow():y.splice(e,1)}}return n}getTileParentId(e){u.set(e);const t=this._infoByLevel[u.level],i=this._lodInfos.indexOf(t)-1;return i<0?null:(this._getTileIdAtLOD(u,this._lodInfos[i],u),u.id)}getTileResolution(e){const t=this._infoByLevel["object"==typeof e?e.level:e];return t?t.resolution:-1}getTileScale(e){const t=this._infoByLevel[e.level];return t?t.scale:-1}intersects(e,t){u.set(t);const i=this._infoByLevel[u.level],r=e.lodInfo;if(r.resolution>i.resolution){this._getTileIdAtLOD(u,r,u);const t=r.denormalizeCol(u.col,u.world);for(const i of e.spans)if(i.row===u.row&&i.colFrom<=t&&i.colTo>=t)return!0}if(r.resolution<i.resolution){const[t,n,s,o]=e.spans.reduce(((e,t)=>(e[0]=Math.min(e[0],t.row),e[1]=Math.max(e[1],t.row),e[2]=Math.min(e[2],t.colFrom),e[3]=Math.max(e[3],t.colTo),e)),[1/0,-1/0,1/0,-1/0]),a=i.denormalizeCol(u.col,u.world),l=r.getColumnForX(i.getXForColumn(a)),c=r.getRowForY(i.getYForRow(u.row)),h=r.getColumnForX(i.getXForColumn(a+1))-1,d=r.getRowForY(i.getYForRow(u.row+1))-1;return!(l>o||h<s||c>n||d<t)}const n=r.denormalizeCol(u.col,u.world);return e.spans.some((e=>e.row===u.row&&e.colFrom<=n&&e.colTo>=n))}normalizeBounds(e,t,i){if(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],this._wrap){const t=(0,r.C5)(this.tileInfo.spatialReference),n=-i*(t.valid[1]-t.valid[0]);e[0]+=n,e[2]+=n}return e}getSmallestInfoForScale(e){const t=this.scales;if(this._infoByScale[e])return this._infoByScale[e];if(e>t[0])return this._infoByScale[t[0]];for(let i=1;i<t.length-1;i++)if(e>t[i]+1e-6)return this._infoByScale[t[i-1]];return this._infoByScale[t[t.length-1]]}getClosestInfoForScale(e){const t=this.scales;return this._infoByScale[e]||(e=t.reduce(((t,i)=>Math.abs(i-e)<Math.abs(t-e)?i:t),t[0])),this._infoByScale[e]}scaleToLevel(e){const t=this.scales;if(this._infoByScale[e])return this._infoByScale[e].level;for(let i=t.length-1;i>=0;i--)if(e<t[i])return i===t.length-1?this._infoByScale[t[t.length-1]].level:this._infoByScale[t[i]].level+(t[i]-e)/(t[i]-t[i+1]);return this._infoByScale[t[0]].level}scaleToZoom(e){return this.tileInfo.scaleToZoom(e)}_getTileIdAtLOD(e,t,i){const r=this._infoByLevel[i.level];return e.set(i),t.resolution<r.resolution?null:(t.resolution===r.resolution||(e.level=t.level,e.col=Math.floor(i.col*r.resolution/t.resolution+.01),e.row=Math.floor(i.row*r.resolution/t.resolution+.01)),e)}}},13596:(e,t,i)=>{"use strict";i.d(t,{Z:()=>f});var r=i(56140),n=(i(95830),i(36544),i(68055),i(79881)),s=i(87566),o=(i(10923),i(57002),i(86035),i(82677)),a=i(14286),l=i(9512);const c=new Set,h=[],d=new Map,u=[0,0];let p=class extends o.default{constructor(e){super(e),this._keyToItem=new Map,this.concurrency=6,this.strategy="scale-first",this.tileInfoView=null}initialize(){const{concurrency:e,process:t,strategy:i}=this;this._queue=new l.e({concurrency:e,process:(e,i)=>{const r=this._keyToItem.get(e);return t(r,{signal:i})},peeker:"scale-first"===i?e=>this._peekByScaleFirst(e):e=>this._peekByCenterFirst(e)})}destroy(){this.clear(),this._queue.destroy(),this._queue=null}get length(){return this._queue?this._queue.length:0}get onGoingCount(){return this._keyToItem.size}get updating(){return this.length>0||this.onGoingCount>0}abort(e){const t="string"==typeof e?e:e.id;this._queue.abort(t)}clear(){this._queue.clear(),this._keyToItem.clear(),this.notifyChange("updating")}has(e){return"string"==typeof e?this._keyToItem.has(e):this._keyToItem.has(e.id)}isOngoing(e){const t="string"==typeof e?e:e.id;return this.has(t)&&this._queue.isOngoing(t)}pause(){this._queue.pause()}push(e){const t=e.key.id;if(this.has(t))return this.get(t);const i=this._queue.push(t),r=()=>{this._keyToItem.delete(t),this.notifyChange("updating")};return this._keyToItem.set(t,e),i.then(r,r),this.notifyChange("updating"),i}reset(){this._queue.reset(),this.notifyChange("updating")}resume(){this._queue.resume()}_peekByScaleFirst(e){if(!this.state)return e.values().next().value;const t=this.tileInfoView;let i=Number.NEGATIVE_INFINITY,r=Number.POSITIVE_INFINITY;e.forEach((e=>{const t=this._keyToItem.get(e),n=this.tileInfoView.getTileScale(t.key);d.has(n)||(d.set(n,[]),i=Math.max(n,i),r=Math.min(n,r)),d.get(n).push(t.key),c.add(n)}));let n=this.state.scale;var s,o;d.has(n)||(o=c,(s=h).length=0,o.forEach((e=>s.push(e))),h.sort(),n=h.reduce(((e,t)=>Math.abs(t-n)<Math.abs(e-n)?t:e),h[0])),n=Math.min(n,i),n=Math.max(n,r);const a=d.get(n),l=t.getClosestInfoForScale(n),u=l.getColumnForX(this.state.center[0]),p=l.getRowForY(this.state.center[1]);return a.sort(((e,t)=>{const i=l.denormalizeCol(e.col,e.world),r=l.denormalizeCol(t.col,t.world);return Math.sqrt((u-i)*(u-i)+(p-e.row)*(p-e.row))-Math.sqrt((u-r)*(u-r)+(p-t.row)*(p-t.row))})),c.clear(),d.clear(),a[0].id}_peekByCenterFirst(e){if(!this.state)return e.values().next().value;const t=this.tileInfoView,i=this.state.center;let r=Number.POSITIVE_INFINITY,n=null;return e.forEach((e=>{const s=this._keyToItem.get(e);t.getTileCoords(u,s.key);const o=(0,a.i)(u,i);o<r&&(r=o,n=s.key)})),n.id}};(0,r._)([(0,n.Cb)({constructOnly:!0})],p.prototype,"concurrency",void 0),(0,r._)([(0,n.Cb)({constructOnly:!0})],p.prototype,"process",void 0),(0,r._)([(0,n.Cb)()],p.prototype,"state",void 0),(0,r._)([(0,n.Cb)({constructOnly:!0})],p.prototype,"strategy",void 0),(0,r._)([(0,n.Cb)({constructOnly:!0})],p.prototype,"tileInfoView",void 0),(0,r._)([(0,n.Cb)({readOnly:!0})],p.prototype,"updating",null),p=(0,r._)([(0,s.j)("esri.views.2d.tiling.TileQueue")],p);const f=p},1768:(e,t,i)=>{"use strict";i.d(t,{Z:()=>d});var r=i(5201),n=i(73978),s=i(14286);function o(e,t){e.delete(t)}const a=new r.Z(0,0,0,0),l=new Map,c=[],h=[],d=class{constructor(e){this._previousScale=Number.POSITIVE_INFINITY,this.cachePolicy="keep",this.coveragePolicy="closest",this.resampling=!0,this.tileIndex=new Map,this.tiles=[],this.buffer=192,this.acquireTile=e.acquireTile,this.releaseTile=e.releaseTile,this.tileInfoView=e.tileInfoView,this.resampling=null==e.resampling||!!e.resampling,e.cachePolicy&&(this.cachePolicy=e.cachePolicy),e.coveragePolicy&&(this.coveragePolicy=e.coveragePolicy),null!=e.buffer&&(this.buffer=e.buffer),e.cacheSize&&(this._tileCache=new class{constructor(e,t,i){this.maxSize=e,this.tileInfoView=t,this.removedFunc=i,this._tilePerId=new Map,this._tileKeysPerLevel=[]}has(e){return this._tilePerId.has(e)}get(e){return this._tilePerId.get(e)}pop(e){const t=this._tilePerId.get(e);if(!t)return null;const i=t.key.level,r=this._tileKeysPerLevel[i];o(this._tilePerId,e);for(let t=0;t<r.length;t++)if(r[t].id===e){r.splice(t,1);break}return t.visible=!0,t}add(e){e.visible=!1;const t=e.key,i=t.id;if(this._tilePerId.has(i))return;this._tilePerId.set(i,e);const r=t.level;this._tileKeysPerLevel[r]||(this._tileKeysPerLevel[r]=[]),this._tileKeysPerLevel[r].push(t)}prune(e,t,i){let r=this._tilePerId.size;if(r<=this.maxSize)return;let n=this._tileKeysPerLevel.length-1;for(;r>this.maxSize&&n>=0;)n!==e&&(r=this._pruneAroundCenterTile(r,t,i,n)),n--;r>this.maxSize&&(r=this._pruneAroundCenterTile(r,t,i,e))}_pruneAroundCenterTile(e,t,i,r){const n=this._tileKeysPerLevel[r];if(!n||0===n.length)return e;const{size:o,origin:a}=this.tileInfoView.tileInfo,l=i*o[0],c=i*o[1],h=[0,0],d=[0,0];for(n.sort(((e,i)=>(h[0]=a.x+l*(e.col+.5),h[1]=a.y-c*(e.row+.5),d[0]=a.x+l*(i.col+.5),d[1]=a.y-c*(i.row+.5),(0,s.j)(h,t)-(0,s.j)(d,t))));n.length>0;){const t=n.pop();if(this._removeTile(t.id),--e===this.maxSize)break}return e}_removeTile(e){const t=this._tilePerId.get(e);this.removedFunc&&this.removedFunc(t),o(this._tilePerId,e)}}(e.cacheSize,this.tileInfoView,(e=>{this.releaseTile(e)})))}destroy(){this.tileIndex.clear()}update(e){const{resampling:t,tileIndex:i}=this,r=this.tileInfoView.getTileCoverage(e.state,this.buffer,this.coveragePolicy);if(h.length=0,c.length=0,l.clear(),!r)return;const{minScale:s,maxScale:o}=this.tileInfoView.tileInfo,{spans:d,lodInfo:u}=r,{level:p}=u,{scale:f,center:m,resolution:_}=e.state,g=!e.stationary&&f>this._previousScale;if(this._previousScale=f,this.tiles.length=0,!t&&(f>s||f<o))return this.tiles.length=0,l.clear(),i.forEach((e=>{this.releaseTile(e)})),i.clear(),h.length=0,c.length=0,l.clear(),n.Z.pool.release(r),!0;i.forEach((e=>e.visible=!0));let y=0,v=0;if(d.length>0)for(const{row:e,colFrom:t,colTo:r}of d)for(let n=t;n<=r;n++){y++;const t=a.set(p,e,u.normalizeCol(n),u.getWorldForColumn(n)).id;if(i.has(t)){const e=i.get(t);e.isReady?(l.set(t,e),v++):g||this._addParentTile(t,l)}else{let e;if(this._tileCache&&this._tileCache.has(t)){if(e=this._tileCache.pop(t),this.tileIndex.set(t,e),e.isReady){l.set(t,e),v++;continue}}else e=this.acquireTile(a),this.tileIndex.set(t,e);g||this._addParentTile(t,l)}}const b=v===y;i.forEach(((e,t)=>{if(a.set(t),l.has(t))return;const i=this.tileInfoView.intersects(r,a);!i||!g&&b?"purge"===this.cachePolicy?a.level===p&&i||c.push(t):(a.level>p||!i)&&c.push(t):e.isReady?h.push(t):a.level>p&&c.push(t)}));for(const e of h){const t=i.get(e);t&&t.isReady&&l.set(e,t)}for(const e of c){const t=i.get(e);this._tileCache?this._tileCache.add(t):this.releaseTile(t),i.delete(e)}return l.forEach((e=>this.tiles.push(e))),i.forEach((e=>{l.has(e.key.id)||(e.visible=!1)})),this._tileCache&&this._tileCache.prune(p,m,_),n.Z.pool.release(r),l.clear(),b}clear(e=!0){const{tileIndex:t}=this;e&&t.forEach((e=>{this.releaseTile(e)})),t.clear()}_addParentTile(e,t){let i=e,r=null;for(;i=this.tileInfoView.getTileParentId(i),i;)if(this.tileIndex.has(i)){if(r=this.tileIndex.get(i),r&&r.isReady){t.has(r.key.id)||t.set(r.key.id,r);break}}else if(this._tileCache&&this._tileCache.has(i)&&(r=this._tileCache.pop(i),this.tileIndex.set(i,r),r&&r.isReady)){t.has(r.key.id)||t.set(r.key.id,r);break}}}},15187:(e,t,i)=>{"use strict";i.d(t,{H4:()=>V,dI:()=>B,o2:()=>U,JG:()=>k,km:()=>j,EK:()=>A,ni:()=>O,bk:()=>P,Rb:()=>L,Dq:()=>E,uG:()=>R,Ck:()=>D,Jp:()=>z,L2:()=>F,gG:()=>J,SI:()=>G,$H:()=>Z,YQ:()=>H,UZ:()=>$,Hy:()=>q,qf:()=>I,Rx:()=>X});var r=i(59472),n=i(39105),s=i(27780),o=i(73032),a=i(39718),l=i(49840),c=i(41241),h=i(61106),d=i(52937),u=i(83477),p=i(60418),f=i(65984),m=i(93533),_=i(55735),g=i(14286),y=i(42738),v=i(75384);const b=180/Math.PI;function w(e,t,i,r){return r&&i&&!r.equals(i)&&(0,c.Q8)(r,i)&&r.isWebMercator?r.isWebMercator?function(e,t){let i=t[1];return i>89.99999?i=89.99999:i<-89.99999&&(i=-89.99999),i=Math.sin((0,p.t)(i)),(0,g.s)(e,(0,p.t)(t[0])*l.sv.radius,.5*l.sv.radius*Math.log((1+i)/(1-i)))}(e,t):function(e,t,i){const r=(0,p.a)(t[0]/l.sv.radius);return(0,g.s)(e,r-360*Math.floor((r+180)/360),(0,p.a)(.5*Math.PI-2*Math.atan(Math.exp(-1*t[1]/l.sv.radius))))}(e,t):(0,g.c)(e,t)}function x(e){return e.wkid?e:e.spatialReference||o.Z.WGS84}function C(e,t){return t.type?(0,g.s)(e,t.x,t.y):(0,g.c)(e,t)}function S(e){return(0,m.c9)(e)}function A(e,t){return Math.max(e.width/t[0],e.height/t[1])*function(e){return(0,s.JY)(e)?39.37*S(e)*96:1}(e.spatialReference)}async function T(e,t,i,s){let o,l;if(!e)return null;if(Array.isArray(e)&&!e.length)return null;if(u.Z.isCollection(e)&&(e=e.toArray()),Array.isArray(e)&&e.length&&"object"==typeof e[0]){const o=e.every((e=>"attributes"in e)),a=e.some((e=>!e.geometry));let l=e;if(o&&a&&t&&t.allLayerViews){const i=new Map;for(const t of e){const e=t.layer,r=i.get(e)||[],n=t.attributes[e.objectIdField];null!=n&&r.push(n),i.set(e,r)}const s=[];i.forEach(((e,i)=>{const r=t.allLayerViews.find((e=>e.layer.id===i.id));if("queryFeatures"in r){const t=i.createQuery();t.objectIds=e,t.returnGeometry=!0,s.push(r.queryFeatures(t))}}));const o=await(0,n.all)(s),a=[];for(const e of o)if(e&&e.features&&e.features.length)for(const t of e.features)(0,r.pC)(t.geometry)&&a.push(t.geometry);l=a}for(const e of l)s=await T(e,t,i,s);return s}if(Array.isArray(e)&&2===e.length&&"number"==typeof e[0]&&"number"==typeof e[1])o=new h.Z(e);else if(e instanceof a.Z)o=e;else if("geometry"in e)if(e.geometry)o=e.geometry;else if(e.layer){const i=e.layer,n=t.allLayerViews.find((e=>e.layer.id===i.id));if("queryFeatures"in n){const t=i.createQuery();t.objectIds=[e.attributes[i.objectIdField]],t.returnGeometry=!0;const s=await n.queryFeatures(t);o=(0,r.U2)(s,"features",0,"geometry")}}if((0,r.Wi)(o))return null;if(l="point"===o.type?new d.Z({xmin:o.x,ymin:o.y,xmax:o.x,ymax:o.y,spatialReference:o.spatialReference}):o.extent,!l)return null;const p=(0,c.Q8)(l,i);if(!l.spatialReference.equals(i)&&p)l=(0,c.iV)(l,i);else if(!p)return null;return s?s.union(l):l.clone()}function k(e,t){const i=e.targetGeometry,r=t.targetGeometry;return i.x=r.x,i.y=r.y,i.spatialReference=r.spatialReference,e.scale=t.scale,e.rotation=t.rotation,e}function O(e,t,i){return i?(0,g.s)(e,.5*(t[0]-i.right+i.left),.5*(t[1]-i.bottom+i.top)):(0,g.a)(e,t,.5)}const P=function(){const e=(0,_.a)();return function(t,i,r){const n=i.targetGeometry;C(e,n);const s=.5*R(i);return t.xmin=e[0]-s*r[0],t.ymin=e[1]-s*r[1],t.xmax=e[0]+s*r[0],t.ymax=e[1]+s*r[1],t.spatialReference=n.spatialReference,t}}();function I(e,t,i,r,n){return U(e,t,i.center),e.scale=A(i,r),n&&n.constraints&&n.constraints.constrain(e),e}const E=function(){const e=(0,_.a)();return function(t,i,r){return(0,g.b)(t,function(e,t){return(0,g.a)(e,t,.5)}(t,i),O(e,i,r))}}(),M=function(){const e=(0,v.c)(),t=(0,_.a)();return function(i,r,n,s){const o=R(r),a=N(r);return(0,g.s)(t,o,o),(0,y.f)(e,t),(0,y.r)(e,e,a),(0,y.t)(e,e,E(t,n,s)),(0,y.t)(e,e,[0,s.top-s.bottom]),(0,g.s)(i,e[4],e[5])}}();function R(e){return e.scale*(t=e.targetGeometry,(0,r.pC)(t)&&(0,s.JY)(t.spatialReference)?1/(39.37*S(t.spatialReference)*96):1);var t}function N(e){return(0,p.t)(e.rotation)||0}const L=function(){const e=(0,_.a)(),t=(0,_.a)(),i=(0,_.a)();return function(r,n,s,o,a,l){return(0,g.n)(e,n),(0,g.a)(t,s,.5*l),(0,g.s)(i,1/o*l,-1/o*l),(0,y.i)(r),(0,y.t)(r,r,t),a&&(0,y.r)(r,r,a),(0,y.s)(r,r,i),(0,y.t)(r,r,e),r}}(),D=function(){const e=(0,_.a)();return function(t,i,r,n){const s=R(i),o=N(i);return C(e,i.targetGeometry),L(t,e,r,s,o,n)}}(),z=function(){const e=(0,_.a)();return function(t,i,r,n){const s=R(i);return C(e,i.targetGeometry),L(t,e,r,s,0,n)}}();function F(e,t){return Math.round(function(e){if(e.isWrappable){const t=(0,s.C5)(e);return t.valid[1]-t.valid[0]}return 0}(e)/t)}function j(e,t){return async function(e,t){if(!e||!t)return new f.Z({targetGeometry:new h.Z,scale:0,rotation:0});let i=t.spatialReference;const{constraints:n,padding:s,viewpoint:o,size:a}=t,l=[s?a[0]-s.left-s.right:a[0],s?a[1]-s.top-s.bottom:a[1]];let u=null;e instanceof f.Z?u=e:e.viewpoint?u=e.viewpoint:e.target&&"esri.Viewpoint"===e.target.declaredClass&&(u=e.target);let p=null;u&&u.targetGeometry?p=u.targetGeometry:e instanceof d.Z?p=e:(e||e&&("center"in e||"extent"in e||"target"in e))&&(p=await T(e.center,t,i)||await T(e.extent,t,i)||await T(e.target,t,i)||await T(e,t,i)),!p&&o&&o.targetGeometry?p=o.targetGeometry:!p&&t.extent&&(p=t.extent);const m=x(p);if(i||(i=x(t.spatialReference||t.extent||p)),!(0,c.Q8)(p,i)&&m&&!m.equals(i))return null;const g=C((0,_.a)(),p.center?p.center:p),y=new h.Z(w(g,g,m,i),i);let v=null;v=u&&(0,r.pC)(u.targetGeometry)&&"point"===u.targetGeometry.type?u.scale:e.hasOwnProperty("scale")&&e.scale?e.scale:e.hasOwnProperty("zoom")&&-1!==e.zoom&&n&&n.effectiveLODs?n.zoomToScale(e.zoom):Array.isArray(p)||"point"===p.type||"extent"===p.type&&0===p.width&&0===p.height?t.extent&&(0,c.Q8)(t.extent,i)?A((0,c.iV)(t.extent,i),l):t.extent?A(t.extent,l):o.scale:(0,c.Q8)(p.extent,i)?A((0,c.iV)(p.extent,i),l):A(p.extent,l);const b=function(e){if(e&&(!Array.isArray(e)||"number"!=typeof e[0])&&("object"==typeof e||Array.isArray(e)&&"object"==typeof e[0])){if("layer"in e&&e.layer&&e.layer.minScale&&e.layer.maxScale){const t=e.layer;return{min:t.minScale,max:t.maxScale}}if(Array.isArray(e)&&e.length&&e.every((e=>"layer"in e))){let t=0,i=0;for(const r of e){const e=r.layer;e&&e.minScale&&e.maxScale&&(t=e.minScale<t?e.minScale:t,i=e.maxScale>i?e.maxScale:i)}return t&&i?{min:t,max:i}:null}}}(e);b&&(b.min&&b.min>v?v=b.min:b.max&&b.max<v&&(v=b.max));let S=0;u?S=u.rotation:e.hasOwnProperty("rotation")?S=e.rotation:o&&(S=o.rotation);let k=new f.Z({targetGeometry:y,scale:v,rotation:S});return n&&(k=n.fit(k),n.constrainByGeometry(k),n.rotationEnabled||(k.rotation=S)),k}(e,t)}const B=function(){const e=(0,_.a)(),t=(0,_.a)(),i=[0,0,0];return function(r,n,s){(0,g.d)(e,r,n),(0,g.e)(e,e),(0,g.d)(t,r,s),(0,g.e)(t,t),(0,g.f)(i,e,t);let o=Math.acos((0,g.g)(e,t)/((0,g.l)(e)*(0,g.l)(t)))*b;return i[2]<0&&(o=-o),isNaN(o)&&(o=0),o}}(),V=function(){const e=(0,_.a)();return function(t,i,r,n){const s=t.targetGeometry;return k(t,i),M(e,i,r,n),s.x+=e[0],s.y+=e[1],t}}(),U=(function(){const e=(0,_.a)()}(),function(){const e=(0,_.a)();return function(t,i,r){k(t,i);const n=t.targetGeometry,s=x(r),o=x(n);return C(e,r),w(e,e,s,o),n.x=e[0],n.y=e[1],t}}());const G=function(){const e=(0,_.a)();return function(t,i,r,n,s){s||(s="center"),(0,g.b)(e,r,n),(0,g.a)(e,e,.5);const o=e[0],a=e[1];switch(s){case"center":(0,g.s)(e,0,0);break;case"left":(0,g.s)(e,-o,0);break;case"top":(0,g.s)(e,0,a);break;case"right":(0,g.s)(e,o,0);break;case"bottom":(0,g.s)(e,0,-a);break;case"top-left":(0,g.s)(e,-o,a);break;case"bottom-left":(0,g.s)(e,-o,-a);break;case"top-right":(0,g.s)(e,o,a);break;case"bottom-right":(0,g.s)(e,o,-a)}return X(t,i,e),t}}();function Z(e,t,i){return k(e,t),e.rotation+=i,e}function H(e,t,i){return k(e,t),e.rotation=i,e}const W=function(){const e=(0,_.a)();return function(t,i,r,n,s){return k(t,i),isNaN(r)||0===r||(Y(e,n,i,s),t.scale=i.scale*r,K(e,e,t,s),X(t,t,(0,g.s)(e,e[0]-n[0],n[1]-e[1]))),t}}();function q(e,t,i){return k(e,t),e.scale=i,e}const $=function(){const e=(0,_.a)();return function(t,i,r,n,s,o){return k(t,i),isNaN(r)||0===r||(Y(e,s,i,o),t.scale=i.scale*r,t.rotation+=n,K(e,e,t,o),X(t,t,(0,g.s)(e,e[0]-s[0],s[1]-e[1]))),t}}(),J=function(){const e=(0,_.a)(),t=(0,_.a)();return function(i,r,n,s,o,a,l){return E(t,a,l),(0,g.h)(e,o,t),s?$(i,r,n,s,e,a):W(i,r,n,e,a)}}(),Y=function(){const e=(0,v.c)();return function(t,i,r,n){return(0,g.t)(t,i,function(e,t,i,r){return D(e,t,i,1),(0,y.a)(e,e)}(e,r,n))}}(),K=function(){const e=(0,v.c)();return function(t,i,r,n){return(0,g.t)(t,i,D(e,r,n,1))}}(),X=function(){const e=(0,_.a)(),t=(0,v.c)();return function(i,r,n){k(i,r);const s=R(r),o=i.targetGeometry;return(0,y.b)(t,N(r)),(0,y.s)(t,t,(0,_.f)(s,s)),(0,g.t)(e,n,t),o.x+=e[0],o.y+=e[1],i}}()},32684:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>Bi});var r=i(56140),n=i(95830),s=i(59472),o=i(36544),a=(i(68055),i(79881)),l=i(87566),c=i(32656),h=(i(10923),i(57002),i(86035),i(39105)),d=i(83477),u=i(15988),p=i(78452),f=i(80621),m=i(29155),_=i(92673),g=i(17288),y=i(23672),v=i(2887),b=i(42148),w=i(59691);const x={widthBreakpoint:{getValue(e){const t=e.viewSize[0],i=e.breakpoints,r=this.values;return t<=i.xsmall?r.xsmall:t<=i.small?r.small:t<=i.medium?r.medium:t<=i.large?r.large:r.xlarge},values:{xsmall:"xsmall",small:"small",medium:"medium",large:"large",xlarge:"xlarge"},valueToClassName:{xsmall:"esri-view-width-xsmall esri-view-width-less-than-small esri-view-width-less-than-medium esri-view-width-less-than-large esri-view-width-less-than-xlarge",small:"esri-view-width-small esri-view-width-greater-than-xsmall esri-view-width-less-than-medium esri-view-width-less-than-large esri-view-width-less-than-xlarge",medium:"esri-view-width-medium esri-view-width-greater-than-xsmall esri-view-width-greater-than-small esri-view-width-less-than-large esri-view-width-less-than-xlarge",large:"esri-view-width-large esri-view-width-greater-than-xsmall esri-view-width-greater-than-small esri-view-width-greater-than-medium esri-view-width-less-than-xlarge",xlarge:"esri-view-width-xlarge esri-view-width-greater-than-xsmall esri-view-width-greater-than-small esri-view-width-greater-than-medium esri-view-width-greater-than-large"}},heightBreakpoint:{getValue(e){const t=e.viewSize[1],i=e.breakpoints,r=this.values;return t<=i.xsmall?r.xsmall:t<=i.small?r.small:t<=i.medium?r.medium:t<=i.large?r.large:r.xlarge},values:{xsmall:"xsmall",small:"small",medium:"medium",large:"large",xlarge:"xlarge"},valueToClassName:{xsmall:"esri-view-height-xsmall esri-view-height-less-than-small esri-view-height-less-than-medium esri-view-height-less-than-large esri-view-height-less-than-xlarge",small:"esri-view-height-small esri-view-height-greater-than-xsmall esri-view-height-less-than-medium esri-view-height-less-than-large esri-view-height-less-than-xlarge",medium:"esri-view-height-medium esri-view-height-greater-than-xsmall esri-view-height-greater-than-small esri-view-height-less-than-large esri-view-height-less-than-xlarge",large:"esri-view-height-large esri-view-height-greater-than-xsmall esri-view-height-greater-than-small esri-view-height-greater-than-medium esri-view-height-less-than-xlarge",xlarge:"esri-view-height-xlarge esri-view-height-greater-than-xsmall esri-view-height-greater-than-small esri-view-height-greater-than-medium esri-view-height-greater-than-large"}},orientation:{getValue(e){const t=e.viewSize,i=t[0],r=t[1],n=this.values;return r>=i?n.portrait:n.landscape},values:{portrait:"portrait",landscape:"landscape"},valueToClassName:{portrait:"esri-view-orientation-portrait",landscape:"esri-view-orientation-landscape"}}},C={xsmall:544,small:768,medium:992,large:1200};function S(e,t){return t?x[e].valueToClassName[t].split(" "):[]}const A=e=>{let t=class extends e{constructor(...e){super(...e),this._breakpointsHandles=new w.Z,this.orientation=null,this.widthBreakpoint=null,this.heightBreakpoint=null,this.breakpoints=C}initialize(){this._breakpointsHandles.add((0,f.init)(this,["breakpoints","size"],this._updateClassNames))}destroy(){this.destroyed||(this._removeActiveClassNames(),this._breakpointsHandles.destroy(),this._breakpointsHandles=null)}set breakpoints(e){if(e===this._get("breakpoints"))return;const t=function(e){const t=e;return t&&t.xsmall<t.small&&t.small<t.medium&&t.medium<t.large}(e);if(!t){const e=JSON.stringify(C,null,2);console.warn("provided breakpoints are not valid, using defaults:"+e)}e=t?e:C,this._set("breakpoints",{...e})}_updateClassNames(){if(!this.container)return;const e=b.Z.acquire(),t=b.Z.acquire();let i,r=!1;for(i in x){const n=this[i],s=x[i].getValue({viewSize:this.size,breakpoints:this.breakpoints});n!==s&&(r=!0,this[i]=s,S(i,n).forEach((e=>t.push(e))),S(i,s).forEach((t=>e.push(t))))}r&&(this._applyClassNameChanges(e,t),b.Z.release(e),b.Z.release(t))}_applyClassNameChanges(e,t){const i=this.container;i&&(t.forEach((e=>i.classList.remove(e))),e.forEach((e=>i.classList.add(e))))}_removeActiveClassNames(){const e=this.container;if(!e)return;let t;for(t in x)S(t,this[t]).forEach((t=>e.classList.remove(t)))}};return(0,r._)([(0,a.Cb)()],t.prototype,"breakpoints",null),(0,r._)([(0,a.Cb)()],t.prototype,"orientation",void 0),(0,r._)([(0,a.Cb)()],t.prototype,"widthBreakpoint",void 0),(0,r._)([(0,a.Cb)()],t.prototype,"heightBreakpoint",void 0),t=(0,r._)([(0,l.j)("esri.views.BreakpointsOwner")],t),t};var T=i(73032),k=i(41241),O=i(61106),P=i(52937),I=(i(36348),i(96071)),E=i(65984),M=i(40920),R=i(65287),N=(i(5201),i(19677));const L=e=>{let t=class extends e{async fetchPopupFeatures(e,t){await this.when();const{location:i,queryArea:r,layerViewsAndGraphics:n,clientOnlyGraphics:s}=await this._prepareFetchPopupFeatures(e,t),o=(0,h.resolve)(s),a=this._queryLayerPopupFeatures({queryArea:r,layerViewsAndGraphics:n,options:t}),l=a.map((e=>e.promise));return{location:i,clientOnlyGraphics:s,allGraphicsPromise:(0,h.eachAlwaysValues)([o,...l]).then(N.xH),promisesPerLayerView:a}}_queryLayerPopupFeatures({queryArea:e,layerViewsAndGraphics:t,options:i}){return t.map((({layerView:t,graphics:r})=>{const n={clientGraphics:r,event:(0,s.pC)(i)?i.event:null,signal:(0,s.pC)(i)?i.signal:null,defaultPopupTemplateEnabled:!!(0,s.pC)(i)&&!!i.defaultPopupTemplateEnabled},o=t.fetchPopupFeatures(e,n);return{layerView:t,promise:o}}))}_isValidPopupGraphic(e,t){return e&&!!e.getEffectivePopupTemplate((0,s.pC)(t)&&t.defaultPopupTemplateEnabled)}async _prepareFetchPopupFeatures(e,t){const{clientGraphics:i,queryArea:r,location:n}=await this._popupHitTestGraphics(e,t),s=this._getFetchPopupLayerViews(),{layerViewsAndGraphics:o,clientOnlyGraphics:a}=this._graphicsPerFetchPopupLayerView(i,s);return{clientOnlyGraphics:a,layerViewsAndGraphics:o,queryArea:r,location:n}}async _popupHitTestGraphics(e,t){const{results:i,mapPoint:r}=await this.popupHitTest(e),n=i.filter((e=>this._isValidPopupGraphic(e.graphic,t))),s=n.length?n[0].mapPoint:null;return{clientGraphics:n.map((e=>e.graphic)),queryArea:r,location:r||s}}_getFetchPopupLayerViews(){const e=[];return this.allLayerViews.forEach((t=>{this._isValidPopupLayerView(t)&&e.push(t)})),(0,s.pC)(this.graphicsView)&&this._isValidPopupLayerView(this.graphicsView)&&e.push(this.graphicsView),e.reverse()}_isValidPopupLayerView(e){return(0,s.pC)(e)&&(!("layer"in e)||!e.suspended)&&"fetchPopupFeatures"in e}_graphicsPerFetchPopupLayerView(e,t){const i=[],r=new Map,n=t.map((e=>{const t=[];return"layer"in e?r.set(e.layer,t):r.set(e.graphics,t),{layerView:e,graphics:t}}));for(const t of e){const e=r.get(t.layer)||null;e?e.push(t):i.push(t)}return{layerViewsAndGraphics:n,clientOnlyGraphics:i}}};return t=(0,r._)([(0,l.j)("esri.views.PopupView")],t),t};var D=i(75044);let z=class extends D.D{constructor(e){super(e),this.state="running",this.target=null}initialize(){this.addResolvingPromise((0,h.create)(((e,t)=>this._dfd={resolve:e,reject:t})))}get done(){return"finished"===this.state||"stopped"===this.state}stop(){"stopped"!==this.state&&"finished"!==this.state&&(this._set("state","stopped"),this._dfd.reject(new c.Z("ViewAnimation stopped")))}finish(){"stopped"!==this.state&&"finished"!==this.state&&(this._set("state","finished"),this._dfd.resolve())}update(e,t){t||(t=(0,h.isPromiseLike)(e)?"waiting-for-target":"running"),this._set("target",e),this._set("state",t)}};(0,r._)([(0,a.Cb)({readOnly:!0,dependsOn:["state"]})],z.prototype,"done",null),(0,r._)([(0,a.Cb)({readOnly:!0,type:String})],z.prototype,"state",void 0),(0,r._)([(0,a.Cb)()],z.prototype,"target",void 0),z=(0,r._)([(0,l.j)("esri.views.ViewAnimation")],z),function(e){e.State={RUNNING:"running",STOPPED:"stopped",FINISHED:"finished",WAITING_FOR_TARGET:"waiting-for-target"}}(z||(z={}));const F=z;var j=i(15187),B=i(74386),V=i(82677),U=i(59054);class G{constructor(e,t,i,r){const n=e.targetGeometry,s=t.targetGeometry;r?"string"==typeof r&&(r=(0,U.Qc)(r)||U.LI.ease):r=U.LI.ease,this.easing=r,this.duration=i,this.sCenterX=n.x,this.sCenterY=n.y,this.sScale=e.scale,this.sRotation=e.rotation,this.tCenterX=s.x,this.tCenterY=s.y,this.tScale=t.scale,this.tRotation=t.rotation,this.dCenterX=this.tCenterX-this.sCenterX,this.dCenterY=this.tCenterY-this.sCenterY,this.dScale=this.tScale-this.sScale,this.dRotation=this.tRotation-this.sRotation,this.dRotation>180?this.dRotation-=360:this.dRotation<-180&&(this.dRotation+=360)}applyRatio(e,t){const i=this.easing(t);let r,n,s,o;t>=1?(r=this.tCenterX,n=this.tCenterY,s=this.tRotation,o=this.tScale):(r=this.sCenterX+i*this.dCenterX,n=this.sCenterY+i*this.dCenterY,s=this.sRotation+i*this.dRotation,o=this.sScale+i*this.dScale),e.targetGeometry.x=r,e.targetGeometry.y=n,e.scale=o,e.rotation=s}}let Z=class extends V.default{constructor(e){super(e),this.duration=200,this.transition=null,this.easing=U.LI.ease,this.view=null,this.viewpoint=null,this.viewpoint=new E.Z({targetGeometry:new O.Z,scale:0,rotation:0}),this._updateTask=(0,B.A)({postRender:this._postRender.bind(this)}),this._updateTask.pause()}destroy(){this._updateTask.remove(),this._updateTask=null}animate(e,t,i){this.stop();const r=this.viewpoint;(0,j.JG)(r,t),this.transition=new G(this.viewpoint,e.target,i&&i.duration||this.duration,i&&i.easing||this.easing);const n=()=>{this.animation===e&&this._updateTask&&("finished"===e.state&&(this.transition.applyRatio(this.viewpoint,1),this.view.state&&(this.view.state.viewpoint=this.viewpoint.clone())),this.animation=null,this.updateFunction=null)};return e.when(n,n),this._startTime=performance.now(),this._updateTask.resume(),this.animation=e,e}animateContinous(e,t){this.stop(),this.updateFunction=t,this.viewpoint=e;const i=new F({target:e.clone()}),r=()=>{this.animation===i&&this._updateTask&&(this.animation=null,this.updateFunction=null)};return i.when(r,r),this._startTime=performance.now(),this._updateTask.resume(),this.animation=i,i}stop(){this.animation&&(this.animation.stop(),this.animation=null,this.updateFunction=null)}_postRender(e){const t=this.animation;if(t&&t.state!==F.State.STOPPED){if(this.updateFunction)this.updateFunction(this.viewpoint,e.deltaTime);else{const e=(performance.now()-this._startTime)/this.transition.duration,t=e>=1;this.transition.applyRatio(this.viewpoint,e),t&&this.animation.finish()}this.view.state&&(this.view.state.viewpoint=this.viewpoint.clone())}else this._updateTask.pause()}};(0,r._)([(0,a.Cb)()],Z.prototype,"animation",void 0),(0,r._)([(0,a.Cb)()],Z.prototype,"duration",void 0),(0,r._)([(0,a.Cb)()],Z.prototype,"transition",void 0),(0,r._)([(0,a.Cb)()],Z.prototype,"easing",void 0),(0,r._)([(0,a.Cb)()],Z.prototype,"view",void 0),(0,r._)([(0,a.Cb)()],Z.prototype,"viewpoint",void 0),Z=(0,r._)([(0,l.j)("esri.views.2d.AnimationManager")],Z);const H=Z;function W(){return Promise.all([i.e(7061).then(i.bind(i,67061)),Promise.all([i.e(3956),i.e(4136),i.e(6889),i.e(7090),i.e(6785),i.e(8525),i.e(1878),i.e(3505),i.e(9334),i.e(9894)]).then(i.bind(i,49894))])}const q=()=>W().then((()=>Promise.all([i.e(3956),i.e(4136),i.e(2725)]).then(i.bind(i,22725)))),$=()=>W().then((()=>Promise.all([i.e(4136),i.e(6889),i.e(7090),i.e(3887)]).then(i.bind(i,78541)))),J={"base-dynamic":()=>W().then((()=>Promise.all([i.e(3956),i.e(4136),i.e(3296),i.e(5373)]).then(i.bind(i,35373)))),"base-tile":q,"bing-maps":q,csv:$,"geo-rss":()=>W().then((()=>Promise.all([i.e(3956),i.e(4136),i.e(6889),i.e(7090),i.e(6785),i.e(8525),i.e(1878),i.e(3505),i.e(9334),i.e(7868)]).then(i.bind(i,77868)))),feature:$,geojson:$,graphics:()=>W().then((()=>Promise.all([i.e(3956),i.e(4136),i.e(6889),i.e(7090),i.e(6785),i.e(8525),i.e(1878),i.e(3505),i.e(9334),i.e(8280)]).then(i.bind(i,8280)))),group:()=>W().then((()=>Promise.all([i.e(3956),i.e(4136),i.e(6791)]).then(i.bind(i,26791)))),imagery:()=>W().then((()=>Promise.all([i.e(3956),i.e(4136),i.e(6889),i.e(7090),i.e(6785),i.e(8525),i.e(1878),i.e(3505),i.e(9334),i.e(4464),i.e(3296),i.e(6685)]).then(i.bind(i,76685)))),"imagery-tile":()=>W().then((()=>Promise.all([i.e(3956),i.e(4136),i.e(4464),i.e(2130)]).then(i.bind(i,62130)))),kml:()=>W().then((()=>Promise.all([i.e(3956),i.e(4136),i.e(6889),i.e(7090),i.e(6785),i.e(8525),i.e(1878),i.e(3505),i.e(9334),i.e(9362)]).then(i.bind(i,79362)))),"map-image":()=>W().then((()=>Promise.all([i.e(3956),i.e(4136),i.e(3296),i.e(4005)]).then(i.bind(i,94005)))),"map-notes":()=>W().then((()=>Promise.all([i.e(3956),i.e(4136),i.e(6889),i.e(7090),i.e(6785),i.e(8525),i.e(1878),i.e(3505),i.e(9334),i.e(5565)]).then(i.bind(i,45565)))),"ogc-feature":$,"open-street-map":q,route:()=>W().then((()=>Promise.all([i.e(3956),i.e(4136),i.e(6889),i.e(7090),i.e(6785),i.e(8525),i.e(1878),i.e(3505),i.e(9334),i.e(6853)]).then(i.bind(i,66853)))),stream:()=>W().then((()=>Promise.all([i.e(4136),i.e(6889),i.e(7090),i.e(3887),i.e(9198)]).then(i.bind(i,49198)))),tile:q,"vector-tile":()=>W().then((()=>Promise.all([i.e(3956),i.e(4136),i.e(1308)]).then(i.bind(i,51308)))),wcs:()=>W().then((()=>Promise.all([i.e(3956),i.e(4136),i.e(4464),i.e(2130)]).then(i.bind(i,62130)))),"web-tile":q,wms:()=>W().then((()=>Promise.all([i.e(3956),i.e(4136),i.e(3296),i.e(8650)]).then(i.bind(i,18650)))),wmts:()=>W().then((()=>Promise.all([i.e(3956),i.e(4136),i.e(8282)]).then(i.bind(i,68282)))),"base-elevation":null,"building-scene":null,elevation:null,"integrated-mesh":null,"point-cloud":null,scene:null,unknown:null,unsupported:null},Y=e=>(0,s.pC)(J[e.type]),K=e=>{const t=J[e.type];if(!(0,s.pC)(t))throw function(e){const t=e.declaredClass?e.declaredClass.slice(e.declaredClass.lastIndexOf(".")+1):"Unknown",i=t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();return new c.Z(`${i}:view-not-supported`,`${t} is not supported in 2D`)}(e);return t(e)};var X,Q=i(53817),ee=i(35470),te=i(18897),ie=i(47005),re=i(17333),ne=i(92232),se=i(14286);const oe=o.Z.getLogger("esri.views.MapView");let ae=X=class extends V.default{constructor(e){super(e),this.geometry=null,this.spatialReference=null}get normalizedGeometry(){return this.geometry&&this.spatialReference?this.spatialReference.equals(this.geometry.spatialReference)?this.geometry:(0,k.Q8)(this.geometry,this.spatialReference)?(0,k.iV)(this.geometry,this.spatialReference):(0,re.kR)()?(0,re.iV)(this.geometry,this.spatialReference):(oe.error("#constraints.geometry","unsupported coordinate system. The source geometry cannot be projected to the view's coordinate system. The projection engine cannot be loaded.",{geometry:this.geometry}),null):null}constrain(e,t){if(!this.normalizedGeometry)return e;const i=e.targetGeometry;if("extent"===this.normalizedGeometry.type?(0,ie.aV)(this.normalizedGeometry,i):(0,ie.CI)(this.normalizedGeometry,i))return e;const{coordinate:r}=function(e,t){const{spatialReference:i}=t,r=[t.x,t.y];let n=Number.POSITIVE_INFINITY,s=0,o=0;const a=[0,0],l="extent"===e.type?[[[e.xmin,e.ymin],[e.xmin,e.ymax],[e.xmax,e.ymax],[e.xmax,e.ymin],[e.xmin,e.ymin]]]:e.rings;for(const e of l)for(let t=0;t<e.length-1;t++){(0,ne.Tx)(a,r,e,t);const i=(0,se.i)(r,a);i<n&&(n=i,s=a[0],o=a[1])}return{coordinate:new O.Z({x:s,y:o,spatialReference:i}),distance:n}}(this.normalizedGeometry,i);return r?(e.targetGeometry=r,e):e}clone(){var e,t;return new X({geometry:null==(e=this.geometry)?void 0:e.clone(),spatialReference:null==(t=this.spatialReference)?void 0:t.clone()})}};var le;(0,r._)([(0,a.Cb)({constructOnly:!0})],ae.prototype,"geometry",void 0),(0,r._)([(0,a.Cb)({readOnly:!0,dependsOn:["geometry","spatialReference"]})],ae.prototype,"normalizedGeometry",null),(0,r._)([(0,a.Cb)({constructOnly:!0})],ae.prototype,"spatialReference",void 0),ae=X=(0,r._)([(0,l.j)("esri.views.2d.constraints.GeometryConstraint")],ae);let ce=le=class extends V.default{constructor(){super(...arguments),this.enabled=!0,this.rotationEnabled=!0}constrain(e,t){return this.enabled&&t?(this.rotationEnabled||(e.rotation=t.rotation),e):e}clone(){return new le({enabled:this.enabled,rotationEnabled:this.rotationEnabled})}};(0,r._)([(0,a.Cb)()],ce.prototype,"enabled",void 0),(0,r._)([(0,a.Cb)()],ce.prototype,"rotationEnabled",void 0),ce=le=(0,r._)([(0,l.j)("esri.views.2d.constraints.RotationConstraint")],ce);const he=ce;var de;let ue=de=class extends V.default{constructor(e){super(e),this._lodByScale={},this._scales=[],this.effectiveLODs=null,this.effectiveMinZoom=-1,this.effectiveMaxZoom=-1,this.effectiveMinScale=0,this.effectiveMaxScale=0,this.lods=null,this.minZoom=-1,this.maxZoom=-1,this.minScale=0,this.maxScale=0,this.snapToZoom=!0}initialize(){let e,{lods:t,minScale:i,maxScale:r,minZoom:n,maxZoom:s}=this,o=-1,a=-1,l=!1,c=!1;if(0!==i&&0!==r&&i<r&&([i,r]=[r,i]),!t||!t.length)return this._set("effectiveMinScale",i),void this._set("effectiveMaxScale",r);t=t.map((e=>e.clone())),t.sort(((e,t)=>t.scale-e.scale)),t.forEach(((e,t)=>e.level=t));for(const n of t)!l&&i>0&&i>=n.scale&&(o=n.level,l=!0),!c&&r>0&&r>=n.scale&&(a=e?e.level:-1,c=!0),e=n;-1===n&&(n=0===i?0:o),-1===s&&(s=0===r?t.length-1:a),n=Math.max(n,0),n=Math.min(n,t.length-1),s=Math.max(s,0),s=Math.min(s,t.length-1),n>s&&([n,s]=[s,n]),i=t[n].scale,r=t[s].scale,t.splice(0,n),t.splice(s-n+1,t.length),t.forEach(((e,t)=>{this._lodByScale[e.scale]=e,this._scales[t]=e.scale})),this._set("effectiveLODs",t),this._set("effectiveMinZoom",n),this._set("effectiveMaxZoom",s),this._set("effectiveMinScale",i),this._set("effectiveMaxScale",r)}constrain(e,t){if(t&&e.scale===t.scale)return e;const i=this.effectiveMinScale,r=this.effectiveMaxScale,n=e.targetGeometry,s=t&&t.targetGeometry,o=0!==r&&e.scale<r,a=0!==i&&e.scale>i;if(o||a){const o=a?i:r;if(s){const i=(o-t.scale)/(e.scale-t.scale);n.x=s.x+(n.x-s.x)*i,n.y=s.y+(n.y-s.y)*i}e.scale=o}return this.snapToZoom&&this.effectiveLODs&&(e.scale=this._getClosestScale(e.scale)),e}fit(e){if(!this.effectiveLODs||!this.snapToZoom)return this.constrain(e,null);const t=this.scaleToZoom(e.scale),i=Math.abs(t-Math.floor(t));return e.scale=this.zoomToScale(i>.99?Math.round(t):Math.floor(t)),e}zoomToScale(e){if(!this.effectiveLODs)return 0;e-=this.effectiveMinZoom,e=Math.max(0,e);const t=this._scales;if(e<=0)return t[0];if(e>=t.length)return t[t.length-1];const i=Math.round(e-.5),r=Math.round(e);return t[r]+(r-e)*(t[i]-t[r])}scaleToZoom(e){if(!this.effectiveLODs)return-1;const t=this._scales;let i,r;if(e>=t[0])return this.effectiveMinZoom;if(e<=t[t.length-1])return this.effectiveMaxZoom;for(let n=0;n<t.length-1;n++){if(i=t[n],r=t[n+1],r===e)return n+this.effectiveMinZoom+1;if(i>e&&r<e)return n+this.effectiveMinZoom+1-(e-r)/(i-r)}}snapToClosestScale(e){if(!this.effectiveLODs)return e;const t=this.scaleToZoom(e);return this.zoomToScale(Math.round(t))}snapToNextScale(e,t=.5){if(!this.effectiveLODs)return e*t;const i=Math.round(this.scaleToZoom(e));return this.zoomToScale(i+1)}snapToPreviousScale(e,t=2){if(!this.effectiveLODs)return e*t;const i=Math.round(this.scaleToZoom(e));return this.zoomToScale(i-1)}clone(){return new de({lods:this.lods,minZoom:this.minZoom,maxZoom:this.maxZoom,minScale:this.minScale,maxScale:this.maxScale})}_getClosestScale(e){return this._lodByScale[e]||(e=this._scales.reduce(((t,i)=>Math.abs(i-e)<=Math.abs(t-e)?i:t),this._scales[0])),this._lodByScale[e].scale}};(0,r._)([(0,a.Cb)({readOnly:!0})],ue.prototype,"effectiveLODs",void 0),(0,r._)([(0,a.Cb)({readOnly:!0})],ue.prototype,"effectiveMinZoom",void 0),(0,r._)([(0,a.Cb)({readOnly:!0})],ue.prototype,"effectiveMaxZoom",void 0),(0,r._)([(0,a.Cb)({readOnly:!0})],ue.prototype,"effectiveMinScale",void 0),(0,r._)([(0,a.Cb)({readOnly:!0})],ue.prototype,"effectiveMaxScale",void 0),(0,r._)([(0,a.Cb)({type:[te.Z]})],ue.prototype,"lods",void 0),(0,r._)([(0,a.Cb)()],ue.prototype,"minZoom",void 0),(0,r._)([(0,a.Cb)()],ue.prototype,"maxZoom",void 0),(0,r._)([(0,a.Cb)()],ue.prototype,"minScale",void 0),(0,r._)([(0,a.Cb)()],ue.prototype,"maxScale",void 0),(0,r._)([(0,a.Cb)()],ue.prototype,"snapToZoom",void 0),ue=de=(0,r._)([(0,l.j)("esri.views.2d.constraints.ZoomConstraint")],ue);const pe=ue,fe={base:null,key:"type",typeMap:{extent:P.Z,polygon:Q.Z}};let me=class extends ee.Z.EventedAccessor{constructor(){super(...arguments),this.lods=null,this.minScale=0,this.maxScale=0,this.minZoom=-1,this.maxZoom=-1,this.rotationEnabled=!0,this.snapToZoom=!0}initialize(){this.watch(["_zoom","_rotation"],this.emit.bind(this,"update"),!0)}destroy(){this.view=null,this._set("_zoom",null),this._set("_rotation",null)}set geometry(e){e?this._set("geometry",e):this._set("geometry",null)}get _defaultLODs(){const e=this.get("view.defaultsFromMap.tileInfo"),t=this.get("view.spatialReference");return e&&t&&e.spatialReference.equals(t)?e.lods:null}get _geometry(){return new ae({geometry:this.geometry,spatialReference:this.view.spatialReference})}get _rotation(){return new he({rotationEnabled:this.rotationEnabled})}get _zoom(){return new pe({lods:this.lods||this._defaultLODs,minZoom:this.minZoom,maxZoom:this.maxZoom,minScale:this.minScale,maxScale:this.maxScale,snapToZoom:this.snapToZoom})}canZoomInTo(e){const t=this.effectiveMaxScale;return 0===t||e>=t}canZoomOutTo(e){const t=this.effectiveMinScale;return 0===t||e<=t}constrain(e,t){return this._zoom.constrain(e,t),this._rotation.constrain(e,t),this._geometry.constrain(e,t),e}constrainByGeometry(e){return this._geometry.constrain(e)}fit(e){return this._zoom.fit(e)}zoomToScale(e){return this._zoom.zoomToScale(e)}scaleToZoom(e){return this._zoom.scaleToZoom(e)}snapScale(e){return this._zoom.snapToClosestScale(e)}snapToNextScale(e){return this._zoom.snapToNextScale(e)}snapToPreviousScale(e){return this._zoom.snapToPreviousScale(e)}};(0,r._)([(0,a.Cb)({readOnly:!0,aliasOf:"_zoom.effectiveLODs"})],me.prototype,"effectiveLODs",void 0),(0,r._)([(0,a.Cb)({readOnly:!0,aliasOf:"_zoom.effectiveMinScale"})],me.prototype,"effectiveMinScale",void 0),(0,r._)([(0,a.Cb)({readOnly:!0,aliasOf:"_zoom.effectiveMaxScale"})],me.prototype,"effectiveMaxScale",void 0),(0,r._)([(0,a.Cb)({readOnly:!0,aliasOf:"_zoom.effectiveMinZoom"})],me.prototype,"effectiveMinZoom",void 0),(0,r._)([(0,a.Cb)({readOnly:!0,aliasOf:"_zoom.effectiveMaxZoom"})],me.prototype,"effectiveMaxZoom",void 0),(0,r._)([(0,a.Cb)({types:fe,value:null})],me.prototype,"geometry",null),(0,r._)([(0,a.Cb)({type:[te.Z]})],me.prototype,"lods",void 0),(0,r._)([(0,a.Cb)()],me.prototype,"minScale",void 0),(0,r._)([(0,a.Cb)()],me.prototype,"maxScale",void 0),(0,r._)([(0,a.Cb)()],me.prototype,"minZoom",void 0),(0,r._)([(0,a.Cb)()],me.prototype,"maxZoom",void 0),(0,r._)([(0,a.Cb)()],me.prototype,"rotationEnabled",void 0),(0,r._)([(0,a.Cb)()],me.prototype,"snapToZoom",void 0),(0,r._)([(0,a.Cb)()],me.prototype,"view",void 0),(0,r._)([(0,a.Cb)({dependsOn:["view.spatialReference","view.defaultsFromMap.tileInfo"]})],me.prototype,"_defaultLODs",null),(0,r._)([(0,a.Cb)({type:ae,dependsOn:["geometry","view.spatialReference"]})],me.prototype,"_geometry",null),(0,r._)([(0,a.Cb)({type:he,dependsOn:["rotationEnabled"]})],me.prototype,"_rotation",null),(0,r._)([(0,a.Cb)({readOnly:!0,type:pe,dependsOn:["lods","minZoom","maxZoom","minScale","maxScale","snapToZoom","_defaultLODs"]})],me.prototype,"_zoom",null),me=(0,r._)([(0,l.j)("esri.views.2d.MapViewConstraints")],me);const _e=me;var ge=i(55735),ye=i(92765);let ve=class extends V.default{constructor(){super(...arguments),this.left=0,this.top=0,this.right=0,this.bottom=0}};(0,r._)([(0,a.Cb)()],ve.prototype,"left",void 0),(0,r._)([(0,a.Cb)()],ve.prototype,"top",void 0),(0,r._)([(0,a.Cb)()],ve.prototype,"right",void 0),(0,r._)([(0,a.Cb)()],ve.prototype,"bottom",void 0),ve=(0,r._)([(0,l.j)("esri.views.2d.PaddedViewState.Padding")],ve);let be=class extends ye.Z{constructor(...e){super(...e),this.paddedViewState=new ye.Z,this._updateContent=(()=>{const e=(0,ge.a)();return()=>{const t=this._get("size"),i=this._get("padding");if(!t||!i)return;const r=this.paddedViewState;(0,se.s)(e,i.left+i.right,i.top+i.bottom),(0,se.d)(e,t,e),(0,se.c)(r.size,e);const n=r.viewpoint;n&&(this.viewpoint=n)}})(),this.watch(["size","padding"],this._updateContent,!0),this.padding=new ve,this.size=[0,0]}set padding(e){this._set("padding",e||new ve)}set viewpoint(e){if(e){const t=e.clone();this.paddedViewState.viewpoint=e,(0,j.H4)(t,e,this._get("size"),this._get("padding"));const i=this._viewpoint2D,r=t.targetGeometry;i.center[0]=r.x,i.center[1]=r.y,i.rotation=t.rotation,i.scale=t.scale,i.spatialReference=r.spatialReference,this._update()}}};(0,r._)([(0,a.Cb)()],be.prototype,"paddedViewState",void 0),(0,r._)([(0,a.Cb)({type:ve})],be.prototype,"padding",null),(0,r._)([(0,a.Cb)()],be.prototype,"viewpoint",null),be=(0,r._)([(0,l.j)("esri.views.2d.PaddedViewState")],be);const we=be;i(68414);var xe=i(46666),Ce=(i(13596),i(1768),i(90461));const Se=o.Z.getLogger("esri.views.MapView");let Ae=class extends(L(R.Z)){constructor(e){super(e),this._stationaryTimer=null,this.frameTask=new class{constructor(e){this.view=e,this._frameTaskHandle=null,this._updateRequested=!1,this.stationary=!0,this.updateEnabled=!0,this.animationInProgress=!1,this.prepare=()=>{this._updateParameters.state=this.view.state,this._updateParameters.stationary=this.view.stationary,this._updateParameters.pixelRatio=window.devicePixelRatio,this._updateParameters.renderingOptions=this.view.renderingOptions},this.update=()=>{if(this._updateRequested=!1,!this.updateEnabled)return;const{basemapView:e,graphicsView:t,labelManager:i,layerViews:r,state:{id:n}}=this.view;e.baseLayerViews.forEach(this._updateLayerView,this),r.forEach(this._updateLayerView,this),e.referenceLayerViews.forEach(this._updateLayerView,this),(0,s.pC)(i)&&(i.lastUpdateId!==n&&(i.viewChange(),i.lastUpdateId=n),i.updateRequested&&i.processUpdate(this._updateParameters)),(0,s.pC)(t)&&(t.lastUpdateId!==n&&(t.viewChange(),t.lastUpdateId=n),t.updateRequested&&t.processUpdate(this._updateParameters)),this.animationInProgress||this._updateRequested||this._frameTaskHandle.pause()}}destroy(){this.stop()}start(){this.stationary=this.view.stationary,this._updateParameters={state:this.view.state,pixelRatio:window.devicePixelRatio,stationary:this.stationary,renderingOptions:this.view.renderingOptions},this._stationaryHandle=this.view.watch("stationary",(e=>{this.stationary=e,this.requestFrame()})),this._frameTaskHandle=(0,B.A)(this)}stop(){this._frameTaskHandle&&(this._stationaryHandle.remove(),this._frameTaskHandle.remove(),this._updateParameters=this._stationaryHandle=this._frameTaskHandle=null,this.stationary=!0,this.animationInProgress=!1)}requestUpdate(){this._updateRequested||(this._updateRequested=!0,this.requestFrame())}requestFrame(){this._frameTaskHandle&&this._frameTaskHandle.resume()}_updateLayerView(e){const t=this.view.state,i=e.lastUpdateId;null!=i&&(this.stationary||e.moving)||(e.moving=!0,e.moveStart()),i!==t.id&&e.viewChange(),this.stationary&&e.moving&&(e.moving=!1,e.moveEnd()),e.lastUpdateId=t.id,e.updateRequested&&e.processUpdate(this._updateParameters),"layerViews"in e&&e.layerViews.forEach(this._updateLayerView,this)}}(this),this.featuresTilingScheme=null,this.fullOpacity=1,this.graphicsView=null,this.initialExtent=null,this.labelManager=null,this.renderingOptions={samplingMode:"dynamic",edgeLabelsVisible:!0,labelsAnimationTime:125,labelCollisionsEnabled:!0},this.resizeAlign="center",this.supportsGround=!1,this.timeline=new Ce.T,this.type="2d",this.constraints=new _e,this.padding={top:0,right:0,bottom:0,left:0};const t=this.handles,i=()=>this.notifyChange("updating");t.add([this.watch("viewpoint",(()=>{this._lastStationaryEventTimestamp=performance.now(),this._flipStationary(160)}),!0),this.on("resize",(e=>this._resizeHandler(e))),this.watch("animationManager.animation",(e=>{this.animation=e})),this.allLayerViews.on("change",(()=>{i(),t.remove("map-view-base-layerViewsUpdating"),t.add(this.allLayerViews.map((e=>e.watch("updating",i))),"map-view-base-layerViewsUpdating")}))],"map-view-base")}destroy(){this.destroyed||(this._set("preconditionsReady",!1),this._gotoTask=this.frameTask=null)}set animation(e){const t=this._get("animation");if(e===t)return;if(t&&t.stop(),!e||e.isFulfilled())return void this._set("animation",null);this._set("animation",e),this.frameTask.animationInProgress=!0;const i=()=>{e===this._get("animation")&&(this._set("animation",null),this.frameTask.requestFrame()),this.frameTask.animationInProgress=!1};e.when(i,i)}get center(){if(!this.ready)return this._get("center");const{center:e,spatialReference:t}=this.state.paddedViewState;return new O.Z({x:e[0],y:e[1],spatialReference:t})}set center(e){if(null==e)return;if(!this._normalizeInput(e))return void Se.error("#center",`incompatible spatialReference ${JSON.stringify(e.spatialReference)} with view's spatialReference ${JSON.stringify(this.spatialReference)}`);if(!this.ready)return this._set("center",e),void this.notifyChange("initialExtentRequired");const t=this.viewpoint;(0,j.o2)(t,t,e),this.viewpoint=t}set constraints(e){const t=this._get("constraints");t&&(this.handles.remove("map-view-base-constraints"),t.destroy()),this._set("constraints",e),e&&(e.view=this,this.ready&&(this.state.viewpoint=e.fit(this.state.paddedViewState.viewpoint)),this.handles.add(e.on("update",(()=>{this.ready&&this.state&&(this.state.viewpoint=e.fit(this.state.paddedViewState.viewpoint))})),"map-view-base-constraints"))}get extent(){return this.ready?this.state.paddedViewState.extent.clone():this._get("extent")}set extent(e){if(null==e)return;const t=this._normalizeInput(e);if(!t)return void Se.error("#center",`incompatible spatialReference ${JSON.stringify(e.spatialReference)} with view's spatialReference ${JSON.stringify(this.spatialReference)}`);if(!t.width||!t.height)return void Se.error("#extent","invalid extent size");if(!this.ready)return this._set("extent",t),this._set("center",null),this._set("viewpoint",null),this._set("scale",0),this._set("zoom",-1),void this.notifyChange("initialExtentRequired");const i=this.viewpoint;(0,j.qf)(i,i,t,this.size,{constraints:this.constraints}),this.viewpoint=i}get initialExtentRequired(){const{extent:e,center:t,scale:i,viewpoint:r,zoom:n}=this;return!(this.get("map.initialViewProperties.viewpoint")||e||t&&(0!==i||-1!==n)||r)}get padding(){return this.ready?this.state.padding:this._get("padding")}set padding(e){this.ready?(this.state.padding=e,this._set("padding",this.state.padding)):this._set("padding",e)}get resolution(){return this.state?this.state.resolution:0}get rotation(){return this.ready?this.state.rotation:this._get("rotation")}set rotation(e){if(isNaN(e))return;if(!this.ready)return void this._set("rotation",e);const t=this.viewpoint;(0,j.YQ)(t,t,e),this.viewpoint=t}get scale(){return this.ready?this.state.scale:this._get("scale")}set scale(e){if(!e||isNaN(e))return;if(!this.ready){this._set("scale",e),this._set("zoom",-1);const t=this._get("extent");return t&&(this._set("extent",null),this._set("center",t.center)),void this.notifyChange("initialExtentRequired")}const t=this.viewpoint;(0,j.Hy)(t,t,e),this.viewpoint=t}get stationary(){return!(this.animation||this.navigating||this._get("resizing")||this._stationaryTimer)}get updating(){return!this.destroyed&&(!0===this.get("layerViewManager.updating")||!0===this.get("labelManager.updating")||!0===this.get("graphicsView.updating")||this.allLayerViews.some((e=>!e.destroyed&&!("layerViews"in e)&&!0===e.updating)))}get viewpoint(){if(!this.ready)return this._get("viewpoint");const e=this.state.paddedViewState;return e&&e.viewpoint.clone()}set viewpoint(e){if(null==e)return;const t=this._normalizeInput(e);if(!t)return void(!e.scale||isNaN(e.scale)?Se.error("#viewpoint",`invalid scale value of ${e.scale}`):(0,s.Wi)(e.targetGeometry)?Se.error("#viewpoint","geometry not defined"):Se.error("#viewpoint",`incompatible spatialReference ${JSON.stringify(e.targetGeometry.spatialReference)} with view's spatialReference ${JSON.stringify(this.spatialReference)}`));if(!this.ready)return this._set("viewpoint",t),this._set("extent",null),this._set("center",null),this._set("zoom",-1),this._set("scale",0),void this.notifyChange("initialExtentRequired");const i=new E.Z({targetGeometry:new O.Z,scale:0,rotation:0});(0,j.JG)(i,t),this.constraints.constrain(i,this.state.paddedViewState.viewpoint),this.state.viewpoint=i,this.frameTask.requestFrame(),this._set("viewpoint",i)}get zoom(){return this.ready?this.constraints.scaleToZoom(this.scale):this._get("zoom")}set zoom(e){if(null==e)return;if(!this.ready){this.notifyChange("initialExtentRequired"),this._set("zoom",e),this._set("scale",0);const t=this._get("extent");t&&(this._set("extent",null),this._set("center",t.center))}if(!this.constraints.effectiveLODs)return;const t=this.viewpoint;(0,j.Hy)(t,t,this.constraints.zoomToScale(e)),this.viewpoint=t,this._set("zoom",this.constraints.scaleToZoom(this.scale))}goTo(e,t){if(e)return this.animation&&(this.animation=null),this._createAnimation(),(0,f.whenTrueOnce)(this,"ready",t&&t.signal).then((()=>{const i={animate:!0,...t},r=(0,j.km)(e,this);return this.animation.update(r),this._gotoTask={},i.animate?this._gotoAnimated(r,i):this._gotoImmediate(r,i)}));Se.error("#goTo()","target cannot be null or undefined")}hitTest(e){return(0,h.reject)("Should be implemented by subclasses")}popupHitTest(e){return this.hitTest(e).then((t=>({...t,mapPoint:this.toMap(e)})))}toMap(e){if(!this.ready)return null;const[t,i]=this.state.toMap([0,0],[e.x,e.y]),r=this.spatialReference;return new O.Z({x:t,y:i,spatialReference:r})}isTileInfoRequired(){return!0}toScreen(e){if(!this.ready)return null;const t=this._normalizeInput(e),i=[t.x,t.y];return this.state.toScreen(i,i),(0,I.vW)(i[0],i[1])}pixelSizeAt(){return this.ready?this.state.resolution:(Se.error("#pixelSizeAt()","Map view cannot be used before it is ready"),null)}requestUpdate(){this.ready&&this.frameTask.requestUpdate()}getDefaultSpatialReference(){return this.get("map.initialViewProperties.spatialReference")||this.get("defaultsFromMap.spatialReference")||null}isSpatialReferenceSupported(e,t){return!(!t&&!this._get("ready"))||null!==this._getDefaultViewpoint()}importLayerView(e){return K(e)}hasLayerViewModule(e){return Y(e)}_createAnimation(){return this.animation&&!this.animation.done||(this.animation=new F),this.animation}_cancellableGoTo(e,t,i){const r=()=>e===this._gotoTask,n=i.then((()=>{r()&&(this.animation=null)})).catch((e=>{throw r()&&(this.animation=null,t.done||(t.stop(),this.frameTask.animationInProgress=!1)),e})),s=(0,h.create)((e=>e(n)));return t.when().catch((()=>{r()&&s.cancel&&s.cancel()})),s}_gotoImmediate(e,t){const i=this._gotoTask,r=this.animation,n=e.then((e=>{if((0,h.throwIfAborted)(t),i!==this._gotoTask)throw new c.Z("view:goto-interrupted","Goto was interrupted");this.viewpoint=r.target=e,r.finish()}));return this._cancellableGoTo(i,r,n)}_gotoAnimated(e,t){const i=this._gotoTask,r=this.animation,n=e.then((e=>{if((0,h.throwIfAborted)(t),i!==this._gotoTask)throw new c.Z("view:goto-interrupted","Goto was interrupted");return r.update(e),this.animationManager.animate(r,this.viewpoint,t),r.when().then((()=>{}),(()=>{}))}));return this._cancellableGoTo(i,r,n)}_resizeHandler(e){const t=this.state;if(!t)return;let i=this.state.paddedViewState.viewpoint;const r=this.state.paddedViewState.size.concat();t.size=[e.width,e.height],(0,j.SI)(i,i,r,this.state.paddedViewState.size,this.resizeAlign),i=this.constraints.constrain(i,null),this.state.viewpoint=i}_startup(){const e=this._getDefaultViewpoint();this.constraints.view=this,this.constraints.fit(e),this._set("animationManager",new H({view:this})),this._set("state",new we({padding:this._get("padding"),size:this.size,viewpoint:e})),this._set("featuresTilingScheme",new xe.Z(M.Z.create({spatialReference:this.spatialReference,size:512}))),this._set("ready",!0),this.frameTask&&this.frameTask.start()}_teardown(){this.frameTask&&this.frameTask.stop(),this._set("ready",!1),this._stationaryTimer&&(clearTimeout(this._stationaryTimer),this._stationaryTimer=null);const{center:[e,t],spatialReference:i,rotation:r,scale:n}=this.state.paddedViewState,s=new O.Z({x:e,y:t,spatialReference:i});this._set("viewpoint",null),this._set("extent",null),this._set("center",s),this._set("zoom",-1),this._set("rotation",r),this._set("scale",n),this._set("spatialReference",i),this.constraints.view=null,this.animationManager.destroy(),this._set("animationManager",null),this._set("state",null),this.animation=null}_flipStationary(e){return null!==this._stationaryTimer||(this._stationaryTimer=setTimeout((()=>{this._stationaryTimer=null;const e=performance.now()-this._lastStationaryEventTimestamp;e<160&&(this._stationaryTimer=this._flipStationary(e))}),e)),this._stationaryTimer}_normalizeInput(e,t=this.spatialReference){const i=e&&e.targetGeometry||e;return t?i?t.equals(i.spatialReference)?e:(0,k.Q8)(i,t)?function(e){return e&&"esri.Viewpoint"===e.declaredClass}(e)?(e.targetGeometry=(0,k.iV)(i,t),e):(0,k.iV)(i,t):null:null:e}_getDefaultViewpoint(){const e=this.constraints,t={zoom:this._get("zoom"),scale:this._get("scale"),center:this._normalizeInput(this._get("center")),extent:this._normalizeInput(this._get("extent")),rotation:this._get("rotation"),viewpoint:this._normalizeInput(this._get("viewpoint")),spatialReference:this._userSpatialReference};e.effectiveLODs?-1!==t.zoom&&(t.scale=e.zoomToScale(t.zoom)):t.zoom=-1;let i=null,r=null,n=0;const o=t.viewpoint&&t.viewpoint.rotation,a=t.viewpoint&&t.viewpoint.targetGeometry;(0,s.pC)(a)&&("extent"===a.type?i=a:"point"===a.type&&(r=a,n=t.viewpoint.scale));const l=this._normalizeInput(this.get("map.initialViewProperties.viewpoint.targetGeometry.extent")),c=this._normalizeInput(this.initialExtent),h=t.extent||i||l||c,d=t.center||r||h&&h.center,u=this.get("map.initialViewProperties.viewpoint.scale"),p=t.scale||n||u||h&&(0,j.EK)(h,this.size),f=this.get("map.initialViewProperties.viewpoint.rotation"),m=t.rotation||o||f||0;return d&&p?new E.Z({targetGeometry:d,scale:p,rotation:m}):null}};(0,r._)([(0,a.Cb)()],Ae.prototype,"_stationaryTimer",void 0),(0,r._)([(0,a.Cb)()],Ae.prototype,"animation",null),(0,r._)([(0,a.Cb)({readOnly:!0})],Ae.prototype,"animationManager",void 0),(0,r._)([(0,a.Cb)({value:null,type:O.Z,dependsOn:["state.id","ready"],autoTracked:!1})],Ae.prototype,"center",null),(0,r._)([(0,a.Cb)({type:_e})],Ae.prototype,"constraints",null),(0,r._)([(0,a.Cb)({value:null,type:P.Z,dependsOn:["state.id","ready"],autoTracked:!1})],Ae.prototype,"extent",null),(0,r._)([(0,a.Cb)({readOnly:!0})],Ae.prototype,"featuresTilingScheme",void 0),(0,r._)([(0,a.Cb)()],Ae.prototype,"fullOpacity",void 0),(0,r._)([(0,a.Cb)()],Ae.prototype,"graphicsView",void 0),(0,r._)([(0,a.Cb)({type:P.Z})],Ae.prototype,"initialExtent",void 0),(0,r._)([(0,a.Cb)({dependsOn:["map.initialViewProperties?.viewpoint"],autoTracked:!1})],Ae.prototype,"initialExtentRequired",null),(0,r._)([(0,a.Cb)()],Ae.prototype,"labelManager",void 0),(0,r._)([(0,a.Cb)({value:{top:0,right:0,bottom:0,left:0},cast:e=>({top:0,right:0,bottom:0,left:0,...e})})],Ae.prototype,"padding",null),(0,r._)([(0,a.Cb)({type:Object})],Ae.prototype,"renderingOptions",void 0),(0,r._)([(0,a.Cb)()],Ae.prototype,"resizeAlign",void 0),(0,r._)([(0,a.Cb)({readOnly:!0,dependsOn:["state.id"],autoTracked:!1})],Ae.prototype,"resolution",null),(0,r._)([(0,a.Cb)({value:0,type:Number,dependsOn:["state.id","ready"],autoTracked:!1})],Ae.prototype,"rotation",null),(0,r._)([(0,a.Cb)({value:0,type:Number,dependsOn:["state.id","ready"],autoTracked:!1})],Ae.prototype,"scale",null),(0,r._)([(0,a.Cb)({type:T.Z,dependsOn:["map.initialViewProperties?.spatialReference","defaultsFromMap.isSpatialReferenceDone"],autoTracked:!1})],Ae.prototype,"spatialReference",void 0),(0,r._)([(0,a.Cb)({readOnly:!0})],Ae.prototype,"state",void 0),(0,r._)([(0,a.Cb)({dependsOn:["animation","navigating","resizing","_stationaryTimer"],autoTracked:!1})],Ae.prototype,"stationary",null),(0,r._)([(0,a.Cb)({readOnly:!0})],Ae.prototype,"supportsGround",void 0),(0,r._)([(0,a.Cb)({type:Ce.T,readOnly:!0})],Ae.prototype,"timeline",void 0),(0,r._)([(0,a.Cb)({readOnly:!0})],Ae.prototype,"type",void 0),(0,r._)([(0,a.Cb)({readOnly:!0,dependsOn:["layerViewManager.updating","labelManager.updating","graphicsView?.updating"],autoTracked:!1})],Ae.prototype,"updating",null),(0,r._)([(0,a.Cb)({value:null,type:E.Z,dependsOn:["state.id","ready"],autoTracked:!1})],Ae.prototype,"viewpoint",null),(0,r._)([(0,a.Cb)({value:-1,dependsOn:["state.id"],autoTracked:!1})],Ae.prototype,"zoom",null),Ae=(0,r._)([(0,l.j)("esri.views.MapViewBase")],Ae);const Te=Ae;var ke=i(69948),Oe=i(46539);function Pe(e,t){switch(t){case"primary":return"touch"===e.pointerType||0===e.button;case"secondary":return"touch"!==e.pointerType&&2===e.button;case"tertiary":return"touch"!==e.pointerType&&1===e.button}}class Ie extends Oe.a{constructor(e,t){super(!0),this.view=e,this.registerIncoming("double-click",t,(e=>this._handleDoubleClick(e,t)))}_handleDoubleClick(e,t){Pe(e.data,"primary")&&(e.stopPropagation(),t?this.view.mapViewNavigation.zoomOut([e.data.x,e.data.y]):this.view.mapViewNavigation.zoomIn([e.data.x,e.data.y]))}}class Ee extends Oe.a{constructor(e,t,i){super(!0),this.view=e,this.pointerType=t,this.registerIncoming("double-tap-drag",i,(e=>this._handleDoubleTapDrag(e)))}_handleDoubleTapDrag(e){const{data:t}=e,{pointerType:i}=t;if(i!==this.pointerType)return;e.stopPropagation();const{action:r,delta:n}=t,{view:s}=this,{mapViewNavigation:o}=s;switch(r){case"begin":{const{scale:e}=s;this._startScale=e,this._currentScale=e,this._previousDelta=n,o.begin();break}case"update":{if(this._previousDelta.y===n.y)return;this._previousDelta=n;const e=Math.pow(1.015,n.y),t=this._startScale*e,i=t/this._currentScale;o.setViewpointImmediate(i),this._currentScale=t;break}case"end":{const{constraints:e}=s,{effectiveLODs:t,snapToZoom:i}=e;if(!i||!t)return void o.end();const r=e.snapScale(this._currentScale),a=(n.y>0?Math.max(r,e.snapToPreviousScale(this._startScale)):Math.min(r,e.snapToNextScale(this._startScale)))/this._currentScale;o.zoom(a);break}}}}class Me{constructor(e){this.callbacks=e,this.currentCount=0,this.callbacks.condition||(this.callbacks.condition=()=>!0)}handle(e){const t=e.data,i=t.pointers.size;switch(t.action){case"start":this.currentCount=i,this.emitStart(e);break;case"added":this.emitEnd(this.previousEvent),this.currentCount=i,this.emitStart(e);break;case"update":this.emitUpdate(e);break;case"removed":this.startEvent&&this.emitEnd(this.previousEvent),this.currentCount=i,this.emitStart(e);break;case"end":this.emitEnd(e),this.currentCount=0}this.previousEvent=e}emitStart(e){this.startEvent=e,this.callbacks.condition(this.currentCount,e)&&this.callbacks.start(this.currentCount,e,this.startEvent)}emitUpdate(e){this.callbacks.condition(this.currentCount,e)&&this.callbacks.update(this.currentCount,e,this.startEvent)}emitEnd(e){this.callbacks.condition(this.currentCount,e)&&this.callbacks.end(this.currentCount,e,this.startEvent),this.startEvent=null}}class Re extends Oe.a{constructor(e,t,i){super(!0),this.view=e,this.pointerAction=t,this.registerIncoming("drag",i,(e=>this._handleDrag(e))),this.registerIncoming("pointer-down",(()=>this.stopMomentumNavigation()));const r=this.view.mapViewNavigation;this.dragEventSeparator=new Me({start:(e,t)=>{r.pan.begin(this.view,t.data),t.stopPropagation()},update:(e,t)=>{r.pan.update(this.view,t.data),t.stopPropagation()},end:(e,t)=>{r.pan.end(this.view,t.data),t.stopPropagation()},condition:(e,t)=>1===e&&Pe(t.data,this.pointerAction)})}_handleDrag(e){const t=this.view.mapViewNavigation;t.pinch.zoomMomentum||t.pinch.rotateMomentum?this.stopMomentumNavigation():this.dragEventSeparator.handle(e)}stopMomentumNavigation(){this.view.mapViewNavigation.pan.stopMomentumNavigation()}}class Ne extends Oe.a{constructor(e,t,i){super(!0),this.view=e,this.pointerAction=t;const r=this.view.mapViewNavigation;this.dragEventSeparator=new Me({start:(e,t)=>{r.rotate.begin(this.view,t.data),t.stopPropagation()},update:(e,t)=>{r.rotate.update(this.view,t.data),t.stopPropagation()},end:(e,t)=>{r.rotate.end(),t.stopPropagation()},condition:(e,t)=>1===e&&Pe(t.data,this.pointerAction)}),this.registerIncoming("drag",i,(e=>this.dragEventSeparator.handle(e)))}}var Le=i(17387);function De(e){let t=e*e;return e<0&&(t*=-1),t}class ze extends Oe.a{constructor(e){super(!0),this.view=e,this.frameTask=null,this.watchHandles=new w.Z,this.currentDevice=null,this.transformation={translation:[0,0,0],heading:0,tilt:0,zoom:0},this.handle=this.registerIncoming("gamepad",(e=>this.handleEvent(e))),this.handle.pause()}onInstall(e){super.onInstall(e),this.watchHandles.add([(0,f.init)(this.view.navigation.gamepad,"enabled",(e=>{e?(this.handle.resume(),this.frameTask||(this.frameTask=(0,B.A)({update:e=>this.frameUpdate(e.deltaTime)}))):(this.handle.pause(),this.frameTask&&(this.frameTask.remove(),this.frameTask=null))}))])}onUninstall(){this.watchHandles.removeAll(),this.frameTask&&(this.frameTask.remove(),this.frameTask=null),super.onUninstall()}handleEvent(e){const t=this.view.navigation.gamepad.device;t&&e.data.device!==t||this.currentDevice&&this.currentDevice!==e.data.device||("end"===e.data.action?(this.currentDevice=null,function(e){e.translation[0]=0,e.translation[1]=0,e.translation[2]=0,e.heading=0,e.tilt=0}(this.transformation)):(this.currentDevice=e.data.device,function(e,t,i){const r=i,n=e.state,s=e.device,o="forward-down"===t.tiltDirection?1:-1;"standard"===s.deviceType?(r.translation[0]=De(n.axes[0]),r.translation[1]=De(n.axes[1]),r.translation[2]=De(n.buttons[7])-De(n.buttons[6]),r.heading=De(n.axes[2]),r.tilt=De(n.axes[3])):"spacemouse"===s.deviceType&&(r.translation[0]=1.2*De(n.axes[0]),r.translation[1]=1.2*De(n.axes[1]),r.translation[2]=2*-De(n.axes[2]),r.heading=1.2*De(n.axes[5]),r.tilt=1.2*De(n.axes[3])),r.tilt*=o,(0,Le.a)(r.translation,r.translation,1)}(e.data,this.view.navigation.gamepad,this.transformation)))}frameUpdate(e){const t=this.transformation;if(function(e){return 0===e.translation[0]&&0===e.translation[1]&&0===e.translation[2]&&0===e.heading&&0===e.tilt&&0===e.zoom}(t))return;const i=this.view.viewpoint.clone(),r=this.view.navigation.gamepad.velocityFactor,n=je*r*e;(0,j.Rx)(i,i,[t.translation[0]*n,-t.translation[1]*n]);const s=1+t.translation[2]*Be*e,o=this.view.constraints.rotationEnabled?-t.heading*Fe*e:0,a=this.view.size,l=[a[0]/2,a[1]];(0,j.UZ)(i,i,s,o,l,a);const c=this.view.constraints.constrain(i,this.view.viewpoint);this.view.viewpoint=c}}const Fe=.06,je=.7,Be=6e-4;class Ve extends Oe.a{constructor(e,t,i){super(!0),this.view=e,this.keys=t,this._pressed=!1,this._keyMap={[t.left]:"left",[t.right]:"right",[t.up]:"up",[t.down]:"down"},this.registerIncoming("key-down",i,(e=>this._handleKeyDown(e))),this.registerIncoming("key-up",i,(e=>this._handleKeyUp(e))),this.registerIncoming("blur",i,(()=>this._handleBlur()))}_handleKeyDown(e){e.data.repeat||this._handleKey(e,!0)}_handleKeyUp(e){this._handleKey(e,!1)}_handleBlur(){this._pressed&&(this._pressed=!1,this.view.mapViewNavigation.stop())}_handleKey(e,t){const i=this._keyMap[e.data.key];if(this._pressed=null!=i,this._pressed){if(t)switch(this.view.mapViewNavigation.begin(),i){case"left":this.view.mapViewNavigation.continousPanLeft();break;case"right":this.view.mapViewNavigation.continousPanRight();break;case"up":this.view.mapViewNavigation.continousPanUp();break;case"down":this.view.mapViewNavigation.continousPanDown()}else this._pressed=!1,this.view.mapViewNavigation.stop();e.stopPropagation()}}}class Ue extends Oe.a{constructor(e,t,i){super(!0),this.view=e,this.keys=t,this._pressed=!1,this._keyToDirection={[t.clockwiseOption1]:"clockwise",[t.clockwiseOption2]:"clockwise",[t.counterClockwiseOption1]:"counterClockwise",[t.counterClockwiseOption2]:"counterClockwise",[t.resetOption1]:"reset",[t.resetOption2]:"reset"},this.registerIncoming("key-down",i,(e=>this._handleKeyDown(e))),this.registerIncoming("key-up",i,(e=>this._handleKeyUp(e))),this.registerIncoming("blur",i,(()=>this._handleBlur()))}_handleKeyDown(e){e.data.repeat||this._handleKey(e,!0)}_handleKeyUp(e){this._handleKey(e,!1)}_handleBlur(){this._pressed&&(this._pressed=!1,this.view.mapViewNavigation.stop())}_handleKey(e,t){const i=e.modifiers;if(i.size>0&&!i.has("Shift")||!this.view.constraints.rotationEnabled)return;const r=this._keyToDirection[e.data.key];if(this._pressed=null!=r,this._pressed){if(t)switch(this.view.mapViewNavigation.begin(),r){case"clockwise":this.view.mapViewNavigation.continousRotateClockwise();break;case"counterClockwise":this.view.mapViewNavigation.continousRotateCounterclockwise();break;case"reset":this.view.mapViewNavigation.resetRotation()}else this._pressed=!1,this.view.mapViewNavigation.stop();e.stopPropagation()}}}class Ge extends Oe.a{constructor(e,t,i){super(!0),this.view=e,this.keys=t,this._keysToZoomAction={},this.registerIncoming("key-down",i,(e=>this._handleKeyDown(e))),t.zoomIn.forEach((e=>this._keysToZoomAction[e]=0)),t.zoomOut.forEach((e=>this._keysToZoomAction[e]=1))}_handleKeyDown(e){this._handleKey(e)}_handleKey(e){const t=e.modifiers;if(t.size>0&&!t.has("Shift"))return;const{key:i}=e.data;if(!(i in this._keysToZoomAction))return;const r=this._keysToZoomAction[i],{mapViewNavigation:n}=this.view;let s=null;switch(r){case 0:s=n.zoomIn();break;case 1:s=n.zoomOut();break;default:return}n.begin(),s.then((()=>n.end())),e.stopPropagation()}}class Ze extends Oe.a{constructor(e,t){super(!0),this.view=e,this._canZoom=!0,this.registerIncoming("mouse-wheel",t,(e=>this._handleMouseWheel(e)))}_handleMouseWheel(e){if(!this.view.navigation.mouseWheelZoomEnabled)return;if(e.preventDefault(),e.stopPropagation(),!this._canZoom)return;const t=this.view.mapViewNavigation,{x:i,y:r,deltaY:n}=e.data,s=1/Math.pow(.6,1/60*n),o=t.zoom(s,[i,r]);o&&(this._canZoom=!1,o.catch((()=>{})).then((()=>{this._canZoom=!0,t.end()})))}}class He extends Oe.a{constructor(e){super(!0),this.view=e,this.registerIncoming("drag",(e=>this._handleDrag(e))),this.registerIncoming("pointer-down",(()=>this.stopMomentumNavigation()));const t=this.view.mapViewNavigation;this.dragEventSeparator=new Me({start:(e,i)=>{t.pinch.begin(this.view,i.data),i.stopPropagation()},update:(e,i)=>{t.pinch.update(this.view,i.data),i.stopPropagation()},end:(e,i)=>{t.pinch.end(this.view),i.stopPropagation()},condition:e=>e>=2})}_handleDrag(e){this.dragEventSeparator.handle(e)}stopMomentumNavigation(){this.view.mapViewNavigation.pinch.stopMomentumNavigation()}}var We=i(63345),qe=i(37699),$e=i(33655);function Je(e){const t=e.native;return t?{buttons:t.buttons.map((e=>e.pressed?e.value?e.value:1:0)),axes:t.axes.map((t=>function(e,t){const i=Math.abs(e);return i<t?0:(0,$e.Xx)(e)*(i-t)/(1-t)}(t,e.axisThreshold)))}:{buttons:[],axes:[]}}class Ye{constructor(e,t){this.element=e,this.input=t,this._hasEventListeners=!1,this.onConnectGamepad=e=>{this.connectGamepad(e.gamepad)},this.onDisconnectGamepad=e=>{const t=e.gamepad,i=t.index,r=this.inputDevices[i];r&&(this.emitGamepadEvent(t,Je(r),!1),this.inputDevices.splice(i,1),this.latestUpdate.splice(i,1),this.input.gamepad.devices.remove(r),this.ensurePollingState())},this.frameTask=null,this.latestUpdate=new Array,this.inputDevices=new Array,this.callback=null,this.supported="getGamepads"in window.navigator,this.supported&&(this.forEachGamepad(this.connectGamepad),window.addEventListener("gamepadconnected",this.onConnectGamepad),window.addEventListener("gamepaddisconnected",this.onDisconnectGamepad),this.ensurePollingState())}destroy(){this.hasEventListeners=!1,this.supported&&(window.removeEventListener("gamepadconnected",this.onConnectGamepad),window.removeEventListener("gamepaddisconnected",this.onDisconnectGamepad))}set hasEventListeners(e){this._hasEventListeners!==e&&(this._hasEventListeners=e,this.ensurePollingState())}get eventsEnabled(){return this.supported&&this.inputDevices.length>0&&this._hasEventListeners}set onEvent(e){this.callback=e}connectGamepad(e){const t=new qe.Z(e);"unknown"!==t.deviceType&&(this.inputDevices[e.index]=t,this.input.gamepad.devices.add(t)),this.ensurePollingState()}ensurePollingState(){this.eventsEnabled?this.startPolling():this.stopPolling()}startPolling(){null==this.frameTask&&(this.frameTask=(0,B.A)({update:()=>this.readGamepadState()}))}stopPolling(){null!=this.frameTask&&(this.frameTask.remove(),this.frameTask=null,this.latestUpdate=new Array)}readGamepadState(){const e=document.hasFocus(),t=this.element.contains(document.activeElement),i="document"===this.input.gamepad.enabledFocusMode&&!e||"view"===this.input.gamepad.enabledFocusMode&&!t;this.forEachGamepad((e=>{const t=this.inputDevices[e.index];if(!t)return;const r=this.latestUpdate[e.index],n=Je(t),s=i||function(e){for(let t=0;t<e.axes.length;t++)if(0!==e.axes[t])return!1;for(let t=0;t<e.buttons.length;t++)if(0!==e.buttons[t])return!1;return!0}(n);if(r){if(r.timestamp===e.timestamp)return;if(!r.active&&s)return;if(function(e,t){if(e.axes.length!==t.axes.length)return!1;if(e.buttons.length!==t.buttons.length)return!1;for(let i=0;i<e.axes.length;i++)if(e.axes[i]!==t.axes[i])return!1;for(let i=0;i<e.buttons.length;i++)if(e.buttons[i]!==t.buttons[i])return!1;return!0}(r.state,n))return}this.emitGamepadEvent(e,n,!s)}))}forEachGamepad(e){const t=window.navigator.getGamepads();for(let i=0;i<t.length;i++){const r=t[i];this.validate(r)&&e(r)}}emitGamepadEvent(e,t,i){const r=this.latestUpdate[e.index],n=r&&r.active;if(!n&&!i)return;const s=!n&&i?"start":n&&i?"update":"end";this.latestUpdate[e.index]={timestamp:e.timestamp,state:t,active:i},this.callback&&this.callback({device:this.inputDevices[e.index],state:t,action:s})}validate(e){if(!e)return!1;if(!e.connected)return!1;for(let t=0;t<e.axes.length;t++)if(isNaN(e.axes[t]))return!1;return!0}}const Ke=(0,n.Z)("trident"),Xe=(0,n.Z)("edge"),Qe=(0,n.Z)("chrome"),et=(0,n.Z)("ff"),tt=(0,n.Z)("safari"),it="esri-view-surface--touch-none",rt="esri-view-surface--touch-pan";class nt{constructor(e,t){this.input=t,this._active={},this._activePointerCaptures=new Set,this._keyDownState=new Set,this._eventId=1,this._browserTouchPanningEnabled=!1,this._element=e,e.getAttribute("tabindex")||e.setAttribute("tabindex","0"),this._eventHandlers={"key-down":this._handleKey,"key-up":this._handleKey,"pointer-down":this._handlePointer,"pointer-move":this._handlePointerPreventDefault,"pointer-up":this._handlePointerPreventDefault,"pointer-enter":this._handlePointer,"pointer-leave":this._handlePointer,"pointer-cancel":this._handlePointer,"mouse-wheel":this._handleMouseWheel,"pointer-capture-lost":this._handlePointerCaptureLost},this._updateTouchAction(),this._element.addEventListener("keydown",this._preventAltKeyDefault),this._gamepadSource=new Ye(e,this.input),this._gamepadSource.onEvent=e=>this._callback("gamepad",e)}destroy(){this._callback=null,this.activeEvents=null,this._activePointerCaptures.forEach((e=>{this._releasePointerCaptureSafe(e)})),this._gamepadSource&&(this._gamepadSource.destroy(),this._gamepadSource=null),this._activePointerCaptures=null,this._removeTouchAction(),this._element.removeEventListener("keydown",this._preventAltKeyDefault)}get browserTouchPanningEnabled(){return this._browserTouchPanningEnabled}set browserTouchPanningEnabled(e){this._browserTouchPanningEnabled=e,this._updateTouchAction(),this._updateTouchEventHandling()}set onEventReceived(e){this._callback=e}set activeEvents(e){for(const t in this._active)if(!e||!e.has(t)){const e=this._active[t];this._element.removeEventListener(st[t],e),delete this._active[t]}e&&e.forEach((e=>{if(!this._active[e]&&st[e]){const t=(this._eventHandlers[e]||this._handleDefault).bind(this,e);this._element.addEventListener(st[e],t),this._active[e]=t}})),this._gamepadSource.hasEventListeners=e&&e.has("gamepad")}setPointerCapture(e,t){t?(this._element.setPointerCapture(e.pointerId),this._activePointerCaptures.add(e.pointerId)):(this._releasePointerCaptureSafe(e.pointerId),this._activePointerCaptures.delete(e.pointerId))}_updateTouchAction(){this._element.classList.remove(this._browserTouchPanningEnabled?it:rt),this._element.classList.add(this._browserTouchPanningEnabled?rt:it)}_updateTouchEventHandling(){this._browserTouchPanningEnabled?this._element.addEventListener("touchmove",this._preventMultiTouchPanning):this._element.removeEventListener("touchmove",this._preventMultiTouchPanning)}_removeTouchAction(){this._element.classList.remove(it),this._element.classList.remove(rt),this._element.removeEventListener("touchmove",this._preventMultiTouchPanning)}_releasePointerCaptureSafe(e){try{if(this._element.hasPointerCapture&&!this._element.hasPointerCapture(e))return;this._element.releasePointerCapture(e)}catch(e){}}_updateNormalizedPointerLikeEvent(e,t){const i=(0,v.Eu)(this._element,e);return nt.test.disableSubpixelCoordinates&&(i.x=Math.round(i.x),i.y=Math.round(i.y)),t.x=i.x,t.y=i.y,t}_handleKey(e,t){const i=(0,We.kK)(t);i&&"key-up"===e&&this._keyDownState.delete(i);const r={native:t,key:i,repeat:i&&this._keyDownState.has(i)};i&&"key-down"===e&&this._keyDownState.add(r.key),this._callback(e,r)}_handlePointer(e,t){const i=this._updateNormalizedPointerLikeEvent(t,{native:t,x:0,y:0,pointerType:t.pointerType,button:t.button,buttons:t.buttons,eventId:this._eventId++});this._callback(e,i)}_handlePointerPreventDefault(e,t){const i=this._updateNormalizedPointerLikeEvent(t,{native:t,x:0,y:0,pointerType:t.pointerType,button:t.button,buttons:t.buttons,eventId:this._eventId++});t.preventDefault(),this._callback(e,i)}_handleMouseWheel(e,t){let i=t.deltaY;switch(t.deltaMode){case 0:(Ke||Xe)&&(i=i/document.documentElement.clientHeight*600);break;case 1:i*=30;break;case 2:i*=900}Ke||Xe?i*=.7:Qe||tt?i*=.6:et&&(i*=1.375);const r=Math.abs(i);if(r>100){const e=.02;i=i/r*200/(1+Math.exp(-e*(r-100)))}const n=this._updateNormalizedPointerLikeEvent(t,{native:t,x:0,y:0,deltaY:i});this._callback(e,n)}_handlePointerCaptureLost(e,t){this._activePointerCaptures.delete(t.pointerId),this._handleDefault(e,t)}_handleDefault(e,t){const i={native:t};t.preventDefault(),this._callback(e,i)}_preventAltKeyDefault(e){"Alt"===e.key&&e.preventDefault()}_preventMultiTouchPanning(e){e.touches.length>1&&e.preventDefault()}}nt.test={disableSubpixelCoordinates:!1};const st={"key-down":"keydown","key-up":"keyup","pointer-down":"pointerdown","pointer-up":"pointerup","pointer-move":"pointermove","mouse-wheel":"wheel","pointer-capture-got":"gotpointercapture","pointer-capture-lost":"lostpointercapture","context-menu":"contextmenu","pointer-enter":"pointerenter","pointer-leave":"pointerleave","pointer-cancel":"pointercancel",focus:"focus",blur:"blur"};class ot extends Oe.a{constructor(){super(!0),this.registerIncoming("context-menu",(e=>{e.data.native.preventDefault()}))}}var at=i(2992),lt=i(77293),ct=i(16853);const ht=250,dt=10,ut=350,pt=35;class ft extends Oe.a{constructor(e=ht,t=dt,i=ut,r=pt,n=at.Z){super(!1),this.maximumDoubleClickDelay=e,this.maximumDoubleClickDistance=t,this.maximumDoubleTouchDelay=i,this.maximumDoubleTouchDistance=r,this._clock=n,this._pointerState=new Map,this._click=this.registerOutgoing("click"),this._doubleClick=this.registerOutgoing("double-click"),this.registerIncoming("immediate-click",this._handleImmediateClick.bind(this)),this.registerIncoming("pointer-drag",this._handlePointerDrag.bind(this)),this.registerIncoming("drag",this._handleDrag.bind(this))}onUninstall(){this._pointerState.forEach((e=>{null!=e.doubleClickTimeout&&(e.doubleClickTimeout.remove(),e.doubleClickTimeout=null)}))}get hasPendingInputs(){return(0,lt.o)(this._pointerState,(e=>null!=e.doubleClickTimeout))}_pointerId(e){const t=e.native;return"mouse"===t.pointerType?`${t.pointerId}:${t.button}`:`${t.pointerType}`}_handleImmediateClick(e){const t=e.data,i=this._pointerId(t),r=this._pointerState.get(i);if(r){const n="touch"===t.native.pointerType?this.maximumDoubleTouchDistance:this.maximumDoubleClickDistance;(0,ct.nk)(r.event.data,t)>n?(this._clearDoubleClickTimeout(i,!0),this._startClick(e)):(this._clearDoubleClickTimeout(i,!1),this._doubleClick.emit(r.event.data,void 0,r.event.modifiers))}else this._startClick(e)}_startClick(e){const t=this._pointerId(e.data),i="touch"===e.data.native.pointerType?this.maximumDoubleTouchDelay:this.maximumDoubleClickDelay;this._pointerState.set(t,{event:e,doubleClickTimeout:this._clock.setTimeout((()=>this._doubleClickTimeoutExceeded(t)),i)}),this.refreshHasPendingInputs()}_handlePointerDrag(e){const t=this._pointerId(e.data.currentEvent);this._clearDoubleClickTimeout(t,!0)}_handleDrag(e){const t=this._pointerId(e.data.pointer);this._clearDoubleClickTimeout(t,!0)}_clearDoubleClickTimeout(e,t){const i=this._pointerState.get(e);i&&(i.doubleClickTimeout.remove(),i.doubleClickTimeout=null,t&&this._doubleClickTimeoutExceeded(e),this._pointerState.delete(e),this.refreshHasPendingInputs())}_doubleClickTimeoutExceeded(e){const t=this._pointerState.get(e);this._click.emit(t.event.data,void 0,t.event.modifiers),t.doubleClickTimeout=null,this._pointerState.delete(e),this.refreshHasPendingInputs()}}class mt extends Oe.a{constructor(e=ht,t=dt,i=ut,r=pt,n=at.Z){super(!1),this.maximumDoubleClickDelay=e,this.maximumDoubleClickDistance=t,this.maximumDoubleTouchDelay=i,this.maximumDoubleTouchDistance=r,this._clock=n,this._doubleTapDragReady=!1,this._doubleTapDragActive=!1,this._dragStartCenter=(0,I.vW)(0,0),this._pointerState=new Map,this._doubleTapDrag=this.registerOutgoing("double-tap-drag"),this._dragEventSeparator=new Me({start:(e,t)=>this._dragStart(e,t),update:(e,t)=>this._dragUpdate(t),end:(e,t)=>this._dragEnd(t)}),this.registerIncoming("drag",(e=>this._dragEventSeparator.handle(e))),this.registerIncoming("pointer-down",(e=>this._handlePointerDown(e))),this.registerIncoming("pointer-up",(()=>this._handlePointerUp()))}onUninstall(){this._pointerState.forEach((e=>{null!=e.doubleTapTimeout&&(e.doubleTapTimeout.remove(),e.doubleTapTimeout=null)}))}get hasPendingInputs(){return(0,lt.o)(this._pointerState,(e=>null!=e.doubleTapTimeout))}_clearPointerDown(e){const t=this._pointerState.get(e);t&&(t.doubleTapTimeout.remove(),t.doubleTapTimeout=null,this._pointerState.delete(e),this.refreshHasPendingInputs())}_createDoubleTapDragData(e,t,i){const{button:r,buttons:n,pointer:s,pointers:o,pointerType:a,timestamp:l}=i;return{action:e,delta:t,button:r,buttons:n,pointer:s,pointers:o,pointerType:a,timestamp:l}}_dragStart(e,t){if(!this._doubleTapDragReady||1!==e)return;this._doubleTapDragReady=!1,this._doubleTapDragActive=!0;const{data:i,modifiers:r}=t,{center:n}=i;this._dragStartCenter=n;const s=this._createDoubleTapDragData("begin",(0,I.vW)(0,0),i);this._doubleTapDrag.emit(s,void 0,r),t.stopPropagation()}_dragUpdate(e){if(!this._doubleTapDragActive)return;const{data:t,modifiers:i}=e,{center:r}=t,n=(0,I.vW)(r.x-this._dragStartCenter.x,r.y-this._dragStartCenter.y),s=this._createDoubleTapDragData("update",n,t);this._doubleTapDrag.emit(s,void 0,i),e.stopPropagation()}_dragEnd(e){if(!this._doubleTapDragActive)return;const{data:t,modifiers:i}=e,{center:r}=t,n=(0,I.vW)(r.x-this._dragStartCenter.x,r.y-this._dragStartCenter.y),s=this._createDoubleTapDragData("end",n,t);this._doubleTapDrag.emit(s,void 0,i),this._doubleTapDragActive=!1,e.stopPropagation()}_handlePointerDown(e){const{data:t}=e,i=this._pointerId(t),r=this._pointerState.get(i),{pointerType:n}=t.native;if(r){const s="touch"===n?this.maximumDoubleTouchDistance:this.maximumDoubleClickDistance;this._clearPointerDown(i),(0,ct.nk)(r.event.data,t)>s?this._storePointerDown(e):this._doubleTapDragReady=!0}else this._storePointerDown(e)}_handlePointerUp(){this._doubleTapDragReady=!1}_pointerId(e){const{native:t}=e,{pointerId:i,button:r,pointerType:n}=t;return"mouse"===n?`${i}:${r}`:`${n}`}_storePointerDown(e){const{data:t}=e,{pointerType:i}=t.native,r=this._pointerId(t),n="touch"===i?this.maximumDoubleTouchDelay:this.maximumDoubleClickDelay,s=this._clock.setTimeout((()=>this._clearPointerDown(r)),n);this._pointerState.set(r,{event:e,doubleTapTimeout:s}),this.refreshHasPendingInputs()}}var _t,gt=i(98034);class yt extends Oe.a{constructor(e){super(!1),this.navigationTouch=e,this.startStateModifiers=new Set,this.activePointerMap=new Map,this.isDragging=!1,this.isCurrentDragSuppressed=!1,this.drag=this.registerOutgoing("drag"),this.registerIncoming("pointer-drag",this.handlePointerDrag.bind(this)),this.registerIncoming("pointer-up",this.handlePointerUpAndPointerLost.bind(this)),this.registerIncoming("pointer-capture-lost",this.handlePointerUpAndPointerLost.bind(this)),this.registerIncoming("pointer-cancel",this.handlePointerUpAndPointerLost.bind(this))}createPayload(e,t,i,r){return{action:e,pointerType:this.pointerType,button:this.mouseButton,buttons:t.buttons,timestamp:r,pointers:wt(this.activePointerMap),pointer:t,angle:i.angle,radius:i.radius,center:i.center}}addPointer(e){const t=e.native.pointerId,i=bt(this.activePointerMap).angle,r={event:e,initialAngle:0,lastAngle:0};this.activePointerMap.set(t,r);const n=xt(r,vt(this.activePointerMap));r.initialAngle=n,r.lastAngle=n,this.updatePointerAngles(i)}updatePointer(e){if(e&&null==e.x&&null==e.y)return;const t=e.native.pointerId,i=this.activePointerMap.get(t);i?i.event=e:this.addPointer(e)}removePointer(e){const t=bt(this.activePointerMap).angle;this.activePointerMap.delete(e),this.updatePointerAngles(t)}updatePointerAngles(e){const t=bt(this.activePointerMap);this.activePointerMap.forEach((i=>{i.initialAngle=xt(i,t)-e,i.lastAngle=xt(i,t)-e}))}emitEvent(e,t,i){const r=bt(this.activePointerMap);this.drag.emit(this.createPayload(e,t,r,i),void 0,this.startStateModifiers)}handlePointerUpAndPointerLost(e){const t=e.data.native.pointerId,i=(0,gt.HA)(e.timestamp);this.activePointerMap.get(t)&&(1===this.activePointerMap.size?(this.updatePointer(e.data),!this.isCurrentDragSuppressed&&this.emitEvent("end",e.data,i),this.isDragging=!1,this.isCurrentDragSuppressed=!1,this.removePointer(t)):(this.removePointer(t),this.emitEvent("removed",e.data,(0,gt.HA)(e.timestamp))))}handlePointerDrag(e){const t=e.data,i=t.currentEvent,r=(0,gt.HA)(e.timestamp);switch(t.action){case"start":case"update":this.isDragging?this.activePointerMap.has(i.native.pointerId)?(this.updatePointer(i),!this.isCurrentDragSuppressed&&this.emitEvent("update",i,r)):(this.addPointer(i),this.emitEvent("added",i,r),this.isCurrentDragSuppressed=this.isSuppressed):(this.updatePointer(i),this.pointerType=e.data.startEvent.pointerType,this.mouseButton=e.data.startEvent.button,this.startStateModifiers=e.modifiers,this.isDragging=!0,this.isCurrentDragSuppressed=this.isSuppressed,!this.isCurrentDragSuppressed&&this.emitEvent("start",i,r))}}get isSuppressed(){return this.navigationTouch&&!this.navigationTouch.browserTouchPanEnabled&&"touch"===this.pointerType&&1===this.activePointerMap.size}}function vt(e){const t=[];return e.forEach((e=>{t.push((0,I.vW)(e.event.x,e.event.y))})),(0,ct.y_)(t)}function bt(e){const t=vt(e);let i=0;return e.forEach((e=>{let r=xt(e,t),n=r-e.lastAngle;for(;n>Math.PI;)n-=2*Math.PI;for(;n<-Math.PI;)n+=2*Math.PI;r=e.lastAngle+n,e.lastAngle=r;const s=r-e.initialAngle;i+=s})),i/=e.size||1,{angle:i,radius:t.radius,center:t.center}}function wt(e){const t=new Map;return e.forEach(((e,i)=>t.set(i,e.event))),t}function xt(e,t){const i=e.event,r=i.x-t.center.x,n=i.y-t.center.y;return Math.atan2(n,r)}!function(e){e[e.Left=0]="Left",e[e.Middle=1]="Middle",e[e.Right=2]="Right",e[e.Back=3]="Back",e[e.Forward=4]="Forward",e[e.Undefined=-1]="Undefined"}(_t||(_t={}));class Ct extends Oe.a{constructor(e=ht,t=dt,i=ut,r=pt,n=at.Z){super(!1),this.maximumDoubleClickDelay=e,this.maximumDoubleClickDistance=t,this.maximumDoubleTouchDelay=i,this.maximumDoubleTouchDistance=r,this._clock=n,this._pointerState=new Map,this._immediateDoubleClick=this.registerOutgoing("immediate-double-click"),this.registerIncoming("pointer-down",this._handlePointerDown.bind(this)),this.registerIncoming("pointer-up",(e=>{this._handlePointerLoss(e,"pointer-up")})),this.registerIncoming("pointer-capture-lost",(e=>{this._handlePointerLoss(e,"pointer-capture-lost")})),this.registerIncoming("pointer-cancel",(e=>{this._handlePointerLoss(e,"pointer-cancel")}))}onUninstall(){this._pointerState.forEach((e=>{e.immediateDoubleClick&&e.immediateDoubleClick.timeoutHandle.remove()})),super.onUninstall()}_handlePointerDown(e){const t=e.data,i=this._pointerId(t);if(!this._pointerState.has(i)){const e={downButton:t.native.button,immediateDoubleClick:null};this._pointerState.set(i,e),this.startCapturingPointer(t.native)}}_handlePointerLoss(e,t){const i=e.data,r=this._pointerId(i),n=this._pointerState.get(r);if(n&&"pointer-up"===t&&n.downButton===i.native.button){const t=n.immediateDoubleClick;if(t){t.timeoutHandle.remove();const r="touch"===e.data.native.pointerType?this.maximumDoubleTouchDistance:this.maximumDoubleClickDistance;(0,ct.nk)(t,e.data)>r?this._startImmediateDoubleClick(e,n):(this._immediateDoubleClick.emit(e.data,void 0,t.modifiers),this._removeState(i))}else this._startImmediateDoubleClick(e,n)}}_startImmediateDoubleClick(e,t){const i="touch"===e.data.native.pointerType?this.maximumDoubleTouchDelay:this.maximumDoubleClickDelay;t.immediateDoubleClick={x:e.data.x,y:e.data.y,modifiers:e.modifiers,timeoutHandle:this._clock.setTimeout((()=>this._removeState(e.data)),i)}}_pointerId(e){const t=e.native;return"mouse"===t.pointerType?`${t.pointerId}:${t.button}`:`${t.pointerType}`}_removeState(e){const t=this._pointerId(e);this._pointerState.delete(t),this.stopCapturingPointer(e.native),this.refreshHasPendingInputs()}}var St=i(94535);const At={left:"ArrowLeft",right:"ArrowRight",up:"ArrowUp",down:"ArrowDown"},Tt={zoomIn:["=","+"],zoomOut:["-","_"]},kt={clockwiseOption1:"a",clockwiseOption2:"A",counterClockwiseOption1:"d",counterClockwiseOption2:"D",resetOption1:"n",resetOption2:"N"};let Ot=class extends V.default{constructor(){super(...arguments),this._handles=new w.Z}initialize(){this._handles.add([(0,f.whenNot)(this.view,"ready",(()=>this._disconnect())),(0,f.when)(this.view,"ready",(()=>this._connect()))])}destroy(){this._handles&&(this._handles.removeAll(),this._handles=null),this._disconnect()}_disconnect(){this._inputManager&&(this.view.viewEvents.disconnect(),this._inputManager.destroy(),this._inputManager=null,this._source.destroy(),this._source=null)}_connect(){const e=this.view.surface,t=new nt(e,this.view.input),i=[new Ct,new St.e,new ft,new yt(this.view.navigation),new mt],r=new ke.$({eventSource:t,recognizers:i});r.installHandlers("prevent-context-menu",[new ot],ke.f.INTERNAL),r.installHandlers("navigation",[new He(this.view),new ze(this.view),new Ze(this.view),new Ie(this.view),new Ie(this.view,["Ctrl"]),new Re(this.view,"primary"),new Ve(this.view,At),new Ge(this.view,Tt),new Ue(this.view,kt),new Ne(this.view,"secondary"),new Ee(this.view,"touch")],ke.f.INTERNAL),this.view.viewEvents.connect(r),this._source=t,this._inputManager=r,(0,f.init)(this.view.navigation,"browserTouchPanEnabled",(e=>{this._source.browserTouchPanningEnabled=!e}))}get test(){return{inputManager:this._inputManager}}};(0,r._)([(0,a.Cb)()],Ot.prototype,"view",void 0),Ot=(0,r._)([(0,l.j)("esri.views.2d.input.MapViewInputManager")],Ot);const Pt=Ot;var It=i(78745);let Et=0,Mt=class extends V.default{constructor(){super(...arguments),this.color=new It.default([0,255,255]),this.haloOpacity=1,this.fillOpacity=.25}get version(){return Et++}};(0,r._)([(0,a.Cb)({readOnly:!0,dependsOn:["color","haloColor","haloOpacity","fillOpacity"]})],Mt.prototype,"version",null),(0,r._)([(0,a.Cb)({type:It.default})],Mt.prototype,"color",void 0),(0,r._)([(0,a.Cb)({type:It.default})],Mt.prototype,"haloColor",void 0),(0,r._)([(0,a.Cb)()],Mt.prototype,"haloOpacity",void 0),(0,r._)([(0,a.Cb)()],Mt.prototype,"fillOpacity",void 0),Mt=(0,r._)([(0,l.j)("esri.views.2d.support.HighlightOptions")],Mt);const Rt=Mt;var Nt=i(43129);const Lt={checkMajorWebPerformanceCaveat:!0};var Dt=i(60263),zt=i(77827);const Ft="esri-component";let jt=class extends V.default{constructor(){super(...arguments),this.widget=null}destroy(){this.widget&&this.widget.destroy(),this.node=null}get id(){return this.get("widget.id")||this.get("node.id")}set node(e){const t=this._get("node");e!==t&&(e&&e.classList.add(Ft),t&&t.classList.remove(Ft),this._set("node",e))}castNode(e){return e?"string"==typeof e||function(e){return e&&"nodeType"in e}(e)?(this._set("widget",null),(0,zt.L7)(e)):(function(e){return e&&"function"==typeof e.render}(e)&&!e.domNode&&(e.domNode=document.createElement("div")),this._set("widget",e),e.domNode):(this._set("widget",null),null)}};(0,r._)([(0,a.Cb)({dependsOn:[],autoTracked:!1})],jt.prototype,"id",null),(0,r._)([(0,a.Cb)()],jt.prototype,"node",null),(0,r._)([(0,Dt.p)("node")],jt.prototype,"castNode",null),(0,r._)([(0,a.Cb)({readOnly:!0})],jt.prototype,"widget",void 0),jt=(0,r._)([(0,l.j)("esri.views.ui.Component")],jt);const Bt=jt;var Vt=i(40450);const Ut={left:0,top:0,bottom:0,right:0},Gt={bottom:30,top:15,right:15,left:15},Zt="esri-ui",Ht="esri-ui-corner",Wt="esri-ui-inner-container";function qt(e){return"object"!=typeof e||e instanceof Bt||"declaredClass"in e||!("component"in e||"index"in e||"position"in e)?null:e}function $t(e,{top:t,bottom:i,left:r,right:n}){e.style.top=t,e.style.bottom=i,e.style.left=r,e.style.right=n}let Jt=class extends ee.Z.EventedAccessor{constructor(e){super(e),this._cornerNameToContainerLookup={},this._positionNameToContainerLookup={},this._components=new Array,this._componentToKey=new Map,this._handles=new w.Z,this.view=null,this._initContainers()}initialize(){this._handles.add([(0,f.init)(this,"view.padding, container",this._applyViewPadding.bind(this)),(0,f.init)(this,"padding",this._applyUIPadding.bind(this))])}destroy(){this.container=null;for(const e of this._components)e.destroy();this._components.length=0,this._handles.destroy(),this._componentToKey.clear()}set container(e){const t=this._get("container");e!==t&&(e&&(e.classList.add(Zt),this._attachContainers(e)),t&&(t.classList.remove(Zt),$t(t,{top:"",bottom:"",left:"",right:""}),(0,zt.cS)(t)),this._set("container",e))}get height(){const e=this.get("view.height")||0;if(0===e)return e;const t=this._getViewPadding(),i=t.top+t.bottom;return Math.max(e-i,0)}get padding(){return this._get("padding")}set padding(e){e?this._override("padding",e):this._clearOverride("padding")}castPadding(e){return"number"==typeof e?{bottom:e,top:e,right:e,left:e}:{...Gt,...e}}get width(){const e=this.get("view.width")||0;if(0===e)return e;const t=this._getViewPadding(),i=t.left+t.right;return Math.max(e-i,0)}add(e,t){let i,r;if(Array.isArray(e))return void e.forEach((e=>this.add(e,t)));const n=qt(e);n&&({index:i,position:t,component:e,key:r}=n),t&&"object"==typeof t&&({index:i,key:r,position:t}=t),!e||t&&!this._isValidPosition(t)||this._add(e,t,i,r)}remove(e,t){if(!e)return;if(Array.isArray(e))return e.map((e=>this.remove(e,t)));const i=this._find(e);if(i){const r=this._componentToKey;if(r.has(e)&&r.get(e)!==t)return;const n=this._components.indexOf(i);return i.node.parentNode&&i.node.parentNode.removeChild(i.node),this._componentToKey.delete(e),this._components.splice(n,1)[0]}}empty(e){return Array.isArray(e)?e.map((e=>this.empty(e))).reduce(((e,t)=>e.concat(t))):"manual"===(e=e||"manual")?Array.prototype.slice.call(this._manualContainer.children).filter((e=>!e.classList.contains(Ht))).map((e=>this.remove(e))):this._isValidPosition(e)?Array.prototype.slice.call(this._cornerNameToContainerLookup[e].children).map(this.remove,this):null}move(e,t){if(Array.isArray(e)&&e.forEach((e=>this.move(e,t))),!e)return;let i;const r=qt(e)||qt(t);if(r&&(i=r.index,t=r.position,e=r.component||e),t&&!this._isValidPosition(t))return;const n=this.remove(e);n&&this.add(n,{position:t,index:i})}find(e){if(!e)return null;const t=this._findById(e);return t&&(t.widget||t.node)}_add(e,t,i,r){e instanceof Bt||(e=new Bt({node:e})),this._place({component:e,position:t,index:i}),this._components.push(e),r&&this._componentToKey.set(e,r)}_find(e){return e?e instanceof Bt?this._findByComponent(e):"string"==typeof e?this._findById(e):this._findByNode(e.domNode||e):null}_getViewPadding(){return this.get("view.padding")||Ut}_attachContainers(e){e.appendChild(this._innerContainer),e.appendChild(this._manualContainer)}_initContainers(){const e=document.createElement("div");e.classList.add(Wt),e.classList.add("esri-ui-corner-container");const t=document.createElement("div");t.classList.add(Wt),t.classList.add("esri-ui-manual-container");const i=document.createElement("div");i.classList.add("esri-ui-top-left"),i.classList.add(Ht),e.appendChild(i);const r=document.createElement("div");r.classList.add("esri-ui-top-right"),r.classList.add(Ht),e.appendChild(r);const n=document.createElement("div");n.classList.add("esri-ui-bottom-left"),n.classList.add(Ht),e.appendChild(n);const s=document.createElement("div");s.classList.add("esri-ui-bottom-right"),s.classList.add(Ht),e.appendChild(s),this._innerContainer=e,this._manualContainer=t;const o=(0,Vt.dZ)();this._cornerNameToContainerLookup={"top-left":i,"top-right":r,"bottom-left":n,"bottom-right":s,"top-leading":o?r:i,"top-trailing":o?i:r,"bottom-leading":o?s:n,"bottom-trailing":o?n:s},this._positionNameToContainerLookup={manual:t,...this._cornerNameToContainerLookup}}_isValidPosition(e){return!!this._positionNameToContainerLookup[e]}_place(e){const t=e.component,i=e.position||"manual",r=e.index,n=this._positionNameToContainerLookup[i],s=r>-1;let o,a,l;var c;(c=t.widget)&&!c._started&&"function"==typeof c.postMixInProperties&&"function"==typeof c.buildRendering&&"function"==typeof c.postCreate&&"function"==typeof c.startup&&t.widget.startup(),s?(o=Array.prototype.slice.call(n.children),a=0===r,a?n.firstChild?(0,zt.Vt)(t.node,n.firstChild):n.appendChild(t.node):(l=r>=o.length,l?n.appendChild(t.node):(0,zt.Vt)(t.node,o[r]))):n.appendChild(t.node)}_applyViewPadding(){const e=this.container;e&&$t(e,this._toPxPosition(this._getViewPadding()))}_applyUIPadding(){const e=this._innerContainer;e&&$t(e,this._toPxPosition(this.padding))}_toPxPosition(e){return{top:this._toPxUnit(e.top),left:this._toPxUnit(e.left),right:this._toPxUnit(e.right),bottom:this._toPxUnit(e.bottom)}}_toPxUnit(e){return 0===e?"0":e+"px"}_findByComponent(e){let t,i=null;return this._components.some((r=>(t=r===e,t&&(i=r),t))),i}_findById(e){let t,i=null;return this._components.some((r=>(t=r.id===e,t&&(i=r),t))),i}_findByNode(e){let t,i=null;return this._components.some((r=>(t=r.node===e,t&&(i=r),t))),i}};(0,r._)([(0,a.Cb)()],Jt.prototype,"container",null),(0,r._)([(0,a.Cb)({dependsOn:["view.height"]})],Jt.prototype,"height",null),(0,r._)([(0,a.Cb)({value:Gt})],Jt.prototype,"padding",null),(0,r._)([(0,Dt.p)("padding")],Jt.prototype,"castPadding",null),(0,r._)([(0,a.Cb)()],Jt.prototype,"view",void 0),(0,r._)([(0,a.Cb)({dependsOn:["view.width"]})],Jt.prototype,"width",null),Jt=(0,r._)([(0,l.j)("esri.views.ui.UI")],Jt);const Yt=Jt;var Kt=i(51894),Xt=i(24258),Qt=i(9200),ei=i(90846),ti=i(19401),ii=i(90806),ri=i(59351),ni=i(77204);function si(e,t,i){i&&t&&(e.find((e=>e.layerView===t&&e.text===i))||e.push({text:i,layerView:t}))}const oi=[];let ai=class extends ni.r{constructor(e){super(e),this.clear=()=>{this._fetchedAttributionData.clear(),this._pendingAttributions.clear(),this.handles.remove("suspension"),this.notifyChange("state")},this._pendingAttributions=new Set,this._fetchedAttributionData=new Map,this.items=new d.Z,this.view=null,this._allLayerViewsChange=e=>{this.handles.remove("suspension");const t=this.get("view.allLayerViews");t&&this.handles.add(t.map((e=>e.watch(["suspended","attributionVisible"],this._updateAttributionItems))),"suspension"),e&&e.removed&&e.removed.forEach((e=>{this._pendingAttributions.delete(e),this._fetchedAttributionData.delete(e)})),this._updateAttributionItems()},this._updateAttributionItems=()=>{const e=this.get("view.allLayerViews");var t,i;oi.length=0,e?(e.forEach((e=>{if(e.suspended||!e.get("layer.attributionVisible"))return;const t=e.layer;if(function(e){return e&&"copyright"in e&&"function"==typeof e.originOf&&"user"===e.originOf("copyright")}(t))return void si(oi,e,t.copyright);if(t.hasAttributionData){if(this._fetchedAttributionData.has(e)){const i=this._fetchedAttributionData.get(e);return void(i&&si(oi,e,this._getDynamicAttribution(i,this.view,t)))}return void this._fetchAttributionData(e)}const i=t.get("portalItem.accessInformation");si(oi,e,i||t.copyright)})),t=this.items,i=oi,(t.length!==i.length||t.some(((e,t)=>e.text!==i[t].text)))&&(this.items.removeAll(),this.items.addMany(oi)),oi.length=0,this.notifyChange("state")):this.clear()},this.handles.add([(0,f.on)(this,"view.allLayerViews","change",this._allLayerViewsChange,this._allLayerViewsChange,this.clear),(0,f.whenTrue)(this,"view.stationary",(()=>this._updateAttributionItems()))])}destroy(){this.view=null,this._fetchedAttributionData.clear(),this._pendingAttributions.clear(),this.items.removeAll()}get state(){return this.get("view.ready")?this._pendingAttributions.size>0?"loading":"ready":"disabled"}async _fetchAttributionData(e){if(this._pendingAttributions.has(e))return;this._pendingAttributions.add(e);const t=await(0,ri.q6)(e.layer.fetchAttributionData());if(this._pendingAttributions.has(e)){const i=t.ok?this._createContributionIndex(t.value,"bing-maps"===e.layer.type):null;this._pendingAttributions.delete(e),this._fetchedAttributionData.set(e,i)}this._updateAttributionItems()}_createContributionIndex(e,t){const i=e.contributors,r={};if(!i)return r;for(let e=0;e<i.length;e++){const n=i[e],s=n.coverageAreas;if(!s)return;for(const i of s){const s=i.bbox,o=i.zoomMin-(t&&i.zoomMin?1:0),a=i.zoomMax-(t&&i.zoomMax?1:0),l={xmin:s[1],ymin:s[0],xmax:s[3],ymax:s[2],spatialReference:T.Z.WGS84},c={extent:(0,k.$)(l),attribution:n.attribution||"",score:null!=i.score?i.score:100,id:e};for(let e=o;e<=a;e++)r[e]=r[e]||[],r[e].push(c)}}return r.maxKey=Math.max.apply(null,Object.keys(r)),r}_getDynamicAttribution(e,t,i){const{extent:r,scale:n}=t;let s=i.tileInfo.scaleToZoom(n);if(s=Math.min(e.maxKey,Math.round(s)),!r||null==s||s<=-1)return"";const o=e[s],a=(0,k.iV)(r.center.clone().normalize(),t.spatialReference),l={};return o?o.filter((e=>{const t=!l[e.id]&&a&&(0,ie.aV)(e.extent,a);return t&&(l[e.id]=!0),t})).sort(((e,t)=>t.score-e.score||e.objectId-t.objectId)).map((e=>e.attribution)).join(", "):""}};(0,r._)([(0,a.Cb)({readOnly:!0,type:d.Z})],ai.prototype,"items",void 0),(0,r._)([(0,a.Cb)({dependsOn:["view.ready"],readOnly:!0})],ai.prototype,"state",null),(0,r._)([(0,a.Cb)()],ai.prototype,"view",void 0),ai=(0,r._)([(0,l.j)("esri.widgets.Attribution.AttributionViewModel")],ai);const li=ai;let ci=class extends ii.default{constructor(e,t){super(e,t),this._isOpen=!1,this._attributionTextOverflowed=!1,this._prevSourceNodeHeight=0,this.iconClass="esri-icon-description",this.itemDelimiter=" | ",this.label=void 0,this.messages=null,this.view=null,this.viewModel=new li}initialize(){this.own((0,f.on)(this,"viewModel.items","change",(()=>this.scheduleRender())))}get attributionText(){return this.viewModel.items.reduce(((e,t)=>(-1===e.indexOf(t.text)&&e.push(t.text),e)),[]).join(this.itemDelimiter)}render(){const e={"esri-attribution--open":this._isOpen};return(0,ti.j)("div",{bind:this,class:this.classes("esri-attribution esri-widget",e),onclick:this._toggleState,onkeydown:this._toggleState},this.renderSourcesNode(),this.renderPoweredBy())}renderPoweredBy(){return(0,ti.j)("div",{class:"esri-attribution__powered-by"},"Powered by"," ",(0,ti.j)("a",{class:this.classes("esri-attribution__link","esri-widget__anchor"),href:"http://www.esri.com/",target:"_blank",rel:"noreferrer"},"Esri"))}renderSourcesNode(){const e=this._isOpen,t=this._isInteractive(),i=t?0:-1,{attributionText:r}=this,n=t?"button":void 0,s={"esri-attribution__sources--open":e,"esri-interactive":t};return(0,ti.j)("div",{afterCreate:this._afterSourcesNodeCreate,afterUpdate:this._afterSourcesNodeUpdate,bind:this,class:this.classes("esri-attribution__sources",s),innerHTML:r,role:n,tabIndex:i})}_afterSourcesNodeCreate(e){this._prevSourceNodeHeight=e.clientWidth}_afterSourcesNodeUpdate(e){let t=!1;const{clientHeight:i,clientWidth:r,scrollWidth:n}=e,s=n>=r,o=this._attributionTextOverflowed!==s;if(this._attributionTextOverflowed=s,o&&(t=!0),this._isOpen){const e=i<this._prevSourceNodeHeight;this._prevSourceNodeHeight=i,e&&(this._isOpen=!1,t=!0)}t&&this.scheduleRender()}_toggleState(){this._isInteractive()&&(this._isOpen=!this._isOpen)}_isInteractive(){return this._isOpen||this._attributionTextOverflowed}};(0,r._)([(0,a.Cb)({dependsOn:["viewModel.items.length","itemDelimiter"],readOnly:!0,autoTracked:!1}),(0,ei.G)()],ci.prototype,"attributionText",null),(0,r._)([(0,a.Cb)()],ci.prototype,"iconClass",void 0),(0,r._)([(0,a.Cb)(),(0,ei.G)()],ci.prototype,"itemDelimiter",void 0),(0,r._)([(0,a.Cb)({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],ci.prototype,"label",void 0),(0,r._)([(0,a.Cb)(),(0,ei.G)(),(0,Qt.H)("esri/widgets/Attribution/t9n/Attribution")],ci.prototype,"messages",void 0),(0,r._)([(0,Kt.B)("viewModel.view")],ci.prototype,"view",void 0),(0,r._)([(0,a.Cb)({type:li}),(0,ei.G)(["state","view.size"])],ci.prototype,"viewModel",void 0),(0,r._)([(0,Xt.h)()],ci.prototype,"_toggleState",null),ci=(0,r._)([(0,l.j)("esri.widgets.Attribution")],ci);const hi=ci;var di=i(88355);let ui=class extends V.default{constructor(e){super(e),this._handles=new w.Z,this.navigationMode="pan",this.view=null}initialize(){this._handles.add((0,f.when)(this,"view.inputManager",this._setNavigationMode.bind(this)))}destroy(){this._handles.destroy(),this._handles=null,this.view=null}get state(){return this.get("view.ready")&&"3d"===this.view.type?"ready":"disabled"}toggle(){"disabled"!==this.state&&(this.navigationMode="pan"!==this.navigationMode?"pan":"rotate",this._setNavigationMode())}_setNavigationMode(){this.get("view.inputManager").primaryDragAction="pan"===this.navigationMode?"pan":"rotate"}};(0,r._)([(0,a.Cb)({dependsOn:["view.ready"],readOnly:!0})],ui.prototype,"state",null),(0,r._)([(0,a.Cb)()],ui.prototype,"navigationMode",void 0),(0,r._)([(0,a.Cb)()],ui.prototype,"view",void 0),ui=(0,r._)([(0,l.j)("esri.widgets.NavigationToggleViewModel")],ui);const pi=ui,fi="esri-navigation-toggle__button esri-widget--button",mi="esri-navigation-toggle__button--active";let _i=class extends ii.default{constructor(e,t){super(e,t),this.iconClass="esri-icon-pan2",this.label=void 0,this.messages=null,this.view=null,this.viewModel=new pi}set layout(e){"horizontal"!==e&&(e="vertical"),this._set("layout",e)}toggle(){return this.viewModel.toggle()}render(){const e="disabled"===this.get("viewModel.state"),t="pan"===this.get("viewModel.navigationMode"),i={"esri-disabled":e,"esri-navigation-toggle--horizontal":"horizontal"===this.layout},r={[mi]:t},n={[mi]:!t},s=e?-1:0,o=this.messages.toggle;return(0,ti.j)("div",{bind:this,class:this.classes("esri-navigation-toggle esri-widget",i),onclick:this._toggle,onkeydown:this._toggle,tabIndex:s,"aria-label":o,title:o},(0,ti.j)("div",{class:this.classes(fi,"esri-navigation-toggle__button--pan",r)},(0,ti.j)("span",{class:"esri-icon-pan"})),(0,ti.j)("div",{class:this.classes(fi,"esri-navigation-toggle__button--rotate",n)},(0,ti.j)("span",{class:"esri-icon-rotate"})))}_toggle(){this.toggle()}};(0,r._)([(0,a.Cb)()],_i.prototype,"iconClass",void 0),(0,r._)([(0,a.Cb)({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],_i.prototype,"label",void 0),(0,r._)([(0,a.Cb)({value:"vertical"}),(0,ei.G)()],_i.prototype,"layout",null),(0,r._)([(0,a.Cb)(),(0,ei.G)(),(0,Qt.H)("esri/widgets/NavigationToggle/t9n/NavigationToggle")],_i.prototype,"messages",void 0),(0,r._)([(0,Kt.B)("viewModel.view"),(0,ei.G)()],_i.prototype,"view",void 0),(0,r._)([(0,a.Cb)({type:pi}),(0,ei.G)(["viewModel.state","viewModel.navigationMode"])],_i.prototype,"viewModel",void 0),(0,r._)([(0,Xt.h)()],_i.prototype,"_toggle",null),_i=(0,r._)([(0,l.j)("esri.widgets.NavigationToggle")],_i);const gi=_i;let yi=class extends ii.default{constructor(){super(...arguments),this.enabled=!0,this.iconClass="",this.title=""}render(){const e=this.enabled?0:-1,t={"esri-disabled":!this.enabled,"esri-interactive":this.enabled},i={[this.iconClass]:!!this.iconClass};return(0,ti.j)("div",{bind:this,class:this.classes("esri-widget--button esri-widget",t),onclick:this._triggerAction,onkeydown:this._triggerAction,role:"button",tabIndex:e,title:this.title},(0,ti.j)("span",{"aria-hidden":"true",role:"presentation",class:this.classes("esri-icon",i)}),(0,ti.j)("span",{class:"esri-icon-font-fallback-text"},this.title))}_triggerAction(){this.action.call(this)}};(0,r._)([(0,a.Cb)()],yi.prototype,"action",void 0),(0,r._)([(0,a.Cb)(),(0,ei.G)()],yi.prototype,"enabled",void 0),(0,r._)([(0,a.Cb)(),(0,ei.G)()],yi.prototype,"iconClass",void 0),(0,r._)([(0,a.Cb)(),(0,ei.G)()],yi.prototype,"title",void 0),(0,r._)([(0,Xt.h)()],yi.prototype,"_triggerAction",null),yi=(0,r._)([(0,l.j)("esri.widgets.IconButton")],yi);const vi=yi;let bi=class extends V.default{get canZoomIn(){if(!this.get("view.ready"))return!1;const e=this.get("view.animation.target.scale")||this.get("view.scale"),t=this.get("view.constraints.effectiveMaxScale");return 0===t||e>t}get canZoomOut(){if(!this.get("view.ready"))return!1;const e=this.get("view.animation.target.scale")||this.get("view.scale"),t=this.get("view.constraints.effectiveMinScale");return 0===t||e<t}};(0,r._)([(0,a.Cb)({dependsOn:["view.ready","view.scale","view.animation.target.scale","view.constraints.effectiveMaxScale"],readOnly:!0})],bi.prototype,"canZoomIn",null),(0,r._)([(0,a.Cb)({dependsOn:["view.ready","view.scale","view.animation.target.scale","view.constraints.effectiveMinScale"],readOnly:!0})],bi.prototype,"canZoomOut",null),(0,r._)([(0,a.Cb)()],bi.prototype,"view",void 0),bi=(0,r._)([(0,l.j)("esri.widgets.Zoom.ZoomConditions2D")],bi);const wi=bi;let xi=class extends V.default{get canZoomIn(){return!!this.get("view.ready")}get canZoomOut(){return!!this.get("view.ready")}};(0,r._)([(0,a.Cb)({dependsOn:["view.ready"],readOnly:!0})],xi.prototype,"canZoomIn",null),(0,r._)([(0,a.Cb)({dependsOn:["view.ready"],readOnly:!0})],xi.prototype,"canZoomOut",null),(0,r._)([(0,a.Cb)()],xi.prototype,"view",void 0),xi=(0,r._)([(0,l.j)("esri.widgets.Zoom.ZoomConditions3D")],xi);const Ci=xi;let Si=class extends V.default{constructor(e){super(e),this.canZoomIn=!1,this.canZoomOut=!1}destroy(){this.view=null}get state(){return this.get("view.ready")?"ready":"disabled"}set view(e){e?"2d"===e.type?this._zoomConditions=new wi({view:e}):"3d"===e.type&&(this._zoomConditions=new Ci({view:e})):this._zoomConditions=null,this._set("view",e)}zoomIn(){if(!this.canZoomIn)return;const e=this.view;"2d"===e.type?e.mapViewNavigation.zoomIn():(0,h.ignoreAbortErrors)(e.goTo({zoomFactor:2}))}zoomOut(){if(!this.canZoomOut)return;const e=this.view;"2d"===e.type?e.mapViewNavigation.zoomOut():(0,h.ignoreAbortErrors)(e.goTo({zoomFactor:.5}))}};(0,r._)([(0,a.Cb)()],Si.prototype,"_zoomConditions",void 0),(0,r._)([(0,a.Cb)({aliasOf:"_zoomConditions.canZoomIn",readOnly:!0})],Si.prototype,"canZoomIn",void 0),(0,r._)([(0,a.Cb)({aliasOf:"_zoomConditions.canZoomOut",readOnly:!0})],Si.prototype,"canZoomOut",void 0),(0,r._)([(0,a.Cb)({dependsOn:["view.ready"],readOnly:!0})],Si.prototype,"state",null),(0,r._)([(0,a.Cb)()],Si.prototype,"view",null),Si=(0,r._)([(0,l.j)("esri.widgets.Zoom.ZoomViewModel")],Si);const Ai=Si;let Ti=class extends ii.default{constructor(e,t){super(e,t),this.iconClass="esri-icon-zoom-in-magnifying-glass",this.label=void 0,this.messages=null,this.view=null,this.viewModel=new Ai}initialize(){this._zoomInButton=new vi({action:this.zoomIn.bind(this),iconClass:"esri-icon-plus"}),this._zoomOutButton=new vi({action:this.zoomOut.bind(this),iconClass:"esri-icon-minus"})}destroy(){this._zoomInButton.destroy(),this._zoomOutButton.destroy(),this._zoomInButton=null,this._zoomOutButton=null}set layout(e){"horizontal"!==e&&(e="vertical"),this._set("layout",e)}render(){const e=this.viewModel,t={"esri-zoom--horizontal":"horizontal"===this.layout};return this._zoomInButton.enabled="ready"===e.state&&e.canZoomIn,this._zoomOutButton.enabled="ready"===e.state&&e.canZoomOut,this._zoomInButton.title=this.messages.zoomIn,this._zoomOutButton.title=this.messages.zoomOut,(0,ti.j)("div",{class:this.classes("esri-zoom esri-widget",t)},this._zoomInButton.render(),this._zoomOutButton.render())}zoomIn(){return this.viewModel.zoomIn()}zoomOut(){return this.viewModel.zoomOut()}};(0,r._)([(0,a.Cb)()],Ti.prototype,"iconClass",void 0),(0,r._)([(0,a.Cb)({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],Ti.prototype,"label",void 0),(0,r._)([(0,a.Cb)({value:"vertical"}),(0,ei.G)()],Ti.prototype,"layout",null),(0,r._)([(0,a.Cb)(),(0,ei.G)(),(0,Qt.H)("esri/widgets/Zoom/t9n/Zoom")],Ti.prototype,"messages",void 0),(0,r._)([(0,Kt.B)("viewModel.view"),(0,ei.G)()],Ti.prototype,"view",void 0),(0,r._)([(0,a.Cb)({type:Ai}),(0,ei.G)(["viewModel.canZoomIn","viewModel.canZoomOut","viewModel.state"])],Ti.prototype,"viewModel",void 0),Ti=(0,r._)([(0,l.j)("esri.widgets.Zoom")],Ti);const ki=Ti;o.Z.getLogger("esri.views.ui.DefaultUI");let Oi=class extends Yt{constructor(e){super(e),this._defaultPositionLookup={attribution:"manual",compass:"top-leading","navigation-toggle":"top-leading",zoom:"top-leading"},this.components=[]}initialize(){this._handles.add([(0,f.init)(this,"components",this._componentsWatcher.bind(this)),(0,f.init)(this,"view",this._updateViewAwareWidgets.bind(this))])}_add(e,t,i,r){if("string"==typeof e&&this._defaultPositionLookup[e]){if(this._find(e))return;e=this._createComponent(e)}super._add(e,t,i,r)}_removeComponents(e){e.forEach((e=>{const t=this._find(e);t&&(this.remove(t),t.destroy())}))}_updateViewAwareWidgets(e){this.components.forEach((t=>{const i=this._find(t),r=i&&i.widget;(function(e){return e&&void 0!==e.view})(r)&&(r.view=e)}))}_componentsWatcher(e,t){this._removeComponents(t),this._addComponents(e),this._adjustPadding(e)}_adjustPadding(e){if(-1===e.indexOf("attribution")&&!this._isOverridden("padding")){const{top:e}=this.padding;this.padding=e}}_addComponents(e){this.initialized&&e.forEach((e=>this.add(this._createComponent(e),this._defaultPositionLookup[e])))}_createComponent(e){const t=this._createWidget(e);if(t)return new Bt({id:e,node:t})}_createWidget(e){return"attribution"===e?this._createAttribution():"compass"===e?this._createCompass():"navigation-toggle"===e?this._createNavigationToggle():"zoom"===e?this._createZoom():void 0}_createAttribution(){return new hi({view:this.view})}_createCompass(){return new di.default({view:this.view})}_createNavigationToggle(){return new gi({view:this.view})}_createZoom(){return new ki({view:this.view})}};(0,r._)([(0,a.Cb)()],Oi.prototype,"components",void 0),Oi=(0,r._)([(0,l.j)("esri.views.ui.DefaultUI")],Oi);const Pi=Oi;let Ii=class extends Pi{constructor(e){super(e),this.components=["attribution","zoom"]}};(0,r._)([(0,a.Cb)()],Ii.prototype,"components",void 0),Ii=(0,r._)([(0,l.j)("esri.views.ui.2d.DefaultUI2D")],Ii);const Ei=Ii,Mi=o.Z.getLogger("esri.views.MapView");let Ri,Ni,Li,Di,zi;function Fi(e,t,i){if(e)if(Array.isArray(e)||d.Z.isCollection(e)){if(0===e.length)return;e.forEach((e=>Fi(e,t,i)))}else!function(e){return e instanceof u.Z}(e)?i.add(e):t.add(e)}let ji=class extends(A((0,y.f)(Te))){constructor(e){super(e),this._magnifierView=null,this._stage=null,this._resolveWhenReady=[],this.rootLayerViews=new p.Z({root:this,rootCollectionNames:["basemapView.baseLayerViews","layerViews","basemapView.referenceLayerViews"],getChildrenFunction:e=>null}),this.graphicsView=null,this.highlightOptions=new Rt,this.inputManager=new Pt({view:this}),this.mapViewNavigation=null,this.supersampleScreenhotsEnabled=!0,this.ui=new Ei,this.rendering=!1,(0,_.j2)()}destroy(){this.rootLayerViews.destroy(),this.inputManager.destroy(),this._set("inputManager",null)}get background(){return this.get("map.initialViewProperties.background")||null}set background(e){void 0===e?this._clearOverride("background"):this._override("background",e)}get textureManager(){return this._stage.painter.textureManager}get navigating(){return!(!this.mapViewNavigation||!this.mapViewNavigation.interacting)}toMap(e){if((0,v.Rw)(e)){const t=(0,v.s6)(this,e);return super.toMap(t)}return super.toMap(e)}hitTest(e,t){const i=(0,v.Rw)(e)?(0,v.s6)(this,e):e;if(!this.ready||isNaN(i.x)||isNaN(i.y))return(0,h.resolve)({screenPoint:i,results:[]});const r=this.toMap(i),n=[this.graphicsView];n.push.apply(n,this.allLayerViews.toArray().reverse());const s=new Set,o=new Set,a=new Set,l=new Set;return t&&(Fi(t&&t.include,s,a),Fi(t&&t.exclude,o,l)),(0,h.all)(n.map((e=>!e||!e.hitTest||a.size>0&&!e.layer||a.size>0&&e.layer&&!a.has(e.layer)||l.size>0&&e.layer&&l.has(e.layer)?null:e.hitTest(i.x,i.y)))).then((e=>({screenPoint:i,results:e.filter((e=>null!=e&&(!(s.size>0)||s.has(e))&&(!(o.size>0)||!o.has(e)))).map((e=>({mapPoint:r,graphic:e})))})))}takeScreenshot(e){return this.ready?this._stage.takeScreenshot((0,g.uz)(e,this),this.allLayerViews):(0,h.reject)("Map view cannot be used before it is ready")}on(e,t,i,r){return this.inputManager&&this.viewEvents.on(e,t,i,r)||super.on(e,t)}hasEventListener(e){return super.hasEventListener(e)||this.viewEvents.hasHandler(e)}whenLayerView(e){return super.whenLayerView(e)}graphicChanged(e){this.graphicsView&&this.graphicsView.graphicUpdateHandler(e)}whenReady(){return(0,h.create)((e=>{this.ready?e(this):this._resolveWhenReady.push(e)}))}forceDOMReadyCycle(){this.forceReadyCycle()}validate(){let e=function(e){e={...Lt,...e};const t=(0,Nt.Z)();return t.available?e.checkMajorWebPerformanceCaveat&&t.majorPerformanceCaveat?new c.Z("webgl:major-performance-caveat-detected","Your WebGL implementation doesn't seem to support hardware accelerated rendering. Check your browser settings or if your GPU is in a blocklist."):t.supportsHighPrecisionFragment?t.supportsVertexShaderSamplers?t.supportsElementIndexUint?t.supportsStandardDerivatives?t.supportsInstancedArrays?null:new c.Z("webgl:instanced-arrays-required","WebGL support for instanced rendering is required but not supported."):new c.Z("webgl:standard-derivatives-required","WebGL support for standard derivatives is required but not supported."):new c.Z("webgl:element-index-uint-required","WebGL support for uint vertex indices is required but not supported."):new c.Z("webgl:vertex-shader-samplers-required","WebGL support for vertex shader samplers is required but not supported."):new c.Z("webgl:high-precision-fragment-required","WebGL support for high precision fragment shaders is required but not supported."):new c.Z("webgl:required","WebGL is required but not supported.")}({checkMajorWebPerformanceCaveat:!1});return(0,n.Z)("safari")&&(0,n.Z)("safari")<9&&(e=new c.Z("mapview:browser-not-supported","This browser is not supported by MapView (Safari < 9)",{type:"safari",requiredVersion:9,detectedVersion:(0,n.Z)("safari")})),(0,s.pC)(e)?(Mi.warn("#validate()",e.message),(0,h.reject)(e)):async function(){const[,{GraphicsView2D:e,LabelManager:t,MapViewNavigation:r,MagnifierView2D:n,Stage:s}]=await Promise.all([i.e(7061).then(i.bind(i,67061)),Promise.all([i.e(3956),i.e(4136),i.e(6889),i.e(7090),i.e(6785),i.e(8525),i.e(1878),i.e(3505),i.e(9334),i.e(9894)]).then(i.bind(i,49894))]);Ni=e,Li=t,Di=r,zi=n,Ri=s}()}_startup(){this.timeline.begin("MapView Startup"),super._startup(),this.graphics.owner=this;const e={disabledExtensions:this.deactivatedWebGLExtensions,debugWebGLExtensions:this.debugWebGLExtensions},t=new Ri(this.surface,{canvas:this.renderCanvas,supersampleScreenshots:this.supersampleScreenhotsEnabled,contextOptions:e,renderingOptions:this.renderingOptions,timeline:this.timeline}),i=new Ni({view:this,graphics:this.graphics,requestUpdateCallback:()=>this.requestUpdate()}),r=new Di({view:this,animationManager:this.animationManager}),n=new Li({view:this});this._magnifierView=new zi,this._magnifierView.magnifier=this.magnifier,this._stage=t,this.frameTask.graphicsView=i,this._set("graphicsView",i),this._set("mapViewNavigation",r),this._set("labelManager",n),this.handles.add([this.rootLayerViews.on("change",(()=>this._updateStageChildren())),t.on("post-render",(()=>this._set("rendering",t.renderRequested))),t.on("will-render",(()=>this._set("rendering",t.renderRequested))),t.on("webgl-error",(e=>this.fatalError=e.error)),(0,f.init)(this,"stationary",(e=>t.stationary=e),!0),(0,f.init)(this,"state.id",(()=>t.state=this.state),!0),(0,f.init)(this,"background",(e=>{t.background=e,this._magnifierView.background=e}),!0),(0,f.init)(this,"magnifier",(e=>this._magnifierView.magnifier=e),!0),(0,f.init)(this,"renderingOptions",(e=>t.renderingOptions=e),!0),(0,f.init)(this,"highlightOptions",(()=>t.highlightOptions=this.highlightOptions),!0)],"map-view"),t.state=this.state,this._updateStageChildren();const s=this._resolveWhenReady;this._resolveWhenReady=[],s.forEach((e=>e(this))),this.timeline.end("MapView Startup")}_teardown(){this.handles.remove("map-view"),this.layerViewManager.clear(),this.labelManager.destroy(),this._magnifierView.destroy(),this._stage.destroy(),this.graphicsView.destroy(),this.mapViewNavigation.destroy(),this._stage=null,this._set("graphicsView",null),this._magnifierView=null,this._set("labelManager",null),this._set("mapViewNavigation",null),this.graphics.owner=null,super._teardown()}_updateStageChildren(){this._stage.removeAllChildren(),this.rootLayerViews.forEach((e=>{this._stage.addChild(e.container)}));const e=this.graphicsView;this._stage.addChild(e.container),this._stage.addChild(this._magnifierView)}};(0,r._)([(0,a.Cb)({type:m.Z,dependsOn:["map.initialViewProperties?.background"]})],ji.prototype,"background",null),(0,r._)([(0,a.Cb)()],ji.prototype,"graphicsView",void 0),(0,r._)([(0,a.Cb)({type:Rt})],ji.prototype,"highlightOptions",void 0),(0,r._)([(0,a.Cb)({readOnly:!0})],ji.prototype,"inputManager",void 0),(0,r._)([(0,a.Cb)({readOnly:!0})],ji.prototype,"textureManager",null),(0,r._)([(0,a.Cb)({readOnly:!0})],ji.prototype,"mapViewNavigation",void 0),(0,r._)([(0,a.Cb)({dependsOn:["mapViewNavigation.interacting"],type:Boolean})],ji.prototype,"navigating",null),(0,r._)([(0,a.Cb)({type:Boolean,constructOnly:!0})],ji.prototype,"supersampleScreenhotsEnabled",void 0),(0,r._)([(0,a.Cb)({type:Ei})],ji.prototype,"ui",void 0),(0,r._)([(0,a.Cb)({readOnly:!0})],ji.prototype,"rendering",void 0),(0,r._)([(0,a.Cb)({constructOnly:!0})],ji.prototype,"renderCanvas",void 0),(0,r._)([(0,a.Cb)({constructOnly:!0})],ji.prototype,"deactivatedWebGLExtensions",void 0),(0,r._)([(0,a.Cb)({constructOnly:!0})],ji.prototype,"debugWebGLExtensions",void 0),ji=(0,r._)([(0,l.j)("esri.views.MapView")],ji);const Bi=ji},9512:(e,t,i)=>{"use strict";i.d(t,{e:()=>l});var r=i(59472),n=i(39105),s=i(74386),o=i(64345);class a{constructor(e,t){this.item=e,this.controller=t,this.promise=null}}class l{constructor(e){this._deferreds=new Map,this._controllers=new Map,this._processingItems=new Map,this._isPaused=!1,this._schedule=null,this._task=null,this.concurrency=1,e.concurrency&&(this.concurrency=e.concurrency),this._queue=new o.Z(e.peeker),this.process=e.process;const t=e.scheduler;e.task&&(0,r.pC)(t)&&(this._task=t.registerTask(e.task,(e=>this.update(e)),(()=>this.needsUpdate())))}destroy(){this.clear(),this._schedule&&(this._schedule.remove(),this._schedule=null),this._task&&(this._task.remove(),this._task=null)}get length(){return this._processingItems.size+this._queue.length}abort(e){const t=this._controllers.get(e);t&&t.abort()}clear(){this._queue.clear();const e=[];this._controllers.forEach((t=>e.push(t))),this._controllers.clear(),e.forEach((e=>e.abort())),this._processingItems.clear(),this._cancelNext()}forEach(e){this._deferreds.forEach(((t,i)=>e(i)))}get(e){const t=this._deferreds.get(e);return t?t.promise:void 0}isOngoing(e){return this._processingItems.has(e)}has(e){return this._deferreds.has(e)}pause(){this._isPaused||(this._isPaused=!0,this._cancelNext())}push(e,t){const i=this.get(e);if(i)return i;let s;const o=(0,n.createAbortController)();let a=null;t&&(a=(0,n.onAbort)(t,(()=>o.abort())));const l=()=>{c.remove(),(0,r.pC)(a)&&a.remove(),this._deferreds.delete(e),this._controllers.delete(e),this._queue.remove(e),this._processingItems.delete(e),this._scheduleNext()},c=(0,n.onAbortOrThrow)(o.signal,(()=>{const t=this._processingItems.get(e);t&&t.controller.abort(),l(),s.reject((0,n.createAbortError)())}));return s=(0,n.createDeferred)(),this._deferreds.set(e,s),this._controllers.set(e,o),s.promise.then(l,l),this._queue.push(e),this._scheduleNext(),s.promise}reset(){const e=[];this._processingItems.forEach((t=>e.push(t))),this._processingItems.clear();for(const t of e)this._queue.push(t.item),t.controller.abort();this._scheduleNext()}resume(){this._isPaused&&(this._isPaused=!1,this._scheduleNext())}takeAll(){const e=[];for(;this._queue.length;)e.push(this._queue.pop());return this.clear(),e}needsUpdate(){return!this._isPaused&&this._queue.length>0&&this._processingItems.size<this.concurrency}update(e){for(;!e.done&&this._queue.length>0&&this._processingItems.size<this.concurrency;)this._process(this._queue.pop()),e.madeProgress()}_scheduleNext(){this._task||this._isPaused||this._schedule||(this._schedule=(0,s.Os)((()=>{this._schedule=null,this._next()})))}_next(){for(;this._queue.length>0&&this._processingItems.size<this.concurrency;)this._process(this._queue.pop())}_cancelNext(){this._schedule&&(this._schedule.remove(),this._schedule=null)}_processResult(e,t){this._canProcessFulfillment(e)&&(this._scheduleNext(),this._deferreds.get(e.item).resolve(t))}_processError(e,t){this._canProcessFulfillment(e)&&(this._scheduleNext(),this._deferreds.get(e.item).reject(t))}_canProcessFulfillment(e){return!!this._deferreds.get(e.item)&&this._processingItems.get(e.item)===e}_process(e){if((0,r.Wi)(e))return;let t;const i=(0,n.createAbortController)(),s=new a(e,i);this._processingItems.set(e,s);try{t=this.process(e,i.signal)}catch(e){this._processError(s,e)}var o;(o=t)&&"function"==typeof o.then?(s.promise=t,t.then((e=>this._processResult(s,e)),(e=>this._processError(s,e)))):this._processResult(s,t)}get test(){return{update:e=>this.update(e)}}}},17288:(e,t,i)=>{"use strict";i.d(t,{r7:()=>a,gH:()=>o,TT:()=>l,$3:()=>c,uz:()=>s});i(95830);var r=i(33655);function n(e,t){const{format:i,quality:n,rotation:s,disableDecorations:o}=e||{},a=p(e,t.padding),l=function(e,t){const i={x:0,y:0,width:t.width,height:t.height};if(e&&e.area){null!=e.area.x&&(i.x=Math.floor(e.area.x)),null!=e.area.y&&(i.y=Math.floor(e.area.y));const r=null!=e.area.width?Math.floor(e.area.width):null,n=null!=e.area.height?Math.floor(e.area.height):null;if(i.width=t.width-i.x,i.height=t.height-i.y,null!=r&&null!=n)i.width=Math.min(i.width,r),i.height=Math.min(i.height,n);else if(null==r&&null!=n){const e=Math.min(i.width,r);i.height=e/i.width*i.height,i.width=e}else if(null!=r&&null==n){const e=Math.min(i.height,n);i.width=e/i.height*i.width,i.height=e}}return function(e,t){const i=Math.floor(Math.max(e.x,0)),r=Math.floor(Math.max(e.y,0)),n={x:i,y:r,width:Math.floor(Math.min(e.width,t.width-i)),height:Math.floor(Math.min(e.height,t.height-r))},s=n.width/n.height,o=e.width/e.height;if(o===s)return n;if(o>s){const e=Math.floor(n.width/o),t=n.height-e;return{x:n.x,y:Math.floor(n.y+t/2),width:n.width,height:e}}const a=Math.floor(n.height*o),l=n.width-a;return{x:Math.floor(n.x+l/2),y:n.y,width:a,height:n.height}}(function(e,t){if(!t||null==t.width||null==t.height)return e;const i=t.width/t.height,r=e.width/e.height;if(r===i)return e;if(r<i){const t=Math.floor(e.height*i);return e.x-=(t-e.width)/2,e.width=t,e}const n=Math.floor(e.width/i);return e.y-=(n-e.height)/2,e.height=n,e}(i,e),t)}(e,{width:t.width-a.left-a.right,height:t.height-a.top-a.bottom}),{width:c,height:h}=function(e,t){if(!e)return t;const i=e.width,r=e.height;if(null!=i&&null!=r)return{width:Math.floor(i),height:Math.floor(r)};if(null==i&&null==r)return t;const n=t.width/t.height;return null==r?{width:Math.floor(i),height:Math.floor(i/n)}:{width:Math.floor(r*n),height:Math.floor(r)}}(e,l),d=function(e){switch(e){case"png":case"jpg":case"jpeg":return e;case null:case void 0:default:return m}}(i),u=_[d];return{format:d,quality:(0,r.uZ)(null!=n?n:u,0,100),area:l,width:c,height:h,rotation:s,disableDecorations:!!o,ignoreBackground:!(!e||!e.ignoreBackground),ignorePadding:!(!e||!e.ignorePadding)}}function s(e,t){const i=n(e,t),r=i.area,s=i.width/r.width,o=p(i,t.padding),a=o.left+o.right,l=o.top+o.bottom,c=t.width-a,h=t.height-l,d=Math.floor(c*s+a),u=Math.floor(h*s+l),f=e&&e.layers?e.layers:[],m=i.ignoreBackground,_=i.ignorePadding;return{framebufferWidth:d,framebufferHeight:u,region:{x:Math.floor(r.x*s)+o.left,y:Math.floor(r.y*s)+o.top,width:i.width,height:i.height},format:i.format,quality:i.quality,rotation:i.rotation,pixelRatio:s,layers:f,disableDecorations:i.disableDecorations,ignoreBackground:m,ignorePadding:_}}function o(e,t,i,r){r.premultipliedAlpha&&function(e){const t=e.data,i=t.length;for(let e=0;e<i;e+=4){const i=t[e+3];if(i>0){const r=i/255;t[e+0]=t[e+0]/r,t[e+1]=t[e+1]/r,t[e+2]=t[e+2]/r}}}(e),i.width=e.width,i.height=e.height;const n=i.getContext("2d");n.putImageData(e,0,0),r.flipY&&function(e){e.save(),e.globalCompositeOperation="copy",e.scale(1,-1),e.translate(0,-e.canvas.height),e.drawImage(e.canvas,0,0),e.restore()}(n);const s=n.getImageData(0,0,e.width,e.height),o=function(e,t){const i=f[t.format],r=t.quality/100;return e.toDataURL(i,r)}(i,t);return i.width=0,i.height=0,{dataUrl:o,data:s}}function a(e,t,i){if(!e||!t)throw new Error("Cannot construct image data without dimensions");if(u)try{return new ImageData(e,t)}catch(e){u=!1}return h(e,t,i)}function l(e,t,i,r=0,n=0,s=e.width-r,o=e.height-n,a=!1){const{data:l}=e,{width:c,height:h,data:d}=t,u=s/c,p=o/h,f=Math.ceil(u/2),m=Math.ceil(p/2),_=e.width;for(let e=0;e<h;e++)for(let t=0;t<c;t++){const s=4*(t+(a?h-e-1:e)*c);let o=0,g=0,y=0,v=0,b=0,w=0;const x=(e+.5)*p;for(let s=Math.floor(e*p);s<(e+1)*p;s++){const e=Math.abs(x-(s+.5))/m,a=(t+.5)*u,c=e*e;for(let e=Math.floor(t*u);e<(t+1)*u;e++){const t=Math.abs(a-(e+.5))/f,h=Math.sqrt(c+t*t);if(h>=1)continue;let d=2*h*h*h-3*h*h+1;const u=4*(r+e+(n+s)*_);w+=d*l[u+3],g+=d,!i&&l[u+3]<255&&(d=d*l[u+3]/255),y+=d*l[u],v+=d*l[u+1],b+=d*l[u+2],o+=d}}d[s]=y/o,d[s+1]=v/o,d[s+2]=b/o,d[s+3]=w/g}return t}function c(e,t,i){if(!t)return e;const{framebufferWidth:r,framebufferHeight:n,pixelRatio:s,region:o}=e,a=p(e,i),l=a.left+a.right,c=a.top+a.bottom,h=r-l,d=n-c,u=Math.min(8,Math.min((2048-l)/h,(2048-c)/d));return u<1.5?e:{...e,framebufferWidth:Math.round(h*u)+l,framebufferHeight:Math.round(d*u)+c,pixelRatio:s*u,resample:{region:{x:Math.round((o.x-a.left)*u)+a.left,y:Math.round((o.y-a.top)*u)+a.top,width:Math.round(o.width*u),height:Math.round(o.height*u)},width:r,height:n}}}function h(e,t,i){return i||(d||(d=document.createElement("canvas"),d.width=1,d.height=1),i=d),i.getContext("2d").createImageData(e,t)}let d=null,u=!0;function p(e,t){return!t||e&&e.ignorePadding?g:t}const f={png:"image/png",jpg:"image/jpeg",jpeg:"image/jpeg"},m="png",_={png:100,jpg:98,jpeg:98},g={top:0,right:0,bottom:0,left:0}},32415:(e,t,i)=>{"use strict";i.d(t,{iC:()=>o,s9:()=>n,Br:()=>s,zS:()=>c,Ue:()=>l,Tc:()=>a,Fm:()=>d,xW:()=>h,v:()=>u,RA:()=>f,N9:()=>p});i(95830),i(5627);var r=i(8634);i(84570),i(89930);function n(e,t,i="nearest",n=!1){var s;const o=!(n&&"u8"===t.pixelType),a=o?5126:5121,l=null==t.pixels||0===t.pixels.length?null:o?t.getAsRGBAFloat():t.getAsRGBA(),c=null==(s=e.capabilities.textureFloat)?void 0:s.textureFloatLinear,h={width:t.width,height:t.height,target:3553,pixelFormat:6408,internalFormat:6408,samplingMode:!c||"bilinear"!==i&&"cubic"!==i?9728:9729,dataType:a,wrapMode:33071,flipped:!1};return new r.Z(e,h,l)}function s(e,t){const i=4*t.size[0],n=t.size[1],s={width:i,height:n,target:3553,pixelFormat:6408,internalFormat:6408,dataType:5126,samplingMode:9728,wrapMode:33071,flipped:!1},o=new Float32Array(i*n*4);let a=0;for(let e=0;e<t.coefficients.length;e++)o[a++]=t.coefficients[e],e%3==2&&(o[a++]=1);return new r.Z(e,s,o)}function o(e,t){const i={width:t.length/4,height:1,target:3553,pixelFormat:6408,internalFormat:6408,dataType:5121,samplingMode:9728,wrapMode:33071,flipped:!1};return new r.Z(e,i,t)}function a(e,t,i,r=1,n=!0,s=!1){return{u_flipY:n,u_isFloatTexture:s,u_applyTransform:!!e,u_opacity:r,u_transformSpacing:e?e.spacing:null,u_transformGridSize:e?e.size:null,u_targetImageSize:t,u_srcImageSize:i}}function l(e,t){return{u_colormapOffset:t||0,u_colormapMaxIndex:e?e.length/4-1:null}}function c(e,t){return{u_scale:e,u_offset:t}}function h(e){return{u_bandCount:e.bandCount,u_minOutput:e.outMin,u_maxOutput:e.outMax,u_minCutOff:e.minCutOff,u_maxCutOff:e.maxCutOff,u_factor:e.factor,u_useGamma:e.useGamma,u_gamma:e.gamma,u_gammaCorrection:e.gammaCorrection}}function d(e){return{u_hillshadeType:e.hillshadeType,u_sinZcosAs:e.sinZcosAs,u_sinZsinAs:e.sinZsinAs,u_cosZs:e.cosZs,u_weights:e.weights,u_factor:e.factor,u_minValue:e.minValue,u_maxValue:e.maxValue}}function u(e,t){const i=e.gl,r=t.glName,n=i.getProgramParameter(r,i.ACTIVE_UNIFORMS),s=new Map;let o;for(let e=0;e<n;e++)o=i.getActiveUniform(r,e),o&&s.set(o.name,{location:i.getUniformLocation(r,o.name),info:o});return s}function p(e,t,i){Object.keys(i).forEach((r=>{const n=t.get(r)||t.get(r+"[0]");n&&function(e,t,i,r){if(null===r||null==i)return!1;const{info:n}=r;switch(n.type){case 5126:n.size>1?e.setUniform1fv(t,i):e.setUniform1f(t,i);break;case 35664:e.setUniform2fv(t,i);break;case 35665:e.setUniform3fv(t,i);break;case 35666:e.setUniform4fv(t,i);break;case 35675:e.setUniformMatrix3fv(t,i);break;case 35676:e.setUniformMatrix4fv(t,i);break;case 5124:n.size>1?e.setUniform1iv(t,i):e.setUniform1i(t,i);break;case 35670:e.setUniform1i(t,i?1:0);break;case 35667:case 35671:e.setUniform2iv(t,i);break;case 35668:case 35672:e.setUniform3iv(t,i);break;case 35669:case 35673:e.setUniform4iv(t,i);break;default:;}}(e,r,i[r],n)}))}function f(e,t,i,r){i.length===r.length&&(r.some((e=>null==e))||i.some((e=>null==e))||i.forEach(((i,n)=>{t.setUniform1i(i,n),e.bindTexture(r[n],n)})))}},58836:(e,t,i)=>{"use strict";i.d(t,{Z:()=>c});var r,n=i(56140),s=(i(95830),i(36544),i(68055),i(79881)),o=i(87566),a=(i(10923),i(57002),i(86035),i(58385));let l=r=class extends a.wq{constructor(){super(...arguments),this.url=""}destroy(){this.url=""}clone(){return new r({url:this.url})}};(0,n._)([(0,s.Cb)({type:String,json:{write:{isRequired:!0}}})],l.prototype,"url",void 0),l=r=(0,n._)([(0,o.j)("esri.webdoc.support.Thumbnail")],l);const c=l},65892:(e,t,i)=>{"use strict";i.d(t,{Z:()=>x});var r,n=i(56140),s=(i(95830),i(82550)),o=i(59472),a=i(36544),l=i(68055),c=i(79881),h=i(60263),d=i(87765),u=i(30590),p=i(87566),f=i(32656),m=(i(10923),i(57002),i(86035),i(58385)),_=i(52937),g=i(35326),y=i(65984),v=i(58836);const b=a.Z.getLogger("esri.webmap.Bookmark");let w=r=class extends((0,g.I)(m.wq)){constructor(e){super(e),this.name=null,this.thumbnail=new v.Z}set extent(e){(0,d.Mr)(b,"extent",{replacement:"viewpoint",version:"4.17"}),this._set("viewpoint",new y.Z({targetGeometry:e.clone()})),this._set("extent",e)}castThumbnail(e){return"string"==typeof e?new v.Z({url:e}):(0,l.se)(v.Z,e)}set viewpoint(e){const t=e.targetGeometry;if((0,o.Wi)(t)||"extent"!==t.type){const t=new f.Z("invalid-viewpoint","'viewpoint.targetGeometry' should be an extent",{viewpoint:e});b.error(t)}else this._set("extent",t.clone()),this._set("viewpoint",e)}readViewpoint(e,t){const{extent:i,viewpoint:r}=t;return y.Z.fromJSON(r||{targetGeometry:i})}clone(){return new r((0,s.d9)({name:this.name,thumbnail:this.thumbnail,viewpoint:this.viewpoint}))}};(0,n._)([(0,c.Cb)({type:_.Z,nonNullable:!0,json:{read:!1,write:{isRequired:!0}}})],w.prototype,"extent",null),(0,n._)([(0,c.Cb)({type:String,nonNullable:!0,json:{write:{isRequired:!0}}})],w.prototype,"name",void 0),(0,n._)([(0,c.Cb)({type:v.Z,json:{write:{overridePolicy:e=>({enabled:!(!e||!e.url)})}}})],w.prototype,"thumbnail",void 0),(0,n._)([(0,h.p)("thumbnail")],w.prototype,"castThumbnail",null),(0,n._)([(0,c.Cb)({type:y.Z,nonNullable:!0,json:{write:!0}})],w.prototype,"viewpoint",null),(0,n._)([(0,u.r)("viewpoint",["extent","viewpoint"])],w.prototype,"readViewpoint",null),w=r=(0,n._)([(0,p.j)("esri.webmap.Bookmark")],w);const x=w},29155:(e,t,i)=>{"use strict";i.d(t,{Z:()=>d});var r,n=i(56140),s=(i(95830),i(82550)),o=(i(36544),i(68055),i(79881)),a=i(87566),l=(i(10923),i(57002),i(86035),i(58385)),c=i(78745);let h=r=class extends l.wq{constructor(e){super(e),this.color=new c.default([0,0,0,1])}clone(){return new r((0,s.d9)({color:this.color}))}};(0,n._)([(0,o.Cb)({type:c.default,json:{write:!0}})],h.prototype,"color",void 0),h=r=(0,n._)([(0,a.j)("esri.webmap.background.ColorBackground")],h);const d=h},99899:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>Ae});var r=i(56140),n=(i(95830),i(36544)),s=(i(68055),i(79881)),o=i(51894),a=i(87566),l=(i(10923),i(57002),i(86035),i(12973)),c=i(59691),h=i(80621),d=(i(40450),i(24258)),u=i(9200),p=i(90846),f=i(19401),m=i(90806),_=i(60263),g=i(39105),y=i(83477),v=i(809),b=i(80882),w=i(94588),x=i(32656);var C=i(27780),S=i(73032),A=i(52937),T=(i(36348),i(33655)),k=i(93533),O=i(50897),P=i(17333),I=i(40920);const E=P.IU.x2lon,M=P.IU.y2lat;class R{constructor(e){const t=R.checkUnsupported(e);if(t)throw t;this.spatialReference=e.spatialReference,this._isWebMercator=this.spatialReference.isWebMercator,this._isGCS=(0,P.jF)(this.spatialReference)||(0,C.BZ)(this.spatialReference)||(0,C.V2)(this.spatialReference),this.origin=[e.origin.x,e.origin.y],this.pixelSize=e.size[0],this.dpi=e.dpi;const i=e.lods.reduce((function(e,t,i){return t.level<e.min&&(e.min=t.level,e.minIndex=i),e.max=Math.max(e.max,t.level),e}),{min:1/0,minIndex:0,max:-1/0}),r=e.lods[i.minIndex],n=Math.pow(2,r.level);let s=r.resolution*n,o=r.scale*n;this.levels=new Array(i.max+1);for(let t=0;t<this.levels.length;t++)this.levels[t]={resolution:s,scale:o,tileSize:[s*e.size[0],s*e.size[1]]},s/=2,o/=2}clone(){return new R(this.toTileInfo())}toTileInfo(){return new I.Z({dpi:this.dpi,origin:{x:this.origin[0],y:this.origin[1],spatialReference:this.spatialReference},size:[this.pixelSize,this.pixelSize],spatialReference:this.spatialReference,lods:this.levels.map(((e,t)=>({level:t,scale:e.scale,resolution:e.resolution})))})}getExtent(e,t,i,r){const n=this.levels[e],s=n.tileSize[0],o=n.tileSize[1];r[0]=this.origin[0]+i*s,r[2]=r[0]+s,r[3]=this.origin[1]-t*o,r[1]=r[3]-o}convertExtentToRadians(e,t){this._isWebMercator?(t[0]=E(e[0]),t[1]=M(e[1]),t[2]=E(e[2]),t[3]=M(e[3])):this._isGCS&&(t[0]=(0,T.Vl)(e[0]),t[1]=(0,T.Vl)(e[1]),t[2]=(0,T.Vl)(e[2]),t[3]=(0,T.Vl)(e[3]))}getExtentGeometry(e,t,i,r=new A.Z){return this.getExtent(e,t,i,N),r.spatialReference=this.spatialReference,r.xmin=N[0],r.ymin=N[1],r.xmax=N[2],r.ymax=N[3],r.zmin=void 0,r.zmax=void 0,r}ensureMaxLod(e){if(null==e)return!1;let t=!1;for(;this.levels.length<=e;){const e=this.levels[this.levels.length-1],i=e.resolution/2;this.levels.push({resolution:i,scale:e.scale/2,tileSize:[i*this.pixelSize,i*this.pixelSize]}),t=!0}return t}capMaxLod(e){this.levels.length>e+1&&(this.levels.length=e+1)}getMaxLod(){return this.levels.length-1}scaleAtLevel(e){return this.levels[0].scale/Math.pow(2,e)}levelAtScale(e){const t=this.levels[0].scale;return e>=t?0:Math.log(t/e)*Math.LOG2E}resolutionAtLevel(e){return this.levels[0].resolution/Math.pow(2,e)}compatibleWith(e){if(!(e instanceof R)){if(R.checkUnsupported(e))return!1;e=new R(e)}if(!e.spatialReference.equals(this.spatialReference))return!1;if(e.pixelSize!==this.pixelSize)return!1;const t=Math.min(this.levels.length,e.levels.length)-1,i=this.levels[t].resolution;let r=.5*i;return!(!(0,T.W8)(e.origin[0],this.origin[0],r)||!(0,T.W8)(e.origin[1],this.origin[1],r))&&(r=.5*i/Math.pow(2,t)/this.pixelSize*12,(0,T.W8)(i,e.levels[t].resolution,r))}rootTilesInExtent(e,t,i){const r=this.levels[0].tileSize;if(0===r[0]||0===r[1])return[];R.computeRowColExtent(e,r,this.origin,N);let n=N[1],s=N[3],o=N[0],a=N[2];const l=a-o,c=s-n;if(l*c>i){const e=Math.floor(Math.sqrt(i));c>e&&(n=n+Math.floor(.5*c)-Math.floor(.5*e),s=n+e),l>e&&(o=o+Math.floor(.5*l)-Math.floor(.5*e),a=o+e)}const h=[];for(let e=n;e<s;e++)for(let t=o;t<a;t++)h.push([0,e,t]);return t&&(t[0]=this.origin[0]+o*r[0],t[1]=this.origin[1]-s*r[1],t[2]=this.origin[0]+a*r[0],t[3]=this.origin[1]-n*r[1]),h}static computeRowColExtent(e,t,i,r){const n=.001*(e[2]-e[0]+(e[3]-e[1]));r[0]=Math.max(0,Math.floor((e[0]+n-i[0])/t[0])),r[2]=Math.max(0,Math.ceil((e[2]-n-i[0])/t[0])),r[1]=Math.max(0,Math.floor((i[1]-e[3]+n)/t[1])),r[3]=Math.max(0,Math.ceil((i[1]-e[1]-n)/t[1]))}static isPowerOfTwo(e){const t=e.lods,i=t[0].resolution*Math.pow(2,t[0].level);return!t.some((function(e){return!(0,T.Y8)(e.resolution,i/Math.pow(2,e.level))}))}static hasGapInLevels(e){const t=e.lods.map((function(e){return e.level}));t.sort((function(e,t){return e-t}));for(let e=1;e<t.length;e++)if(t[e]!==t[0]+e)return!0;return!1}static tileSizeSupported(e){const t=e.size[1];return t===e.size[0]&&0==(t&t-1)&&t>=128&&t<=512}static checkUnsupported(e){return e?e.lods.length<1?new x.Z("tilingscheme:generic","Tiling scheme must have at least one level"):R.isPowerOfTwo(e)?R.hasGapInLevels(e)?new x.Z("tilingscheme:gaps","Tiling scheme levels must not have gaps between min and max level"):R.tileSizeSupported(e)?null:new x.Z("tilingscheme:tile-size","Tiles must be square and size must be one of [128, 256, 512]"):new x.Z("tilingscheme:power-of-two","Tiling scheme must be power of two"):new x.Z("tilingscheme:tile-info-missing","Tiling scheme must have tiling information")}static fromExtent(e,t){const i=e[2]-e[0],r=e[3]-e[1],n=(0,k.c9)(t),s=1.2*Math.max(i,r),o=256,a=new R(new I.Z({size:[o,o],origin:{x:e[0]-.5*(s-i),y:e[3]+.5*(s-r)},lods:[{level:0,resolution:s/o,scale:1/(o/96*.0254/(s*n))}],spatialReference:t}));return a.ensureMaxLod(20),a}static makeWebMercatorAuxiliarySphere(e){const t=new R(R.WebMercatorAuxiliarySphereTileInfo);return t.ensureMaxLod(e),t}static makeGCSWithTileSize(e,t=256,i=16){const r=256/t,n=new R(new I.Z({size:[t,t],origin:{x:-180,y:90,spatialReference:e},spatialReference:e,lods:[{level:0,resolution:.703125*r,scale:295497598.570834*r}]}));return n.ensureMaxLod(i),n}get test(){return{isWebMercator:this._isWebMercator,isGCS:this._isGCS}}}R.WebMercatorAuxiliarySphereTileInfo=new I.Z({size:[256,256],origin:{x:-20037508.342787,y:20037508.342787,spatialReference:S.Z.WebMercator},spatialReference:S.Z.WebMercator,lods:[{level:0,resolution:156543.03392800014,scale:591657527.591555}]}),R.WebMercatorAuxiliarySphere=R.makeWebMercatorAuxiliarySphere(19);const N=(0,O.Ue)(),L=R;i(87790),i(66416),i(57680);var D=i(82550),z=i(59472),F=i(19677),j=i(82677),B=i(54721),V=i(35430),U=i(56469);class G{constructor(e){this.typeWorkerQuota=e,this.tasks=new Array,this.numWorkers=0,this.statistics=new Z}}class Z{constructor(){this.requests=0,this.size=0,this.duration=0,this.speed=0}}class H{constructor(e,t,i,r){this._workerFunc=e,this._callbackFunc=t,this._maxTotalNumWorkers=i,this._totalNumWorkers=0,this._clients=r.map((e=>new G(e)))}hasQuota(e){const t=this._clients[e];return!!t&&t.typeWorkerQuota>t.numWorkers+t.tasks.length}push(e){const t=this._clients[e.client];t&&(this._totalNumWorkers<this._maxTotalNumWorkers?(t.numWorkers++,this._totalNumWorkers++,this._workerFunc(e,((e,t)=>this._taskCallback(e,t)))):t.tasks.push(e))}getStatsForType(e){const t=this._clients[e];return t?{quota:t.typeWorkerQuota,workers:t.numWorkers,queueSize:t.tasks.length,requestStats:t.statistics}:null}cancel(e){this._taskFinished(e),e._cancelled=!0}destroy(){this._clients.length=0}_taskFinished(e){const t=this._clients[e.client];this._totalNumWorkers--,t.numWorkers--,t.statistics.requests++,t.statistics.size+=e.size||0,t.statistics.duration+=e.duration||0,t.statistics.speed=t.statistics.duration>0?t.statistics.size/t.statistics.duration:0,(0,U.hu)(t.numWorkers>=0),this._next()}_next(){for(const e of this._clients)if(e&&e.numWorkers<e.typeWorkerQuota&&this._processQueue(e))return;for(const e of this._clients)if(e&&this._processQueue(e))return}_processQueue(e){for(;e.tasks.length>0;)if(this._workerFunc(e.tasks.shift(),((e,t)=>this._taskCallback(e,t))))return e.numWorkers++,this._totalNumWorkers++,!0;return!1}_taskCallback(e,t){e._cancelled||(this._callbackFunc(e,t),this._taskFinished(e))}get test(){const e=this;return{set workerFunc(t){e._workerFunc=t}}}}let W=class extends j.default{constructor(){super(...arguments),this.tasks=new Map,this.onLoadQueue=new Array,this.doneQueue=new Array,this.updating=!1}setup(e,t,i){this.loadQueue=new H(((e,t)=>this.startLoading(e,t)),((e,t)=>this.doneLoadingCallback(e,t)),e,t),i&&(this.taskHandle=i.registerTask(V.iQ.STREAM_DATA_LOADER,(e=>this.update(e)),(()=>this.doneQueue.length>0||this.onLoadQueue.length>0)))}destroy(){this.taskHandle&&(this.taskHandle.remove(),this.taskHandle=null),this.tasks.forEach((e=>{e.abortController&&e.abortController.abort()})),this.loadQueue.destroy(),this.loadQueue=null,this.onLoadQueue=null,this.doneQueue=null,this.tasks=null}hasDownloadSlots(e){return this.loadQueue.hasQuota(e)}request(e,t,i,r={}){const n=(0,g.createResolver)();n.__signal=(0,z.pC)(r)?r.signal:null;const s=this.createOrUpdateTask(e,t,i,r,n);return(0,g.onAbort)(r,(()=>this.cancelRequest(s,n))),n.promise}createTask(e,t,i,r,n,s){const o=new class extends class{constructor(e){this.client=e,this._cancelled=!1,this.size=0,this.duration=0}}{constructor(e,t,i,r,n){super(r),this.url=e,this.options=t,this.docType=i,this.key=n,this.result=null,this.status=1,this.request=null,this.abortController=null,this.resolvers=new Array,this.startTime=0}}(e,t,i,r,n);return this.updateTask(o,s),this.tasks.set(n,o),1===this.tasks.size&&this._set("updating",!0),this.loadQueue.push(o),o}cancelRequest(e,t){(0,F.e$)(e.resolvers,t),t.reject((0,g.createAbortError)()),0===e.resolvers.length&&(2===e.status&&(e.status=4,this.loadQueue.cancel(e),e.abortController.abort(),e.request=null,e.abortController=null),e.status=4,this.tasks.delete(e.key),0===this.tasks.size&&this._set("updating",!1))}taskKey(e,t,i){return`${e}:${t}:${i}`}updateTask(e,t){e.resolvers.push(t)}createOrUpdateTask(e,t,i,r,n){const s=(0,z.pC)(r)&&r.uid||e,o=this.taskKey(s,t,i),a=this.tasks.get(o);return a?(this.updateTask(a,n),a):this.createTask(e,r,t,i,o,n)}doneLoadingCallback(e,t){this.loadQueue&&((0,U.hu)(2===e.status),e.status=3,this.taskHandle?this.doneQueue.push({task:e,err:t}):this.doneLoading(e,t))}update(e){for(;!e.done&&this.onLoadQueue.length>0;){const t=this.onLoadQueue.shift();(0,g.throwIfAborted)(t.task.abortController),t.task.abortController=null,t.callback(t.task),e.madeProgress()}for(;!e.done&&this.doneQueue.length>0;){const t=this.doneQueue.shift();3!==t.task.status&&(t.err=t.err||(0,g.createAbortError)()),this.doneLoading(t.task,t.err),e.madeProgress()}}doneLoading(e,t){let i=e.result instanceof HTMLImageElement?0:e.resolvers.length;for(const r of e.resolvers)if(t)(0,g.isAbortError)(t)?r.reject(t):r.reject(new x.Z("stream-data-loader:request-error",`Failed to request resource at '${e.url}'. ${t}`,{url:e.url,error:t}));else{--i;const t=i<=0?e.result:(0,D.d9)(e.result);r.resolve(t)}this.tasks.delete(e.key),0===this.tasks.size&&this._set("updating",!1)}startLoading(e,t){if(4===e.status)return!1;let i,r;switch(e.startTime=performance.now(),e.status=2,e.docType){case"binary":r="array-buffer",i=0;break;case"image":r="image";break;case"image+type":r="array-buffer";break;default:r="json"}e.abortController=(0,g.createAbortController)();const n=e.abortController.signal;e.request=(0,B.default)(e.url,{...e.options,responseType:r,timeout:i,signal:n});let s=()=>{};const o=i=>{e.duration=performance.now()-e.startTime,e.size=i instanceof ArrayBuffer?i.byteLength:e.size||0,e.result=i,this.taskHandle?this.onLoadQueue.push({callback:t,task:e}):(e.abortController=null,t(e))},a=i=>{2===e.status&&t(e,i),s()};return"image+type"!==e.docType?(e.request.then((e=>o(e.data)),a),!0):(e.request.then((t=>{const l=t.data,c=function(e){if(e.byteLength<2)return"unknown";const t=new Uint8Array(e,0,e.byteLength);return 137===t[0]&&80===t[1]?"image/png":71===t[0]&&73===t[1]?"image/gif":66===t[0]&&77===t[1]?"image/bmp":255===t[0]&&216===t[1]?"image/jpeg":"unknown"}(l);if(r="image",e.size=l.byteLength,"unknown"===c)return e.request=(0,B.default)(e.url,{responseType:r,timeout:i,signal:n}),void e.request.then((e=>o(e.data)),a);const h=new Blob([l],{type:c}),d=window.URL.createObjectURL(h);s=()=>window.URL.revokeObjectURL(d),e.request=(0,B.default)(d,{responseType:r,timeout:i,signal:n}),e.request.then((e=>o(new q(e.data,c,s))),a)}),a),!0)}get test(){return{loadQueue:this.loadQueue}}};(0,r._)([(0,s.Cb)({readOnly:!0})],W.prototype,"updating",void 0),W=(0,r._)([(0,a.j)("esri.views.3d.support.StreamDataLoader")],W);class q{constructor(e,t,i){this.image=e,this.type=t,this.release=i}get isOpaque(){return"image/jpeg"===this.type}}i(57498),i(32415);var $=i(77625),J=i(17387);(0,T.oK)(T._3/10);const Y=(0,O.Ue)();L.WebMercatorAuxiliarySphere.getExtent(0,0,0,Y);(0,O.Ue)([-180,-90,180,90]);const K=(0,$.c)(),X=(0,$.c)(),Q=(0,$.c)(),ee=(0,$.c)();function te(e,t,i,r){(0,J.g)(K,i),K[r]=t[r];const n=(0,J.f)(K,K,t),s=(0,J.f)(X,e,t),o=(0,J.d)(s,n),a=(0,J.d)(n,n);let l;l=o<=0?t:a<=o?i:(0,J.b)(K,t,(0,J.a)(n,n,o/a));const c=(0,J.f)(K,e,l);return Math.PI/2-Math.atan(c[2]/Math.sqrt(c[0]*c[0]+c[1]*c[1]))}const ie={planar:Object.freeze({__proto__:null,isInsideExtent:function(e,t,i=0){const r=e.extent;if(0===i)return(0,O.BD)(r,t);const n=Math.min(r[2]-r[0],r[3]-r[1]);return(0,O.Zm)(r,t,i*n)},tiltOnEdge:te,tiltToExtentEdge:function(e,t){const i=e.elevationBounds,r=e.extent,n=.5*(i.min+i.max);Q[0]=r[0],Q[1]=r[1],Q[2]=n,ee[0]=r[2],ee[1]=r[3],ee[2]=n;let s=1/0,o=1/0;return t[0]<Q[0]?s=te(t,Q,ee,0):t[0]>ee[0]&&(s=te(t,ee,Q,0)),t[1]<Q[1]?o=te(t,Q,ee,1):t[1]>ee[1]&&(o=te(t,ee,Q,1)),Math.min(s,o)},checkIfTileInfoSupportedForViewSR:function(e,t,i){if(e.spatialReference.isGeographic)return new x.Z("tilingscheme:local-gcs-not-supported","Geographic coordinate systems are not supported in local scenes");const r=L.checkUnsupported(e);return r||(function(e,t){const i=e.lods,r=i[0].resolution*Math.pow(2,i[0].level),n=[r*e.size[0],r*e.size[1]],s=[e.origin.x,e.origin.y],o=(0,O.oJ)(t),a=(0,O.Ue)();L.computeRowColExtent(o,n,s,a);const l=(a[2]-a[0])*(a[3]-a[1]);if(l>64){const t=i[0].scale*Math.pow(2,i[0].level);let n=Math.max((o[3]-o[1])/e.size[1],(o[2]-o[0])/e.size[0])*t/r;const s=Math.floor(Math.log(n)/Math.log(10));return n=Math.ceil(n/Math.pow(10,s))*Math.pow(10,s),new x.Z("tilingscheme:too-many-root-tiles","Scale of level 0 of the tiling scheme (1:"+Math.floor(t).toLocaleString()+") is too large for the layer's extent. Suggested scale: 1:"+n.toLocaleString()+".",{level0Scale:t,suggestedLevel0Scale:n,requiredNumRootTiles:l,allowedNumRootTiles:64})}return null}(e,i)||(t&&!e.spatialReference.equals(t)?new x.Z("tilingscheme:spatial-reference-mismatch","The tiling scheme does not match the spatial reference of the local scene"):null))}}),spherical:Object.freeze({__proto__:null,isInsideExtent:function(){return!0},tiltToExtentEdge:function(){return 0},checkIfTileInfoSupportedForViewSR:function(e,t){const i=e.lods.length-1,r=e.spatialReference,n=(0,P.jF)(r)||(0,C.BZ)(r)||(0,C.V2)(r);if(r.isWebMercator){if(!L.makeWebMercatorAuxiliarySphere(i).compatibleWith(e))return new x.Z("tilingscheme:incompatible-global-web-mercator","The tiling scheme is not compatible with the ArcGIS Online Web Mercator tiling scheme")}else{if(!n)return new x.Z("tilingscheme:global-unsupported-spatial-reference","The tiling scheme spatial reference is not supported in global scenes");if(!L.makeGCSWithTileSize(e.spatialReference,e.size[0],i).compatibleWith(e))return e.spatialReference.isWGS84?new x.Z("tilingscheme:incompatible-global-wgs84","The tiling scheme is not compatible with the ArcGIS Online WGS84 tiling scheme"):new x.Z("tilingscheme:incompatible-global","The tiling scheme is not compatible with the ArcGIS Online tiling scheme")}if(t&&!e.spatialReference.equals(t))return new x.Z("tilingscheme:spatial-reference-mismatch","The tiling scheme does not match the spatial reference of the global scene")}})};Math.PI,Math.PI;function re(e,t,i,r){let n;return n=2===r||"planar"===r?"planar":"spherical",ie[n].checkIfTileInfoSupportedForViewSR(e,i,t)}async function ne(e,t={}){await async function(e,t){const{basemap:i,view:r}=e;if(await i.load(t),0===i.baseLayers.length)return;const n=function(e){const t=["ArcGISTiledImageServiceLayer","ArcGISTiledMapServiceLayer","OpenStreetMap","VectorTileLayer","WebTiledLayer"];return e.toArray().filter((e=>-1===t.indexOf(e.operationalLayerType))).map((e=>new x.Z("basemap-compatibility:unsupported-basemap-layer-type","Unsupported basemap layer type ${operationalLayerType}",{layer:e,operationalLayerType:e.operationalLayerType||"unknown"})))}(i.baseLayers.concat(i.referenceLayers));if(n.length)throw n[0];const s=(0,w.sM)(i.baseLayers.getItemAt(0))();try{await s.load(t)}catch(e){const t="basemap-compatibility:unknown-error",i="Unknown basemap compatibility error",{name:r=t,message:n=i,details:s}=e;throw new x.Z(r,n,s)}!function(e,t){const i=e.tileInfo;if(!i)return;const r=t.viewingMode;if(!r)return;if(!function(e,t){return null!=e&&("2d"===t||("local"===t?!e.isGeographic:e.isWebMercator||e.isWGS84||4490===e.wkid||104971===e.wkid||104905===e.wkid||104903===e.wkid))}(i.spatialReference,r))throw new x.Z(`basemapgalleryitem:spatial-reference-unsupported-${r}`,`Basemap spatial reference is unsupported in ${r} mode`);if("global"===r){let t=re(i,e.fullExtent,null,1);if(t&&e.compatibleTileInfo256&&!re(e.compatibleTileInfo256,e.fullExtent,null,1)&&(t=null),t){const e=i.spatialReference.isWebMercator?"web-mercator":"wgs84";throw new x.Z(`basemapgalleryitem:tiling-scheme-unsupported-${e}-global`,"Basemap tiling scheme is unsupported in global mode",{error:t})}}else if(L.checkUnsupported(i))throw new x.Z("basemapgalleryitem:tiling-scheme-unsupported-local","Basemap tiling scheme is unsupported in local mode");const n=t.get("basemapTerrain.tilingScheme");if(n&&!n.compatibleWith(i)&&(!e.compatibleTileInfo256||!n.compatibleWith(e.compatibleTileInfo256)))throw new x.Z("basemapgalleryitem:tiling-scheme-incompatible","Basemap tiling scheme is incompatible with the view")}(s,r)}(e,t),(0,g.throwIfAborted)(t)}async function se(e,t={}){const{basemap:i,view:r}=e;if(await i.load(t),(0,g.throwIfAborted)(t),0===i.baseLayers.length)return;const n=i.baseLayers.getItemAt(0);if(!function(e){return e&&"base-tile"===e.type||"tile"===e.type||"elevation"===e.type||"imagery-tile"===e.type||"base-elevation"===e.type||"open-street-map"===e.type||"wcs"===e.type||"web-tile"===e.type||"wmts"===e.type||"vector-tile"===e.type}(n))return;if(i.spatialReference){if(r.spatialReference.equals(i.spatialReference))return;oe()}await n.load(t),(0,g.throwIfAborted)(t);const s=(n.get("supportedSpatialReferences")||[n.get("tileInfo.spatialReference")]).filter(Boolean);0!==s.length&&s.every((e=>!r.spatialReference.equals(e)))&&oe()}function oe(){throw new x.Z("basemap-compatibility:incompatible-spatial-reference","Basemap spatial reference is not compatible with the view")}let ae=class extends j.default{constructor(e){super(e),this._handles=new c.Z,this.compatibilityFunction=null,this.error=null,this.state="loading",this.view=null}initialize(){this._handles.add((0,h.init)(this,["basemap.loadStatus","compatibilityFunction","view.basemapTerrain?.tilingScheme","view.ready","view.spatialReference"],(()=>this.refresh())))}destroy(){this._cancelCompatibilityCheck(),this._handles.destroy(),this._handles=null,this.basemap=null,this.compatibilityFunction=null,this.view=null}set basemap(e){const t=this._get("basemap");t&&t.cancelLoad(),e&&e.load().catch((()=>{})),this._set("basemap",e)}refresh(){this._cancelCompatibilityCheck(),this._set("state","loading");const e=this.get("basemap.loadStatus");if("loaded"!==e&&"failed"!==e)return;if(!this.compatibilityFunction)return void("loaded"===e?(this._set("state","ready"),this._set("error",null)):(this._set("state","error"),this._set("error",this.basemap.loadError)));const t=new AbortController,{signal:i}=t;this.compatibilityFunction(this,{signal:i}).then((()=>{this._set("state","ready"),this._set("error",null)})).catch((e=>{(0,g.isAbortError)(e)||(this._set("state","error"),this._set("error",e))})),this._lastCompatibilityCheckController=t}_cancelCompatibilityCheck(){this._lastCompatibilityCheckController&&(this._lastCompatibilityCheckController.abort(),this._lastCompatibilityCheckController=null)}};(0,r._)([(0,s.Cb)()],ae.prototype,"basemap",null),(0,r._)([(0,s.Cb)()],ae.prototype,"compatibilityFunction",void 0),(0,r._)([(0,s.Cb)({readOnly:!0})],ae.prototype,"error",void 0),(0,r._)([(0,s.Cb)({readOnly:!0})],ae.prototype,"state",void 0),(0,r._)([(0,s.Cb)()],ae.prototype,"view",void 0),ae=(0,r._)([(0,a.j)("esri.widgets.BasemapGallery.support.BasemapGalleryItem")],ae);const le=ae;var ce=i(22696);const he=y.Z.ofType(ce.default);let de=class extends j.default{constructor(e){super(e),this.basemaps=new he}get state(){return"ready"}refresh(){}};(0,r._)([(0,s.Cb)({type:he})],de.prototype,"basemaps",void 0),(0,r._)([(0,s.Cb)({readOnly:!0})],de.prototype,"state",null),de=(0,r._)([(0,a.j)("esri.widgets.BasemapGallery.support.LocalBasemapsSource")],de);const ue=de;var pe=i(75044),fe=i(32797);const me=y.Z.ofType(ce.default),_e="esri.widgets.BasemapGallery.support.PortalBasemapsSource",ge=n.Z.getLogger(_e);let ye=class extends(v.Z.LoadableMixin((0,pe.v)(ue))){constructor(e){super(e),this._handles=new c.Z,this.basemaps=new me,this.filterFunction=null,this.portal=fe.Z.getDefault(),this.query=null,this.updateBasemapsCallback=null}initialize(){this._handles.add([(0,h.init)(this,["filterFunction","loadStatus","portal.basemapGalleryGroupQuery","portal.user","query","updateBasemapsCallback"],(()=>this.refresh()))])}destroy(){this._handles.destroy(),this._handles=null,this.filterFunction=null,this.portal=null}get state(){return"not-loaded"===this.loadStatus?"not-loaded":"loading"===this.loadStatus||this._lastPortalBasemapFetchController?"loading":"ready"}load(e){return this.addResolvingPromise(this.portal.load(e)),this.notifyChange("state"),(0,g.resolve)(this)}async refresh(){if("ready"!==this.state)return;this._lastPortalBasemapFetchController&&(this._lastPortalBasemapFetchController.abort(),this._lastPortalBasemapFetchController=null);const e=this.portal,t=new AbortController;this._lastPortalBasemapFetchController=t,this.notifyChange("state");try{const i=await e.fetchBasemaps(this._toQueryString(this.query),t);this._updateBasemaps(i)}catch(e){if((0,g.isAbortError)(e))throw e;ge.warn(new x.Z("basemap-source:fetch-basemaps-error","Could not fetch basemaps from portal.",{error:e})),this._updateBasemaps()}this._lastPortalBasemapFetchController=null,this.notifyChange("state")}_toQueryString(e){return e&&"string"!=typeof e?Object.keys(e).map((t=>`${t}:${e[t]}`)).join(" AND "):e}_updateBasemaps(e=[]){let t=this.filterFunction?e.filter(this.filterFunction):e;t=this.updateBasemapsCallback?this.updateBasemapsCallback(t):t,this.basemaps.removeAll(),this.basemaps.addMany(t)}};(0,r._)([(0,s.Cb)({readOnly:!0,type:me})],ye.prototype,"basemaps",void 0),(0,r._)([(0,s.Cb)()],ye.prototype,"filterFunction",void 0),(0,r._)([(0,s.Cb)({type:fe.Z})],ye.prototype,"portal",void 0),(0,r._)([(0,s.Cb)()],ye.prototype,"query",void 0),(0,r._)([(0,s.Cb)({dependsOn:["loadStatus"],readOnly:!0})],ye.prototype,"state",null),(0,r._)([(0,s.Cb)()],ye.prototype,"updateBasemapsCallback",void 0),ye=(0,r._)([(0,a.j)(_e)],ye);const ve=ye,be=y.Z.ofType(le);let we=class extends v.Z{constructor(e){super(e),this._handles=new c.Z,this.activeBasemap=null,this.items=new be,this.source=new ve,this.view=null}initialize(){const e=()=>this._recreateItems();this._handles.add([(0,h.watch)(this,["compatibilityFunction","state"],(()=>this._updateItems())),(0,h.on)(this,"source.basemaps","change",e,e)])}destroy(){this._handles.destroy(),this._handles=null}get compatibilityFunction(){return void 0===this._get("compatibilityFunction")?"3d"===this.get("view.type")?ne:se:this._get("compatibilityFunction")}set compatibilityFunction(e){this._set("compatibilityFunction",e)}castSource(e){return Array.isArray(e)||y.Z.isCollection(e)?new ue({basemaps:e}):function(e){return e&&"esri.portal.Portal"===e.declaredClass}(e)?new ve({portal:e}):function(e){return e&&!(e instanceof ve)&&(!!e.portal||!!e.query)}(e)?new ve(e):function(e){return e&&"basemaps"in e&&"state"in e&&"refresh"in e}(e)?e:null}get state(){return this.get("view.ready")&&this.source?"ready":"disabled"}basemapEquals(e,t){return(0,b.Bj)(e,t)}refresh(){this._recreateItems()}load(e){return this.addResolvingPromise(v.Z.isLoadable(this.source)?this.source.load(e):(0,g.resolve)()),(0,g.resolve)(this)}_recreateItems(){const e=this.get("source.basemaps"),{view:t,compatibilityFunction:i}=this;this.items.removeAll().forEach((e=>e.destroy())),this.items.addMany(e.map((e=>new le({basemap:e,compatibilityFunction:i,view:t}))))}_updateItems(){this.items.forEach((e=>{e.compatibilityFunction=this.compatibilityFunction,e.view=this.view}))}};(0,r._)([(0,s.Cb)({aliasOf:"view.map.basemap"})],we.prototype,"activeBasemap",void 0),(0,r._)([(0,s.Cb)({dependsOn:["view.type"]})],we.prototype,"compatibilityFunction",null),(0,r._)([(0,s.Cb)({readOnly:!0,type:be})],we.prototype,"items",void 0),(0,r._)([(0,s.Cb)()],we.prototype,"source",void 0),(0,r._)([(0,_.p)("source")],we.prototype,"castSource",null),(0,r._)([(0,s.Cb)({readOnly:!0,dependsOn:["view.ready"]})],we.prototype,"state",null),(0,r._)([(0,s.Cb)()],we.prototype,"view",void 0),we=(0,r._)([(0,a.j)("esri.widgets.BasemapGallery.BasemapGalleryViewModel")],we);const xe=we,Ce=(0,l.V)("esri/themes/base/images/basemap-toggle-64.svg");let Se=class extends m.default{constructor(e,t){super(e,t),this._handles=new c.Z,this.activeBasemap=null,this.disabled=!1,this.iconClass="esri-icon-basemap",this.label=void 0,this.messages=null,this.source=null,this.view=null,this.viewModel=new xe}initialize(){const e=this._handles;this.own([(0,h.on)(this,"viewModel.items","change",(t=>{const i="basemap-gallery-item-changes",{added:r,moved:n}=t;e.remove(i),e.add([...r,...n].map((e=>e.watch("state",(()=>this.scheduleRender())))),i),this.scheduleRender()})),e,(0,h.whenOnce)(this,"source",(()=>this.viewModel.load()))])}render(){const e="loading"===this.get("source.state"),t=this.disabled||"disabled"===this.get("viewModel.state"),i=this.get("viewModel.items").toArray().map(this._renderBasemapGalleryItem,this),r={"esri-basemap-gallery--source-loading":e,"esri-disabled":t},n=e?(0,f.j)("div",{class:"esri-basemap-gallery__loader",key:"esri-basemap-gallery__loader"}):null,s=e?null:i.length>0?(0,f.j)("ul",{class:"esri-basemap-gallery__item-container",key:"esri-basemap-gallery__item-container",role:"menu"},i):(0,f.j)("div",{class:"esri-widget__content--empty",key:"esri-basemap-gallery__empty-message"},(0,f.j)("h2",{class:"esri-widget__heading"},this.messages.noBasemaps));return(0,f.j)("div",{class:this.classes("esri-basemap-gallery esri-widget esri-widget--panel-height-only",r)},n,s)}_handleClick(e){const t=e.currentTarget["data-item"];"ready"===t.state&&(this.activeBasemap=t.basemap)}_renderBasemapGalleryItem(e){const t=e.get("basemap.thumbnailUrl")||Ce,i=e.get("basemap.title"),r=e.get("basemap.portalItem.snippet"),n=e.get("error.message")||r||i,{viewModel:s}=this,o=this.disabled||"ready"!==s.state||"ready"!==e.state?-1:0,a=s.basemapEquals(e.basemap,this.activeBasemap),l={"esri-basemap-gallery__item--selected":a,"esri-basemap-gallery__item--loading":"loading"===e.state,"esri-basemap-gallery__item--error":"error"===e.state};return(0,f.j)("li",{"aria-selected":a,bind:this,class:this.classes("esri-basemap-gallery__item",l),"data-item":e,onkeydown:this._handleClick,onclick:this._handleClick,role:"menuitem",tabIndex:o,title:n},(0,f.j)("img",{alt:"",class:"esri-basemap-gallery__item-thumbnail",src:t}),(0,f.j)("div",{class:"esri-basemap-gallery__item-title"},i))}};(0,r._)([(0,o.B)("viewModel.activeBasemap"),(0,p.G)()],Se.prototype,"activeBasemap",void 0),(0,r._)([(0,s.Cb)(),(0,p.G)()],Se.prototype,"disabled",void 0),(0,r._)([(0,s.Cb)()],Se.prototype,"iconClass",void 0),(0,r._)([(0,s.Cb)({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],Se.prototype,"label",void 0),(0,r._)([(0,s.Cb)(),(0,p.G)(),(0,u.H)("esri/widgets/BasemapGallery/t9n/BasemapGallery")],Se.prototype,"messages",void 0),(0,r._)([(0,o.B)("viewModel.source"),(0,p.G)("source.state")],Se.prototype,"source",void 0),(0,r._)([(0,o.B)("viewModel.view"),(0,p.G)()],Se.prototype,"view",void 0),(0,r._)([(0,s.Cb)(),(0,p.G)(["viewModel.state"])],Se.prototype,"viewModel",void 0),(0,r._)([(0,d.h)()],Se.prototype,"_handleClick",null),Se=(0,r._)([(0,a.j)("esri.widgets.BasemapGallery")],Se);const Ae=Se},62664:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>ee});var r=i(56140),n=(i(95830),i(36544)),s=i(79881),o=i(51894),a=i(60263),l=i(87765),c=i(87566),h=(i(10923),i(57002),i(86035),i(10180)),d=i(59691),u=i(80621),p=i(58836),f=(i(40450),i(9200)),m=i(90846),_=i(52243),g=i(19401),y=i(90806),v=i(51474),b=(i(68055),i(82677));let w=class extends b.default{constructor(e){super(e)}get editedBookmark(){var e;return(null==(e=this.bookmark)?void 0:e.clone())||null}get state(){return this._get("state")}set state(e){this.validationState=void 0,this.loading=void 0,this._set("state",e)}};(0,r._)([(0,s.Cb)()],w.prototype,"bookmark",void 0),(0,r._)([(0,s.Cb)({readOnly:!0,dependsOn:["bookmark"]})],w.prototype,"editedBookmark",null),(0,r._)([(0,s.Cb)()],w.prototype,"state",null),(0,r._)([(0,s.Cb)()],w.prototype,"validationState",void 0),(0,r._)([(0,s.Cb)()],w.prototype,"loading",void 0),w=(0,r._)([(0,c.j)("esri.widgets.Bookmarks.UserState")],w);const x=w;var C=i(32656),S=i(39105),A=i(35470),T=i(83477),k=i(65984),O=i(65892),P=i(4338);const I="esri.widgets.Bookmarks.BookmarksViewModel",E=n.Z.getLogger(I),M=T.Z.ofType(O.Z),R={width:128,height:128,format:"png"},N={takeScreenshot:!0,captureViewpoint:!0,captureRotation:!0,captureScale:!0};let L=class extends((0,P._)(A.Z.EventedAccessor)){constructor(e){super(e),this.activeBookmark=null}destroy(){this.view=null,this._set("activeBookmark",null)}set bookmarks(e){void 0!==e?this._override("bookmarks",e):this._clearOverride("bookmarks")}get bookmarks(){return this.get("view.map.bookmarks")||new M}set defaultCreateOptions(e){this._set("defaultCreateOptions",{...N,...e})}get defaultCreateOptions(){return N}set defaultEditOptions(e){this._set("defaultEditOptions",{...N,...e})}get defaultEditOptions(){return N}get state(){const e=this.get("view");return e&&!e.ready?"loading":"ready"}get view(){return this._get("view")}set view(e){e&&"2d"!==e.type&&E.error(new C.Z("view:invalid-view","SceneView is not supported",{view:e})),this._set("view",e)}async createBookmark(e){const{view:t,defaultCreateOptions:i}=this;if(!t){const e=new C.Z("create-bookmark:invalid-view","Cannot create a bookmark without a view.");return E.error(e),(0,S.reject)(e)}const{takeScreenshot:r,screenshotSettings:n,captureExtent:s,captureViewpoint:o,captureRotation:a,captureScale:l}={...i,...e},c=r?await this._createThumbnail(n):void 0;return new O.Z({...c&&{thumbnail:c},...(o||s)&&{viewpoint:this._createViewpoint({view:t,captureScale:l,captureRotation:a})}})}async editBookmark(e,t){const{view:i,defaultEditOptions:r}=this;if(!i){const e=new C.Z("edit-bookmark:invalid-view","Cannot edit a bookmark without a view.");return E.error(e),(0,S.reject)(e)}const{takeScreenshot:n,screenshotSettings:s,captureExtent:o,captureViewpoint:a,captureRotation:l,captureScale:c}={...r,...t},h=n?await this._createThumbnail(s):void 0;return h&&(e.thumbnail=h),(a||o)&&(e.viewpoint=this._createViewpoint({view:i,captureScale:c,captureRotation:l})),this.emit("bookmark-edit",{bookmark:e}),e}goTo(e){const{view:t}=this;if(!t){const e=new C.Z("go-to:invalid-view","Cannot go to a bookmark without a view");return E.error(e),(0,S.reject)(e)}const i=null==e?void 0:e.viewpoint;if(!i){const t=new C.Z("go-to:invalid-bookmark","Cannot go to a bookmark that does not contain a 'viewpoint'.",{bookmark:e});return E.error(t),(0,S.reject)(t)}this._set("activeBookmark",e);const r={target:i},n=this.callGoTo(r);return this.emit("select-bookmark",{bookmark:e}),this.emit("bookmark-select",{bookmark:e}),n.catch((()=>{})).then((()=>this._set("activeBookmark",null))),n}async _createThumbnail(e){const t=await this.view.takeScreenshot({...R,...e});return new p.Z({url:t.dataUrl})}_createViewpoint({view:e,captureRotation:t,captureScale:i}){var r,n;const s=null==(r=e.viewpoint)?void 0:r.clone();return new k.Z({targetGeometry:null==(n=e.extent)?void 0:n.clone(),rotation:t&&(null==s?void 0:s.rotation)||0,scale:i&&(null==s?void 0:s.scale)||0})}};(0,r._)([(0,s.Cb)({readOnly:!0})],L.prototype,"activeBookmark",void 0),(0,r._)([(0,s.Cb)({type:M,dependsOn:["view","view.map","view.map.bookmarks"]})],L.prototype,"bookmarks",null),(0,r._)([(0,s.Cb)()],L.prototype,"defaultCreateOptions",null),(0,r._)([(0,s.Cb)()],L.prototype,"defaultEditOptions",null),(0,r._)([(0,s.Cb)({dependsOn:["view.ready"],readOnly:!0})],L.prototype,"state",null),(0,r._)([(0,s.Cb)({value:null})],L.prototype,"view",null),L=(0,r._)([(0,c.j)(I)],L);const D=L;var z=i(1073),F=i(25094);const j="esri-bookmarks__bookmark-image-container",B="esri-bookmarks_bookmark-drag-handle",V="esri-bookmarks__authoring-card",U="esri-bookmarks__authoring-form",G="esri-bookmarks__authoring-label",Z="esri-bookmarks__authoring-actions",H="esri-bookmarks__authoring-input--invalid",W="esri-button",q="esri-button--tertiary",$="esri-input",J="esri-icon-bookmark",Y={addBookmark:!0,thumbnail:!0},K=/^https:\/\/.*/i,X=n.Z.getLogger("esri.widgets.Bookmarks");let Q=class extends y.default{constructor(e,t){super(e,t),this._handles=new d.Z,this._addInputNode=null,this._editInputNode=null,this._urlEditInputNode=null,this._addBookmarkButtonNode=null,this._focusAddBookmarkButton=!1,this._focusEditInputBox=!1,this._focusAddInputBox=!1,this._focusUrlEditInputBox=!1,this._sortable=null,this._sortableNode=null,this._focusSortUid=null,this._selectedSortUid=null,this._sortableSavedItems=null,this._userState=null,this.defaultCreateOptions=null,this.defaultEditOptions=null,this.bookmarks=null,this.disabled=!1,this.editingEnabled=!1,this.goToOverride=null,this.iconClass=J,this.label=void 0,this.messages=null,this.messagesCommon=null,this.messagesUnits=null,this.view=null,this.viewModel=new D,this.visibleElements={...Y}}initialize(){this.own([(0,u.init)(this,"viewModel.bookmarks",(()=>this._bookmarksInitialized())),(0,u.init)(this,"editingEnabled",(()=>this._toggleSorting()))])}destroy(){this._destroySortable(),this._handles.destroy(),this._handles=null,this._editMenu.destroy()}get _editMenuItems(){var e,t;const{messages:i,_userState:r}=this,n=null==r||null==(e=r.editedBookmark)||null==(t=e.thumbnail)?void 0:t.url;return[new z.Z({label:null==i?void 0:i.menu.refreshThumbnail,iconClass:"esri-icon-refresh",clickFunction:()=>this._refreshThumbnail()}),new z.Z({label:K.test(n)?null==i?void 0:i.menu.editImageUrl:null==i?void 0:i.menu.useImageUrl,iconClass:"esri-icon-link",clickFunction:()=>this._startUseImageUrl()}),n?new z.Z({label:null==i?void 0:i.menu.removeThumbnail,iconClass:"esri-icon-erase",clickFunction:()=>this._removeThumbnail()}):null].filter(Boolean)}get _editMenu(){const{_editMenuItems:e,messages:t}=this,i=this._get("_editMenu");i&&i.destroy();const r=new F.default({iconClass:"esri-icon-handle-horizontal",label:null==t?void 0:t.menu.label});return r.items=e,r}get bookmarkCreationOptions(){return(0,l.Mr)(X,"bookmarkCreationOptions",{replacement:"defaultCreateOptions",version:"4.18"}),this.viewModel.defaultCreateOptions}set bookmarkCreationOptions(e){void 0!==e.captureExtent&&(0,l.Mr)(X,"bookmarkCreationOptions.captureExtent",{replacement:"defaultCreateOptions.captureViewpoint",version:"4.17"}),(0,l.Mr)(X,"bookmarkCreationOptions",{replacement:"defaultCreateOptions",version:"4.18"}),this.viewModel.defaultCreateOptions=e}castVisibleElements(e){return{...Y,...e}}endAddBookmark(){this._userState=null}goTo(e){return this.viewModel.goTo(e)}render(){const{state:e}=this.viewModel,t="loading"===e?this.renderLoading():this.renderBookmarks();return(0,g.j)("div",{class:this.classes("esri-bookmarks esri-widget--panel","esri-widget",{"esri-widget--disabled":this.disabled})},t)}startAddBookmark(){this._userState=new x({state:"add"}),this._focusAddInputBox=!0,this.scheduleRender()}renderLoading(){return(0,g.j)("div",{class:"esri-bookmarks__loader-container",key:"loader"},(0,g.j)("div",{class:"esri-bookmarks__loader"}))}renderNoBookmarksContainer(){const{messages:e}=this;return(0,g.j)("div",{class:"esri-widget__content--empty",key:"no-bookmarks"},(0,g.j)("span",{"aria-hidden":"true",class:this.classes("esri-widget__no-bookmark-icon",J)}),(0,g.j)("h1",{class:this.classes("esri-widget__heading","esri-bookmarks__no-bookmarks-heading")},null==e?void 0:e.noBookmarksHeading),(0,g.j)("p",{class:"esri-bookmarks__no-bookmarks-description"},null==e?void 0:e.noBookmarksDescription))}renderAddBookmarkLoading(){var e;return(0,g.j)("div",{key:"adding-bookmark",class:"esri-bookmarks__adding-bookmark"},(0,g.j)("span",{"aria-hidden":"true",class:this.classes("esri-icon-loading-indicator","esri-rotating")}),null==(e=this.messages)?void 0:e.addingBookmark)}renderBookmarkItems(e){if(!e)return null;const{_userState:t,editingEnabled:i}=this;return e.map((e=>i&&e&&t&&("edit"===t.state||"edit-thumbnail"===t.state)&&t.bookmark===e?"edit-thumbnail"===t.state?this.renderEditingBookmarkUrl(t.editedBookmark):this.renderEditingBookmark(t.editedBookmark):this.renderBookmark(e))).toArray()}renderBookmarksContainer(e){var t;const{_userState:i,editingEnabled:r}=this,n="add"===(null==i?void 0:i.state),s=r&&!n?this.renderAddBookmarkButton():null,o=r?n&&i.loading?this.renderAddBookmarkLoading():"add"===(null==i?void 0:i.state)?this.renderAddingBookmark():null:null;return[(0,g.j)("ul",{key:"bookmark-list","aria-label":null==(t=this.messages)?void 0:t.widgetLabel,class:this.classes("esri-bookmarks__list",{"esri-bookmarks__list--sortable":this.editingEnabled}),afterCreate:this._sortNodeCreated,afterRemoved:this._destroySortable,"data-node-ref":"_sortableNode",bind:this},this.renderBookmarkItems(e)),s,o]}renderAddBookmarkButton(){var e;return this.visibleElements.addBookmark?(0,g.j)("div",{key:"add-bookmark-item",class:"esri-bookmarks__add-bookmark"},(0,g.j)("button",{class:this.classes(W,q,"esri-bookmarks__add-bookmark-button"),onclick:this.startAddBookmark,afterCreate:this._storeAddBookmarkButton,afterUpdate:this._storeAddBookmarkButton,"data-node-ref":"_addBookmarkButtonNode",bind:this,type:"button"},(0,g.j)("span",{"aria-hidden":"true",class:this.classes("esri-bookmarks__add-bookmark-icon","esri-icon-plus")}),null==(e=this.messages)?void 0:e.addBookmark)):null}renderBookmarks(){const{bookmarks:e}=this.viewModel,t=e&&e.filter(Boolean),i=t&&t.length,r=i||this.editingEnabled?this.renderBookmarksContainer(t):null;return[i?null:this.renderNoBookmarksContainer(),r]}renderEditContainer(e){const{messagesCommon:t}=this;return(0,g.j)("div",{key:"edit-container"},(0,g.j)("button",{title:null==t?void 0:t.edit,"aria-label":null==t?void 0:t.edit,"data-bookmark":e,onclick:this._showEditBookmarkForm,bind:this,class:"esri-bookmarks__bookmark-edit-button",type:"button"},(0,g.j)("span",{"aria-hidden":"true",class:"esri-icon-edit"})))}renderDragHandle(e){const{messagesCommon:t}=this,i={"data-bookmark-uid":e.uid};return(0,g.j)("div",Object.assign({role:"button",tabIndex:0,key:"drag-handle",bind:this,class:B,onkeydown:this._dragHandleKeydown,afterCreate:this._focusDragHandle,afterUpdate:this._focusDragHandle,onblur:this._dragHandleBlur,"aria-pressed":this._selectedSortUid===e.uid?"true":"false","aria-label":null==t?void 0:t.dragHandleLabel,title:null==t?void 0:t.dragHandleTitle},i),(0,g.j)("span",{"aria-hidden":"true",class:this.classes("esri-bookmarks_bookmark-drag-handle-icon","esri-icon-handle-vertical")}))}renderBookmarkImageIcon(){return(0,g.j)("span",{"aria-hidden":"true",class:this.classes("esri-bookmarks__bookmark-icon",J)})}renderBookmarkImage(e){const{visibleElements:t}=this,{thumbnail:i}=e,r=i&&i.url||"";return t.thumbnail&&r?(0,g.j)("img",{src:r,alt:"",class:"esri-bookmarks__image"}):null}renderBookmarkButton(e){const{messagesCommon:t}=this,{name:i}=e,r=i||(null==t?void 0:t.untitled),n=(0,g.j)("div",{class:j},this.renderBookmarkImage(e)||this.renderBookmarkImageIcon());return(0,g.j)("button",{key:"bookmark-button",class:"esri-bookmarks__bookmark-button",bind:this,"data-bookmark":e,onclick:this._goToBookmark,type:"button"},n,(0,g.j)("span",{class:"esri-bookmarks__bookmark-name"},r))}renderBookmark(e){const{activeBookmark:t}=this.viewModel,i={"esri-bookmarks__bookmark--active":t===e},r=this.editingEnabled?this.renderEditContainer(e):null,n={"data-bookmark-uid":e.uid},s=this.editingEnabled?this.renderDragHandle(e):null;return(0,g.j)("li",Object.assign({key:e,class:this.classes("esri-bookmarks__bookmark",i)},n),s,this.renderBookmarkButton(e),r)}renderEditingBookmarkName(e){const{messages:t,_userState:i}=this,r="name-required"===i.validationState;return(0,g.j)("label",{class:G},null==t?void 0:t.title,r?(0,g.j)("strong",null,null==t?void 0:t.invalidTitle):null,(0,g.j)("input",{required:!0,bind:this,class:this.classes($,r?H:null),type:"text",value:e.name,afterCreate:this._storeEditInput,afterUpdate:this._focusEditInput,"data-bookmark":e,"data-node-ref":"_editInputNode",placeholder:null==t?void 0:t.titlePlaceholder}))}renderEditingBookmarkUrlActions(){const{messagesCommon:e}=this;return(0,g.j)("div",{class:Z},(0,g.j)("input",{type:"button",value:null==e?void 0:e.back,class:this.classes(W,q),onclick:this._closeUrlEditBookmarkForm,bind:this}),(0,g.j)("input",{class:W,type:"submit",value:null==e?void 0:e.add}))}renderEditingBookmarkActions(){const{messagesCommon:e}=this,{bookmark:t}=this._userState;return(0,g.j)("div",{class:Z},(0,g.j)("input",{type:"button",value:null==e?void 0:e.delete,class:this.classes(W,q,"esri-bookmarks__authoring-delete-button"),"data-bookmark":t,onclick:this._deleteBookmark,bind:this}),(0,g.j)("input",{type:"button",value:null==e?void 0:e.cancel,class:this.classes(W,q),onclick:this._closeEditBookmarkForm,bind:this}),(0,g.j)("input",{class:W,type:"submit",value:null==e?void 0:e.save}))}renderEditingBookmarkUrlInput(e){var t;const{messages:i,_userState:r}=this,n=null==(t=e.thumbnail)?void 0:t.url,s=K.test(n)?n:null,o="absolute-url-required"===r.validationState;return(0,g.j)("label",{class:G},o?(0,g.j)("strong",null,null==i?void 0:i.invalidImageUrl):null,(0,g.j)("input",{required:!0,bind:this,class:this.classes($,o?H:null),type:"text",value:s,afterCreate:this._storeUrlEditInput,afterUpdate:this._focusUrlEditInput,"data-bookmark":e,"data-node-ref":"_urlEditInputNode",title:null==i?void 0:i.imageUrlTooltip,placeholder:null==i?void 0:i.imageUrlPlaceholder}))}renderEditingBookmarkUrl(e){const t={"data-bookmark-uid":e.uid};return(0,g.j)("li",Object.assign({key:"edit-bookmark-url-form",class:V},t),(0,g.j)("form",{class:U,onsubmit:this._editBookmarkUrlSubmit,bind:this},this.renderEditingBookmarkUrlInput(e),this.renderEditingBookmarkUrlActions()))}renderEditingBookmark(e){const t={"data-bookmark-uid":e.uid};return(0,g.j)("li",Object.assign({key:"edit-bookmark-form",class:V},t),(0,g.j)("form",{class:U,onsubmit:this._editBookmarkSubmit,bind:this},(0,g.j)("div",{class:"esri-bookmarks__authoring-container"},(0,g.j)("div",{class:j},this.renderBookmarkImage(e),this._editMenu.render()),this.renderEditingBookmarkName(e)),this.renderEditingBookmarkActions()))}renderAddingBookmarkName(){const{_userState:e,messages:t}=this,i="name-required"===e.validationState;return(0,g.j)("label",{class:G},null==t?void 0:t.title,i?(0,g.j)("strong",null,null==t?void 0:t.invalidTitle):null,(0,g.j)("input",{required:!0,bind:this,class:this.classes($,i?H:null),type:"text",afterCreate:this._storeAddInput,afterUpdate:this._focusAddInput,"data-node-ref":"_addInputNode",value:"",placeholder:null==t?void 0:t.titlePlaceholder}))}renderAddingBookmarkActions(){const{messagesCommon:e}=this;return(0,g.j)("div",{class:this.classes(Z)},(0,g.j)("input",{type:"button",value:null==e?void 0:e.cancel,class:this.classes(W,q,"esri-bookmarks__authoring-cancel-button"),onclick:this._endAddBookmark.bind(this),bind:this}),(0,g.j)("input",{class:W,type:"submit",value:null==e?void 0:e.add}))}renderAddingBookmark(){return(0,g.j)("div",{key:"add-bookmark-form",class:V},(0,g.j)("form",{class:U,onsubmit:this._addBookmarkSubmit,bind:this},this.renderAddingBookmarkName(),this.renderAddingBookmarkActions()))}_dragHandleBlur(){this._selectedSortUid=null,this.scheduleRender()}_dragHandleKeydown(e){e.stopPropagation();const{_sortableSavedItems:t}=this,i=(0,h.kK)(e);if(-1===["ArrowDown","ArrowUp","Escape","Tab"," ","Enter"].indexOf(i))return;const{_sortable:r,_selectedSortUid:n}=this,s=r.toArray(),o=e.target.getAttribute("data-bookmark-uid"),a=s.indexOf(o);if(" "===i||"Enter"===i){const e=n&&n===o;return this._selectedSortUid=e?null:o,this._sortableSavedItems=e?null:this._sortable.toArray(),void this.scheduleRender()}if("Tab"===i)return this._selectedSortUid=null,void this.scheduleRender();if("Escape"===i&&t)return this._selectedSortUid=null,this._updateSortItems(t,r,o),void this.scheduleRender();if(-1===a||!n)return;const l="ArrowUp"===i?a-1:a+1;var c,d,u;l>=s.length||l<=-1||(d=a,u=l,(c=s).splice(u,0,c.splice(d,1)[0]),this._updateSortItems(s,r,o))}_updateSortItems(e,t,i){t.sort(e),this._sortBookmarks(t),this._focusSortUid=i,this._selectedSortUid=i}_focusDragHandle(e){const{_focusSortUid:t}=this;e&&t&&e.getAttribute("data-bookmark-uid")===t&&(e.focus(),this._focusSortUid=null)}_toggleSorting(){const{_sortable:e,_sortableNode:t,editingEnabled:i}=this;if(t)if(e)e.option("disabled",!i);else{const e=v.ZP.create(t,{dataIdAttr:"data-bookmark-uid",handle:`.${B}`,group:"bookmarks",disabled:!i,onSort:()=>this._sortBookmarks(e)});this._sortable=e}}_sortNodeCreated(e){this._sortableNode=e,this._toggleSorting()}_sortBookmarks(e){const{bookmarks:t}=this.viewModel;if(!t)return;const i=e.toArray();t.sort(((e,t)=>{const r=i.indexOf(e.uid),n=i.indexOf(t.uid);return r>n?1:r<n?-1:0}))}_destroySortable(){const{_sortable:e}=this;e&&e.destroy(),this._sortable=null}_endAddBookmark(){this._focusAddBookmarkButton=!0,this.endAddBookmark()}_bookmarksInitialized(){const e="bookmarks-init",{_handles:t}=this;t.remove(e),t.add((0,u.on)(this,"viewModel.bookmarks","change",(()=>this._bookmarksChanged())),e)}_bookmarksChanged(){const e="bookmarks-change",{bookmarks:t}=this.viewModel,{_handles:i}=this;i.remove(e);const r=t.map((e=>(0,u.watch)(e,["active","name","thumbnail.url"],(()=>this.scheduleRender()))));i.add(r,e),this.scheduleRender()}_showEditBookmarkForm(e){const t=e.currentTarget["data-bookmark"];this._focusEditInputBox=!0,this._userState=new x({bookmark:t,state:"edit"}),this.viewModel.goTo(t),this.scheduleRender()}_closeUrlEditBookmarkForm(){this._focusEditInputBox=!0,this._userState.state="edit"}_closeEditBookmarkForm(){this._userState=null}_addBookmarkSubmit(e){e.preventDefault();const{_addInputNode:t,_userState:i}=this,r=t&&t.value.trim();r?(i.loading=!0,this.viewModel.createBookmark().then((e=>{e.name=r,this.viewModel.bookmarks.add(e),this._endAddBookmark()}))):i.validationState="name-required"}async _editBookmarkAndClose(e,t){await this.viewModel.editBookmark(e,t),this._closeEditBookmarkForm()}_editBookmarkSubmit(e){e.preventDefault();const{_editInputNode:t,_userState:i}=this,r=t&&t.value.trim();r?(i.bookmark.name=r,i.bookmark.thumbnail=i.editedBookmark.thumbnail,this._editBookmarkAndClose(i.bookmark,{takeScreenshot:!1})):i.validationState="name-required"}_storeAddBookmarkButton(e){this._addBookmarkButtonNode=e,this._focusAddBookmark()}_storeEditInput(e){this._editInputNode=e,this._focusEditInput()}_storeAddInput(e){this._addInputNode=e,this._focusAddInput()}_storeUrlEditInput(e){this._urlEditInputNode=e,this._focusUrlEditInput()}_focusUrlEditInput(){this._urlEditInputNode&&this._focusUrlEditInputBox&&(this._focusUrlEditInputBox=!1,this._urlEditInputNode.focus())}_focusAddInput(){this._addInputNode&&this._focusAddInputBox&&(this._focusAddInputBox=!1,this._addInputNode.focus())}_focusAddBookmark(){this._addBookmarkButtonNode&&this._focusAddBookmarkButton&&(this._focusAddBookmarkButton=!1,this._addBookmarkButtonNode.focus())}_focusEditInput(){this._editInputNode&&this._focusEditInputBox&&(this._focusEditInputBox=!1,this._editInputNode.focus())}_deleteBookmark(e){const t=e.currentTarget["data-bookmark"];this.viewModel.bookmarks.remove(t)}_goToBookmark(e){const t=e.currentTarget["data-bookmark"];this.endAddBookmark(),this._closeEditBookmarkForm(),this.viewModel.goTo(t)}async _refreshThumbnail(){const{_userState:e,_editMenu:t,viewModel:i}=this;e.validationState=void 0,await i.editBookmark(this._userState.editedBookmark,{takeScreenshot:!0,captureExtent:!1,captureViewpoint:!1,captureRotation:!1,captureScale:!1}),t.open=!1,this._focusEditInputBox=!0,this.scheduleRender()}_removeThumbnail(){const{_userState:e,_editMenu:t}=this;e.editedBookmark.thumbnail=null,e.validationState=void 0,t.open=!1,this._focusEditInputBox=!0,this.scheduleRender()}_startUseImageUrl(){this._userState.state="edit-thumbnail",this._editMenu.open=!1,this._focusUrlEditInputBox=!0,this.scheduleRender()}_editBookmarkUrlSubmit(e){e.preventDefault();const{_urlEditInputNode:t,_userState:i}=this,r=t.value;K.test(r)?(r&&(i.editedBookmark.thumbnail=new p.Z({url:r})),this._closeUrlEditBookmarkForm()):i.validationState="absolute-url-required"}};(0,r._)([(0,s.Cb)({type:x}),(0,m.G)(["state","editedBookmark","loading","validationState"])],Q.prototype,"_userState",void 0),(0,r._)([(0,s.Cb)({readOnly:!0,dependsOn:["messages","_userState.editedBookmark.thumbnail.url"]})],Q.prototype,"_editMenuItems",null),(0,r._)([(0,s.Cb)({readOnly:!0,dependsOn:["messages","_editMenuItems"]})],Q.prototype,"_editMenu",null),(0,r._)([(0,s.Cb)({dependsOn:["viewModel.defaultCreateOptions"]})],Q.prototype,"bookmarkCreationOptions",null),(0,r._)([(0,o.B)("viewModel.defaultCreateOptions")],Q.prototype,"defaultCreateOptions",void 0),(0,r._)([(0,o.B)("viewModel.defaultEditOptions")],Q.prototype,"defaultEditOptions",void 0),(0,r._)([(0,o.B)("viewModel.bookmarks")],Q.prototype,"bookmarks",void 0),(0,r._)([(0,m.G)(),(0,s.Cb)()],Q.prototype,"disabled",void 0),(0,r._)([(0,m.G)(),(0,s.Cb)()],Q.prototype,"editingEnabled",void 0),(0,r._)([(0,o.B)("viewModel.goToOverride")],Q.prototype,"goToOverride",void 0),(0,r._)([(0,s.Cb)()],Q.prototype,"iconClass",void 0),(0,r._)([(0,s.Cb)({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],Q.prototype,"label",void 0),(0,r._)([(0,s.Cb)(),(0,m.G)(),(0,f.H)("esri/widgets/Bookmarks/t9n/Bookmarks")],Q.prototype,"messages",void 0),(0,r._)([(0,s.Cb)(),(0,m.G)(),(0,f.H)("esri/t9n/common")],Q.prototype,"messagesCommon",void 0),(0,r._)([(0,s.Cb)(),(0,m.G)(),(0,f.H)("esri/core/t9n/Units")],Q.prototype,"messagesUnits",void 0),(0,r._)([(0,o.B)("viewModel.view")],Q.prototype,"view",void 0),(0,r._)([(0,s.Cb)({type:D}),(0,m.G)(["activeBookmark","state","bookmarks"]),(0,_.s)(["select-bookmark","bookmark-edit","bookmark-select"])],Q.prototype,"viewModel",void 0),(0,r._)([(0,s.Cb)(),(0,m.G)()],Q.prototype,"visibleElements",void 0),(0,r._)([(0,a.p)("visibleElements")],Q.prototype,"castVisibleElements",null),(0,r._)([(0,s.Cb)()],Q.prototype,"endAddBookmark",null),(0,r._)([(0,s.Cb)()],Q.prototype,"startAddBookmark",null),Q=(0,r._)([(0,c.j)("esri.widgets.Bookmarks")],Q);const ee=Q},88355:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>v});var r=i(56140),n=(i(95830),i(36544),i(68055),i(79881)),s=i(51894),o=i(87566),a=(i(10923),i(57002),i(86035),i(40450),i(24258)),l=i(9200),c=i(90846),h=i(19401),d=i(90806),u=i(82677),p=i(59691),f=i(80621),m=i(4338);let _=class extends((0,m._)(u.default)){constructor(e){super(e),this._handles=new p.Z,this.orientation={x:0,y:0,z:0},this.view=null,this._updateForCamera=this._updateForCamera.bind(this),this._updateForRotation=this._updateForRotation.bind(this),this._updateRotationWatcher=this._updateRotationWatcher.bind(this),this.view}initialize(){this._handles.add((0,f.init)(this,"view",this._updateRotationWatcher))}destroy(){this._handles.destroy(),this._handles=null,this.view=null}get canShowNorth(){const e=this.get("view.spatialReference");return!(!e||!e.isWebMercator&&!e.isGeographic)}get state(){return this.get("view.ready")?this.canShowNorth?"compass":"rotation":"disabled"}reset(){if(!this.get("view.ready"))return;const e={};"2d"===this.view.type?e.rotation=0:e.heading=0,this.callGoTo({target:e})}_updateForRotation(e){null!=e&&(this.orientation={z:e})}_updateForCamera(e){if(!e)return;const t=-e.heading;this.orientation={x:0,y:0,z:t}}_updateRotationWatcher(e){this._handles.removeAll(),e&&("2d"===e.type?this._handles.add((0,f.init)(this,"view.rotation",this._updateForRotation)):this._handles.add((0,f.init)(this,"view.camera",this._updateForCamera)))}};(0,r._)([(0,n.Cb)({dependsOn:["view.spatialReference.isWebMercator","view.spatialReference.wkid"],readOnly:!0})],_.prototype,"canShowNorth",null),(0,r._)([(0,n.Cb)()],_.prototype,"orientation",void 0),(0,r._)([(0,n.Cb)({dependsOn:["view.ready","canShowNorth"],readOnly:!0})],_.prototype,"state",null),(0,r._)([(0,n.Cb)()],_.prototype,"view",void 0),_=(0,r._)([(0,o.j)("esri.widgets.CompassViewModel")],_);const g=_;let y=class extends d.default{constructor(e,t){super(e,t),this.goToOverride=null,this.iconClass="esri-icon-locate-circled",this.label=void 0,this.messages=null,this.view=null,this.viewModel=new g}reset(){return this.viewModel.reset()}render(){const{orientation:e,state:t}=this.viewModel,i="disabled"===t,r="compass"==("rotation"===t?"rotation":"compass"),n=i?-1:0,s={"esri-disabled":i,"esri-interactive":!i},o={"esri-icon-compass":r,"esri-icon-dial":!r},{messages:a}=this;return(0,h.j)("div",{bind:this,class:this.classes("esri-compass esri-widget--button esri-widget",s),onclick:this._reset,onkeydown:this._reset,role:"button",tabIndex:n,"aria-label":a.reset,title:a.reset},(0,h.j)("span",{"aria-hidden":"true",class:this.classes("esri-compass__icon",o),styles:this._toRotationTransform(e)}),(0,h.j)("span",{class:"esri-icon-font-fallback-text"},a.reset))}_reset(){this.viewModel.reset()}_toRotationTransform(e){return{transform:`rotateZ(${e.z}deg)`}}};(0,r._)([(0,s.B)("viewModel.goToOverride")],y.prototype,"goToOverride",void 0),(0,r._)([(0,n.Cb)()],y.prototype,"iconClass",void 0),(0,r._)([(0,n.Cb)({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],y.prototype,"label",void 0),(0,r._)([(0,n.Cb)(),(0,c.G)(),(0,l.H)("esri/widgets/Compass/t9n/Compass")],y.prototype,"messages",void 0),(0,r._)([(0,s.B)("viewModel.view")],y.prototype,"view",void 0),(0,r._)([(0,n.Cb)({type:g}),(0,c.G)(["viewModel.orientation","viewModel.state"])],y.prototype,"viewModel",void 0),(0,r._)([(0,a.h)()],y.prototype,"_reset",null),y=(0,r._)([(0,o.j)("esri.widgets.Compass")],y);const v=y},17870:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>w});var r=i(56140),n=(i(95830),i(36544),i(68055),i(79881)),s=i(51894),o=i(87566),a=(i(10923),i(57002),i(86035),i(40450),i(24258)),l=i(9200),c=i(90846),h=i(52243),d=i(19401),u=i(90806),p=i(32656),f=i(39105),m=i(35470),_=i(65984),g=i(4338);let y=class extends((0,g._)(m.Z.EventedAccessor)){constructor(e){super(e),this._initialViewpoint=null,this._goingHomeController=null,this.go=this.go.bind(this)}destroy(){this._cancelGo(),this.view=null}get state(){return this.get("view.ready")?this._goingHomeController?"going-home":"ready":"disabled"}set view(e){this._initialViewpoint=null,this._set("view",e),e&&e.when().then((()=>{this.view===e&&(this._initialViewpoint=e.viewpoint.clone(),this.notifyChange("viewpoint"))}))}get viewpoint(){return this._get("viewpoint")||this._initialViewpoint}set viewpoint(e){this._set("viewpoint",e)}async go(){if(!this.get("view.ready"))throw new p.Z("home:disabled-state","Cannot go when disabled.");this._cancelGo(),this.emit("go");const e=(0,f.createAbortController)();this._goingHomeController=e;try{await this.view.when(),await this.callGoTo({target:this.viewpoint,options:{signal:e.signal}})}catch(e){}this._goingHomeController=null}cancelGo(){this._cancelGo()}_cancelGo(){const{_goingHomeController:e}=this;e&&e.abort(),this._goingHomeController=null}};(0,r._)([(0,n.Cb)()],y.prototype,"_goingHomeController",void 0),(0,r._)([(0,n.Cb)({dependsOn:["_goingHomeController","view.ready"],readOnly:!0})],y.prototype,"state",null),(0,r._)([(0,n.Cb)()],y.prototype,"view",null),(0,r._)([(0,n.Cb)({type:_.Z})],y.prototype,"viewpoint",null),(0,r._)([(0,n.Cb)()],y.prototype,"go",null),(0,r._)([(0,n.Cb)()],y.prototype,"cancelGo",null),y=(0,r._)([(0,o.j)("esri.widgets.Home.HomeViewModel")],y);const v=y;let b=class extends u.default{constructor(e,t){super(e,t),this.goToOverride=null,this.iconClass="esri-icon-home",this.label=void 0,this.messages=null,this.messagesCommon=null,this.view=null,this.viewModel=new v,this.viewpoint=null}get homeTitle(){var e;const t=null==(e=this.viewModel)?void 0:e.state,{messagesCommon:i,messages:r}=this;return"going-home"===t?i.cancel:r.title}cancelGo(){return null}go(){return null}render(){var e;const t=null==(e=this.viewModel)?void 0:e.state,{homeTitle:i}=this,r={"esri-disabled":"disabled"===t};return(0,d.j)("div",{bind:this,class:this.classes("esri-home esri-widget--button esri-widget",r),role:"button",tabIndex:0,onclick:this._go,onkeydown:this._go,"aria-label":i,title:i},this.renderIcon(),this.renderText())}renderIcon(){var e;const t=null==(e=this.viewModel)?void 0:e.state,i={"esri-icon-loading-indicator":"going-home"===t,"esri-rotating":"going-home"===t};return(0,d.j)("span",{"aria-hidden":"true",class:this.classes("esri-icon esri-icon-home",i)})}renderText(){const{messages:e}=this;return(0,d.j)("span",{class:"esri-icon-font-fallback-text"},e.button)}_go(){const{viewModel:e}=this;"going-home"===e.state?e.cancelGo():e.go()}};(0,r._)([(0,s.B)("viewModel.goToOverride")],b.prototype,"goToOverride",void 0),(0,r._)([(0,n.Cb)({readOnly:!0,dependsOn:["viewModel.state","messages","messagesCommon"]}),(0,c.G)()],b.prototype,"homeTitle",null),(0,r._)([(0,n.Cb)()],b.prototype,"iconClass",void 0),(0,r._)([(0,n.Cb)({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],b.prototype,"label",void 0),(0,r._)([(0,n.Cb)(),(0,c.G)(),(0,l.H)("esri/widgets/Home/t9n/Home")],b.prototype,"messages",void 0),(0,r._)([(0,n.Cb)(),(0,c.G)(),(0,l.H)("esri/t9n/common")],b.prototype,"messagesCommon",void 0),(0,r._)([(0,s.B)("viewModel.view"),(0,c.G)()],b.prototype,"view",void 0),(0,r._)([(0,n.Cb)({type:v}),(0,c.G)("viewModel.state"),(0,h.s)("go")],b.prototype,"viewModel",void 0),(0,r._)([(0,s.B)("viewModel.viewpoint")],b.prototype,"viewpoint",void 0),(0,r._)([(0,s.B)("viewModel.cancelGo")],b.prototype,"cancelGo",null),(0,r._)([(0,s.B)("viewModel.go")],b.prototype,"go",null),(0,r._)([(0,a.h)()],b.prototype,"_go",null),b=(0,r._)([(0,o.j)("esri.widgets.Home")],b);const w=b},22204:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>ve});var r=i(56140),n=(i(95830),i(36544)),s=(i(68055),i(79881)),o=i(51894),a=i(87566),l=i(10923),c=(i(57002),i(86035),i(10180)),h=i(83477),d=i(80621),u=i(40450),p=i(9200),f=i(90846),m=i(19401),_=i(90806),g=i(70026),y=i(55498),v=i(82677),b=i(59691);let w=class extends v.default{constructor(e){super(e),this._handles=new b.Z,this.state="pending",this.url=""}initialize(){this._handles.add([(0,d.init)(this,["extension","name"],(()=>this._setFormattedFileName()))])}destroy(){this._handles.destroy()}_setFormattedFileName(){if(!this.name||!this.extension)return;let e=this.name+"."+this.extension;this.count&&(e=this.name+"("+this.count+")."+this.extension),this.formattedName=e}};(0,r._)([(0,s.Cb)()],w.prototype,"count",void 0),(0,r._)([(0,s.Cb)()],w.prototype,"error",void 0),(0,r._)([(0,s.Cb)()],w.prototype,"extension",void 0),(0,r._)([(0,s.Cb)()],w.prototype,"formattedName",void 0),(0,r._)([(0,s.Cb)()],w.prototype,"name",void 0),(0,r._)([(0,s.Cb)()],w.prototype,"state",void 0),(0,r._)([(0,s.Cb)()],w.prototype,"url",void 0),w=(0,r._)([(0,a.j)("esri.widgets.print.FileLink")],w);const x=w;var C=i(32656),S=i(39105),A=i(52937),T=i(21979),k=i(54721),O=(i(89771),i(809)),P=i(32797),I=i(65984),E=i(33517),M=i(12783),R=i(80705),N=i(15187);let L=class extends v.default{constructor(e){super(e),this.extent=null,this.extraParameters=null,this.outSpatialReference=null,this.template=null,this.view=null}};(0,r._)([(0,s.Cb)()],L.prototype,"extent",void 0),(0,r._)([(0,s.Cb)()],L.prototype,"extraParameters",void 0),(0,r._)([(0,s.Cb)()],L.prototype,"outSpatialReference",void 0),(0,r._)([(0,s.Cb)()],L.prototype,"template",void 0),(0,r._)([(0,s.Cb)()],L.prototype,"view",void 0),L=(0,r._)([(0,a.j)("esri.tasks.support.PrintParameters")],L);const D=L;var z=i(58385);let F=class extends z.wq{constructor(e){super(e),this.description=null,this.format=null,this.label=null,this.layout=null,this.layoutOptions=null}};(0,r._)([(0,s.Cb)()],F.prototype,"description",void 0),(0,r._)([(0,s.Cb)({json:{read:E.i}})],F.prototype,"format",void 0),(0,r._)([(0,s.Cb)()],F.prototype,"label",void 0),(0,r._)([(0,s.Cb)({json:{read:M.i}})],F.prototype,"layout",void 0),(0,r._)([(0,s.Cb)()],F.prototype,"layoutOptions",void 0),F=(0,r._)([(0,a.j)("esri.widgets.Print.CustomTemplate")],F);const j=F,B=h.Z.ofType(j);let V=class extends O.Z{constructor(e){super(e),this._handles=new b.Z,this._viewpoint=null,this.allowedFormats="all",this.allowedLayouts="all",this.defaultTemplates=new B,this.includeDefaultTemplates=!0,this.effectivePrintServiceUrl=null,this.error=null,this.portal=P.Z.getDefault(),this.printServiceUrl=null,this.scaleEnabled=!1,this.templatesInfo=null,this.updateDelay=1e3,this.view=null,this.print=this.print.bind(this)}destroy(){this._handles.destroy(),this._handles=null,this.view=null}get printTask(){return new R.default(this.effectivePrintServiceUrl,{updateDelay:this.updateDelay})}get state(){return"loading"===this.loadStatus?"initializing":this.error||"failed"===this.loadStatus?"error":this.get("view.ready")&&"loaded"===this.loadStatus?"ready":"disabled"}async load(e){return this.addResolvingPromise(this._loadResources(e).catch((e=>this.error=e))),this}print(e){let t;if(!this.view)return(0,S.reject)(new C.Z("print:view-required","view is not set"));this.scaleEnabled?(this._viewpoint||(this._viewpoint=this.view.viewpoint.clone()),t=this._getExtent(this._viewpoint,e.outScale)):(this._viewpoint=null,t=this._getExtent(this.view.viewpoint)),function(e){if(e.layoutOptions||(e.layoutOptions={}),e.layoutOptions.customTextElements||(e.layoutOptions.customTextElements=[]),!e.layoutOptions.customTextElements.find((e=>"date"in e))){const{customTextElements:t}=e.layoutOptions;t.push({date:(0,T.p6)(Date.now(),(0,T.Ze)("short-date"))})}}(e);const i=new D({view:this.view,template:e,extent:t});return this.printTask.execute(i).catch((e=>{const t="print-task:cim-symbol-unsupported"===e.name?e.message:"An error occurred while exporting the web map.";return(0,S.reject)(new C.Z("print:export-error",t,{error:e}))}))}async _loadResources(e){let t=[];const{printServiceUrl:i}=this;if(!i){var r;if(this.destroyed)return;const{portal:i}=this;try{await i.load(e)}catch(e){throw new C.Z("print:could-not-load-portal","Cannot load print resource information from portal",{url:this.effectivePrintServiceUrl})}const s=null==(r=i.helperServices)?void 0:r.printTask;var n;s&&(this._set("effectivePrintServiceUrl",s.url),t=(null!=(n=null==s?void 0:s.templates)?n:[]).map((e=>j.fromJSON(e))))}t.length>0&&this.defaultTemplates.addMany(t),await this._loadServiceDescription(e)}async _loadServiceDescription(e){const t=await this._getPrintTemplatesFromService(e);this._set("templatesInfo",t)}_getPrintTemplatesFromService(e){if(-1===this.effectivePrintServiceUrl.toLowerCase().split("/").indexOf("gpserver"))throw new C.Z("print:invalid-print-service-url","Can't fetch print templates information from provided URL",{url:this.effectivePrintServiceUrl});return(0,k.default)(this.effectivePrintServiceUrl,{...e,query:{f:"json"},timeout:6e4}).then((e=>{const t=e&&e.data,i=t&&t.parameters;let r=null,n=null;return i.forEach((e=>{let t,i=e.choiceList&&e.choiceList.slice();i&&i.length&&e.defaultValue&&(t=i.indexOf(e.defaultValue)),t>-1&&(i.splice(t,1),i.unshift(e.defaultValue));const s=(e,t)=>{const i="all"===t?e:e.filter((e=>t.indexOf(e)>-1));return 0===i.length?e:i};if("Format"===e.name){const t=s(i.map(E.i),this.allowedFormats),n=(0,E.i)(e.defaultValue);r={defaultValue:t.includes(n)?n:t[0],choiceList:t}}else if("Layout_Template"===e.name){let t,r;i=i.filter((e=>"map_only"!==e.toLowerCase())),i.some(((e,i)=>{const r=e.toLowerCase();return r.indexOf("letter")>-1&&r.indexOf("landscape")>-1?(t=i,!0):r.indexOf("a4")>-1&&r.indexOf("landscape")>-1&&(t=i,!1)})),t&&(r=i[t],i.splice(t,1),i.unshift(r));const o=s(i.map(M.i),this.allowedLayouts),a=(0,M.i)(e.defaultValue);n={defaultValue:o.includes(a)?a:o[0],choiceList:o}}})),this.error=null,{format:r,layout:n}})).catch((e=>{throw new C.Z("print:unavailable-service-info","Can't fetch templates info from service",{error:e})}))}_getExtent(e,t){const i=t||this.view.scale,r=this.get("view.size"),n=e?e.targetGeometry:null;return(0,N.bk)(new A.Z,new I.Z({scale:i,targetGeometry:n}),r)}};(0,r._)([(0,s.Cb)()],V.prototype,"allowedFormats",void 0),(0,r._)([(0,s.Cb)()],V.prototype,"allowedLayouts",void 0),(0,r._)([(0,s.Cb)({type:B})],V.prototype,"defaultTemplates",void 0),(0,r._)([(0,s.Cb)()],V.prototype,"includeDefaultTemplates",void 0),(0,r._)([(0,s.Cb)({aliasOf:{source:"printServiceUrl",overridable:!0},readOnly:!0})],V.prototype,"effectivePrintServiceUrl",void 0),(0,r._)([(0,s.Cb)()],V.prototype,"error",void 0),(0,r._)([(0,s.Cb)({type:P.Z})],V.prototype,"portal",void 0),(0,r._)([(0,s.Cb)()],V.prototype,"printServiceUrl",void 0),(0,r._)([(0,s.Cb)({dependsOn:["effectivePrintServiceUrl"],type:R.default})],V.prototype,"printTask",null),(0,r._)([(0,s.Cb)({dependsOn:["view.ready","error","loadStatus"],readOnly:!0})],V.prototype,"state",null),(0,r._)([(0,s.Cb)()],V.prototype,"scaleEnabled",void 0),(0,r._)([(0,s.Cb)({readOnly:!0})],V.prototype,"templatesInfo",void 0),(0,r._)([(0,s.Cb)()],V.prototype,"updateDelay",void 0),(0,r._)([(0,s.Cb)()],V.prototype,"view",void 0),V=(0,r._)([(0,a.j)("esri.widgets.Print.PrintViewModel")],V);const U=V;let G=class extends v.default{constructor(e){super(e),this.attributionEnabled=!0,this.author=null,this.copyright=null,this.dpi=96,this.fileName=null,this.forceFeatureAttributes=!1,this.format=null,this.layout=null,this.legendEnabled=!0,this.height=null,this.scale=null,this.scaleEnabled=!1,this.title=null,this.width=null}};(0,r._)([(0,s.Cb)()],G.prototype,"attributionEnabled",void 0),(0,r._)([(0,s.Cb)()],G.prototype,"author",void 0),(0,r._)([(0,s.Cb)()],G.prototype,"copyright",void 0),(0,r._)([(0,s.Cb)()],G.prototype,"dpi",void 0),(0,r._)([(0,s.Cb)()],G.prototype,"fileName",void 0),(0,r._)([(0,s.Cb)()],G.prototype,"forceFeatureAttributes",void 0),(0,r._)([(0,s.Cb)()],G.prototype,"format",void 0),(0,r._)([(0,s.Cb)()],G.prototype,"layout",void 0),(0,r._)([(0,s.Cb)()],G.prototype,"legendEnabled",void 0),(0,r._)([(0,s.Cb)()],G.prototype,"height",void 0),(0,r._)([(0,s.Cb)()],G.prototype,"scale",void 0),(0,r._)([(0,s.Cb)()],G.prototype,"scaleEnabled",void 0),(0,r._)([(0,s.Cb)()],G.prototype,"title",void 0),(0,r._)([(0,s.Cb)()],G.prototype,"width",void 0),G=(0,r._)([(0,a.j)("esri.widgets.Print.TemplateOptions")],G);const Z=G,H=h.Z.ofType(x),W="esri-print__input-text",q="esri-print__layout-tab",$="esri-print__template-list",J="esri-print__advanced-options-button",Y="esri-print__advanced-options-button-container",K="esri-print__advanced-options-button-title",X="esri-print__advanced-options-button-icon--opened",Q="esri-print__advanced-options-button-icon--closed",ee="esri-print__advanced-options-button-icon--closed-rtl",te="esri-print__form-section-container",ie="esri-print__advanced-options-section",re="esri-print__advanced-options-container",ne="esri-print__panel-container",se="esri-widget",oe="esri-widget--panel",ae="esri-widget--button",le="esri-button",ce="esri-select",he="esri-widget__heading",de="esri-input",ue="esri-print__exported-file--error",pe="esri-menu__list-item",fe="esri-icon-right-triangle-arrow",me="esri-icon-left-triangle-arrow",_e="esri-icon-down-arrow",ge=n.Z.getLogger("esri.widgets.Print");let ye=class extends _.default{constructor(e,t){super(e,t),this._activeTabFocusRequested=!1,this._advancedOptionsVisibleForLayout=!1,this._advancedOptionsVisibleForMapOnly=!1,this._awaitingServerResponse=!1,this._exportedFileNameMap={},this._focusedTemplateIndex=0,this._layoutTabSelected=!0,this._pendingExportScroll=!1,this._rootNode=null,this._selectTemplateNode=null,this._templateListPopover=new y.Z({owner:this,placement:"top",offset:[0,-100],anchorElement:()=>this._selectTemplateNode,renderContentFunction:this.renderTemplateList}),this.allowedFormats=null,this.allowedLayouts=null,this.exportedLinks=new H,this.iconClass="esri-icon-printer",this.includeDefaultTemplates=null,this.label=void 0,this.portal=null,this.printServiceUrl=null,this.templateOptions=new Z,this.view=null,this.viewModel=new U,this.handleTemplateListCreation=e=>e.focus(),this.handleTemplateChildBlur=e=>{var t;(null==(t=e.relatedTarget)?void 0:t.closest(`.${$}`))||this.handleCloseTemplateSelection()},this.handleCloseTemplateSelection=()=>{this._focusedTemplateIndex=0,this._templateListPopover.open=!1,this._selectTemplateNode.focus()},this.handleSelectTemplateClick=()=>{this._focusedTemplateIndex=0,this._templateListPopover.open=!0},this.handleTemplateListClick=e=>{const t=e.target;this.applyTemplate(t["data-template"])},this.handleTemplateListKeyDown=e=>{if("Enter"===e.key||" "===e.key)return this.applyTemplate(this.viewModel.defaultTemplates.getItemAt(this._focusedTemplateIndex)),void e.preventDefault();if("ArrowDown"===e.key||"ArrowUp"===e.key){const{defaultTemplates:t}=this.viewModel,i="ArrowDown"===e.key?1:-1,r=(this._focusedTemplateIndex+i)%t.length;this._focusedTemplateIndex=r<0?t.length-1:r;const n=e.currentTarget;(0,u._q)(n.querySelectorAll(`.${pe}`)[this._focusedTemplateIndex],n.parentElement),e.preventDefault()}"Escape"===e.key&&this.handleCloseTemplateSelection()},this._removeLink=e=>{const t=e.currentTarget["data-item"];t&&"error"===t.state&&this.exportedLinks.remove(t)},this._focusOnTabChange=this._focusOnTabChange.bind(this)}initialize(){this.own([(0,d.init)(this,"viewModel.templatesInfo",(e=>{const{format:t,layout:i}=this.templateOptions;if(e){const r=i===e.layout.defaultValue||i&&"MAP_ONLY"===i.toUpperCase()||e.layout.choiceList&&e.layout.choiceList.indexOf(i)>-1,n=t===e.format.defaultValue||e.format.choiceList&&e.format.choiceList.indexOf(t)>-1;r||(i&&ge.warn("User sets an invalid layout, resetting it to the default valid one..."),this.templateOptions.layout=e.layout.defaultValue),n||(t&&ge.warn("User sets an invalid format, resetting it to the default valid one..."),this.templateOptions.format=e.format.defaultValue),i&&"MAP_ONLY"===i.toUpperCase()&&(this._layoutTabSelected=!1)}})),(0,d.init)(this,"templateOptions.format",(e=>{const{viewModel:{templatesInfo:t}}=this;if(t&&e){let i=!1;t.format.choiceList&&t.format.choiceList.forEach((t=>{t.toUpperCase()===e.toUpperCase()&&(this.templateOptions.format=t,i=!0)})),i||(this.templateOptions.format=t.format.defaultValue,ge.warn("User sets an invalid format, resetting it to the default valid one...")),this.scheduleRender()}})),(0,d.init)(this,"templateOptions.layout",(e=>{const{viewModel:{templatesInfo:t}}=this;if(t&&e){this._layoutTabSelected="MAP_ONLY"!==e.toUpperCase();let i=!this._layoutTabSelected;i||t.layout.choiceList&&t.layout.choiceList.forEach((t=>{t.toUpperCase()===e.toUpperCase()&&(this.templateOptions.layout=t,i=!0)})),i||(this.templateOptions.layout=t.layout.defaultValue,ge.warn("User sets an invalid layout, resetting it to the default valid one...")),this.scheduleRender()}})),(0,d.init)(this,"templateOptions.dpi",(e=>{e<=0?this.templateOptions.dpi=1:this.scheduleRender()})),(0,d.init)(this,"viewModel.view.scale",(e=>{const{scale:t,scaleEnabled:i}=this.templateOptions;i&&t||(this.templateOptions.scale=e)}))]);const{height:e,width:t}=this.templateOptions;this.templateOptions.width=t||800,this.templateOptions.height=e||1100;const i=setTimeout((()=>{this._awaitingServerResponse=!0,this.scheduleRender()}),500);this.viewModel.load().then((()=>clearTimeout(i)))}render(){const{attributionEnabled:e,author:t,copyright:i,dpi:r,format:n,height:s,layout:o,legendEnabled:a,scaleEnabled:l,scale:c,width:h}=this.templateOptions,d="ready"!==this.get("viewModel.state"),u=this.renderTitleOrFileNameSection(),{includeDefaultTemplates:p,messages:f,viewModel:_}=this,g=this.get("viewModel.templatesInfo.format.choiceList")||[],y=g.length>0?g.map((e=>(0,m.j)("option",{key:e,selected:e===n,value:e},e.toUpperCase()))):(0,m.j)("option",{key:"format-default-option"},f.formatDefaultOption),v=(0,m.j)("div",{class:te},(0,m.j)("label",null,f.fileFormatTitle,(0,m.j)("select",{class:ce,onchange:this._updateFromOption,"data-target-property":"format",bind:this},y))),b=this.get("viewModel.templatesInfo.layout.choiceList")||[],w=b.length>0?b.map((e=>{const t=e===o,i=f[e]||e;return(0,m.j)("option",{key:e,selected:t,value:e},i)})):(0,m.j)("option",{key:"layout-default-option"},f.layoutDefaultOption),x=(0,m.j)("div",{class:te},(0,m.j)("label",null,f.layoutTitle,(0,m.j)("select",{class:ce,onchange:this._updateFromOption,"data-target-property":"layout",bind:this},w))),C=(0,m.j)("div",{class:te},(0,m.j)("label",null,f.dpi,(0,m.j)("input",{type:"number",class:this.classes(W,de),"data-input-name":"dpi",onchange:this._handleDPIChange,value:`${r}`,min:"1",tabIndex:0,bind:this}))),S=(0,m.j)("div",{class:this.classes("esri-print__scale-info-container",te)},(0,m.j)("label",null,(0,m.j)("input",{"data-option-name":"scaleEnabled",checked:l,type:"checkbox",tabIndex:0,onchange:this._toggleInputValue,bind:this}),f.scale),(0,m.j)("div",{class:"esri-print__scale-input-container"},(0,m.j)("input",{"aria-label":f.scaleLabel,"aria-valuenow":`${c}`,role:"spinbutton",type:"number",class:this.classes(W,de,"esri-print__scale-input"),tabIndex:0,"data-input-name":"scale",onchange:this._updateInputValue,disabled:!l,value:`${c}`,bind:this}),(0,m.j)("button",{type:"button","aria-label":f.reset,class:this.classes(ae,"esri-print__refresh-button","esri-icon-refresh"),tabIndex:0,onclick:this._resetToCurrentScale,bind:this}))),A=this._advancedOptionsVisibleForLayout?(0,m.j)("div",{"aria-labelledby":`${this.id}__advancedOptionsForLayout`,class:re},S,(0,m.j)("div",{class:this.classes("esri-print__author-info-container",te)},(0,m.j)("label",null,f.author,(0,m.j)("input",{type:"text",value:t,class:this.classes(W,de),tabIndex:0,"data-input-name":"author",onchange:this._updateInputValue,bind:this}))),(0,m.j)("div",{class:this.classes("esri-print__copyright-info-container",te)},(0,m.j)("label",null,f.copyright,(0,m.j)("input",{type:"text",class:this.classes(W,de),tabIndex:0,value:i,"data-input-name":"copyright",onchange:this._updateInputValue,bind:this}))),C,(0,m.j)("div",{class:this.classes("esri-print__legend-info-container",te)},(0,m.j)("label",null,(0,m.j)("input",{type:"checkbox","data-option-name":"legendEnabled",tabIndex:0,checked:a,onchange:this._toggleInputValue,bind:this}),f.legend))):null,T=this._advancedOptionsVisibleForMapOnly?(0,m.j)("div",{"aria-labelledby":`${this.id}__advancedOptionsForMapOnly`,class:re},S,C,(0,m.j)("div",{class:te},(0,m.j)("label",null,(0,m.j)("input",{"data-option-name":"attributionEnabled",type:"checkbox",onchange:this._toggleInputValue,tabIndex:0,checked:e,bind:this}),f.attribution))):null,k=this._layoutTabSelected?(0,m.j)("section",{key:"esri-print__layoutContent",id:`${this.id}__layoutContent`,"aria-labelledby":`${this.id}__layoutTab`,class:"esri-print__layout-section",role:"tabpanel","aria-selected":this._layoutTabSelected},(0,m.j)("div",{class:ne},u,x,this._layoutTabSelected?v:null),(0,m.j)("div",{class:this.classes(ne,ie)},(0,m.j)("button",{"aria-label":f.advancedOptions,"aria-expanded":this._advancedOptionsVisibleForLayout?"true":"false",class:J,onclick:this._showAdvancedOptions,bind:this,type:"button"},(0,m.j)("div",{class:Y},(0,m.j)("span",{"aria-hidden":"true",class:this.classes(fe,Q)}),(0,m.j)("span",{"aria-hidden":"true",class:this.classes(me,ee)}),(0,m.j)("span",{"aria-hidden":"true",class:this.classes(_e,X)}),(0,m.j)("span",{class:K},f.advancedOptions))),A)):(0,m.j)("section",{key:"esri-print__mapOnlyContent",id:`${this.id}__mapOnlyContent`,"aria-selected":!this._layoutTabSelected,"aria-labelledby":`${this.id}__mapOnlyTab`,class:"esri-print__map-only-section",role:"tabpanel"},(0,m.j)("div",{class:ne},u,this._layoutTabSelected?null:v,(0,m.j)("div",{class:this.classes("esri-print__size-container",te)},(0,m.j)("div",{class:"esri-print__width-container"},(0,m.j)("label",null,f.width,(0,m.j)("input",{type:"number",class:this.classes(W,de),"data-input-name":"width",onchange:this._updateInputValue,value:`${h}`,tabIndex:0,bind:this}))),(0,m.j)("div",{class:"esri-print__height-container"},(0,m.j)("label",null,f.height,(0,m.j)("input",{type:"number",class:this.classes(W,de),"data-input-name":"height",onchange:this._updateInputValue,value:`${s}`,tabIndex:0,bind:this}))),(0,m.j)("button",{type:"button","aria-label":f.swap,class:this.classes(ae,"esri-print__swap-button","esri-icon-swap"),onclick:this._switchInput,tabIndex:0,bind:this})),(0,m.j)("div",{class:this.classes(ne,ie)},(0,m.j)("button",{"aria-label":f.advancedOptions,"aria-expanded":this._advancedOptionsVisibleForMapOnly?"true":"false",type:"button",class:J,onclick:this._showAdvancedOptions,bind:this},(0,m.j)("div",{class:Y},(0,m.j)("span",{"aria-hidden":"true",class:this.classes(fe,Q)}),(0,m.j)("span",{"aria-hidden":"true",class:this.classes(me,ee)}),(0,m.j)("span",{"aria-hidden":"true",class:this.classes(_e,X)}),(0,m.j)("span",{class:K},f.advancedOptions))),T))),O=this.exportedLinks.toArray(),P=this._renderExportedLink(O),I={"esri-button--disabled":d||!o&&!n},E=null!=this.get("view")&&"2d"!==this.get("view.type"),M=(0,m.j)("div",{class:"esri-print__panel--error"},E?f.sceneViewError:f.serviceError),R=(0,m.j)("div",null,(0,m.j)("ul",{class:"esri-print__layout-tab-list",role:"tablist",onclick:this._toggleLayoutPanel,onkeydown:this._handleLayoutPanelKeyDown,bind:this},(0,m.j)("li",{afterCreate:this._focusOnTabChange,afterUpdate:this._focusOnTabChange,id:`${this.id}__layoutTab`,"data-tab-id":"layoutTab",class:q,role:"tab",tabIndex:0,"aria-selected":`${this._layoutTabSelected}`},f.layoutTab),(0,m.j)("li",{afterCreate:this._focusOnTabChange,afterUpdate:this._focusOnTabChange,id:`${this.id}__mapOnlyTab`,"data-tab-id":"mapOnlyTab",class:q,role:"tab",tabIndex:0,"aria-selected":`${!this._layoutTabSelected}`},f.mapOnlyTab)),k,(0,m.j)("button",{"aria-label":f.exportDescription,type:"button",class:this.classes("esri-print__export-button",le,I),disabled:d,tabIndex:0,onclick:this._handlePrintMap,bind:this},f.export),p&&_.defaultTemplates.length>0?this.renderTemplateSectionTrigger():null,(0,m.j)("div",{class:"esri-print__export-panel-container",afterUpdate:this._scrollExportIntoView,bind:this},(0,m.j)("h3",{class:this.classes("esri-print__export-title",he)},f.exportText),O.length>0?null:(0,m.j)("div",null,(0,m.j)("div",null,f.exportHint)),P)),N=(0,m.j)("div",{class:"esri-print__container"},(0,m.j)("header",{class:"esri-print__header-title"},f.export),this.error||E||!this.view?M:R),L="initializing"===this.get("viewModel.state")?this._renderLoader():N;return(0,m.j)("div",{afterCreate:this._handleRootAfterCreate,bind:this,class:this.classes("esri-print",se,oe)},L)}renderTemplateSectionTrigger(){const{messages:e,_templateListPopover:t}=this,i=t.open;return(0,m.j)("button",{afterCreate:e=>this._selectTemplateNode=e,"aria-controls":i?`${this.id}__template-selection`:"","aria-label":e.selectTemplateDescription,"aria-pressed":i.toString(),class:this.classes(le,"esri-button--tertiary","esri-print__template-button"),onclick:this.handleSelectTemplateClick,title:e.selectTemplateDescription},e.selectTemplate)}renderTemplateList(){const{messages:e,messagesCommon:t,viewModel:i}=this,{defaultTemplates:r}=i,n=e.selectTemplateDescription,s=`${this.id}__template-selection`;return(0,m.j)("div",{class:this.classes($,se,oe),id:s},(0,m.j)("h3",{class:this.classes("esri-menu__header",he)},e.selectTemplate),(0,m.j)("div",{class:"esri-print__template-list-scroller"},(0,m.j)("ul",{afterCreate:this.handleTemplateListCreation,"aria-activedescendant":`${this.id}__template-item--${this._focusedTemplateIndex}`,"aria-label":n,class:"esri-menu__list",key:"templates",onblur:this.handleTemplateChildBlur,onclick:this.handleTemplateListClick,onkeydown:this.handleTemplateListKeyDown,role:"listbox",tabIndex:0,title:n},r.toArray().map(((e,t)=>{const{description:i}=e,r=t===this._focusedTemplateIndex;return(0,m.j)("li",{"aria-label":i,class:this.classes(pe,{"esri-menu__list-item--focus":r}),"data-template":e,id:`${this.id}__template-item--${t}`,key:e.label,title:i},e.label)})))),(0,m.j)("div",{class:"esri-print__template-list-footer"},(0,m.j)("button",{type:"button",class:this.classes(le,"esri-button--secondary"),onblur:this.handleTemplateChildBlur,onclick:this.handleCloseTemplateSelection},t.done)))}applyTemplate(e){var t;const{format:i,layout:r,layoutOptions:n}=e,{templateOptions:s}=this;this._templateListPopover.open=!1,this._toggleTab("map-only"===r?"mapOnlyTab":"layoutTab",!1),i&&(s.format=i),r&&(s.layout=r),this._focusedTemplateIndex=null,s.legendEnabled=null!=(t=null==n?void 0:n.legend)?t:s.legendEnabled,this.handleCloseTemplateSelection()}renderTitleOrFileNameSection(){const{templateOptions:e,messages:t}=this;let i,r,n,s;return this._layoutTabSelected?(i=t.title,r=t.titlePlaceHolder,n=e.title,s="title"):(i=t.fileName,r=t.fileNamePlaceHolder,n=e.fileName,s="fileName"),(0,m.j)("div",{class:te,key:s},(0,m.j)("label",null,i,(0,m.j)("input",{type:"text",tabIndex:0,placeholder:r,class:this.classes(W,de),value:n,"data-input-name":s,onchange:this._updateInputValue,bind:this})))}_handleRootAfterCreate(e){this._rootNode=e,this.own((0,c.on)(e,"scroll",(()=>{this._templateListPopover.open&&this.handleCloseTemplateSelection()})))}_focusOnTabChange(e){if(!this._activeTabFocusRequested)return;const t=e.getAttribute("data-tab-id");("layoutTab"===t&&this._layoutTabSelected||"mapOnlyTab"===t&&!this._layoutTabSelected)&&(e.focus(),this._activeTabFocusRequested=!1)}_renderLoader(){const e={"esri-print__loader":this._awaitingServerResponse};return(0,m.j)("div",{class:this.classes(e),key:"loader"})}_createFileLink(e,t){const i=t||this.messages.untitled,r=e.format.toLowerCase(),n=r.indexOf("png")>-1?"png":r,s=i+n;return void 0!==this._exportedFileNameMap[s]?this._exportedFileNameMap[s]++:this._exportedFileNameMap[s]=0,new x({name:i,extension:n,count:this._exportedFileNameMap[s]})}_toPrintTemplate(e){const{attributionEnabled:t,author:i,copyright:r,dpi:n,forceFeatureAttributes:s,format:o,height:a,layout:l,legendEnabled:c,title:h,scale:d,width:u}=e,p=new g.Z({attributionVisible:t,layoutOptions:{authorText:i||"",copyrightText:r||"",titleText:h||""},forceFeatureAttributes:s,format:o,layout:l,outScale:d});return u&&(p.exportOptions.width=u),a&&(p.exportOptions.height=a),n&&(p.exportOptions.dpi=n),c||(p.layoutOptions.legendLayers=[]),p}_resetToCurrentScale(){this.templateOptions.scale=this.viewModel.view.scale}_updateInputValue(e){const t=e.target,i=t.getAttribute("data-input-name");this.templateOptions[i]=t.value}_handleDPIChange(e){this._updateInputValue(e);const t=e.currentTarget.valueAsNumber,{height:i,width:r}=function(e){return{width:Math.round(8.3333*e),height:Math.round(11.4583*e)}}(t),{templateOptions:n}=this;n.height=i,n.width=r}_handlePrintMap(){this._pendingExportScroll=!0;const{templateOptions:e}=this,t=this._toPrintTemplate(e),i=this._layoutTabSelected?t.layoutOptions.titleText:e.fileName,r=this._createFileLink(t,i);this.exportedLinks.add(r),this.emit("submit",{link:r}),this.viewModel.print(t).then((e=>{r.set({url:e&&e.url,state:"ready"})})).catch((e=>{r.set({error:e,state:"error"})})).then((()=>{this.emit("complete",{link:r}),this.scheduleRender()}))}_updateFromOption(e){const t=e.target,i=t.selectedOptions?t.selectedOptions.item(0).value:t.options[t.selectedIndex].value,r=t.getAttribute("data-target-property");this.templateOptions[r]=i}_switchInput(){[this.templateOptions.width,this.templateOptions.height]=[this.templateOptions.height,this.templateOptions.width]}_showAdvancedOptions(){this._layoutTabSelected?this._advancedOptionsVisibleForLayout=!this._advancedOptionsVisibleForLayout:this._advancedOptionsVisibleForMapOnly=!this._advancedOptionsVisibleForMapOnly}_scrollExportIntoView(){if(this._pendingExportScroll){this._pendingExportScroll=!1;const{_rootNode:e,_rootNode:{clientHeight:t,scrollHeight:i}}=this,r=i-t;r>0&&(e.scrollTop=r)}}_toggleInputValue(e){const t=e.target,i=t.getAttribute("data-option-name");this.templateOptions[i]=t.checked,"scaleEnabled"===i&&(this.viewModel.scaleEnabled=this.templateOptions.scaleEnabled,this.templateOptions[i]||this._resetToCurrentScale())}_renderExportedLink(e){const t=this.messages;return e.map((e=>{const{error:i,url:r,formattedName:n,state:s}=e,o="error"===s,a="pending"===s,c="ready"===s,h={"esri-widget__anchor--disabled":a||o};let d=r||null;d&&(d=(0,l.qg)(d));const u=(0,l.D6)(r,location.href),p={"esri-icon-loading-indicator":a,"esri-rotating":a,"esri-icon-download":u&&c,"esri-icon-launch-link-external":!u&&c,"esri-icon-error":o,[ue]:o},f={[ue]:o};let _;_=a?t.pending:c?t.ready:t.errorMessage;const g=o?i.message:"";return(0,m.j)("div",{"aria-label":_,class:"esri-print__exported-file","data-item":e,key:n,onclick:this._removeLink,title:g},(0,m.j)("a",{"aria-label":`${n}. ${t.linkReady}`,download:n,href:d,rel:"noreferrer",tabIndex:0,target:"_blank",class:this.classes("esri-widget__anchor esri-print__exported-file-link",h)},(0,m.j)("span",{class:this.classes(p)}),(0,m.j)("span",{class:this.classes("esri-print__exported-file-link-title",f)},n)))}))}_toggleLayoutPanel(e){const t=e.target;this._toggleTab(t.getAttribute("data-tab-id"))}_toggleTab(e,t=!0){if(this._layoutTabSelected="layoutTab"===e,this._layoutTabSelected){const e=this.get("viewModel.templatesInfo.layout.choiceList");this.templateOptions.layout=e&&e[0]}else this.templateOptions.layout="MAP_ONLY";t&&(this._activeTabFocusRequested=!0)}_handleLayoutPanelKeyDown(e){const t=(0,c.kK)(e),i=e.target.getAttribute("data-tab-id");if("Enter"===t||" "===t)return this._toggleTab(i),e.preventDefault(),void e.stopPropagation();"ArrowLeft"!==t&&"ArrowRight"!==t||(this._toggleTab("layoutTab"===i?"mapOnlyTab":"layoutTab"),e.preventDefault(),e.stopPropagation())}};(0,r._)([(0,o.B)("viewModel.allowedFormats")],ye.prototype,"allowedFormats",void 0),(0,r._)([(0,o.B)("viewModel.allowedLayouts")],ye.prototype,"allowedLayouts",void 0),(0,r._)([(0,o.B)("viewModel.error")],ye.prototype,"error",void 0),(0,r._)([(0,s.Cb)({type:H}),(0,f.G)()],ye.prototype,"exportedLinks",void 0),(0,r._)([(0,s.Cb)()],ye.prototype,"iconClass",void 0),(0,r._)([(0,o.B)("viewModel.includeDefaultTemplates")],ye.prototype,"includeDefaultTemplates",void 0),(0,r._)([(0,s.Cb)({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],ye.prototype,"label",void 0),(0,r._)([(0,s.Cb)(),(0,f.G)(),(0,p.H)("esri/widgets/Print/t9n/Print")],ye.prototype,"messages",void 0),(0,r._)([(0,s.Cb)(),(0,f.G)(),(0,p.H)("esri/t9n/common")],ye.prototype,"messagesCommon",void 0),(0,r._)([(0,o.B)("viewModel.portal")],ye.prototype,"portal",void 0),(0,r._)([(0,o.B)("viewModel.printServiceUrl")],ye.prototype,"printServiceUrl",void 0),(0,r._)([(0,f.G)(),(0,s.Cb)({type:Z})],ye.prototype,"templateOptions",void 0),(0,r._)([(0,o.B)("viewModel.view"),(0,f.G)()],ye.prototype,"view",void 0),(0,r._)([(0,s.Cb)({type:U}),(0,f.G)(["viewModel.defaultTemplates","viewModel.templatesInfo","viewModel.state"])],ye.prototype,"viewModel",void 0),ye=(0,r._)([(0,a.j)("esri.widgets.Print")],ye);const ve=ye},48852:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>R});var r=i(56140),n=(i(95830),i(36544),i(79881)),s=i(51894),o=i(60263),a=i(87566),l=(i(10923),i(57002),i(86035),i(96071)),c=i(80621),h=(i(40450),i(9200)),d=i(90846),u=i(19401),p=i(90806),f=(i(68055),i(82677)),m=i(72206),_=i(27780),g=i(41241),y=i(61106),v=i(93833),b=(i(36348),i(91535)),w=i(98675);function x(e,t){return e&&e.indexOf(t)>-1}function C(e,t){const{x:i,y:r}="decimal-degrees"===e?(0,g.Sx)(t,!0):t;return[i,r]}function S({state:{paddedViewState:e},spatialReference:t,width:i}){return t.isWrappable&&e.worldScreenWidth<i}let A=class extends f.default{constructor(e){super(e),this.scaleComputedFrom=(0,l.vW)(),this.view=null}get state(){return this.get("view.ready")&&"2d"===this.get("view.type")?"ready":"disabled"}getScaleBarProperties(e,t){if("disabled"===this.state||isNaN(e)||!t)return null;const i=this._getDistanceInKm(this.view,this.scaleComputedFrom);if("metric"===t)return this._getScaleBarProps(e,i,"metric");const r=i/1.609;return this._getScaleBarProps(e,r,"non-metric")}_getLocationUnit(){const e=this.get("view.spatialReference"),{isWebMercator:t,wkid:i,wkt:r}=e;return t||x(r,"WGS_1984_Web_Mercator")?"decimal-degrees":null!=m.Z[i]||x(r,"PROJCS")?"linear-unit":"unknown"}_getDistanceInKm(e,t){const{state:i,spatialReference:r}=e,n=this._getLocationUnit();if("linear-unit"===n){const e=1e3;return i.extent.width*function(e){const{wkid:t}=e;if(null!=m.Z[t])return m.Z.values[m.Z[t]];const{wkt:i}=e,r=i.lastIndexOf(",")+1,n=i.lastIndexOf("]]");return parseFloat(i.substring(r,n))}(r)/e}const[s,o]=this._getScaleMeasuringPoints(e,t),a=new v.Z({paths:[[C(n,s),C(n,o)]],spatialReference:4326}),l=(0,b.hR)(a,10),[c]=(0,w.geodesicLengths)([l],"kilometers");return c}_getScaleMeasuringPoints(e,t){const{width:i,height:r,position:n,spatialReference:s}=e;if(S(e)){const{valid:e}=(0,_.C5)(s);return[new y.Z(e[0],0,s),new y.Z(e[1],0,s)]}let o=t.y-n[1];o>r?o=r:o<0&&(o=0);const a=(0,l.vW)(0,o),c=(0,l.vW)(i,o);return[e.toMap(a),e.toMap(c)]}_getScaleBarProps(e,t,i){const{view:r}=this;let n=e*t/(S(r)?r.state.paddedViewState.worldScreenWidth:r.width),s="metric"===i?"km":"mi";n<.1&&("mi"===s?(n*=5280,s="ft"):"km"===s&&(n*=1e3,s="m"));let o=0;for(;n>=1;)n/=10,o++;const a=this._getConstraints(n);if(!a)return null;const{min:l,max:c}=a,h=c/n>=n/l?l:c;return{length:e*(h/n),value:Math.pow(10,o)*h,unit:s}}_getConstraints(e){return e>.5?{min:.5,max:1}:e>.3?{min:.3,max:.5}:e>.2?{min:.2,max:.3}:e>.15?{min:.15,max:.2}:e>=.1?{min:.15,max:.1}:void 0}};(0,r._)([(0,n.Cb)()],A.prototype,"scaleComputedFrom",void 0),(0,r._)([(0,n.Cb)({readOnly:!0,dependsOn:["scaleComputedFrom","view.ready","view.scale"]})],A.prototype,"state",null),(0,r._)([(0,n.Cb)()],A.prototype,"view",void 0),A=(0,r._)([(0,a.j)("esri.widgets.Scalebar.ScaleBarViewModel")],A);const T=A,k="esri-scale-bar__label-container",O="esri-scale-bar__label",P="esri-scale-bar__ruler-block",I="esri-scale-bar__bar-container";function E(e){return 2*e}let M=class extends p.default{constructor(e,t){super(e,t),this.label=void 0,this.messages=null,this.unit="non-metric",this.view=null,this.viewModel=new T}initialize(){this.own([(0,c.whenTrue)(this,"view.stationary",(()=>this.scheduleRender())),(0,c.watch)(this,["view.center","view.scale","view.zoom"],(()=>{this.view.stationary&&this.scheduleRender()}))])}set style(e){const t="dual"===this.unit?"line":e;this._set("style",t)}castStyle(e){return"line"===e?e:"ruler"}castUnit(e){return"metric"===e||"dual"===e?e:"non-metric"}render(){const e="disabled"===this.get("viewModel.state"),t={"esri-disabled":e};let i,r;if(!e){const{unit:e,style:t}=this,n="metric"===e||"dual"===e,s=50;if("non-metric"===e||"dual"===e){const e=this.viewModel.getScaleBarProperties(s,"non-metric");e&&(r="ruler"===t?this._renderRuler(e):this._renderLine(e,"bottom"))}if(n){const e=this.viewModel.getScaleBarProperties(s,"metric");e&&(i="ruler"===t?this._renderRuler(e):this._renderLine(e,"top"))}}return(0,u.j)("div",{afterCreate:this._handleRootCreateOrUpdate,afterUpdate:this._handleRootCreateOrUpdate,bind:this,class:this.classes("esri-scale-bar esri-widget",t)},i,r)}_renderRuler(e){const t=E(Math.round(e.length)),{messages:i}=this,r=i[e.unit]||i.unknownUnit,n=`${E(e.value)} ${r}`;return(0,u.j)("div",{class:this.classes(I,"esri-scale-bar__bar-container--ruler"),key:"esri-scale-bar__ruler"},(0,u.j)("div",{class:"esri-scale-bar__ruler",styles:{width:`${t}px`}},(0,u.j)("div",{class:P}),(0,u.j)("div",{class:P}),(0,u.j)("div",{class:P}),(0,u.j)("div",{class:P})),(0,u.j)("div",{class:this.classes(k,"esri-scale-bar__label-container--ruler")},(0,u.j)("div",{class:O},"0"),(0,u.j)("div",{class:O},n)))}_renderLine(e,t){const{messages:i}=this,r=i[e.unit]||i.unknownUnit,n=`${E(e.value)} ${r}`,s={"esri-scale-bar__label-container--top":"top"===t,"esri-scale-bar__label-container--bottom":"bottom"===t},o=(0,u.j)("div",{class:this.classes(k,"esri-scale-bar__label-container--line",s),key:"esri-scale-bar__label"},(0,u.j)("div",{class:O},n)),a={"esri-scale-bar__line--top":"top"===t,"esri-scale-bar__line--bottom":"bottom"===t},l=E(Math.round(e.length)),c=(0,u.j)("div",{class:this.classes("esri-scale-bar__line",a),key:"esri-scale-bar__line",styles:{width:`${l}px`}});return(0,u.j)("div",{class:this.classes(I,"esri-scale-bar__bar-container--line"),key:"esri-scale-bar__line-container"},[c,o])}_handleRootCreateOrUpdate(e){const t=this.viewModel;if(t){const i=e.getBoundingClientRect(),r=i.left+window.pageXOffset,n=i.top+window.pageYOffset;t.scaleComputedFrom=(0,l.vW)(r,n)}}};(0,r._)([(0,n.Cb)({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],M.prototype,"label",void 0),(0,r._)([(0,n.Cb)(),(0,d.G)(),(0,h.H)("esri/widgets/ScaleBar/t9n/ScaleBar")],M.prototype,"messages",void 0),(0,r._)([(0,n.Cb)({dependsOn:["unit"]}),(0,d.G)()],M.prototype,"style",null),(0,r._)([(0,o.p)("style")],M.prototype,"castStyle",null),(0,r._)([(0,n.Cb)(),(0,d.G)()],M.prototype,"unit",void 0),(0,r._)([(0,o.p)("unit")],M.prototype,"castUnit",null),(0,r._)([(0,s.B)("viewModel.view"),(0,d.G)()],M.prototype,"view",void 0),(0,r._)([(0,n.Cb)(),(0,d.G)(["viewModel.state"])],M.prototype,"viewModel",void 0),M=(0,r._)([(0,a.j)("esri.widgets.ScaleBar")],M);const R=M},20514:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>k});var r=i(56140),n=(i(95830),i(36544),i(68055),i(79881)),s=i(51894),o=i(87566),a=(i(10923),i(57002),i(86035),i(40450),i(24258)),l=i(9200),c=i(90846),h=i(52243),d=i(19401),u=i(90806),p=i(32656),f=i(39105),m=i(82677),_=i(35470),g=i(12973),y=i(50764),v=i(15988),b=i(4338),w=i(49322);let x=class extends((0,b._)(_.Z.EventedMixin(m.default))){constructor(){super(...arguments),this._geolocationUsable=!0,this._iconPath=(0,g.V)("esri/images/support/sdk_gps_location.png"),this.geolocationOptions=null,this.goToLocationEnabled=!0,this.graphic=new v.Z({symbol:new y.Z({url:this._iconPath,width:21,height:21})}),this.scale=null,this.useHeadingEnabled=!0,this.view=null}initialize(){(0,w.Zh)()||(this._geolocationUsable=!1)}destroy(){this._clear(),this.view=null}_clear(){this.view&&this.view.graphics.remove(this.graphic)}_getScaleWithinConstraints(e,t){if(!t)return e;if("2d"===t.type){const{effectiveMaxScale:i,effectiveMinScale:r}=t.constraints;return Math.min(r,Math.max(i,e))}return e}_getScale(e){const{scale:t}=this,i="number"==typeof t?t:2500;return this._getScaleWithinConstraints(i,e)}_getHeading(e,t){const i=t&&t.spatialReference,r=i&&(i.isWebMercator||i.isGeographic),n=e.coords&&e.coords.heading;if(!(!r||"number"!=typeof n||isNaN(n)||n<0||n>360))return n}_addHeading(e){const{heading:t,target:i,view:r}=e;r&&"number"==typeof t&&!isNaN(t)&&("3d"!==r.type?"2d"===r.type&&(i.rotation=360-t):i.heading=t)}_animatePoint(e,t,i,r){const{view:n}=this;if(!this.goToLocationEnabled||!n)return(0,f.resolve)(t);const s=this.useHeadingEnabled?this._getHeading(t,n):void 0,o={target:e,scale:i};return this._addHeading({heading:s,target:o,view:n}),this.callGoTo({target:o,options:r}).then((()=>t))}async _setPosition(e,t){try{const i=await(0,w.C2)({position:e,view:this.view},t),{graphic:r}=this,{timestamp:n}=e,{coords:s}=e,{accuracy:o,altitude:a,altitudeAccuracy:l,heading:c,latitude:h,longitude:d,speed:u}=s,p={timestamp:n,accuracy:o,altitude:a,altitudeAccuracy:l,heading:c,latitude:h,longitude:d,speed:u};r&&(r.geometry=i,r.attributes=p);const f=this._getScale(this.view);return this._animatePoint(i,e,f,t)}catch(e){throw new p.Z("positioning:invalid-point","Cannot position invalid point",{error:e})}}};(0,r._)([(0,n.Cb)()],x.prototype,"_geolocationUsable",void 0),(0,r._)([(0,n.Cb)()],x.prototype,"geolocationOptions",void 0),(0,r._)([(0,n.Cb)()],x.prototype,"goToLocationEnabled",void 0),(0,r._)([(0,n.Cb)()],x.prototype,"graphic",void 0),(0,r._)([(0,n.Cb)()],x.prototype,"scale",void 0),(0,r._)([(0,n.Cb)()],x.prototype,"useHeadingEnabled",void 0),(0,r._)([(0,n.Cb)()],x.prototype,"view",void 0),x=(0,r._)([(0,o.j)("esri.widgets.support.GeolocationPositioning")],x);const C=x;let S=class extends C{constructor(e){super(e),this._watchId=null,this._trackStartingTimeoutId=null,this._settingPosition=null}destroy(){this._stopTracking()}get state(){return this._geolocationUsable?this.view&&!this.view.ready?"disabled":this._settingPosition||null!==this._trackStartingTimeoutId?"waiting":this.tracking?"tracking":"ready":"feature-unsupported"}get tracking(){return null!==this._watchId}start(){"disabled"!==this.state&&"feature-unsupported"!==this.state&&this._startTracking()}stop(){"disabled"!==this.state&&"feature-unsupported"!==this.state&&this._stopTracking()}_stopWatchingPosition(){null!==this._watchId&&(navigator.geolocation.clearWatch(this._watchId),this._watchId=null)}_stopTracking(){this._clearWaitingTimer(),this._stopWatchingPosition(),this._clear()}_startTracking(){this._stopTracking();const e=navigator.geolocation.watchPosition((t=>{this._watchId=e,this._settingPosition=this._setPosition(t).then((e=>{this._clearWaitingTimer();const{view:t,graphic:i}=this;if(t&&t.graphics.remove(i),i){const e=i.clone();this.graphic=e,t&&t.graphics.push(e)}this.emit("track",{position:e})})).catch((e=>{throw this._emitError(e),this._clearWaitingTimer(),e}))}),this._handleWatchPositionError.bind(this),this.geolocationOptions);this._trackStartingTimeoutId=setTimeout((()=>{this._trackStartingTimeoutId=null}),15e3)}_handleWatchPositionError(e){this._emitError(e),this._stopTracking()}_clearWaitingTimer(){clearTimeout(this._trackStartingTimeoutId),this._trackStartingTimeoutId=null,this._settingPosition=null}_emitError(e){this.emit("track-error",{error:e})}};(0,r._)([(0,n.Cb)()],S.prototype,"_watchId",void 0),(0,r._)([(0,n.Cb)()],S.prototype,"_trackStartingTimeoutId",void 0),(0,r._)([(0,n.Cb)()],S.prototype,"_settingPosition",void 0),(0,r._)([(0,n.Cb)({dependsOn:["view.ready","tracking","_geolocationUsable","_trackStartingTimeoutId","_settingPosition"],readOnly:!0})],S.prototype,"state",null),(0,r._)([(0,n.Cb)({readOnly:!0,dependsOn:["_watchId"]})],S.prototype,"tracking",null),(0,r._)([(0,n.Cb)()],S.prototype,"start",null),(0,r._)([(0,n.Cb)()],S.prototype,"stop",null),S=(0,r._)([(0,o.j)("esri.widgets.Track.TrackViewModel")],S);const A=S;let T=class extends u.default{constructor(e,t){super(e,t),this.geolocationOptions=null,this.goToLocationEnabled=null,this.goToOverride=null,this.graphic=null,this.iconClass="esri-icon-tracking",this.label=void 0,this.messages=null,this.scale=null,this.tracking=null,this.useHeadingEnabled=null,this.view=null,this.viewModel=new A}start(){}stop(){}render(){const e=this.get("viewModel.state"),t={"esri-disabled":"disabled"===e,"esri-hidden":"feature-unsupported"===e},i="tracking"===e,r={"esri-icon-tracking":!i&&"waiting"!==e,"esri-icon-pause":i,"esri-rotating":"waiting"===e,"esri-icon-loading-indicator":"waiting"===e},{messages:n}=this,s=i?n.stopTracking:n.startTracking;return(0,d.j)("div",{bind:this,class:this.classes("esri-track esri-widget--button esri-widget",t),hidden:"feature-unsupported"===e,onclick:this._toggleTracking,onkeydown:this._toggleTracking,role:"button",tabIndex:0,"aria-label":s,title:s},(0,d.j)("span",{"aria-hidden":"true",class:this.classes("esri-icon",r)}),(0,d.j)("span",{class:"esri-icon-font-fallback-text"},s))}_toggleTracking(){const e=this.viewModel;e&&"feature-unsupported"!==e.state&&"disabled"!==e.state&&("tracking"!==e.state&&"waiting"!==e.state?this.viewModel.start():this.viewModel.stop())}};(0,r._)([(0,s.B)("viewModel.geolocationOptions")],T.prototype,"geolocationOptions",void 0),(0,r._)([(0,s.B)("viewModel.goToLocationEnabled")],T.prototype,"goToLocationEnabled",void 0),(0,r._)([(0,s.B)("viewModel.goToOverride")],T.prototype,"goToOverride",void 0),(0,r._)([(0,s.B)("viewModel.graphic")],T.prototype,"graphic",void 0),(0,r._)([(0,n.Cb)()],T.prototype,"iconClass",void 0),(0,r._)([(0,n.Cb)({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],T.prototype,"label",void 0),(0,r._)([(0,n.Cb)(),(0,c.G)(),(0,l.H)("esri/widgets/Track/t9n/Track")],T.prototype,"messages",void 0),(0,r._)([(0,s.B)("viewModel.scale")],T.prototype,"scale",void 0),(0,r._)([(0,s.B)("viewModel.tracking")],T.prototype,"tracking",void 0),(0,r._)([(0,s.B)("viewModel.useHeadingEnabled")],T.prototype,"useHeadingEnabled",void 0),(0,r._)([(0,s.B)("viewModel.view"),(0,c.G)()],T.prototype,"view",void 0),(0,r._)([(0,n.Cb)({type:A}),(0,c.G)("viewModel.state"),(0,h.s)(["track","track-error"])],T.prototype,"viewModel",void 0),(0,r._)([(0,s.B)("viewModel.start")],T.prototype,"start",null),(0,r._)([(0,s.B)("viewModel.stop")],T.prototype,"stop",null),(0,r._)([(0,a.h)()],T.prototype,"_toggleTracking",null),T=(0,r._)([(0,o.j)("esri.widgets.Track")],T);const k=T},26981:(e,t,i)=>{"use strict";i(11983);var r,n=(r=i(40115))&&r.__esModule?r:{default:r};n.default._babelPolyfill&&"undefined"!=typeof console&&console.warn&&console.warn("@babel/polyfill is loaded more than once on this page. This is probably not desirable/intended and may have consequences if different versions of the polyfills are applied sequentially. If you do need to load the polyfill more than once, use @babel/polyfill/noConflict instead to bypass the warning."),n.default._babelPolyfill=!0},11983:(e,t,i)=>{"use strict";i(16266),i(10990),i(70911),i(14160),i(6197),i(96728),i(54039),i(93568),i(78051),i(38250),i(15434),i(54952),i(96337),i(35666)},53269:(e,t,i)=>{"use strict";var r=i(23734),n=i(91322),s=i(3027);const o=new r.ZP;window.ShadyCSS||(window.ShadyCSS={prepareTemplate(e,t,i){},prepareTemplateDom(e,t){},prepareTemplateStyles(e,t,i){},styleSubtree(e,t){o.processStyles(),(0,n.wW)(e,t)},styleElement(e){o.processStyles()},styleDocument(e){o.processStyles(),(0,n.wW)(document.body,e)},getComputedStyleValue:(e,t)=>(0,n.B7)(e,t),flushCustomStyles(){},nativeCss:s.rd,nativeShadow:s.WA,cssBuild:s.Cp,disableRuntime:s.jF}),window.ShadyCSS.CustomStyleInterface=o;var a=i(59836);const l="include",c=window.ShadyCSS.CustomStyleInterface;class h extends HTMLElement{constructor(){super(),this._style=null,c.addCustomStyle(this)}getStyle(){if(this._style)return this._style;const e=this.querySelector("style");if(!e)return null;this._style=e;const t=e.getAttribute(l);return t&&(e.removeAttribute(l),e.textContent=(0,a.jv)(t)+e.textContent),this.ownerDocument!==window.document&&window.document.head.appendChild(this),this._style}}window.customElements.define("custom-style",h)},64262:(e,t,i)=>{"use strict";i.d(t,{t:()=>c});i(7894);var r=i(79967),n=i(89387);let s={},o={};function a(e,t){s[e]=o[e.toLowerCase()]=t}function l(e){return s[e]||o[e.toLowerCase()]}class c extends HTMLElement{static get observedAttributes(){return["id"]}static import(e,t){if(e){let i=l(e);return i&&t?i.querySelector(t):i}return null}attributeChangedCallback(e,t,i,r){t!==i&&this.register()}get assetpath(){if(!this.__assetpath){const e=window.HTMLImports&&HTMLImports.importForElement?HTMLImports.importForElement(this)||document:this.ownerDocument,t=(0,r.Kk)(this.getAttribute("assetpath")||"",e.baseURI);this.__assetpath=(0,r.iY)(t)}return this.__assetpath}register(e){if(e=e||this.id){if(n.XN&&void 0!==l(e))throw a(e,null),new Error(`strictTemplatePolicy: dom-module ${e} re-registered`);this.id=e,a(e,this),(t=this).querySelector("style")&&console.warn("dom-module %s has style outside template",t.id)}var t}}c.prototype.modules=s,customElements.define("dom-module",c)},70581:(e,t,i)=>{"use strict";i.d(t,{SH:()=>f,PP:()=>p});i(7894);var r=i(89387),n=i(91014),s=i(59836),o=i(79967),a=i(64262),l=i(87999),c=i(93501),h=i(77221);const d=(0,n.o)((e=>{const t=(0,h.e)(e);function i(e){const t=Object.getPrototypeOf(e);return t.prototype instanceof n?t:null}function r(e){if(!e.hasOwnProperty(JSCompiler_renameProperty("__ownProperties",e))){let t=null;if(e.hasOwnProperty(JSCompiler_renameProperty("properties",e))){const i=e.properties;i&&(t=function(e){const t={};for(let i in e){const r=e[i];t[i]="function"==typeof r?{type:r}:r}return t}(i))}e.__ownProperties=t}return e.__ownProperties}class n extends t{static get observedAttributes(){if(!this.hasOwnProperty(JSCompiler_renameProperty("__observedAttributes",this))){(0,c.z2)(this.prototype);const e=this._properties;this.__observedAttributes=e?Object.keys(e).map((e=>this.prototype._addPropertyToAttributeMap(e))):[]}return this.__observedAttributes}static finalize(){if(!this.hasOwnProperty(JSCompiler_renameProperty("__finalized",this))){const e=i(this);e&&e.finalize(),this.__finalized=!0,this._finalizeClass()}}static _finalizeClass(){const e=r(this);e&&this.createProperties(e)}static get _properties(){if(!this.hasOwnProperty(JSCompiler_renameProperty("__properties",this))){const e=i(this);this.__properties=Object.assign({},e&&e._properties,r(this))}return this.__properties}static typeForProperty(e){const t=this._properties[e];return t&&t.type}_initializeProperties(){(0,c.Gd)(),this.constructor.finalize(),super._initializeProperties()}connectedCallback(){super.connectedCallback&&super.connectedCallback(),this._enableProperties()}disconnectedCallback(){super.disconnectedCallback&&super.disconnectedCallback()}}return n}));var u=i(31342);const p=window.ShadyCSS&&window.ShadyCSS.cssBuild,f=(0,n.o)((e=>{const t=d((0,l.q)(e));return class extends t{static get polymerElementVersion(){return"3.4.1"}static _finalizeClass(){t._finalizeClass.call(this);const e=((i=this).hasOwnProperty(JSCompiler_renameProperty("__ownObservers",i))||(i.__ownObservers=i.hasOwnProperty(JSCompiler_renameProperty("observers",i))?i.observers:null),i.__ownObservers);var i;e&&this.createObservers(e,this._properties),this._prepareTemplate()}static _prepareTemplate(){let e=this.template;e&&("string"==typeof e?(console.error("template getter must return HTMLTemplateElement"),e=null):r.nL||(e=e.cloneNode(!0))),this.prototype._template=e}static createProperties(e){for(let s in e)t=this.prototype,i=s,r=e[s],n=e,r.computed&&(r.readOnly=!0),r.computed&&(t._hasReadOnlyEffect(i)?console.warn(`Cannot redefine computed property '${i}'.`):t._createComputedProperty(i,r.computed,n)),r.readOnly&&!t._hasReadOnlyEffect(i)?t._createReadOnlyProperty(i,!r.computed):!1===r.readOnly&&t._hasReadOnlyEffect(i)&&console.warn(`Cannot make readOnly property '${i}' non-readOnly.`),r.reflectToAttribute&&!t._hasReflectEffect(i)?t._createReflectedProperty(i):!1===r.reflectToAttribute&&t._hasReflectEffect(i)&&console.warn(`Cannot make reflected property '${i}' non-reflected.`),r.notify&&!t._hasNotifyEffect(i)?t._createNotifyingProperty(i):!1===r.notify&&t._hasNotifyEffect(i)&&console.warn(`Cannot make notify property '${i}' non-notify.`),r.observer&&t._createPropertyObserver(i,r.observer,n[r.observer]),t._addPropertyToAttributeMap(i);var t,i,r,n}static createObservers(e,t){const i=this.prototype;for(let r=0;r<e.length;r++)i._createMethodObserver(e[r],t)}static get template(){if(!this.hasOwnProperty(JSCompiler_renameProperty("_template",this))){const e=this.prototype.hasOwnProperty(JSCompiler_renameProperty("_template",this.prototype))?this.prototype._template:void 0;this._template=void 0!==e?e:this.hasOwnProperty(JSCompiler_renameProperty("is",this))&&function(e){let t=null;if(e&&(!r.XN||r.ZN)&&(t=a.t.import(e,"template"),r.XN&&!t))throw new Error(`strictTemplatePolicy: expecting dom-module or null template for ${e}`);return t}(this.is)||Object.getPrototypeOf(this.prototype).constructor.template}return this._template}static set template(e){this._template=e}static get importPath(){if(!this.hasOwnProperty(JSCompiler_renameProperty("_importPath",this))){const e=this.importMeta;if(e)this._importPath=(0,o.iY)(e.url);else{const e=a.t.import(this.is);this._importPath=e&&e.assetpath||Object.getPrototypeOf(this.prototype).constructor.importPath}}return this._importPath}constructor(){super(),this._template,this._importPath,this.rootPath,this.importPath,this.root,this.$}_initializeProperties(){this.constructor.finalize(),this.constructor._finalizeTemplate(this.localName),super._initializeProperties(),this.rootPath=r.sM,this.importPath=this.constructor.importPath;let e=function(e){if(!e.hasOwnProperty(JSCompiler_renameProperty("__propertyDefaults",e))){e.__propertyDefaults=null;let t=e._properties;for(let i in t){let r=t[i];"value"in r&&(e.__propertyDefaults=e.__propertyDefaults||{},e.__propertyDefaults[i]=r)}}return e.__propertyDefaults}(this.constructor);if(e)for(let t in e){let i=e[t];if(this._canApplyPropertyDefault(t)){let e="function"==typeof i.value?i.value.call(this):i.value;this._hasAccessor(t)?this._setPendingProperty(t,e,!0):this[t]=e}}}_canApplyPropertyDefault(e){return!this.hasOwnProperty(e)}static _processStyleText(e,t){return(0,o.Rq)(e,t)}static _finalizeTemplate(e){const t=this.prototype._template;if(t&&!t.__polymerFinalized){t.__polymerFinalized=!0;const i=this.importPath;!function(e,t,i,n){if(!p){const r=t.content.querySelectorAll("style"),o=(0,s.uT)(t),a=(0,s.lx)(i),l=t.content.firstElementChild;for(let i=0;i<a.length;i++){let r=a[i];r.textContent=e._processStyleText(r.textContent,n),t.content.insertBefore(r,l)}let c=0;for(let t=0;t<o.length;t++){let i=o[t],s=r[c];s!==i?(i=i.cloneNode(!0),s.parentNode.insertBefore(i,s)):c++,i.textContent=e._processStyleText(i.textContent,n)}}if(window.ShadyCSS&&window.ShadyCSS.prepareTemplate(t,i),r.md&&p&&r.FV){const i=t.content.querySelectorAll("style");if(i){let t="";Array.from(i).forEach((e=>{t+=e.textContent,e.parentNode.removeChild(e)})),e._styleSheet=new CSSStyleSheet,e._styleSheet.replaceSync(t)}}}(this,t,e,i?(0,o.Kk)(i):""),this.prototype._bindTemplate(t)}}connectedCallback(){window.ShadyCSS&&this._template&&window.ShadyCSS.styleElement(this),super.connectedCallback()}ready(){this._template&&(this.root=this._stampTemplate(this._template),this.$=this.root.$),super.ready()}_readyClients(){this._template&&(this.root=this._attachDom(this.root)),super._readyClients()}_attachDom(e){const t=(0,u.r)(this);if(t.attachShadow)return e?(t.shadowRoot||(t.attachShadow({mode:"open",shadyUpgradeFragment:e}),t.shadowRoot.appendChild(e),this.constructor._styleSheet&&(t.shadowRoot.adoptedStyleSheets=[this.constructor._styleSheet])),r.Hr&&window.ShadyDOM&&window.ShadyDOM.flushInitial(t.shadowRoot),t.shadowRoot):null;throw new Error("ShadowDOM not available. PolymerElement can create dom as children instead of in ShadowDOM by setting `this.root = this;` before `ready`.")}updateStyles(e){window.ShadyCSS&&window.ShadyCSS.styleSubtree(this,e)}resolveUrl(e,t){return!t&&this.importPath&&(t=(0,o.Kk)(this.importPath)),(0,o.Kk)(e,t)}static _parseTemplateContent(e,i,r){return i.dynamicFns=i.dynamicFns||this._properties,t._parseTemplateContent.call(this,e,i,r)}static _addTemplatePropertyEffect(e,i,n){return!r.a2||i in this._properties||n.info.part.signature&&n.info.part.signature.static||n.info.part.hostProp||e.nestedTemplate||console.warn(`Property '${i}' used in template but not declared in 'properties'; attribute will not be observed.`),t._addTemplatePropertyEffect.call(this,e,i,n)}}}))},96163:(e,t,i)=>{"use strict";i.d(t,{_:()=>s});i(7894);var r=i(91014),n=i(24010);const s=(0,r.o)((e=>class extends e{_addEventListenerToNode(e,t,i){(0,n.NH)(e,t,i)||super._addEventListenerToNode(e,t,i)}_removeEventListenerFromNode(e,t,i){(0,n.ys)(e,t,i)||super._removeEventListenerFromNode(e,t,i)}}))},68091:(e,t,i)=>{"use strict";i.d(t,{E:()=>s,w:()=>o});var r=i(91014);function n(e,t,i,r,n){let s;n&&(s="object"==typeof i&&null!==i,s&&(r=e.__dataTemp[t]));let o=r!==i&&(r==r||i==i);return s&&o&&(e.__dataTemp[t]=i),o}const s=(0,r.o)((e=>class extends e{_shouldPropertyChange(e,t,i){return n(this,e,t,i,!0)}})),o=(0,r.o)((e=>class extends e{static get properties(){return{mutableData:Boolean}}_shouldPropertyChange(e,t,i){return n(this,e,t,i,this.mutableData)}}));s._mutablePropertyChange=n},77221:(e,t,i)=>{"use strict";i.d(t,{e:()=>a});i(7894);var r=i(91014),n=i(2224),s=i(31342);const o=n.YA,a=(0,r.o)((e=>class extends e{static createProperties(e){const t=this.prototype;for(let i in e)i in t||t._createPropertyAccessor(i)}static attributeNameForProperty(e){return e.toLowerCase()}static typeForProperty(e){}_createPropertyAccessor(e,t){this._addPropertyToAttributeMap(e),this.hasOwnProperty(JSCompiler_renameProperty("__dataHasAccessor",this))||(this.__dataHasAccessor=Object.assign({},this.__dataHasAccessor)),this.__dataHasAccessor[e]||(this.__dataHasAccessor[e]=!0,this._definePropertyAccessor(e,t))}_addPropertyToAttributeMap(e){this.hasOwnProperty(JSCompiler_renameProperty("__dataAttributes",this))||(this.__dataAttributes=Object.assign({},this.__dataAttributes));let t=this.__dataAttributes[e];return t||(t=this.constructor.attributeNameForProperty(e),this.__dataAttributes[t]=e),t}_definePropertyAccessor(e,t){Object.defineProperty(this,e,{get(){return this.__data[e]},set:t?function(){}:function(t){this._setPendingProperty(e,t,!0)&&this._invalidateProperties()}})}constructor(){super(),this.__dataEnabled=!1,this.__dataReady=!1,this.__dataInvalid=!1,this.__data={},this.__dataPending=null,this.__dataOld=null,this.__dataInstanceProps=null,this.__dataCounter=0,this.__serializing=!1,this._initializeProperties()}ready(){this.__dataReady=!0,this._flushProperties()}_initializeProperties(){for(let e in this.__dataHasAccessor)this.hasOwnProperty(e)&&(this.__dataInstanceProps=this.__dataInstanceProps||{},this.__dataInstanceProps[e]=this[e],delete this[e])}_initializeInstanceProperties(e){Object.assign(this,e)}_setProperty(e,t){this._setPendingProperty(e,t)&&this._invalidateProperties()}_getProperty(e){return this.__data[e]}_setPendingProperty(e,t,i){let r=this.__data[e],n=this._shouldPropertyChange(e,t,r);return n&&(this.__dataPending||(this.__dataPending={},this.__dataOld={}),this.__dataOld&&!(e in this.__dataOld)&&(this.__dataOld[e]=r),this.__data[e]=t,this.__dataPending[e]=t),n}_isPropertyPending(e){return!(!this.__dataPending||!this.__dataPending.hasOwnProperty(e))}_invalidateProperties(){!this.__dataInvalid&&this.__dataReady&&(this.__dataInvalid=!0,o.run((()=>{this.__dataInvalid&&(this.__dataInvalid=!1,this._flushProperties())})))}_enableProperties(){this.__dataEnabled||(this.__dataEnabled=!0,this.__dataInstanceProps&&(this._initializeInstanceProperties(this.__dataInstanceProps),this.__dataInstanceProps=null),this.ready())}_flushProperties(){this.__dataCounter++;const e=this.__data,t=this.__dataPending,i=this.__dataOld;this._shouldPropertiesChange(e,t,i)&&(this.__dataPending=null,this.__dataOld=null,this._propertiesChanged(e,t,i)),this.__dataCounter--}_shouldPropertiesChange(e,t,i){return Boolean(t)}_propertiesChanged(e,t,i){}_shouldPropertyChange(e,t,i){return i!==t&&(i==i||t==t)}attributeChangedCallback(e,t,i,r){t!==i&&this._attributeToProperty(e,i),super.attributeChangedCallback&&super.attributeChangedCallback(e,t,i,r)}_attributeToProperty(e,t,i){if(!this.__serializing){const r=this.__dataAttributes,n=r&&r[e]||e;this[n]=this._deserializeValue(t,i||this.constructor.typeForProperty(n))}}_propertyToAttribute(e,t,i){this.__serializing=!0,i=arguments.length<3?this[e]:i,this._valueToNodeAttribute(this,i,t||this.constructor.attributeNameForProperty(e)),this.__serializing=!1}_valueToNodeAttribute(e,t,i){const r=this._serializeValue(t);"class"!==i&&"name"!==i&&"slot"!==i||(e=(0,s.r)(e)),void 0===r?e.removeAttribute(i):e.setAttribute(i,r)}_serializeValue(e){switch(typeof e){case"boolean":return e?"":void 0;default:return null!=e?e.toString():void 0}}_deserializeValue(e,t){switch(t){case Boolean:return null!==e;case Number:return Number(e);default:return e}}}))},43104:(e,t,i)=>{"use strict";i.d(t,{Q:()=>l});i(7894);var r=i(91014),n=i(49027),s=i(77221);const o={};let a=HTMLElement.prototype;for(;a;){let e=Object.getOwnPropertyNames(a);for(let t=0;t<e.length;t++)o[e[t]]=!0;a=Object.getPrototypeOf(a)}const l=(0,r.o)((e=>{const t=(0,s.e)(e);return class extends t{static createPropertiesForAttributes(){let e=this.observedAttributes;for(let t=0;t<e.length;t++)this.prototype._createPropertyAccessor((0,n.z)(e[t]))}static attributeNameForProperty(e){return(0,n.n)(e)}_initializeProperties(){this.__dataProto&&(this._initializeProtoProperties(this.__dataProto),this.__dataProto=null),super._initializeProperties()}_initializeProtoProperties(e){for(let t in e)this._setProperty(t,e[t])}_ensureAttribute(e,t){const i=this;i.hasAttribute(e)||this._valueToNodeAttribute(i,t,e)}_serializeValue(e){switch(typeof e){case"object":if(e instanceof Date)return e.toString();if(e)try{return JSON.stringify(e)}catch(e){return""}default:return super._serializeValue(e)}}_deserializeValue(e,t){let i;switch(t){case Object:try{i=JSON.parse(e)}catch(t){i=e}break;case Array:try{i=JSON.parse(e)}catch(t){i=null,console.warn(`Polymer::Attributes: couldn't decode Array as JSON: ${e}`)}break;case Date:i=isNaN(e)?String(e):Number(e),i=new Date(i);break;default:i=super._deserializeValue(e,t)}return i}_definePropertyAccessor(e,t){!function(e,t){if(!o[t]){let i=e[t];void 0!==i&&(e.__data?e._setPendingProperty(t,i):(e.__dataProto?e.hasOwnProperty(JSCompiler_renameProperty("__dataProto",e))||(e.__dataProto=Object.create(e.__dataProto)):e.__dataProto={},e.__dataProto[t]=i))}}(this,e),super._definePropertyAccessor(e,t)}_hasAccessor(e){return this.__dataHasAccessor&&this.__dataHasAccessor[e]}_isPropertyPending(e){return Boolean(this.__dataPending&&e in this.__dataPending)}}}))},87999:(e,t,i)=>{"use strict";i.d(t,{q:()=>X});i(7894);var r=i(31342),n=i(91014),s=i(81446),o=i(49027),a=i(43104);const l={"dom-if":!0,"dom-repeat":!0};let c=!1,h=!1;function d(e){(function(){if(!c){c=!0;const e=document.createElement("textarea");e.placeholder="a",h=e.placeholder===e.textContent}return h})()&&"textarea"===e.localName&&e.placeholder&&e.placeholder===e.textContent&&(e.textContent=null)}function u(e){let t=e.getAttribute("is");if(t&&l[t]){let i=e;for(i.removeAttribute("is"),e=i.ownerDocument.createElement(t),i.parentNode.replaceChild(e,i),e.appendChild(i);i.attributes.length;)e.setAttribute(i.attributes[0].name,i.attributes[0].value),i.removeAttribute(i.attributes[0].name)}return e}function p(e,t){let i=t.parentInfo&&p(e,t.parentInfo);if(!i)return e;for(let e=i.firstChild,r=0;e;e=e.nextSibling)if(t.parentIndex===r++)return e}function f(e,t,i,r){r.id&&(t[r.id]=i)}function m(e,t,i){if(i.events&&i.events.length)for(let r,n=0,s=i.events;n<s.length&&(r=s[n]);n++)e._addMethodEventListenerToNode(t,r.name,r.value,e)}function _(e,t,i,r){i.templateInfo&&(t._templateInfo=i.templateInfo,t._parentTemplateInfo=r)}const g=(0,n.o)((e=>class extends e{static _parseTemplate(e,t){if(!e._templateInfo){let i=e._templateInfo={};i.nodeInfoList=[],i.nestedTemplate=Boolean(t),i.stripWhiteSpace=t&&t.stripWhiteSpace||e.hasAttribute("strip-whitespace"),this._parseTemplateContent(e,i,{parent:null})}return e._templateInfo}static _parseTemplateContent(e,t,i){return this._parseTemplateNode(e.content,t,i)}static _parseTemplateNode(e,t,i){let r=!1,n=e;return"template"!=n.localName||n.hasAttribute("preserve-content")?"slot"===n.localName&&(t.hasInsertionPoint=!0):r=this._parseTemplateNestedTemplate(n,t,i)||r,d(n),n.firstChild&&this._parseTemplateChildNodes(n,t,i),n.hasAttributes&&n.hasAttributes()&&(r=this._parseTemplateNodeAttributes(n,t,i)||r),r||i.noted}static _parseTemplateChildNodes(e,t,i){if("script"!==e.localName&&"style"!==e.localName)for(let r,n=e.firstChild,s=0;n;n=r){if("template"==n.localName&&(n=u(n)),r=n.nextSibling,n.nodeType===Node.TEXT_NODE){let i=r;for(;i&&i.nodeType===Node.TEXT_NODE;)n.textContent+=i.textContent,r=i.nextSibling,e.removeChild(i),i=r;if(t.stripWhiteSpace&&!n.textContent.trim()){e.removeChild(n);continue}}let o={parentIndex:s,parentInfo:i};this._parseTemplateNode(n,t,o)&&(o.infoIndex=t.nodeInfoList.push(o)-1),n.parentNode&&s++}}static _parseTemplateNestedTemplate(e,t,i){let r=e,n=this._parseTemplate(r,t);return(n.content=r.content.ownerDocument.createDocumentFragment()).appendChild(r.content),i.templateInfo=n,!0}static _parseTemplateNodeAttributes(e,t,i){let r=!1,n=Array.from(e.attributes);for(let s,o=n.length-1;s=n[o];o--)r=this._parseTemplateNodeAttribute(e,t,i,s.name,s.value)||r;return r}static _parseTemplateNodeAttribute(e,t,i,r,n){return"on-"===r.slice(0,3)?(e.removeAttribute(r),i.events=i.events||[],i.events.push({name:r.slice(3),value:n}),!0):"id"===r&&(i.id=n,!0)}static _contentForTemplate(e){let t=e._templateInfo;return t&&t.content||e.content}_stampTemplate(e,t){e&&!e.content&&window.HTMLTemplateElement&&HTMLTemplateElement.decorate&&HTMLTemplateElement.decorate(e);let i=(t=t||this.constructor._parseTemplate(e)).nodeInfoList,r=t.content||e.content,n=document.importNode(r,!0);n.__noInsertionPoint=!t.hasInsertionPoint;let s=n.nodeList=new Array(i.length);n.$={};for(let e,r=0,o=i.length;r<o&&(e=i[r]);r++){let i=s[r]=p(n,e);f(0,n.$,i,e),_(0,i,e,t),m(this,i,e)}return n=n,n}_addMethodEventListenerToNode(e,t,i,r){let n=function(e,t,i){return e=e._methodHost||e,function(t){e[i]?e[i](t,t.detail):console.warn("listener method `"+i+"` not defined")}}(r=r||e,0,i);return this._addEventListenerToNode(e,t,n),n}_addEventListenerToNode(e,t,i){e.addEventListener(t,i)}_removeEventListenerFromNode(e,t,i){e.removeEventListener(t,i)}}));var y=i(89387);let v=0;const b=[],w={COMPUTE:"__computeEffects",REFLECT:"__reflectEffects",NOTIFY:"__notifyEffects",PROPAGATE:"__propagateEffects",OBSERVE:"__observeEffects",READ_ONLY:"__readOnly"},x="__computeInfo",C=/[A-Z]/;function S(e,t,i){let r=e[t];if(r){if(!e.hasOwnProperty(t)&&(r=e[t]=Object.create(e[t]),i))for(let e in r){let t=r[e],i=r[e]=Array(t.length);for(let e=0;e<t.length;e++)i[e]=t[e]}}else r=e[t]={};return r}function A(e,t,i,r,n,o){if(t){let a=!1;const l=v++;for(let c in i){let h=t[n?(0,s.Jz)(c):c];if(h)for(let t,s=0,d=h.length;s<d&&(t=h[s]);s++)t.info&&t.info.lastRun===l||n&&!k(c,t.trigger)||(t.info&&(t.info.lastRun=l),t.fn(e,c,i,r,t.info,n,o),a=!0)}return a}return!1}function T(e,t,i,r,n,o,a,l){let c=!1,h=t[a?(0,s.Jz)(r):r];if(h)for(let t,s=0,d=h.length;s<d&&(t=h[s]);s++)t.info&&t.info.lastRun===i||a&&!k(r,t.trigger)||(t.info&&(t.info.lastRun=i),t.fn(e,r,n,o,t.info,a,l),c=!0);return c}function k(e,t){if(t){let i=t.name;return i==e||!(!t.structured||!(0,s.jg)(i,e))||!(!t.wildcard||!(0,s.SG)(i,e))}return!0}function O(e,t,i,r,n){let s="string"==typeof n.method?e[n.method]:n.method,o=n.property;s?s.call(e,e.__data[o],r[o]):n.dynamicFn||console.warn("observer method `"+n.method+"` not defined")}function P(e,t,i){let r=(0,s.Jz)(t);if(r!==t){return I(e,(0,o.n)(r)+"-changed",i[t],t),!0}return!1}function I(e,t,i,n){let s={value:i,queueProperty:!0};n&&(s.path=n),(0,r.r)(e).dispatchEvent(new CustomEvent(t,{detail:s}))}function E(e,t,i,r,n,o){let a=(o?(0,s.Jz)(t):t)!=t?t:null,l=a?(0,s.U2)(e,a):e.__data[t];a&&void 0===l&&(l=i[t]),I(e,n.eventName,l,a)}function M(e,t,i,r,n){let s=e.__data[t];y.v1&&(s=(0,y.v1)(s,n.attrName,"attribute",e)),e._propertyToAttribute(t,n.attrName,s)}function R(e,t,i,r){let n=e[w.COMPUTE];if(n)if(y.ls){v++;const s=function(e){let t=e.constructor.__orderedComputedDeps;if(!t){t=new Map;const i=e[w.COMPUTE];let r,{counts:n,ready:s,total:o}=function(e){const t=e.__computeInfo,i={},r=e[w.COMPUTE],n=[];let s=0;for(let e in t){const r=t[e];s+=i[e]=r.args.filter((e=>!e.literal)).length+(r.dynamicFn?1:0)}for(let e in r)t[e]||n.push(e);return{counts:i,ready:n,total:s}}(e);for(;r=s.shift();){t.set(r,t.size);const e=i[r];e&&e.forEach((e=>{const t=e.info.methodInfo;--o,0==--n[t]&&s.push(t)}))}if(0!==o){const t=e;console.warn(`Computed graph for ${t.localName} incomplete; circular?`)}e.constructor.__orderedComputedDeps=t}return t}(e),o=[];for(let e in t)L(e,n,o,s,r);let a;for(;a=o.shift();)D(e,"",t,i,a)&&L(a.methodInfo,n,o,s,r);Object.assign(i,e.__dataOld),Object.assign(t,e.__dataPending),e.__dataPending=null}else{let s=t;for(;A(e,n,s,i,r);)Object.assign(i,e.__dataOld),Object.assign(t,e.__dataPending),s=e.__dataPending,e.__dataPending=null}}const N=(e,t,i)=>{let r=0,n=t.length-1,s=-1;for(;r<=n;){const o=r+n>>1,a=i.get(t[o].methodInfo)-i.get(e.methodInfo);if(a<0)r=o+1;else{if(!(a>0)){s=o;break}n=o-1}}s<0&&(s=n+1),t.splice(s,0,e)},L=(e,t,i,r,n)=>{const o=t[n?(0,s.Jz)(e):e];if(o)for(let t=0;t<o.length;t++){const s=o[t];s.info.lastRun===v||n&&!k(e,s.trigger)||(s.info.lastRun=v,N(s.info,i,r))}};function D(e,t,i,r,n){let s=G(e,t,i,r,n);if(s===b)return!1;let o=n.methodInfo;return e.__dataHasAccessor&&e.__dataHasAccessor[o]?e._setPendingProperty(o,s,!0):(e[o]=s,!1)}function z(e,t,i,r,n,s,a){i.bindings=i.bindings||[];let l={kind:r,target:n,parts:s,literal:a,isCompound:1!==s.length};if(i.bindings.push(l),function(e){return Boolean(e.target)&&"attribute"!=e.kind&&"text"!=e.kind&&!e.isCompound&&"{"===e.parts[0].mode}(l)){let{event:e,negate:t}=l.parts[0];l.listenerEvent=e||(0,o.n)(n)+"-changed",l.listenerNegate=t}let c=t.nodeInfoList.length;for(let i=0;i<l.parts.length;i++){let r=l.parts[i];r.compoundIndex=i,F(e,t,l,r,c)}}function F(e,t,i,r,n){if(!r.literal)if("attribute"===i.kind&&"-"===i.target[0])console.warn("Cannot set attribute "+i.target+' because "-" is not a valid attribute starting character');else{let s=r.dependencies,o={index:n,binding:i,part:r,evaluator:e};for(let i=0;i<s.length;i++){let r=s[i];"string"==typeof r&&(r=$(r),r.wildcard=!0),e._addTemplatePropertyEffect(t,r.rootProperty,{fn:j,info:o,trigger:r})}}}function j(e,t,i,r,n,o,a){let l=a[n.index],c=n.binding,h=n.part;if(o&&h.source&&t.length>h.source.length&&"property"==c.kind&&!c.isCompound&&l.__isPropertyEffectsClient&&l.__dataHasAccessor&&l.__dataHasAccessor[c.target]){let r=i[t];t=(0,s.Iu)(h.source,c.target,t),l._setPendingPropertyOrPath(t,r,!1,!0)&&e._enqueueClient(l)}else{let s=n.evaluator._evaluateBinding(e,h,t,i,r,o);s!==b&&function(e,t,i,r,n){n=function(e,t,i,r){if(i.isCompound){let n=e.__dataCompoundStorage[i.target];n[r.compoundIndex]=t,t=n.join("")}"attribute"!==i.kind&&("textContent"!==i.target&&("value"!==i.target||"input"!==e.localName&&"textarea"!==e.localName)||(t=null==t?"":t));return t}(t,n,i,r),y.v1&&(n=(0,y.v1)(n,i.target,i.kind,t));if("attribute"==i.kind)e._valueToNodeAttribute(t,n,i.target);else{let r=i.target;t.__isPropertyEffectsClient&&t.__dataHasAccessor&&t.__dataHasAccessor[r]?t[w.READ_ONLY]&&t[w.READ_ONLY][r]||t._setPendingProperty(r,n)&&e._enqueueClient(t):e._setUnmanagedPropertyToNode(t,r,n)}}(e,l,c,h,s)}}function B(e,t){if(t.isCompound){let i=e.__dataCompoundStorage||(e.__dataCompoundStorage={}),n=t.parts,s=new Array(n.length);for(let e=0;e<n.length;e++)s[e]=n[e].literal;let o=t.target;i[o]=s,t.literal&&"property"==t.kind&&("className"===o&&(e=(0,r.r)(e)),e[o]=t.literal)}}function V(e,t,i){if(i.listenerEvent){let r=i.parts[0];e.addEventListener(i.listenerEvent,(function(e){!function(e,t,i,r,n){let o,a=e.detail,l=a&&a.path;l?(r=(0,s.Iu)(i,r,l),o=a&&a.value):o=e.currentTarget[i],o=n?!o:o,t[w.READ_ONLY]&&t[w.READ_ONLY][r]||!t._setPendingPropertyOrPath(r,o,!0,Boolean(l))||a&&a.queueProperty||t._invalidateProperties()}(e,t,i.target,r.source,r.negate)}))}}function U(e,t,i,r,n,s){s=t.static||s&&("object"!=typeof s||s[t.methodName]);let o={methodName:t.methodName,args:t.args,methodInfo:n,dynamicFn:s};for(let n,s=0;s<t.args.length&&(n=t.args[s]);s++)n.literal||e._addPropertyEffect(n.rootProperty,i,{fn:r,info:o,trigger:n});return s&&e._addPropertyEffect(t.methodName,i,{fn:r,info:o}),o}function G(e,t,i,r,n){let s=e._methodHost||e,o=s[n.methodName];if(o){let r=e._marshalArgs(n.args,t,i);return r===b?b:o.apply(s,r)}n.dynamicFn||console.warn("method `"+n.methodName+"` not defined")}const Z=[],H=new RegExp("(\\[\\[|{{)\\s*(?:(!)\\s*)?((?:[a-zA-Z_$][\\w.:$\\-*]*)\\s*(?:\\(\\s*(?:(?:(?:((?:[a-zA-Z_$][\\w.:$\\-*]*)|(?:[-+]?[0-9]*\\.?[0-9]+(?:[eE][-+]?[0-9]+)?)|(?:(?:'(?:[^'\\\\]|\\\\.)*')|(?:\"(?:[^\"\\\\]|\\\\.)*\")))\\s*)(?:,\\s*(?:((?:[a-zA-Z_$][\\w.:$\\-*]*)|(?:[-+]?[0-9]*\\.?[0-9]+(?:[eE][-+]?[0-9]+)?)|(?:(?:'(?:[^'\\\\]|\\\\.)*')|(?:\"(?:[^\"\\\\]|\\\\.)*\")))\\s*))*)?)\\)\\s*)?)(?:]]|}})","g");function W(e){let t="";for(let i=0;i<e.length;i++){t+=e[i].literal||""}return t}function q(e){let t=e.match(/([^\s]+?)\(([\s\S]*)\)/);if(t){let e={methodName:t[1],static:!0,args:Z};if(t[2].trim()){return function(e,t){return t.args=e.map((function(e){let i=$(e);return i.literal||(t.static=!1),i}),this),t}(t[2].replace(/\\,/g,"&comma;").split(","),e)}return e}return null}function $(e){let t=e.trim().replace(/&comma;/g,",").replace(/\\(.)/g,"$1"),i={name:t,value:"",literal:!1},r=t[0];switch("-"===r&&(r=t[1]),r>="0"&&r<="9"&&(r="#"),r){case"'":case'"':i.value=t.slice(1,-1),i.literal=!0;break;case"#":i.value=Number(t),i.literal=!0}return i.literal||(i.rootProperty=(0,s.Jz)(t),i.structured=(0,s.AZ)(t),i.structured&&(i.wildcard=".*"==t.slice(-2),i.wildcard&&(i.name=t.slice(0,-2)))),i}function J(e,t,i){let r=(0,s.U2)(e,i);return void 0===r&&(r=t[i]),r}function Y(e,t,i,r){const n={indexSplices:r};y.HY&&!e._overrideLegacyUndefined&&(t.splices=n),e.notifyPath(i+".splices",n),e.notifyPath(i+".length",t.length),y.HY&&!e._overrideLegacyUndefined&&(n.indexSplices=[])}function K(e,t,i,r,n,s){Y(e,t,i,[{index:r,addedCount:n,removed:s,object:t,type:"splice"}])}const X=(0,n.o)((e=>{const t=g((0,a.Q)(e));return class extends t{constructor(){super(),this.__isPropertyEffectsClient=!0,this.__dataClientsReady,this.__dataPendingClients,this.__dataToNotify,this.__dataLinkedPaths,this.__dataHasPaths,this.__dataCompoundStorage,this.__dataHost,this.__dataTemp,this.__dataClientsInitialized,this.__data,this.__dataPending,this.__dataOld,this.__computeEffects,this.__computeInfo,this.__reflectEffects,this.__notifyEffects,this.__propagateEffects,this.__observeEffects,this.__readOnly,this.__templateInfo,this._overrideLegacyUndefined}get PROPERTY_EFFECT_TYPES(){return w}_initializeProperties(){super._initializeProperties(),this._registerHost(),this.__dataClientsReady=!1,this.__dataPendingClients=null,this.__dataToNotify=null,this.__dataLinkedPaths=null,this.__dataHasPaths=!1,this.__dataCompoundStorage=this.__dataCompoundStorage||null,this.__dataHost=this.__dataHost||null,this.__dataTemp={},this.__dataClientsInitialized=!1}_registerHost(){if(Q.length){let e=Q[Q.length-1];e._enqueueClient(this),this.__dataHost=e}}_initializeProtoProperties(e){this.__data=Object.create(e),this.__dataPending=Object.create(e),this.__dataOld={}}_initializeInstanceProperties(e){let t=this[w.READ_ONLY];for(let i in e)t&&t[i]||(this.__dataPending=this.__dataPending||{},this.__dataOld=this.__dataOld||{},this.__data[i]=this.__dataPending[i]=e[i])}_addPropertyEffect(e,t,i){this._createPropertyAccessor(e,t==w.READ_ONLY);let r=S(this,t,!0)[e];r||(r=this[t][e]=[]),r.push(i)}_removePropertyEffect(e,t,i){let r=S(this,t,!0)[e],n=r.indexOf(i);n>=0&&r.splice(n,1)}_hasPropertyEffect(e,t){let i=this[t];return Boolean(i&&i[e])}_hasReadOnlyEffect(e){return this._hasPropertyEffect(e,w.READ_ONLY)}_hasNotifyEffect(e){return this._hasPropertyEffect(e,w.NOTIFY)}_hasReflectEffect(e){return this._hasPropertyEffect(e,w.REFLECT)}_hasComputedEffect(e){return this._hasPropertyEffect(e,w.COMPUTE)}_setPendingPropertyOrPath(e,t,i,r){if(r||(0,s.Jz)(Array.isArray(e)?e[0]:e)!==e){if(!r){let i=(0,s.U2)(this,e);if(!(e=(0,s.t8)(this,e,t))||!super._shouldPropertyChange(e,t,i))return!1}if(this.__dataHasPaths=!0,this._setPendingProperty(e,t,i))return function(e,t,i){let r=e.__dataLinkedPaths;if(r){let n;for(let o in r){let a=r[o];(0,s.SG)(o,t)?(n=(0,s.Iu)(o,a,t),e._setPendingPropertyOrPath(n,i,!0,!0)):(0,s.SG)(a,t)&&(n=(0,s.Iu)(a,o,t),e._setPendingPropertyOrPath(n,i,!0,!0))}}}(this,e,t),!0}else{if(this.__dataHasAccessor&&this.__dataHasAccessor[e])return this._setPendingProperty(e,t,i);this[e]=t}return!1}_setUnmanagedPropertyToNode(e,t,i){i===e[t]&&"object"!=typeof i||("className"===t&&(e=(0,r.r)(e)),e[t]=i)}_setPendingProperty(e,t,i){let r=this.__dataHasPaths&&(0,s.AZ)(e),n=r?this.__dataTemp:this.__data;return!!this._shouldPropertyChange(e,t,n[e])&&(this.__dataPending||(this.__dataPending={},this.__dataOld={}),e in this.__dataOld||(this.__dataOld[e]=this.__data[e]),r?this.__dataTemp[e]=t:this.__data[e]=t,this.__dataPending[e]=t,(r||this[w.NOTIFY]&&this[w.NOTIFY][e])&&(this.__dataToNotify=this.__dataToNotify||{},this.__dataToNotify[e]=i),!0)}_setProperty(e,t){this._setPendingProperty(e,t,!0)&&this._invalidateProperties()}_invalidateProperties(){this.__dataReady&&this._flushProperties()}_enqueueClient(e){this.__dataPendingClients=this.__dataPendingClients||[],e!==this&&this.__dataPendingClients.push(e)}_flushClients(){this.__dataClientsReady?this.__enableOrFlushClients():(this.__dataClientsReady=!0,this._readyClients(),this.__dataReady=!0)}__enableOrFlushClients(){let e=this.__dataPendingClients;if(e){this.__dataPendingClients=null;for(let t=0;t<e.length;t++){let i=e[t];i.__dataEnabled?i.__dataPending&&i._flushProperties():i._enableProperties()}}}_readyClients(){this.__enableOrFlushClients()}setProperties(e,t){for(let i in e)!t&&this[w.READ_ONLY]&&this[w.READ_ONLY][i]||this._setPendingPropertyOrPath(i,e[i],!0);this._invalidateProperties()}ready(){this._flushProperties(),this.__dataClientsReady||this._flushClients(),this.__dataPending&&this._flushProperties()}_propertiesChanged(e,t,i){let r,n=this.__dataHasPaths;this.__dataHasPaths=!1,R(this,t,i,n),r=this.__dataToNotify,this.__dataToNotify=null,this._propagatePropertyChanges(t,i,n),this._flushClients(),A(this,this[w.REFLECT],t,i,n),A(this,this[w.OBSERVE],t,i,n),r&&function(e,t,i,r,n){let s,o,a=e[w.NOTIFY],l=v++;for(let o in t)t[o]&&(a&&T(e,a,l,o,i,r,n)||n&&P(e,o,i))&&(s=!0);s&&(o=e.__dataHost)&&o._invalidateProperties&&o._invalidateProperties()}(this,r,t,i,n),1==this.__dataCounter&&(this.__dataTemp={})}_propagatePropertyChanges(e,t,i){this[w.PROPAGATE]&&A(this,this[w.PROPAGATE],e,t,i),this.__templateInfo&&this._runEffectsForTemplate(this.__templateInfo,e,t,i)}_runEffectsForTemplate(e,t,i,r){const n=(t,r)=>{A(this,e.propertyEffects,t,i,r,e.nodeList);for(let n=e.firstChild;n;n=n.nextSibling)this._runEffectsForTemplate(n,t,i,r)};e.runEffects?e.runEffects(n,t,r):n(t,r)}linkPaths(e,t){e=(0,s.Fv)(e),t=(0,s.Fv)(t),this.__dataLinkedPaths=this.__dataLinkedPaths||{},this.__dataLinkedPaths[e]=t}unlinkPaths(e){e=(0,s.Fv)(e),this.__dataLinkedPaths&&delete this.__dataLinkedPaths[e]}notifySplices(e,t){let i={path:""};Y(this,(0,s.U2)(this,e,i),i.path,t)}get(e,t){return(0,s.U2)(t||this,e)}set(e,t,i){i?(0,s.t8)(i,e,t):this[w.READ_ONLY]&&this[w.READ_ONLY][e]||this._setPendingPropertyOrPath(e,t,!0)&&this._invalidateProperties()}push(e,...t){let i={path:""},r=(0,s.U2)(this,e,i),n=r.length,o=r.push(...t);return t.length&&K(this,r,i.path,n,t.length,[]),o}pop(e){let t={path:""},i=(0,s.U2)(this,e,t),r=Boolean(i.length),n=i.pop();return r&&K(this,i,t.path,i.length,0,[n]),n}splice(e,t,i,...r){let n,o={path:""},a=(0,s.U2)(this,e,o);return t<0?t=a.length-Math.floor(-t):t&&(t=Math.floor(t)),n=2===arguments.length?a.splice(t):a.splice(t,i,...r),(r.length||n.length)&&K(this,a,o.path,t,r.length,n),n}shift(e){let t={path:""},i=(0,s.U2)(this,e,t),r=Boolean(i.length),n=i.shift();return r&&K(this,i,t.path,0,0,[n]),n}unshift(e,...t){let i={path:""},r=(0,s.U2)(this,e,i),n=r.unshift(...t);return t.length&&K(this,r,i.path,0,t.length,[]),n}notifyPath(e,t){let i;if(1==arguments.length){let r={path:""};t=(0,s.U2)(this,e,r),i=r.path}else i=Array.isArray(e)?(0,s.Fv)(e):e;this._setPendingPropertyOrPath(i,t,!0,!0)&&this._invalidateProperties()}_createReadOnlyProperty(e,t){var i;this._addPropertyEffect(e,w.READ_ONLY),t&&(this["_set"+(i=e,i[0].toUpperCase()+i.substring(1))]=function(t){this._setProperty(e,t)})}_createPropertyObserver(e,t,i){let r={property:e,method:t,dynamicFn:Boolean(i)};this._addPropertyEffect(e,w.OBSERVE,{fn:O,info:r,trigger:{name:e}}),i&&this._addPropertyEffect(t,w.OBSERVE,{fn:O,info:r,trigger:{name:t}})}_createMethodObserver(e,t){let i=q(e);if(!i)throw new Error("Malformed observer expression '"+e+"'");U(this,i,w.OBSERVE,G,null,t)}_createNotifyingProperty(e){this._addPropertyEffect(e,w.NOTIFY,{fn:E,info:{eventName:(0,o.n)(e)+"-changed",property:e}})}_createReflectedProperty(e){let t=this.constructor.attributeNameForProperty(e);"-"===t[0]?console.warn("Property "+e+" cannot be reflected to attribute "+t+' because "-" is not a valid starting attribute name. Use a lowercase first letter for the property instead.'):this._addPropertyEffect(e,w.REFLECT,{fn:M,info:{attrName:t}})}_createComputedProperty(e,t,i){let r=q(t);if(!r)throw new Error("Malformed computed expression '"+t+"'");const n=U(this,r,w.COMPUTE,D,e,i);S(this,x)[e]=n}_marshalArgs(e,t,i){const r=this.__data,n=[];for(let o=0,a=e.length;o<a;o++){let{name:a,structured:l,wildcard:c,value:h,literal:d}=e[o];if(!d)if(c){const e=(0,s.SG)(a,t),n=J(r,i,e?t:a);h={path:e?t:a,value:n,base:e?(0,s.U2)(r,a):n}}else h=l?J(r,i,a):r[a];if(y.HY&&!this._overrideLegacyUndefined&&void 0===h&&e.length>1)return b;n[o]=h}return n}static addPropertyEffect(e,t,i){this.prototype._addPropertyEffect(e,t,i)}static createPropertyObserver(e,t,i){this.prototype._createPropertyObserver(e,t,i)}static createMethodObserver(e,t){this.prototype._createMethodObserver(e,t)}static createNotifyingProperty(e){this.prototype._createNotifyingProperty(e)}static createReadOnlyProperty(e,t){this.prototype._createReadOnlyProperty(e,t)}static createReflectedProperty(e){this.prototype._createReflectedProperty(e)}static createComputedProperty(e,t,i){this.prototype._createComputedProperty(e,t,i)}static bindTemplate(e){return this.prototype._bindTemplate(e)}_bindTemplate(e,t){let i=this.constructor._parseTemplate(e),r=this.__preBoundTemplateInfo==i;if(!r)for(let e in i.propertyEffects)this._createPropertyAccessor(e);if(t)if(i=Object.create(i),i.wasPreBound=r,this.__templateInfo){const t=e._parentTemplateInfo||this.__templateInfo,r=t.lastChild;i.parent=t,t.lastChild=i,i.previousSibling=r,r?r.nextSibling=i:t.firstChild=i}else this.__templateInfo=i;else this.__preBoundTemplateInfo=i;return i}static _addTemplatePropertyEffect(e,t,i){(e.hostProps=e.hostProps||{})[t]=!0;let r=e.propertyEffects=e.propertyEffects||{};(r[t]=r[t]||[]).push(i)}_stampTemplate(e,t){t=t||this._bindTemplate(e,!0),Q.push(this);let i=super._stampTemplate(e,t);if(Q.pop(),t.nodeList=i.nodeList,!t.wasPreBound){let e=t.childNodes=[];for(let t=i.firstChild;t;t=t.nextSibling)e.push(t)}return i.templateInfo=t,function(e,t){let{nodeList:i,nodeInfoList:r}=t;if(r.length)for(let t=0;t<r.length;t++){let n=r[t],s=i[t],o=n.bindings;if(o)for(let t=0;t<o.length;t++){let i=o[t];B(s,i),V(s,e,i)}s.__dataHost=e}}(this,t),this.__dataClientsReady&&(this._runEffectsForTemplate(t,this.__data,null,!1),this._flushClients()),i}_removeBoundDom(e){const t=e.templateInfo,{previousSibling:i,nextSibling:n,parent:s}=t;i?i.nextSibling=n:s&&(s.firstChild=n),n?n.previousSibling=i:s&&(s.lastChild=i),t.nextSibling=t.previousSibling=null;let o=t.childNodes;for(let e=0;e<o.length;e++){let t=o[e];(0,r.r)((0,r.r)(t).parentNode).removeChild(t)}}static _parseTemplateNode(e,i,r){let n=t._parseTemplateNode.call(this,e,i,r);if(e.nodeType===Node.TEXT_NODE){let t=this._parseBindings(e.textContent,i);t&&(e.textContent=W(t)||" ",z(this,i,r,"text","textContent",t),n=!0)}return n}static _parseTemplateNodeAttribute(e,i,r,n,s){let a=this._parseBindings(s,i);if(a){let t=n,s="property";C.test(n)?s="attribute":"$"==n[n.length-1]&&(n=n.slice(0,-1),s="attribute");let l=W(a);return l&&"attribute"==s&&("class"==n&&e.hasAttribute("class")&&(l+=" "+e.getAttribute(n)),e.setAttribute(n,l)),"attribute"==s&&"disable-upgrade$"==t&&e.setAttribute(n,""),"input"===e.localName&&"value"===t&&e.setAttribute(t,""),e.removeAttribute(t),"property"===s&&(n=(0,o.z)(n)),z(this,i,r,s,n,a,l),!0}return t._parseTemplateNodeAttribute.call(this,e,i,r,n,s)}static _parseTemplateNestedTemplate(e,i,r){let n=t._parseTemplateNestedTemplate.call(this,e,i,r);const s=e.parentNode,o=r.templateInfo,a="dom-if"===s.localName,l="dom-repeat"===s.localName;y.gx&&(a||l)&&(s.removeChild(e),(r=r.parentInfo).templateInfo=o,r.noted=!0,n=!1);let c=o.hostProps;if(y.ew&&a)c&&(i.hostProps=Object.assign(i.hostProps||{},c),y.gx||(r.parentInfo.noted=!0));else{let e="{";for(let t in c){z(this,i,r,"property","_host_"+t,[{mode:e,source:t,dependencies:[t],hostProp:!0}])}}return n}static _parseBindings(e,t){let i,r=[],n=0;for(;null!==(i=H.exec(e));){i.index>n&&r.push({literal:e.slice(n,i.index)});let s=i[1][0],o=Boolean(i[2]),a=i[3].trim(),l=!1,c="",h=-1;"{"==s&&(h=a.indexOf("::"))>0&&(c=a.substring(h+2),a=a.substring(0,h),l=!0);let d=q(a),u=[];if(d){let{args:e,methodName:i}=d;for(let t=0;t<e.length;t++){let i=e[t];i.literal||u.push(i)}let r=t.dynamicFns;(r&&r[i]||d.static)&&(u.push(i),d.dynamicFn=!0)}else u.push(a);r.push({source:a,mode:s,negate:o,customEvent:l,signature:d,dependencies:u,event:c}),n=H.lastIndex}if(n&&n<e.length){let t=e.substring(n);t&&r.push({literal:t})}return r.length?r:null}static _evaluateBinding(e,t,i,r,n,o){let a;return a=t.signature?G(e,i,r,0,t.signature):i!=t.source?(0,s.U2)(e,t.source):o&&(0,s.AZ)(i)?(0,s.U2)(e,i):e.__data[i],t.negate&&(a=!a),a}}})),Q=[]},98341:(e,t,i)=>{"use strict";i.d(t,{c:()=>s});i(7894);function r(e,t,i){return{index:e,removed:t,addedCount:i}}function n(e,t,i,n,s,a){let l,c=0,h=0,d=Math.min(i-t,a-s);if(0==t&&0==s&&(c=function(e,t,i){for(let r=0;r<i;r++)if(!o(e[r],t[r]))return r;return i}(e,n,d)),i==e.length&&a==n.length&&(h=function(e,t,i){let r=e.length,n=t.length,s=0;for(;s<i&&o(e[--r],t[--n]);)s++;return s}(e,n,d-c)),s+=c,a-=h,(i-=h)-(t+=c)==0&&a-s==0)return[];if(t==i){for(l=r(t,[],0);s<a;)l.removed.push(n[s++]);return[l]}if(s==a)return[r(t,[],i-t)];let u=function(e){let t=e.length-1,i=e[0].length-1,r=e[t][i],n=[];for(;t>0||i>0;){if(0==t){n.push(2),i--;continue}if(0==i){n.push(3),t--;continue}let s,o=e[t-1][i-1],a=e[t-1][i],l=e[t][i-1];s=a<l?a<o?a:o:l<o?l:o,s==o?(o==r?n.push(0):(n.push(1),r=o),t--,i--):s==a?(n.push(3),t--,r=a):(n.push(2),i--,r=l)}return n.reverse(),n}(function(e,t,i,r,n,s){let a=s-n+1,l=i-t+1,c=new Array(a);for(let e=0;e<a;e++)c[e]=new Array(l),c[e][0]=e;for(let e=0;e<l;e++)c[0][e]=e;for(let i=1;i<a;i++)for(let s=1;s<l;s++)if(o(e[t+s-1],r[n+i-1]))c[i][s]=c[i-1][s-1];else{let e=c[i-1][s]+1,t=c[i][s-1]+1;c[i][s]=e<t?e:t}return c}(e,t,i,n,s,a));l=void 0;let p=[],f=t,m=s;for(let e=0;e<u.length;e++)switch(u[e]){case 0:l&&(p.push(l),l=void 0),f++,m++;break;case 1:l||(l=r(f,[],0)),l.addedCount++,f++,l.removed.push(n[m]),m++;break;case 2:l||(l=r(f,[],0)),l.addedCount++,f++;break;case 3:l||(l=r(f,[],0)),l.removed.push(n[m]),m++}return l&&p.push(l),p}function s(e,t){return n(e,0,e.length,t,0,t.length)}function o(e,t){return e===t}},2224:(e,t,i)=>{"use strict";i.d(t,{Wc:()=>c,rs:()=>h,t$:()=>d,YA:()=>u});i(7894);let r=0,n=0,s=[],o=0,a=!1,l=document.createTextNode("");new window.MutationObserver((function(){a=!1;const e=s.length;for(let t=0;t<e;t++){let e=s[t];if(e)try{e()}catch(e){setTimeout((()=>{throw e}))}}s.splice(0,e),n+=e})).observe(l,{characterData:!0});const c={after:e=>({run:t=>window.setTimeout(t,e),cancel(e){window.clearTimeout(e)}}),run:(e,t)=>window.setTimeout(e,t),cancel(e){window.clearTimeout(e)}},h={run:e=>window.requestAnimationFrame(e),cancel(e){window.cancelAnimationFrame(e)}},d={run:e=>window.requestIdleCallback?window.requestIdleCallback(e):window.setTimeout(e,16),cancel(e){window.cancelIdleCallback?window.cancelIdleCallback(e):window.clearTimeout(e)}},u={run:e=>(a||(a=!0,l.textContent=o++),s.push(e),r++),cancel(e){const t=e-n;if(t>=0){if(!s[t])throw new Error("invalid async handle: "+e);s[t]=null}}}},7894:()=>{"use strict";window.JSCompiler_renameProperty=function(e,t){return e}},49027:(e,t,i)=>{"use strict";i.d(t,{z:()=>o,n:()=>a});i(7894);const r={},n=/-[a-z]/g,s=/([A-Z])/g;function o(e){return r[e]||(r[e]=e.indexOf("-")<0?e:e.replace(n,(e=>e[1].toUpperCase())))}function a(e){return r[e]||(r[e]=e.replace(s,"-$1").toLowerCase())}},35313:(e,t,i)=>{"use strict";i.d(t,{dx:()=>r,Ex:()=>s,Jk:()=>o});i(7894),i(91014),i(2224);class r{constructor(){this._asyncModule=null,this._callback=null,this._timer=null}setConfig(e,t){this._asyncModule=e,this._callback=t,this._timer=this._asyncModule.run((()=>{this._timer=null,n.delete(this),this._callback()}))}cancel(){this.isActive()&&(this._cancelAsync(),n.delete(this))}_cancelAsync(){this.isActive()&&(this._asyncModule.cancel(this._timer),this._timer=null)}flush(){this.isActive()&&(this.cancel(),this._callback())}isActive(){return null!=this._timer}static debounce(e,t,i){return e instanceof r?e._cancelAsync():e=new r,e.setConfig(t,i),e}}let n=new Set;const s=function(e){n.add(e)},o=function(){const e=Boolean(n.size);return n.forEach((e=>{try{e.flush()}catch(e){setTimeout((()=>{throw e}))}})),e}},19149:(e,t,i)=>{"use strict";i.d(t,{o:()=>a});i(7894);var r=i(98341),n=i(2224),s=i(31342);function o(e){return"slot"===e.localName}let a=class{static getFlattenedNodes(e){const t=(0,s.r)(e);return o(e)?(e=e,t.assignedNodes({flatten:!0})):Array.from(t.childNodes).map((e=>o(e)?(e=e,(0,s.r)(e).assignedNodes({flatten:!0})):[e])).reduce(((e,t)=>e.concat(t)),[])}constructor(e,t){this._shadyChildrenObserver=null,this._nativeChildrenObserver=null,this._connected=!1,this._target=e,this.callback=t,this._effectiveNodes=[],this._observer=null,this._scheduled=!1,this._boundSchedule=()=>{this._schedule()},this.connect(),this._schedule()}connect(){o(this._target)?this._listenSlots([this._target]):(0,s.r)(this._target).children&&(this._listenSlots((0,s.r)(this._target).children),window.ShadyDOM?this._shadyChildrenObserver=window.ShadyDOM.observeChildren(this._target,(e=>{this._processMutations(e)})):(this._nativeChildrenObserver=new MutationObserver((e=>{this._processMutations(e)})),this._nativeChildrenObserver.observe(this._target,{childList:!0}))),this._connected=!0}disconnect(){o(this._target)?this._unlistenSlots([this._target]):(0,s.r)(this._target).children&&(this._unlistenSlots((0,s.r)(this._target).children),window.ShadyDOM&&this._shadyChildrenObserver?(window.ShadyDOM.unobserveChildren(this._shadyChildrenObserver),this._shadyChildrenObserver=null):this._nativeChildrenObserver&&(this._nativeChildrenObserver.disconnect(),this._nativeChildrenObserver=null)),this._connected=!1}_schedule(){this._scheduled||(this._scheduled=!0,n.YA.run((()=>this.flush())))}_processMutations(e){this._processSlotMutations(e),this.flush()}_processSlotMutations(e){if(e)for(let t=0;t<e.length;t++){let i=e[t];i.addedNodes&&this._listenSlots(i.addedNodes),i.removedNodes&&this._unlistenSlots(i.removedNodes)}}flush(){if(!this._connected)return!1;window.ShadyDOM&&ShadyDOM.flush(),this._nativeChildrenObserver?this._processSlotMutations(this._nativeChildrenObserver.takeRecords()):this._shadyChildrenObserver&&this._processSlotMutations(this._shadyChildrenObserver.takeRecords()),this._scheduled=!1;let e={target:this._target,addedNodes:[],removedNodes:[]},t=this.constructor.getFlattenedNodes(this._target),i=(0,r.c)(t,this._effectiveNodes);for(let t,r=0;r<i.length&&(t=i[r]);r++)for(let i,r=0;r<t.removed.length&&(i=t.removed[r]);r++)e.removedNodes.push(i);for(let r,n=0;n<i.length&&(r=i[n]);n++)for(let i=r.index;i<r.index+r.addedCount;i++)e.addedNodes.push(t[i]);this._effectiveNodes=t;let n=!1;return(e.addedNodes.length||e.removedNodes.length)&&(n=!0,this.callback.call(this._target,e)),n}_listenSlots(e){for(let t=0;t<e.length;t++){let i=e[t];o(i)&&i.addEventListener("slotchange",this._boundSchedule)}}_unlistenSlots(e){for(let t=0;t<e.length;t++){let i=e[t];o(i)&&i.removeEventListener("slotchange",this._boundSchedule)}}}},55218:(e,t,i)=>{"use strict";i.d(t,{E:()=>r.Ex,y:()=>n});i(7894);var r=i(35313);const n=function(){let e,t;do{e=window.ShadyDOM&&ShadyDOM.flush(),window.ShadyCSS&&window.ShadyCSS.ScopingShim&&window.ShadyCSS.ScopingShim.flush(),t=(0,r.Jk)()}while(e||t)}},24010:(e,t,i)=>{"use strict";i.d(t,{NH:()=>R,ys:()=>N,BP:()=>D});i(7894);var r=i(2224),n=i(35313),s=i(89387),o=i(31342);let a="string"==typeof document.head.style.touchAction,l="__polymerGestures",c="__polymerGesturesHandled",h="__polymerGesturesTouchAction",d=["mousedown","mousemove","mouseup","click"],u=[0,1,4,2],p=function(){try{return 1===new MouseEvent("test",{buttons:1}).buttons}catch(e){return!1}}();function f(e){return d.indexOf(e)>-1}let m=!1;function _(e){if(!f(e)&&"touchend"!==e)return a&&m&&s.f6?{passive:!0}:void 0}!function(){try{let e=Object.defineProperty({},"passive",{get(){m=!0}});window.addEventListener("test",null,e),window.removeEventListener("test",null,e)}catch(e){}}();let g=navigator.userAgent.match(/iP(?:[oa]d|hone)|Android/);const y=[],v={button:!0,input:!0,keygen:!0,meter:!0,output:!0,textarea:!0,progress:!0,select:!0},b={button:!0,command:!0,fieldset:!0,input:!0,keygen:!0,optgroup:!0,option:!0,select:!0,textarea:!0};function w(e){let t=Array.prototype.slice.call(e.labels||[]);if(!t.length){t=[];let i=e.getRootNode();if(e.id){let r=i.querySelectorAll(`label[for = ${e.id}]`);for(let e=0;e<r.length;e++)t.push(r[e])}}return t}let x=function(e){let t=e.sourceCapabilities;var i;if((!t||t.firesTouchEvents)&&(e[c]={skip:!0},"click"===e.type)){let t=!1,r=O(e);for(let e=0;e<r.length;e++){if(r[e].nodeType===Node.ELEMENT_NODE)if("label"===r[e].localName)y.push(r[e]);else if(i=r[e],v[i.localName]){let i=w(r[e]);for(let e=0;e<i.length;e++)t=t||y.indexOf(i[e])>-1}if(r[e]===A.mouse.target)return}if(t)return;e.preventDefault(),e.stopPropagation()}};function C(e){let t=g?["click"]:d;for(let i,r=0;r<t.length;r++)i=t[r],e?(y.length=0,document.addEventListener(i,x,!0)):document.removeEventListener(i,x,!0)}function S(e){let t=e.type;if(!f(t))return!1;if("mousemove"===t){let t=void 0===e.buttons?1:e.buttons;return e instanceof window.MouseEvent&&!p&&(t=u[e.which]||0),Boolean(1&t)}return 0===(void 0===e.button?0:e.button)}let A={mouse:{target:null,mouseIgnoreJob:null},touch:{x:0,y:0,id:-1,scrollDecided:!1}};function T(e,t,i){e.movefn=t,e.upfn=i,document.addEventListener("mousemove",t),document.addEventListener("mouseup",i)}function k(e){document.removeEventListener("mousemove",e.movefn),document.removeEventListener("mouseup",e.upfn),e.movefn=null,e.upfn=null}s.z2&&document.addEventListener("touchend",(function(e){if(!s.z2)return;A.mouse.mouseIgnoreJob||C(!0),A.mouse.target=O(e)[0],A.mouse.mouseIgnoreJob=n.dx.debounce(A.mouse.mouseIgnoreJob,r.Wc.after(2500),(function(){C(),A.mouse.target=null,A.mouse.mouseIgnoreJob=null}))}),!!m&&{passive:!0});const O=window.ShadyDOM&&window.ShadyDOM.noPatch?window.ShadyDOM.composedPath:e=>e.composedPath&&e.composedPath()||[],P={},I=[];function E(e){const t=O(e);return t.length>0?t[0]:e.target}function M(e){let t,i=e.type,r=e.currentTarget[l];if(!r)return;let n=r[i];if(n){if(!e[c]&&(e[c]={},"touch"===i.slice(0,5))){let t=(e=e).changedTouches[0];if("touchstart"===i&&1===e.touches.length&&(A.touch.id=t.identifier),A.touch.id!==t.identifier)return;a||"touchstart"!==i&&"touchmove"!==i||function(e){let t=e.changedTouches[0],i=e.type;if("touchstart"===i)A.touch.x=t.clientX,A.touch.y=t.clientY,A.touch.scrollDecided=!1;else if("touchmove"===i){if(A.touch.scrollDecided)return;A.touch.scrollDecided=!0;let i=function(e){let t="auto",i=O(e);for(let e,r=0;r<i.length;r++)if(e=i[r],e[h]){t=e[h];break}return t}(e),r=!1,n=Math.abs(A.touch.x-t.clientX),s=Math.abs(A.touch.y-t.clientY);e.cancelable&&("none"===i?r=!0:"pan-x"===i?r=s>n:"pan-y"===i&&(r=n>s)),r?e.preventDefault():F("track")}}(e)}if(t=e[c],!t.skip){for(let i,r=0;r<I.length;r++)i=I[r],n[i.name]&&!t[i.name]&&i.flow&&i.flow.start.indexOf(e.type)>-1&&i.reset&&i.reset();for(let r,s=0;s<I.length;s++)r=I[s],n[r.name]&&!t[r.name]&&(t[r.name]=!0,r[i](e))}}}function R(e,t,i){return!!P[t]&&(function(e,t,i){let r=P[t],n=r.deps,s=r.name,o=e[l];o||(e[l]=o={});for(let t,i,r=0;r<n.length;r++)t=n[r],g&&f(t)&&"click"!==t||(i=o[t],i||(o[t]=i={_count:0}),0===i._count&&e.addEventListener(t,M,_(t)),i[s]=(i[s]||0)+1,i._count=(i._count||0)+1);e.addEventListener(t,i),r.touchAction&&D(e,r.touchAction)}(e,t,i),!0)}function N(e,t,i){return!!P[t]&&(function(e,t,i){let r=P[t],n=r.deps,s=r.name,o=e[l];if(o)for(let t,i,r=0;r<n.length;r++)t=n[r],i=o[t],i&&i[s]&&(i[s]=(i[s]||1)-1,i._count=(i._count||1)-1,0===i._count&&e.removeEventListener(t,M,_(t)));e.removeEventListener(t,i)}(e,t,i),!0)}function L(e){I.push(e);for(let t=0;t<e.emits.length;t++)P[e.emits[t]]=e}function D(e,t){a&&e instanceof HTMLElement&&r.YA.run((()=>{e.style.touchAction=t})),e[h]=t}function z(e,t,i){let r=new Event(t,{bubbles:!0,cancelable:!0,composed:!0});if(r.detail=i,(0,o.r)(e).dispatchEvent(r),r.defaultPrevented){let e=i.preventer||i.sourceEvent;e&&e.preventDefault&&e.preventDefault()}}function F(e){let t=function(e){for(let t,i=0;i<I.length;i++){t=I[i];for(let i,r=0;r<t.emits.length;r++)if(i=t.emits[r],i===e)return t}return null}(e);t.info&&(t.info.prevent=!0)}function j(e,t,i,r){t&&z(t,e,{x:i.clientX,y:i.clientY,sourceEvent:i,preventer:r,prevent:function(e){return F(e)}})}function B(e,t,i){if(e.prevent)return!1;if(e.started)return!0;let r=Math.abs(e.x-t),n=Math.abs(e.y-i);return r>=5||n>=5}function V(e,t,i){if(!t)return;let r,n=e.moves[e.moves.length-2],s=e.moves[e.moves.length-1],o=s.x-e.x,a=s.y-e.y,l=0;n&&(r=s.x-n.x,l=s.y-n.y),z(t,"track",{state:e.state,x:i.clientX,y:i.clientY,dx:o,dy:a,ddx:r,ddy:l,sourceEvent:i,hover:function(){return function(e,t){let i=document.elementFromPoint(e,t),r=i;for(;r&&r.shadowRoot&&!window.ShadyDOM;){let n=r;if(r=r.shadowRoot.elementFromPoint(e,t),n===r)break;r&&(i=r)}return i}(i.clientX,i.clientY)}})}function U(e,t,i){let r=Math.abs(t.clientX-e.x),n=Math.abs(t.clientY-e.y),s=E(i||t);!s||b[s.localName]&&s.hasAttribute("disabled")||(isNaN(r)||isNaN(n)||r<=25&&n<=25||function(e){if("click"===e.type){if(0===e.detail)return!0;let t=E(e);if(!t.nodeType||t.nodeType!==Node.ELEMENT_NODE)return!0;let i=t.getBoundingClientRect(),r=e.pageX,n=e.pageY;return!(r>=i.left&&r<=i.right&&n>=i.top&&n<=i.bottom)}return!1}(t))&&(e.prevent||z(s,"tap",{x:t.clientX,y:t.clientY,sourceEvent:t,preventer:i}))}L({name:"downup",deps:["mousedown","touchstart","touchend"],flow:{start:["mousedown","touchstart"],end:["mouseup","touchend"]},emits:["down","up"],info:{movefn:null,upfn:null},reset:function(){k(this.info)},mousedown:function(e){if(!S(e))return;let t=E(e),i=this;T(this.info,(function(e){S(e)||(j("up",t,e),k(i.info))}),(function(e){S(e)&&j("up",t,e),k(i.info)})),j("down",t,e)},touchstart:function(e){j("down",E(e),e.changedTouches[0],e)},touchend:function(e){j("up",E(e),e.changedTouches[0],e)}}),L({name:"track",touchAction:"none",deps:["mousedown","touchstart","touchmove","touchend"],flow:{start:["mousedown","touchstart"],end:["mouseup","touchend"]},emits:["track"],info:{x:0,y:0,state:"start",started:!1,moves:[],addMove:function(e){this.moves.length>2&&this.moves.shift(),this.moves.push(e)},movefn:null,upfn:null,prevent:!1},reset:function(){this.info.state="start",this.info.started=!1,this.info.moves=[],this.info.x=0,this.info.y=0,this.info.prevent=!1,k(this.info)},mousedown:function(e){if(!S(e))return;let t=E(e),i=this,r=function(e){let r=e.clientX,n=e.clientY;B(i.info,r,n)&&(i.info.state=i.info.started?"mouseup"===e.type?"end":"track":"start","start"===i.info.state&&F("tap"),i.info.addMove({x:r,y:n}),S(e)||(i.info.state="end",k(i.info)),t&&V(i.info,t,e),i.info.started=!0)};T(this.info,r,(function(e){i.info.started&&r(e),k(i.info)})),this.info.x=e.clientX,this.info.y=e.clientY},touchstart:function(e){let t=e.changedTouches[0];this.info.x=t.clientX,this.info.y=t.clientY},touchmove:function(e){let t=E(e),i=e.changedTouches[0],r=i.clientX,n=i.clientY;B(this.info,r,n)&&("start"===this.info.state&&F("tap"),this.info.addMove({x:r,y:n}),V(this.info,t,i),this.info.state="track",this.info.started=!0)},touchend:function(e){let t=E(e),i=e.changedTouches[0];this.info.started&&(this.info.state="end",this.info.addMove({x:i.clientX,y:i.clientY}),V(this.info,t,i))}}),L({name:"tap",deps:["mousedown","click","touchstart","touchend"],flow:{start:["mousedown","touchstart"],end:["click","touchend"]},emits:["tap"],info:{x:NaN,y:NaN,prevent:!1},reset:function(){this.info.x=NaN,this.info.y=NaN,this.info.prevent=!1},mousedown:function(e){S(e)&&(this.info.x=e.clientX,this.info.y=e.clientY)},click:function(e){S(e)&&U(this.info,e)},touchstart:function(e){const t=e.changedTouches[0];this.info.x=t.clientX,this.info.y=t.clientY},touchend:function(e){U(this.info,e.changedTouches[0],e)}})},91121:(e,t,i)=>{"use strict";i.d(t,{d:()=>s});i(7894);class r{constructor(e){this.value=e.toString()}toString(){return this.value}}function n(e){if(e instanceof r)return e.value;throw new Error(`non-literal value passed to Polymer's htmlLiteral function: ${e}`)}const s=function(e,...t){const i=document.createElement("template");return i.innerHTML=t.reduce(((t,i,s)=>t+function(e){if(e instanceof HTMLTemplateElement)return e.innerHTML;if(e instanceof r)return n(e);throw new Error(`non-template value passed to Polymer's html function: ${e}`)}(i)+e[s+1]),e[0]),i}},91014:(e,t,i)=>{"use strict";i.d(t,{o:()=>s});i(7894);let r=0;function n(){}n.prototype.__mixinApplications,n.prototype.__mixinSet;const s=function(e){let t=e.__mixinApplications;t||(t=new WeakMap,e.__mixinApplications=t);let i=r++;return function(r){let n=r.__mixinSet;if(n&&n[i])return r;let s=t,o=s.get(r);if(!o){o=e(r),s.set(r,o);let t=Object.create(o.__mixinSet||n||null);t[i]=!0,o.__mixinSet=t}return o}}},81446:(e,t,i)=>{"use strict";i.d(t,{AZ:()=>r,Jz:()=>n,jg:()=>s,SG:()=>o,Iu:()=>a,wB:()=>l,Fv:()=>c,U2:()=>d,t8:()=>u});i(7894);function r(e){return e.indexOf(".")>=0}function n(e){let t=e.indexOf(".");return-1===t?e:e.slice(0,t)}function s(e,t){return 0===e.indexOf(t+".")}function o(e,t){return 0===t.indexOf(e+".")}function a(e,t,i){return t+i.slice(e.length)}function l(e,t){return e===t||s(e,t)||o(e,t)}function c(e){if(Array.isArray(e)){let t=[];for(let i=0;i<e.length;i++){let r=e[i].toString().split(".");for(let e=0;e<r.length;e++)t.push(r[e])}return t.join(".")}return e}function h(e){return Array.isArray(e)?c(e).split("."):e.toString().split(".")}function d(e,t,i){let r=e,n=h(t);for(let e=0;e<n.length;e++){if(!r)return;r=r[n[e]]}return i&&(i.path=n.join(".")),r}function u(e,t,i){let r=e,n=h(t),s=n[n.length-1];if(n.length>1){for(let e=0;e<n.length-1;e++){if(r=r[n[e]],!r)return}r[s]=i}else r[t]=i;return n.join(".")}},79967:(e,t,i)=>{"use strict";i.d(t,{Kk:()=>a,Rq:()=>l,iY:()=>c});i(7894);let r,n,s=/(url\()([^)]*)(\))/g,o=/(^\/[^\/])|(^#)|(^[\w-\d]*:)/;function a(e,t){if(e&&o.test(e))return e;if("//"===e)return e;if(void 0===r){r=!1;try{const e=new URL("b","http://a");e.pathname="c%20d",r="http://a/c%20d"===e.href}catch(e){}}if(t||(t=document.baseURI||window.location.href),r)try{return new URL(e,t).href}catch(t){return e}return n||(n=document.implementation.createHTMLDocument("temp"),n.base=n.createElement("base"),n.head.appendChild(n.base),n.anchor=n.createElement("a"),n.body.appendChild(n.anchor)),n.base.href=t,n.anchor.href=e,n.anchor.href||e}function l(e,t){return e.replace(s,(function(e,i,r,n){return i+"'"+a(r.replace(/["']/g,""),t)+"'"+n}))}function c(e){return e.substring(0,e.lastIndexOf("/")+1)}},89387:(e,t,i)=>{"use strict";i.d(t,{my:()=>n,FV:()=>s,sM:()=>o,v1:()=>a,f6:()=>l,XN:()=>c,ZN:()=>h,nL:()=>d,a2:()=>u,Hr:()=>p,HY:()=>f,ls:()=>m,z2:()=>_,gx:()=>g,ew:()=>y,dJ:()=>v,j8:()=>b,md:()=>w});i(7894);var r=i(79967);const n=!window.ShadyDOM||!window.ShadyDOM.inUse,s=(Boolean(!window.ShadyCSS||window.ShadyCSS.nativeCss),window.customElements.polyfillWrapFlushCallback,n&&"adoptedStyleSheets"in Document.prototype&&"replaceSync"in CSSStyleSheet.prototype&&(()=>{try{const e=new CSSStyleSheet;e.replaceSync("");const t=document.createElement("div");return t.attachShadow({mode:"open"}),t.shadowRoot.adoptedStyleSheets=[e],t.shadowRoot.adoptedStyleSheets[0]===e}catch(e){return!1}})());let o=window.Polymer&&window.Polymer.rootPath||(0,r.iY)(document.baseURI||window.location.href);let a=window.Polymer&&window.Polymer.sanitizeDOMValue||void 0;let l=window.Polymer&&window.Polymer.setPassiveTouchGestures||!1;let c=window.Polymer&&window.Polymer.strictTemplatePolicy||!1;let h=window.Polymer&&window.Polymer.allowTemplateFromDomModule||!1;let d=window.Polymer&&window.Polymer.legacyOptimizations||!1;let u=window.Polymer&&window.Polymer.legacyWarnings||!1;let p=window.Polymer&&window.Polymer.syncInitialRender||!1;let f=window.Polymer&&window.Polymer.legacyUndefined||!1;let m=window.Polymer&&window.Polymer.orderedComputed||!1;let _=!0;let g=window.Polymer&&window.Polymer.removeNestedTemplates||!1;let y=window.Polymer&&window.Polymer.fastDomIf||!1;let v=window.Polymer&&window.Polymer.suppressTemplateNotifications||!1;let b=window.Polymer&&window.Polymer.legacyNoObservedAttributes||!1;let w=window.Polymer&&window.Polymer.useAdoptedStyleSheetsWithBuiltCSS||!1},59836:(e,t,i)=>{"use strict";i.d(t,{uT:()=>h,lx:()=>d,jv:()=>p});var r=i(64262),n=i(79967);const s="shady-unscoped";function o(e){return r.t.import(e)}function a(e){let t=e.body?e.body:e;const i=(0,n.Rq)(t.textContent,e.baseURI),r=document.createElement("style");return r.textContent=i,r}function l(e){const t=e.trim().split(/\s+/),i=[];for(let e=0;e<t.length;e++)i.push(...c(t[e]));return i}function c(e){const t=o(e);if(!t)return console.warn("Could not find style data in module named",e),[];if(void 0===t._styles){const e=[];e.push(...u(t));const i=t.querySelector("template");i&&e.push(...h(i,t.assetpath)),t._styles=e}return t._styles}function h(e,t){if(!e._styles){const i=[],r=e.content.querySelectorAll("style");for(let e=0;e<r.length;e++){let s=r[e],o=s.getAttribute("include");o&&i.push(...l(o).filter((function(e,t,i){return i.indexOf(e)===t}))),t&&(s.textContent=(0,n.Rq)(s.textContent,t)),i.push(s)}e._styles=i}return e._styles}function d(e){let t=o(e);return t?u(t):[]}function u(e){const t=[],i=e.querySelectorAll("link[rel=import][type~=css]");for(let e=0;e<i.length;e++){let r=i[e];if(r.import){const e=r.import,i=r.hasAttribute(s);if(i&&!e._unscopedStyle){const t=a(e);t.setAttribute(s,""),e._unscopedStyle=t}else e._style||(e._style=a(e));t.push(i?e._unscopedStyle:e._style)}}return t}function p(e){let t=e.trim().split(/\s+/),i="";for(let e=0;e<t.length;e++)i+=f(t[e]);return i}function f(e){let t=o(e);if(t&&void 0===t._cssText){let e=m(t),i=t.querySelector("template");i&&(e+=function(e,t){let i="";const r=h(e,t);for(let e=0;e<r.length;e++){let t=r[e];t.parentNode&&t.parentNode.removeChild(t),i+=t.textContent}return i}(i,t.assetpath)),t._cssText=e||null}return t||console.warn("Could not find style data in module named",e),t&&t._cssText||""}function m(e){let t="",i=u(e);for(let e=0;e<i.length;e++)t+=i[e].textContent;return t}},93501:(e,t,i)=>{"use strict";i.d(t,{Gd:()=>r,z2:()=>s});function r(){0}const n=[];function s(e){n.push(e)}},22080:(e,t,i)=>{"use strict";i.d(t,{aZ:()=>u,Uv:()=>b,GJ:()=>w});i(7894);var r=i(87999),n=i(68091),s=i(89387),o=i(31342);let a=null;function l(){return a}l.prototype=Object.create(HTMLTemplateElement.prototype,{constructor:{value:l,writable:!0}});const c=(0,r.q)(l),h=(0,n.E)(c);const d=(0,r.q)(class{});function u(e,t){for(let i=0;i<t.length;i++){let r=t[i];if(Boolean(e)!=Boolean(r.__hideTemplateChildren__))if(r.nodeType===Node.TEXT_NODE)e?(r.__polymerTextContent__=r.textContent,r.textContent=""):r.textContent=r.__polymerTextContent__;else if("slot"===r.localName)if(e)r.__polymerReplaced__=document.createComment("hidden-slot"),(0,o.r)((0,o.r)(r).parentNode).replaceChild(r.__polymerReplaced__,r);else{const e=r.__polymerReplaced__;e&&(0,o.r)((0,o.r)(e).parentNode).replaceChild(r,e)}else r.style&&(e?(r.__polymerDisplay__=r.style.display,r.style.display="none"):r.style.display=r.__polymerDisplay__);r.__hideTemplateChildren__=e,r._showHideChildren&&r._showHideChildren(e)}}class p extends d{constructor(e){super(),this._configureProperties(e),this.root=this._stampTemplate(this.__dataHost);let t=[];this.children=t;for(let e=this.root.firstChild;e;e=e.nextSibling)t.push(e),e.__templatizeInstance=this;this.__templatizeOwner&&this.__templatizeOwner.__hideTemplateChildren__&&this._showHideChildren(!0);let i=this.__templatizeOptions;(e&&i.instanceProps||!i.instanceProps)&&this._enableProperties()}_configureProperties(e){if(this.__templatizeOptions.forwardHostProp)for(let e in this.__hostProps)this._setPendingProperty(e,this.__dataHost["_host_"+e]);for(let t in e)this._setPendingProperty(t,e[t])}forwardHostProp(e,t){this._setPendingPropertyOrPath(e,t,!1,!0)&&this.__dataHost._enqueueClient(this)}_addEventListenerToNode(e,t,i){if(this._methodHost&&this.__templatizeOptions.parentModel)this._methodHost._addEventListenerToNode(e,t,(e=>{e.model=this,i(e)}));else{let r=this.__dataHost.__dataHost;r&&r._addEventListenerToNode(e,t,i)}}_showHideChildren(e){u(e,this.children)}_setUnmanagedPropertyToNode(e,t,i){e.__hideTemplateChildren__&&e.nodeType==Node.TEXT_NODE&&"textContent"==t?e.__polymerTextContent__=i:super._setUnmanagedPropertyToNode(e,t,i)}get parentModel(){let e=this.__parentModel;if(!e){let t;e=this;do{e=e.__dataHost.__dataHost}while((t=e.__templatizeOptions)&&!t.parentModel);this.__parentModel=e}return e}dispatchEvent(e){return!0}}p.prototype.__dataHost,p.prototype.__templatizeOptions,p.prototype._methodHost,p.prototype.__templatizeOwner,p.prototype.__hostProps;const f=(0,n.E)(p);function m(e){let t=e.__dataHost;return t&&t._methodHost||t}function _(e,t,i){let r=i.mutableData?f:p;b.mixin&&(r=b.mixin(r));let n=class extends r{};return n.prototype.__templatizeOptions=i,n.prototype._bindTemplate(e),function(e,t,i,r){let n=i.hostProps||{};for(let t in r.instanceProps){delete n[t];let i=r.notifyInstanceProp;i&&e.prototype._addPropertyEffect(t,e.prototype.PROPERTY_EFFECT_TYPES.NOTIFY,{fn:v(t,i)})}if(r.forwardHostProp&&t.__dataHost)for(let t in n)i.hasHostProps||(i.hasHostProps=!0),e.prototype._addPropertyEffect(t,e.prototype.PROPERTY_EFFECT_TYPES.NOTIFY,{fn:function(e,t,i){e.__dataHost._setPendingPropertyOrPath("_host_"+t,i[t],!0,!0)}})}(n,e,t,i),n}function g(e,t,i,r){let n=i.forwardHostProp;if(n&&t.hasHostProps){const d="template"==e.localName;let u=t.templatizeTemplateClass;if(!u){if(d){let e=i.mutableData?h:c;class r extends e{}u=t.templatizeTemplateClass=r}else{const i=e.constructor;class r extends i{}u=t.templatizeTemplateClass=r}let o=t.hostProps;for(let e in o)u.prototype._addPropertyEffect("_host_"+e,u.prototype.PROPERTY_EFFECT_TYPES.PROPAGATE,{fn:y(e,n)}),u.prototype._createNotifyingProperty("_host_"+e);s.a2&&r&&function(e,t,i){const r=i.constructor._properties,{propertyEffects:n}=e,{instanceProps:s}=t;for(let e in n)if(!(r[e]||s&&s[e])){const t=n[e];for(let i=0;i<t.length;i++){const{part:r}=t[i].info;if(!r.signature||!r.signature.static){console.warn(`Property '${e}' used in template but not declared in 'properties'; attribute will not be observed.`);break}}}}(t,i,r)}if(e.__dataProto&&Object.assign(e.__data,e.__dataProto),d)l=u,a=o=e,Object.setPrototypeOf(o,l.prototype),new l,a=null,e.__dataTemp={},e.__dataPending=null,e.__dataOld=null,e._enableProperties();else{Object.setPrototypeOf(e,u.prototype);const i=t.hostProps;for(let t in i)if(t="_host_"+t,t in e){const i=e[t];delete e[t],e.__data[t]=i}}}var o,l}function y(e,t){return function(e,i,r){t.call(e.__templatizeOwner,i.substring("_host_".length),r[i])}}function v(e,t){return function(e,i,r){t.call(e.__templatizeOwner,e,i,r[i])}}function b(e,t,i){if(s.XN&&!m(e))throw new Error("strictTemplatePolicy: template owner not trusted");if(i=i||{},e.__templatizeOwner)throw new Error("A <template> can only be templatized once");e.__templatizeOwner=t;let r=(t?t.constructor:p)._parseTemplate(e),n=r.templatizeInstanceClass;n||(n=_(e,r,i),r.templatizeInstanceClass=n);const o=m(e);g(e,r,i,o);let a=class extends n{};return a.prototype._methodHost=o,a.prototype.__dataHost=e,a.prototype.__templatizeOwner=t,a.prototype.__hostProps=r.hostProps,a=a,a}function w(e,t){let i;for(;t;)if(i=t.__dataHost?t:t.__templatizeInstance){if(i.__dataHost==e)return i;t=i.__dataHost}else t=(0,o.r)(t).parentNode;return null}},31342:(e,t,i)=>{"use strict";i.d(t,{r:()=>r});const r=window.ShadyDOM&&window.ShadyDOM.noPatch&&window.ShadyDOM.wrap?window.ShadyDOM.wrap:window.ShadyDOM?e=>ShadyDOM.patch(e):e=>e},44673:(e,t,i)=>{"use strict";i.d(t,{dy:()=>n.d,H3:()=>s});var r=i(70581),n=i(91121);const s=(0,r.SH)(HTMLElement)},86999:(e,t,i)=>{"use strict";i.r(t),i.d(t,{ButtonElement:()=>d});i(18382),i(76444),i(2421),i(42036),i(71528);var r=i(91121);const n=r.d`<dom-module id="lumo-button" theme-for="vaadin-button">
  <template>
    <style>
      :host {
        /* Sizing */
        --lumo-button-size: var(--lumo-size-m);
        min-width: calc(var(--lumo-button-size) * 2);
        height: var(--lumo-button-size);
        padding: 0 calc(var(--lumo-button-size) / 3 + var(--lumo-border-radius) / 2);
        margin: var(--lumo-space-xs) 0;
        box-sizing: border-box;
        /* Style */
        font-family: var(--lumo-font-family);
        font-size: var(--lumo-font-size-m);
        font-weight: 500;
        color: var(--_lumo-button-color, var(--lumo-primary-text-color));
        background-color: var(--_lumo-button-background-color, var(--lumo-contrast-5pct));
        border-radius: var(--lumo-border-radius);
        cursor: default;
        -webkit-tap-highlight-color: transparent;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
      }

      /* Set only for the internal parts so we dont affect the host vertical alignment */
      [part="label"],
      [part="prefix"],
      [part="suffix"] {
        line-height: var(--lumo-line-height-xs);
      }

      [part="label"] {
        padding: calc(var(--lumo-button-size) / 6) 0;
      }

      :host([theme~="small"]) {
        font-size: var(--lumo-font-size-s);
        --lumo-button-size: var(--lumo-size-s);
      }

      :host([theme~="large"]) {
        font-size: var(--lumo-font-size-l);
        --lumo-button-size: var(--lumo-size-l);
      }

      /* This needs to be the last selector for it to take priority */
      :host([disabled][disabled]) {
        pointer-events: none;
        color: var(--lumo-disabled-text-color);
        background-color: var(--lumo-contrast-5pct);
      }

      /* For interaction states */
      :host::before,
      :host::after {
        content: "";
        /* We rely on the host always being relative */
        position: absolute;
        z-index: 1;
        top: 0;
        right: 0;
        bottom: 0;
        left: 0;
        background-color: currentColor;
        border-radius: inherit;
        opacity: 0;
        transition: opacity 0.2s;
        pointer-events: none;
      }

      /* Hover */

      :host(:hover)::before {
        opacity: 0.05;
      }

      /* Disable hover for touch devices */
      @media (pointer: coarse) {
        :host(:not([active]):hover)::before {
          opacity: 0;
        }
      }

      /* Active */

      :host::after {
        transition: opacity 1.4s, transform 0.1s;
        filter: blur(8px);
      }

      :host([active])::before {
        opacity: 0.1;
        transition-duration: 0s;
      }

      :host([active])::after {
        opacity: 0.1;
        transition-duration: 0s, 0s;
        transform: scale(0);
      }

      /* Keyboard focus */

      :host([focus-ring]) {
        box-shadow: 0 0 0 2px var(--lumo-primary-color-50pct);
      }

      /* Types (primary, tertiary, tertiary-inline */

      :host([theme~="tertiary"]),
      :host([theme~="tertiary-inline"]) {
        background-color: transparent !important;
        transition: opacity 0.2s;
        min-width: 0;
      }

      :host([theme~="tertiary"])::before,
      :host([theme~="tertiary-inline"])::before {
        display: none;
      }

      :host([theme~="tertiary"]) {
        padding: 0 calc(var(--lumo-button-size) / 6);
      }

      @media (hover: hover) {
        :host([theme*="tertiary"]:not([active]):hover) {
          opacity: 0.8;
        }
      }

      :host([theme~="tertiary"][active]),
      :host([theme~="tertiary-inline"][active]) {
        opacity: 0.5;
        transition-duration: 0s;
      }

      :host([theme~="tertiary-inline"]) {
        margin: 0;
        height: auto;
        padding: 0;
        line-height: inherit;
        font-size: inherit;
      }

      :host([theme~="tertiary-inline"]) [part="label"] {
        padding: 0;
        overflow: visible;
        line-height: inherit;
      }

      :host([theme~="primary"]) {
        background-color: var(--_lumo-button-primary-background-color, var(--lumo-primary-color));
        color: var(--_lumo-button-primary-color, var(--lumo-primary-contrast-color));
        font-weight: 600;
        min-width: calc(var(--lumo-button-size) * 2.5);
      }

      :host([theme~="primary"][disabled]) {
        background-color: var(--lumo-primary-color-50pct);
        color: var(--lumo-primary-contrast-color);
      }

      :host([theme~="primary"]:hover)::before {
        opacity: 0.1;
      }

      :host([theme~="primary"][active])::before {
        background-color: var(--lumo-shade-20pct);
      }

      @media (pointer: coarse) {
        :host([theme~="primary"][active])::before {
          background-color: var(--lumo-shade-60pct);
        }

        :host([theme~="primary"]:not([active]):hover)::before {
          opacity: 0;
        }
      }

      :host([theme~="primary"][active])::after {
        opacity: 0.2;
      }

      /* Colors (success, error, contrast) */

      :host([theme~="success"]) {
        color: var(--lumo-success-text-color);
      }

      :host([theme~="success"][theme~="primary"]) {
        background-color: var(--lumo-success-color);
        color: var(--lumo-success-contrast-color);
      }

      :host([theme~="success"][theme~="primary"][disabled]) {
        background-color: var(--lumo-success-color-50pct);
      }

      :host([theme~="error"]) {
        color: var(--lumo-error-text-color);
      }

      :host([theme~="error"][theme~="primary"]) {
        background-color: var(--lumo-error-color);
        color: var(--lumo-error-contrast-color);
      }

      :host([theme~="error"][theme~="primary"][disabled]) {
        background-color: var(--lumo-error-color-50pct);
      }

      :host([theme~="contrast"]) {
        color: var(--lumo-contrast);
      }

      :host([theme~="contrast"][theme~="primary"]) {
        background-color: var(--lumo-contrast);
        color: var(--lumo-base-color);
      }

      :host([theme~="contrast"][theme~="primary"][disabled]) {
        background-color: var(--lumo-contrast-50pct);
      }

      /* Icons */

      [part] ::slotted(iron-icon) {
        display: inline-block;
        width: var(--lumo-icon-size-m);
        height: var(--lumo-icon-size-m);
      }

      /* Vaadin icons are based on a 16x16 grid (unlike Lumo and Material icons with 24x24), so they look too big by default */
      [part] ::slotted(iron-icon[icon^="vaadin:"]) {
        padding: 0.25em;
        box-sizing: border-box !important;
      }

      [part="prefix"] {
        margin-left: -0.25em;
        margin-right: 0.25em;
      }

      [part="suffix"] {
        margin-left: 0.25em;
        margin-right: -0.25em;
      }

      /* Icon-only */

      :host([theme~="icon"]:not([theme~="tertiary-inline"])) {
        min-width: var(--lumo-button-size);
        padding-left: calc(var(--lumo-button-size) / 4);
        padding-right: calc(var(--lumo-button-size) / 4);
      }

      :host([theme~="icon"]) [part="prefix"],
      :host([theme~="icon"]) [part="suffix"] {
        margin-left: 0;
        margin-right: 0;
      }

      /* RTL specific styles */

      :host([dir="rtl"]) [part="prefix"] {
        margin-left: 0.25em;
        margin-right: -0.25em;
      }

      :host([dir="rtl"]) [part="suffix"] {
        margin-left: -0.25em;
        margin-right: 0.25em;
      }

      :host([dir="rtl"][theme~="icon"]) [part="prefix"],
      :host([dir="rtl"][theme~="icon"]) [part="suffix"] {
        margin-left: 0;
        margin-right: 0;
      }
    </style>
  </template>
</dom-module>`;document.head.appendChild(n.content);var s=i(44673),o=i(96163),a=i(10800),l=i(94550),c=i(38023),h=i(24010);class d extends((0,c.S)((0,l.$)((0,a.T)((0,o._)(s.H3))))){static get template(){return r.d`
    <style>
      :host {
        display: inline-block;
        position: relative;
        outline: none;
        white-space: nowrap;
      }

      :host([hidden]) {
        display: none !important;
      }

      /* Ensure the button is always aligned on the baseline */
      .vaadin-button-container::before {
        content: "\\2003";
        display: inline-block;
        width: 0;
      }

      .vaadin-button-container {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        text-align: center;
        width: 100%;
        height: 100%;
        min-height: inherit;
        text-shadow: inherit;
        -webkit-user-select: none;
        -moz-user-select: none;
        user-select: none;
      }

      [part="prefix"],
      [part="suffix"] {
        flex: none;
      }

      [part="label"] {
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
      }

      #button {
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        width: 100%;
        height: 100%;
        opacity: 0;
        cursor: inherit;
      }
    </style>
    <div class="vaadin-button-container">
      <div part="prefix">
        <slot name="prefix"></slot>
      </div>
      <div part="label">
        <slot></slot>
      </div>
      <div part="suffix">
        <slot name="suffix"></slot>
      </div>
    </div>
    <button id="button" type="button"></button>
`}static get is(){return"vaadin-button"}static get version(){return"2.4.0"}ready(){super.ready(),this.setAttribute("role","button"),this.$.button.setAttribute("role","presentation"),this._addActiveListeners(),window.ShadyDOM&&window.ShadyDOM.flush()}disconnectedCallback(){super.disconnectedCallback(),this.hasAttribute("active")&&this.removeAttribute("active")}_addActiveListeners(){(0,h.NH)(this,"down",(()=>!this.disabled&&this.setAttribute("active",""))),(0,h.NH)(this,"up",(()=>this.removeAttribute("active"))),this.addEventListener("keydown",(e=>!this.disabled&&[13,32].indexOf(e.keyCode)>=0&&this.setAttribute("active",""))),this.addEventListener("keyup",(()=>this.removeAttribute("active"))),this.addEventListener("blur",(()=>this.removeAttribute("active")))}get focusElement(){return this.$.button}}customElements.define(d.is,d)},94550:(e,t,i)=>{"use strict";i.d(t,{$:()=>n});let r=!1;window.addEventListener("keydown",(()=>{r=!0}),{capture:!0}),window.addEventListener("mousedown",(()=>{r=!1}),{capture:!0});const n=e=>class extends((e=>class extends e{static get properties(){var e={tabindex:{type:Number,value:0,reflectToAttribute:!0,observer:"_tabindexChanged"}};return window.ShadyDOM&&(e.tabIndex=e.tabindex),e}})(e)){static get properties(){return{autofocus:{type:Boolean},_previousTabIndex:{type:Number},disabled:{type:Boolean,observer:"_disabledChanged",reflectToAttribute:!0},_isShiftTabbing:{type:Boolean}}}ready(){this.addEventListener("focusin",(e=>{e.composedPath()[0]===this?this.contains(e.relatedTarget)||this._focus():-1===e.composedPath().indexOf(this.focusElement)||this.disabled||this._setFocused(!0)})),this.addEventListener("focusout",(e=>this._setFocused(!1))),super.ready();const e=e=>{e.composed||e.target.dispatchEvent(new CustomEvent(e.type,{bubbles:!0,composed:!0,cancelable:!1}))};this.shadowRoot.addEventListener("focusin",e),this.shadowRoot.addEventListener("focusout",e),this.addEventListener("keydown",(e=>{if(!e.defaultPrevented&&9===e.keyCode)if(e.shiftKey)this._isShiftTabbing=!0,HTMLElement.prototype.focus.apply(this),this._setFocused(!1),setTimeout((()=>this._isShiftTabbing=!1),0);else{const e=window.navigator.userAgent.match(/Firefox\/(\d\d\.\d)/);if(e&&parseFloat(e[1])>=63&&parseFloat(e[1])<66&&this.parentNode&&this.nextSibling){const e=document.createElement("input");e.style.position="absolute",e.style.opacity="0",e.tabIndex=this.tabIndex,this.parentNode.insertBefore(e,this.nextSibling),e.focus(),e.addEventListener("focusout",(()=>this.parentNode.removeChild(e)))}}})),this.autofocus&&!this.disabled&&window.requestAnimationFrame((()=>{this._focus(),this._setFocused(!0),this.setAttribute("focus-ring","")}))}disconnectedCallback(){super.disconnectedCallback(),this.hasAttribute("focused")&&this._setFocused(!1)}_setFocused(e){e?this.setAttribute("focused",""):this.removeAttribute("focused"),e&&r?this.setAttribute("focus-ring",""):this.removeAttribute("focus-ring")}get focusElement(){return window.console.warn(`Please implement the 'focusElement' property in <${this.localName}>`),this}_focus(){this.focusElement&&!this._isShiftTabbing&&(this.focusElement.focus(),this._setFocused(!0))}focus(){this.focusElement&&!this.disabled&&(this.focusElement.focus(),this._setFocused(!0))}blur(){this.focusElement&&(this.focusElement.blur(),this._setFocused(!1))}_disabledChanged(e){this.focusElement.disabled=e,e?(this.blur(),this._previousTabIndex=this.tabindex,this.tabindex=-1,this.setAttribute("aria-disabled","true")):(void 0!==this._previousTabIndex&&(this.tabindex=this._previousTabIndex),this.removeAttribute("aria-disabled"))}_tabindexChanged(e){void 0!==e&&(this.focusElement.tabIndex=e),this.disabled&&this.tabindex&&(-1!==this.tabindex&&(this._previousTabIndex=this.tabindex),this.tabindex=e=void 0),window.ShadyDOM&&this.setProperties({tabIndex:e,tabindex:e})}click(){this.disabled||super.click()}}},29884:(e,t,i)=>{"use strict";i.d(t,{U:()=>l});class r{static detectScrollType(){const e=document.createElement("div");e.textContent="ABCD",e.dir="rtl",e.style.fontSize="14px",e.style.width="4px",e.style.height="1px",e.style.position="absolute",e.style.top="-1000px",e.style.overflow="scroll",document.body.appendChild(e);let t="reverse";return e.scrollLeft>0?t="default":(e.scrollLeft=2,e.scrollLeft<2&&(t="negative")),document.body.removeChild(e),t}static getNormalizedScrollLeft(e,t,i){const{scrollLeft:r}=i;if("rtl"!==t||!e)return r;switch(e){case"negative":return i.scrollWidth-i.clientWidth+r;case"reverse":return i.scrollWidth-i.clientWidth-r}return r}static setNormalizedScrollLeft(e,t,i,r){if("rtl"===t&&e)switch(e){case"negative":i.scrollLeft=i.clientWidth-i.scrollWidth+r;break;case"reverse":i.scrollLeft=i.scrollWidth-i.clientWidth-r;break;default:i.scrollLeft=r}else i.scrollLeft=r}}const n=[];let s;new MutationObserver((function(){const e=a();n.forEach((t=>{o(t,e)}))})).observe(document.documentElement,{attributes:!0,attributeFilter:["dir"]});const o=function(e,t){t?e.setAttribute("dir",t):e.removeAttribute("dir")},a=function(){return document.documentElement.getAttribute("dir")},l=e=>class extends e{static get properties(){return{dir:{type:String,readOnly:!0}}}static finalize(){super.finalize(),s||(s=r.detectScrollType())}connectedCallback(){super.connectedCallback(),this.hasAttribute("dir")||(this.__subscribe(),o(this,a()))}attributeChangedCallback(e,t,i){if(super.attributeChangedCallback(e,t,i),"dir"!==e)return;const r=i===a()&&-1===n.indexOf(this),s=!i&&t&&-1===n.indexOf(this),l=i!==a()&&t===a();r||s?(this.__subscribe(),o(this,a())):l&&this.__subscribe(!1)}disconnectedCallback(){super.disconnectedCallback(),this.__subscribe(!1),this.removeAttribute("dir")}__subscribe(e=!0){e?-1===n.indexOf(this)&&n.push(this):n.indexOf(this)>-1&&n.splice(n.indexOf(this),1)}__getNormalizedScrollLeft(e){return r.getNormalizedScrollLeft(s,this.getAttribute("dir")||"ltr",e)}__setNormalizedScrollLeft(e,t){return r.setNormalizedScrollLeft(s,this.getAttribute("dir")||"ltr",e,t)}}},38023:(e,t,i)=>{"use strict";i.d(t,{S:()=>m});var r=i(2224),n=i(35313),s=i(55218),o=i(29884);const a=/\/\*\*\s+vaadin-dev-mode:start([\s\S]*)vaadin-dev-mode:end\s+\*\*\//i,l=window.Vaadin&&window.Vaadin.Flow&&window.Vaadin.Flow.clients;function c(e,t){if("function"!=typeof e)return;const i=a.exec(e.toString());if(i)try{e=new Function(i[1])}catch(e){console.log("vaadin-development-mode-detector: uncommentAndRun() failed",e)}return e(t)}window.Vaadin=window.Vaadin||{};const h=function(e,t){if(window.Vaadin.developmentMode)return c(e,t)};function d(){}void 0===window.Vaadin.developmentMode&&(window.Vaadin.developmentMode=function(){try{return!!localStorage.getItem("vaadin.developmentmode.force")||["localhost","127.0.0.1"].indexOf(window.location.hostname)>=0&&(l?!(l&&Object.keys(l).map((e=>l[e])).filter((e=>e.productionMode)).length>0):!c((function(){return!0})))}catch(e){return!1}}());const u=function(){return h(d)};let p;window.Vaadin||(window.Vaadin={}),window.Vaadin.registrations=window.Vaadin.registrations||[],window.Vaadin.developmentModeCallback=window.Vaadin.developmentModeCallback||{},window.Vaadin.developmentModeCallback["vaadin-usage-statistics"]=function(){u&&u()};const f=new Set,m=e=>class extends((0,o.U)(e)){static finalize(){super.finalize();const{is:e}=this;e&&!f.has(e)&&(window.Vaadin.registrations.push(this),f.add(e),window.Vaadin.developmentModeCallback&&(p=n.dx.debounce(p,r.t$,(()=>{window.Vaadin.developmentModeCallback["vaadin-usage-statistics"]()})),(0,s.E)(p)))}constructor(){super(),null===document.doctype&&console.warn('Vaadin components require the "standards mode" declaration. Please add <!DOCTYPE html> to the HTML document.')}}},95609:(e,t,i)=>{"use strict";i.d(t,{e:()=>h});var r=i(44673),n=i(19149),s=i(29884),o=i(93460),a=i(35313),l=i(2224);const c=e=>class extends e{static get properties(){return{resizable:{type:Boolean,value:function(){if("vaadin-grid-column-group"===this.localName)return;const e=this.parentNode;return e&&"vaadin-grid-column-group"===e.localName&&e.resizable||!1}},_headerTemplate:{type:Object},_footerTemplate:{type:Object},frozen:{type:Boolean,value:!1},hidden:{type:Boolean},header:{type:String},textAlign:{type:String},_lastFrozen:{type:Boolean,value:!1},_order:Number,_reorderStatus:Boolean,_emptyCells:Array,_headerCell:Object,_footerCell:Object,_grid:Object,headerRenderer:Function,footerRenderer:Function}}static get observers(){return["_widthChanged(width, _headerCell, _footerCell, _cells.*)","_frozenChanged(frozen, _headerCell, _footerCell, _cells.*)","_flexGrowChanged(flexGrow, _headerCell, _footerCell, _cells.*)","_pathOrHeaderChanged(path, header, _headerCell, _footerCell, _cells.*, renderer, headerRenderer, _bodyTemplate, _headerTemplate)","_textAlignChanged(textAlign, _cells.*, _headerCell, _footerCell)","_orderChanged(_order, _headerCell, _footerCell, _cells.*)","_lastFrozenChanged(_lastFrozen)","_setBodyTemplateOrRenderer(_bodyTemplate, renderer, _cells, _cells.*)","_setHeaderTemplateOrRenderer(_headerTemplate, headerRenderer, _headerCell)","_setFooterTemplateOrRenderer(_footerTemplate, footerRenderer, _footerCell)","_resizableChanged(resizable, _headerCell)","_reorderStatusChanged(_reorderStatus, _headerCell, _footerCell, _cells.*)","_hiddenChanged(hidden, _headerCell, _footerCell, _cells.*)"]}connectedCallback(){super.connectedCallback(),this._bodyTemplate&&(this._bodyTemplate.templatizer._grid=this._grid),this._headerTemplate&&(this._headerTemplate.templatizer._grid=this._grid),this._footerTemplate&&(this._footerTemplate.templatizer._grid=this._grid),this._templateObserver.flush(),this._bodyTemplate||this._templateObserver.callback(),requestAnimationFrame((()=>{this._allCells.forEach((e=>{e._content.parentNode||this._grid&&this._grid.appendChild(e._content)}))}))}disconnectedCallback(){super.disconnectedCallback(),requestAnimationFrame((()=>{this._findHostGrid()||this._allCells.forEach((e=>{e._content.parentNode&&e._content.parentNode.removeChild(e._content)}))})),this._gridValue=void 0}_findHostGrid(){let e=this;for(;e&&!/^vaadin.*grid(-pro)?$/.test(e.localName);)e=e.assignedSlot?e.assignedSlot.parentNode:e.parentNode;return e||void 0}get _grid(){return this._gridValue||(this._gridValue=this._findHostGrid()),this._gridValue}get _allCells(){return[].concat(this._cells||[]).concat(this._emptyCells||[]).concat(this._headerCell).concat(this._footerCell).filter((e=>e))}constructor(){super(),this._templateObserver=new n.o(this,(()=>{this._headerTemplate=this._prepareHeaderTemplate(),this._footerTemplate=this._prepareFooterTemplate(),this._bodyTemplate=this._prepareBodyTemplate()}))}_prepareHeaderTemplate(){return this._prepareTemplatizer(this._findTemplate(!0)||null,{})}_prepareFooterTemplate(){return this._prepareTemplatizer(this._findTemplate(!1,!0)||null,{})}_prepareBodyTemplate(){return this._prepareTemplatizer(this._findTemplate()||null)}_prepareTemplatizer(e,t){if(e&&!e.templatizer){const i=new o.F;i._grid=this._grid,i.dataHost=this.dataHost,i._instanceProps=t||i._instanceProps,i.template=e,e.templatizer=i}return e}_renderHeaderAndFooter(){this.headerRenderer&&this._headerCell&&this.__runRenderer(this.headerRenderer,this._headerCell),this.footerRenderer&&this._footerCell&&this.__runRenderer(this.footerRenderer,this._footerCell)}__runRenderer(e,t,i){const r=[t._content,this];i&&i.item&&r.push(i),e.apply(this,r)}__setColumnTemplateOrRenderer(e,t,i){if(e&&t)throw new Error("You should only use either a renderer or a template");i.forEach((i=>{const r=this._grid.__getRowModel(i.parentElement);if(t)i._renderer=t,(r.item||t===this.headerRenderer||t===this.footerRenderer)&&this.__runRenderer(t,i,r);else if(i._template!==e){i._template=e,i._content.innerHTML="",e.templatizer._grid=e.templatizer._grid||this._grid;const t=e.templatizer.createInstance();i._content.appendChild(t.root),i._instance=t,r.item&&i._instance.setProperties(r)}}))}_setBodyTemplateOrRenderer(e,t,i){(e||t)&&i&&this.__setColumnTemplateOrRenderer(e,t,i)}_setHeaderTemplateOrRenderer(e,t,i){(e||t)&&i&&this.__setColumnTemplateOrRenderer(e,t,[i])}_setFooterTemplateOrRenderer(e,t,i){(e||t)&&i&&(this.__setColumnTemplateOrRenderer(e,t,[i]),this._grid.__updateHeaderFooterRowVisibility(i.parentElement))}_selectFirstTemplate(e=!1,t=!1){return n.o.getFlattenedNodes(this).filter((i=>"template"===i.localName&&i.classList.contains("header")===e&&i.classList.contains("footer")===t))[0]}_findTemplate(e,t){const i=this._selectFirstTemplate(e,t);return i&&this.dataHost&&(i._rootDataHost=this.dataHost._rootDataHost||this.dataHost),i}_flexGrowChanged(e){this.parentElement&&this.parentElement._columnPropChanged&&this.parentElement._columnPropChanged("flexGrow"),this._allCells.forEach((t=>t.style.flexGrow=e))}_orderChanged(e){this._allCells.forEach((t=>t.style.order=e))}_widthChanged(e){this.parentElement&&this.parentElement._columnPropChanged&&this.parentElement._columnPropChanged("width"),this._allCells.forEach((t=>t.style.width=e)),this._grid&&this._grid.__forceReflow&&this._grid.__forceReflow()}_frozenChanged(e){this.parentElement&&this.parentElement._columnPropChanged&&this.parentElement._columnPropChanged("frozen",e),this._allCells.forEach((t=>this._toggleAttribute("frozen",e,t))),this._grid&&this._grid._frozenCellsChanged&&this._grid._frozenCellsChanged()}_lastFrozenChanged(e){this._allCells.forEach((t=>this._toggleAttribute("last-frozen",e,t))),this.parentElement&&this.parentElement._columnPropChanged&&(this.parentElement._lastFrozen=e)}_pathOrHeaderChanged(e,t,i,r,n,s,o,a,l){const c=void 0!==t;if(!o&&!l&&c&&i&&this.__setTextContent(i._content,t),e&&n.value){if(!s&&!a){const t=(t,i,{item:r})=>this.__setTextContent(t,this.get(e,r));this.__setColumnTemplateOrRenderer(void 0,t,n.value)}o||l||c||!i||null===t||this.__setTextContent(i._content,this._generateHeader(e))}i&&this._grid.__updateHeaderFooterRowVisibility(i.parentElement)}__setTextContent(e,t){e.textContent!==t&&(e.textContent=t)}_generateHeader(e){return e.substr(e.lastIndexOf(".")+1).replace(/([A-Z])/g,"-$1").toLowerCase().replace(/-/g," ").replace(/^./,(e=>e.toUpperCase()))}_toggleAttribute(e,t,i){i.hasAttribute(e)===!t&&(t?i.setAttribute(e,""):i.removeAttribute(e))}_reorderStatusChanged(e){this._allCells.forEach((t=>t.setAttribute("reorder-status",e)))}_resizableChanged(e,t){void 0!==e&&void 0!==t&&t&&[t].concat(this._emptyCells).forEach((t=>{if(t){const i=t.querySelector('[part~="resize-handle"]');if(i&&t.removeChild(i),e){const e=document.createElement("div");e.setAttribute("part","resize-handle"),t.appendChild(e)}}}))}_textAlignChanged(e){if(void 0===e)return;if(-1===["start","end","center"].indexOf(e))return void console.warn('textAlign can only be set as "start", "end" or "center"');let t;"ltr"===getComputedStyle(this._grid).direction?"start"===e?t="left":"end"===e&&(t="right"):"start"===e?t="right":"end"===e&&(t="left"),this._allCells.forEach((i=>{i._content.style.textAlign=e,getComputedStyle(i._content).textAlign!==e&&(i._content.style.textAlign=t)}))}_hiddenChanged(e){this.parentElement&&this.parentElement._columnPropChanged&&this.parentElement._columnPropChanged("hidden",e),!!e!=!!this._previousHidden&&this._grid&&(!0===e&&this._allCells.forEach((e=>{e._content.parentNode&&e._content.parentNode.removeChild(e._content)})),this._grid._debouncerHiddenChanged=a.dx.debounce(this._grid._debouncerHiddenChanged,l.rs,(()=>{this._grid&&this._grid._renderColumnTree&&this._grid._renderColumnTree(this._grid._columnTree)})),this._grid._updateLastFrozen&&this._grid._updateLastFrozen(),this._grid.notifyResize&&this._grid.notifyResize(),this._grid._resetKeyboardNavigation&&this._grid._resetKeyboardNavigation()),this._previousHidden=e}};class h extends(c((0,s.U)(r.H3))){static get is(){return"vaadin-grid-column"}static get properties(){return{width:{type:String,value:"100px"},flexGrow:{type:Number,value:1},renderer:Function,path:{type:String},autoWidth:{type:Boolean,value:!1},_bodyTemplate:{type:Object},_cells:Array}}}customElements.define(h.is,h)},93460:(e,t,i)=>{"use strict";i.d(t,{F:()=>s});var r=i(44673),n=i(22080);class s extends r.H3{static get is(){return"vaadin-grid-templatizer"}static get properties(){return{dataHost:Object,template:Object,_templateInstances:{type:Array,value:function(){return[]}},_parentPathValues:{value:function(){return{}}},_grid:Object}}static get observers(){return["_templateInstancesChanged(_templateInstances.*, _parentPathValues.*)"]}constructor(){super(),this._instanceProps={detailsOpened:!0,index:!0,item:!0,selected:!0,expanded:!0,level:!0}}createInstance(){this._ensureTemplatized();const e=new this._TemplateClass({});return this.addInstance(e),e}addInstance(e){-1===this._templateInstances.indexOf(e)&&(this._templateInstances.push(e),requestAnimationFrame((()=>this.notifyPath("_templateInstances.*",this._templateInstances))))}removeInstance(e){const t=this._templateInstances.indexOf(e);this.splice("_templateInstances",t,1)}_ensureTemplatized(){this._TemplateClass||(this._TemplateClass=(0,n.Uv)(this.template,this,{instanceProps:this._instanceProps,parentModel:!0,forwardHostProp:function(e,t){this._forwardParentProp(e,t),this._templateInstances&&this._templateInstances.forEach((i=>i.notifyPath(e,t)))},notifyInstanceProp:function(e,t,i){if("index"===t||"item"===t)return;const r=`__${t}__`;if(e[r]===i)return;e[r]=i;const n=Array.from(this._grid.$.items.children).filter((t=>this._grid._itemsEqual(t._item,e.item)))[0];n&&Array.from(n.children).forEach((e=>{e._instance&&(e._instance[r]=i,e._instance.notifyPath(t,i))}));const s="item.";if(Array.isArray(this._grid.items)&&0===t.indexOf(s)){const r=this._grid.items.indexOf(e.item),n=t.slice(s.length);this._grid.notifyPath(`items.${r}.${n}`,i)}const o=`_${t}InstanceChangedCallback`;this._grid&&this._grid[o]&&this._grid[o](e,i)}}))}_forwardParentProp(e,t){this._parentPathValues[e]=t,this._templateInstances.forEach((i=>i.notifyPath(e,t)))}_templateInstancesChanged(e){let t,i;if("_templateInstances"===e.path)t=0,i=this._templateInstances.length;else{if("_templateInstances.splices"!==e.path)return;t=e.value.index,i=e.value.addedCount}Object.keys(this._parentPathValues||{}).forEach((e=>{for(let r=t;r<t+i;r++)this._templateInstances[r].set(e,this._parentPathValues[e])}))}}customElements.define(s.is,s)},71281:(e,t,i)=>{"use strict";i.r(t),i.d(t,{GridSortColumnElement:()=>d});var r=i(36617);i(18382);(0,r.hC)("vaadin-grid-sorter",r.iv`
    :host {
      justify-content: flex-start;
      align-items: baseline;
      -webkit-user-select: none;
      -moz-user-select: none;
      user-select: none;
    }

    [part='content'] {
      display: inline-block;
      overflow: hidden;
      text-overflow: ellipsis;
    }

    [part='indicators'] {
      margin-left: var(--lumo-space-s);
    }

    :host(:not([direction])) [part='indicators']::before {
      opacity: 0.2;
    }

    :host([direction]) {
      color: var(--lumo-primary-text-color);
    }

    [part='order'] {
      font-size: var(--lumo-font-size-xxs);
      line-height: 1;
    }

    /* RTL specific styles */

    :host([dir='rtl']) [part='indicators'] {
      margin-right: var(--lumo-space-s);
      margin-left: 0;
    }
  `,{moduleId:"lumo-grid-sorter"});var n=i(44673),s=i(10800),o=i(29884);const a=document.createElement("template");a.innerHTML="\n  <style>\n    @font-face {\n      font-family: 'vaadin-grid-sorter-icons';\n      src: url(data:application/font-woff;charset=utf-8;base64,d09GRgABAAAAAAQwAA0AAAAABuwAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABGRlRNAAAEFAAAABkAAAAcfep+mUdERUYAAAP4AAAAHAAAAB4AJwAOT1MvMgAAAZgAAAA/AAAAYA8TBPpjbWFwAAAB7AAAAFUAAAFeF1fZ4mdhc3AAAAPwAAAACAAAAAgAAAAQZ2x5ZgAAAlgAAABcAAAAnMvguMloZWFkAAABMAAAAC8AAAA2C5Ap72hoZWEAAAFgAAAAHQAAACQGbQPHaG10eAAAAdgAAAAUAAAAHAoAAABsb2NhAAACRAAAABIAAAASAIwAYG1heHAAAAGAAAAAFgAAACAACwAKbmFtZQAAArQAAAECAAACZxWCgKhwb3N0AAADuAAAADUAAABZCrApUXicY2BkYGAA4rDECVrx/DZfGbhZGEDgyqNPOxH0/wNMq5kPALkcDEwgUQBWRA0dAHicY2BkYGA+8P8AAwMLAwgwrWZgZEAFbABY4QM8AAAAeJxjYGRgYOAAQiYGEICQSAAAAi8AFgAAeJxjYGY6yziBgZWBgWkm0xkGBoZ+CM34msGYkZMBFTAKoAkwODAwvmRiPvD/AIMDMxCD1CDJKjAwAgBktQsXAHicY2GAAMZQCM0EwqshbAALxAEKeJxjYGBgZoBgGQZGBhCIAPIYwXwWBhsgzcXAwcAEhIwMCi+Z/v/9/x+sSuElA4T9/4k4K1gHFwMMMILMY2QDYmaoABOQYGJABUA7WBiGNwAAJd4NIQAAAAAAAAAACAAIABAAGAAmAEAATgAAeJyNjLENgDAMBP9tIURJwQCMQccSZgk2i5fIYBDAidJjycXr7x5EPwE2wY8si7jmyBNXGo/bNBerxJNrpxhbO3/fEFpx8ZICpV+ghxJ74fAMe+h7Ox14AbrsHB14nK2QQWrDMBRER4mTkhQK3ZRQKOgCNk7oGQqhhEIX2WSlWEI1BAlkJ5CDdNsj5Ey9Rncdi38ES+jzNJo/HwTgATcoDEthhY3wBHc4CE+pfwsX5F/hGe7Vo/AcK/UhvMSz+mGXKhZU6pww8ISz3oWn1BvhgnwTnuEJf8Jz1OpFeIlX9YULDLdFi4ASHolkSR0iuYdjLak1vAequBhj21D61Nqyi6l3qWybGPjySbPHGScGJl6dP58MYcQRI0bts7mjebBqrFENH7t3qWtj0OuqHnXcW7b0HOTZFnKryRGW2hFX1m0O2vEM3opNMfTau+CS6Z3Vx6veNnEXY6jwDxhsc2gAAHicY2BiwA84GBgYmRiYGJkZmBlZGFkZ2djScyoLMgzZS/MyDQwMwLSrpYEBlIbxjQDrzgsuAAAAAAEAAf//AA94nGNgZGBg4AFiMSBmYmAEQnYgZgHzGAAD6wA2eJxjYGBgZACCKyoz1cD0o087YTQATOcIewAAAA==) format('woff');\n      font-weight: normal;\n      font-style: normal;\n    }\n  </style>\n",document.head.appendChild(a.content);class l extends((0,s.T)((0,o.U)(n.H3))){static get template(){return n.dy`
      <style>
        :host {
          display: inline-flex;
          cursor: pointer;
          max-width: 100%;
        }

        [part='content'] {
          flex: 1 1 auto;
        }

        [part='indicators'] {
          position: relative;
          align-self: center;
          flex: none;
        }

        [part='order'] {
          display: inline;
          vertical-align: super;
        }

        [part='indicators']::before {
          font-family: 'vaadin-grid-sorter-icons';
          display: inline-block;
        }

        :host(:not([direction])) [part='indicators']::before {
          content: '\\e901';
        }

        :host([direction='asc']) [part='indicators']::before {
          content: '\\e900';
        }

        :host([direction='desc']) [part='indicators']::before {
          content: '\\e902';
        }
      </style>

      <div part="content">
        <slot></slot>
      </div>
      <div part="indicators">
        <span part="order">[[_getDisplayOrder(_order)]]</span>
      </div>
    `}static get is(){return"vaadin-grid-sorter"}static get properties(){return{path:String,direction:{type:String,reflectToAttribute:!0,notify:!0,value:null},_order:{type:Number,value:null},_isConnected:{type:Boolean,value:!1}}}static get observers(){return["_pathOrDirectionChanged(path, direction, _isConnected)"]}ready(){super.ready(),this.addEventListener("click",this._onClick.bind(this))}connectedCallback(){super.connectedCallback(),this._isConnected=!0}disconnectedCallback(){super.disconnectedCallback(),this._isConnected=!1}_pathOrDirectionChanged(e,t,i){void 0!==e&&void 0!==t&&void 0!==i&&i&&this.dispatchEvent(new CustomEvent("sorter-changed",{bubbles:!0,composed:!0}))}_getDisplayOrder(e){return null===e?"":e+1}_onClick(e){const t=this.getRootNode().activeElement;this!==t&&this.contains(t)||(e.preventDefault(),"asc"===this.direction?this.direction="desc":"desc"===this.direction?this.direction=null:this.direction="asc")}}customElements.define(l.is,l);var c=i(95609),h=i(91121);class d extends c.e{static get template(){return h.d`
      <template class="header" id="headerTemplate">
        <vaadin-grid-sorter path="[[path]]" direction="{{direction}}">[[_getHeader(header, path)]]</vaadin-grid-sorter>
      </template>
    `}static get is(){return"vaadin-grid-sort-column"}static get properties(){return{path:String,direction:{type:String,notify:!0}}}_prepareHeaderTemplate(){const e=this._prepareTemplatizer(this.$.headerTemplate);return e.templatizer.dataHost=this,e}_getHeader(e,t){return e||this._generateHeader(t)}}customElements.define(d.is,d)},92030:(e,t,i)=>{"use strict";i.r(t),i.d(t,{GridElement:()=>ei});i(18382),i(19962),i(76444),i(2421),i(42036),i(71528);var r=i(36617);(0,r.hC)("vaadin-checkbox",r.iv`
    :host {
      -webkit-tap-highlight-color: transparent;
      -webkit-user-select: none;
      -moz-user-select: none;
      user-select: none;
      cursor: default;
      outline: none;
    }

    [part='label']:not([empty]) {
      margin: 0.1875em 0.875em 0.1875em 0.375em;
    }

    [part='checkbox'] {
      width: calc(1em + 2px);
      height: calc(1em + 2px);
      margin: 0.1875em;
      position: relative;
      border-radius: var(--lumo-border-radius-s);
      background-color: var(--lumo-contrast-20pct);
      transition: transform 0.2s cubic-bezier(0.12, 0.32, 0.54, 2), background-color 0.15s;
      pointer-events: none;
      line-height: 1.2;
    }

    :host([indeterminate]) [part='checkbox'],
    :host([checked]) [part='checkbox'] {
      background-color: var(--lumo-primary-color);
    }

    /* Needed to align the checkbox nicely on the baseline */
    [part='checkbox']::before {
      content: '\\2003';
    }

    /* Checkmark */
    [part='checkbox']::after {
      content: '';
      display: inline-block;
      width: 0;
      height: 0;
      border: 0 solid var(--lumo-primary-contrast-color);
      border-width: 0.1875em 0 0 0.1875em;
      box-sizing: border-box;
      transform-origin: 0 0;
      position: absolute;
      top: 0.8125em;
      left: 0.5em;
      transform: scale(0.55) rotate(-135deg);
      opacity: 0;
    }

    :host([checked]) [part='checkbox']::after {
      opacity: 1;
      width: 0.625em;
      height: 1.0625em;
    }

    /* Indeterminate checkmark */
    :host([indeterminate]) [part='checkbox']::after {
      transform: none;
      opacity: 1;
      top: 45%;
      height: 10%;
      left: 22%;
      right: 22%;
      width: auto;
      border: 0;
      background-color: var(--lumo-primary-contrast-color);
      transition: opacity 0.25s;
    }

    /* Focus ring */
    :host([focus-ring]) [part='checkbox'] {
      box-shadow: 0 0 0 3px var(--lumo-primary-color-50pct);
    }

    /* Disabled */
    :host([disabled]) {
      pointer-events: none;
      color: var(--lumo-disabled-text-color);
    }

    :host([disabled]) [part='label'] ::slotted(*) {
      color: inherit;
    }

    :host([disabled]) [part='checkbox'] {
      background-color: var(--lumo-contrast-10pct);
    }

    :host([disabled]) [part='checkbox']::after {
      border-color: var(--lumo-contrast-30pct);
    }

    :host([indeterminate][disabled]) [part='checkbox']::after {
      background-color: var(--lumo-contrast-30pct);
    }

    /* RTL specific styles */
    :host([dir='rtl']) [part='label']:not([empty]) {
      margin: 0.1875em 0.375em 0.1875em 0.875em;
    }

    /* Transition the checkmark if activated with the mouse (disabled for grid select-all this way) */
    :host(:hover) [part='checkbox']::after {
      transition: width 0.1s, height 0.25s;
    }

    /* Used for activation "halo" */
    [part='checkbox']::before {
      color: transparent;
      display: inline-block;
      width: 100%;
      height: 100%;
      border-radius: inherit;
      background-color: inherit;
      transform: scale(1.4);
      opacity: 0;
      transition: transform 0.1s, opacity 0.8s;
    }

    /* Hover */
    :host(:not([checked]):not([indeterminate]):not([disabled]):hover) [part='checkbox'] {
      background-color: var(--lumo-contrast-30pct);
    }

    /* Disable hover for touch devices */
    @media (pointer: coarse) {
      :host(:not([checked]):not([indeterminate]):not([disabled]):hover) [part='checkbox'] {
        background-color: var(--lumo-contrast-20pct);
      }
    }

    /* Active */
    :host([active]) [part='checkbox'] {
      transform: scale(0.9);
      transition-duration: 0.05s;
    }

    :host([active][checked]) [part='checkbox'] {
      transform: scale(1.1);
    }

    :host([active]:not([checked])) [part='checkbox']::before {
      transition-duration: 0.01s, 0.01s;
      transform: scale(0);
      opacity: 0.4;
    }
  `,{moduleId:"lumo-checkbox"});var n=i(44673),s=i(96163),o=i(10800),a=i(94550),l=i(38023);class c extends((0,l.S)((0,a.$)((0,o.T)((0,s._)(n.H3))))){static get template(){return n.dy`
      <style>
        :host {
          display: inline-block;
        }

        :host([hidden]) {
          display: none !important;
        }

        label {
          display: inline-flex;
          align-items: baseline;
          outline: none;
        }

        [part='checkbox'] {
          position: relative;
          display: inline-block;
          flex: none;
        }

        input[type='checkbox'] {
          position: absolute;
          top: 0;
          left: 0;
          right: 0;
          width: 100%;
          height: 100%;
          opacity: 0;
          cursor: inherit;
          margin: 0;
        }

        :host([disabled]) {
          -webkit-tap-highlight-color: transparent;
        }
      </style>

      <label>
        <span part="checkbox">
          <input
            type="checkbox"
            checked="{{checked::change}}"
            disabled$="[[disabled]]"
            indeterminate="{{indeterminate::change}}"
            role="presentation"
            tabindex="-1"
          />
        </span>

        <span part="label">
          <slot></slot>
        </span>
      </label>
    `}static get is(){return"vaadin-checkbox"}static get version(){return"3.0.0"}static get properties(){return{checked:{type:Boolean,value:!1,notify:!0,observer:"_checkedChanged",reflectToAttribute:!0},indeterminate:{type:Boolean,notify:!0,observer:"_indeterminateChanged",reflectToAttribute:!0,value:!1},value:{type:String,value:"on"},_nativeCheckbox:{type:Object}}}constructor(){super(),this.name}get name(){return this.checked?this._storedName:""}set name(e){this._storedName=e}ready(){super.ready(),this.setAttribute("role","checkbox"),this._nativeCheckbox=this.shadowRoot.querySelector('input[type="checkbox"]'),this.addEventListener("click",this._handleClick.bind(this)),this._addActiveListeners();const e=this.getAttribute("name");e&&(this.name=e),this.shadowRoot.querySelector('[part~="label"]').querySelector("slot").addEventListener("slotchange",this._updateLabelAttribute.bind(this)),this._updateLabelAttribute()}_updateLabelAttribute(){const e=this.shadowRoot.querySelector('[part~="label"]'),t=e.firstElementChild.assignedNodes();this._isAssignedNodesEmpty(t)?e.setAttribute("empty",""):e.removeAttribute("empty")}_isAssignedNodesEmpty(e){return 0===e.length||1==e.length&&e[0].nodeType==Node.TEXT_NODE&&""===e[0].textContent.trim()}_checkedChanged(e){this.indeterminate?this.setAttribute("aria-checked","mixed"):this.setAttribute("aria-checked",Boolean(e))}_indeterminateChanged(e){e?this.setAttribute("aria-checked","mixed"):this.setAttribute("aria-checked",this.checked)}_addActiveListeners(){this._addEventListenerToNode(this,"down",(e=>{this.__interactionsAllowed(e)&&this.setAttribute("active","")})),this._addEventListenerToNode(this,"up",(()=>this.removeAttribute("active"))),this.addEventListener("keydown",(e=>{this.__interactionsAllowed(e)&&32===e.keyCode&&(e.preventDefault(),this.setAttribute("active",""))})),this.addEventListener("keyup",(e=>{this.__interactionsAllowed(e)&&32===e.keyCode&&(e.preventDefault(),this._toggleChecked(),this.removeAttribute("active"),this.indeterminate&&(this.indeterminate=!1))}))}get focusElement(){return this.shadowRoot.querySelector("input")}__interactionsAllowed(e){return!this.disabled&&"a"!==e.target.localName}_handleClick(e){this.__interactionsAllowed(e)&&(this.indeterminate?(this.indeterminate=!1,e.preventDefault(),this._toggleChecked()):e.composedPath()[0]!==this._nativeCheckbox&&(e.preventDefault(),this._toggleChecked()))}_toggleChecked(){this.checked=!this.checked,this.dispatchEvent(new CustomEvent("change",{composed:!1,bubbles:!0}))}}customElements.define(c.is,c),(0,r.hC)("vaadin-grid",r.iv`
    :host {
      font-family: var(--lumo-font-family);
      font-size: var(--lumo-font-size-m);
      line-height: var(--lumo-line-height-s);
      color: var(--lumo-body-text-color);
      background-color: var(--lumo-base-color);
      box-sizing: border-box;
      -webkit-text-size-adjust: 100%;
      -webkit-tap-highlight-color: transparent;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;

      /* For internal use only */
      --_lumo-grid-border-color: var(--lumo-contrast-20pct);
      --_lumo-grid-secondary-border-color: var(--lumo-contrast-10pct);
      --_lumo-grid-border-width: 1px;
      --_lumo-grid-selected-row-color: var(--lumo-primary-color-10pct);
    }

    /* No (outer) border */

    :host(:not([theme~='no-border'])) {
      border: var(--_lumo-grid-border-width) solid var(--_lumo-grid-border-color);
    }

    /* Cell styles */

    [part~='cell'] {
      min-height: var(--lumo-size-m);
      background-color: var(--lumo-base-color);
    }

    [part~='cell'] ::slotted(vaadin-grid-cell-content) {
      cursor: default;
      padding: var(--lumo-space-xs) var(--lumo-space-m);
    }

    /* Apply row borders by default and introduce the "no-row-borders" variant */
    :host(:not([theme~='no-row-borders'])) [part~='cell']:not([part~='details-cell']) {
      border-top: var(--_lumo-grid-border-width) solid var(--_lumo-grid-secondary-border-color);
    }

    /* Hide first body row top border */
    :host(:not([theme~='no-row-borders'])) [part='row'][first] [part~='cell']:not([part~='details-cell']) {
      border-top: 0;
      min-height: calc(var(--lumo-size-m) - var(--_lumo-grid-border-width));
    }

    /* Focus-ring */

    [part~='cell']:focus {
      outline: none;
    }

    :host([navigating]) [part~='cell']:focus::before {
      content: '';
      position: absolute;
      top: 0;
      right: 0;
      bottom: 0;
      left: 0;
      pointer-events: none;
      box-shadow: inset 0 0 0 2px var(--lumo-primary-color-50pct);
    }

    /* Drag and Drop styles */
    :host([dragover])::after {
      content: '';
      position: absolute;
      z-index: 100;
      top: 0;
      right: 0;
      bottom: 0;
      left: 0;
      pointer-events: none;
      box-shadow: inset 0 0 0 2px var(--lumo-primary-color-50pct);
    }

    [part~='row'][dragover] {
      z-index: 100 !important;
    }

    [part~='row'][dragover] [part~='cell'] {
      overflow: visible;
    }

    [part~='row'][dragover] [part~='cell']::after {
      content: '';
      position: absolute;
      top: 0;
      right: 0;
      bottom: 0;
      left: 0;
      height: calc(var(--_lumo-grid-border-width) + 2px);
      pointer-events: none;
      background: var(--lumo-primary-color-50pct);
    }

    :host([theme~='no-row-borders']) [dragover] [part~='cell']::after {
      height: 2px;
    }

    [part~='row'][dragover='below'] [part~='cell']::after {
      top: 100%;
      bottom: auto;
      margin-top: -1px;
    }

    [part~='row'][dragover='above'] [part~='cell']::after {
      top: auto;
      bottom: 100%;
      margin-bottom: -1px;
    }

    [part~='row'][details-opened][dragover='below'] [part~='cell']:not([part~='details-cell'])::after,
    [part~='row'][details-opened][dragover='above'] [part~='details-cell']::after {
      display: none;
    }

    [part~='row'][dragover][dragover='on-top'] [part~='cell']::after {
      height: 100%;
    }

    [part~='row'][dragstart] {
      /* Add bottom-space to the row so the drag number doesn't get clipped. Needed for IE/Edge */
      border-bottom: 100px solid transparent;
      z-index: 100 !important;
      opacity: 0.9;
    }

    [part~='row'][dragstart] [part~='cell'] {
      border: none !important;
      box-shadow: none !important;
    }

    [part~='row'][dragstart] [part~='cell'][last-column] {
      border-radius: 0 var(--lumo-border-radius-s) var(--lumo-border-radius-s) 0;
    }

    [part~='row'][dragstart] [part~='cell'][first-column] {
      border-radius: var(--lumo-border-radius-s) 0 0 var(--lumo-border-radius-s);
    }

    [ios] [part~='row'][dragstart] [part~='cell'] {
      background: var(--lumo-primary-color-50pct);
    }

    #scroller:not([ios]) [part~='row'][dragstart]:not([dragstart=''])::after {
      display: block;
      position: absolute;
      left: var(--_grid-drag-start-x);
      top: var(--_grid-drag-start-y);
      z-index: 100;
      content: attr(dragstart);
      align-items: center;
      justify-content: center;
      box-sizing: border-box;
      padding: calc(var(--lumo-space-xs) * 0.8);
      color: var(--lumo-error-contrast-color);
      background-color: var(--lumo-error-color);
      border-radius: var(--lumo-border-radius-m);
      font-family: var(--lumo-font-family);
      font-size: var(--lumo-font-size-xxs);
      line-height: 1;
      font-weight: 500;
      text-transform: initial;
      letter-spacing: initial;
      min-width: calc(var(--lumo-size-s) * 0.7);
      text-align: center;
    }

    /* Headers and footers */

    [part~='header-cell'] ::slotted(vaadin-grid-cell-content),
    [part~='footer-cell'] ::slotted(vaadin-grid-cell-content),
    [part~='reorder-ghost'] {
      font-size: var(--lumo-font-size-s);
      font-weight: 500;
    }

    [part~='footer-cell'] ::slotted(vaadin-grid-cell-content) {
      font-weight: 400;
    }

    [part='row']:only-child [part~='header-cell'] {
      min-height: var(--lumo-size-xl);
    }

    /* Header borders */

    /* Hide first header row top border */
    :host(:not([theme~='no-row-borders'])) [part='row']:first-child [part~='header-cell'] {
      border-top: 0;
    }

    [part='row']:last-child [part~='header-cell'] {
      border-bottom: var(--_lumo-grid-border-width) solid transparent;
    }

    :host(:not([theme~='no-row-borders'])) [part='row']:last-child [part~='header-cell'] {
      border-bottom-color: var(--_lumo-grid-secondary-border-color);
    }

    /* Overflow uses a stronger border color */
    :host([overflow~='top']) [part='row']:last-child [part~='header-cell'] {
      border-bottom-color: var(--_lumo-grid-border-color);
    }

    /* Footer borders */

    [part='row']:first-child [part~='footer-cell'] {
      border-top: var(--_lumo-grid-border-width) solid transparent;
    }

    :host(:not([theme~='no-row-borders'])) [part='row']:first-child [part~='footer-cell'] {
      border-top-color: var(--_lumo-grid-secondary-border-color);
    }

    /* Overflow uses a stronger border color */
    :host([overflow~='bottom']) [part='row']:first-child [part~='footer-cell'] {
      border-top-color: var(--_lumo-grid-border-color);
    }

    /* Column reordering */

    :host([reordering]) [part~='cell'] {
      background: linear-gradient(var(--lumo-shade-20pct), var(--lumo-shade-20pct)) var(--lumo-base-color);
    }

    :host([reordering]) [part~='cell'][reorder-status='allowed'] {
      background: var(--lumo-base-color);
    }

    :host([reordering]) [part~='cell'][reorder-status='dragging'] {
      background: linear-gradient(var(--lumo-contrast-5pct), var(--lumo-contrast-5pct)) var(--lumo-base-color);
    }

    [part~='reorder-ghost'] {
      opacity: 0.85;
      box-shadow: var(--lumo-box-shadow-s);
      /* TODO Use the same styles as for the cell element (reorder-ghost copies styles from the cell element) */
      padding: var(--lumo-space-s) var(--lumo-space-m) !important;
    }

    /* Column resizing */

    [part='resize-handle'] {
      width: 3px;
      background-color: var(--lumo-primary-color-50pct);
      opacity: 0;
      transition: opacity 0.2s;
    }

    :host(:not([reordering])) *:not([column-resizing]) [part~='cell']:hover [part='resize-handle'],
    [part='resize-handle']:active {
      opacity: 1;
      transition-delay: 0.15s;
    }

    /* Column borders */

    :host([theme~='column-borders']) [part~='cell']:not([last-column]):not([part~='details-cell']) {
      border-right: var(--_lumo-grid-border-width) solid var(--_lumo-grid-secondary-border-color);
    }

    /* Frozen columns */

    [last-frozen] {
      border-right: var(--_lumo-grid-border-width) solid transparent;
      overflow: hidden;
    }

    :host([overflow~='left']) [part~='cell'][last-frozen]:not([part~='details-cell']) {
      border-right-color: var(--_lumo-grid-border-color);
    }

    /* Row stripes */

    :host([theme~='row-stripes']) [part~='row']:not([odd]) [part~='body-cell'],
    :host([theme~='row-stripes']) [part~='row']:not([odd]) [part~='details-cell'] {
      background-image: linear-gradient(var(--lumo-contrast-5pct), var(--lumo-contrast-5pct));
      background-repeat: repeat-x;
    }

    /* Selected row */

    /* Raise the selected rows above unselected rows (so that box-shadow can cover unselected rows) */
    :host(:not([reordering])) [part~='row'][selected] {
      z-index: 1;
    }

    :host(:not([reordering])) [part~='row'][selected] [part~='body-cell']:not([part~='details-cell']) {
      background-image: linear-gradient(var(--_lumo-grid-selected-row-color), var(--_lumo-grid-selected-row-color));
      background-repeat: repeat;
    }

    /* Cover the border of an unselected row */
    :host(:not([theme~='no-row-borders'])) [part~='row'][selected] [part~='cell']:not([part~='details-cell']) {
      box-shadow: 0 var(--_lumo-grid-border-width) 0 0 var(--_lumo-grid-selected-row-color);
    }

    /* Compact */

    :host([theme~='compact']) [part='row']:only-child [part~='header-cell'] {
      min-height: var(--lumo-size-m);
    }

    :host([theme~='compact']) [part~='cell'] {
      min-height: var(--lumo-size-s);
    }

    :host([theme~='compact']) [part='row'][first] [part~='cell']:not([part~='details-cell']) {
      min-height: calc(var(--lumo-size-s) - var(--_lumo-grid-border-width));
    }

    :host([theme~='compact']) [part~='cell'] ::slotted(vaadin-grid-cell-content) {
      padding: var(--lumo-space-xs) var(--lumo-space-s);
    }

    /* Wrap cell contents */

    :host([theme~='wrap-cell-content']) [part~='cell'] ::slotted(vaadin-grid-cell-content) {
      white-space: normal;
    }

    /* RTL specific styles */

    :host([dir='rtl']) [part~='row'][dragstart] [part~='cell'][last-column] {
      border-radius: var(--lumo-border-radius-s) 0 0 var(--lumo-border-radius-s);
    }

    :host([dir='rtl']) [part~='row'][dragstart] [part~='cell'][first-column] {
      border-radius: 0 var(--lumo-border-radius-s) var(--lumo-border-radius-s) 0;
    }

    :host([dir='rtl'][theme~='column-borders']) [part~='cell']:not([last-column]):not([part~='details-cell']) {
      border-right: none;
      border-left: var(--_lumo-grid-border-width) solid var(--_lumo-grid-secondary-border-color);
    }

    :host([dir='rtl']) [last-frozen] {
      border-right: none;
      border-left: var(--_lumo-grid-border-width) solid transparent;
    }

    :host([dir='rtl'][overflow~='right']) [part~='cell'][last-frozen]:not([part~='details-cell']) {
      border-left-color: var(--_lumo-grid-border-color);
    }
  `,{moduleId:"lumo-grid"}),(0,r.hC)("vaadin-checkbox",r.iv`
    :host(.vaadin-grid-select-all-checkbox) {
      font-size: var(--lumo-font-size-m);
    }
  `,{moduleId:"vaadin-grid-select-all-checkbox-lumo"});var h=i(91121);i(7894);let d=!1,u=[],p=[];function f(){d=!0,requestAnimationFrame((function(){d=!1,m(u),setTimeout((function(){!function(e){for(let t=0,i=e.length;t<i;t++)_(e.shift())}(p)}))}))}function m(e){for(;e.length;)_(e.shift())}function _(e){const t=e[0],i=e[1],r=e[2];try{i.apply(t,r)}catch(e){setTimeout((()=>{throw e}))}}var g=i(35313),y=i(2224),v=i(55218),b=i(3027);class w{constructor(){this.start=0,this.end=0,this.previous=null,this.parent=null,this.rules=null,this.parsedCssText="",this.cssText="",this.atRule=!1,this.type=0,this.keyframesName="",this.selector="",this.parsedSelector=""}}function x(e){return C(function(e){let t=new w;t.start=0,t.end=e.length;let i=t;for(let r=0,n=e.length;r<n;r++)if(e[r]===T){i.rules||(i.rules=[]);let e=i,t=e.rules[e.rules.length-1]||null;i=new w,i.start=r+1,i.parent=e,i.previous=t,e.rules.push(i)}else e[r]===k&&(i.end=r+1,i=i.parent||t);return t}(e=e.replace(O.comments,"").replace(O.port,"")),e)}function C(e,t){let i=t.substring(e.start,e.end-1);if(e.parsedCssText=e.cssText=i.trim(),e.parent){let r=e.previous?e.previous.end:e.parent.start;i=t.substring(r,e.start-1),i=function(e){return e.replace(/\\([0-9a-f]{1,6})\s/gi,(function(){let e=arguments[1],t=6-e.length;for(;t--;)e="0"+e;return"\\"+e}))}(i),i=i.replace(O.multipleSpaces," "),i=i.substring(i.lastIndexOf(";")+1);let n=e.parsedSelector=e.selector=i.trim();e.atRule=0===n.indexOf(E),e.atRule?0===n.indexOf(I)?e.type=A.MEDIA_RULE:n.match(O.keyframesRule)&&(e.type=A.KEYFRAMES_RULE,e.keyframesName=e.selector.split(O.multipleSpaces).pop()):0===n.indexOf(P)?e.type=A.MIXIN_RULE:e.type=A.STYLE_RULE}let r=e.rules;if(r)for(let e,i=0,n=r.length;i<n&&(e=r[i]);i++)C(e,t);return e}function S(e,t,i=""){let r="";if(e.cssText||e.rules){let i=e.rules;if(i&&!function(e){let t=e[0];return Boolean(t)&&Boolean(t.selector)&&0===t.selector.indexOf(P)}(i))for(let e,n=0,s=i.length;n<s&&(e=i[n]);n++)r=S(e,t,r);else r=t?e.cssText:function(e){return function(e){return e.replace(O.mixinApply,"").replace(O.varApply,"")}(e=function(e){return e.replace(O.customProp,"").replace(O.mixinProp,"")}(e))}(e.cssText),r=r.trim(),r&&(r="  "+r+"\n")}return r&&(e.selector&&(i+=e.selector+" "+T+"\n"),i+=r,e.selector&&(i+=k+"\n\n")),i}const A={STYLE_RULE:1,KEYFRAMES_RULE:7,MEDIA_RULE:4,MIXIN_RULE:1e3},T="{",k="}",O={comments:/\/\*[^*]*\*+([^/*][^*]*\*+)*\//gim,port:/@import[^;]*;/gim,customProp:/(?:^[^;\-\s}]+)?--[^;{}]*?:[^{};]*?(?:[;\n]|$)/gim,mixinProp:/(?:^[^;\-\s}]+)?--[^;{}]*?:[^{};]*?{[^}]*?}(?:[;\n]|$)?/gim,mixinApply:/@apply\s*\(?[^);]*\)?\s*(?:[;\n]|$)?/gim,varApply:/[^;:]*?:[^;]*?var\([^;]*\)(?:[;\n]|$)?/gim,keyframesRule:/^@[^\s]*keyframes/,multipleSpaces:/\s+/g},P="--",I="@media",E="@";var M=i(79669);const R=new Set;function N(e){const t=e.textContent;if(!R.has(t)){R.add(t);const e=document.createElement("style");e.setAttribute("shady-unscoped",""),e.textContent=t,document.head.appendChild(e)}}function L(e){return e.hasAttribute("shady-unscoped")}function D(e,t){return e?("string"==typeof e&&(e=x(e)),t&&F(e,t),S(e,b.rd)):""}function z(e){return!e.__cssRules&&e.textContent&&(e.__cssRules=x(e.textContent)),e.__cssRules||null}function F(e,t,i,r){if(!e)return;let n=!1,s=e.type;if(r&&s===A.MEDIA_RULE){let t=e.selector.match(M.mA);t&&(window.matchMedia(t[1]).matches||(n=!0))}s===A.STYLE_RULE?t(e):i&&s===A.KEYFRAMES_RULE?i(e):s===A.MIXIN_RULE&&(n=!0);let o=e.rules;if(o&&!n)for(let e,n=0,s=o.length;n<s&&(e=o[n]);n++)F(e,t,i,r)}function j(e,t){let i=0;for(let r=t,n=e.length;r<n;r++)if("("===e[r])i++;else if(")"===e[r]&&0==--i)return r;return-1}function B(e,t){let i=e.indexOf("var(");if(-1===i)return t(e,"","","");let r=j(e,i+3),n=e.substring(i+4,r),s=e.substring(0,i),o=B(e.substring(r+1),t),a=n.indexOf(",");return-1===a?t(s,n.trim(),"",o):t(s,n.substring(0,a).trim(),n.substring(a+1).trim(),o)}window.ShadyDOM&&window.ShadyDOM.wrap;const V="css-build";function U(e){if(void 0!==b.Cp)return b.Cp;if(void 0===e.__cssBuild){const t=e.getAttribute(V);if(t)e.__cssBuild=t;else{const t=function(e){const t="template"===e.localName?e.content.firstChild:e.firstChild;if(t instanceof Comment){const e=t.textContent.trim().split(":");if(e[0]===V)return e[1]}return""}(e);""!==t&&function(e){const t="template"===e.localName?e.content.firstChild:e.firstChild;t.parentNode.removeChild(t)}(e),e.__cssBuild=t}}return e.__cssBuild||""}function G(e){return""!==U(e)}var Z=i(91322);const H=/;\s*/m,W=/^\s*(initial)|(inherit)\s*$/,q=/\s*!important/,$="_-_";class J{constructor(){this._map={}}set(e,t){e=e.trim(),this._map[e]={properties:t,dependants:{}}}get(e){return e=e.trim(),this._map[e]||null}}let Y=null;class K{constructor(){this._currentElement=null,this._measureElement=null,this._map=new J}detectMixin(e){return(0,Z.OH)(e)}gatherStyles(e){const t=function(e){const t=[],i=e.querySelectorAll("style");for(let e=0;e<i.length;e++){const r=i[e];L(r)?b.WA||(N(r),r.parentNode.removeChild(r)):(t.push(r.textContent),r.parentNode.removeChild(r))}return t.join("").trim()}(e.content);if(t){const i=document.createElement("style");return i.textContent=t,e.content.insertBefore(i,e.content.firstChild),i}return null}transformTemplate(e,t){void 0===e._gatheredStyle&&(e._gatheredStyle=this.gatherStyles(e));const i=e._gatheredStyle;return i?this.transformStyle(i,t):null}transformStyle(e,t=""){let i=z(e);return this.transformRules(i,t),e.textContent=D(i),i}transformCustomStyle(e){let t=z(e);return F(t,(e=>{":root"===e.selector&&(e.selector="html"),this.transformRule(e)})),e.textContent=D(t),t}transformRules(e,t){this._currentElement=t,F(e,(e=>{this.transformRule(e)})),this._currentElement=null}transformRule(e){e.cssText=this.transformCssText(e.parsedCssText,e),":root"===e.selector&&(e.selector=":host > *")}transformCssText(e,t){return e=e.replace(M.CN,((e,i,r,n)=>this._produceCssProperties(e,i,r,n,t))),this._consumeCssProperties(e,t)}_getInitialValueForProperty(e){return this._measureElement||(this._measureElement=document.createElement("meta"),this._measureElement.setAttribute("apply-shim-measure",""),this._measureElement.style.all="initial",document.head.appendChild(this._measureElement)),window.getComputedStyle(this._measureElement).getPropertyValue(e)}_fallbacksFromPreviousRules(e){let t=e;for(;t.parent;)t=t.parent;const i={};let r=!1;return F(t,(t=>{r=r||t===e,r||t.selector===e.selector&&Object.assign(i,this._cssTextToMap(t.parsedCssText))})),i}_consumeCssProperties(e,t){let i=null;for(;i=M.$T.exec(e);){let r=i[0],n=i[1],s=i.index,o=s+r.indexOf("@apply"),a=s+r.length,l=e.slice(0,o),c=e.slice(a),h=t?this._fallbacksFromPreviousRules(t):{};Object.assign(h,this._cssTextToMap(l));let d=this._atApplyToCssProperties(n,h);e=`${l}${d}${c}`,M.$T.lastIndex=s+d.length}return e}_atApplyToCssProperties(e,t){e=e.replace(H,"");let i=[],r=this._map.get(e);if(r||(this._map.set(e,{}),r=this._map.get(e)),r){let n,s,o;this._currentElement&&(r.dependants[this._currentElement]=!0);const a=r.properties;for(n in a)o=t&&t[n],s=[n,": var(",e,$,n],o&&s.push(",",o.replace(q,"")),s.push(")"),q.test(a[n])&&s.push(" !important"),i.push(s.join(""))}return i.join("; ")}_replaceInitialOrInherit(e,t){let i=W.exec(t);return i&&(t=i[1]?this._getInitialValueForProperty(e):"apply-shim-inherit"),t}_cssTextToMap(e,t=!1){let i,r,n=e.split(";"),s={};for(let e,o,a=0;a<n.length;a++)e=n[a],e&&(o=e.split(":"),o.length>1&&(i=o[0].trim(),r=o.slice(1).join(":"),t&&(r=this._replaceInitialOrInherit(i,r)),s[i]=r));return s}_invalidateMixinEntry(e){if(Y)for(let t in e.dependants)t!==this._currentElement&&Y(t)}_produceCssProperties(e,t,i,r,n){if(i&&B(i,((e,t)=>{t&&this._map.get(t)&&(r=`@apply ${t};`)})),!r)return e;let s=this._consumeCssProperties(""+r,n),o=e.slice(0,e.indexOf("--")),a=this._cssTextToMap(s,!0),l=a,c=this._map.get(t),h=c&&c.properties;h?l=Object.assign(Object.create(h),a):this._map.set(t,l);let d,u,p=[],f=!1;for(d in l)u=a[d],void 0===u&&(u="initial"),h&&!(d in h)&&(f=!0),p.push(`${t}_-_${d}: ${u}`);return f&&this._invalidateMixinEntry(c),c&&(c.properties=l),i&&(o=`${e};${o}`),`${o}${p.join("; ")};`}}K.prototype.detectMixin=K.prototype.detectMixin,K.prototype.transformStyle=K.prototype.transformStyle,K.prototype.transformCustomStyle=K.prototype.transformCustomStyle,K.prototype.transformRules=K.prototype.transformRules,K.prototype.transformRule=K.prototype.transformRule,K.prototype.transformTemplate=K.prototype.transformTemplate,K.prototype._separator=$,Object.defineProperty(K.prototype,"invalidCallback",{get:()=>Y,set(e){Y=e}});const X=K,Q={},ee="_applyShimCurrentVersion",te="_applyShimNextVersion",ie="_applyShimValidatingVersion",re=Promise.resolve();function ne(e){let t=Q[e];t&&function(e){e[ee]=e[ee]||0,e[ie]=e[ie]||0,e[te]=(e[te]||0)+1}(t)}function se(e){return e[ee]===e[te]}function oe(e){return!se(e)&&e[ie]===e[te]}function ae(e){e[ie]=e[te],e._validating||(e._validating=!0,re.then((function(){e[ee]=e[te],e._validating=!1})))}i(23734);const le=new X;class ce{constructor(){this.customStyleInterface=null,le.invalidCallback=ne}ensure(){this.customStyleInterface||window.ShadyCSS.CustomStyleInterface&&(this.customStyleInterface=window.ShadyCSS.CustomStyleInterface,this.customStyleInterface.transformCallback=e=>{le.transformCustomStyle(e)},this.customStyleInterface.validateCallback=()=>{requestAnimationFrame((()=>{this.customStyleInterface.enqueued&&this.flushCustomStyles()}))})}prepareTemplate(e,t){if(this.ensure(),G(e))return;Q[t]=e;let i=le.transformTemplate(e,t);e._styleAst=i}flushCustomStyles(){if(this.ensure(),!this.customStyleInterface)return;let e=this.customStyleInterface.processStyles();if(this.customStyleInterface.enqueued){for(let t=0;t<e.length;t++){let i=e[t],r=this.customStyleInterface.getStyleForCustomStyle(i);r&&le.transformCustomStyle(r)}this.customStyleInterface.enqueued=!1}}styleSubtree(e,t){if(this.ensure(),t&&(0,Z.wW)(e,t),e.shadowRoot){this.styleElement(e);let t=e.shadowRoot.children||e.shadowRoot.childNodes;for(let e=0;e<t.length;e++)this.styleSubtree(t[e])}else{let t=e.children||e.childNodes;for(let e=0;e<t.length;e++)this.styleSubtree(t[e])}}styleElement(e){this.ensure();let{is:t}=function(e){let t=e.localName,i="",r="";return t?t.indexOf("-")>-1?i=t:(r=t,i=e.getAttribute&&e.getAttribute("is")||""):(i=e.is,r=e.extends),{is:i,typeExtension:r}}(e),i=Q[t];if((!i||!G(i))&&i&&!se(i)){oe(i)||(this.prepareTemplate(i,t),ae(i));let r=e.shadowRoot;if(r){let e=r.querySelector("style");e&&(e.__cssRules=i._styleAst,e.textContent=D(i._styleAst))}}}styleDocument(e){this.ensure(),this.styleSubtree(document.body,e)}}if(!window.ShadyCSS||!window.ShadyCSS.ScopingShim){const e=new ce;let t=window.ShadyCSS&&window.ShadyCSS.CustomStyleInterface;window.ShadyCSS={prepareTemplate(t,i,r){e.flushCustomStyles(),e.prepareTemplate(t,i)},prepareTemplateStyles(e,t,i){window.ShadyCSS.prepareTemplate(e,t,i)},prepareTemplateDom(e,t){},styleSubtree(t,i){e.flushCustomStyles(),e.styleSubtree(t,i)},styleElement(t){e.flushCustomStyles(),e.styleElement(t)},styleDocument(t){e.flushCustomStyles(),e.styleDocument(t)},getComputedStyleValue:(e,t)=>(0,Z.B7)(e,t),flushCustomStyles(){e.flushCustomStyles()},nativeCss:b.rd,nativeShadow:b.WA,cssBuild:b.Cp,disableRuntime:b.jF},t&&(window.ShadyCSS.CustomStyleInterface=t)}window.ShadyCSS.ApplyShim=le;var he=i(70581),de=i(43104),ue=i(91014);const pe=/:host\(:dir\((ltr|rtl)\)\)/g,fe=/([\s\w-#\.\[\]\*]*):dir\((ltr|rtl)\)/g,me=/:dir\((?:ltr|rtl)\)/,_e=Boolean(window.ShadyDOM&&window.ShadyDOM.inUse),ge=[];let ye=null,ve="";function be(){ve=document.documentElement.getAttribute("dir")}function we(e){if(!e.__autoDirOptOut){e.setAttribute("dir",ve)}}function xe(){be(),ve=document.documentElement.getAttribute("dir");for(let e=0;e<ge.length;e++)we(ge[e])}const Ce=(0,ue.o)((e=>{_e||ye||(be(),ye=new MutationObserver(xe),ye.observe(document.documentElement,{attributes:!0,attributeFilter:["dir"]}));const t=(0,de.Q)(e);class i extends t{static _processStyleText(e,i){return e=t._processStyleText.call(this,e,i),!_e&&me.test(e)&&(e=this._replaceDirInCssText(e),this.__activateDir=!0),e}static _replaceDirInCssText(e){let t=e;return t=t.replace(pe,':host([dir="$1"])'),t=t.replace(fe,':host([dir="$2"]) $1'),t}constructor(){super(),this.__autoDirOptOut=!1}ready(){super.ready(),this.__autoDirOptOut=this.hasAttribute("dir")}connectedCallback(){t.prototype.connectedCallback&&super.connectedCallback(),this.constructor.__activateDir&&(ye&&ye.takeRecords().length&&xe(),ge.push(this),we(this))}disconnectedCallback(){if(t.prototype.disconnectedCallback&&super.disconnectedCallback(),this.constructor.__activateDir){const e=ge.indexOf(this);e>-1&&ge.splice(e,1)}}}return i.__activateDir=!1,i}));function Se(){document.body.removeAttribute("unresolved")}"interactive"===document.readyState||"complete"===document.readyState?Se():window.addEventListener("DOMContentLoaded",Se);var Ae=i(31342),Te=i(89387),ke=i(19149);const Oe=Element.prototype,Pe=Oe.matches||Oe.matchesSelector||Oe.mozMatchesSelector||Oe.msMatchesSelector||Oe.oMatchesSelector||Oe.webkitMatchesSelector,Ie=function(e,t){return Pe.call(e,t)};class Ee{constructor(e){window.ShadyDOM&&window.ShadyDOM.inUse&&window.ShadyDOM.patch(e),this.node=e}observeNodes(e){return new ke.o(this.node,e)}unobserveNodes(e){e.disconnect()}notifyObserver(){}deepContains(e){if((0,Ae.r)(this.node).contains(e))return!0;let t=e,i=e.ownerDocument;for(;t&&t!==i&&t!==this.node;)t=(0,Ae.r)(t).parentNode||(0,Ae.r)(t).host;return t===this.node}getOwnerRoot(){return(0,Ae.r)(this.node).getRootNode()}getDistributedNodes(){return"slot"===this.node.localName?(0,Ae.r)(this.node).assignedNodes({flatten:!0}):[]}getDestinationInsertionPoints(){let e=[],t=(0,Ae.r)(this.node).assignedSlot;for(;t;)e.push(t),t=(0,Ae.r)(t).assignedSlot;return e}importNode(e,t){let i=this.node instanceof Document?this.node:this.node.ownerDocument;return(0,Ae.r)(i).importNode(e,t)}getEffectiveChildNodes(){return ke.o.getFlattenedNodes(this.node)}queryDistributedElements(e){let t=this.getEffectiveChildNodes(),i=[];for(let r,n=0,s=t.length;n<s&&(r=t[n]);n++)r.nodeType===Node.ELEMENT_NODE&&Ie(r,e)&&i.push(r);return i}get activeElement(){let e=this.node;return void 0!==e._activeElement?e._activeElement:e.activeElement}}function Me(e,t){for(let i=0;i<t.length;i++){let r=t[i];Object.defineProperty(e,r,{get:function(){return this.node[r]},configurable:!0})}}class Re{constructor(e){this.event=e}get rootTarget(){return this.path[0]}get localTarget(){return this.event.target}get path(){return this.event.composedPath()}}Ee.prototype.cloneNode,Ee.prototype.appendChild,Ee.prototype.insertBefore,Ee.prototype.removeChild,Ee.prototype.replaceChild,Ee.prototype.setAttribute,Ee.prototype.removeAttribute,Ee.prototype.querySelector,Ee.prototype.querySelectorAll,Ee.prototype.parentNode,Ee.prototype.firstChild,Ee.prototype.lastChild,Ee.prototype.nextSibling,Ee.prototype.previousSibling,Ee.prototype.firstElementChild,Ee.prototype.lastElementChild,Ee.prototype.nextElementSibling,Ee.prototype.previousElementSibling,Ee.prototype.childNodes,Ee.prototype.children,Ee.prototype.classList,Ee.prototype.textContent,Ee.prototype.innerHTML;let Ne=Ee;if(window.ShadyDOM&&window.ShadyDOM.inUse&&window.ShadyDOM.noPatch&&window.ShadyDOM.Wrapper){class e extends window.ShadyDOM.Wrapper{}Object.getOwnPropertyNames(Ee.prototype).forEach((t=>{"activeElement"!=t&&(e.prototype[t]=Ee.prototype[t])})),Me(e.prototype,["classList"]),Ne=e,Object.defineProperties(Re.prototype,{localTarget:{get(){const e=this.event.currentTarget,t=e&&Le(e).getOwnerRoot(),i=this.path;for(let e=0;e<i.length;e++){const r=i[e];if(Le(r).getOwnerRoot()===t)return r}},configurable:!0},path:{get(){return window.ShadyDOM.composedPath(this.event)},configurable:!0}})}else!function(e,t){for(let i=0;i<t.length;i++){let r=t[i];e[r]=function(){return this.node[r].apply(this.node,arguments)}}}(Ee.prototype,["cloneNode","appendChild","insertBefore","removeChild","replaceChild","setAttribute","removeAttribute","querySelector","querySelectorAll"]),Me(Ee.prototype,["parentNode","firstChild","lastChild","nextSibling","previousSibling","firstElementChild","lastElementChild","nextElementSibling","previousElementSibling","childNodes","children","classList"]),function(e,t){for(let i=0;i<t.length;i++){let r=t[i];Object.defineProperty(e,r,{get:function(){return this.node[r]},set:function(e){this.node[r]=e},configurable:!0})}}(Ee.prototype,["textContent","innerHTML","className"]);const Le=function(e){if((e=e||document)instanceof Ne)return e;if(e instanceof Re)return e;let t=e.__domApi;return t||(t=e instanceof Event?new Re(e):new Ne(e),e.__domApi=t),t};var De=i(24010),ze=i(81446);const Fe=window.ShadyDOM,je=window.ShadyCSS;function Be(e,t){return(0,Ae.r)(e).getRootNode()===t}const Ve="disable-upgrade",Ue=e=>{for(;e;){const t=Object.getOwnPropertyDescriptor(e,"observedAttributes");if(t)return t.get;e=Object.getPrototypeOf(e.prototype).constructor}return()=>[]};(0,ue.o)((e=>{const t=(0,he.SH)(e);let i=Ue(t);return class extends t{constructor(){super(),this.__isUpgradeDisabled}static get observedAttributes(){return i.call(this).concat(Ve)}_initializeProperties(){this.hasAttribute(Ve)?this.__isUpgradeDisabled=!0:super._initializeProperties()}_enableProperties(){this.__isUpgradeDisabled||super._enableProperties()}_canApplyPropertyDefault(e){return super._canApplyPropertyDefault(e)&&!(this.__isUpgradeDisabled&&this._isPropertyPending(e))}attributeChangedCallback(e,t,i,r){e==Ve?this.__isUpgradeDisabled&&null==i&&(super._initializeProperties(),this.__isUpgradeDisabled=!1,(0,Ae.r)(this).isConnected&&super.connectedCallback()):super.attributeChangedCallback(e,t,i,r)}connectedCallback(){this.__isUpgradeDisabled||super.connectedCallback()}disconnectedCallback(){this.__isUpgradeDisabled||super.disconnectedCallback()}}}));var Ge=i(93501);const Ze="disable-upgrade";let He=window.ShadyCSS;const We=(0,ue.o)((e=>{const t=(0,s._)((0,he.SH)(e)),i=he.PP?t:Ce(t),r=Ue(i),n={x:"pan-x",y:"pan-y",none:"none",all:"auto"};class o extends i{constructor(){super(),this.isAttached,this.__boundListeners,this._debouncers,this.__isUpgradeDisabled,this.__needsAttributesAtConnected,this._legacyForceObservedAttributes}static get importMeta(){return this.prototype.importMeta}created(){}__attributeReaction(e,t,i){(this.__dataAttributes&&this.__dataAttributes[e]||e===Ze)&&this.attributeChangedCallback(e,t,i,null)}setAttribute(e,t){if(Te.j8&&!this._legacyForceObservedAttributes){const i=this.getAttribute(e);super.setAttribute(e,t),this.__attributeReaction(e,i,String(t))}else super.setAttribute(e,t)}removeAttribute(e){if(Te.j8&&!this._legacyForceObservedAttributes){const t=this.getAttribute(e);super.removeAttribute(e),this.__attributeReaction(e,t,null)}else super.removeAttribute(e)}static get observedAttributes(){return Te.j8&&!this.prototype._legacyForceObservedAttributes?(this.hasOwnProperty(JSCompiler_renameProperty("__observedAttributes",this))||(this.__observedAttributes=[],(0,Ge.z2)(this.prototype)),this.__observedAttributes):r.call(this).concat(Ze)}_enableProperties(){this.__isUpgradeDisabled||super._enableProperties()}_canApplyPropertyDefault(e){return super._canApplyPropertyDefault(e)&&!(this.__isUpgradeDisabled&&this._isPropertyPending(e))}connectedCallback(){this.__needsAttributesAtConnected&&this._takeAttributes(),this.__isUpgradeDisabled||(super.connectedCallback(),this.isAttached=!0,this.attached())}attached(){}disconnectedCallback(){this.__isUpgradeDisabled||(super.disconnectedCallback(),this.isAttached=!1,this.detached())}detached(){}attributeChangedCallback(e,t,i,r){t!==i&&(e==Ze?this.__isUpgradeDisabled&&null==i&&(this._initializeProperties(),this.__isUpgradeDisabled=!1,(0,Ae.r)(this).isConnected&&this.connectedCallback()):(super.attributeChangedCallback(e,t,i,r),this.attributeChanged(e,t,i)))}attributeChanged(e,t,i){}_initializeProperties(){if(Te.nL&&this.hasAttribute(Ze))this.__isUpgradeDisabled=!0;else{let e=Object.getPrototypeOf(this);e.hasOwnProperty(JSCompiler_renameProperty("__hasRegisterFinished",e))||(this._registered(),e.__hasRegisterFinished=!0),super._initializeProperties(),this.root=this,this.created(),Te.j8&&!this._legacyForceObservedAttributes&&(this.hasAttributes()?this._takeAttributes():this.parentNode||(this.__needsAttributesAtConnected=!0)),this._applyListeners()}}_takeAttributes(){const e=this.attributes;for(let t=0,i=e.length;t<i;t++){const i=e[t];this.__attributeReaction(i.name,null,i.value)}}_registered(){}ready(){this._ensureAttributes(),super.ready()}_ensureAttributes(){}_applyListeners(){}serialize(e){return this._serializeValue(e)}deserialize(e,t){return this._deserializeValue(e,t)}reflectPropertyToAttribute(e,t,i){this._propertyToAttribute(e,t,i)}serializeValueToAttribute(e,t,i){this._valueToNodeAttribute(i||this,e,t)}extend(e,t){if(!e||!t)return e||t;let i=Object.getOwnPropertyNames(t);for(let r,n=0;n<i.length&&(r=i[n]);n++){let i=Object.getOwnPropertyDescriptor(t,r);i&&Object.defineProperty(e,r,i)}return e}mixin(e,t){for(let i in t)e[i]=t[i];return e}chainObject(e,t){return e&&t&&e!==t&&(e.__proto__=t),e}instanceTemplate(e){let t=this.constructor._contentForTemplate(e);return document.importNode(t,!0)}fire(e,t,i){i=i||{},t=null==t?{}:t;let r=new Event(e,{bubbles:void 0===i.bubbles||i.bubbles,cancelable:Boolean(i.cancelable),composed:void 0===i.composed||i.composed});r.detail=t;let n=i.node||this;return(0,Ae.r)(n).dispatchEvent(r),r}listen(e,t,i){e=e||this;let r=this.__boundListeners||(this.__boundListeners=new WeakMap),n=r.get(e);n||(n={},r.set(e,n));let s=t+i;n[s]||(n[s]=this._addMethodEventListenerToNode(e,t,i,this))}unlisten(e,t,i){e=e||this;let r=this.__boundListeners&&this.__boundListeners.get(e),n=t+i,s=r&&r[n];s&&(this._removeEventListenerFromNode(e,t,s),r[n]=null)}setScrollDirection(e,t){(0,De.BP)(t||this,n[e]||"auto")}$$(e){return this.root.querySelector(e)}get domHost(){let e=(0,Ae.r)(this).getRootNode();return e instanceof DocumentFragment?e.host:e}distributeContent(){const e=Le(this);window.ShadyDOM&&e.shadowRoot&&ShadyDOM.flush()}getEffectiveChildNodes(){return Le(this).getEffectiveChildNodes()}queryDistributedElements(e){return Le(this).queryDistributedElements(e)}getEffectiveChildren(){return this.getEffectiveChildNodes().filter((function(e){return e.nodeType===Node.ELEMENT_NODE}))}getEffectiveTextContent(){let e=this.getEffectiveChildNodes(),t=[];for(let i,r=0;i=e[r];r++)i.nodeType!==Node.COMMENT_NODE&&t.push(i.textContent);return t.join("")}queryEffectiveChildren(e){let t=this.queryDistributedElements(e);return t&&t[0]}queryAllEffectiveChildren(e){return this.queryDistributedElements(e)}getContentChildNodes(e){let t=this.root.querySelector(e||"slot");return t?Le(t).getDistributedNodes():[]}getContentChildren(e){return this.getContentChildNodes(e).filter((function(e){return e.nodeType===Node.ELEMENT_NODE}))}isLightDescendant(e){const t=this;return t!==e&&(0,Ae.r)(t).contains(e)&&(0,Ae.r)(t).getRootNode()===(0,Ae.r)(e).getRootNode()}isLocalDescendant(e){return this.root===(0,Ae.r)(e).getRootNode()}scopeSubtree(e,t=!1){return function(e,t=!1){if(!Fe||!je)return null;if(!Fe.handlesDynamicScoping)return null;const i=je.ScopingShim;if(!i)return null;const r=i.scopeForNode(e),n=(0,Ae.r)(e).getRootNode(),s=e=>{if(!Be(e,n))return;const t=Array.from(Fe.nativeMethods.querySelectorAll.call(e,"*"));t.push(e);for(let e=0;e<t.length;e++){const s=t[e];if(!Be(s,n))continue;const o=i.currentScopeForNode(s);o!==r&&(""!==o&&i.unscopeNode(s,o),i.scopeNode(s,r))}};if(s(e),t){const t=new MutationObserver((e=>{for(let t=0;t<e.length;t++){const i=e[t];for(let e=0;e<i.addedNodes.length;e++){const t=i.addedNodes[e];t.nodeType===Node.ELEMENT_NODE&&s(t)}}}));return t.observe(e,{childList:!0,subtree:!0}),t}return null}(e,t)}getComputedStyleValue(e){return He.getComputedStyleValue(this,e)}debounce(e,t,i){return this._debouncers=this._debouncers||{},this._debouncers[e]=g.dx.debounce(this._debouncers[e],i>0?y.Wc.after(i):y.YA,t.bind(this))}isDebouncerActive(e){this._debouncers=this._debouncers||{};let t=this._debouncers[e];return!(!t||!t.isActive())}flushDebouncer(e){this._debouncers=this._debouncers||{};let t=this._debouncers[e];t&&t.flush()}cancelDebouncer(e){this._debouncers=this._debouncers||{};let t=this._debouncers[e];t&&t.cancel()}async(e,t){return t>0?y.Wc.run(e.bind(this),t):~y.YA.run(e.bind(this))}cancelAsync(e){e<0?y.YA.cancel(~e):y.Wc.cancel(e)}create(e,t){let i=document.createElement(e);if(t)if(i.setProperties)i.setProperties(t);else for(let e in t)i[e]=t[e];return i}elementMatches(e,t){return Ie(t||this,e)}toggleAttribute(e,t){let i=this;return 3===arguments.length&&(i=arguments[2]),1==arguments.length&&(t=!i.hasAttribute(e)),t?((0,Ae.r)(i).setAttribute(e,""),!0):((0,Ae.r)(i).removeAttribute(e),!1)}toggleClass(e,t,i){i=i||this,1==arguments.length&&(t=!i.classList.contains(e)),t?i.classList.add(e):i.classList.remove(e)}transform(e,t){(t=t||this).style.webkitTransform=e,t.style.transform=e}translate3d(e,t,i,r){r=r||this,this.transform("translate3d("+e+","+t+","+i+")",r)}arrayDelete(e,t){let i;if(Array.isArray(e)){if(i=e.indexOf(t),i>=0)return e.splice(i,1)}else{if(i=(0,ze.U2)(this,e).indexOf(t),i>=0)return this.splice(e,i,1)}return null}_logger(e,t){switch(Array.isArray(t)&&1===t.length&&Array.isArray(t[0])&&(t=t[0]),e){case"log":case"warn":case"error":console[e](...t)}}_log(...e){this._logger("log",e)}_warn(...e){this._logger("warn",e)}_error(...e){this._logger("error",e)}_logf(e,...t){return["[%s::%s]",this.is,e,...t]}}return o.prototype.is="",o})),qe={attached:!0,detached:!0,ready:!0,created:!0,beforeRegister:!0,registered:!0,attributeChanged:!0,listeners:!0,hostAttributes:!0},$e={attached:!0,detached:!0,ready:!0,created:!0,beforeRegister:!0,registered:!0,attributeChanged:!0,behaviors:!0,_noAccessors:!0},Je=Object.assign({listeners:!0,hostAttributes:!0,properties:!0,observers:!0},$e);function Ye(e,t,i,r){!function(e,t,i){const r=e._noAccessors,n=Object.getOwnPropertyNames(e);for(let s=0;s<n.length;s++){let o=n[s];if(!(o in i))if(r)t[o]=e[o];else{let i=Object.getOwnPropertyDescriptor(e,o);i&&(i.configurable=!0,Object.defineProperty(t,o,i))}}}(t,e,r);for(let e in qe)t[e]&&(i[e]=i[e]||[],i[e].push(t[e]))}function Ke(e,t,i){t=t||[];for(let r=e.length-1;r>=0;r--){let n=e[r];n?Array.isArray(n)?Ke(n,t):t.indexOf(n)<0&&(!i||i.indexOf(n)<0)&&t.unshift(n):console.warn("behavior is null, check for missing or 404 import")}return t}function Xe(e,t){for(const i in t){const r=e[i],n=t[i];e[i]=!("value"in n)&&r&&"value"in r?Object.assign({value:r.value},n):n}}const Qe=We(HTMLElement);function et(e,t,i){let r;const n={};class s extends t{static _finalizeClass(){if(this.hasOwnProperty(JSCompiler_renameProperty("generatedFrom",this))){if(r)for(let e,t=0;t<r.length;t++)e=r[t],e.properties&&this.createProperties(e.properties),e.observers&&this.createObservers(e.observers,e.properties);e.properties&&this.createProperties(e.properties),e.observers&&this.createObservers(e.observers,e.properties),this._prepareTemplate()}else t._finalizeClass.call(this)}static get properties(){const t={};if(r)for(let e=0;e<r.length;e++)Xe(t,r[e].properties);return Xe(t,e.properties),t}static get observers(){let t=[];if(r)for(let e,i=0;i<r.length;i++)e=r[i],e.observers&&(t=t.concat(e.observers));return e.observers&&(t=t.concat(e.observers)),t}created(){super.created();const e=n.created;if(e)for(let t=0;t<e.length;t++)e[t].call(this)}_registered(){const e=s.prototype;if(!e.hasOwnProperty(JSCompiler_renameProperty("__hasRegisterFinished",e))){e.__hasRegisterFinished=!0,super._registered(),Te.nL&&o(e);const t=Object.getPrototypeOf(this);let i=n.beforeRegister;if(i)for(let e=0;e<i.length;e++)i[e].call(t);if(i=n.registered,i)for(let e=0;e<i.length;e++)i[e].call(t)}}_applyListeners(){super._applyListeners();const e=n.listeners;if(e)for(let t=0;t<e.length;t++){const i=e[t];if(i)for(let e in i)this._addMethodEventListenerToNode(this,e,i[e])}}_ensureAttributes(){const e=n.hostAttributes;if(e)for(let t=e.length-1;t>=0;t--){const i=e[t];for(let e in i)this._ensureAttribute(e,i[e])}super._ensureAttributes()}ready(){super.ready();let e=n.ready;if(e)for(let t=0;t<e.length;t++)e[t].call(this)}attached(){super.attached();let e=n.attached;if(e)for(let t=0;t<e.length;t++)e[t].call(this)}detached(){super.detached();let e=n.detached;if(e)for(let t=0;t<e.length;t++)e[t].call(this)}attributeChanged(e,t,i){super.attributeChanged();let r=n.attributeChanged;if(r)for(let n=0;n<r.length;n++)r[n].call(this,e,t,i)}}if(i){Array.isArray(i)||(i=[i]);let e=t.prototype.behaviors;r=Ke(i,null,e),s.prototype.behaviors=e?e.concat(i):r}const o=t=>{r&&function(e,t,i){for(let r=0;r<t.length;r++)Ye(e,t[r],i,Je)}(t,r,n),Ye(t,e,n,$e)};return Te.nL||o(s.prototype),s.generatedFrom=e,s}const tt=function(e,t){e||console.warn("Polymer.Class requires `info` argument");let i=t?t(Qe):Qe;return i=et(e,i,e.behaviors),i.is=i.prototype.is=e.is,i},it=function(e){let t;return t="function"==typeof e?e:it.Class(e),e._legacyForceObservedAttributes&&(t.prototype._legacyForceObservedAttributes=e._legacyForceObservedAttributes),customElements.define(t.is,t),t};it.Class=tt;var rt=i(22080);var nt=i(87999),st=i(68091);let ot=!1;function at(){if(Te.nL&&!Te.my){if(!ot){ot=!0;const e=document.createElement("style");e.textContent="dom-bind,dom-if,dom-repeat{display:none;}",document.head.appendChild(e)}return!0}return!1}const lt=(0,s._)((0,st.w)((0,nt.q)(HTMLElement)));customElements.define("dom-bind",class extends lt{static get observedAttributes(){return["mutable-data"]}constructor(){if(super(),Te.XN)throw new Error("strictTemplatePolicy: dom-bind not allowed");this.root=null,this.$=null,this.__children=null}attributeChangedCallback(e,t,i,r){this.mutableData=!0}connectedCallback(){at()||(this.style.display="none"),this.render()}disconnectedCallback(){this.__removeChildren()}__insertChildren(){(0,Ae.r)((0,Ae.r)(this).parentNode).insertBefore(this.root,this)}__removeChildren(){if(this.__children)for(let e=0;e<this.__children.length;e++)this.root.appendChild(this.__children[e])}render(){let e;if(!this.__children){if(e=e||this.querySelector("template"),!e){let t=new MutationObserver((()=>{if(e=this.querySelector("template"),!e)throw new Error("dom-bind requires a <template> child");t.disconnect(),this.render()}));return void t.observe(this,{childList:!0})}this.root=this._stampTemplate(e),this.$=this.root.$,this.__children=[];for(let e=this.root.firstChild;e;e=e.nextSibling)this.__children[this.__children.length]=e;this._enableProperties()}this.__insertChildren(),this.dispatchEvent(new CustomEvent("dom-change",{bubbles:!0,composed:!0}))}});const ct=(0,st.w)(n.H3);class ht extends ct{static get is(){return"dom-repeat"}static get template(){return null}static get properties(){return{items:{type:Array},as:{type:String,value:"item"},indexAs:{type:String,value:"index"},itemsIndexAs:{type:String,value:"itemsIndex"},sort:{type:Function,observer:"__sortChanged"},filter:{type:Function,observer:"__filterChanged"},observe:{type:String,observer:"__observeChanged"},delay:Number,renderedItemCount:{type:Number,notify:!Te.dJ,readOnly:!0},initialCount:{type:Number},targetFramerate:{type:Number,value:20},_targetFrameTime:{type:Number,computed:"__computeFrameTime(targetFramerate)"},notifyDomChange:{type:Boolean},reuseChunkedInstances:{type:Boolean}}}static get observers(){return["__itemsChanged(items.*)"]}constructor(){super(),this.__instances=[],this.__renderDebouncer=null,this.__itemsIdxToInstIdx={},this.__chunkCount=null,this.__renderStartTime=null,this.__itemsArrayChanged=!1,this.__shouldMeasureChunk=!1,this.__shouldContinueChunking=!1,this.__chunkingId=0,this.__sortFn=null,this.__filterFn=null,this.__observePaths=null,this.__ctor=null,this.__isDetached=!0,this.template=null,this._templateInfo}disconnectedCallback(){super.disconnectedCallback(),this.__isDetached=!0;for(let e=0;e<this.__instances.length;e++)this.__detachInstance(e)}connectedCallback(){if(super.connectedCallback(),at()||(this.style.display="none"),this.__isDetached){this.__isDetached=!1;let e=(0,Ae.r)((0,Ae.r)(this).parentNode);for(let t=0;t<this.__instances.length;t++)this.__attachInstance(t,e)}}__ensureTemplatized(){if(!this.__ctor){const e=this;let t=this.template=e._templateInfo?e:this.querySelector("template");if(!t){let e=new MutationObserver((()=>{if(!this.querySelector("template"))throw new Error("dom-repeat requires a <template> child");e.disconnect(),this.__render()}));return e.observe(this,{childList:!0}),!1}let i={};i[this.as]=!0,i[this.indexAs]=!0,i[this.itemsIndexAs]=!0,this.__ctor=(0,rt.Uv)(t,this,{mutableData:this.mutableData,parentModel:!0,instanceProps:i,forwardHostProp:function(e,t){let i=this.__instances;for(let r,n=0;n<i.length&&(r=i[n]);n++)r.forwardHostProp(e,t)},notifyInstanceProp:function(e,t,i){if((0,ze.wB)(this.as,t)){let r=e[this.itemsIndexAs];t==this.as&&(this.items[r]=i);let n=(0,ze.Iu)(this.as,`${JSCompiler_renameProperty("items",this)}.${r}`,t);this.notifyPath(n,i)}}})}return!0}__getMethodHost(){return this.__dataHost._methodHost||this.__dataHost}__functionFromPropertyValue(e){if("string"==typeof e){let t=e,i=this.__getMethodHost();return function(){return i[t].apply(i,arguments)}}return e}__sortChanged(e){this.__sortFn=this.__functionFromPropertyValue(e),this.items&&this.__debounceRender(this.__render)}__filterChanged(e){this.__filterFn=this.__functionFromPropertyValue(e),this.items&&this.__debounceRender(this.__render)}__computeFrameTime(e){return Math.ceil(1e3/e)}__observeChanged(){this.__observePaths=this.observe&&this.observe.replace(".*",".").split(" ")}__handleObservedPaths(e){if(this.__sortFn||this.__filterFn)if(e){if(this.__observePaths){let t=this.__observePaths;for(let i=0;i<t.length;i++)0===e.indexOf(t[i])&&this.__debounceRender(this.__render,this.delay)}}else this.__debounceRender(this.__render,this.delay)}__itemsChanged(e){this.items&&!Array.isArray(this.items)&&console.warn("dom-repeat expected array for `items`, found",this.items),this.__handleItemPath(e.path,e.value)||("items"===e.path&&(this.__itemsArrayChanged=!0),this.__debounceRender(this.__render))}__debounceRender(e,t=0){this.__renderDebouncer=g.dx.debounce(this.__renderDebouncer,t>0?y.Wc.after(t):y.YA,e.bind(this)),(0,v.E)(this.__renderDebouncer)}render(){this.__debounceRender(this.__render),(0,v.y)()}__render(){if(!this.__ensureTemplatized())return;let e=this.items||[];const t=this.__sortAndFilterItems(e),i=this.__calculateLimit(t.length);this.__updateInstances(e,i,t),this.initialCount&&(this.__shouldMeasureChunk||this.__shouldContinueChunking)&&(cancelAnimationFrame(this.__chunkingId),this.__chunkingId=requestAnimationFrame((()=>this.__continueChunking()))),this._setRenderedItemCount(this.__instances.length),Te.dJ&&!this.notifyDomChange||this.dispatchEvent(new CustomEvent("dom-change",{bubbles:!0,composed:!0}))}__sortAndFilterItems(e){let t=new Array(e.length);for(let i=0;i<e.length;i++)t[i]=i;return this.__filterFn&&(t=t.filter(((t,i,r)=>this.__filterFn(e[t],i,r)))),this.__sortFn&&t.sort(((t,i)=>this.__sortFn(e[t],e[i]))),t}__calculateLimit(e){let t=e;const i=this.__instances.length;if(this.initialCount){let r;!this.__chunkCount||this.__itemsArrayChanged&&!this.reuseChunkedInstances?(t=Math.min(e,this.initialCount),r=Math.max(t-i,0),this.__chunkCount=r||1):(r=Math.min(Math.max(e-i,0),this.__chunkCount),t=Math.min(i+r,e)),this.__shouldMeasureChunk=r===this.__chunkCount,this.__shouldContinueChunking=t<e,this.__renderStartTime=performance.now()}return this.__itemsArrayChanged=!1,t}__continueChunking(){if(this.__shouldMeasureChunk){const e=performance.now()-this.__renderStartTime,t=this._targetFrameTime/e;this.__chunkCount=Math.round(this.__chunkCount*t)||1}this.__shouldContinueChunking&&this.__debounceRender(this.__render)}__updateInstances(e,t,i){const r=this.__itemsIdxToInstIdx={};let n;for(n=0;n<t;n++){let t=this.__instances[n],s=i[n],o=e[s];r[s]=n,t?(t._setPendingProperty(this.as,o),t._setPendingProperty(this.indexAs,n),t._setPendingProperty(this.itemsIndexAs,s),t._flushProperties()):this.__insertInstance(o,n,s)}for(let e=this.__instances.length-1;e>=n;e--)this.__detachAndRemoveInstance(e)}__detachInstance(e){let t=this.__instances[e];const i=(0,Ae.r)(t.root);for(let e=0;e<t.children.length;e++){let r=t.children[e];i.appendChild(r)}return t}__attachInstance(e,t){let i=this.__instances[e];t.insertBefore(i.root,this)}__detachAndRemoveInstance(e){this.__detachInstance(e),this.__instances.splice(e,1)}__stampInstance(e,t,i){let r={};return r[this.as]=e,r[this.indexAs]=t,r[this.itemsIndexAs]=i,new this.__ctor(r)}__insertInstance(e,t,i){const r=this.__stampInstance(e,t,i);let n=this.__instances[t+1],s=n?n.children[0]:this;return(0,Ae.r)((0,Ae.r)(this).parentNode).insertBefore(r.root,s),this.__instances[t]=r,r}_showHideChildren(e){for(let t=0;t<this.__instances.length;t++)this.__instances[t]._showHideChildren(e)}__handleItemPath(e,t){let i=e.slice(6),r=i.indexOf("."),n=r<0?i:i.substring(0,r);if(n==parseInt(n,10)){let e=r<0?"":i.substring(r+1);this.__handleObservedPaths(e);let s=this.__itemsIdxToInstIdx[n],o=this.__instances[s];if(o){let i=this.as+(e?"."+e:"");o._setPendingPropertyOrPath(i,t,!1,!0),o._flushProperties()}return!0}}itemForElement(e){let t=this.modelForElement(e);return t&&t[this.as]}indexForElement(e){let t=this.modelForElement(e);return t&&t[this.indexAs]}modelForElement(e){return(0,rt.GJ)(this.template,e)}}customElements.define(ht.is,ht);class dt extends n.H3{static get is(){return"dom-if"}static get template(){return null}static get properties(){return{if:{type:Boolean,observer:"__debounceRender"},restamp:{type:Boolean,observer:"__debounceRender"},notifyDomChange:{type:Boolean}}}constructor(){super(),this.__renderDebouncer=null,this._lastIf=!1,this.__hideTemplateChildren__=!1,this.__template,this._templateInfo}__debounceRender(){this.__renderDebouncer=g.dx.debounce(this.__renderDebouncer,y.YA,(()=>this.__render())),(0,v.E)(this.__renderDebouncer)}disconnectedCallback(){super.disconnectedCallback();const e=(0,Ae.r)(this).parentNode;e&&(e.nodeType!=Node.DOCUMENT_FRAGMENT_NODE||(0,Ae.r)(e).host)||this.__teardownInstance()}connectedCallback(){super.connectedCallback(),at()||(this.style.display="none"),this.if&&this.__debounceRender()}__ensureTemplate(){if(!this.__template){const e=this;let t=e._templateInfo?e:(0,Ae.r)(e).querySelector("template");if(!t){let e=new MutationObserver((()=>{if(!(0,Ae.r)(this).querySelector("template"))throw new Error("dom-if requires a <template> child");e.disconnect(),this.__render()}));return e.observe(this,{childList:!0}),!1}this.__template=t}return!0}__ensureInstance(){let e=(0,Ae.r)(this).parentNode;if(this.__hasInstance()){let t=this.__getInstanceNodes();if(t&&t.length){if((0,Ae.r)(this).previousSibling!==t[t.length-1])for(let i,r=0;r<t.length&&(i=t[r]);r++)(0,Ae.r)(e).insertBefore(i,this)}}else{if(!e)return!1;if(!this.__ensureTemplate())return!1;this.__createAndInsertInstance(e)}return!0}render(){(0,v.y)()}__render(){if(this.if){if(!this.__ensureInstance())return}else this.restamp&&this.__teardownInstance();this._showHideChildren(),Te.dJ&&!this.notifyDomChange||this.if==this._lastIf||(this.dispatchEvent(new CustomEvent("dom-change",{bubbles:!0,composed:!0})),this._lastIf=this.if)}__hasInstance(){}__getInstanceNodes(){}__createAndInsertInstance(e){}__teardownInstance(){}_showHideChildren(){}}const ut=Te.ew?class extends dt{constructor(){super(),this.__instance=null,this.__syncInfo=null}__hasInstance(){return Boolean(this.__instance)}__getInstanceNodes(){return this.__instance.templateInfo.childNodes}__createAndInsertInstance(e){const t=this.__dataHost||this;if(Te.XN&&!this.__dataHost)throw new Error("strictTemplatePolicy: template owner not trusted");const i=t._bindTemplate(this.__template,!0);i.runEffects=(e,t,i)=>{let r=this.__syncInfo;if(this.if)r&&(this.__syncInfo=null,this._showHideChildren(),t=Object.assign(r.changedProps,t)),e(t,i);else if(this.__instance)if(r||(r=this.__syncInfo={runEffects:e,changedProps:{}}),i)for(const e in t){const t=(0,ze.Jz)(e);r.changedProps[t]=this.__dataHost[t]}else Object.assign(r.changedProps,t)},this.__instance=t._stampTemplate(this.__template,i),(0,Ae.r)(e).insertBefore(this.__instance,this)}__syncHostProperties(){const e=this.__syncInfo;e&&(this.__syncInfo=null,e.runEffects(e.changedProps,!1))}__teardownInstance(){const e=this.__dataHost||this;this.__instance&&(e._removeBoundDom(this.__instance),this.__instance=null,this.__syncInfo=null)}_showHideChildren(){const e=this.__hideTemplateChildren__||!this.if;this.__instance&&Boolean(this.__instance.__hidden)!==e&&(this.__instance.__hidden=e,(0,rt.aZ)(e,this.__instance.templateInfo.childNodes)),e||this.__syncHostProperties()}}:class extends dt{constructor(){super(),this.__ctor=null,this.__instance=null,this.__invalidProps=null}__hasInstance(){return Boolean(this.__instance)}__getInstanceNodes(){return this.__instance.children}__createAndInsertInstance(e){this.__ctor||(this.__ctor=(0,rt.Uv)(this.__template,this,{mutableData:!0,forwardHostProp:function(e,t){this.__instance&&(this.if?this.__instance.forwardHostProp(e,t):(this.__invalidProps=this.__invalidProps||Object.create(null),this.__invalidProps[(0,ze.Jz)(e)]=!0))}})),this.__instance=new this.__ctor,(0,Ae.r)(e).insertBefore(this.__instance.root,this)}__teardownInstance(){if(this.__instance){let e=this.__instance.children;if(e&&e.length){let t=(0,Ae.r)(e[0]).parentNode;if(t){t=(0,Ae.r)(t);for(let i,r=0;r<e.length&&(i=e[r]);r++)t.removeChild(i)}}this.__invalidProps=null,this.__instance=null}}__syncHostProperties(){let e=this.__invalidProps;if(e){this.__invalidProps=null;for(let t in e)this.__instance._setPendingProperty(t,this.__dataHost[t]);this.__instance._flushProperties()}}_showHideChildren(){const e=this.__hideTemplateChildren__||!this.if;this.__instance&&Boolean(this.__instance.__hidden)!==e&&(this.__instance.__hidden=e,this.__instance._showHideChildren(e)),e||this.__syncHostProperties()}};customElements.define(ut.is,ut);var pt=i(98341);let ft=(0,ue.o)((e=>{let t=(0,he.SH)(e);return class extends t{static get properties(){return{items:{type:Array},multi:{type:Boolean,value:!1},selected:{type:Object,notify:!0},selectedItem:{type:Object,notify:!0},toggle:{type:Boolean,value:!1}}}static get observers(){return["__updateSelection(multi, items.*)"]}constructor(){super(),this.__lastItems=null,this.__lastMulti=null,this.__selectedMap=null}__updateSelection(e,t){let i=t.path;if(i==JSCompiler_renameProperty("items",this)){let i=t.base||[],r=this.__lastItems;if(e!==this.__lastMulti&&this.clearSelection(),r){let e=(0,pt.c)(i,r);this.__applySplices(e)}this.__lastItems=i,this.__lastMulti=e}else if(t.path==`${JSCompiler_renameProperty("items",this)}.splices`)this.__applySplices(t.value.indexSplices);else{let e=i.slice(`${JSCompiler_renameProperty("items",this)}.`.length),t=parseInt(e,10);e.indexOf(".")<0&&e==t&&this.__deselectChangedIdx(t)}}__applySplices(e){let t=this.__selectedMap;for(let i=0;i<e.length;i++){let r=e[i];t.forEach(((e,i)=>{e<r.index||(e>=r.index+r.removed.length?t.set(i,e+r.addedCount-r.removed.length):t.set(i,-1))}));for(let e=0;e<r.addedCount;e++){let i=r.index+e;t.has(this.items[i])&&t.set(this.items[i],i)}}this.__updateLinks();let i=0;t.forEach(((e,r)=>{e<0?(this.multi?this.splice(JSCompiler_renameProperty("selected",this),i,1):this.selected=this.selectedItem=null,t.delete(r)):i++}))}__updateLinks(){if(this.__dataLinkedPaths={},this.multi){let e=0;this.__selectedMap.forEach((t=>{t>=0&&this.linkPaths(`${JSCompiler_renameProperty("items",this)}.${t}`,`${JSCompiler_renameProperty("selected",this)}.${e++}`)}))}else this.__selectedMap.forEach((e=>{this.linkPaths(JSCompiler_renameProperty("selected",this),`${JSCompiler_renameProperty("items",this)}.${e}`),this.linkPaths(JSCompiler_renameProperty("selectedItem",this),`${JSCompiler_renameProperty("items",this)}.${e}`)}))}clearSelection(){this.__dataLinkedPaths={},this.__selectedMap=new Map,this.selected=this.multi?[]:null,this.selectedItem=null}isSelected(e){return this.__selectedMap.has(e)}isIndexSelected(e){return this.isSelected(this.items[e])}__deselectChangedIdx(e){let t=this.__selectedIndexForItemIndex(e);if(t>=0){let e=0;this.__selectedMap.forEach(((i,r)=>{t==e++&&this.deselect(r)}))}}__selectedIndexForItemIndex(e){let t=this.__dataLinkedPaths[`${JSCompiler_renameProperty("items",this)}.${e}`];if(t)return parseInt(t.slice(`${JSCompiler_renameProperty("selected",this)}.`.length),10)}deselect(e){let t=this.__selectedMap.get(e);if(t>=0){let i;this.__selectedMap.delete(e),this.multi&&(i=this.__selectedIndexForItemIndex(t)),this.__updateLinks(),this.multi?this.splice(JSCompiler_renameProperty("selected",this),i,1):this.selected=this.selectedItem=null}}deselectIndex(e){this.deselect(this.items[e])}select(e){this.selectIndex(this.items.indexOf(e))}selectIndex(e){let t=this.items[e];this.isSelected(t)?this.toggle&&this.deselectIndex(e):(this.multi||this.__selectedMap.clear(),this.__selectedMap.set(t,e),this.__updateLinks(),this.multi?this.push(JSCompiler_renameProperty("selected",this),t):this.selected=this.selectedItem=t)}}}))(n.H3);class mt extends ft{static get is(){return"array-selector"}static get template(){return null}}customElements.define(mt.is,mt);i(53269);let _t;_t=st.E._mutablePropertyChange;Boolean;const gt=We(HTMLElement).prototype;var yt=new Set;const vt={properties:{_parentResizable:{type:Object,observer:"_parentResizableChanged"},_notifyingDescendant:{type:Boolean,value:!1}},listeners:{"iron-request-resize-notifications":"_onIronRequestResizeNotifications"},created:function(){this._interestedResizables=[],this._boundNotifyResize=this.notifyResize.bind(this),this._boundOnDescendantIronResize=this._onDescendantIronResize.bind(this)},attached:function(){this._requestResizeNotifications()},detached:function(){this._parentResizable?this._parentResizable.stopResizeNotificationsFor(this):(yt.delete(this),window.removeEventListener("resize",this._boundNotifyResize)),this._parentResizable=null},notifyResize:function(){this.isAttached&&(this._interestedResizables.forEach((function(e){this.resizerShouldNotify(e)&&this._notifyDescendant(e)}),this),this._fireResize())},assignParentResizable:function(e){this._parentResizable&&this._parentResizable.stopResizeNotificationsFor(this),this._parentResizable=e,e&&-1===e._interestedResizables.indexOf(this)&&(e._interestedResizables.push(this),e._subscribeIronResize(this))},stopResizeNotificationsFor:function(e){var t=this._interestedResizables.indexOf(e);t>-1&&(this._interestedResizables.splice(t,1),this._unsubscribeIronResize(e))},_subscribeIronResize:function(e){e.addEventListener("iron-resize",this._boundOnDescendantIronResize)},_unsubscribeIronResize:function(e){e.removeEventListener("iron-resize",this._boundOnDescendantIronResize)},resizerShouldNotify:function(e){return!0},_onDescendantIronResize:function(e){this._notifyingDescendant?e.stopPropagation():Te.my||this._fireResize()},_fireResize:function(){this.fire("iron-resize",null,{node:this,bubbles:!1})},_onIronRequestResizeNotifications:function(e){var t=Le(e).rootTarget;t!==this&&(t.assignParentResizable(this),this._notifyDescendant(t),e.stopPropagation())},_parentResizableChanged:function(e){e&&window.removeEventListener("resize",this._boundNotifyResize)},_notifyDescendant:function(e){this.isAttached&&(this._notifyingDescendant=!0,e.notifyResize(),this._notifyingDescendant=!1)},_requestResizeNotifications:function(){if(this.isAttached)if("loading"===document.readyState){var e=this._requestResizeNotifications.bind(this);document.addEventListener("readystatechange",(function t(){document.removeEventListener("readystatechange",t),e()}))}else this._findParent(),this._parentResizable?this._parentResizable._interestedResizables.forEach((function(e){e!==this&&e._findParent()}),this):(yt.forEach((function(e){e!==this&&e._findParent()}),this),window.addEventListener("resize",this._boundNotifyResize),this.notifyResize())},_findParent:function(){this.assignParentResizable(null),this.fire("iron-request-resize-notifications",null,{node:this,bubbles:!0,cancelable:!0}),this._parentResizable?yt.delete(this):yt.add(this)}},bt={properties:{scrollTarget:{type:HTMLElement,value:function(){return this._defaultScrollTarget}}},observers:["_scrollTargetChanged(scrollTarget, isAttached)"],_shouldHaveListener:!0,_scrollTargetChanged:function(e,t){if(this._oldScrollTarget&&(this._toggleScrollListener(!1,this._oldScrollTarget),this._oldScrollTarget=null),t)if("document"===e)this.scrollTarget=this._doc;else if("string"==typeof e){var i=this.domHost;this.scrollTarget=i&&i.$?i.$[e]:Le(this.ownerDocument).querySelector("#"+e)}else this._isValidScrollTarget()&&(this._oldScrollTarget=e,this._toggleScrollListener(this._shouldHaveListener,e))},_scrollHandler:function(){},get _defaultScrollTarget(){return this._doc},get _doc(){return this.ownerDocument.documentElement},get _scrollTop(){return this._isValidScrollTarget()?this.scrollTarget===this._doc?window.pageYOffset:this.scrollTarget.scrollTop:0},get _scrollLeft(){return this._isValidScrollTarget()?this.scrollTarget===this._doc?window.pageXOffset:this.scrollTarget.scrollLeft:0},set _scrollTop(e){this.scrollTarget===this._doc?window.scrollTo(window.pageXOffset,e):this._isValidScrollTarget()&&(this.scrollTarget.scrollTop=e)},set _scrollLeft(e){this.scrollTarget===this._doc?window.scrollTo(e,window.pageYOffset):this._isValidScrollTarget()&&(this.scrollTarget.scrollLeft=e)},scroll:function(e,t){var i;"object"==typeof e?(i=e.left,t=e.top):i=e,i=i||0,t=t||0,this.scrollTarget===this._doc?window.scrollTo(i,t):this._isValidScrollTarget()&&(this.scrollTarget.scrollLeft=i,this.scrollTarget.scrollTop=t)},get _scrollTargetWidth(){return this._isValidScrollTarget()?this.scrollTarget===this._doc?window.innerWidth:this.scrollTarget.offsetWidth:0},get _scrollTargetHeight(){return this._isValidScrollTarget()?this.scrollTarget===this._doc?window.innerHeight:this.scrollTarget.offsetHeight:0},_isValidScrollTarget:function(){return this.scrollTarget instanceof HTMLElement},_toggleScrollListener:function(e,t){var i=t===this._doc?window:t;e?this._boundScrollHandler||(this._boundScrollHandler=this._scrollHandler.bind(this),i.addEventListener("scroll",this._boundScrollHandler)):this._boundScrollHandler&&(i.removeEventListener("scroll",this._boundScrollHandler),this._boundScrollHandler=null)},toggleScrollListener:function(e){this._shouldHaveListener=e,this._toggleScrollListener(e,this.scrollTarget)}},wt=navigator.userAgent.match(/iP(?:hone|ad;(?: U;)? CPU) OS (\d+)/),xt=wt&&wt[1]>=8,Ct=tt({behaviors:[vt,bt],_ratio:.5,_scrollerPaddingTop:0,_scrollPosition:0,_physicalSize:0,_physicalAverage:0,_physicalAverageCount:0,_physicalTop:0,_virtualCount:0,_estScrollHeight:0,_scrollHeight:0,_viewportHeight:0,_viewportWidth:0,_physicalItems:null,_physicalSizes:null,_firstVisibleIndexVal:null,_lastVisibleIndexVal:null,_maxPages:2,_focusedVirtualIndex:-1,_templateCost:0,get _physicalBottom(){return this._physicalTop+this._physicalSize},get _scrollBottom(){return this._scrollPosition+this._viewportHeight},get _virtualEnd(){return this._virtualStart+this._physicalCount-1},get _hiddenContentSize(){return this._physicalSize-this._viewportHeight},get _maxScrollTop(){return this._estScrollHeight-this._viewportHeight+this._scrollOffset},get _maxVirtualStart(){return Math.max(0,this._virtualCount-this._physicalCount)},set _virtualStart(e){e=this._clamp(e,0,this._maxVirtualStart),this._virtualStartVal=e},get _virtualStart(){return this._virtualStartVal||0},set _physicalStart(e){(e%=this._physicalCount)<0&&(e=this._physicalCount+e),this._physicalStartVal=e},get _physicalStart(){return this._physicalStartVal||0},get _physicalEnd(){return(this._physicalStart+this._physicalCount-1)%this._physicalCount},set _physicalCount(e){this._physicalCountVal=e},get _physicalCount(){return this._physicalCountVal||0},get _optPhysicalSize(){return 0===this._viewportHeight?1/0:this._viewportHeight*this._maxPages},get _isVisible(){return Boolean(this.offsetWidth||this.offsetHeight)},get firstVisibleIndex(){let e=this._firstVisibleIndexVal;if(null==e){let t=this._physicalTop+this._scrollOffset;e=this._iterateItems((function(e,i){if(t+=this._physicalSizes[e],t>this._scrollPosition)return i}))||0,this._firstVisibleIndexVal=e}return e},get lastVisibleIndex(){let e=this._lastVisibleIndexVal;if(null==e){let t=this._physicalTop+this._scrollOffset;this._iterateItems((function(i,r){t<this._scrollBottom&&(e=r),t+=this._physicalSizes[i]})),this._lastVisibleIndexVal=e}return e},get _scrollOffset(){return this._scrollerPaddingTop},attached:function(){this._debounce("_render",this._render,y.rs),this.listen(this,"iron-resize","_resizeHandler")},detached:function(){this.unlisten(this,"iron-resize","_resizeHandler")},updateViewportBoundaries:function(){const e=window.getComputedStyle(this);this._scrollerPaddingTop=this.scrollTarget===this?0:parseInt(e["padding-top"],10),this._isRTL=Boolean("rtl"===e.direction),this._viewportWidth=this.$.items.offsetWidth,this._viewportHeight=this._scrollTargetHeight},_scrollHandler:function(){const e=Math.max(0,Math.min(this._maxScrollTop,this._scrollTop));let t=e-this._scrollPosition;const i=t>=0;if(this._scrollPosition=e,this._firstVisibleIndexVal=null,this._lastVisibleIndexVal=null,Math.abs(t)>this._physicalSize&&this._physicalSize>0){t-=this._scrollOffset;const e=Math.round(t/this._physicalAverage);this._virtualStart=this._virtualStart+e,this._physicalStart=this._physicalStart+e,this._physicalTop=Math.floor(this._virtualStart)*this._physicalAverage,this._update()}else if(this._physicalCount>0){const{physicalTop:e,indexes:t}=this._getReusables(i);i?(this._physicalTop=e,this._virtualStart=this._virtualStart+t.length,this._physicalStart=this._physicalStart+t.length):(this._virtualStart=this._virtualStart-t.length,this._physicalStart=this._physicalStart-t.length),this._update(t,i?null:t),this._debounce("_increasePoolIfNeeded",this._increasePoolIfNeeded.bind(this,0),y.YA)}},_getReusables:function(e){let t,i,r;const n=[],s=this._hiddenContentSize*this._ratio,o=this._virtualStart,a=this._virtualEnd,l=this._physicalCount;let c=this._physicalTop+this._scrollOffset;const h=this._physicalBottom+this._scrollOffset,d=this._scrollTop,u=this._scrollBottom;for(e?(t=this._physicalStart,i=d-c):(t=this._physicalEnd,i=h-u);r=this._physicalSizes[t],i-=r,!(n.length>=l||i<=s);)if(e){if(a+n.length+1>=this._virtualCount)break;if(c+r>=d-this._scrollOffset)break;n.push(t),c+=r,t=(t+1)%l}else{if(o-n.length<=0)break;if(c+this._physicalSize-r<=u)break;n.push(t),c-=r,t=0===t?l-1:t-1}return{indexes:n,physicalTop:c-this._scrollOffset}},_update:function(e,t){if(!(e&&0===e.length||0===this._physicalCount)){if(this._assignModels(e),this._updateMetrics(e),t)for(;t.length;){const e=t.pop();this._physicalTop-=this._physicalSizes[e]}this._positionItems(),this._updateScrollerSize()}},_isClientFull:function(){return 0!=this._scrollBottom&&this._physicalBottom-1>=this._scrollBottom&&this._physicalTop<=this._scrollPosition},_increasePoolIfNeeded:function(e){const t=this._clamp(this._physicalCount+e,3,this._virtualCount-this._virtualStart)-this._physicalCount;let i=Math.round(.5*this._physicalCount);if(!(t<0)){if(t>0){const e=window.performance.now();[].push.apply(this._physicalItems,this._createPool(t));for(let e=0;e<t;e++)this._physicalSizes.push(0);this._physicalCount=this._physicalCount+t,this._physicalStart>this._physicalEnd&&this._isIndexRendered(this._focusedVirtualIndex)&&this._getPhysicalIndex(this._focusedVirtualIndex)<this._physicalEnd&&(this._physicalStart=this._physicalStart+t),this._update(),this._templateCost=(window.performance.now()-e)/t,i=Math.round(.5*this._physicalCount)}this._virtualEnd>=this._virtualCount-1||0===i||(this._isClientFull()?this._physicalSize<this._optPhysicalSize&&this._debounce("_increasePoolIfNeeded",this._increasePoolIfNeeded.bind(this,this._clamp(Math.round(50/this._templateCost),1,i)),y.t$):this._debounce("_increasePoolIfNeeded",this._increasePoolIfNeeded.bind(this,i),y.YA))}},_render:function(){if(this.isAttached&&this._isVisible)if(0!==this._physicalCount){const{physicalTop:e,indexes:t}=this._getReusables(!0);this._physicalTop=e,this._virtualStart=this._virtualStart+t.length,this._physicalStart=this._physicalStart+t.length,this._update(t),this._update(),this._increasePoolIfNeeded(0)}else this._virtualCount>0&&(this.updateViewportBoundaries(),this._increasePoolIfNeeded(3))},_itemsChanged:function(e){"items"===e.path&&(this._virtualStart=0,this._physicalTop=0,this._virtualCount=this.items?this.items.length:0,this._physicalIndexForKey={},this._firstVisibleIndexVal=null,this._lastVisibleIndexVal=null,this._physicalCount=this._physicalCount||0,this._physicalItems=this._physicalItems||[],this._physicalSizes=this._physicalSizes||[],this._physicalStart=0,this._scrollTop>this._scrollOffset&&this._resetScrollPosition(0),this._debounce("_render",this._render,y.rs))},_iterateItems:function(e,t){let i,r,n,s;if(2===arguments.length&&t){for(s=0;s<t.length;s++)if(i=t[s],r=this._computeVidx(i),null!=(n=e.call(this,i,r)))return n}else{for(i=this._physicalStart,r=this._virtualStart;i<this._physicalCount;i++,r++)if(null!=(n=e.call(this,i,r)))return n;for(i=0;i<this._physicalStart;i++,r++)if(null!=(n=e.call(this,i,r)))return n}},_computeVidx:function(e){return e>=this._physicalStart?this._virtualStart+(e-this._physicalStart):this._virtualStart+(this._physicalCount-this._physicalStart)+e},_updateMetrics:function(e){(0,v.y)();let t=0,i=0;const r=this._physicalAverageCount,n=this._physicalAverage;this._iterateItems((function(e){i+=this._physicalSizes[e],this._physicalSizes[e]=this._physicalItems[e].offsetHeight,t+=this._physicalSizes[e],this._physicalAverageCount+=this._physicalSizes[e]?1:0}),e),this._physicalSize=this._physicalSize+t-i,this._physicalAverageCount!==r&&(this._physicalAverage=Math.round((n*r+t)/this._physicalAverageCount))},_positionItems:function(){this._adjustScrollPosition();let e=this._physicalTop;this._iterateItems((function(t){this.translate3d(0,e+"px",0,this._physicalItems[t]),e+=this._physicalSizes[t]}))},_adjustScrollPosition:function(){const e=0===this._virtualStart?this._physicalTop:Math.min(this._scrollPosition+this._physicalTop,0);if(0!==e){this._physicalTop=this._physicalTop-e;const t=this._scrollTop;!xt&&t>0&&this._resetScrollPosition(t-e)}},_resetScrollPosition:function(e){this.scrollTarget&&e>=0&&(this._scrollTop=e,this._scrollPosition=this._scrollTop)},_updateScrollerSize:function(e){this._estScrollHeight=this._physicalBottom+Math.max(this._virtualCount-this._physicalCount-this._virtualStart,0)*this._physicalAverage,((e=(e=e||0===this._scrollHeight)||this._scrollPosition>=this._estScrollHeight-this._physicalSize)||Math.abs(this._estScrollHeight-this._scrollHeight)>=this._viewportHeight)&&(this.$.items.style.height=this._estScrollHeight+"px",this._scrollHeight=this._estScrollHeight)},scrollToIndex:function(e){if("number"!=typeof e||e<0||e>this.items.length-1)return;if((0,v.y)(),0===this._physicalCount)return;e=this._clamp(e,0,this._virtualCount-1),(!this._isIndexRendered(e)||e>=this._maxVirtualStart)&&(this._virtualStart=e-1),this._assignModels(),this._updateMetrics(),this._physicalTop=Math.floor(this._virtualStart)*this._physicalAverage;let t=this._physicalStart,i=this._virtualStart,r=0;const n=this._hiddenContentSize;for(;i<e&&r<=n;)r+=this._physicalSizes[t],t=(t+1)%this._physicalCount,i++;this._updateScrollerSize(!0),this._positionItems(),this._resetScrollPosition(this._physicalTop+this._scrollOffset+r),this._increasePoolIfNeeded(0),this._firstVisibleIndexVal=null,this._lastVisibleIndexVal=null},_resetAverage:function(){this._physicalAverage=0,this._physicalAverageCount=0},_resizeHandler:function(){this._debounce("_render",(function(){this._firstVisibleIndexVal=null,this._lastVisibleIndexVal=null,this.updateViewportBoundaries(),this._isVisible?(this.toggleScrollListener(!0),this._resetAverage(),this._render()):this.toggleScrollListener(!1)}),y.rs)},_isIndexRendered:function(e){return e>=this._virtualStart&&e<=this._virtualEnd},_getPhysicalIndex:function(e){return(this._physicalStart+(e-this._virtualStart))%this._physicalCount},_clamp:function(e,t,i){return Math.min(i,Math.max(t,e))},_debounce:function(e,t,i){this._debouncers=this._debouncers||{},this._debouncers[e]=g.dx.debounce(this._debouncers[e],i,t.bind(this)),(0,g.Ex)(this._debouncers[e])}});class St extends Ct{static get properties(){return{size:{type:Number,notify:!0},_vidxOffset:{type:Number,value:0}}}static get observers(){return["_effectiveSizeChanged(_effectiveSize)"]}connectedCallback(){super.connectedCallback(),this._scrollHandler()}_updateScrollerItem(){}_afterScroll(){}_getRowTarget(){}_createScrollerRows(){}_canPopulate(){}scrollToIndex(e){this._warnPrivateAPIAccess("scrollToIndex"),this._scrollingToIndex=!0,e=Math.min(Math.max(e,0),this._effectiveSize-1),this.$.table.scrollTop=e/this._effectiveSize*(this.$.table.scrollHeight-this.$.table.offsetHeight),this._scrollHandler(),this._accessIronListAPI((()=>this._maxScrollTop))&&this._virtualCount<this._effectiveSize&&this._adjustVirtualIndexOffset(1e6),this._accessIronListAPI((()=>super.scrollToIndex(e-this._vidxOffset))),this._scrollHandler();const t=Array.from(this.$.items.children).filter((t=>t.index===e))[0];if(t){const e=t.getBoundingClientRect().top-this.$.header.getBoundingClientRect().bottom;Math.abs(e)>1&&(this.$.table.scrollTop+=e,this._scrollHandler())}this._scrollingToIndex=!1}_effectiveSizeChanged(e){let t,i=0;if(this._iterateItems(((e,r)=>{if(r===this._firstVisibleIndex){const r=this._physicalItems[e];t=r.index,i=r.getBoundingClientRect().top}})),this.items&&e<this.items.length&&(this._scrollTop=0),!Array.isArray(this.items)){const t=1e5;this.items={length:Math.min(e,t)}}this._accessIronListAPI((()=>super._itemsChanged({path:"items"}))),this._virtualCount=Math.min(this.items.length,e)||0,0===this._scrollTop&&(this._accessIronListAPI((()=>this._scrollToIndex(Math.min(e-1,t)))),this._iterateItems((e=>{const r=this._physicalItems[e];if(r.index===t&&(this.$.table.scrollTop+=Math.round(r.getBoundingClientRect().top-i)),r.index===this._focusedItemIndex&&this._itemsFocusable&&this.$.items.contains(this.shadowRoot.activeElement)){const e=Array.from(this._itemsFocusable.parentElement.children).indexOf(this._itemsFocusable);r.children[e].focus()}}))),this._assignModels(),requestAnimationFrame((()=>this._update())),this.__updateFooterPositioning()}_positionItems(){let e;this._adjustScrollPosition(),isNaN(this._physicalTop)&&(e=!0,this._physicalTop=0);let t=this._physicalTop;this._iterateItems((e=>{this._physicalItems[e].style.transform=`translateY(${t}px)`,t+=this._physicalSizes[e]})),e&&this._scrollToIndex(0)}_increasePoolIfNeeded(e){0===e&&this._scrollingToIndex||!this._canPopulate()||!this._effectiveSize||(this._initialPoolCreated?this._optPhysicalSize!==1/0&&(this._debounceIncreasePool=g.dx.debounce(this._debounceIncreasePool,y.rs,(()=>{this._updateMetrics();const e=this._optPhysicalSize-this._physicalSize;let t=Math.ceil(e/this._physicalAverage);this._physicalCount+t>this._effectiveSize&&(t=Math.max(0,this._effectiveSize-this._physicalCount)),this._physicalSize&&t>0&&this._optPhysicalSize!==1/0&&(super._increasePoolIfNeeded(t),this.__reorderChildNodes())}))):(this._initialPoolCreated=!0,super._increasePoolIfNeeded(25)))}__reorderChildNodes(){const e=Array.from(this.$.items.childNodes);!!e.reduce(((e,t,i,r)=>{if(0===i||r[i-1].index===t.index-1)return e}),!0)||e.sort(((e,t)=>e.index-t.index)).forEach((e=>this.$.items.appendChild(e)))}_createPool(e){const t=document.createDocumentFragment(),i=this._createScrollerRows(e);i.forEach((e=>t.appendChild(e))),this._getRowTarget().appendChild(t);const r=this.querySelector("[slot]");if(r){const e=r.getAttribute("slot");r.setAttribute("slot","foo-bar"),r.setAttribute("slot",e)}var n,s,o;return n=this,s=()=>this.notifyResize(),d||f(),p.push([n,s,o]),i}_assignModels(e){this._iterateItems(((e,t)=>{const i=this._physicalItems[e];this._toggleAttribute("hidden",t>=this._effectiveSize,i),this._updateScrollerItem(i,t+(this._vidxOffset||0))}),e)}_scrollHandler(){const e=this.$.table.scrollTop-this._scrollPosition;this._accessIronListAPI(super._scrollHandler);const t=this._vidxOffset;this._accessIronListAPI((()=>this._maxScrollTop))&&this._virtualCount<this._effectiveSize?this._adjustVirtualIndexOffset(e):this._vidxOffset=0,this._vidxOffset!==t&&this._update(),this._afterScroll()}_adjustVirtualIndexOffset(e){if(Math.abs(e)>1e4){if(this._noScale)return void(this._noScale=!1);const e=this.$.table.scrollTop/(this.$.table.scrollHeight-this.$.table.offsetHeight),t=e*this._effectiveSize;this._vidxOffset=Math.round(t-e*this._virtualCount)}else{const e=this._vidxOffset||0,t=1e3,i=100;0===this._scrollTop?(this._vidxOffset=0,e!==this._vidxOffset&&super.scrollToIndex(0)):this.firstVisibleIndex<t&&this._vidxOffset>0&&(this._vidxOffset-=Math.min(this._vidxOffset,i),e!==this._vidxOffset&&super.scrollToIndex(this.firstVisibleIndex+(e-this._vidxOffset)),this._noScale=!0);const r=this._effectiveSize-this._virtualCount;this._scrollTop>=this._maxScrollTop&&this._maxScrollTop>0?(this._vidxOffset=r,e!==this._vidxOffset&&super.scrollToIndex(this._virtualCount)):this.firstVisibleIndex>this._virtualCount-t&&this._vidxOffset<r&&(this._vidxOffset+=Math.min(r-this._vidxOffset,i),e!==this._vidxOffset&&super.scrollToIndex(this.firstVisibleIndex-(this._vidxOffset-e)),this._noScale=!0)}}_accessIronListAPI(e){this._warnPrivateAPIAccessAsyncEnabled=!1;const t=e.apply(this);return this._debouncerWarnPrivateAPIAccess=g.dx.debounce(this._debouncerWarnPrivateAPIAccess,y.rs,(()=>this._warnPrivateAPIAccessAsyncEnabled=!0)),t}_debounceRender(e,t){super._debounceRender((()=>this._accessIronListAPI(e)),t)}_warnPrivateAPIAccess(e){this._warnPrivateAPIAccessAsyncEnabled&&console.warn(`Accessing private API (${e})!`)}_render(){this._accessIronListAPI(super._render)}_itemsChanged(){}get _firstVisibleIndex(){return this._accessIronListAPI((()=>super.firstVisibleIndex))}get _lastVisibleIndex(){return this._accessIronListAPI((()=>super.lastVisibleIndex))}_scrollToIndex(e){this._accessIronListAPI((()=>this.scrollToIndex(e)))}get firstVisibleIndex(){return this._warnPrivateAPIAccess("firstVisibleIndex"),super.firstVisibleIndex}set firstVisibleIndex(e){this._warnPrivateAPIAccess("firstVisibleIndex"),super.firstVisibleIndex=e}get lastVisibleIndex(){return this._warnPrivateAPIAccess("lastVisibleIndex"),super.lastVisibleIndex}set lastVisibleIndex(e){this._warnPrivateAPIAccess("lastVisibleIndex"),super.lastVisibleIndex=e}updateViewportBoundaries(){this._warnPrivateAPIAccess("updateViewportBoundaries"),super.updateViewportBoundaries.apply(this,arguments)}_resizeHandler(){super._resizeHandler(),(0,v.y)()}}const At=e=>class extends e{static get observers(){return["_a11yUpdateGridSize(size, _columnTree, _columnTree.*)"]}_a11yGetHeaderRowCount(e){return e.filter((e=>e.some((e=>e._headerTemplate||e.headerRenderer||e.path||e.header)))).length}_a11yGetFooterRowCount(e){return e.filter((e=>e.some((e=>e._headerTemplate||e.headerRenderer)))).length}_a11yUpdateGridSize(e,t){if(void 0===e||void 0===t)return;const i=t[t.length-1];this.$.table.setAttribute("aria-rowcount",e+this._a11yGetHeaderRowCount(t)+this._a11yGetFooterRowCount(t)),this.$.table.setAttribute("aria-colcount",i&&i.length||0),this._a11yUpdateHeaderRows(),this._a11yUpdateFooterRows()}_a11yUpdateHeaderRows(){Array.from(this.$.header.children).forEach(((e,t)=>e.setAttribute("aria-rowindex",t+1)))}_a11yUpdateFooterRows(){Array.from(this.$.footer.children).forEach(((e,t)=>e.setAttribute("aria-rowindex",this._a11yGetHeaderRowCount(this._columnTree)+this.size+t+1)))}_a11yUpdateRowRowindex(e,t){e.setAttribute("aria-rowindex",t+this._a11yGetHeaderRowCount(this._columnTree)+1)}_a11yUpdateRowSelected(e,t){e.setAttribute("aria-selected",Boolean(t)),Array.from(e.children).forEach((e=>e.setAttribute("aria-selected",Boolean(t))))}_a11yUpdateRowLevel(e,t){e.setAttribute("aria-level",t+1)}_a11yUpdateRowDetailsOpened(e,t){Array.from(e.children).forEach((e=>{"boolean"==typeof t?e.setAttribute("aria-expanded",t):e.hasAttribute("aria-expanded")&&e.removeAttribute("aria-expanded")}))}_a11ySetRowDetailsCell(e,t){Array.from(e.children).forEach((e=>{e!==t&&e.setAttribute("aria-controls",t.id)}))}_a11yUpdateCellColspan(e,t){e.setAttribute("aria-colspan",Number(t))}_a11yUpdateSorters(){Array.from(this.querySelectorAll("vaadin-grid-sorter")).forEach((e=>{let t=e.parentNode;for(;t&&"vaadin-grid-cell-content"!==t.localName;)t=t.parentNode;if(t&&t.assignedSlot){t.assignedSlot.parentNode.setAttribute("aria-sort",{asc:"ascending",desc:"descending"}[String(e.direction)]||"none")}}))}},Tt=e=>class extends e{static get properties(){return{activeItem:{type:Object,notify:!0,value:null}}}ready(){super.ready(),this.$.scroller.addEventListener("click",this._onClick.bind(this)),this.addEventListener("cell-activate",this._activateItem.bind(this))}_activateItem(e){const t=e.detail.model,i=t?t.item:null;i&&(this.activeItem=this._itemsEqual(this.activeItem,i)?null:i)}_onClick(e){if(e.defaultPrevented)return;const t=e.composedPath(),i=t[t.indexOf(this.$.table)-3];if(!i||i.getAttribute("part").indexOf("details-cell")>-1)return;const r=i._content,n=this.getRootNode().activeElement;r.contains(n)||this._isFocusable(e.target)||this.dispatchEvent(new CustomEvent("cell-activate",{detail:{model:this.__getRowModel(i.parentElement)}}))}_isFocusable(e){return kt(e)}},kt=e=>{if(!e.parentNode)return!1;const t=-1!==Array.from(e.parentNode.querySelectorAll("[tabindex], button, input, select, textarea, object, iframe, label, a[href], area[href]")).filter((e=>"cell body-cell"!==e.getAttribute("part"))).indexOf(e);return!e.disabled&&t},Ot=e=>class extends e{static get properties(){return{items:Array}}static get observers(){return["_itemsChanged(items, items.*, isAttached)"]}_itemsChanged(e,t,i){if(i){if(!Array.isArray(e))return null==e&&(this.size=0),void(this.dataProvider===this._arrayDataProvider&&(this.dataProvider=void 0));this.size=e.length,this.dataProvider=this.dataProvider||this._arrayDataProvider,this.clearCache(),this._ensureFirstPageLoaded()}}_arrayDataProvider(e,t){let i=(Array.isArray(this.items)?this.items:[]).slice(0);this._filters&&this._checkPaths(this._filters,"filtering",i)&&(i=this._filter(i)),this.size=i.length,e.sortOrders.length&&this._checkPaths(this._sorters,"sorting",i)&&(i=i.sort(this._multiSort.bind(this)));const r=e.page*e.pageSize,n=r+e.pageSize;t(i.slice(r,n),i.length)}_checkPaths(e,t,i){if(!i.length)return!1;let r=!0;for(let n in e){const s=e[n].path;if(!s||-1===s.indexOf("."))continue;const o=s.replace(/\.[^.]*$/,"");void 0===gt.get(o,i[0])&&(console.warn(`Path "${s}" used for ${t} does not exist in all of the items, ${t} is disabled.`),r=!1)}return r}_multiSort(e,t){return this._sorters.map((i=>"asc"===i.direction?this._compare(gt.get(i.path,e),gt.get(i.path,t)):"desc"===i.direction?this._compare(gt.get(i.path,t),gt.get(i.path,e)):0)).reduce(((e,t)=>e||t),0)}_normalizeEmptyValue(e){return[void 0,null].indexOf(e)>=0?"":isNaN(e)?e.toString():e}_compare(e,t){return(e=this._normalizeEmptyValue(e))<(t=this._normalizeEmptyValue(t))?-1:e>t?1:0}_filter(e){return e.filter((e=>0===this._filters.filter((t=>{const i=this._normalizeEmptyValue(gt.get(t.path,e)),r=this._normalizeEmptyValue(t.value).toString().toLowerCase();return-1===i.toString().toLowerCase().indexOf(r)})).length))}},Pt=e=>class extends((0,s._)(e)){ready(){super.ready();const e=this.$.scroller;(0,De.NH)(e,"track",this._onHeaderTrack.bind(this)),e.addEventListener("touchmove",(t=>e.hasAttribute("column-resizing")&&t.preventDefault())),e.addEventListener("contextmenu",(e=>"resize-handle"==e.target.getAttribute("part")&&e.preventDefault())),e.addEventListener("mousedown",(e=>"resize-handle"===e.target.getAttribute("part")&&e.preventDefault()))}_onHeaderTrack(e){const t=e.target;if("resize-handle"===t.getAttribute("part")){let i=t.parentElement._column;for(this._toggleAttribute("column-resizing",!0,this.$.scroller);"vaadin-grid-column-group"===i.localName;)i=Array.prototype.slice.call(i._childColumns,0).sort((function(e,t){return e._order-t._order})).filter((function(e){return!e.hidden})).pop();const r=Array.from(this.$.header.querySelectorAll('[part~="row"]:last-child [part~="cell"]')),n=r.filter((e=>e._column===i))[0];if(n.offsetWidth){const t=window.getComputedStyle(n),r=10+parseInt(t.paddingLeft)+parseInt(t.paddingRight)+parseInt(t.borderLeftWidth)+parseInt(t.borderRightWidth)+parseInt(t.marginLeft)+parseInt(t.marginRight),s=n.offsetWidth+(this.__isRTL?n.getBoundingClientRect().left-e.detail.x:e.detail.x-n.getBoundingClientRect().right);i.width=Math.max(r,s)+"px",i.flexGrow=0}r.sort((function(e,t){return e._column._order-t._column._order})).forEach((function(e,t,i){t<i.indexOf(n)&&(e._column.width=e.offsetWidth+"px",e._column.flexGrow=0)})),"end"===e.detail.state&&(this._toggleAttribute("column-resizing",!1,this.$.scroller),this.dispatchEvent(new CustomEvent("column-resize",{detail:{resizedColumn:i}}))),this._resizeHandler()}}},It=class e{constructor(e,t,i){this.grid=e,this.parentCache=t,this.parentItem=i,this.itemCaches={},this.items={},this.effectiveSize=0,this.size=0,this.pendingRequests={}}isLoading(){return Boolean(Object.keys(this.pendingRequests).length||Object.keys(this.itemCaches).filter((e=>this.itemCaches[e].isLoading()))[0])}getItemForIndex(e){const{cache:t,scaledIndex:i}=this.getCacheAndIndex(e);return t.items[i]}updateSize(){this.effectiveSize=!this.parentItem||this.grid._isExpanded(this.parentItem)?this.size+Object.keys(this.itemCaches).reduce(((e,t)=>{const i=this.itemCaches[t];return i.updateSize(),e+i.effectiveSize}),0):0}ensureSubCacheForScaledIndex(t){if(!this.itemCaches[t]){const i=new e(this.grid,this,this.items[t]);this.itemCaches[t]=i,this.grid._loadPage(0,i)}}getCacheAndIndex(e){let t=e;const i=Object.keys(this.itemCaches);for(let e=0;e<i.length;e++){const r=Number(i[e]),n=this.itemCaches[r];if(t<=r)return{cache:this,scaledIndex:t};if(t<=r+n.effectiveSize)return n.getCacheAndIndex(t-r-1);t-=n.effectiveSize}return{cache:this,scaledIndex:t}}},Et=e=>class extends e{static get properties(){return{pageSize:{type:Number,value:50,observer:"_pageSizeChanged"},dataProvider:{type:Object,notify:!0,observer:"_dataProviderChanged"},loading:{type:Boolean,notify:!0,readOnly:!0,reflectToAttribute:!0},_cache:{type:Object,value:function(){return new It(this)}},itemIdPath:{type:String,value:null},expandedItems:{type:Object,notify:!0,value:()=>[]}}}static get observers(){return["_sizeChanged(size)","_itemIdPathChanged(itemIdPath)","_expandedItemsChanged(expandedItems.*)"]}_sizeChanged(e){const t=e-this._cache.size;this._cache.size+=t,this._cache.effectiveSize+=t,this._effectiveSize=this._cache.effectiveSize,this._increasePoolIfNeeded(0),this._debounceIncreasePool&&this._debounceIncreasePool.flush()}_getItem(e,t){if(e>=this._effectiveSize)return;t.index=e;const{cache:i,scaledIndex:r}=this._cache.getCacheAndIndex(e),n=i.items[r];n?(this._toggleAttribute("loading",!1,t),this._updateItem(t,n),this._isExpanded(n)&&i.ensureSubCacheForScaledIndex(r)):(this._toggleAttribute("loading",!0,t),this._loadPage(this._getPageForIndex(r),i))}_expandedInstanceChangedCallback(e,t){void 0!==e.item&&(t?this.expandItem(e.item):this.collapseItem(e.item))}getItemId(e){return this.itemIdPath?this.get(this.itemIdPath,e):e}_isExpanded(e){return this.__expandedKeys.has(this.getItemId(e))}_expandedItemsChanged(){this.__cacheExpandedKeys(),this._cache.updateSize(),this._effectiveSize=this._cache.effectiveSize,this._assignModels()}_itemIdPathChanged(){this.__cacheExpandedKeys()}__cacheExpandedKeys(){this.expandedItems&&(this.__expandedKeys=new Set,this.expandedItems.forEach((e=>{this.__expandedKeys.add(this.getItemId(e))})))}expandItem(e){this._isExpanded(e)||this.push("expandedItems",e)}collapseItem(e){this._isExpanded(e)&&this.splice("expandedItems",this._getItemIndexInArray(e,this.expandedItems),1)}_getIndexLevel(e){let{cache:t}=this._cache.getCacheAndIndex(e),i=0;for(;t.parentCache;)t=t.parentCache,i++;return i}_canPopulate(){return Boolean(this._hasData&&this._columnTree)}_loadPage(e,t){if(!t.pendingRequests[e]&&this.dataProvider){this._setLoading(!0),t.pendingRequests[e]=!0;const i={page:e,pageSize:this.pageSize,sortOrders:this._mapSorters(),filters:this._mapFilters(),parentItem:t.parentItem};this._debounceIncreasePool&&this._debounceIncreasePool.flush(),this.dataProvider(i,((r,n)=>{void 0!==n?t.size=n:i.parentItem&&(t.size=r.length);const s=Array.from(this.$.items.children).map((e=>e._item));r.forEach(((i,r)=>{const n=e*this.pageSize+r;t.items[n]=i,this._isExpanded(i)&&s.indexOf(i)>-1&&t.ensureSubCacheForScaledIndex(n)})),this._hasData=!0,delete t.pendingRequests[e],this._debouncerApplyCachedData=g.dx.debounce(this._debouncerApplyCachedData,y.Wc.after(0),(()=>{this._setLoading(!1),this._cache.updateSize(),this._effectiveSize=this._cache.effectiveSize,Array.from(this.$.items.children).filter((e=>!e.hidden)).forEach((e=>{this._cache.getItemForIndex(e.index)&&this._getItem(e.index,e)})),this._increasePoolIfNeeded(0),this.__scrollToPendingIndex()})),this._cache.isLoading()||this._debouncerApplyCachedData.flush(),this.__itemsReceived()}))}}_getPageForIndex(e){return Math.floor(e/this.pageSize)}clearCache(){this._cache=new It(this),Array.from(this.$.items.children).forEach((e=>{Array.from(e.children).forEach((e=>{e._instance&&e._instance._setPendingProperty("item",{},!1)}))})),this._cache.size=this.size||0,this._cache.updateSize(),this._hasData=!1,this._assignModels(),this._effectiveSize&&this._initialPoolCreated||this._loadPage(0,this._cache)}_pageSizeChanged(e,t){void 0!==t&&e!==t&&this.clearCache()}_checkSize(){void 0===this.size&&0===this._effectiveSize&&console.warn("The <vaadin-grid> needs the total number of items in order to display rows. Set the total number of items to the `size` property, or provide the total number of items in the second argument of the `dataProvider`s `callback` call.")}_dataProviderChanged(e,t){void 0!==t&&this.clearCache(),e&&this.items&&this.items.length&&this._scrollToIndex(this._firstVisibleIndex),this._ensureFirstPageLoaded(),this._debouncerCheckSize=g.dx.debounce(this._debouncerCheckSize,y.Wc.after(2e3),this._checkSize.bind(this)),this._scrollHandler()}_ensureFirstPageLoaded(){this._hasData||this._loadPage(0,this._cache)}_itemsEqual(e,t){return this.getItemId(e)===this.getItemId(t)}_getItemIndexInArray(e,t){let i=-1;return t.forEach(((t,r)=>{this._itemsEqual(t,e)&&(i=r)})),i}scrollToIndex(e){super.scrollToIndex(e),isNaN(e)||!this._cache.isLoading()&&this.clientHeight||(this.__pendingScrollToIndex=e)}__scrollToPendingIndex(){if(this.__pendingScrollToIndex&&this.$.items.children.length){const e=this.__pendingScrollToIndex;delete this.__pendingScrollToIndex,this.scrollToIndex(e)}}},Mt=e=>class extends e{ready(){super.ready(),this._addNodeObserver()}_hasColumnGroups(e){for(let t=0;t<e.length;t++)if("vaadin-grid-column-group"===e[t].localName)return!0;return!1}_getChildColumns(e){return ke.o.getFlattenedNodes(e).filter(this._isColumnElement)}_flattenColumnGroups(e){return e.map((e=>"vaadin-grid-column-group"===e.localName?this._getChildColumns(e):[e])).reduce(((e,t)=>e.concat(t)),[])}_getColumnTree(){const e=[];for(let t=ke.o.getFlattenedNodes(this).filter(this._isColumnElement);e.push(t),this._hasColumnGroups(t);)t=this._flattenColumnGroups(t);return e}_updateColumnTree(){const e=this._getColumnTree();this._arrayEquals(e,this._columnTree)||(this._columnTree=e)}_addNodeObserver(){this._observer=new ke.o(this,(e=>{const t=e.addedNodes.filter((e=>"template"===e.localName&&e.classList.contains("row-details")))[0];t&&this._rowDetailsTemplate!==t&&(this._rowDetailsTemplate=t),(e.addedNodes.filter(this._isColumnElement).length>0||e.removedNodes.filter(this._isColumnElement).length>0)&&this._updateColumnTree(),this._debouncerCheckImports=g.dx.debounce(this._debouncerCheckImports,y.Wc.after(2e3),this._checkImports.bind(this)),this._ensureFirstPageLoaded()}))}_arrayEquals(e,t){if(!e||!t||e.length!=t.length)return!1;for(let i=0,r=e.length;i<r;i++)if(e[i]instanceof Array&&t[i]instanceof Array){if(!this._arrayEquals(e[i],t[i]))return!1}else if(e[i]!=t[i])return!1;return!0}_checkImports(){["vaadin-grid-column-group","vaadin-grid-filter","vaadin-grid-filter-column","vaadin-grid-tree-toggle","vaadin-grid-selection-column","vaadin-grid-sort-column","vaadin-grid-sorter"].forEach((e=>{const t=this.querySelector(e);!t||t instanceof n.H3||console.warn(`Make sure you have imported the required module for <${e}> element.`)}))}_updateFirstAndLastColumn(){Array.from(this.shadowRoot.querySelectorAll("tr")).forEach((e=>this._updateFirstAndLastColumnForRow(e)))}_updateFirstAndLastColumnForRow(e){Array.from(e.querySelectorAll('[part~="cell"]:not([part~="details-cell"])')).sort(((e,t)=>e._column._order-t._column._order)).forEach(((e,t,i)=>{this._toggleAttribute("first-column",0===t,e),this._toggleAttribute("last-column",t===i.length-1,e)}))}_isColumnElement(e){return e.nodeType===Node.ELEMENT_NODE&&/\bcolumn\b/.test(e.localName)}},Rt=e=>class extends e{getEventContext(e){const t={},i=e.composedPath(),r=i[i.indexOf(this.$.table)-3];return r?(t.section=["body","header","footer","details"].filter((e=>r.getAttribute("part").indexOf(e)>-1))[0],r._column&&(t.column=r._column),"body"!==t.section&&"details"!==t.section||Object.assign(t,this.__getRowModel(r.parentElement)),t):t}},Nt=e=>class extends e{static get properties(){return{_filters:{type:Array,value:function(){return[]}}}}ready(){super.ready(),this.addEventListener("filter-changed",this._filterChanged.bind(this))}_filterChanged(e){-1===this._filters.indexOf(e.target)&&this._filters.push(e.target),e.stopPropagation(),this.dataProvider&&this.clearCache()}_mapFilters(){return this._filters.map((e=>({path:e.path,value:e.value})))}};var Lt=i(93460);const Dt=e=>class extends e{static get properties(){return{detailsOpenedItems:{type:Array,value:function(){return[]}},_rowDetailsTemplate:Object,rowDetailsRenderer:Function,_detailsCells:{type:Array}}}static get observers(){return["_detailsOpenedItemsChanged(detailsOpenedItems.*, _rowDetailsTemplate, rowDetailsRenderer)","_rowDetailsTemplateOrRendererChanged(_rowDetailsTemplate, rowDetailsRenderer)"]}_rowDetailsTemplateOrRendererChanged(e,t){if(e&&t)throw new Error("You should only use either a renderer or a template for row details");if(e||t){if(e&&!e.templatizer){const t=new Lt.F;t._grid=this,t.dataHost=this.dataHost,t.template=e,e.templatizer=t}this._columnTree&&Array.from(this.$.items.children).forEach((e=>{e.querySelector("[part~=details-cell]")||(this._updateRow(e,this._columnTree[this._columnTree.length-1]),this._a11yUpdateRowDetailsOpened(e,!1)),delete e.querySelector("[part~=details-cell]")._instance})),this.detailsOpenedItems.length&&(Array.from(this.$.items.children).forEach(this._toggleDetailsCell,this),this._update())}}_detailsOpenedItemsChanged(e){"detailsOpenedItems.length"!==e.path&&e.value&&Array.from(this.$.items.children).forEach((e=>{this._toggleDetailsCell(e,e._item),this._a11yUpdateRowDetailsOpened(e,this._isDetailsOpened(e._item)),this._toggleAttribute("details-opened",this._isDetailsOpened(e._item),e)}))}_configureDetailsCell(e){e.setAttribute("part","cell details-cell"),this._toggleAttribute("frozen",!0,e)}_toggleDetailsCell(e,t){const i=e.querySelector('[part~="details-cell"]');if(!i)return;const r=!this._isDetailsOpened(t),n=!!i.hidden!==r;(i._instance||i._renderer)&&i.hidden===r||(i.hidden=r,r?e.style.removeProperty("padding-bottom"):(this.rowDetailsRenderer?(i._renderer=this.rowDetailsRenderer,i._renderer.call(this,i._content,this,{index:e.index,item:t})):this._rowDetailsTemplate&&!i._instance&&(i._instance=this._rowDetailsTemplate.templatizer.createInstance(),i._content.innerHTML="",i._content.appendChild(i._instance.root),this._updateItem(e,t)),(0,v.y)(),e.style.setProperty("padding-bottom",`${i.offsetHeight}px`),requestAnimationFrame((()=>this.notifyResize())))),n&&(this._updateMetrics(),this._positionItems())}_updateDetailsCellHeights(){Array.from(this.$.items.querySelectorAll('[part~="details-cell"]:not([hidden])')).forEach((e=>{e.parentElement.style.setProperty("padding-bottom",`${e.offsetHeight}px`)}))}_isDetailsOpened(e){return this.detailsOpenedItems&&-1!==this._getItemIndexInArray(e,this.detailsOpenedItems)}openItemDetails(e){this._isDetailsOpened(e)||this.push("detailsOpenedItems",e)}closeItemDetails(e){this._isDetailsOpened(e)&&this.splice("detailsOpenedItems",this._getItemIndexInArray(e,this.detailsOpenedItems),1)}_detailsOpenedInstanceChangedCallback(e,t){t?this.openItemDetails(e.item):this.closeItemDetails(e.item)}},zt=500,Ft=500,jt=e=>class extends e{static get properties(){return{_frozenCells:{type:Array,value:()=>[]},_rowWithFocusedElement:Element,_deltaYAcc:{type:Number,value:0},_useSticky:{type:Boolean,value:window.CSS&&window.CSS.supports&&(window.CSS.supports("position","sticky")||window.CSS.supports("position","-webkit-sticky"))}}}static get observers(){return["_scrollViewportHeightUpdated(_viewportHeight)"]}set _scrollTop(e){this.$.table.scrollTop=e}get _scrollTop(){return this.$.table.scrollTop}constructor(){super(),this._scrollLineHeight=this._getScrollLineHeight()}_getScrollLineHeight(){const e=document.createElement("div");e.style.fontSize="initial",e.style.display="none",document.body.appendChild(e);const t=window.getComputedStyle(e).fontSize;return document.body.removeChild(e),t?window.parseInt(t):void 0}_scrollViewportHeightUpdated(e){this._scrollPageHeight=e-this.$.header.clientHeight-this.$.footer.clientHeight-this._scrollLineHeight}ready(){super.ready(),this.$.outerscroller=document.createElement("div"),this.scrollTarget=this.$.table,this.addEventListener("wheel",this._onWheel),this.$.items.addEventListener("focusin",(e=>{const t=e.composedPath().indexOf(this.$.items);this._rowWithFocusedElement=e.composedPath()[t-1]})),this.$.items.addEventListener("focusout",(()=>this._rowWithFocusedElement=void 0)),this.scrollTarget.addEventListener("mousedown",(()=>this.__mouseDown=!0)),this.scrollTarget.addEventListener("mouseup",(()=>{this.__mouseDown=!1,this.__pendingReorder&&(this.__pendingReorder=!1,setTimeout((()=>this._reorderRows()),zt))}))}scrollToIndex(e){this._accessIronListAPI((()=>super.scrollToIndex(e)))}_onWheel(e){if(e.ctrlKey||this._hasScrolledAncestor(e.target,e.deltaX,e.deltaY))return;const t=this.$.table;let i=e.deltaY;if(e.deltaMode===WheelEvent.DOM_DELTA_LINE?i*=this._scrollLineHeight:e.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(i*=this._scrollPageHeight),this._wheelAnimationFrame)return this._deltaYAcc+=i,void e.preventDefault();i+=this._deltaYAcc,this._deltaYAcc=0,this._wheelAnimationFrame=!0,this._debouncerWheelAnimationFrame=g.dx.debounce(this._debouncerWheelAnimationFrame,y.rs,(()=>this._wheelAnimationFrame=!1));const r=Math.abs(e.deltaX)+Math.abs(i);this._canScroll(t,e.deltaX,i)?(e.preventDefault(),t.scrollTop+=i,t.scrollLeft+=e.deltaX,this._scrollHandler(),this._hasResidualMomentum=!0,this._ignoreNewWheel=!0,this._debouncerIgnoreNewWheel=g.dx.debounce(this._debouncerIgnoreNewWheel,y.Wc.after(Ft),(()=>this._ignoreNewWheel=!1))):this._hasResidualMomentum&&r<=this._previousMomentum||this._ignoreNewWheel?e.preventDefault():r>this._previousMomentum&&(this._hasResidualMomentum=!1),this._previousMomentum=r}_hasScrolledAncestor(e,t,i){return"vaadin-grid-cell-content"!==e.localName&&(!(!this._canScroll(e,t,i)||-1===["auto","scroll"].indexOf(getComputedStyle(e).overflow))||(e!==this&&e.parentElement?this._hasScrolledAncestor(e.parentElement,t,i):void 0))}_canScroll(e,t,i){return i>0&&e.scrollTop<e.scrollHeight-e.offsetHeight||i<0&&e.scrollTop>0||t>0&&e.scrollLeft<e.scrollWidth-e.offsetWidth||t<0&&e.scrollLeft>0}_scheduleScrolling(){this._scrollingFrame||(this._scrollingFrame=requestAnimationFrame((()=>this._toggleAttribute("scrolling",!0,this.$.scroller)))),this._debounceScrolling=g.dx.debounce(this._debounceScrolling,y.Wc.after(zt),(()=>{cancelAnimationFrame(this._scrollingFrame),delete this._scrollingFrame,this._toggleAttribute("scrolling",!1,this.$.scroller),this._reorderRows()}))}_afterScroll(){this._translateStationaryElements(),this.hasAttribute("reordering")||this._scheduleScrolling(),this._updateOverflow()}_updateOverflow(){let e="";const t=this.$.table;t.scrollTop<t.scrollHeight-t.clientHeight&&(e+=" bottom"),t.scrollTop>0&&(e+=" top"),t.scrollLeft<t.scrollWidth-t.clientWidth&&(e+=" right"),t.scrollLeft>0&&(e+=" left"),this._debounceOverflow=g.dx.debounce(this._debounceOverflow,y.rs,(()=>{const t=e.trim();t.length>0&&this.getAttribute("overflow")!==t?this.setAttribute("overflow",t):0==t.length&&this.hasAttribute("overflow")&&this.removeAttribute("overflow")}))}_reorderRows(){if(this.__mouseDown)return void(this.__pendingReorder=!0);const e=this.$.items,t=e.querySelectorAll("tr");if(!t.length)return;const i=this._virtualStart+this._vidxOffset,r=this._rowWithFocusedElement||Array.from(t).filter((e=>!e.hidden))[0];if(!r)return;const n=r.index-i,s=Array.from(t).indexOf(r)-n;if(s>0)for(let i=0;i<s;i++)e.appendChild(t[i]);else if(s<0)for(let i=t.length+s;i<t.length;i++)e.insertBefore(t[i],t[0]);if(this._safari){const{transform:e}=this.$.header.style;this.$.header.style.transform="",setTimeout((()=>this.$.header.style.transform=e))}}_frozenCellsChanged(){this._debouncerCacheElements=g.dx.debounce(this._debouncerCacheElements,y.YA,(()=>{Array.from(this.shadowRoot.querySelectorAll('[part~="cell"]')).forEach((function(e){e.style.transform=""})),this._frozenCells=Array.prototype.slice.call(this.$.table.querySelectorAll("[frozen]")),this._updateScrollerMeasurements(),this._translateStationaryElements()})),this._updateLastFrozen()}_updateScrollerMeasurements(){this._frozenCells.length>0&&this.__isRTL&&(this.__scrollerMetrics={scrollWidth:this.$.table.scrollWidth,clientWidth:this.$.table.clientWidth})}_updateLastFrozen(){if(!this._columnTree)return;const e=this._columnTree[this._columnTree.length-1].slice(0);e.sort(((e,t)=>e._order-t._order));const t=e.reduce(((e,t,i)=>(t._lastFrozen=!1,t.frozen&&!t.hidden?i:e)),void 0);void 0!==t&&(e[t]._lastFrozen=!0)}_translateStationaryElements(){const e=Math.max(0,this._scrollLeft),t=Math.max(0,this._scrollTop);let i=0,r=0,n=0;if(this._useSticky||(i=e,r=t,n=this.$.table.clientHeight-this.$.footer.offsetHeight-this.$.footer.offsetTop),this.$.header.style.transform=this._getTranslate(-e+i,r),this.$.footer.style.transform=this._getTranslate(-e+i,r+n),this.$.items.style.transform=this._getTranslate(-e+i,0),this._frozenCells.length>0){const e=this.__isRTL?this.__getNormalizedScrollLeft(this.$.table)+this.__scrollerMetrics.clientWidth-this.__scrollerMetrics.scrollWidth:this._scrollLeft,t=this._getTranslate(e,0);for(let e=0;e<this._frozenCells.length;e++)this._frozenCells[e].style.transform=t}}_getTranslate(e,t){return`translate(${e}px, ${t}px)`}},Bt=e=>class extends e{static get properties(){return{selectedItems:{type:Object,notify:!0,value:()=>[]}}}static get observers(){return["_selectedItemsChanged(selectedItems.*)"]}_isSelected(e){return this.selectedItems&&this._getItemIndexInArray(e,this.selectedItems)>-1}selectItem(e){this._isSelected(e)||this.push("selectedItems",e)}deselectItem(e){const t=this._getItemIndexInArray(e,this.selectedItems);t>-1&&this.splice("selectedItems",t,1)}_toggleItem(e){-1===this._getItemIndexInArray(e,this.selectedItems)?this.selectItem(e):this.deselectItem(e)}_selectedItemsChanged(e){!this.$.items.children.length||"selectedItems"!==e.path&&"selectedItems.splices"!==e.path||Array.from(this.$.items.children).forEach((e=>{this._updateItem(e,e._item)}))}_selectedInstanceChangedCallback(e,t){t?this.selectItem(e.item):this.deselectItem(e.item)}},Vt=e=>class extends e{static get properties(){return{multiSort:{type:Boolean,value:!1},_sorters:{type:Array,value:function(){return[]}},_previousSorters:{type:Array,value:function(){return[]}}}}ready(){super.ready(),this.addEventListener("sorter-changed",this._onSorterChanged)}_onSorterChanged(e){const t=e.target;this._removeArrayItem(this._sorters,t),t._order=null,this.multiSort?(t.direction&&this._sorters.unshift(t),this._sorters.forEach(((e,t)=>e._order=this._sorters.length>1?t:null),this)):t.direction&&(this._sorters.forEach((e=>{e._order=null,e.direction=null})),this._sorters=[t]),e.stopPropagation(),this.dataProvider&&JSON.stringify(this._previousSorters)!==JSON.stringify(this._mapSorters())&&this.clearCache(),this._a11yUpdateSorters(),this._previousSorters=this._mapSorters()}_mapSorters(){return this._sorters.map((e=>({path:e.path,direction:e.direction})))}_removeArrayItem(e,t){const i=e.indexOf(t);i>-1&&e.splice(i,1)}},Ut=e=>class extends e{static get properties(){return{cellClassNameGenerator:Function}}static get observers(){return["__cellClassNameGeneratorChanged(cellClassNameGenerator)"]}__cellClassNameGeneratorChanged(){this.generateCellClassNames()}generateCellClassNames(){Array.from(this.$.items.children).filter((e=>!e.hidden)).forEach((e=>this._generateCellClassNames(e,this.__getRowModel(e))))}_generateCellClassNames(e,t){Array.from(e.children).forEach((e=>{if(e.__generatedClasses&&e.__generatedClasses.forEach((t=>e.classList.remove(t))),this.cellClassNameGenerator){const i=this.cellClassNameGenerator(e._column,t);e.__generatedClasses=i&&i.split(" ").filter((e=>e.length>0)),e.__generatedClasses&&e.__generatedClasses.forEach((t=>e.classList.add(t)))}}))}},Gt="between",Zt="on-top-or-between",Ht="on-grid",Wt="on-top",qt="above",$t="below",Jt="empty",Yt=e=>class extends e{static get properties(){return{dropMode:String,rowsDraggable:Boolean,dragFilter:Function,dropFilter:Function,__dndAutoScrollThreshold:{value:50}}}static get observers(){return["_dragDropAccessChanged(rowsDraggable, dropMode, dragFilter, dropFilter)"]}ready(){super.ready(),this.$.table.addEventListener("dragstart",this._onDragStart.bind(this)),this.$.table.addEventListener("dragend",this._onDragEnd.bind(this)),this.$.table.addEventListener("dragover",this._onDragOver.bind(this)),this.$.table.addEventListener("dragleave",this._onDragLeave.bind(this)),this.$.table.addEventListener("drop",this._onDrop.bind(this)),this.$.table.addEventListener("dragenter",(e=>{this.dropMode&&(e.preventDefault(),e.stopPropagation())}))}_onDragStart(e){if(this.rowsDraggable){let t=e.target;if("vaadin-grid-cell-content"===t.localName&&(t=t.assignedSlot.parentNode.parentNode),t.parentNode!==this.$.items)return;if(e.stopPropagation(),this._toggleAttribute("dragging-rows",!0,this),this._safari){const e=t.style.transform;t.style.top=/translateY\((.*)\)/.exec(e)[1],t.style.transform="none",requestAnimationFrame((()=>{t.style.top="",t.style.transform=e}))}const i=t.getBoundingClientRect();this._ios?e.dataTransfer.setDragImage(t):e.dataTransfer.setDragImage(t,e.clientX-i.left,e.clientY-i.top);let r=[t];this._isSelected(t._item)&&(r=this.__getViewportRows().filter((e=>this._isSelected(e._item))).filter((e=>!this.dragFilter||this.dragFilter(this.__getRowModel(e))))),e.dataTransfer.setData("text",this.__formatDefaultTransferData(r)),t.setAttribute("dragstart",r.length>1?r.length:""),this.updateStyles({"--_grid-drag-start-x":e.clientX-i.left+20+"px","--_grid-drag-start-y":e.clientY-i.top+10+"px"}),requestAnimationFrame((()=>{t.removeAttribute("dragstart"),this.updateStyles({"--_grid-drag-start-x":"","--_grid-drag-start-y":""})}));const n=new CustomEvent("grid-dragstart",{detail:{draggedItems:r.map((e=>e._item)),setDragData:(t,i)=>e.dataTransfer.setData(t,i),setDraggedItemsCount:e=>t.setAttribute("dragstart",e)}});n.originalEvent=e,this.dispatchEvent(n)}}_onDragEnd(e){this._toggleAttribute("dragging-rows",!1,this),e.stopPropagation();const t=new CustomEvent("grid-dragend");t.originalEvent=e,this.dispatchEvent(t)}_onDragLeave(e){e.stopPropagation(),this._clearDragStyles()}_onDragOver(e){if(this.dropMode){if(this._dropLocation=void 0,this._dragOverItem=void 0,this.__dndAutoScroll(e.clientY))return void this._clearDragStyles();let t=e.composedPath().filter((e=>"tr"===e.localName))[0];if(this._effectiveSize&&this.dropMode!==Ht)if(t&&t.parentNode===this.$.items){const i=t.getBoundingClientRect();if(this._dropLocation=Wt,this.dropMode===Gt){const t=e.clientY-i.top<i.bottom-e.clientY;this._dropLocation=t?qt:$t}else this.dropMode===Zt&&(e.clientY-i.top<i.height/3?this._dropLocation=qt:e.clientY-i.top>i.height/3*2&&(this._dropLocation=$t))}else{if(t)return;if(this.dropMode!==Gt&&this.dropMode!==Zt)return;t=Array.from(this.$.items.children).filter((e=>!e.hidden)).pop(),this._dropLocation=$t}else this._dropLocation=Jt;if(t&&t.hasAttribute("drop-disabled"))return void(this._dropLocation=void 0);e.stopPropagation(),e.preventDefault(),this._dropLocation===Jt?this._toggleAttribute("dragover",!0,this):t?(this._dragOverItem=t._item,t.getAttribute("dragover")!==this._dropLocation&&t.setAttribute("dragover",this._dropLocation)):this._clearDragStyles()}}__dndAutoScroll(e){if(this.__dndAutoScrolling)return!0;const t=this.$.header.getBoundingClientRect().bottom,i=this.$.footer.getBoundingClientRect().top,r=t-e+this.__dndAutoScrollThreshold,n=e-i+this.__dndAutoScrollThreshold;let s=0;if(n>0?s=2*n:r>0&&(s=2*-r),s){const e=this.$.table.scrollTop;this.$.table.scrollTop+=s;if(e!==this.$.table.scrollTop)return this.__dndAutoScrolling=!0,setTimeout((()=>this.__dndAutoScrolling=!1),20),this._scrollHandler(),!0}}__getViewportRows(){const e=this.$.header.getBoundingClientRect().bottom,t=this.$.footer.getBoundingClientRect().top;return Array.from(this.$.items.children).filter((i=>{const r=i.getBoundingClientRect();return r.bottom>e&&r.top<t}))}_clearDragStyles(){this.removeAttribute("dragover"),Array.from(this.$.items.children).forEach((e=>e.removeAttribute("dragover")))}_onDrop(e){if(this.dropMode){e.stopPropagation(),e.preventDefault();const t=e.dataTransfer.types&&Array.from(e.dataTransfer.types).map((t=>({type:t,data:e.dataTransfer.getData(t)})));this._clearDragStyles();const i=new CustomEvent("grid-drop",{bubbles:e.bubbles,cancelable:e.cancelable,detail:{dropTargetItem:this._dragOverItem,dropLocation:this._dropLocation,dragData:t}});i.originalEvent=e,this.dispatchEvent(i)}}__formatDefaultTransferData(e){return e.map((e=>Array.from(e.children).filter((e=>!e.hidden&&-1===e.getAttribute("part").indexOf("details-cell"))).sort(((e,t)=>e._column._order>t._column._order?1:-1)).map((e=>e._content.textContent.trim())).filter((e=>e)).join("\t"))).join("\n")}_dragDropAccessChanged(){this.filterDragAndDrop()}filterDragAndDrop(){Array.from(this.$.items.children).filter((e=>!e.hidden)).forEach((e=>{this._filterDragAndDrop(e,this.__getRowModel(e))}))}_filterDragAndDrop(e,t){const i=!this.rowsDraggable||this.dragFilter&&!this.dragFilter(t),r=!this.dropMode||this.dropFilter&&!this.dropFilter(t);Array.from(e.children).map((e=>e._content)).forEach((e=>{i?e.removeAttribute("draggable"):e.setAttribute("draggable",!0)})),this._toggleAttribute("drag-disabled",i,e),this._toggleAttribute("drop-disabled",r,e)}},Kt=e=>class extends e{static get properties(){return{_headerFocusable:{type:Object,observer:"_focusableChanged"},_itemsFocusable:{type:Object,observer:"_focusableChanged"},_footerFocusable:{type:Object,observer:"_focusableChanged"},_navigatingIsHidden:Boolean,_focusedItemIndex:{type:Number,value:0},_focusedColumnOrder:Number}}ready(){super.ready(),this._ios||this._android||(this.addEventListener("keydown",this._onKeyDown),this.addEventListener("keyup",this._onKeyUp),this.addEventListener("focusin",this._onFocusIn),this.addEventListener("focusout",this._onFocusOut),this.$.table.addEventListener("focusin",this._onCellFocusIn.bind(this)),this.$.table.addEventListener("focusout",this._onCellFocusOut.bind(this)),this.addEventListener("mousedown",(()=>{this._toggleAttribute("navigating",!1,this),this._isMousedown=!0})),this.addEventListener("mouseup",(()=>this._isMousedown=!1)))}_focusableChanged(e,t){t&&t.setAttribute("tabindex","-1"),e&&e.setAttribute("tabindex","0")}_onKeyDown(e){const t=e.key;let i;switch(t){case"ArrowUp":case"ArrowDown":case"ArrowLeft":case"ArrowRight":case"PageUp":case"PageDown":case"Home":case"End":i="Navigation";break;case"Enter":case"Escape":case"F2":i="Interaction";break;case"Tab":i="Tab";break;case" ":i="Space"}this._detectInteracting(e),this.hasAttribute("interacting")&&"Interaction"!==i&&(i=void 0),i&&this[`_on${i}KeyDown`](e,t)}_ensureScrolledToIndex(e){Array.from(this.$.items.children).filter((t=>t.index===e))[0]||this._scrollToIndex(e)}_onNavigationKeyDown(e,t){function i(e){return Array.prototype.indexOf.call(e.parentNode.children,e)}this._scrollHandler(),e.preventDefault();const r=this._lastVisibleIndex-this._firstVisibleIndex-1;let n=0,s=0;switch(t){case"ArrowRight":n=this.__isRTL?-1:1;break;case"ArrowLeft":n=this.__isRTL?1:-1;break;case"Home":n=-1/0,e.ctrlKey&&(s=-1/0);break;case"End":n=1/0,e.ctrlKey&&(s=1/0);break;case"ArrowDown":s=1;break;case"ArrowUp":s=-1;break;case"PageDown":s=r;break;case"PageUp":s=-r}const o=e.composedPath()[0],a=i(o),l=this._elementMatches(o,'[part~="details-cell"]'),c=o.parentNode,h=c.parentNode,d=(h===this.$.items?this._effectiveSize:h.children.length)-1,u=h===this.$.items?void 0!==this._focusedItemIndex?this._focusedItemIndex:c.index:i(c);let p=Math.max(0,Math.min(u+s,d)),f=!1;if(h===this.$.items){const e=c._item,t=this._cache.getItemForIndex(p);f=l?0===s:1===s&&this._isDetailsOpened(e)||-1===s&&p!==u&&this._isDetailsOpened(t),f!==l&&(1===s&&f||-1===s&&!f)&&(p=u)}if(h!==this.$.items)if(p>u)for(;p<d&&h.children[p].hidden;)p++;else if(p<u)for(;p>0&&h.children[p].hidden;)p--;void 0===this._focusedColumnOrder&&(this._focusedColumnOrder=l?0:this._getColumns(h,u).filter((e=>!e.hidden))[a]._order);const m=this._getColumns(h,p).filter((e=>!e.hidden)),_=m.map((e=>e._order)).sort(((e,t)=>e-t)),g=_.length-1,y=_.indexOf(_.slice(0).sort(((e,t)=>Math.abs(e-this._focusedColumnOrder)-Math.abs(t-this._focusedColumnOrder)))[0]),v=0===s&&l?y:Math.max(0,Math.min(y+n,g));v!==y&&(this._focusedColumnOrder=void 0),h===this.$.items&&this._ensureScrolledToIndex(p),this._toggleAttribute("navigating",!0,this);const b=m.reduce(((e,t,i)=>(e[t._order]=i,e)),{})[_[v]],w=h===this.$.items?Array.from(h.children).filter((e=>e.index===p))[0]:h.children[p];if(!w)return;const x=f?Array.from(w.children).filter((e=>this._elementMatches(e,'[part~="details-cell"]')))[0]:w.children[b];if(this._scrollHorizontallyToCell(x),h===this.$.items&&(this._focusedItemIndex=p),h===this.$.items){const e=x.getBoundingClientRect(),t=this.$.footer.getBoundingClientRect().top,i=this.$.header.getBoundingClientRect().bottom;e.bottom>t?(this.$.table.scrollTop+=e.bottom-t,this._scrollHandler()):e.top<i&&(this.$.table.scrollTop-=i-e.top,this._scrollHandler())}x.focus()}_parseEventPath(e){const t=e.indexOf(this.$.table);return{rowGroup:e[t-1],row:e[t-2],cell:e[t-3]}}_onInteractionKeyDown(e,t){const i=e.composedPath()[0],r="input"===i.localName&&!/^(button|checkbox|color|file|image|radio|range|reset|submit)$/i.test(i.type);let n;switch(t){case"Enter":n=!this.hasAttribute("interacting")||!r;break;case"Escape":n=!1;break;case"F2":n=!this.hasAttribute("interacting")}const{cell:s}=this._parseEventPath(e.composedPath());if(this.hasAttribute("interacting")!==n)if(n){const t=s._content.querySelector("[focus-target]")||s._content.firstElementChild;t&&(e.preventDefault(),t.focus(),this._toggleAttribute("interacting",!0,this),this._toggleAttribute("navigating",!1,this))}else e.preventDefault(),this._focusedColumnOrder=void 0,s.focus(),this._toggleAttribute("interacting",!1,this),this._toggleAttribute("navigating",!0,this)}_predictFocusStepTarget(e,t){const i=[this.$.table,this._headerFocusable,this._itemsFocusable,this._footerFocusable,this.$.focusexit];let r=i.indexOf(e);for(r+=t;r>=0&&r<=i.length-1&&(!i[r]||i[r].parentNode.hidden);)r+=t;return i[r]}_onTabKeyDown(e){const t=this._predictFocusStepTarget(e.composedPath()[0],e.shiftKey?-1:1);if(t===this.$.table)this.$.table.focus();else if(t===this.$.focusexit)this.$.focusexit.focus();else if(t===this._itemsFocusable){let i=t;const r=this._itemsFocusable.parentNode;if(this._ensureScrolledToIndex(this._focusedItemIndex),r.index!==this._focusedItemIndex){const e=Array.from(r.children).indexOf(this._itemsFocusable),t=Array.from(this.$.items.children).filter((e=>e.index===this._focusedItemIndex))[0];t&&(i=t.children[e])}e.preventDefault(),i.focus()}else e.preventDefault(),t.focus();this._toggleAttribute("navigating",!0,this)}_onSpaceKeyDown(e){e.preventDefault();const t=e.composedPath()[0];t._content&&t._content.firstElementChild||this.dispatchEvent(new CustomEvent("cell-activate",{detail:{model:this.__getRowModel(t.parentElement)}}))}_onKeyUp(e){if(!/^( |SpaceBar)$/.test(e.key))return;e.preventDefault();const t=e.composedPath()[0];if(t._content&&t._content.firstElementChild){const e=this.hasAttribute("navigating");t._content.firstElementChild.click(),this._toggleAttribute("navigating",e,this)}}_onFocusIn(e){this._isMousedown||this._toggleAttribute("navigating",!0,this);const t=e.composedPath()[0];t===this.$.table||t===this.$.focusexit?(this._predictFocusStepTarget(t,t===this.$.table?1:-1).focus(),this._toggleAttribute("interacting",!1,this)):this._detectInteracting(e)}_onFocusOut(e){this._toggleAttribute("navigating",!1,this),this._detectInteracting(e)}_onCellFocusIn(e){if(this._detectInteracting(e),3===e.composedPath().indexOf(this.$.table)){const t=e.composedPath()[0];this._activeRowGroup=t.parentNode.parentNode,this._activeRowGroup===this.$.header?this._headerFocusable=t:this._activeRowGroup===this.$.items?this._itemsFocusable=t:this._activeRowGroup===this.$.footer&&(this._footerFocusable=t),t._content.dispatchEvent(new CustomEvent("cell-focusin",{bubbles:!1}))}this._detectFocusedItemIndex(e)}_onCellFocusOut(e){if(3===e.composedPath().indexOf(this.$.table)){e.composedPath()[0]._content.dispatchEvent(new CustomEvent("cell-focusout",{bubbles:!1}))}}_detectInteracting(e){this._toggleAttribute("interacting",e.composedPath().some((e=>"vaadin-grid-cell-content"===e.localName)),this)}_detectFocusedItemIndex(e){const{rowGroup:t,row:i}=this._parseEventPath(e.composedPath());t===this.$.items&&(this._focusedItemIndex=i.index)}_preventScrollerRotatingCellFocus(e,t){e.index===this._focusedItemIndex&&this.hasAttribute("navigating")&&this._activeRowGroup===this.$.items&&(this._navigatingIsHidden=!0,this._toggleAttribute("navigating",!1,this)),t===this._focusedItemIndex&&this._navigatingIsHidden&&(this._navigatingIsHidden=!1,this._toggleAttribute("navigating",!0,this))}_getColumns(e,t){let i=this._columnTree.length-1;return e===this.$.header?i=t:e===this.$.footer&&(i=this._columnTree.length-1-t),this._columnTree[i]}_resetKeyboardNavigation(){if(this.$.header.firstElementChild&&(this._headerFocusable=Array.from(this.$.header.firstElementChild.children).filter((e=>!e.hidden))[0]),this.$.items.firstElementChild){const e=this._iterateItems(((e,t)=>{if(this._firstVisibleIndex===t)return this.$.items.children[e]}));e&&(this._itemsFocusable=Array.from(e.children).filter((e=>!e.hidden))[0])}this.$.footer.firstElementChild&&(this._footerFocusable=Array.from(this.$.footer.firstElementChild.children).filter((e=>!e.hidden))[0])}_scrollHorizontallyToCell(e){if(e.hasAttribute("frozen")||this._elementMatches(e,'[part~="details-cell"]'))return;const t=e.getBoundingClientRect(),i=e.parentNode,r=Array.from(i.children).indexOf(e),n=this.$.table.getBoundingClientRect();let s=n.left,o=n.right;for(let e=r-1;e>=0;e--){const t=i.children[e];if(!t.hasAttribute("hidden")&&!this._elementMatches(t,'[part~="details-cell"]')&&t.hasAttribute("frozen")){s=t.getBoundingClientRect().right;break}}for(let e=r+1;e<i.children.length;e++){const t=i.children[e];if(!t.hasAttribute("hidden")&&!this._elementMatches(t,'[part~="details-cell"]')&&t.hasAttribute("frozen")){o=t.getBoundingClientRect().left;break}}t.left<s&&(this.$.table.scrollLeft+=Math.round(t.left-s)),t.right>o&&(this.$.table.scrollLeft+=Math.round(t.right-o))}_elementMatches(e,t){return e.matches?e.matches(t):-1!==Array.from(e.parentNode.querySelectorAll(t)).indexOf(e)}},Xt=e=>class extends((0,s._)(e)){static get properties(){return{columnReorderingAllowed:{type:Boolean,value:!1},_orderBaseScope:{type:Number,value:1e7}}}static get observers(){return["_updateOrders(_columnTree, _columnTree.*)"]}ready(){super.ready(),(0,De.NH)(this,"track",this._onTrackEvent),this._reorderGhost=this.shadowRoot.querySelector('[part="reorder-ghost"]'),this.addEventListener("touchstart",this._onTouchStart.bind(this)),this.addEventListener("touchmove",this._onTouchMove.bind(this)),this.addEventListener("touchend",this._onTouchEnd.bind(this)),this.addEventListener("contextmenu",this._onContextMenu.bind(this))}_onContextMenu(e){this.hasAttribute("reordering")&&e.preventDefault()}_onTouchStart(e){this._startTouchReorderTimeout=setTimeout((()=>{this._onTrackStart({detail:{x:e.touches[0].clientX,y:e.touches[0].clientY}})}),100)}_onTouchMove(e){this._draggedColumn&&e.preventDefault(),clearTimeout(this._startTouchReorderTimeout)}_onTouchEnd(){clearTimeout(this._startTouchReorderTimeout),this._onTrackEnd()}_onTrackEvent(e){if("start"===e.detail.state){const t=e.composedPath(),i=t[t.indexOf(this.$.header)-2];if(!i||!i._content)return;if(i._content.contains(this.getRootNode().activeElement))return;if(this.$.scroller.hasAttribute("column-resizing"))return;this._touchDevice||this._onTrackStart(e)}else"track"===e.detail.state?this._onTrack(e):"end"===e.detail.state&&this._onTrackEnd(e)}_onTrackStart(e){if(!this.columnReorderingAllowed)return;const t=e.composedPath&&e.composedPath();if(t&&t.filter((e=>e.hasAttribute&&e.hasAttribute("draggable")))[0])return;const i=this._cellFromPoint(e.detail.x,e.detail.y);if(i&&-1!==i.getAttribute("part").indexOf("header-cell")){for(this._toggleAttribute("reordering",!0,this),this._draggedColumn=i._column;1===this._draggedColumn.parentElement.childElementCount;)this._draggedColumn=this._draggedColumn.parentElement;this._setSiblingsReorderStatus(this._draggedColumn,"allowed"),this._draggedColumn._reorderStatus="dragging",this._updateGhost(i),this._reorderGhost.style.visibility="visible",this._updateGhostPosition(e.detail.x,this._touchDevice?e.detail.y-50:e.detail.y),this._autoScroller()}}_onTrack(e){if(!this._draggedColumn)return;const t=this._cellFromPoint(e.detail.x,e.detail.y);if(!t)return;const i=this._getTargetColumn(t,this._draggedColumn);this._isSwapAllowed(this._draggedColumn,i)&&this._isSwappableByPosition(i,e.detail.x)&&this._swapColumnOrders(this._draggedColumn,i),this._updateGhostPosition(e.detail.x,this._touchDevice?e.detail.y-50:e.detail.y),this._lastDragClientX=e.detail.x}_onTrackEnd(){this._draggedColumn&&(this._toggleAttribute("reordering",!1,this),this._draggedColumn._reorderStatus="",this._setSiblingsReorderStatus(this._draggedColumn,""),this._draggedColumn=null,this._lastDragClientX=null,this._reorderGhost.style.visibility="hidden",this.dispatchEvent(new CustomEvent("column-reorder",{detail:{columns:this._getColumnsInOrder()}})))}_getColumnsInOrder(){return this._columnTree.slice(0).pop().filter((e=>!e.hidden)).sort(((e,t)=>e._order-t._order))}_cellFromPoint(e,t){e=e||0,t=t||0,this._draggedColumn||this._toggleAttribute("no-content-pointer-events",!0,this.$.scroller);const i=this.shadowRoot.elementFromPoint(e,t);if(this._toggleAttribute("no-content-pointer-events",!1,this.$.scroller),i&&i._column)return i}_updateGhostPosition(e,t){const i=this._reorderGhost.getBoundingClientRect(),r=e-i.width/2,n=t-i.height/2,s=parseInt(this._reorderGhost._left||0),o=parseInt(this._reorderGhost._top||0);this._reorderGhost._left=s-(i.left-r),this._reorderGhost._top=o-(i.top-n),this._reorderGhost.style.transform=`translate(${this._reorderGhost._left}px, ${this._reorderGhost._top}px)`}_updateGhost(e){const t=this._reorderGhost;t.textContent=e._content.innerText;const i=window.getComputedStyle(e);return["boxSizing","display","width","height","background","alignItems","padding","border","flex-direction","overflow"].forEach((e=>t.style[e]=i[e])),t}_updateOrders(e,t){void 0!==e&&void 0!==t&&(e[0].forEach((e=>e._order=0)),e[0].forEach(((e,t)=>e._order=(t+1)*this._orderBaseScope)))}_setSiblingsReorderStatus(e,t){Array.from(e.parentNode.children).filter((t=>/column/.test(t.localName)&&this._isSwapAllowed(t,e))).forEach((e=>e._reorderStatus=t))}_autoScroller(){if(this._lastDragClientX){const e=this._lastDragClientX-this.getBoundingClientRect().right+50,t=this.getBoundingClientRect().left-this._lastDragClientX+50;e>0?this.$.table.scrollLeft+=e/10:t>0&&(this.$.table.scrollLeft-=t/10),this._scrollHandler()}this._draggedColumn&&this.async(this._autoScroller,10)}_isSwapAllowed(e,t){if(e&&t){const i=e!==t,r=e.parentElement===t.parentElement,n=e.frozen===t.frozen;return i&&r&&n}}_isSwappableByPosition(e,t){const i=Array.from(this.$.header.querySelectorAll('tr:not([hidden]) [part~="cell"]')).filter((t=>e.contains(t._column)))[0],r=this.$.header.querySelector("tr:not([hidden]) [reorder-status=dragging]").getBoundingClientRect(),n=i.getBoundingClientRect();return n.left>r.left?t>n.right-r.width:t<n.left+r.width}_swapColumnOrders(e,t){const i=e._order;e._order=t._order,t._order=i,this._updateLastFrozen(),this._updateFirstAndLastColumn()}_getTargetColumn(e,t){if(e&&t){let i=e._column;for(;i.parentElement!==t.parentElement&&i!==this;)i=i.parentElement;return i.parentElement===t.parentElement?i:e._column}}};i(95609);(0,r.hC)("vaadin-grid",r.iv`
    @keyframes vaadin-grid-appear {
      to {
        opacity: 1;
      }
    }

    :host {
      display: block;
      animation: 1ms vaadin-grid-appear;
      height: 400px;
      flex: 1 1 auto;
      align-self: stretch;
      position: relative;
    }

    :host([hidden]) {
      display: none !important;
    }

    #scroller {
      display: block;
      transform: translateY(0);
      width: auto;
      height: auto;
      position: absolute;
      top: 0;
      right: 0;
      bottom: 0;
      left: 0;
    }

    :host([height-by-rows]) {
      height: auto;
      align-self: flex-start;
      flex-grow: 0;
      width: 100%;
    }

    :host([height-by-rows]) #scroller {
      width: 100%;
      height: 100%;
      position: relative;
    }

    #table {
      display: flex;
      flex-direction: column;
      width: 100%;
      height: 100%;
      overflow: auto;
      position: relative;
      outline: none;
      /* Workaround for a Desktop Safari bug: new stacking context here prevents the scrollbar from getting hidden */
      z-index: 0;
    }

    #header,
    #footer {
      display: block;
      position: -webkit-sticky;
      position: sticky;
      left: 0;
      overflow: visible;
      width: 100%;
      z-index: 1;
    }

    #header {
      top: 0;
    }

    th {
      text-align: inherit;
    }

    /* Safari doesn't work with "inherit" */
    [safari] th {
      text-align: initial;
    }

    #footer {
      bottom: 0;
    }

    #items {
      flex-grow: 1;
      flex-shrink: 0;
      display: block;
      position: -webkit-sticky;
      position: sticky;
      width: 100%;
      left: 0;
      overflow: visible;
    }

    [part~='row'] {
      display: flex;
      width: 100%;
      box-sizing: border-box;
      margin: 0;
    }

    [part~='row'][loading] [part~='body-cell'] ::slotted(vaadin-grid-cell-content) {
      opacity: 0;
    }

    #items [part~='row'] {
      position: absolute;
    }

    #items [part~='row']:empty {
      height: 1em;
    }

    [part~='cell']:not([part~='details-cell']) {
      flex-shrink: 0;
      flex-grow: 1;
      box-sizing: border-box;
      display: flex;
      width: 100%;
      position: relative;
      align-items: center;
      padding: 0;
      white-space: nowrap;
    }

    [part~='details-cell'] {
      position: absolute;
      bottom: 0;
      width: 100%;
      box-sizing: border-box;
      padding: 0;
    }

    [part~='cell'] ::slotted(vaadin-grid-cell-content) {
      display: block;
      width: 100%;
      box-sizing: border-box;
      overflow: hidden;
      text-overflow: ellipsis;
    }

    [hidden] {
      display: none !important;
    }

    [frozen] {
      z-index: 2;
      will-change: transform;
    }

    [no-scrollbars][safari] #table,
    [no-scrollbars][firefox] #table {
      overflow: hidden;
    }

    /* Reordering styles */
    :host([reordering]) [part~='cell'] ::slotted(vaadin-grid-cell-content),
    :host([reordering]) [part~='resize-handle'],
    #scroller[no-content-pointer-events] [part~='cell'] ::slotted(vaadin-grid-cell-content) {
      pointer-events: none;
    }

    [part~='reorder-ghost'] {
      visibility: hidden;
      position: fixed;
      pointer-events: none;
      opacity: 0.5;

      /* Prevent overflowing the grid in Firefox */
      top: 0;
      left: 0;
    }

    :host([reordering]) {
      -moz-user-select: none;
      -webkit-user-select: none;
      user-select: none;
    }

    /* Resizing styles */
    [part~='resize-handle'] {
      position: absolute;
      top: 0;
      right: 0;
      height: 100%;
      cursor: col-resize;
      z-index: 1;
    }

    [part~='resize-handle']::before {
      position: absolute;
      content: '';
      height: 100%;
      width: 35px;
      transform: translateX(-50%);
    }

    [last-column] [part~='resize-handle']::before,
    [last-frozen] [part~='resize-handle']::before {
      width: 18px;
      transform: none;
      right: 0;
    }

    #scroller[column-resizing] {
      -ms-user-select: none;
      -moz-user-select: none;
      -webkit-user-select: none;
      user-select: none;
    }

    /* Sizer styles */
    #sizer {
      display: flex;
      position: absolute;
      visibility: hidden;
    }

    #sizer [part~='details-cell'] {
      display: none !important;
    }

    #sizer [part~='cell'][hidden] {
      display: none !important;
    }

    #sizer [part~='cell'] {
      display: block;
      flex-shrink: 0;
      line-height: 0;
      height: 0 !important;
      min-height: 0 !important;
      max-height: 0 !important;
      padding: 0 !important;
      border: none !important;
    }

    #sizer [part~='cell']::before {
      content: '-';
    }

    #sizer [part~='cell'] ::slotted(vaadin-grid-cell-content) {
      display: none !important;
    }

    /* RTL specific styles */

    :host([dir='rtl']) #items,
    :host([dir='rtl']) #header,
    :host([dir='rtl']) #footer {
      left: auto;
    }

    :host([dir='rtl']) [part~='reorder-ghost'] {
      left: auto;
      right: 0;
    }

    :host([dir='rtl']) [part~='resize-handle'] {
      left: 0;
      right: auto;
    }

    :host([dir='rtl']) [part~='resize-handle']::before {
      transform: translateX(50%);
    }

    :host([dir='rtl']) [last-column] [part~='resize-handle']::before,
    :host([dir='rtl']) [last-frozen] [part~='resize-handle']::before {
      left: 0;
      right: auto;
    }
  `,{moduleId:"vaadin-grid-styles"});const Qt=(()=>{try{return document.createEvent("TouchEvent"),!0}catch(e){return!1}})();class ei extends((0,l.S)((0,o.T)(Et(Ot(Mt(Tt(jt(Bt(Vt(Dt(Kt(At(Nt(Xt(Pt(Rt(Yt(Ut(St))))))))))))))))))){static get template(){return h.d`
      <div
        id="scroller"
        safari$="[[_safari]]"
        ios$="[[_ios]]"
        loading$="[[loading]]"
        column-reordering-allowed$="[[columnReorderingAllowed]]"
      >
        <table id="table" role="grid" aria-multiselectable="true" tabindex="0">
          <caption id="sizer" part="row"></caption>
          <thead id="header" role="rowgroup"></thead>
          <tbody id="items" role="rowgroup"></tbody>
          <tfoot id="footer" role="rowgroup"></tfoot>
        </table>

        <div part="reorder-ghost"></div>
      </div>

      <div id="focusexit" tabindex="0"></div>
    `}static get is(){return"vaadin-grid"}static get version(){return"6.0.1"}static get observers(){return["_columnTreeChanged(_columnTree, _columnTree.*)"]}static get properties(){return{_safari:{type:Boolean,value:/^((?!chrome|android).)*safari/i.test(navigator.userAgent)},_ios:{type:Boolean,value:/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1},_firefox:{type:Boolean,value:navigator.userAgent.toLowerCase().indexOf("firefox")>-1},_android:{type:Boolean,value:/android/i.test(navigator.userAgent)},_touchDevice:{type:Boolean,value:Qt},heightByRows:{type:Boolean,value:!1,reflectToAttribute:!0,observer:"_heightByRowsChanged"},_recalculateColumnWidthOnceLoadingFinished:{type:Boolean,value:!0}}}constructor(){super(),this.addEventListener("animationend",this._onAnimationEnd)}connectedCallback(){super.connectedCallback(),this.recalculateColumnWidths()}attributeChangedCallback(e,t,i){super.attributeChangedCallback(e,t,i),"dir"===e&&(this.__isRTL="rtl"===i,this._updateScrollerMeasurements())}__hasRowsWithClientHeight(){return!!Array.from(this.$.items.children).filter((e=>e.clientHeight)).length}__itemsReceived(){this._recalculateColumnWidthOnceLoadingFinished&&!this._cache.isLoading()&&this.__hasRowsWithClientHeight()&&(this._recalculateColumnWidthOnceLoadingFinished=!1,this.recalculateColumnWidths())}_recalculateColumnWidths(e){e.forEach((e=>{e.width="auto",e._origFlexGrow=e.flexGrow,e.flexGrow=0})),e.forEach((e=>{e._currentWidth=0,e._allCells.forEach((t=>{const i=t.offsetWidth+1;e._currentWidth=Math.max(e._currentWidth,i)}))})),e.forEach((e=>{e.width=`${e._currentWidth}px`,e.flexGrow=e._origFlexGrow,e._currentWidth=void 0,e._origFlexGrow=void 0}))}recalculateColumnWidths(){if(this._columnTree)if(this._cache.isLoading())this._recalculateColumnWidthOnceLoadingFinished=!0;else{const e=this._getColumns().filter((e=>!e.hidden&&e.autoWidth));this._recalculateColumnWidths(e)}}_createScrollerRows(e){const t=[];for(let i=0;i<e;i++){const e=document.createElement("tr");e.setAttribute("part","row"),e.setAttribute("role","row"),this._columnTree&&this._updateRow(e,this._columnTree[this._columnTree.length-1],"body",!1,!0),t.push(e)}var i,r,n;return this._columnTree&&this._columnTree[this._columnTree.length-1].forEach((e=>e.notifyPath&&e.notifyPath("_cells.*",e._cells))),i=this,r=()=>{this._updateFirstAndLastColumn(),this._resetKeyboardNavigation()},d||f(),u.push([i,r,n]),t}_getRowTarget(){return this.$.items}_createCell(e){const t="vaadin-grid-cell-content-"+(this._contentIndex=this._contentIndex+1||0),i=document.createElement("vaadin-grid-cell-content");i.setAttribute("slot",t);const r=document.createElement(e);r.id=t.replace("-content-","-"),r.setAttribute("tabindex","-1"),r.setAttribute("role","td"===e?"gridcell":"columnheader");const n=document.createElement("slot");return n.setAttribute("name",t),r.appendChild(n),r._content=i,i.addEventListener("mousedown",(()=>{if(window.chrome){const e=()=>{i.contains(this.getRootNode().activeElement)||r.focus(),document.removeEventListener("mouseup",e,!0)};document.addEventListener("mouseup",e,!0)}else setTimeout((()=>{i.contains(this.getRootNode().activeElement)||r.focus()}))})),r}_updateRow(e,t,i,r,n){i=i||"body";const s=document.createDocumentFragment();Array.from(e.children).forEach((e=>e._vacant=!0)),e.innerHTML="","sizer"!==e.id&&(e.hidden=!0),t.filter((e=>!e.hidden)).forEach(((t,o,a)=>{let l;if("body"===i){if(t._cells=t._cells||[],l=t._cells.filter((e=>e._vacant))[0],l||(l=this._createCell("td"),t._cells.push(l)),l.setAttribute("part","cell body-cell"),e.appendChild(l),o===a.length-1&&(this._rowDetailsTemplate||this.rowDetailsRenderer)){this._detailsCells=this._detailsCells||[];const t=this._detailsCells.filter((e=>e._vacant))[0]||this._createCell("td");-1===this._detailsCells.indexOf(t)&&this._detailsCells.push(t),t._content.parentElement||s.appendChild(t._content),this._configureDetailsCell(t),e.appendChild(t),this._a11ySetRowDetailsCell(e,t),t._vacant=!1}t.notifyPath&&!n&&t.notifyPath("_cells.*",t._cells)}else{const n="header"===i?"th":"td";r||"vaadin-grid-column-group"===t.localName?(l=t[`_${i}Cell`]||this._createCell(n),l._column=t,e.appendChild(l),t[`_${i}Cell`]=l):(t._emptyCells=t._emptyCells||[],l=t._emptyCells.filter((e=>e._vacant))[0]||this._createCell(n),l._column=t,e.appendChild(l),-1===t._emptyCells.indexOf(l)&&t._emptyCells.push(l)),l.setAttribute("part",`cell ${i}-cell`),this.__updateHeaderFooterRowVisibility(e)}l._content.parentElement||s.appendChild(l._content),l._vacant=!1,l._column=t})),this.appendChild(s),this._frozenCellsChanged(),this._updateFirstAndLastColumnForRow(e)}__updateHeaderFooterRowVisibility(e){if(!e)return;const t=Array.from(e.children).filter((t=>{const i=t._column;if(i._emptyCells&&i._emptyCells.indexOf(t)>-1)return!1;if(e.parentElement===this.$.header){if(i.headerRenderer||i._headerTemplate)return!0;if(null===i.header)return!1;if(i.path||void 0!==i.header)return!0}else if(i.footerRenderer||i._footerTemplate)return!0}));e.hidden!==!t.length&&(e.hidden=!t.length,this.notifyResize())}_updateScrollerItem(e,t){this._preventScrollerRotatingCellFocus(e,t),this._columnTree&&(this._toggleAttribute("first",0===t,e),this._toggleAttribute("odd",t%2,e),this._a11yUpdateRowRowindex(e,t),this._getItem(t,e))}_columnTreeChanged(e){this._renderColumnTree(e),this.recalculateColumnWidths()}_renderColumnTree(e){for(Array.from(this.$.items.children).forEach((t=>this._updateRow(t,e[e.length-1],null,!1,!0)));this.$.header.children.length<e.length;){const e=document.createElement("tr");e.setAttribute("part","row"),e.setAttribute("role","row"),this.$.header.appendChild(e);const t=document.createElement("tr");t.setAttribute("part","row"),t.setAttribute("role","row"),this.$.footer.appendChild(t)}for(;this.$.header.children.length>e.length;)this.$.header.removeChild(this.$.header.firstElementChild),this.$.footer.removeChild(this.$.footer.firstElementChild);Array.from(this.$.header.children).forEach(((t,i)=>this._updateRow(t,e[i],"header",i===e.length-1))),Array.from(this.$.footer.children).forEach(((t,i)=>this._updateRow(t,e[e.length-1-i],"footer",0===i))),this._updateRow(this.$.sizer,e[e.length-1]),this._resizeHandler(),this._frozenCellsChanged(),this._updateFirstAndLastColumn(),this._resetKeyboardNavigation(),this._a11yUpdateHeaderRows(),this._a11yUpdateFooterRows(),this.__updateFooterPositioning()}__updateFooterPositioning(){if(this._firefox&&(this.$.items.style.paddingBottom=0,this.heightByRows||(this.$.items.style.paddingBottom=`${this.$.footer.offsetHeight}px`)),this._ios){!window.CSS.supports("position","sticky")&&(this.$.table.style.height="",this.$.table.style.minHeight="100%",this.$.table.style.maxHeight="100%",setTimeout((()=>this.$.table.style.height=`${this.$.scroller.offsetHeight}px`)))}}_updateItem(e,t){e._item=t;const i=this.__getRowModel(e);this._toggleAttribute("selected",i.selected,e),this._a11yUpdateRowSelected(e,i.selected),this._a11yUpdateRowLevel(e,i.level),this._toggleAttribute("expanded",i.expanded,e),(this._rowDetailsTemplate||this.rowDetailsRenderer)&&this._toggleDetailsCell(e,t),this._generateCellClassNames(e,i),this._filterDragAndDrop(e,i),Array.from(e.children).forEach((e=>{if(e._renderer){const t=e._column||this;e._renderer.call(t,e._content,t,i)}else e._instance&&(e._instance.__detailsOpened__=i.detailsOpened,e._instance.__selected__=i.selected,e._instance.__level__=i.level,e._instance.__expanded__=i.expanded,e._instance.setProperties(i))})),this._debouncerUpdateHeights=g.dx.debounce(this._debouncerUpdateHeights,y.Wc.after(1),(()=>{this._updateMetrics(),this._positionItems(),this._updateScrollerSize()}))}_resizeHandler(){this._updateDetailsCellHeights(),this._accessIronListAPI(super._resizeHandler,!0),this._updateScrollerMeasurements(),this.__updateFooterPositioning()}_onAnimationEnd(e){0===e.animationName.indexOf("vaadin-grid-appear")&&(this._render(),e.stopPropagation(),this.notifyResize(),this.__itemsReceived(),requestAnimationFrame((()=>{this.__scrollToPendingIndex(),this.$.table.style.webkitOverflowScrolling="touch"})))}_toggleAttribute(e,t,i){i.hasAttribute(e)===!t&&(t?i.setAttribute(e,""):i.removeAttribute(e))}__getRowModel(e){return{index:e.index,item:e._item,level:this._getIndexLevel(e.index),expanded:this._isExpanded(e._item),selected:this._isSelected(e._item),detailsOpened:!(!this._rowDetailsTemplate&&!this.rowDetailsRenderer)&&this._isDetailsOpened(e._item)}}render(){this._columnTree&&(this._columnTree.forEach((e=>{e.forEach((e=>e._renderHeaderAndFooter()))})),this._update())}notifyResize(){super.notifyResize()}_heightByRowsChanged(e,t){(e||t)&&this.notifyResize()}__forceReflow(){this._debouncerForceReflow=g.dx.debounce(this._debouncerForceReflow,y.rs,(()=>{this.$.scroller.style.overflow="hidden",setTimeout((()=>this.$.scroller.style.overflow=""))}))}}customElements.define(ei.is,ei)},18382:(e,t,i)=>{"use strict";i(67255),i(53269),i(64262);const r=document.createElement("template");r.innerHTML='<custom-style>\n  <style>\n    html {\n      /* Base (background) */\n      --lumo-base-color: #FFF;\n\n      /* Tint */\n      --lumo-tint-5pct: hsla(0, 0%, 100%, 0.3);\n      --lumo-tint-10pct: hsla(0, 0%, 100%, 0.37);\n      --lumo-tint-20pct: hsla(0, 0%, 100%, 0.44);\n      --lumo-tint-30pct: hsla(0, 0%, 100%, 0.5);\n      --lumo-tint-40pct: hsla(0, 0%, 100%, 0.57);\n      --lumo-tint-50pct: hsla(0, 0%, 100%, 0.64);\n      --lumo-tint-60pct: hsla(0, 0%, 100%, 0.7);\n      --lumo-tint-70pct: hsla(0, 0%, 100%, 0.77);\n      --lumo-tint-80pct: hsla(0, 0%, 100%, 0.84);\n      --lumo-tint-90pct: hsla(0, 0%, 100%, 0.9);\n      --lumo-tint: #FFF;\n\n      /* Shade */\n      --lumo-shade-5pct: hsla(214, 61%, 25%, 0.05);\n      --lumo-shade-10pct: hsla(214, 57%, 24%, 0.1);\n      --lumo-shade-20pct: hsla(214, 53%, 23%, 0.16);\n      --lumo-shade-30pct: hsla(214, 50%, 22%, 0.26);\n      --lumo-shade-40pct: hsla(214, 47%, 21%, 0.38);\n      --lumo-shade-50pct: hsla(214, 45%, 20%, 0.5);\n      --lumo-shade-60pct: hsla(214, 43%, 19%, 0.61);\n      --lumo-shade-70pct: hsla(214, 42%, 18%, 0.72);\n      --lumo-shade-80pct: hsla(214, 41%, 17%, 0.83);\n      --lumo-shade-90pct: hsla(214, 40%, 16%, 0.94);\n      --lumo-shade: hsl(214, 35%, 15%);\n\n      /* Contrast */\n      --lumo-contrast-5pct: var(--lumo-shade-5pct);\n      --lumo-contrast-10pct: var(--lumo-shade-10pct);\n      --lumo-contrast-20pct: var(--lumo-shade-20pct);\n      --lumo-contrast-30pct: var(--lumo-shade-30pct);\n      --lumo-contrast-40pct: var(--lumo-shade-40pct);\n      --lumo-contrast-50pct: var(--lumo-shade-50pct);\n      --lumo-contrast-60pct: var(--lumo-shade-60pct);\n      --lumo-contrast-70pct: var(--lumo-shade-70pct);\n      --lumo-contrast-80pct: var(--lumo-shade-80pct);\n      --lumo-contrast-90pct: var(--lumo-shade-90pct);\n      --lumo-contrast: var(--lumo-shade);\n\n      /* Text */\n      --lumo-header-text-color: var(--lumo-contrast);\n      --lumo-body-text-color: var(--lumo-contrast-90pct);\n      --lumo-secondary-text-color: var(--lumo-contrast-70pct);\n      --lumo-tertiary-text-color: var(--lumo-contrast-50pct);\n      --lumo-disabled-text-color: var(--lumo-contrast-30pct);\n\n      /* Primary */\n      --lumo-primary-color: hsl(214, 90%, 52%);\n      --lumo-primary-color-50pct: hsla(214, 90%, 52%, 0.5);\n      --lumo-primary-color-10pct: hsla(214, 90%, 52%, 0.1);\n      --lumo-primary-text-color: var(--lumo-primary-color);\n      --lumo-primary-contrast-color: #FFF;\n\n      /* Error */\n      --lumo-error-color: hsl(3, 100%, 61%);\n      --lumo-error-color-50pct: hsla(3, 100%, 60%, 0.5);\n      --lumo-error-color-10pct: hsla(3, 100%, 60%, 0.1);\n      --lumo-error-text-color: hsl(3, 92%, 53%);\n      --lumo-error-contrast-color: #FFF;\n\n      /* Success */\n      --lumo-success-color: hsl(145, 80%, 42%); /* hsl(144,82%,37%); */\n      --lumo-success-color-50pct: hsla(145, 76%, 44%, 0.55);\n      --lumo-success-color-10pct: hsla(145, 76%, 44%, 0.12);\n      --lumo-success-text-color: hsl(145, 100%, 32%);\n      --lumo-success-contrast-color: #FFF;\n    }\n  </style>\n</custom-style><dom-module id="lumo-color">\n  <template>\n    <style>\n      [theme~="dark"] {\n        /* Base (background) */\n        --lumo-base-color: hsl(214, 35%, 21%);\n\n        /* Tint */\n        --lumo-tint-5pct: hsla(214, 65%, 85%, 0.06);\n        --lumo-tint-10pct: hsla(214, 60%, 80%, 0.14);\n        --lumo-tint-20pct: hsla(214, 64%, 82%, 0.23);\n        --lumo-tint-30pct: hsla(214, 69%, 84%, 0.32);\n        --lumo-tint-40pct: hsla(214, 73%, 86%, 0.41);\n        --lumo-tint-50pct: hsla(214, 78%, 88%, 0.5);\n        --lumo-tint-60pct: hsla(214, 82%, 90%, 0.6);\n        --lumo-tint-70pct: hsla(214, 87%, 92%, 0.7);\n        --lumo-tint-80pct: hsla(214, 91%, 94%, 0.8);\n        --lumo-tint-90pct: hsla(214, 96%, 96%, 0.9);\n        --lumo-tint: hsl(214, 100%, 98%);\n\n        /* Shade */\n        --lumo-shade-5pct: hsla(214, 0%, 0%, 0.07);\n        --lumo-shade-10pct: hsla(214, 4%, 2%, 0.15);\n        --lumo-shade-20pct: hsla(214, 8%, 4%, 0.23);\n        --lumo-shade-30pct: hsla(214, 12%, 6%, 0.32);\n        --lumo-shade-40pct: hsla(214, 16%, 8%, 0.41);\n        --lumo-shade-50pct: hsla(214, 20%, 10%, 0.5);\n        --lumo-shade-60pct: hsla(214, 24%, 12%, 0.6);\n        --lumo-shade-70pct: hsla(214, 28%, 13%, 0.7);\n        --lumo-shade-80pct: hsla(214, 32%, 13%, 0.8);\n        --lumo-shade-90pct: hsla(214, 33%, 13%, 0.9);\n        --lumo-shade: hsl(214, 33%, 13%);\n\n        /* Contrast */\n        --lumo-contrast-5pct: var(--lumo-tint-5pct);\n        --lumo-contrast-10pct: var(--lumo-tint-10pct);\n        --lumo-contrast-20pct: var(--lumo-tint-20pct);\n        --lumo-contrast-30pct: var(--lumo-tint-30pct);\n        --lumo-contrast-40pct: var(--lumo-tint-40pct);\n        --lumo-contrast-50pct: var(--lumo-tint-50pct);\n        --lumo-contrast-60pct: var(--lumo-tint-60pct);\n        --lumo-contrast-70pct: var(--lumo-tint-70pct);\n        --lumo-contrast-80pct: var(--lumo-tint-80pct);\n        --lumo-contrast-90pct: var(--lumo-tint-90pct);\n        --lumo-contrast: var(--lumo-tint);\n\n        /* Text */\n        --lumo-header-text-color: var(--lumo-contrast);\n        --lumo-body-text-color: var(--lumo-contrast-90pct);\n        --lumo-secondary-text-color: var(--lumo-contrast-70pct);\n        --lumo-tertiary-text-color: var(--lumo-contrast-50pct);\n        --lumo-disabled-text-color: var(--lumo-contrast-30pct);\n\n        /* Primary */\n        --lumo-primary-color: hsl(214, 86%, 55%);\n        --lumo-primary-color-50pct: hsla(214, 86%, 55%, 0.5);\n        --lumo-primary-color-10pct: hsla(214, 90%, 63%, 0.1);\n        --lumo-primary-text-color: hsl(214, 100%, 70%);\n        --lumo-primary-contrast-color: #FFF;\n\n        /* Error */\n        --lumo-error-color: hsl(3, 90%, 63%);\n        --lumo-error-color-50pct: hsla(3, 90%, 63%, 0.5);\n        --lumo-error-color-10pct: hsla(3, 90%, 63%, 0.1);\n        --lumo-error-text-color: hsl(3, 100%, 67%);\n\n        /* Success */\n        --lumo-success-color: hsl(145, 65%, 42%);\n        --lumo-success-color-50pct: hsla(145, 65%, 42%, 0.5);\n        --lumo-success-color-10pct: hsla(145, 65%, 42%, 0.1);\n        --lumo-success-text-color: hsl(145, 85%, 47%);\n      }\n\n      html {\n        color: var(--lumo-body-text-color);\n        background-color: var(--lumo-base-color);\n      }\n\n      [theme~="dark"] {\n        color: var(--lumo-body-text-color);\n        background-color: var(--lumo-base-color);\n      }\n\n      h1,\n      h2,\n      h3,\n      h4,\n      h5,\n      h6 {\n        color: var(--lumo-header-text-color);\n      }\n\n      a {\n        color: var(--lumo-primary-text-color);\n      }\n\n      blockquote {\n        color: var(--lumo-secondary-text-color);\n      }\n\n      code,\n      pre {\n        background-color: var(--lumo-contrast-10pct);\n        border-radius: var(--lumo-border-radius-m);\n      }\n    </style>\n  </template>\n</dom-module><dom-module id="lumo-color-legacy">\n  <template>\n    <style include="lumo-color">\n      :host {\n        color: var(--lumo-body-text-color) !important;\n        background-color: var(--lumo-base-color) !important;\n      }\n    </style>\n  </template>\n</dom-module>',document.head.appendChild(r.content)},19962:(e,t,i)=>{"use strict";i(53269),i(67255);const r=document.createElement("template");r.innerHTML='<custom-style>\n  <style>\n    @font-face {\n      font-family: \'lumo-icons\';\n      src: url(data:application/font-woff;charset=utf-8;base64,d09GRgABAAAAABEcAAsAAAAAIiwAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABHU1VCAAABCAAAADsAAABUIIslek9TLzIAAAFEAAAAQwAAAFZAIUuKY21hcAAAAYgAAAD4AAADrsCU8d5nbHlmAAACgAAAC2MAABd4h9To2WhlYWQAAA3kAAAAMAAAADZa/6SsaGhlYQAADhQAAAAdAAAAJAbpA35obXR4AAAONAAAABAAAACspBAAAGxvY2EAAA5EAAAAWAAAAFh55IAsbWF4cAAADpwAAAAfAAAAIAFKAXBuYW1lAAAOvAAAATEAAAIuUUJZCHBvc3QAAA/wAAABKwAAAelm8SzVeJxjYGRgYOBiMGCwY2BycfMJYeDLSSzJY5BiYGGAAJA8MpsxJzM9kYEDxgPKsYBpDiBmg4gCACY7BUgAeJxjYGS+yDiBgZWBgamKaQ8DA0MPhGZ8wGDIyAQUZWBlZsAKAtJcUxgcXjG+0mIO+p/FEMUcxDANKMwIkgMABn8MLQB4nO3SWW6DMABF0UtwCEnIPM/zhLK8LqhfXRybSP14XUYtHV9hGYQwQBNIo3cUIPkhQeM7rib1ekqnXg981XuC1qvy84lzojleh3puxL0hPjGjRU473teloEefAUNGjJkwZcacBUtWrNmwZceeA0dOnLlw5cadB09elPGhGf+j0NTI/65KfXerT6JhqKnpRKtgOpuqaTrtKjPUlqHmhto21I7pL6i6hlqY3q7qGWrfUAeGOjTUkaGODXViqFNDnRnq3FAXhro01JWhrg11Y6hbQ90Z6t5QD4Z6NNSToZ4N9WKoV0O9GerdUB+G+jTUl6GWRvkL24BkEXictVh9bFvVFb/nxvbz+7Rf/N6zHcd2bCfP+Wgc1Z9N0jpNnEL6kbRVS6HA2hQYGh9TGR1CbCqa2rXrWOkQE/sHNJgmtZvoVNZqE1B1DNHxzTQxCehUTYiJTQyENui0qSLezr3PduyQfgmRWOfde8+9551z7rnn/O4jLoJ/bRP0UaKQMLFJjpBAvphLZC3Dk0ok7WBzR2/upJs7Ryw/nfFbln/uuN/apCvwrKLrSvUqRufbm5pn0fs0w4gYxnGVP6qHnO4bWiDQGQgwtS6lm3lB3QoX1M2vwEmuzirF39y+Es2+DJ8d1pkyqBIqoze3D1+Zz4DrFoazxI8dWwMrDlZ2DMqQAR9AROsJU+2cmlTPazTco52F1xTa2a2+K8vvq92dVHmtLoPeQX/AZPRYGthDYOeZjBjKoFsVGulR3lWU95WeCK44qHU7MhWUGUKZDT3oKUcG2GWuh+EDDfUYA/jhAhl0TOsJNYSEu7mQmi3UzfXwZKA4BsVsHLXQYGgRW95uEtpJ1Vfn9XiLriRBlFEqxsDjA09yCNUoQxxwd7KWSTt2y3GTKiflqHRSoWZc3m11Wa/fJdFgXD4sSYfleJBKd8GMz7J8dZn/cGRCcKGDnA2Ge3fKzcvlnTDNthGWLXzX/WaXtUAmRgeLlHSr30r0G9UTXMb0AtmwzOoy73fkSlHZkduw/TYuU9cAD4YutPoxTTsA3797wVr4Z/1NC5zARHr4vtxJjxIfiZMhMkbWk+14BnJZKwqGZwDfswLyxWDSg11rFLJF7Nopxjd1h1/QOT+oezgfu3Yq+Hk+duf5x+40o1GTkaIgikK/IEnC6aYxCUBaZJSN4XTYFjU/YMNIKqJwhDGOCCI8FDXnXmXjtGhGJyShqjAOnBOkW2JG9S7GgYeMWAU5JzhnWmBOaOM+CKEPoqSfFDC2Unq+DLlUgUVUFFLZGJg6jtlojsdsa8kPObPuJdi5dnBdBsLJMGTWDa4t2JvtwuPo9s+Y86suv/W33QG1rAaOAUV+vx4K6f2D04PVKlC7WLSrZzAi45ZV6lIC7WoXqmRyvUqoVwrzUoVsIjeTXWQv+RH5GTlBXiB/In8ln0IbBCAFOajAJrgZYyOHWqOfUe/aHjI12R6OQo1jCgt215l+4f6XPb+0MNou0V+43n2F77tSfRb24d7zitgnKmvYHs69zugaPvBwv6ioXkb2LdL65Atw51uLkXlu1bhMMRcXSPcYoqKIRlh34lQP8/5JbuUFye4vxD6/6MxFF11C0uVLr9Ulgw44tS3pMViNLUExbycFgLIct+QDMibRimx1ydUz8FXZiuOIDBOMVX2nUZc+huNE5XUJ81uiJoiabwqaVF0uacKbau/pl4R2VW0XXlJra6boVrYG646TF5NYzwy4vjENVrDlcNpZPl8DH6XX8XWCx0mvWVZY6KFLrvsY66/zPict5FnxaNUR/juvZCM3TvD60E2W1tZizbXTPDuabcm0nbbzpWKpmA1ayBQ8giedLUM+A0kNjBjQjmuYz7YrgIXYvmF63ZLBwSXrpn9Tb9wwdd/U1H0PMQK3XcO8ul3WT7PyPPdpy0TemKxNRcJNauiXJnnUDpUppQWs4SnUIy0EESGYqJYQLGHxzaGWwVIaS6Y7mQFM8ZjYDQ3axjf61SWjU33JwOZA1pwaG1L9mzf71aHRdX1JHw6Fp0aXhNwbqyeGNg4NbdzGCBxoz4ZXjy4Nu69Zr6sDY6vMrLU5nA1P8JkbdWXJ6ERfMryvNh1JfQ9+T4dIhGvK9w3dxjBBzatsQ/MlOHVIDnYpDz6odAXlQ01t2Pa5Iafd8MMpxAeDKP0C6CjgVLT5osB6icUx01lWjXxzT/GyRF2welEM5Z/7jG3VjQ1SrNn5IbyzOG5dobB3/QHxyZvsXcoz8IoEwS7plCg+zxHQk424q9BfEpkESJbFHQusDBSWFkuBkoPO0kLKwRVYjxGXlHTcTDQMJ/H6TX9afkO7mnraTO1feTnZAXLu4cp7HAXMmNG1yeFk9TgS/NHhZR/4QoBTr/ZB+6hCgyl15Nq1UbN6nE1/ZnP1U2cizCBpvs8cJQZJ4LkYx5N/yZPAUZNQQ0V4f3BQllWrK3YRzl30dOT6RVn2upNur6woSa8CqpdT/aKnBM4o3jNur9d9xqtUT6veBEt9Ca9at+ERzEEhUkR8sa5mQ4aVvJoVeEA8zI4ei5mULXFGyU7z/6TAeYLVcpzSWZY8PYYF5yrTV60sT0+XV141vX++Wf16V2bFeGVPZXxFpkvyeKTWLlzfW0mnKxsY6Y3294/0998SCfX1blm5pbcvFGlq/r07MRAMhYIDiW5JFKWW3vdrEpCsZSJG+om7Zu/PSScZJhNkLbmW5Wsr12pWqW5zKtlwRS4bFOxUw17mCzy6lskCDl1WYOGWDYrADrMA7BDDweWWNd5koiJnR1dz+ytLP2q0SqPB1lnK2ccB7RYe4FSoPks3iB3t4txTSHctb2sy1ivk0pvHuCNm6w1f6wxv3+OCgN78LqdQnUVh7R0oTAp0zOf2rbW770Vu5C2dIyGdTnHo8zSji7dppj0USoVCz+lhRMTh53Teq9VbGfbjuSbAooSdXayY4PYHg374C6f7gl1B/DXuJ4/QXxOBdJFJspFsI3egpoWUUCjlTIFnNYNl+ZyZKmBeYKGHkD1QyDlhaKbKwKcIJqJ4TLJ2OmdY/JWXae4DdGBw8HZ7eXcgFF2zr2SoalDry5iKqoa0Puhe3hPQ2s3elTYM+MI+n3rK0KgL7/La3GeMLt6m7u912vGnvtORiIa0qBmhqVi+XW9XNBmqb8eVgKzIHfGI5bNoG7X0UCzeISmqIcO/nY8FH7U8avX9fx/ST+hx0sezPw9Qy8Mum3GWf2N4Uy/yIYGVBXbJHWIZp7dfTcptdMTr9Qmq7DaiK/ukqCL4kt4RUfS5XPnMtmT22/mQFqF7emSqtrlu8SVElxDRJrZODkpuwe0VfTfjdEp1f7A7v+fozNBXUJ/6WTuK2TtFlpFVZAZ3LcFvUi1Z2p2YT+EMAkGJVStOzLTAPg4IqWIAlzRSjOBkl2zxj3TKycpzT/MnvX3uaSMWM+gU0rkXjohhefVRMaps3/kLMSKv23lT23uxQrkQjyOJleMDsdhAnD6ZGElWZ5MjCXzCE/hkWX+WF4knzGhVOyK2eQZekV3eyo0zL8kuYWCnDCvjjhAkcTPOBDXVdoav3HVcFnQjLvtV9S2p0zA6JegPwMQxt+yFb3ll9zGlq/5dRKb3cEyQYoaNYpharJ7xCB7AWxsLY3jjZXY0XsZj0Wjwc9I6PP/dKABnCZaqHpaZEACxk4ZeLZSKNgZABl+lYQX1sJQOSX3n6r410evcoud5JeAGUXVP9H1tZOKejTq4Ono0z0erro1FrnOpohva1d/hTdtVsQdKN5W9RlT3NjD0nznyKNTgKAMfWNWcyodV0IGLPIHOF0o4JyqufaK4z6WIIzuGh3d8c8cwQg8ER+OVxyrjdm8vNuhts4LoOihGxIMuUdgzwiYN7xhh1+oZnJNuTG7gQZvu4XWZ9GAZZjGEubwePqYhtKDTH+9VQkl17/iGybsnJ+8+sKtyPrcll9ty65Zsdst/9iqpEKh7M5VdBxh3csOdNc6tW3I1uyM1PzOXegSOrLFsFNI2O27M+TF2ApnN9MUv5ud6LjxIvEQnHRzxIu4IsA9MLFkJn2tcZoZ7ON7dXe7ujrc8HrusPKamlqXwd77lQUuLpilau4PUMapueBb7irU4RoUXEYXuVuIGlRGmOp+2lNkaRPVziOqmlaZvaqG4dFgSj0jxEJWrv12IUWntmw+rfQarRE0Aph4ocI6nlUlGqs+u3/+T/ethW62PpHp2eHbZstnh/wOO95yDAHicY2BkYGAA4pmJ6QHx/DZfGbiZXwBFGGpUNzQi6P+vmacy3QJyORiYQKIANoULVXicY2BkYGAO+p8FJF8wAAHzVAZGBlSgDQBW9gNvAAAAeJxjYGBgYH4xNDAAzwQmjwAAAAAATgCaAOgBCgEsAU4BcAGaAcQB7gIaApwC6ASaBLwE1gTyBQ4FKgV6BdAF/gZEBmYGtgcYB5AIGAhSCGoI/glGCb4J2goECjwKggq4CvALUAuWC7x4nGNgZGBg0GZMYRBlAAEmIOYCQgaG/2A+AwAYlAG8AHicbZE9TsMwGIbf9A/RSggEYmHxAgtq+jN2ZGj3Dt3T1GlTOXHkuBW9AyfgEByCgTNwCA7BW/NJlVBtyd/jx+8XKwmAa3whwnFE6Ib1OBq44O6Pm6Qb4Rb5QbiNHh6FO/RD4S6eMRHu4RaaT4halzR3eBVu4Apvwk36d+EW+UO4jXt8Cnfov4W7WOBHuIen6MXsCtvPU1vWc73emcSdxIkW2tW5LdUoHp7kTJfaJV6v1PKg6v167H2mMmcLNbWl18ZYVTm71amPN95Xk8EgEx+ntoDBDgUs+siRspaoMef7rukNEriziXNuwS7Hmoe9wggxv+e55IzJMqQTeNYV00scuNbY8+YxrUfGfcaMZb/CNPQe04bT0lThbEuT0sfYhK6K/23Amf3Lx+H24hcj4GScAAAAeJxtjtlugzAQRbkJUEJIuu/7vqR8lGNPAcWx0YAb5e/LklR96EgenSufGY038PqKvf9rhgGG8BEgxA4ijBBjjAQTTLGLPezjAIc4wjFOcIoznOMCl7jCNW5wizvc4wGPeMIzXvCKN7zjAzN8eonQRWZSSaYmjvug6ase98hFltexMJmmVNmV2WBvdNgZUc+ujAWzXW3UDnu1w43asStHc8GpzAXX/py0jqTQZJTgkcxJLpaCF0lD32xNt+43tAsn29Dft02uDKS2cjGUNgsk26qK2lFthYoU27INPqmiDqg5goe0pqR5qSoqMdek/CUZFywL46rEsiImleqiqoMyt4baXlu/1GLdNFf5zbcNmdr1YUWCZe47o+zUmb/DoStbw3cVsef9ALjjiPQA) format(\'woff\');\n      font-weight: normal;\n      font-style: normal;\n    }\n\n    html {\n      --lumo-icons-align-center: "\\ea01";\n      --lumo-icons-align-left: "\\ea02";\n      --lumo-icons-align-right: "\\ea03";\n      --lumo-icons-angle-down: "\\ea04";\n      --lumo-icons-angle-left: "\\ea05";\n      --lumo-icons-angle-right: "\\ea06";\n      --lumo-icons-angle-up: "\\ea07";\n      --lumo-icons-arrow-down: "\\ea08";\n      --lumo-icons-arrow-left: "\\ea09";\n      --lumo-icons-arrow-right: "\\ea0a";\n      --lumo-icons-arrow-up: "\\ea0b";\n      --lumo-icons-bar-chart: "\\ea0c";\n      --lumo-icons-bell: "\\ea0d";\n      --lumo-icons-calendar: "\\ea0e";\n      --lumo-icons-checkmark: "\\ea0f";\n      --lumo-icons-chevron-down: "\\ea10";\n      --lumo-icons-chevron-left: "\\ea11";\n      --lumo-icons-chevron-right: "\\ea12";\n      --lumo-icons-chevron-up: "\\ea13";\n      --lumo-icons-clock: "\\ea14";\n      --lumo-icons-cog: "\\ea15";\n      --lumo-icons-cross: "\\ea16";\n      --lumo-icons-download: "\\ea17";\n      --lumo-icons-dropdown: "\\ea18";\n      --lumo-icons-edit: "\\ea19";\n      --lumo-icons-error: "\\ea1a";\n      --lumo-icons-eye: "\\ea1b";\n      --lumo-icons-eye-disabled: "\\ea1c";\n      --lumo-icons-menu: "\\ea1d";\n      --lumo-icons-minus: "\\ea1e";\n      --lumo-icons-ordered-list: "\\ea1f";\n      --lumo-icons-phone: "\\ea20";\n      --lumo-icons-photo: "\\ea21";\n      --lumo-icons-play: "\\ea22";\n      --lumo-icons-plus: "\\ea23";\n      --lumo-icons-redo: "\\ea24";\n      --lumo-icons-reload: "\\ea25";\n      --lumo-icons-search: "\\ea26";\n      --lumo-icons-undo: "\\ea27";\n      --lumo-icons-unordered-list: "\\ea28";\n      --lumo-icons-upload: "\\ea29";\n      --lumo-icons-user: "\\ea2a";\n    }\n  </style>\n</custom-style>',document.head.appendChild(r.content)},76444:(e,t,i)=>{"use strict";i(67255),i(53269);const r=document.createElement("template");r.innerHTML="<custom-style>\n  <style>\n    html {\n      --lumo-size-xs: 1.625rem;\n      --lumo-size-s: 1.875rem;\n      --lumo-size-m: 2.25rem;\n      --lumo-size-l: 2.75rem;\n      --lumo-size-xl: 3.5rem;\n\n      /* Icons */\n      --lumo-icon-size-s: 1.25em;\n      --lumo-icon-size-m: 1.5em;\n      --lumo-icon-size-l: 2.25em;\n      /* For backwards compatibility */\n      --lumo-icon-size: var(--lumo-icon-size-m);\n    }\n  </style>\n</custom-style>",document.head.appendChild(r.content)},2421:(e,t,i)=>{"use strict";i(67255),i(53269);const r=document.createElement("template");r.innerHTML="<custom-style>\n  <style>\n    html {\n      /* Square */\n      --lumo-space-xs: 0.25rem;\n      --lumo-space-s: 0.5rem;\n      --lumo-space-m: 1rem;\n      --lumo-space-l: 1.5rem;\n      --lumo-space-xl: 2.5rem;\n\n      /* Wide */\n      --lumo-space-wide-xs: calc(var(--lumo-space-xs) / 2) var(--lumo-space-xs);\n      --lumo-space-wide-s: calc(var(--lumo-space-s) / 2) var(--lumo-space-s);\n      --lumo-space-wide-m: calc(var(--lumo-space-m) / 2) var(--lumo-space-m);\n      --lumo-space-wide-l: calc(var(--lumo-space-l) / 2) var(--lumo-space-l);\n      --lumo-space-wide-xl: calc(var(--lumo-space-xl) / 2) var(--lumo-space-xl);\n\n      /* Tall */\n      --lumo-space-tall-xs: var(--lumo-space-xs) calc(var(--lumo-space-xs) / 2);\n      --lumo-space-tall-s: var(--lumo-space-s) calc(var(--lumo-space-s) / 2);\n      --lumo-space-tall-m: var(--lumo-space-m) calc(var(--lumo-space-m) / 2);\n      --lumo-space-tall-l: var(--lumo-space-l) calc(var(--lumo-space-l) / 2);\n      --lumo-space-tall-xl: var(--lumo-space-xl) calc(var(--lumo-space-xl) / 2);\n    }\n  </style>\n</custom-style>",document.head.appendChild(r.content)},42036:(e,t,i)=>{"use strict";i(67255),i(53269);const r=document.createElement("template");r.innerHTML="<custom-style>\n  <style>\n    html {\n      /* Border radius */\n      --lumo-border-radius-s: 0.25em; /* Checkbox, badge, date-picker year indicator, etc */\n      --lumo-border-radius-m: var(--lumo-border-radius, 0.25em); /* Button, text field, menu overlay, etc */\n      --lumo-border-radius-l: 0.5em; /* Dialog, notification, etc */\n      --lumo-border-radius: 0.25em; /* Deprecated */\n\n      /* Shadow */\n      --lumo-box-shadow-xs: 0 1px 4px -1px var(--lumo-shade-50pct);\n      --lumo-box-shadow-s: 0 2px 4px -1px var(--lumo-shade-20pct), 0 3px 12px -1px var(--lumo-shade-30pct);\n      --lumo-box-shadow-m: 0 2px 6px -1px var(--lumo-shade-20pct), 0 8px 24px -4px var(--lumo-shade-40pct);\n      --lumo-box-shadow-l: 0 3px 18px -2px var(--lumo-shade-20pct), 0 12px 48px -6px var(--lumo-shade-40pct);\n      --lumo-box-shadow-xl: 0 4px 24px -3px var(--lumo-shade-20pct), 0 18px 64px -8px var(--lumo-shade-40pct);\n\n      /* Clickable element cursor */\n      --lumo-clickable-cursor: default;\n    }\n  </style>\n</custom-style>",document.head.appendChild(r.content)},71528:(e,t,i)=>{"use strict";i(67255),i(53269),i(64262);const r=document.createElement("template");r.innerHTML='<custom-style>\n  <style>\n    html {\n      /* Font families */\n      --lumo-font-family: -apple-system, BlinkMacSystemFont, "Roboto", "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";\n\n      /* Font sizes */\n      --lumo-font-size-xxs: .75rem;\n      --lumo-font-size-xs: .8125rem;\n      --lumo-font-size-s: .875rem;\n      --lumo-font-size-m: 1rem;\n      --lumo-font-size-l: 1.125rem;\n      --lumo-font-size-xl: 1.375rem;\n      --lumo-font-size-xxl: 1.75rem;\n      --lumo-font-size-xxxl: 2.5rem;\n\n      /* Line heights */\n      --lumo-line-height-xs: 1.25;\n      --lumo-line-height-s: 1.375;\n      --lumo-line-height-m: 1.625;\n    }\n\n  </style>\n</custom-style><dom-module id="lumo-typography">\n  <template>\n    <style>\n      html {\n        font-family: var(--lumo-font-family);\n        font-size: var(--lumo-font-size, var(--lumo-font-size-m));\n        line-height: var(--lumo-line-height-m);\n        -webkit-text-size-adjust: 100%;\n        -webkit-font-smoothing: antialiased;\n        -moz-osx-font-smoothing: grayscale;\n      }\n\n      /* Cant combine with the above selector because that doesnt work in browsers without native shadow dom */\n      :host {\n        font-family: var(--lumo-font-family);\n        font-size: var(--lumo-font-size, var(--lumo-font-size-m));\n        line-height: var(--lumo-line-height-m);\n        -webkit-text-size-adjust: 100%;\n        -webkit-font-smoothing: antialiased;\n        -moz-osx-font-smoothing: grayscale;\n      }\n\n      small,\n      [theme~="font-size-s"] {\n        font-size: var(--lumo-font-size-s);\n        line-height: var(--lumo-line-height-s);\n      }\n\n      [theme~="font-size-xs"] {\n        font-size: var(--lumo-font-size-xs);\n        line-height: var(--lumo-line-height-xs);\n      }\n\n      h1,\n      h2,\n      h3,\n      h4,\n      h5,\n      h6 {\n        font-weight: 600;\n        line-height: var(--lumo-line-height-xs);\n        margin-top: 1.25em;\n      }\n\n      h1 {\n        font-size: var(--lumo-font-size-xxxl);\n        margin-bottom: 0.75em;\n      }\n\n      h2 {\n        font-size: var(--lumo-font-size-xxl);\n        margin-bottom: 0.5em;\n      }\n\n      h3 {\n        font-size: var(--lumo-font-size-xl);\n        margin-bottom: 0.5em;\n      }\n\n      h4 {\n        font-size: var(--lumo-font-size-l);\n        margin-bottom: 0.5em;\n      }\n\n      h5 {\n        font-size: var(--lumo-font-size-m);\n        margin-bottom: 0.25em;\n      }\n\n      h6 {\n        font-size: var(--lumo-font-size-xs);\n        margin-bottom: 0;\n        text-transform: uppercase;\n        letter-spacing: 0.03em;\n      }\n\n      p,\n      blockquote {\n        margin-top: 0.5em;\n        margin-bottom: 0.75em;\n      }\n\n      a {\n        text-decoration: none;\n      }\n\n      a:hover {\n        text-decoration: underline;\n      }\n\n      hr {\n        display: block;\n        align-self: stretch;\n        height: 1px;\n        border: 0;\n        padding: 0;\n        margin: var(--lumo-space-s) calc(var(--lumo-border-radius-m) / 2);\n        background-color: var(--lumo-contrast-10pct);\n      }\n\n      blockquote {\n        border-left: 2px solid var(--lumo-contrast-30pct);\n      }\n\n      b,\n      strong {\n        font-weight: 600;\n      }\n\n      /* RTL specific styles */\n\n      blockquote[dir="rtl"] {\n        border-left: none;\n        border-right: 2px solid var(--lumo-contrast-30pct);\n      }\n\n    </style>\n  </template>\n</dom-module>',document.head.appendChild(r.content)},67255:(e,t,i)=>{"use strict";class r extends HTMLElement{static get version(){return"1.6.1"}}customElements.define("vaadin-lumo-styles",r)},30998:(e,t,i)=>{"use strict";i.r(t),i.d(t,{TextFieldElement:()=>m});var r=i(36617);i(18382),i(76444),i(2421),i(42036),i(71528);const n=document.createElement("template");n.innerHTML='<dom-module id="lumo-required-field">\n  <template>\n    <style>\n      [part="label"] {\n        align-self: flex-start;\n        color: var(--lumo-secondary-text-color);\n        font-weight: 500;\n        font-size: var(--lumo-font-size-s);\n        margin-left: calc(var(--lumo-border-radius-m) / 4);\n        transition: color 0.2s;\n        line-height: 1;\n        padding-bottom: 0.5em;\n        overflow: hidden;\n        white-space: nowrap;\n        text-overflow: ellipsis;\n        position: relative;\n        max-width: 100%;\n        box-sizing: border-box;\n      }\n\n      :host([has-label])::before {\n        margin-top: calc(var(--lumo-font-size-s) * 1.5);\n      }\n\n      :host([has-label]) {\n        padding-top: var(--lumo-space-m);\n      }\n\n      :host([required]) [part="label"] {\n        padding-right: 1em;\n      }\n\n      [part="label"]::after {\n        content: var(--lumo-required-field-indicator, "");\n        transition: opacity 0.2s;\n        opacity: 0;\n        color: var(--lumo-primary-text-color);\n        position: absolute;\n        right: 0;\n        width: 1em;\n        text-align: center;\n      }\n\n      :host([required]:not([has-value])) [part="label"]::after {\n        opacity: 1;\n      }\n\n      :host([invalid]) [part="label"]::after {\n        color: var(--lumo-error-text-color);\n      }\n\n      [part="error-message"] {\n        margin-left: calc(var(--lumo-border-radius-m) / 4);\n        font-size: var(--lumo-font-size-xs);\n        line-height: var(--lumo-line-height-xs);\n        color: var(--lumo-error-text-color);\n        will-change: max-height;\n        transition: 0.4s max-height;\n        max-height: 5em;\n      }\n\n      /* Margin that doesnt reserve space when theres no error message */\n      [part="error-message"]:not(:empty)::before,\n      [part="error-message"]:not(:empty)::after {\n        content: "";\n        display: block;\n        height: 0.4em;\n      }\n\n      :host(:not([invalid])) [part="error-message"] {\n        max-height: 0;\n        overflow: hidden;\n      }\n\n      /* RTL specific styles */\n\n      :host([dir="rtl"]) [part="label"] {\n        margin-left: 0;\n        margin-right: calc(var(--lumo-border-radius-m) / 4);\n      }\n\n      :host([required][dir="rtl"]) [part="label"] {\n        padding-left: 1em;\n        padding-right: 0;\n      }\n\n      :host([dir="rtl"]) [part="label"]::after {\n        right: auto;\n        left: 0;\n      }\n\n      :host([dir="rtl"]) [part="error-message"] {\n        margin-left: 0;\n        margin-right: calc(var(--lumo-border-radius-m) / 4);\n      }\n\n    </style>\n  </template>\n</dom-module>',document.head.appendChild(n.content);i(19962);const s=document.createElement("template");s.innerHTML='<dom-module id="lumo-field-button">\n  <template>\n    <style>\n      [part$="button"] {\n        flex: none;\n        width: 1em;\n        height: 1em;\n        line-height: 1;\n        font-size: var(--lumo-icon-size-m);\n        text-align: center;\n        color: var(--lumo-contrast-60pct);\n        transition: 0.2s color;\n        cursor: var(--lumo-clickable-cursor);\n      }\n\n      :host(:not([readonly])) [part$="button"]:hover {\n        color: var(--lumo-contrast-90pct);\n      }\n\n      :host([disabled]) [part$="button"],\n      :host([readonly]) [part$="button"] {\n        color: var(--lumo-contrast-20pct);\n      }\n\n      [part$="button"]::before {\n        font-family: "lumo-icons";\n        display: block;\n      }\n    </style>\n  </template>\n</dom-module>',document.head.appendChild(s.content),(0,r.hC)("vaadin-text-field",r.iv`
    :host {
      --lumo-text-field-size: var(--lumo-size-m);
      color: var(--lumo-body-text-color);
      font-size: var(--lumo-font-size-m);
      font-family: var(--lumo-font-family);
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
      -webkit-tap-highlight-color: transparent;
      padding: var(--lumo-space-xs) 0;
    }

    :host::before {
      height: var(--lumo-text-field-size);
      box-sizing: border-box;
      display: inline-flex;
      align-items: center;
    }

    :host([focused]:not([readonly])) [part='label'] {
      color: var(--lumo-primary-text-color);
    }

    :host([has-helper]) [part='helper-text']::before {
      content: '';
      display: block;
      height: 0.4em;
    }

    [part='helper-text'],
    [part='helper-text'] ::slotted(*) {
      display: block;
      color: var(--lumo-secondary-text-color);
      font-size: var(--lumo-font-size-xs);
      line-height: var(--lumo-line-height-xs);
      margin-left: calc(var(--lumo-border-radius-m) / 4);
      transition: color 0.2s;
    }

    [part='value'],
    [part='input-field'] ::slotted(input),
    [part='input-field'] ::slotted(textarea),
    [part='input-field'] ::slotted([part='value']) {
      cursor: inherit;
      min-height: var(--lumo-text-field-size);
      padding: 0 0.25em;
      --_lumo-text-field-overflow-mask-image: linear-gradient(to left, transparent, #000 1.25em);
      -webkit-mask-image: var(--_lumo-text-field-overflow-mask-image);
      mask-image: var(--_lumo-text-field-overflow-mask-image);
    }

    [part='value']:focus,
    :host([focused]) [part='input-field'] ::slotted(input),
    :host([focused]) [part='input-field'] ::slotted(textarea) {
      -webkit-mask-image: none;
      mask-image: none;
    }

    [part='value']::placeholder {
      color: inherit;
      transition: opacity 0.175s 0.1s;
      opacity: 0.5;
    }

    [part='input-field'] {
      border-radius: var(--lumo-border-radius);
      background-color: var(--lumo-contrast-10pct);
      padding: 0 calc(0.375em + var(--lumo-border-radius) / 4 - 1px);
      font-weight: 500;
      line-height: 1;
      position: relative;
      cursor: text;
      box-sizing: border-box;
    }

    /* Used for hover and activation effects */
    [part='input-field']::after {
      content: '';
      position: absolute;
      top: 0;
      right: 0;
      bottom: 0;
      left: 0;
      border-radius: inherit;
      pointer-events: none;
      background-color: var(--lumo-contrast-50pct);
      opacity: 0;
      transition: transform 0.15s, opacity 0.2s;
      transform-origin: 100% 0;
    }

    /* Hover */

    :host(:hover:not([readonly]):not([focused])) [part='label'],
    :host(:hover:not([readonly])) [part='helper-text'],
    :host(:hover:not([readonly])) [part='helper-text'] ::slotted(*) {
      color: var(--lumo-body-text-color);
    }

    :host(:hover:not([readonly]):not([focused])) [part='input-field']::after {
      opacity: 0.1;
    }

    /* Touch device adjustment */
    @media (pointer: coarse) {
      :host(:hover:not([readonly]):not([focused])) [part='label'] {
        color: var(--lumo-secondary-text-color);
      }

      :host(:hover:not([readonly]):not([focused])) [part='input-field']::after {
        opacity: 0;
      }

      :host(:active:not([readonly]):not([focused])) [part='input-field']::after {
        opacity: 0.2;
      }
    }

    /* Trigger when not focusing using the keyboard */
    :host([focused]:not([focus-ring]):not([readonly])) [part='input-field']::after {
      transform: scaleX(0);
      transition-duration: 0.15s, 1s;
    }

    /* Focus-ring */

    :host([focus-ring]) [part='input-field'] {
      box-shadow: 0 0 0 2px var(--lumo-primary-color-50pct);
    }

    /* Read-only and disabled */
    :host([readonly]) [part='value']::placeholder,
    :host([disabled]) [part='value']::placeholder {
      opacity: 0;
    }

    /* Read-only */

    :host([readonly]) [part='input-field'] {
      color: var(--lumo-secondary-text-color);
      background-color: transparent;
      cursor: default;
    }

    :host([readonly]) [part='input-field']::after {
      background-color: transparent;
      opacity: 1;
      border: 1px dashed var(--lumo-contrast-30pct);
    }

    /* Disabled style */

    :host([disabled]) {
      pointer-events: none;
    }

    :host([disabled]) [part='input-field'] {
      background-color: var(--lumo-contrast-5pct);
    }

    :host([disabled]) [part='label'],
    :host([disabled]) [part='helper-text'],
    :host([disabled]) [part='value'],
    :host([disabled]) [part='input-field'] ::slotted(*) {
      color: var(--lumo-disabled-text-color);
      -webkit-text-fill-color: var(--lumo-disabled-text-color);
    }

    /* Invalid style */

    :host([invalid]) [part='input-field'] {
      background-color: var(--lumo-error-color-10pct);
    }

    :host([invalid]) [part='input-field']::after {
      background-color: var(--lumo-error-color-50pct);
    }

    :host([invalid][focus-ring]) [part='input-field'] {
      box-shadow: 0 0 0 2px var(--lumo-error-color-50pct);
    }

    :host([input-prevented]) [part='input-field'] {
      color: var(--lumo-error-text-color);
    }

    /* Small theme */

    :host([theme~='small']) {
      font-size: var(--lumo-font-size-s);
      --lumo-text-field-size: var(--lumo-size-s);
    }

    :host([theme~='small'][has-label]) [part='label'] {
      font-size: var(--lumo-font-size-xs);
    }

    :host([theme~='small'][has-label]) [part='error-message'] {
      font-size: var(--lumo-font-size-xxs);
    }

    /* Text align */

    :host([theme~='align-left']) [part='value'] {
      text-align: left;
      --_lumo-text-field-overflow-mask-image: none;
    }

    :host([theme~='align-center']) [part='value'] {
      text-align: center;
      --_lumo-text-field-overflow-mask-image: none;
    }

    :host([theme~='align-right']) [part='value'] {
      text-align: right;
      --_lumo-text-field-overflow-mask-image: none;
    }

    @-moz-document url-prefix() {
      /* Firefox is smart enough to align overflowing text to right */
      :host([theme~='align-right']) [part='value'] {
        --_lumo-text-field-overflow-mask-image: linear-gradient(to right, transparent 0.25em, #000 1.5em);
      }
    }

    @-moz-document url-prefix() {
      /* Firefox is smart enough to align overflowing text to right */
      :host([theme~='align-left']) [part='value'] {
        --_lumo-text-field-overflow-mask-image: linear-gradient(to left, transparent 0.25em, #000 1.5em);
      }
    }
    /* helper-text position */

    :host([has-helper][theme~='helper-above-field']) [part='helper-text']::before {
      display: none;
    }

    :host([has-helper][theme~='helper-above-field']) [part='helper-text']::after {
      content: '';
      display: block;
      height: 0.4em;
    }

    :host([has-helper][theme~='helper-above-field']) [part='label'] {
      order: 0;
      padding-bottom: 0.4em;
    }

    :host([has-helper][theme~='helper-above-field']) [part='helper-text'] {
      order: 1;
    }

    :host([has-helper][theme~='helper-above-field']) [part='input-field'] {
      order: 2;
    }

    :host([has-helper][theme~='helper-above-field']) [part='error-message'] {
      order: 3;
    }

    /* Slotted content */

    [part='input-field'] ::slotted(:not([part]):not(iron-icon):not(input):not(textarea)) {
      color: var(--lumo-secondary-text-color);
      font-weight: 400;
    }

    /* Slotted icons */

    [part='input-field'] ::slotted(iron-icon) {
      color: var(--lumo-contrast-60pct);
      width: var(--lumo-icon-size-m);
      height: var(--lumo-icon-size-m);
    }

    /* Vaadin icons are based on a 16x16 grid (unlike Lumo and Material icons with 24x24), so they look too big by default */
    [part='input-field'] ::slotted(iron-icon[icon^='vaadin:']) {
      padding: 0.25em;
      box-sizing: border-box !important;
    }

    [part='clear-button']::before {
      content: var(--lumo-icons-cross);
    }

    /* RTL specific styles */

    :host([dir='rtl']) [part='input-field']::after {
      transform-origin: 0% 0;
    }

    :host([dir='rtl']) [part='value'],
    :host([dir='rtl']) [part='input-field'] ::slotted(input),
    :host([dir='rtl']) [part='input-field'] ::slotted(textarea) {
      --_lumo-text-field-overflow-mask-image: linear-gradient(to right, transparent, #000 1.25em);
    }

    :host([dir='rtl']) [part='value']:focus,
    :host([focused][dir='rtl']) [part='input-field'] ::slotted(input),
    :host([focused][dir='rtl']) [part='input-field'] ::slotted(textarea) {
      -webkit-mask-image: none;
      mask-image: none;
    }

    @-moz-document url-prefix() {
      :host([dir='rtl']) [part='value'],
      :host([dir='rtl']) [part='input-field'] ::slotted(input),
      :host([dir='rtl']) [part='input-field'] ::slotted(textarea),
      :host([dir='rtl']) [part='input-field'] ::slotted([part='value']) {
        mask-image: var(--_lumo-text-field-overflow-mask-image);
      }
    }

    :host([theme~='align-left'][dir='rtl']) [part='value'] {
      --_lumo-text-field-overflow-mask-image: none;
    }

    :host([theme~='align-center'][dir='rtl']) [part='value'] {
      --_lumo-text-field-overflow-mask-image: none;
    }

    :host([theme~='align-right'][dir='rtl']) [part='value'] {
      --_lumo-text-field-overflow-mask-image: none;
    }

    @-moz-document url-prefix() {
      /* Firefox is smart enough to align overflowing text to right */
      :host([theme~='align-right'][dir='rtl']) [part='value'] {
        --_lumo-text-field-overflow-mask-image: linear-gradient(to right, transparent 0.25em, #000 1.5em);
      }
    }

    @-moz-document url-prefix() {
      /* Firefox is smart enough to align overflowing text to right */
      :host([theme~='align-left'][dir='rtl']) [part='value'] {
        --_lumo-text-field-overflow-mask-image: linear-gradient(to left, transparent 0.25em, #000 1.5em);
      }
    }
  `,{moduleId:"lumo-text-field",include:["lumo-required-field","lumo-field-button"]});var o=i(44673),a=i(35313),l=i(2224);(0,r.hC)("",r.iv`
    :host {
      display: inline-flex;
      outline: none;
    }

    :host::before {
      content: '\\2003';
      width: 0;
      display: inline-block;
      /* Size and position this element on the same vertical position as the input-field element
          to make vertical align for the host element work as expected */
    }

    :host([hidden]) {
      display: none !important;
    }

    .vaadin-text-field-container,
    .vaadin-text-area-container {
      display: flex;
      flex-direction: column;
      min-width: 100%;
      max-width: 100%;
      width: var(--vaadin-text-field-default-width, 12em);
    }

    [part='label']:empty {
      display: none;
    }

    [part='input-field'] {
      display: flex;
      align-items: center;
      flex: auto;
    }

    .vaadin-text-field-container [part='input-field'] {
      flex-grow: 0;
    }

    /* Reset the native input styles */
    [part='value'],
    [part='input-field'] ::slotted(input),
    [part='input-field'] ::slotted(textarea) {
      -webkit-appearance: none;
      -moz-appearance: none;
      outline: none;
      margin: 0;
      padding: 0;
      border: 0;
      border-radius: 0;
      min-width: 0;
      font: inherit;
      font-size: 1em;
      line-height: normal;
      color: inherit;
      background-color: transparent;
      /* Disable default invalid style in Firefox */
      box-shadow: none;
    }

    [part='input-field'] ::slotted(*) {
      flex: none;
    }

    [part='value'],
    [part='input-field'] ::slotted(input),
    [part='input-field'] ::slotted(textarea),
    [part='input-field'] ::slotted([part='value']) {
      flex: auto;
      white-space: nowrap;
      overflow: hidden;
      width: 100%;
      height: 100%;
    }

    [part='input-field'] ::slotted(textarea) {
      resize: none;
    }

    [part='clear-button'] {
      display: none;
      cursor: default;
    }

    [part='clear-button']::before {
      content: '';
    }

    :host([clear-button-visible][has-value]:not([disabled]):not([readonly])) [part='clear-button'] {
      display: block;
    }
  `,{moduleId:"vaadin-text-field-shared-styles"});const c={default:["autofocus","pattern","autocapitalize","autocorrect","maxlength","minlength","name","placeholder","autocomplete","title","disabled","readonly","required"],accessible:["invalid"]},h={DEFAULT:"default",ACCESSIBLE:"accessible"},d=e=>class extends e{static get properties(){return{autocomplete:{type:String},autocorrect:{type:String},autocapitalize:{type:String},autoselect:{type:Boolean,value:!1},clearButtonVisible:{type:Boolean,value:!1,reflectToAttribute:!0},errorMessage:{type:String,value:"",observer:"_errorMessageChanged"},i18n:{type:Object,value:()=>({clear:"Clear"})},label:{type:String,value:"",observer:"_labelChanged"},helperText:{type:String,value:"",observer:"_helperTextChanged"},maxlength:{type:Number},minlength:{type:Number},name:{type:String},placeholder:{type:String},readonly:{type:Boolean,reflectToAttribute:!0},required:{type:Boolean,reflectToAttribute:!0},value:{type:String,value:"",observer:"_valueChanged",notify:!0},invalid:{type:Boolean,reflectToAttribute:!0,notify:!0,value:!1},preventInvalidInput:{type:Boolean},_enabledCharPattern:String,_labelId:String,_helperTextId:String,_errorId:String,_inputId:String,_hasSlottedHelper:Boolean}}static get observers(){return["_hostPropsChanged("+c.default.join(", ")+")","_hostAccessiblePropsChanged("+c.accessible.join(", ")+")","_getActiveErrorId(invalid, errorMessage, _errorId, helperText, _helperTextId, _hasSlottedHelper)","_getActiveLabelId(label, _labelId, _inputId)","__observeOffsetHeight(errorMessage, invalid, label, helperText)","__enabledCharPatternChanged(_enabledCharPattern)"]}get focusElement(){if(!this.shadowRoot)return;const e=this.querySelector(`${this._slottedTagName}[slot="${this._slottedTagName}"]`);return e||this.shadowRoot.querySelector('[part="value"]')}get inputElement(){return this.focusElement}get _slottedTagName(){return"input"}_createConstraintsObserver(){this._createMethodObserver("_constraintsChanged(required, minlength, maxlength, pattern)")}_onInput(e){if(this.preventInvalidInput){const e=this.inputElement;if(e.value.length>0&&!this.checkValidity())return e.value=this.value||"",this.setAttribute("input-prevented",""),void(this._inputDebouncer=a.dx.debounce(this._inputDebouncer,l.Wc.after(200),(()=>{this.removeAttribute("input-prevented")})))}e.__fromClearButton||(this.__userInput=!0),this.value=e.target.value,this.__userInput=!1}_onChange(e){if(this._valueClearing)return;const t=new CustomEvent("change",{detail:{sourceEvent:e},bubbles:e.bubbles,cancelable:e.cancelable});this.dispatchEvent(t)}_valueChanged(e,t){""===e&&void 0===t||(""!==e&&null!=e?this.setAttribute("has-value",""):this.removeAttribute("has-value"),this.__userInput||(void 0!==e?this.inputElement.value=e:this.value=this.inputElement.value="",this.invalid&&this.validate()))}_labelChanged(e){this._setOrToggleAttribute("has-label",!!e,this)}_helperTextChanged(e){this._setOrToggleAttribute("has-helper",!!e,this)}_errorMessageChanged(e){this._setOrToggleAttribute("has-error-message",!!e,this)}_onHelperSlotChange(){const e=this.shadowRoot.querySelector('[name="helper"]').assignedNodes({flatten:!0});this._hasSlottedHelper=e.filter((e=>3!==e.nodeType)).length,this._hasSlottedHelper?this.setAttribute("has-helper","slotted"):""!==this.helperText&&null!==this.helperText||this.removeAttribute("has-helper")}_onSlotChange(){const e=this.querySelector(`${this._slottedTagName}[slot="${this._slottedTagName}"]`);this.value&&(this.inputElement.value=this.value,this.validate()),e&&!this._slottedInput?(this._validateSlottedValue(e),this._addInputListeners(e),this._slottedInput=e):!e&&this._slottedInput&&(this._removeInputListeners(this._slottedInput),this._slottedInput=void 0),Object.keys(h).map((e=>h[e])).forEach((e=>this._propagateHostAttributes(c[e].map((e=>this[e])),e)))}_hostPropsChanged(...e){this._propagateHostAttributes(e,h.DEFAULT)}_hostAccessiblePropsChanged(...e){this._propagateHostAttributes(e,h.ACCESSIBLE)}_validateSlottedValue(e){e.value!==this.value&&(console.warn("Please define value on the vaadin-text-field component!"),e.value="")}_propagateHostAttributes(e,t){const i=this.inputElement,r=c[t];t===h.ACCESSIBLE?r.forEach(((t,r)=>{this._setOrToggleAttribute(t,e[r],i),this._setOrToggleAttribute(`aria-${t}`,!!e[r]&&"true",i)})):r.forEach(((t,r)=>{this._setOrToggleAttribute(t,e[r],i)}))}_setOrToggleAttribute(e,t,i){e&&i&&(t?i.setAttribute(e,"boolean"==typeof t?"":t):i.removeAttribute(e))}_constraintsChanged(e,t,i,r){this.invalid&&(e||t||i||r?this.validate():this.invalid=!1)}checkValidity(){return this.required||this.pattern||this.maxlength||this.minlength||this.__forceCheckValidity?this.inputElement.checkValidity():!this.invalid}_addInputListeners(e){e.addEventListener("input",this._boundOnInput),e.addEventListener("change",this._boundOnChange),e.addEventListener("blur",this._boundOnBlur),e.addEventListener("focus",this._boundOnFocus),e.addEventListener("paste",this._boundOnPaste),e.addEventListener("drop",this._boundOnDrop),e.addEventListener("beforeinput",this._boundOnBeforeInput)}_removeInputListeners(e){e.removeEventListener("input",this._boundOnInput),e.removeEventListener("change",this._boundOnChange),e.removeEventListener("blur",this._boundOnBlur),e.removeEventListener("focus",this._boundOnFocus),e.removeEventListener("paste",this._boundOnPaste),e.removeEventListener("drop",this._boundOnDrop),e.removeEventListener("beforeinput",this._boundOnBeforeInput)}ready(){super.ready(),this._createConstraintsObserver(),this._boundOnInput=this._onInput.bind(this),this._boundOnChange=this._onChange.bind(this),this._boundOnBlur=this._onBlur.bind(this),this._boundOnFocus=this._onFocus.bind(this),this._boundOnPaste=this._onPaste.bind(this),this._boundOnDrop=this._onDrop.bind(this),this._boundOnBeforeInput=this._onBeforeInput.bind(this);const e=this.shadowRoot.querySelector('[part="value"]');this._slottedInput=this.querySelector(`${this._slottedTagName}[slot="${this._slottedTagName}"]`),this._addInputListeners(e),this._slottedInput&&this._addInputListeners(this._slottedInput),this.shadowRoot.querySelector('[name="input"], [name="textarea"]').addEventListener("slotchange",this._onSlotChange.bind(this)),this._onHelperSlotChange(),this.shadowRoot.querySelector('[name="helper"]').addEventListener("slotchange",this._onHelperSlotChange.bind(this)),this.$.clearButton.addEventListener("mousedown",(()=>this._valueClearing=!0)),this.$.clearButton.addEventListener("mouseleave",(()=>this._valueClearing=!1)),this.$.clearButton.addEventListener("click",this._onClearButtonClick.bind(this)),this.addEventListener("keydown",this._onKeyDown.bind(this));var t=d._uniqueId=1+d._uniqueId||0;this._errorId=`${this.constructor.is}-error-${t}`,this._labelId=`${this.constructor.is}-label-${t}`,this._helperTextId=`${this.constructor.is}-helper-${t}`,this._inputId=`${this.constructor.is}-input-${t}`,this.shadowRoot.querySelector('[part="error-message"]').addEventListener("transitionend",(()=>{this.__observeOffsetHeight()}))}validate(){return!(this.invalid=!this.checkValidity())}clear(){this.value=""}_onBlur(){this.validate()}_onFocus(){this.autoselect&&(this.inputElement.select(),setTimeout((()=>{try{this.inputElement.setSelectionRange(0,9999)}catch(e){}})))}_onClearButtonClick(e){e.preventDefault(),this.inputElement.focus(),this.clear(),this._valueClearing=!1;const t=new Event("input",{bubbles:!0,composed:!0});t.__fromClearButton=!0;const i=new Event("change",{bubbles:!this._slottedInput});i.__fromClearButton=!0,this.inputElement.dispatchEvent(t),this.inputElement.dispatchEvent(i)}_onKeyDown(e){if(27===e.keyCode&&this.clearButtonVisible){const e=!!this.value;this.clear(),e&&this.inputElement.dispatchEvent(new Event("change",{bubbles:!this._slottedInput}))}this._enabledCharPattern&&!this.__shouldAcceptKey(e)&&e.preventDefault()}__shouldAcceptKey(e){return e.metaKey||e.ctrlKey||!e.key||1!==e.key.length||this.__enabledCharRegExp.test(e.key)}_onPaste(e){if(this._enabledCharPattern){const t=(e.clipboardData||window.clipboardData).getData("text");this.__enabledTextRegExp.test(t)||e.preventDefault()}}_onDrop(e){if(this._enabledCharPattern){const t=e.dataTransfer.getData("text");this.__enabledTextRegExp.test(t)||e.preventDefault()}}_onBeforeInput(e){this._enabledCharPattern&&e.data&&!this.__enabledTextRegExp.test(e.data)&&e.preventDefault()}__enabledCharPatternChanged(e){this.__enabledCharRegExp=e&&new RegExp("^"+e+"$"),this.__enabledTextRegExp=e&&new RegExp("^"+e+"*$")}_getActiveErrorId(e,t,i,r,n,s){const o=[];(r||s)&&o.push(n),t&&e&&o.push(i),this._setOrToggleAttribute("aria-describedby",o.join(" "),this.focusElement)}_getActiveLabelId(e,t,i){let r=i;e&&(r=`${t} ${i}`),this.focusElement.setAttribute("aria-labelledby",r)}_getErrorMessageAriaHidden(e,t,i){return(!(t&&e?i:void 0)).toString()}_dispatchIronResizeEventIfNeeded(e,t){const i="__previous"+e;void 0!==this[i]&&this[i]!==t&&this.dispatchEvent(new CustomEvent("iron-resize",{bubbles:!0,composed:!0})),this[i]=t}__observeOffsetHeight(){this.__observeOffsetHeightDebouncer=a.dx.debounce(this.__observeOffsetHeightDebouncer,l.rs,(()=>{this._dispatchIronResizeEventIfNeeded("Height",this.offsetHeight)}))}get __data(){return this.__dataValue||{}}set __data(e){this.__dataValue=e}};var u=i(94550),p=i(10800),f=i(38023);class m extends((0,f.S)(d((0,u.$)((0,p.T)(o.H3))))){static get template(){return o.dy`
      <style include="vaadin-text-field-shared-styles"></style>

      <div class="vaadin-text-field-container">
        <label part="label" on-click="focus" id="[[_labelId]]">[[label]]</label>

        <div part="input-field" id="[[_inputId]]">
          <slot name="prefix"></slot>

          <slot name="input">
            <input part="value" />
          </slot>

          <div part="clear-button" id="clearButton" role="button" aria-label$="[[i18n.clear]]"></div>
          <slot name="suffix"></slot>
        </div>

        <div part="helper-text" on-click="focus" id="[[_helperTextId]]">
          <slot name="helper">[[helperText]]</slot>
        </div>

        <div
          part="error-message"
          id="[[_errorId]]"
          aria-live="assertive"
          aria-hidden$="[[_getErrorMessageAriaHidden(invalid, errorMessage, _errorId)]]"
          >[[errorMessage]]</div
        >
      </div>
    `}static get is(){return"vaadin-text-field"}static get version(){return"3.0.2"}static get properties(){return{pattern:{type:String},title:{type:String}}}}customElements.define(m.is,m)},36617:(e,t,i)=>{"use strict";i.d(t,{iv:()=>ee,hC:()=>se});i(64262);const r="undefined"!=typeof window&&null!=window.customElements&&void 0!==window.customElements.polyfillWrapFlushCallback,n=(e,t,i=null)=>{for(;t!==i;){const i=t.nextSibling;e.removeChild(t),t=i}},s=`{{lit-${String(Math.random()).slice(2)}}}`,o=`\x3c!--${s}--\x3e`,a=new RegExp(`${s}|${o}`),l="$lit$";class c{constructor(e,t){this.parts=[],this.element=t;const i=[],r=[],n=document.createTreeWalker(t.content,133,null,!1);let o=0,c=-1,d=0;const{strings:f,values:{length:m}}=e;for(;d<m;){const e=n.nextNode();if(null!==e){if(c++,1===e.nodeType){if(e.hasAttributes()){const t=e.attributes,{length:i}=t;let r=0;for(let e=0;e<i;e++)h(t[e].name,l)&&r++;for(;r-- >0;){const t=f[d],i=p.exec(t)[2],r=i.toLowerCase()+l,n=e.getAttribute(r);e.removeAttribute(r);const s=n.split(a);this.parts.push({type:"attribute",index:c,name:i,strings:s}),d+=s.length-1}}"TEMPLATE"===e.tagName&&(r.push(e),n.currentNode=e.content)}else if(3===e.nodeType){const t=e.data;if(t.indexOf(s)>=0){const r=e.parentNode,n=t.split(a),s=n.length-1;for(let t=0;t<s;t++){let i,s=n[t];if(""===s)i=u();else{const e=p.exec(s);null!==e&&h(e[2],l)&&(s=s.slice(0,e.index)+e[1]+e[2].slice(0,-l.length)+e[3]),i=document.createTextNode(s)}r.insertBefore(i,e),this.parts.push({type:"node",index:++c})}""===n[s]?(r.insertBefore(u(),e),i.push(e)):e.data=n[s],d+=s}}else if(8===e.nodeType)if(e.data===s){const t=e.parentNode;null!==e.previousSibling&&c!==o||(c++,t.insertBefore(u(),e)),o=c,this.parts.push({type:"node",index:c}),null===e.nextSibling?e.data="":(i.push(e),c--),d++}else{let t=-1;for(;-1!==(t=e.data.indexOf(s,t+1));)this.parts.push({type:"node",index:-1}),d++}}else n.currentNode=r.pop()}for(const e of i)e.parentNode.removeChild(e)}}const h=(e,t)=>{const i=e.length-t.length;return i>=0&&e.slice(i)===t},d=e=>-1!==e.index,u=()=>document.createComment(""),p=/([ \x09\x0a\x0c\x0d])([^\0-\x1F\x7F-\x9F "'>=/]+)([ \x09\x0a\x0c\x0d]*=[ \x09\x0a\x0c\x0d]*(?:[^ \x09\x0a\x0c\x0d"'`<>=]*|"[^"]*|'[^']*))$/;function f(e,t){const{element:{content:i},parts:r}=e,n=document.createTreeWalker(i,133,null,!1);let s=_(r),o=r[s],a=-1,l=0;const c=[];let h=null;for(;n.nextNode();){a++;const e=n.currentNode;for(e.previousSibling===h&&(h=null),t.has(e)&&(c.push(e),null===h&&(h=e)),null!==h&&l++;void 0!==o&&o.index===a;)o.index=null!==h?-1:o.index-l,s=_(r,s),o=r[s]}c.forEach((e=>e.parentNode.removeChild(e)))}const m=e=>{let t=11===e.nodeType?0:1;const i=document.createTreeWalker(e,133,null,!1);for(;i.nextNode();)t++;return t},_=(e,t=-1)=>{for(let i=t+1;i<e.length;i++){const t=e[i];if(d(t))return i}return-1};const g=new WeakMap,y=e=>"function"==typeof e&&g.has(e),v={},b={};class w{constructor(e,t,i){this.__parts=[],this.template=e,this.processor=t,this.options=i}update(e){let t=0;for(const i of this.__parts)void 0!==i&&i.setValue(e[t]),t++;for(const e of this.__parts)void 0!==e&&e.commit()}_clone(){const e=r?this.template.element.content.cloneNode(!0):document.importNode(this.template.element.content,!0),t=[],i=this.template.parts,n=document.createTreeWalker(e,133,null,!1);let s,o=0,a=0,l=n.nextNode();for(;o<i.length;)if(s=i[o],d(s)){for(;a<s.index;)a++,"TEMPLATE"===l.nodeName&&(t.push(l),n.currentNode=l.content),null===(l=n.nextNode())&&(n.currentNode=t.pop(),l=n.nextNode());if("node"===s.type){const e=this.processor.handleTextExpression(this.options);e.insertAfterNode(l.previousSibling),this.__parts.push(e)}else this.__parts.push(...this.processor.handleAttributeExpressions(l,s.name,s.strings,this.options));o++}else this.__parts.push(void 0),o++;return r&&(document.adoptNode(e),customElements.upgrade(e)),e}}const x=window.trustedTypes&&trustedTypes.createPolicy("lit-html",{createHTML:e=>e}),C=` ${s} `;class S{constructor(e,t,i,r){this.strings=e,this.values=t,this.type=i,this.processor=r}getHTML(){const e=this.strings.length-1;let t="",i=!1;for(let r=0;r<e;r++){const e=this.strings[r],n=e.lastIndexOf("\x3c!--");i=(n>-1||i)&&-1===e.indexOf("--\x3e",n+1);const a=p.exec(e);t+=null===a?e+(i?C:o):e.substr(0,a.index)+a[1]+a[2]+l+a[3]+s}return t+=this.strings[e],t}getTemplateElement(){const e=document.createElement("template");let t=this.getHTML();return void 0!==x&&(t=x.createHTML(t)),e.innerHTML=t,e}}const A=e=>null===e||!("object"==typeof e||"function"==typeof e),T=e=>Array.isArray(e)||!(!e||!e[Symbol.iterator]);class k{constructor(e,t,i){this.dirty=!0,this.element=e,this.name=t,this.strings=i,this.parts=[];for(let e=0;e<i.length-1;e++)this.parts[e]=this._createPart()}_createPart(){return new O(this)}_getValue(){const e=this.strings,t=e.length-1,i=this.parts;if(1===t&&""===e[0]&&""===e[1]){const e=i[0].value;if("symbol"==typeof e)return String(e);if("string"==typeof e||!T(e))return e}let r="";for(let n=0;n<t;n++){r+=e[n];const t=i[n];if(void 0!==t){const e=t.value;if(A(e)||!T(e))r+="string"==typeof e?e:String(e);else for(const t of e)r+="string"==typeof t?t:String(t)}}return r+=e[t],r}commit(){this.dirty&&(this.dirty=!1,this.element.setAttribute(this.name,this._getValue()))}}class O{constructor(e){this.value=void 0,this.committer=e}setValue(e){e===v||A(e)&&e===this.value||(this.value=e,y(e)||(this.committer.dirty=!0))}commit(){for(;y(this.value);){const e=this.value;this.value=v,e(this)}this.value!==v&&this.committer.commit()}}class P{constructor(e){this.value=void 0,this.__pendingValue=void 0,this.options=e}appendInto(e){this.startNode=e.appendChild(u()),this.endNode=e.appendChild(u())}insertAfterNode(e){this.startNode=e,this.endNode=e.nextSibling}appendIntoPart(e){e.__insert(this.startNode=u()),e.__insert(this.endNode=u())}insertAfterPart(e){e.__insert(this.startNode=u()),this.endNode=e.endNode,e.endNode=this.startNode}setValue(e){this.__pendingValue=e}commit(){if(null===this.startNode.parentNode)return;for(;y(this.__pendingValue);){const e=this.__pendingValue;this.__pendingValue=v,e(this)}const e=this.__pendingValue;e!==v&&(A(e)?e!==this.value&&this.__commitText(e):e instanceof S?this.__commitTemplateResult(e):e instanceof Node?this.__commitNode(e):T(e)?this.__commitIterable(e):e===b?(this.value=b,this.clear()):this.__commitText(e))}__insert(e){this.endNode.parentNode.insertBefore(e,this.endNode)}__commitNode(e){this.value!==e&&(this.clear(),this.__insert(e),this.value=e)}__commitText(e){const t=this.startNode.nextSibling,i="string"==typeof(e=null==e?"":e)?e:String(e);t===this.endNode.previousSibling&&3===t.nodeType?t.data=i:this.__commitNode(document.createTextNode(i)),this.value=e}__commitTemplateResult(e){const t=this.options.templateFactory(e);if(this.value instanceof w&&this.value.template===t)this.value.update(e.values);else{const i=new w(t,e.processor,this.options),r=i._clone();i.update(e.values),this.__commitNode(r),this.value=i}}__commitIterable(e){Array.isArray(this.value)||(this.value=[],this.clear());const t=this.value;let i,r=0;for(const n of e)i=t[r],void 0===i&&(i=new P(this.options),t.push(i),0===r?i.appendIntoPart(this):i.insertAfterPart(t[r-1])),i.setValue(n),i.commit(),r++;r<t.length&&(t.length=r,this.clear(i&&i.endNode))}clear(e=this.startNode){n(this.startNode.parentNode,e.nextSibling,this.endNode)}}class I{constructor(e,t,i){if(this.value=void 0,this.__pendingValue=void 0,2!==i.length||""!==i[0]||""!==i[1])throw new Error("Boolean attributes can only contain a single expression");this.element=e,this.name=t,this.strings=i}setValue(e){this.__pendingValue=e}commit(){for(;y(this.__pendingValue);){const e=this.__pendingValue;this.__pendingValue=v,e(this)}if(this.__pendingValue===v)return;const e=!!this.__pendingValue;this.value!==e&&(e?this.element.setAttribute(this.name,""):this.element.removeAttribute(this.name),this.value=e),this.__pendingValue=v}}class E extends k{constructor(e,t,i){super(e,t,i),this.single=2===i.length&&""===i[0]&&""===i[1]}_createPart(){return new M(this)}_getValue(){return this.single?this.parts[0].value:super._getValue()}commit(){this.dirty&&(this.dirty=!1,this.element[this.name]=this._getValue())}}class M extends O{}let R=!1;(()=>{try{const e={get capture(){return R=!0,!1}};window.addEventListener("test",e,e),window.removeEventListener("test",e,e)}catch(e){}})();class N{constructor(e,t,i){this.value=void 0,this.__pendingValue=void 0,this.element=e,this.eventName=t,this.eventContext=i,this.__boundHandleEvent=e=>this.handleEvent(e)}setValue(e){this.__pendingValue=e}commit(){for(;y(this.__pendingValue);){const e=this.__pendingValue;this.__pendingValue=v,e(this)}if(this.__pendingValue===v)return;const e=this.__pendingValue,t=this.value,i=null==e||null!=t&&(e.capture!==t.capture||e.once!==t.once||e.passive!==t.passive),r=null!=e&&(null==t||i);i&&this.element.removeEventListener(this.eventName,this.__boundHandleEvent,this.__options),r&&(this.__options=L(e),this.element.addEventListener(this.eventName,this.__boundHandleEvent,this.__options)),this.value=e,this.__pendingValue=v}handleEvent(e){"function"==typeof this.value?this.value.call(this.eventContext||this.element,e):this.value.handleEvent(e)}}const L=e=>e&&(R?{capture:e.capture,passive:e.passive,once:e.once}:e.capture);function D(e){let t=z.get(e.type);void 0===t&&(t={stringsArray:new WeakMap,keyString:new Map},z.set(e.type,t));let i=t.stringsArray.get(e.strings);if(void 0!==i)return i;const r=e.strings.join(s);return i=t.keyString.get(r),void 0===i&&(i=new c(e,e.getTemplateElement()),t.keyString.set(r,i)),t.stringsArray.set(e.strings,i),i}const z=new Map,F=new WeakMap;new class{handleAttributeExpressions(e,t,i,r){const n=t[0];if("."===n){return new E(e,t.slice(1),i).parts}if("@"===n)return[new N(e,t.slice(1),r.eventContext)];if("?"===n)return[new I(e,t.slice(1),i)];return new k(e,t,i).parts}handleTextExpression(e){return new P(e)}};"undefined"!=typeof window&&(window.litHtmlVersions||(window.litHtmlVersions=[])).push("1.3.0");const j=(e,t)=>`${e}--${t}`;let B=!0;void 0===window.ShadyCSS?B=!1:void 0===window.ShadyCSS.prepareTemplateDom&&(console.warn("Incompatible ShadyCSS version detected. Please update to at least @webcomponents/webcomponentsjs@2.0.2 and @webcomponents/shadycss@1.3.1."),B=!1);const V=e=>t=>{const i=j(t.type,e);let r=z.get(i);void 0===r&&(r={stringsArray:new WeakMap,keyString:new Map},z.set(i,r));let n=r.stringsArray.get(t.strings);if(void 0!==n)return n;const o=t.strings.join(s);if(n=r.keyString.get(o),void 0===n){const i=t.getTemplateElement();B&&window.ShadyCSS.prepareTemplateDom(i,e),n=new c(t,i),r.keyString.set(o,n)}return r.stringsArray.set(t.strings,n),n},U=["html","svg"],G=new Set,Z=(e,t,i)=>{G.add(e);const r=i?i.element:document.createElement("template"),n=t.querySelectorAll("style"),{length:s}=n;if(0===s)return void window.ShadyCSS.prepareTemplateStyles(r,e);const o=document.createElement("style");for(let e=0;e<s;e++){const t=n[e];t.parentNode.removeChild(t),o.textContent+=t.textContent}(e=>{U.forEach((t=>{const i=z.get(j(t,e));void 0!==i&&i.keyString.forEach((e=>{const{element:{content:t}}=e,i=new Set;Array.from(t.querySelectorAll("style")).forEach((e=>{i.add(e)})),f(e,i)}))}))})(e);const a=r.content;i?function(e,t,i=null){const{element:{content:r},parts:n}=e;if(null==i)return void r.appendChild(t);const s=document.createTreeWalker(r,133,null,!1);let o=_(n),a=0,l=-1;for(;s.nextNode();)for(l++,s.currentNode===i&&(a=m(t),i.parentNode.insertBefore(t,i));-1!==o&&n[o].index===l;){if(a>0){for(;-1!==o;)n[o].index+=a,o=_(n,o);return}o=_(n,o)}}(i,o,a.firstChild):a.insertBefore(o,a.firstChild),window.ShadyCSS.prepareTemplateStyles(r,e);const l=a.querySelector("style");if(window.ShadyCSS.nativeShadow&&null!==l)t.insertBefore(l.cloneNode(!0),t.firstChild);else if(i){a.insertBefore(o,a.firstChild);const e=new Set;e.add(o),f(i,e)}};window.JSCompiler_renameProperty=(e,t)=>e;const H={toAttribute(e,t){switch(t){case Boolean:return e?"":null;case Object:case Array:return null==e?e:JSON.stringify(e)}return e},fromAttribute(e,t){switch(t){case Boolean:return null!==e;case Number:return null===e?null:Number(e);case Object:case Array:return JSON.parse(e)}return e}},W=(e,t)=>t!==e&&(t==t||e==e),q={attribute:!0,type:String,converter:H,reflect:!1,hasChanged:W},$="finalized";class J extends HTMLElement{constructor(){super(),this.initialize()}static get observedAttributes(){this.finalize();const e=[];return this._classProperties.forEach(((t,i)=>{const r=this._attributeNameForProperty(i,t);void 0!==r&&(this._attributeToPropertyMap.set(r,i),e.push(r))})),e}static _ensureClassProperties(){if(!this.hasOwnProperty(JSCompiler_renameProperty("_classProperties",this))){this._classProperties=new Map;const e=Object.getPrototypeOf(this)._classProperties;void 0!==e&&e.forEach(((e,t)=>this._classProperties.set(t,e)))}}static createProperty(e,t=q){if(this._ensureClassProperties(),this._classProperties.set(e,t),t.noAccessor||this.prototype.hasOwnProperty(e))return;const i="symbol"==typeof e?Symbol():`__${e}`,r=this.getPropertyDescriptor(e,i,t);void 0!==r&&Object.defineProperty(this.prototype,e,r)}static getPropertyDescriptor(e,t,i){return{get(){return this[t]},set(r){const n=this[e];this[t]=r,this.requestUpdateInternal(e,n,i)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this._classProperties&&this._classProperties.get(e)||q}static finalize(){const e=Object.getPrototypeOf(this);if(e.hasOwnProperty($)||e.finalize(),this.finalized=!0,this._ensureClassProperties(),this._attributeToPropertyMap=new Map,this.hasOwnProperty(JSCompiler_renameProperty("properties",this))){const e=this.properties,t=[...Object.getOwnPropertyNames(e),..."function"==typeof Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e):[]];for(const i of t)this.createProperty(i,e[i])}}static _attributeNameForProperty(e,t){const i=t.attribute;return!1===i?void 0:"string"==typeof i?i:"string"==typeof e?e.toLowerCase():void 0}static _valueHasChanged(e,t,i=W){return i(e,t)}static _propertyValueFromAttribute(e,t){const i=t.type,r=t.converter||H,n="function"==typeof r?r:r.fromAttribute;return n?n(e,i):e}static _propertyValueToAttribute(e,t){if(void 0===t.reflect)return;const i=t.type,r=t.converter;return(r&&r.toAttribute||H.toAttribute)(e,i)}initialize(){this._updateState=0,this._updatePromise=new Promise((e=>this._enableUpdatingResolver=e)),this._changedProperties=new Map,this._saveInstanceProperties(),this.requestUpdateInternal()}_saveInstanceProperties(){this.constructor._classProperties.forEach(((e,t)=>{if(this.hasOwnProperty(t)){const e=this[t];delete this[t],this._instanceProperties||(this._instanceProperties=new Map),this._instanceProperties.set(t,e)}}))}_applyInstanceProperties(){this._instanceProperties.forEach(((e,t)=>this[t]=e)),this._instanceProperties=void 0}connectedCallback(){this.enableUpdating()}enableUpdating(){void 0!==this._enableUpdatingResolver&&(this._enableUpdatingResolver(),this._enableUpdatingResolver=void 0)}disconnectedCallback(){}attributeChangedCallback(e,t,i){t!==i&&this._attributeToProperty(e,i)}_propertyToAttribute(e,t,i=q){const r=this.constructor,n=r._attributeNameForProperty(e,i);if(void 0!==n){const e=r._propertyValueToAttribute(t,i);if(void 0===e)return;this._updateState=8|this._updateState,null==e?this.removeAttribute(n):this.setAttribute(n,e),this._updateState=-9&this._updateState}}_attributeToProperty(e,t){if(8&this._updateState)return;const i=this.constructor,r=i._attributeToPropertyMap.get(e);if(void 0!==r){const e=i.getPropertyOptions(r);this._updateState=16|this._updateState,this[r]=i._propertyValueFromAttribute(t,e),this._updateState=-17&this._updateState}}requestUpdateInternal(e,t,i){let r=!0;if(void 0!==e){const n=this.constructor;i=i||n.getPropertyOptions(e),n._valueHasChanged(this[e],t,i.hasChanged)?(this._changedProperties.has(e)||this._changedProperties.set(e,t),!0!==i.reflect||16&this._updateState||(void 0===this._reflectingProperties&&(this._reflectingProperties=new Map),this._reflectingProperties.set(e,i))):r=!1}!this._hasRequestedUpdate&&r&&(this._updatePromise=this._enqueueUpdate())}requestUpdate(e,t){return this.requestUpdateInternal(e,t),this.updateComplete}async _enqueueUpdate(){this._updateState=4|this._updateState;try{await this._updatePromise}catch(e){}const e=this.performUpdate();return null!=e&&await e,!this._hasRequestedUpdate}get _hasRequestedUpdate(){return 4&this._updateState}get hasUpdated(){return 1&this._updateState}performUpdate(){if(!this._hasRequestedUpdate)return;this._instanceProperties&&this._applyInstanceProperties();let e=!1;const t=this._changedProperties;try{e=this.shouldUpdate(t),e?this.update(t):this._markUpdated()}catch(t){throw e=!1,this._markUpdated(),t}e&&(1&this._updateState||(this._updateState=1|this._updateState,this.firstUpdated(t)),this.updated(t))}_markUpdated(){this._changedProperties=new Map,this._updateState=-5&this._updateState}get updateComplete(){return this._getUpdateComplete()}_getUpdateComplete(){return this._updatePromise}shouldUpdate(e){return!0}update(e){void 0!==this._reflectingProperties&&this._reflectingProperties.size>0&&(this._reflectingProperties.forEach(((e,t)=>this._propertyToAttribute(t,this[t],e))),this._reflectingProperties=void 0),this._markUpdated()}updated(e){}firstUpdated(e){}}J.finalized=!0;const Y=Element.prototype;Y.msMatchesSelector||Y.webkitMatchesSelector;const K=window.ShadowRoot&&(void 0===window.ShadyCSS||window.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,X=Symbol();class Q{constructor(e,t){if(t!==X)throw new Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e}get styleSheet(){return void 0===this._styleSheet&&(K?(this._styleSheet=new CSSStyleSheet,this._styleSheet.replaceSync(this.cssText)):this._styleSheet=null),this._styleSheet}toString(){return this.cssText}}const ee=(e,...t)=>{const i=t.reduce(((t,i,r)=>t+(e=>{if(e instanceof Q)return e.cssText;if("number"==typeof e)return e;throw new Error(`Value passed to 'css' function must be a 'css' function result: ${e}. Use 'unsafeCSS' to pass non-literal values, but\n            take care to ensure page security.`)})(i)+e[r+1]),e[0]);return new Q(i,X)};(window.litElementVersions||(window.litElementVersions=[])).push("2.4.0");const te={};class ie extends J{static getStyles(){return this.styles}static _getUniqueStyles(){if(this.hasOwnProperty(JSCompiler_renameProperty("_styles",this)))return;const e=this.getStyles();if(Array.isArray(e)){const t=(e,i)=>e.reduceRight(((e,i)=>Array.isArray(i)?t(i,e):(e.add(i),e)),i),i=t(e,new Set),r=[];i.forEach((e=>r.unshift(e))),this._styles=r}else this._styles=void 0===e?[]:[e];this._styles=this._styles.map((e=>{if(e instanceof CSSStyleSheet&&!K){const t=Array.prototype.slice.call(e.cssRules).reduce(((e,t)=>e+t.cssText),"");return new Q(String(t),X)}return e}))}initialize(){super.initialize(),this.constructor._getUniqueStyles(),this.renderRoot=this.createRenderRoot(),window.ShadowRoot&&this.renderRoot instanceof window.ShadowRoot&&this.adoptStyles()}createRenderRoot(){return this.attachShadow({mode:"open"})}adoptStyles(){const e=this.constructor._styles;0!==e.length&&(void 0===window.ShadyCSS||window.ShadyCSS.nativeShadow?K?this.renderRoot.adoptedStyleSheets=e.map((e=>e instanceof CSSStyleSheet?e:e.styleSheet)):this._needsShimAdoptedStyleSheets=!0:window.ShadyCSS.ScopingShim.prepareAdoptedCssText(e.map((e=>e.cssText)),this.localName))}connectedCallback(){super.connectedCallback(),this.hasUpdated&&void 0!==window.ShadyCSS&&window.ShadyCSS.styleElement(this)}update(e){const t=this.render();super.update(e),t!==te&&this.constructor.render(t,this.renderRoot,{scopeName:this.localName,eventContext:this}),this._needsShimAdoptedStyleSheets&&(this._needsShimAdoptedStyleSheets=!1,this.constructor._styles.forEach((e=>{const t=document.createElement("style");t.textContent=e.cssText,this.renderRoot.appendChild(t)})))}render(){return te}}ie.finalized=!0,ie.render=(e,t,i)=>{if(!i||"object"!=typeof i||!i.scopeName)throw new Error("The `scopeName` option is required.");const r=i.scopeName,s=F.has(t),o=B&&11===t.nodeType&&!!t.host,a=o&&!G.has(r),l=a?document.createDocumentFragment():t;if(((e,t,i)=>{let r=F.get(t);void 0===r&&(n(t,t.firstChild),F.set(t,r=new P(Object.assign({templateFactory:D},i))),r.appendInto(t)),r.setValue(e),r.commit()})(e,l,Object.assign({templateFactory:V(r)},i)),a){const e=F.get(l);F.delete(l);const i=e.value instanceof w?e.value.template:void 0;Z(r,l,i),n(t,t.firstChild),t.appendChild(l),F.set(t,e)}!s&&o&&window.ShadyCSS.styleElement(t.host)};let re=0;const ne={},se=(e,t,i)=>{const r=i&&i.moduleId||"custom-style-module-"+re++;Array.isArray(t)||(t=t?[t]:[]),t.forEach((e=>{if(!(e instanceof Q))throw new Error("An item in styles is not of type CSSResult. Use `unsafeCSS` or `css`.");if(!ne[e]){const t=document.createElement("dom-module");t.innerHTML=`\n        <template>\n          <style>${e.toString()}</style>\n        </template>\n      `;const i="custom-style-module-"+re++;t.register(i),ne[e]=i}}));const n=document.createElement("dom-module");if(e){const t=window.customElements&&window.customElements.get(e);t&&t.hasOwnProperty("__finalized")&&console.warn(`The custom element definition for "${e}"\n      was finalized before a style module was registered.\n      Make sure to add component specific style modules before\n      importing the corresponding custom element.`),n.setAttribute("theme-for",e)}const s=i&&i.include||[];n.innerHTML=`\n    <template>\n      ${s.map((e=>`<style include=${e}></style>`))}\n      ${t.map((e=>`<style include=${ne[e]}></style>`))}\n    </template>\n  `,n.register(r)}},10800:(e,t,i)=>{"use strict";i.d(t,{T:()=>s});var r=i(64262);const n=e=>class extends e{static get properties(){return{theme:{type:String,readOnly:!0}}}attributeChangedCallback(e,t,i){super.attributeChangedCallback(e,t,i),"theme"===e&&this._setTheme(i)}},s=e=>class extends(n(e)){static finalize(){super.finalize();const e=this.prototype._template,t=this.template&&this.template.parentElement&&this.template.parentElement.id===this.is,i=Object.getPrototypeOf(this.prototype)._template;i&&!t&&Array.from(i.content.querySelectorAll("style[include]")).forEach((t=>{this._includeStyle(t.getAttribute("include"),e)})),this._includeMatchingThemes(e)}static _includeMatchingThemes(e){const t=r.t.prototype.modules;let i=!1;const n=this.is+"-default-theme";Object.keys(t).sort(((e,t)=>{const i=0===e.indexOf("vaadin-"),r=0===t.indexOf("vaadin-"),n=["lumo-","material-"],s=n.filter((t=>0===e.indexOf(t))).length>0,o=n.filter((e=>0===t.indexOf(e))).length>0;return i!==r?i?-1:1:s!==o?s?-1:1:0})).forEach((r=>{if(r!==n){const n=t[r].getAttribute("theme-for");n&&n.split(" ").forEach((t=>{new RegExp("^"+t.split("*").join(".*")+"$").test(this.is)&&(i=!0,this._includeStyle(r,e))}))}})),!i&&t[n]&&this._includeStyle(n,e)}static _includeStyle(e,t){if(t&&!t.content.querySelector(`style[include="${e}"]`)){const i=document.createElement("style");i.setAttribute("include",e),t.content.appendChild(i)}}}},79669:(e,t,i)=>{"use strict";i.d(t,{CN:()=>r,$T:()=>n,mA:()=>s});const r=/(?:^|[;\s{]\s*)(--[\w-]*?)\s*:\s*(?:((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};{])+)|\{([^}]*)\}(?:(?=[;\s}])|$))/gi,n=/(?:^|\W+)@apply\s*\(?([^);\n]*)\)?/gi,s=/@media\s(.*)/},91322:(e,t,i)=>{"use strict";i.d(t,{wW:()=>n,B7:()=>s,OH:()=>o});var r=i(79669);function n(e,t){for(let i in t)null===i?e.style.removeProperty(i):e.style.setProperty(i,t[i])}function s(e,t){const i=window.getComputedStyle(e).getPropertyValue(t);return i?i.trim():""}function o(e){const t=r.$T.test(e)||r.CN.test(e);return r.$T.lastIndex=0,r.CN.lastIndex=0,t}},23734:(e,t,i)=>{"use strict";i.d(t,{ZP:()=>d});let r,n=null,s=window.HTMLImports&&window.HTMLImports.whenReady||null;function o(e){requestAnimationFrame((function(){s?s(e):(n||(n=new Promise((e=>{r=e})),"complete"===document.readyState?r():document.addEventListener("readystatechange",(()=>{"complete"===document.readyState&&r()}))),n.then((function(){e&&e()})))}))}const a="__seenByShadyCSS",l="__shadyCSSCachedStyle";let c=null,h=null;class d{constructor(){this.customStyles=[],this.enqueued=!1,o((()=>{window.ShadyCSS.flushCustomStyles&&window.ShadyCSS.flushCustomStyles()}))}enqueueDocumentValidation(){!this.enqueued&&h&&(this.enqueued=!0,o(h))}addCustomStyle(e){e[a]||(e[a]=!0,this.customStyles.push(e),this.enqueueDocumentValidation())}getStyleForCustomStyle(e){if(e[l])return e[l];let t;return t=e.getStyle?e.getStyle():e,t}processStyles(){const e=this.customStyles;for(let t=0;t<e.length;t++){const i=e[t];if(i[l])continue;const r=this.getStyleForCustomStyle(i);if(r){const e=r.__appliedElement||r;c&&c(e),i[l]=e}}return e}}d.prototype.addCustomStyle=d.prototype.addCustomStyle,d.prototype.getStyleForCustomStyle=d.prototype.getStyleForCustomStyle,d.prototype.processStyles=d.prototype.processStyles,Object.defineProperties(d.prototype,{transformCallback:{get:()=>c,set(e){c=e}},validateCallback:{get:()=>h,set(e){let t=!1;h||(t=!0),h=e,t&&this.enqueueDocumentValidation()}}})},3027:(e,t,i)=>{"use strict";i.d(t,{WA:()=>r,Cp:()=>s,jF:()=>a,rd:()=>l});const r=!(window.ShadyDOM&&window.ShadyDOM.inUse);let n,s;function o(e){n=(!e||!e.shimcssproperties)&&(r||Boolean(!navigator.userAgent.match(/AppleWebKit\/601|Edge\/15/)&&window.CSS&&CSS.supports&&CSS.supports("box-shadow","0 0 0 var(--foo)")))}window.ShadyCSS&&void 0!==window.ShadyCSS.cssBuild&&(s=window.ShadyCSS.cssBuild);const a=Boolean(window.ShadyCSS&&window.ShadyCSS.disableRuntime);window.ShadyCSS&&void 0!==window.ShadyCSS.nativeCss?n=window.ShadyCSS.nativeCss:window.ShadyCSS?(o(window.ShadyCSS),window.ShadyCSS=void 0):o(window.WebComponents&&window.WebComponents.flags);const l=n},69376:function(e,t,i){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,i,r){void 0===r&&(r=i),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,r){void 0===r&&(r=i),e[r]=t[i]}),n=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&r(t,e,i);return n(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.createTemplate=void 0;var a=o(i(58484)),l=o(i(97948)),c=o(i(9387)),h=s(i(98675)),d=o(i(22292)),u=o(i(20628)),p=[{name:"mailing-address",title:"mailing-address",expression:"When(IsEmpty($feature.ADDR3),$feature.ADDR1 + TextFormatting.NewLine + $feature.ADDR2,$feature.ADDR1 + TextFormatting.NewLine + $feature.ADDR2 + TextFormatting.NewLine + $feature.ADDR3)"},{name:"property-values",title:"property-values",expression:'"Building Value"+TextFormatting.NewLine+"$"+$feature.BLDG_VAL+TextFormatting.NewLine+"Land Value"+TextFormatting.NewLine+"$"+$feature.LAND_VAL+TextFormatting.NewLine+"Total Value"+TextFormatting.NewLine+"$"+$feature.TOTAL_VALUE_ASSD'},{name:"pin",title:"PIN",expression:"var num = $feature.PIN_NUM;var ext = $feature.PIN_EXT;return When(ext == '000',num,num+' '+ext);"},{name:"build_val",title:"Building Value",expression:"var value = $feature.BLDG_VAL;When(IsEmpty(value),'--', '$'+Text(value, '#,###'));"},{name:"land_val",title:"Land Value",expression:"var value = $feature.LAND_VAL;When(IsEmpty(value),'--', '$'+Text(value, '#,###'));"},{name:"total_val",title:"Total Value",expression:"var value = $feature.TOTAL_VALUE_ASSD;When(IsEmpty(value),'--', '$'+Text(value, '#,###'));"},{name:"sale_price",title:"Sale Price",expression:"var value = $feature.TOTSALPRICE;When(IsEmpty(value),'--', '$'+Text(value, '#,###'));"},{name:"city",title:"City",expression:"var city = $feature.CITY_DECODE;When(IsEmpty(city),'Unincorporated', Proper(city));"},{name:"township",title:"Township",expression:"var ts = $feature.TOWNSHIP_DECODE;When(IsEmpty(ts),'None', Proper(ts));"},{name:"jurisdiction",title:"Jurisdiction",expression:"var juris = $feature.PLANNING_JURISDICTION;When(juris == 'RA', 'Raleigh',juris == 'CA', 'Cary',juris == 'AP', 'Apex',juris == 'AN', 'Angier',juris == 'CL', 'Clayton',juris == 'DU', 'Durham',juris == 'FV', 'Fuquay-Varina',juris == 'GA', 'Garner',juris == 'HS', 'Holly Springs',juris == 'KN', 'Knightdale',juris == 'MO', 'Morrisville',juris == 'RO', 'Rolesville',juris == 'WF', 'Wake Forest',juris == 'WE', 'Wendell',juris == 'ZB', 'Zebulon',juris == 'WC', 'Wake County', 'Wake County');"},{name:"general",title:"general",expression:'"PIN"+TextFormatting.NewLine+$feature.PIN_NUM+" "+$feature.PIN_EXT+TextFormatting.NewLine+"REID"+TextFormatting.NewLine+$feature.REID+TextFormatting.NewLine+"City"+TextFormatting.NewLine+Proper($feature.CITY_DECODE)+TextFormatting.NewLine+"Jurisdiction"+TextFormatting.NewLine+$feature.PLANNING_JURISDICTION+TextFormatting.NewLine+"Township"+TextFormatting.NewLine+Proper($feature.TOWNSHIP_DECODE)'}],f=[{group:{title:"Electoral",layers:["Precincts","Congressional Districts","NC House of Representatives Districts","NC Senate Districts","School Board Districts","Board of Commissioners Districts","Superior Court Districts","Raleigh City Council","Morrisville Town Council Districts"]}},{group:{title:"Environmental",layers:["Special Flood Hazard Areas - FloodPlain - Floodplain","Soils","Critical Watersheds","Water Supply Watersheds"]}}],m=function(e){var t,i=e.detail.requestedAccordionItem.getBoundingClientRect(),r=null===(t=document.querySelector("#featureWidget"))||void 0===t?void 0:t.parentElement;setTimeout((function(){null==r||r.scrollTo({top:i.top+r.scrollTop-155,behavior:"smooth"})}))},_=function(e){var t;return e.graphic.layer.queryRelatedFeatures({relationshipId:null===(t=e.graphic.layer.relationships.find((function(e){return"CONDO_BOOKS"===e.name})))||void 0===t?void 0:t.id,objectIds:[e.graphic.getAttribute("OBJECTID")],outFields:["BOM_DOC_NUM","DEED_DOC_NUM"]}).then((function(t){var i=t[e.graphic.getAttribute("OBJECTID")].features[0].getAttribute("DEED_DOC_NUM"),r=t[e.graphic.getAttribute("OBJECTID")].features[0].getAttribute("BOM_DOC_NUM"),n=document.createElement("div");if(n.setAttribute("style","display: flex;flex-direction: row;"),i){var s=document.createElement("calcite-button");s.setAttribute("scale","s"),s.setAttribute("target","_blank"),s.setAttribute("round",""),s.setAttribute("icon-start","file-text"),s.setAttribute("href","http://services.wakegov.com/booksweb/pdfview.aspx?docid="+i+"&RecordDate="),s.textContent="Deed",n.append(s)}if(r){var o=document.createElement("calcite-button");o.setAttribute("scale","s"),o.setAttribute("target","_blank"),o.setAttribute("round",""),o.setAttribute("icon-start","map"),o.setAttribute("href","http://services.wakegov.com/booksweb/pdfview.aspx?docid="+r+"&RecordDate="),o.textContent="Book of Maps",n.append(o)}return n}))};function g(e){var t=[];e.fields.forEach((function(e){t.push(new u.default({fieldName:e.name,label:e.alias,visible:["SITE_ADDRESS","OWNER","PIN_NUM","PIN_EXT","REID"].includes(e.name)}))}));var i=t.find((function(e){return"PIN_EXT"===e.fieldName})),r=t.find((function(e){return"PIN_NUM"===e.fieldName})),n=t.find((function(e){return"REID"===e.fieldName})),s=t.find((function(e){return"OWNER"===e.fieldName})),o=t.find((function(e){return"SITE_ADDRESS"===e.fieldName}));return(t=t.filter((function(e){return!["SITE_ADDRESS","OWNER","PIN_NUM","PIN_EXT","REID"].includes(e.fieldName)}))).unshift(i),t.unshift(r),t.unshift(n),t.unshift(s),t.unshift(o),t}t.createTemplate=function(e,t){var i=e.map.allLayers.find((function(e){return e.title.includes("Property")&&"feature"===e.type}));return new a.default({expressionInfos:p,fieldInfos:g(t).map((function(e){return{fieldName:e.fieldName,label:e.label,visible:["SITE_ADDRESS","OWNER","PIN_NUM","PIN_EXT","REID"].includes(e.fieldName)}})),content:[{type:"text",text:"<h1>{SITE_ADDRESS}</h1>"},new l.default({outFields:["*"],creator:function(e){var t;return null===(t=e.graphic.layer.relationships.find((function(e){return e.name.includes("PROPERTY")})))||void 0===t||t.relatedTableId,null==i?void 0:i.queryFeatures({where:"REID = '".concat(e.graphic.getAttribute("REID"),"'"),outFields:["OBJECTID","PIN_NUM"],returnGeometry:!0,returnCentroid:!0,outSpatialReference:{wkid:4326}}).then((function(t){return new c.default({url:"https://maps.raleighnc.gov/arcgis/rest/services/Locators/Locator/GeocodeServer",outSpatialReference:{wkid:4326}}).addressToLocations({address:{singleLine:e.graphic.getAttribute("SITE_ADDRESS")},outFields:["*"]}).then((function(i){if(i.length){var r=i[0];if(r){var n,s,o,a,l,c=h.geodesicDistance(r.location,{x:null===(n=t.features[0])||void 0===n?void 0:n.geometry.centroid.longitude,y:null===(s=t.features[0])||void 0===s?void 0:s.geometry.centroid.latitude,spatialReference:{wkid:4326}}),d=(null===(o=t.features[0])||void 0===o?void 0:o.geometry.centroid.latitude)+","+(null===(a=t.features[0])||void 0===a?void 0:a.geometry.centroid.longitude),u=document.createElement("div");u.setAttribute("style","display: flex;flex-direction: row;");var p=document.createElement("calcite-button");p.setAttribute("scale","s"),p.setAttribute("target","_blank"),p.setAttribute("round",""),p.setAttribute("icon-start","person"),p.setAttribute("href","https://maps.google.com?layer=c&cbll="+d+"&cbp=0,"+(null===(l=c.azimuth)||void 0===l?void 0:l.toString())+",0,0,0"),p.textContent="Street View",u.append(p);var f=document.createElement("calcite-button");return f.setAttribute("scale","s"),f.setAttribute("target","_blank"),f.setAttribute("href","http://services.wakegov.com/realestate/Account.asp?id="+e.graphic.getAttribute("REID")),f.setAttribute("round",""),f.setAttribute("icon-start","locator"),f.textContent="Tax Page",u.append(f),u}}}))}))}}),new l.default({outFields:["PIN_NUM"],creator:function(t){return function(e,t){return t.map.allLayers.find((function(e){return e.title.includes("Wells")})).queryFeatures({where:"PIN_NUM = '".concat(e.graphic.attributes.PIN_NUM,"'"),returnGeometry:!1}).then((function(i){var r=document.createElement("div");if(i.features.length){var n=i.features[0].getAttribute("PIN_NUM"),s=document.createElement("calcite-button");s.setAttribute("scale","s"),s.setAttribute("target","_blank"),s.setAttribute("round",""),s.setAttribute("icon-start","link"),s.setAttribute("href","https://maps.wakegov.com/water-analysis/index.html#/?pin="+n),s.textContent="Wells",r.append(s)}return t.map.allLayers.find((function(e){return e.title.includes("Septic")})).queryFeatures({where:"PIN_NUM = '".concat(e.graphic.attributes.PIN_NUM,"'"),returnGeometry:!1}).then((function(e){if(e.features.length){var t=e.features[0].getAttribute("PIN_NUM"),i=document.createElement("calcite-button");i.setAttribute("scale","s"),i.setAttribute("target","_blank"),i.setAttribute("round",""),i.setAttribute("href","https://maps.wakegov.com/septic/index.html#/?pin="+t),i.setAttribute("icon-start","link"),i.textContent="Septic",r.append(i)}})),r}))}(t,e)}}),{type:"text",text:"<h2>General</h1>"},{type:"fields",fieldInfos:[{fieldName:"expression/pin",label:"PIN"},{fieldName:"REID",label:"REID"},{fieldName:"expression/city",label:"City"},{fieldName:"expression/jurisdiction",label:"Jurisdiction"},{fieldName:"expression/township",label:"Township"}]},{type:"text",text:"<h2>Owner</h1>"},{type:"text",text:"{OWNER}<br/>{expression/mailing-address}"},{type:"text",text:"<h2>Valuation</h1>"},{type:"fields",fieldInfos:[{fieldName:"expression/build_val"},{fieldName:"expression/land_val"},{fieldName:"expression/total_val"},{fieldName:"BILLING_CLASS_DECODE",label:"Billing Class"}]},{type:"text",text:"<h2>Last Sale</h1>"},{type:"fields",fieldInfos:[{fieldName:"SALE_DATE",format:{dateFormat:"short-date"},label:"Date Sold"},{fieldName:"expression/sale_price"}]},{type:"text",text:"<h2>Deeds</h1>"},{type:"fields",fieldInfos:[{fieldName:"DEED_BOOK",label:"Book"},{fieldName:"DEED_PAGE",label:"Page"},{fieldName:"DEED_DATE",format:{dateFormat:"short-date"},label:"Deed Date"},{fieldName:"DEED_ACRES",format:{places:2},label:"Deed Acres"},{fieldName:"PROPDESC",label:"Legal Description"}]},new l.default({outFields:["OBJECTID","REID"],creator:_}),{type:"text",text:"<h2>Building</h1>"},{type:"fields",fieldInfos:[{fieldName:"HEATEDAREA",format:{digitSeparator:!0},label:"Heated Area"},{fieldName:"YEAR_BUILT",format:{digitSeparator:!1},label:"Year Built"},{fieldName:"DESIGN_STYLE_DECODE",label:"Design/Style"},{fieldName:"TOTSTRUCTS",label:"Total Structures"},{fieldName:"TOTUNITS",label:"Total Units"}]},{type:"media",mediaInfos:[]},{type:"text",text:"<h2>Services</h1>"},new l.default({outFields:["*"],creator:function(t){var i=document.createElement("calcite-accordion");i.setAttribute("selection-mode","single"),f.forEach((function(e){var t=document.createElement("calcite-accordion-item");t.setAttribute("item-title",e.group.title),i.append(t)}));var r=t.graphic;return i.addEventListener("calciteAccordionChange",(function(t){!function(e,t,i){if(!i.detail.requestedAccordionItem.hasAttribute("active")&&0===i.detail.requestedAccordionItem.childElementCount){var r=document.createElement("calcite-loader");r.setAttribute("inline","");var n=i.detail.requestedAccordionItem.shadowRoot.querySelector(".accordion-item-header");n.insertBefore(r,n.childNodes[1]);var s=f.find((function(e){return e.group.title===i.detail.requestedAccordionItem.getAttribute("item-title")})),o=[];return s&&t.map.allLayers.filter((function(e){return s.group.layers.includes(e.title)})).forEach((function(t){o.push(t.queryFeatures({geometry:e.geometry,outFields:["*"],returnGeometry:!0}))})),o.length?Promise.all(o).then((function(e){e.forEach((function(e){e.features.length&&e.features.forEach((function(e){var t=document.createElement("div");i.detail.requestedAccordionItem.append(t),new d.default({container:t,graphic:e})}))})),m(i),n.removeChild(r)})):(n.removeChild(r),"No services found.")}m(i)}(r,e,t)}),{passive:!0}),i}})]})}},90024:function(e,t,i){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.map=void 0;var n=r(i(76910));t.map=new n.default({portalItem:{id:"95092428774c4b1fb6a3b6f5fed9fbc4"}})},29820:function(e,t,i){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var n=i(90024),s=i(32380),o=r(i(60774));i(86999),i(92030),i(30998),i(71281);var a=new o.default({container:"shell",map:n.map});s.initWidgets(a),a.on("ui-loaded",(function(){s.initView(a,n.map)})),window.addEventListener("touchstart",(function e(){document.body.classList.add("touch"),window.removeEventListener("touchstart",e,!1)}),!1)},32380:function(e,t,i){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.initWidgets=t.initView=void 0;var n,s=r(i(16018)),o=r(i(62664)),a=r(i(99899)),l=r(i(22204)),c=r(i(48852)),h=r(i(88355)),d=r(i(20514)),u=r(i(17870)),p=r(i(26493)),f=i(69376),m=r(i(77027)),_=r(i(52646)),g=r(i(99218)),y=i(80439),v=r(i(59443)),b=i(4673),w=r(i(32684)),x=r(i(76910)),C=r(i(22010)),S=r(i(59750));t.initView=function(e,t){var i,r=new w.default({map:t,container:"viewDiv"});r.ui.add(new c.default({view:r}),"bottom-left"),r.ui.add(new u.default({view:r}),"top-left"),r.ui.add(new h.default({view:r}),"top-left"),r.ui.add(new d.default({view:r}),"top-left"),r.when((function(t){!function(e){if(window.localStorage.getItem("imaps")){var t=x.default.fromJSON(JSON.parse(window.localStorage.getItem("imaps")));t.load().then((function(){e.map.allLayers.forEach((function(e){var i=t.allLayers.find((function(t){return e.id===t.id}));e.visible=null==i?void 0:i.visible,e.opacity=null==i?void 0:i.opacity})),e.map.basemap=t.basemap,n.bookmarks=t.bookmarks,e.extent=t.initialViewProperties.viewpoint.targetGeometry.extent}))}}(t);var r=t.map.allLayers.find((function(e){return e.title.includes("Property")&&"feature"===e.type})),s=t.map.allTables.find((function(e){return e.title.includes("Condo")}));s.load().then((function(){s.popupTemplate=f.createTemplate(t,s)}));var o=t.map.allTables.find((function(e){return e.title.includes("Addresses")}));e.leftActions.forEach((function(e){e.widget.view=t})),e.rightActions.forEach((function(e){"Property Search"===e.title&&(e.widget.propertyLayer=r,e.widget.condoTable=s,e.widget.addressTable=o,i=e.widget),e.widget.view=t})),t.on("hold",(function(e){i.geometry=e.mapPoint}))})),document.addEventListener("visibilitychange",(function(){if("hidden"==document.visibilityState){r.map.removeMany(r.map.allLayers.filter((function(e){return"group"===e.type&&!e.layers.length})).toArray());var e=r.map.toJSON();e.initialState.viewpoint.targetGeometry=r.extent,window.localStorage.setItem("imaps",JSON.stringify(e))}document.visibilityState}))},t.initWidgets=function(e){var t=new C.default({container:"tipManager",tips:[],title:""});e.on("show-tip",(function(e){t.tips=e}));var i=new s.default,r=new _.default,c=new l.default,h=new m.default;(n=new o.default({editingEnabled:!0})).viewModel.watch("bookmarks",(function(e){n.viewModel.view.map.bookmarks=e}));var d=new g.default({}),u=new a.default({}),f=new v.default({}),w=new S.default({}),x=new p.default({});e.on("panel-maximized",(function(e){x.maximized=e}));var A=new URL(document.URL).searchParams.get("pins");A&&(x.where="PIN_NUM in ('".concat(decodeURIComponent(A.split(",").join("','")),"')"));var T="";h.on("selection-complete",(function(e){x.geometry=e.geometry;var t=document.querySelector(".panel:last-child calcite-action-bar calcite-action");null!=t&&t.classList.contains("active")||null==t||t.dispatchEvent(new MouseEvent("click"))})),h.on("activated",(function(){"measure"===T&&(d.state="inactive"),T="select"})),d.on("activated",(function(){T="measure"})),e.rightActions=[new b.Action("Property Search",x,"search","propertySearchDiv",!1,[new y.Tip("Wildcard Search","To search by a portion of an owner name or address, hit enter without selecting form the list of suggestions."),new y.Tip("Wildcard Search","To search by a portion of an owner name or address, hit enter without selecting form the list of suggestions.")]),new b.Action("Location Search",f,"pin","locationSearchDiv",!1,[]),new b.Action("Layers",r,"layers","layerListDiv",!1,[]),new b.Action("Legend",i,"legend","legendDiv",!1,[]),new b.Action("Basemaps",u,"basemap","basemapDiv",!1,[])],e.leftActions=[new b.Action("Select",h,"selection","selectDiv",!0,[]),new b.Action("Measure",d,"measure","measureDiv",!0,[]),new b.Action("Sketch",w,"pencil","drawDiv",!0,[]),new b.Action("Bookmarks",n,"bookmark","bookmarksDiv",!0,[]),new b.Action("Print",c,"print","printDiv",!0,[])]}},4673:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Action=void 0;t.Action=function e(t,i,r,n,s,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.title=t,this.icon=r,this.widget=i,this.container=n,this.tool=s,this.tips=o}},59750:function(e,t,i){"use strict";function r(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function n(e,t){return(n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var i,r=a(e);if(t){var n=a(this).constructor;i=Reflect.construct(r,arguments,n)}else i=r.apply(this,arguments);return o(this,i)}}function o(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var c=this&&this.__decorate||function(e,t,i,r){var n,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,i):r;if("object"===("undefined"==typeof Reflect?"undefined":l(Reflect))&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(s<3?n(o):s>3?n(t,i,o):n(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o},h=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var d=i(83781),u=i(73502),p=h(i(90806)),f=h(i(58432));i(21910);var m="esri-widget draw-base",_=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&n(e,t)}(l,e);var t,i,o,a=s(l);function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=a.call(this,e)).label="test",t.fill="#FFFFFF",t.outline="#FFFFFF",t.outlineOpacity=.5,t.fillOpacity=.5,t.outlineWidth=1,t.pointFillEnabled=!0,t.polygonFillEnabled=!0,t.viewModel=new f.default,t.textAreaCreated=function(e){e.addEventListener("calciteInputInput",(function(e){t.label=e.target.value}))},t}return t=l,(i=[{key:"render",value:function(){return u.tsx("div",{class:m},u.tsx("div",{id:"sketchWidget",afterCreate:this.viewModel.sketchWidgetCreated}),u.tsx("calcite-input",{type:"textarea",status:"idle",alignment:"start","number-button-type":"horizontal",min:"0",max:"50",step:"1","prefix-text":"","suffix-text":"",value:this.label,placeholder:"Label text",class:"sc-calcite-input-h sc-calcite-input-s",dir:"ltr",scale:"m","calcite-hydrated":"",bind:this,afterCreate:this.textAreaCreated}),"point"===this.geometryType?u.tsx("div",null,u.tsx("calcite-block",{key:"symbol",heading:"Symbol",open:!0,collapsible:!0},u.tsx("calcite-block-section",{text:"Size"},u.tsx("calcite-slider",{min:"0",max:"30",value:"10",bind:this,step:"0.1",label:"Size","label-handles":"",ticks:"0","page-step":"5",name:"fill-opacity",afterCreate:this.viewModel.pointSizeCreated,snap:""}))),u.tsx("calcite-block",{key:"fill",heading:"Fill",open:!0,collapsible:!0},u.tsx("calcite-label",{layout:"inline-space-between",class:"sc-calcite-label-h sc-calcite-label-s",dir:"ltr",alignment:"start",status:"idle",scale:"m","calcite-hydrated":""},u.tsx("label",{class:"sc-calcite-label-h sc-calcite-label-s sc-calcite-label"},"Enable fill",u.tsx("calcite-switch",{name:"setting",value:"enabled",switched:this.pointFillEnabled,bind:this,"aria-checked":"true",dir:"ltr",tabindex:"0",scale:"m","calcite-hydrated":"",afterCreate:this.viewModel.pointFillEnabledCreated}))),this.pointFillEnabled?u.tsx("div",null,u.tsx("calcite-block-section",{key:"color",text:"Color"},u.tsx("calcite-color-picker",{dir:"ltr","hide-channels":"","hide-saved":"",scale:"m",value:this.fill,appearance:"default",name:"fill","calcite-hydrated":"",id:"pointFill",afterCreate:this.viewModel.pointFillCreated})),u.tsx("calcite-block-section",{key:"transparency",text:"Fill transparency"},u.tsx("calcite-slider",{min:"0",max:"1",value:this.fillOpacity,bind:this,step:"0.1",label:"Opacity","label-handles":"",ticks:"0","page-step":"5",name:"fill-opacity",id:"pointFillOpacity",afterCreate:this.viewModel.pointFillOpacityCreated,snap:""}))," "):""),u.tsx("calcite-block",{key:"outline",heading:"Outline",open:!0,collapsible:!0},u.tsx("calcite-block-section",{text:"Color"},u.tsx("calcite-color-picker",{dir:"ltr","hide-channels":"","hide-saved":"",scale:"m",value:this.outline,appearance:"default",name:"outline","calcite-hydrated":"",afterCreate:this.viewModel.pointOutlineCreated})),u.tsx("calcite-block-section",{text:"Outline transparency"},u.tsx("calcite-slider",{min:"0",max:"1",value:this.outlineOpacity,bind:this,step:"0.1",label:"Opacity","label-handles":"",ticks:"0","page-step":"5",name:"outline-opacity",afterCreate:this.viewModel.pointOutlineOpacityCreated,snap:""})),u.tsx("calcite-block-section",{text:"Stroke"},u.tsx("calcite-slider",{min:"0",max:"10",value:this.outlineWidth,bind:this,step:"0.1",label:"Width","label-handles":"",ticks:"0","page-step":"5",name:"width",afterCreate:this.viewModel.pointOutlineWidthCreated,snap:""})))):"","polyline"===this.geometryType?u.tsx("div",null,u.tsx("calcite-block",{key:"line",heading:"Line",open:!0,collapsible:!0},u.tsx("calcite-block-section",{text:"Color"},u.tsx("calcite-color-picker",{dir:"ltr","hide-channels":"","hide-saved":"",scale:"m",value:this.outline,appearance:"default",name:"outline","calcite-hydrated":"",afterCreate:this.viewModel.lineOutlineCreated})),u.tsx("calcite-block-section",{text:"Line transparency"},u.tsx("calcite-slider",{min:"0",max:"1",value:this.outlineOpacity,bind:this,step:"0.1",label:"Opacity","label-handles":"",ticks:"0","page-step":"5",name:"outline-opacity",afterCreate:this.viewModel.lineOutlineOpacityCreated,snap:""})),u.tsx("calcite-block-section",{text:"Stroke"},u.tsx("calcite-slider",{min:"0",max:"10",value:this.outlineWidth,bind:this,step:"0.1",label:"Width","label-handles":"",ticks:"0","page-step":"5",name:"width",afterCreate:this.viewModel.lineOutlineWidthCreated,snap:""})))):"","polygon"===this.geometryType?u.tsx("div",null,u.tsx("calcite-block",{key:"fill",heading:"Fill",open:!0,collapsible:!0},u.tsx("calcite-label",{layout:"inline-space-between",class:"sc-calcite-label-h sc-calcite-label-s",dir:"ltr",alignment:"start",status:"idle",scale:"m","calcite-hydrated":""},u.tsx("label",{class:"sc-calcite-label-h sc-calcite-label-s sc-calcite-label"},"Enable fill",u.tsx("calcite-switch",{name:"setting",value:"enabled",switched:this.polygonFillEnabled,bind:this,"aria-checked":"true",dir:"ltr",tabindex:"0",scale:"m","calcite-hydrated":"",afterCreate:this.viewModel.polygonFillEnabledCreated}))),this.polygonFillEnabled?u.tsx("div",null,u.tsx("calcite-block-section",{key:"color",text:"Color"},u.tsx("calcite-color-picker",{dir:"ltr","hide-channels":"","hide-saved":"",scale:"m",value:this.fill,appearance:"default",name:"fill","calcite-hydrated":"",afterCreate:this.viewModel.polygonFillCreated})),u.tsx("calcite-block-section",{key:"transparency",text:"Fill transparency"},u.tsx("calcite-slider",{min:"0",max:"1",value:this.fillOpacity,bind:this,step:"0.1",label:"Opacity","label-handles":"",ticks:"0","page-step":"5",name:"fill-opacity",afterCreate:this.viewModel.polygonFillOpacityCreated,snap:""}))):""),u.tsx("calcite-block",{key:"outline",heading:"Outline",open:!0,collapsible:!0},u.tsx("calcite-block-section",{text:"Color"},u.tsx("calcite-color-picker",{dir:"ltr","hide-channels":"","hide-saved":"",scale:"m",value:this.outline,appearance:"default",name:"outline","calcite-hydrated":"",afterCreate:this.viewModel.polygonOutlineCreated})),u.tsx("calcite-block-section",{text:"Outline transparency"},u.tsx("calcite-slider",{min:"0",max:"1",value:this.outlineOpacity,bind:this,step:"0.1",label:"Opacity","label-handles":"",ticks:"0","page-step":"5",name:"outline-opacity",afterCreate:this.viewModel.polygonOutlineOpacityCreated,snap:""})),u.tsx("calcite-block-section",{text:"Stroke"},u.tsx("calcite-slider",{min:"0",max:"10",value:this.outlineWidth,bind:this,step:"0.1",label:"Width","label-handles":"",ticks:"0","page-step":"5",name:"width",afterCreate:this.viewModel.polygonOutlineWidthCreated,snap:""})))):"")}}])&&r(t.prototype,i),o&&r(t,o),l}(p.default);c([d.aliasOf("viewModel.view")],_.prototype,"view",void 0),c([u.renderable(),d.aliasOf("viewModel.label")],_.prototype,"label",void 0),c([u.renderable(),d.aliasOf("viewModel.fill")],_.prototype,"fill",void 0),c([u.renderable(),d.aliasOf("viewModel.fill")],_.prototype,"outline",void 0),c([u.renderable(),d.aliasOf("viewModel.outlineOpacity")],_.prototype,"outlineOpacity",void 0),c([u.renderable(),d.aliasOf("viewModel.fillOpacity")],_.prototype,"fillOpacity",void 0),c([u.renderable(),d.aliasOf("viewModel.outlineWidth")],_.prototype,"outlineWidth",void 0),c([u.renderable(),d.aliasOf("viewModel.pointFillEnabled")],_.prototype,"pointFillEnabled",void 0),c([u.renderable(),d.aliasOf("viewModel.polygonFillEnabled")],_.prototype,"polygonFillEnabled",void 0),c([u.renderable(),d.aliasOf("viewModel.geometryType")],_.prototype,"geometryType",void 0),c([d.property({type:f.default}),u.renderable()],_.prototype,"viewModel",void 0),_=c([d.subclass("app.widgets.Draw")],_),t.default=_},58432:function(e,t,i){"use strict";function r(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function n(e,t){return(n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var i,r=l(e);if(t){var n=l(this).constructor;i=Reflect.construct(r,arguments,n)}else i=r.apply(this,arguments);return o(this,i)}}function o(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?a(e):t}function a(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var h=this&&this.__decorate||function(e,t,i,r){var n,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,i):r;if("object"===("undefined"==typeof Reflect?"undefined":c(Reflect))&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(s<3?n(o):s>3?n(t,i,o):n(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o},d=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=i(83781),p=i(80621),f=d(i(90806)),m=d(i(15843)),_=d(i(94394)),g=d(i(76603)),y=d(i(26360)),v=d(i(78745)),b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&n(e,t)}(c,e);var t,i,o,l=s(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=l.call(this,e)).label="",t.fill="#FFFFFF",t.outline="#FFFFFF",t.fillOpacity=.5,t.outlineOpacity=1,t.outlineWidth=1,t.pointFillEnabled=!0,t.polygonFillEnabled=!0,t.sketchWidgetCreated=function(){p.whenDefinedOnce(a(t),"view",t.init.bind(a(t)))},t.pointFillCreated=function(e){e.addEventListener("calciteColorPickerChange",(function(e){var i=t.view.map.findLayerById("sketch-points");t.fill=e.target.value;var r=v.default.fromHex(t.fill);r.a=t.outlineOpacity;var n=i.renderer.clone();n.symbol.color=r,i.renderer=n}))},t.polygonFillCreated=function(e){e.addEventListener("calciteColorPickerChange",(function(e){var i=t.view.map.findLayerById("sketch-polygons");t.fill=e.target.value;var r=v.default.fromHex(t.fill);r.a=t.outlineOpacity;var n=i.renderer.clone();n.symbol.color=r,i.renderer=n}))},t.pointOutlineCreated=function(e){e.addEventListener("calciteColorPickerChange",(function(e){var i=t.view.map.findLayerById("sketch-points");t.outline=e.target.value;var r=v.default.fromHex(t.outline);r.a=t.outlineOpacity;var n=i.renderer.clone();n.symbol.outline.color=r,i.renderer=n}))},t.lineOutlineCreated=function(e){e.addEventListener("calciteColorPickerChange",(function(e){var i=t.view.map.findLayerById("sketch-lines");t.outline=e.target.value;var r=v.default.fromHex(t.outline);r.a=t.outlineOpacity;var n=i.renderer.clone();n.symbol.color=r,i.renderer=n}))},t.polygonOutlineCreated=function(e){e.addEventListener("calciteColorPickerChange",(function(e){var i=t.view.map.findLayerById("sketch-polygons");t.outline=e.target.value;var r=v.default.fromHex(t.outline);r.a=t.outlineOpacity;var n=i.renderer.clone();n.symbol.outline.color=r,i.renderer=n}))},t.pointFillOpacityCreated=function(e){var i=t.view.map.findLayerById("sketch-points");e.addEventListener("calciteSliderChange",(function(e){t.fillOpacity=parseFloat(e.target.value);var r=i.renderer.clone();r.symbol.color.a=t.fillOpacity,i.renderer=r}),{passive:!0})},t.polygonFillOpacityCreated=function(e){var i=t.view.map.findLayerById("sketch-polygons");e.addEventListener("calciteSliderChange",(function(e){t.fillOpacity=parseFloat(e.target.value);var r=i.renderer.clone();r.symbol.color.a=t.fillOpacity,i.renderer=r}),{passive:!0})},t.pointOutlineOpacityCreated=function(e){var i=t.view.map.findLayerById("sketch-points");e.addEventListener("calciteSliderChange",(function(e){t.outlineOpacity=parseFloat(e.target.value);var r=i.renderer.clone();r.symbol.outline.color.a=t.outlineOpacity,i.renderer=r}),{passive:!0})},t.lineOutlineOpacityCreated=function(e){var i=t.view.map.findLayerById("sketch-lines");e.addEventListener("calciteSliderChange",(function(e){t.outlineOpacity=parseFloat(e.target.value);var r=i.renderer.clone();r.symbol.color.a=t.outlineOpacity,i.renderer=r}),{passive:!0})},t.polygonOutlineOpacityCreated=function(e){var i=t.view.map.findLayerById("sketch-polygons");e.addEventListener("calciteSliderChange",(function(e){t.outlineOpacity=parseFloat(e.target.value);var r=i.renderer.clone();r.symbol.outline.color.a=t.outlineOpacity,i.renderer=r}),{passive:!0})},t.pointOutlineWidthCreated=function(e){var i=t.view.map.findLayerById("sketch-points");e.addEventListener("calciteSliderChange",(function(e){t.outlineWidth=parseFloat(e.target.value);var r=i.renderer.clone();r.symbol.outline.width=t.outlineWidth,i.renderer=r}),{passive:!0})},t.lineOutlineWidthCreated=function(e){var i=t.view.map.findLayerById("sketch-lines");e.addEventListener("calciteSliderChange",(function(e){t.outlineWidth=parseFloat(e.target.value);var r=i.renderer.clone();r.symbol.width=t.outlineWidth,i.renderer=r}),{passive:!0})},t.polygonOutlineWidthCreated=function(e){var i=t.view.map.findLayerById("sketch-polygons");e.addEventListener("calciteSliderChange",(function(e){t.outlineWidth=parseFloat(e.target.value);var r=i.renderer.clone();r.symbol.outline.width=t.outlineWidth,i.renderer=r}),{passive:!0})},t.pointSizeCreated=function(e){var i=t.view.map.findLayerById("sketch-points");e.addEventListener("calciteSliderChange",(function(e){var t=i.renderer.clone();t.symbol.size=parseFloat(e.target.value),i.renderer=t}),{passive:!0})},t.pointFillEnabledCreated=function(e){var i=t.view.map.findLayerById("sketch-points");e.addEventListener("calciteSwitchChange",(function(e){t.pointFillEnabled=e.detail.switched;var r,n=i.renderer.clone();t.pointFillEnabled?n.symbol.color.a=parseFloat(null===(r=document.getElementById("pointFillOpacity"))||void 0===r?void 0:r.getAttribute("value")):n.symbol.color.a=0;i.renderer=n}))},t.polygonFillEnabledCreated=function(e){var i=t.view.map.findLayerById("sketch-polygons");e.addEventListener("calciteSwitchChange",(function(e){t.polygonFillEnabled=e.detail.switched;var r=i.renderer.clone();t.polygonFillEnabled?r.symbol.style="solid":r.symbol.style="none",i.renderer=r}))},t}return t=c,(i=[{key:"init",value:function(e){var t=this,i=new _.default({listMode:"hide",opacity:0}),r=new y.default({labelExpressionInfo:{expression:"$feature.label"},symbol:{type:"text",color:"black",haloSize:1,haloColor:"white"}}),n=new g.default({source:[],fields:[{type:"oid",name:"OBJECTID"},{type:"string",name:"label"}],objectIdField:"OBJECTID",geometryType:"point",listMode:"hide",id:"sketch-points",renderer:{type:"simple",symbol:{type:"simple-marker",color:[255,255,255,1]}},labelingInfo:[r]}),s=new g.default({source:[],fields:[{type:"oid",name:"OBJECTID"},{type:"string",name:"label"}],objectIdField:"OBJECTID",geometryType:"polyline",listMode:"hide",id:"sketch-lines",labelingInfo:[r]}),o=new g.default({source:[],fields:[{type:"oid",name:"OBJECTID"},{type:"string",name:"label"}],objectIdField:"OBJECTID",geometryType:"polygon",listMode:"hide",id:"sketch-polygons",renderer:{type:"simple",symbol:{type:"simple-fill",color:[255,255,255,.5],outline:{type:"simple-line",color:[255,255,255,1]}}},labelingInfo:[r]});this.view.map.addMany([n,s,o,i]),this.sketch=new m.default({view:e,container:"sketchWidget",layer:i,creationMode:"single",defaultCreateOptions:{mode:"hybrid"},visibleElements:{undoRedoMenu:!1}}),this.sketch.watch("activeTool",(function(e){t.geometryType=e,["circle","rectangle"].includes(t.geometryType)&&(t.geometryType="polygon")})),this.sketch.on("create",(function(e){if("start"===e.state&&(t.view.popup.autoOpenEnabled=!1),"complete"===e.state){var i=e.graphic,r=v.default.fromHex(t.fill);r.a=t.fillOpacity;var a=v.default.fromHex(t.fill);a.a=t.outlineOpacity,"point"===i.geometry.type&&(i.symbol.color=r,i.symbol.outline.color=a,i.setAttribute("label",t.label),n.applyEdits({addFeatures:[i]}).then((function(){n.refresh()}))),"polyline"===i.geometry.type&&(i.setAttribute("label",t.label),i.symbol.color=a,s.applyEdits({addFeatures:[i]}).then((function(){s.refresh()}))),"polygon"===i.geometry.type&&(i.setAttribute("label",t.label),i.symbol.color=r,i.symbol.outline.color=a,o.applyEdits({addFeatures:[i]}).then((function(){o.refresh()}))),t.view.popup.autoOpenEnabled=!0}})),this.sketch.on("update",(function(e){"complete"===e.state&&("point"===e.graphics[0].geometry.type&&n.applyEdits({updateFeatures:e.graphics}).then((function(){n.refresh()})),"polyline"===e.graphics[0].geometry.type&&s.applyEdits({updateFeatures:e.graphics}).then((function(){s.refresh()})),"polygon"===e.graphics[0].geometry.type&&o.applyEdits({updateFeatures:e.graphics}).then((function(){o.refresh()})))})),this.sketch.on("delete",(function(e){var t=[],i=[],r=[];e.graphics.forEach((function(e){"point"===e.geometry.type&&t.push(e),"polyline"===e.geometry.type&&i.push(e),"polygon"===e.geometry.type&&r.push(e)})),n.applyEdits({deleteFeatures:t}).then((function(e){console.log(e),n.refresh()})),s.applyEdits({deleteFeatures:i}).then((function(e){console.log(e),s.refresh()})),o.applyEdits({deleteFeatures:r}).then((function(e){console.log(e),o.refresh()}))}))}}])&&r(t.prototype,i),o&&r(t,o),c}(f.default);h([u.property()],b.prototype,"view",void 0),h([u.property()],b.prototype,"label",void 0),h([u.property()],b.prototype,"fill",void 0),h([u.property()],b.prototype,"outline",void 0),h([u.property()],b.prototype,"fillOpacity",void 0),h([u.property()],b.prototype,"outlineOpacity",void 0),h([u.property()],b.prototype,"outlineWidth",void 0),h([u.property()],b.prototype,"geometryType",void 0),h([u.property()],b.prototype,"pointFillEnabled",void 0),h([u.property()],b.prototype,"polygonFillEnabled",void 0),b=h([u.subclass("app.widgets.Draw.DrawViewModel")],b),t.default=b},59443:function(e,t,i){"use strict";function r(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function n(e,t){return(n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var i,r=a(e);if(t){var n=a(this).constructor;i=Reflect.construct(r,arguments,n)}else i=r.apply(this,arguments);return o(this,i)}}function o(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var c=this&&this.__decorate||function(e,t,i,r){var n,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,i):r;if("object"===("undefined"==typeof Reflect?"undefined":l(Reflect))&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(s<3?n(o):s>3?n(t,i,o):n(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o},h=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var d=i(83781),u=i(73502),p=h(i(90806)),f=h(i(66941));i(44207);var m="esri-widget locationsearch-base",_=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&n(e,t)}(l,e);var t,i,o,a=s(l);function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=a.call(this,e)).viewModel=new f.default,t._searchCreate=function(){t.search&&(t.search.container="locationSearch")},t._locationCreate=function(){t.feature&&(t.feature.container="locationFeature")},t}return t=l,(i=[{key:"render",value:function(){return u.tsx("div",{class:m},u.tsx("div",{afterCreate:this._searchCreate,id:"locationSearch"}),u.tsx("div",{afterCreate:this._locationCreate,id:"locationFeature"}))}}])&&r(t.prototype,i),o&&r(t,o),l}(p.default);c([d.aliasOf("viewModel.view")],_.prototype,"view",void 0),c([d.aliasOf("viewModel.search")],_.prototype,"search",void 0),c([d.aliasOf("viewModel.feature")],_.prototype,"feature",void 0),c([d.property({type:f.default}),u.renderable()],_.prototype,"viewModel",void 0),_=c([d.subclass("app.widgets.LocationSearch")],_),t.default=_},66941:function(e,t,i){"use strict";function r(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function n(e,t){return(n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var i,r=l(e);if(t){var n=l(this).constructor;i=Reflect.construct(r,arguments,n)}else i=r.apply(this,arguments);return o(this,i)}}function o(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?a(e):t}function a(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var h=this&&this.__decorate||function(e,t,i,r){var n,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,i):r;if("object"===("undefined"==typeof Reflect?"undefined":c(Reflect))&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(s<3?n(o):s>3?n(t,i,o):n(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o},d=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=d(i(82677)),p=i(83781),f=i(80621),m=d(i(79734)),_=d(i(22292)),g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&n(e,t)}(c,e);var t,i,o,l=s(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),t=l.call(this,e),f.whenDefinedOnce(a(t),"view",t.init.bind(a(t))),t}return t=c,(i=[{key:"init",value:function(e){var t=this;this.search=new m.default({view:e,maxSuggestions:30,searchAllEnabled:!0,popupEnabled:!1}),this.feature=new _.default({view:e}),this.search.on("search-complete",(function(e){e.results[0].results.forEach((function(e){t.feature.graphic=e.feature}))})),this.search.allSources.on("after-add",(function(e){e.item.layer&&(e.item.name=e.item.layer.title,e.item.placeholder=e.item.layer.title),e.item.locator&&t.search.allSources.remove(e.item)}))}}])&&r(t.prototype,i),o&&r(t,o),c}(u.default);h([p.property()],g.prototype,"view",void 0),g=h([p.subclass("app.widgets.LocationSearch.LocationSearchViewModel")],g),t.default=g},77027:function(e,t,i){"use strict";function r(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function n(e,t){return(n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var i,r=a(e);if(t){var n=a(this).constructor;i=Reflect.construct(r,arguments,n)}else i=r.apply(this,arguments);return o(this,i)}}function o(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var c=this&&this.__decorate||function(e,t,i,r){var n,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,i):r;if("object"===("undefined"==typeof Reflect?"undefined":l(Reflect))&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(s<3?n(o):s>3?n(t,i,o):n(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o},h=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var d=i(83781),u=i(73502),p=h(i(90806)),f=h(i(54118));i(73162);var m="esri-widget propertyselect-base",_=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&n(e,t)}(l,e);var t,i,o,a=s(l);function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=a.call(this,e)).viewModel=new f.default,t.bufferDistanceCreated=function(e){e.addEventListener("calciteInputInput",(function(e){t.bufferDistance=parseInt(e.target.value)}))},t}return t=l,(i=[{key:"render",value:function(){return u.tsx("div",{class:m},u.tsx("div",{id:"sketchDiv",afterCreate:this.viewModel.sketchCreated}),u.tsx("calcite-label",{scale:"s"},"Buffer Distance (feet)",u.tsx("calcite-input",{scale:"s",type:"number",min:"0",max:"2000",step:"50",value:this.bufferDistance,afterCreate:this.bufferDistanceCreated,bind:this})))}}])&&r(t.prototype,i),o&&r(t,o),l}(p.default);c([d.aliasOf("viewModel.view")],_.prototype,"view",void 0),c([u.renderable(),d.aliasOf("viewModel.bufferDistance")],_.prototype,"bufferDistance",void 0),c([d.property({type:f.default}),u.vmEvent(["selection-complete","activated"]),u.renderable()],_.prototype,"viewModel",void 0),_=c([d.subclass("app.widgets.PropertySelect")],_),t.default=_},54118:function(e,t,i){"use strict";function r(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function n(e,t){return(n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var i,r=l(e);if(t){var n=l(this).constructor;i=Reflect.construct(r,arguments,n)}else i=r.apply(this,arguments);return o(this,i)}}function o(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?a(e):t}function a(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var h=this&&this.__createBinding||(Object.create?function(e,t,i,r){void 0===r&&(r=i),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,r){void 0===r&&(r=i),e[r]=t[i]}),d=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),u=this&&this.__decorate||function(e,t,i,r){var n,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,i):r;if("object"===("undefined"==typeof Reflect?"undefined":c(Reflect))&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(s<3?n(o):s>3?n(t,i,o):n(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o},p=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&h(t,e,i);return d(t,e),t},f=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var m=f(i(15843)),_=i(83781),g=i(80621),y=f(i(90806)),v=f(i(94394)),b=p(i(70642)),w=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&n(e,t)}(c,e);var t,i,o,l=s(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=l.call(this,e)).sketchCreated=function(){g.whenDefinedOnce(a(t),"view",t.init.bind(a(t)))},t.sketchComplete=function(e,i){i.removeAll(),"complete"===e.state&&(t.bufferDistance&&(e.graphic.geometry=b.geodesicBuffer(e.graphic.geometry,t.bufferDistance,"feet",!1),e.graphic.symbol={type:"simple-fill",outline:{style:"dash",cap:"square",join:"bevel",width:3,color:[248,236,12,1]},color:[248,255,10,.25]},i.add(e.graphic)),t.emit("selection-complete",e.graphic))},t}return t=c,(i=[{key:"init",value:function(e){var t=this,i=new v.default({id:"select-graphics",listMode:"hide",visible:!0});e.map.add(i);var r=new m.default({view:e,container:"sketchDiv",layer:i,visibleElements:{undoRedoMenu:!1,selectionTools:{"lasso-selection":!1,"rectangle-selection":!1}},creationMode:"single",defaultCreateOptions:{mode:"hybrid"}});r.watch("activeTool",(function(e){t.emit("activated",e)})),r.on("create",(function(e){t.sketchComplete(e,i)}))}}])&&r(t.prototype,i),o&&r(t,o),c}(y.default);u([_.property()],w.prototype,"view",void 0),u([_.property()],w.prototype,"bufferDistance",void 0),w=u([_.subclass("app.widgets.PropertySelect.PropertySelectViewModel")],w),t.default=w},80439:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Tip=void 0;t.Tip=function e(t,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.title=t,this.description=i}},22010:function(e,t,i){"use strict";function r(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function n(e,t){return(n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var i,r=a(e);if(t){var n=a(this).constructor;i=Reflect.construct(r,arguments,n)}else i=r.apply(this,arguments);return o(this,i)}}function o(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var c=this&&this.__decorate||function(e,t,i,r){var n,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,i):r;if("object"===("undefined"==typeof Reflect?"undefined":l(Reflect))&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(s<3?n(o):s>3?n(t,i,o):n(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o},h=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var d=i(83781),u=i(73502),p=h(i(90806)),f=h(i(98963));i(35801);var m="tipmanager-base",_=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&n(e,t)}(l,e);var t,i,o,a=s(l);function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=a.call(this,e)).viewModel=new f.default,t.tipManagerCreated=function(e){null==e||e.addEventListener("calciteTipManagerToggle",(function(e){e.target.closed&&(t.tips=[])}))},t.watch("tips",(function(e){e.length&&(document.querySelector("calcite-tip-manager").closed=!1)})),t}return t=l,(i=[{key:"render",value:function(){return u.tsx("div",{class:m},u.tsx("calcite-tip-manager",{dir:"ltr","intl-close":"Close","intl-default-title":this.title,"intl-pagination-label":"Tip","intl-next":"Next","intl-previous":"Previous",theme:"light",afterCreate:this.tipManagerCreated,closed:!0},this.tips.map((function(e){return u.tsx("calcite-tip",{heading:e.title,key:e.title},e.description)}))))}}])&&r(t.prototype,i),o&&r(t,o),l}(p.default);c([d.aliasOf("viewModel.title"),u.renderable()],_.prototype,"title",void 0),c([u.renderable(),d.aliasOf("viewModel.tips")],_.prototype,"tips",void 0),c([d.property({type:f.default}),u.renderable()],_.prototype,"viewModel",void 0),_=c([d.subclass("app.widgets.TipManager")],_),t.default=_},98963:function(e,t,i){"use strict";function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function n(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var i,r=o(e);if(t){var n=o(this).constructor;i=Reflect.construct(r,arguments,n)}else i=r.apply(this,arguments);return s(this,i)}}function s(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function o(e){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var l=this&&this.__decorate||function(e,t,i,r){var n,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,i):r;if("object"===("undefined"==typeof Reflect?"undefined":a(Reflect))&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,r);else for(var l=e.length-1;l>=0;l--)(n=e[l])&&(o=(s<3?n(o):s>3?n(t,i,o):n(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var h=c(i(82677)),d=i(83781),u=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}(i,e);var t=n(i);function i(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),t.call(this,e)}return i}(h.default);l([d.property()],u.prototype,"title",void 0),l([d.property()],u.prototype,"tips",void 0),u=l([d.subclass("app.widgets.TipManager.TipManagerViewModel")],u),t.default=u},16266:(e,t,i)=>{i(95767),i(68132),i(48388),i(37470),i(94882),i(41520),i(27476),i(79622),i(89375),i(43533),i(84672),i(64157),i(35095),i(49892),i(75115),i(99176),i(68838),i(96253),i(39730),i(6059),i(48377),i(71084),i(64299),i(11246),i(30726),i(1901),i(75972),i(53403),i(92516),i(49371),i(86479),i(91736),i(51889),i(65177),i(81246),i(76503),i(66786),i(50932),i(57526),i(21591),i(9073),i(80347),i(30579),i(4669),i(67710),i(45789),i(33514),i(99978),i(58472),i(86946),i(35068),i(413),i(50191),i(98306),i(64564),i(39115),i(29539),i(96620),i(62850),i(10823),i(17732),i(40856),i(80703),i(91539),i(5292),i(45177),i(73694),i(37648),i(27795),i(4531),i(23605),i(6780),i(69937),i(10511),i(81822),i(19977),i(91031),i(46331),i(41560),i(20774),i(30522),i(58295),i(87842),i(50110),i(20075),i(24336),i(19371),i(98837),i(26773),i(15745),i(33057),i(3750),i(23369),i(99564),i(32e3),i(48977),i(52310),i(94899),i(31842),i(56997),i(83946),i(18269),i(66108),i(76774),i(21466),i(59357),i(76142),i(51876),i(40851),i(88416),i(98184),i(30147),i(59192),i(30142),i(1786),i(75368),i(46964),i(62152),i(74821),i(79103),i(81303),i(83318),i(70162),i(33834),i(21572),i(82139),i(10685),i(85535),i(17347),i(83049),i(96633),i(68989),i(78270),i(64510),i(73984),i(75769),i(50055),i(96014),e.exports=i(25645)},70911:(e,t,i)=>{i(1268),e.exports=i(25645).Array.flatMap},10990:(e,t,i)=>{i(62773),e.exports=i(25645).Array.includes},15434:(e,t,i)=>{i(83276),e.exports=i(25645).Object.entries},78051:(e,t,i)=>{i(98351),e.exports=i(25645).Object.getOwnPropertyDescriptors},38250:(e,t,i)=>{i(96409),e.exports=i(25645).Object.values},54952:(e,t,i)=>{"use strict";i(40851),i(9865),e.exports=i(25645).Promise.finally},6197:(e,t,i)=>{i(92770),e.exports=i(25645).String.padEnd},14160:(e,t,i)=>{i(41784),e.exports=i(25645).String.padStart},54039:(e,t,i)=>{i(94325),e.exports=i(25645).String.trimRight},96728:(e,t,i)=>{i(65869),e.exports=i(25645).String.trimLeft},93568:(e,t,i)=>{i(79665),e.exports=i(28787).f("asyncIterator")},40115:(e,t,i)=>{i(34579),e.exports=i(11327).global},85663:e=>{e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},12159:(e,t,i)=>{var r=i(36727);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},11327:e=>{var t=e.exports={version:"2.6.12"};"number"==typeof __e&&(__e=t)},19216:(e,t,i)=>{var r=i(85663);e.exports=function(e,t,i){if(r(e),void 0===t)return e;switch(i){case 1:return function(i){return e.call(t,i)};case 2:return function(i,r){return e.call(t,i,r)};case 3:return function(i,r,n){return e.call(t,i,r,n)}}return function(){return e.apply(t,arguments)}}},89666:(e,t,i)=>{e.exports=!i(7929)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},97467:(e,t,i)=>{var r=i(36727),n=i(33938).document,s=r(n)&&r(n.createElement);e.exports=function(e){return s?n.createElement(e):{}}},83856:(e,t,i)=>{var r=i(33938),n=i(11327),s=i(19216),o=i(41818),a=i(27069),l=function(e,t,i){var c,h,d,u=e&l.F,p=e&l.G,f=e&l.S,m=e&l.P,_=e&l.B,g=e&l.W,y=p?n:n[t]||(n[t]={}),v=y.prototype,b=p?r:f?r[t]:(r[t]||{}).prototype;for(c in p&&(i=t),i)(h=!u&&b&&void 0!==b[c])&&a(y,c)||(d=h?b[c]:i[c],y[c]=p&&"function"!=typeof b[c]?i[c]:_&&h?s(d,r):g&&b[c]==d?function(e){var t=function(t,i,r){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,i)}return new e(t,i,r)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(d):m&&"function"==typeof d?s(Function.call,d):d,m&&((y.virtual||(y.virtual={}))[c]=d,e&l.R&&v&&!v[c]&&o(v,c,d)))};l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,e.exports=l},7929:e=>{e.exports=function(e){try{return!!e()}catch(e){return!0}}},33938:e=>{var t=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=t)},27069:e=>{var t={}.hasOwnProperty;e.exports=function(e,i){return t.call(e,i)}},41818:(e,t,i)=>{var r=i(4743),n=i(83101);e.exports=i(89666)?function(e,t,i){return r.f(e,t,n(1,i))}:function(e,t,i){return e[t]=i,e}},33758:(e,t,i)=>{e.exports=!i(89666)&&!i(7929)((function(){return 7!=Object.defineProperty(i(97467)("div"),"a",{get:function(){return 7}}).a}))},36727:e=>{e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},4743:(e,t,i)=>{var r=i(12159),n=i(33758),s=i(33206),o=Object.defineProperty;t.f=i(89666)?Object.defineProperty:function(e,t,i){if(r(e),t=s(t,!0),r(i),n)try{return o(e,t,i)}catch(e){}if("get"in i||"set"in i)throw TypeError("Accessors not supported!");return"value"in i&&(e[t]=i.value),e}},83101:e=>{e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},33206:(e,t,i)=>{var r=i(36727);e.exports=function(e,t){if(!r(e))return e;var i,n;if(t&&"function"==typeof(i=e.toString)&&!r(n=i.call(e)))return n;if("function"==typeof(i=e.valueOf)&&!r(n=i.call(e)))return n;if(!t&&"function"==typeof(i=e.toString)&&!r(n=i.call(e)))return n;throw TypeError("Can't convert object to primitive value")}},34579:(e,t,i)=>{var r=i(83856);r(r.G,{global:i(33938)})},24963:e=>{e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},83365:(e,t,i)=>{var r=i(92032);e.exports=function(e,t){if("number"!=typeof e&&"Number"!=r(e))throw TypeError(t);return+e}},17722:(e,t,i)=>{var r=i(86314)("unscopables"),n=Array.prototype;null==n[r]&&i(87728)(n,r,{}),e.exports=function(e){n[r][e]=!0}},76793:(e,t,i)=>{"use strict";var r=i(24496)(!0);e.exports=function(e,t,i){return t+(i?r(e,t).length:1)}},83328:e=>{e.exports=function(e,t,i,r){if(!(e instanceof t)||void 0!==r&&r in e)throw TypeError(i+": incorrect invocation!");return e}},27007:(e,t,i)=>{var r=i(55286);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},5216:(e,t,i)=>{"use strict";var r=i(20508),n=i(92337),s=i(10875);e.exports=[].copyWithin||function(e,t){var i=r(this),o=s(i.length),a=n(e,o),l=n(t,o),c=arguments.length>2?arguments[2]:void 0,h=Math.min((void 0===c?o:n(c,o))-l,o-a),d=1;for(l<a&&a<l+h&&(d=-1,l+=h-1,a+=h-1);h-- >0;)l in i?i[a]=i[l]:delete i[a],a+=d,l+=d;return i}},46852:(e,t,i)=>{"use strict";var r=i(20508),n=i(92337),s=i(10875);e.exports=function(e){for(var t=r(this),i=s(t.length),o=arguments.length,a=n(o>1?arguments[1]:void 0,i),l=o>2?arguments[2]:void 0,c=void 0===l?i:n(l,i);c>a;)t[a++]=e;return t}},79315:(e,t,i)=>{var r=i(22110),n=i(10875),s=i(92337);e.exports=function(e){return function(t,i,o){var a,l=r(t),c=n(l.length),h=s(o,c);if(e&&i!=i){for(;c>h;)if((a=l[h++])!=a)return!0}else for(;c>h;h++)if((e||h in l)&&l[h]===i)return e||h||0;return!e&&-1}}},10050:(e,t,i)=>{var r=i(741),n=i(49797),s=i(20508),o=i(10875),a=i(16886);e.exports=function(e,t){var i=1==e,l=2==e,c=3==e,h=4==e,d=6==e,u=5==e||d,p=t||a;return function(t,a,f){for(var m,_,g=s(t),y=n(g),v=r(a,f,3),b=o(y.length),w=0,x=i?p(t,b):l?p(t,0):void 0;b>w;w++)if((u||w in y)&&(_=v(m=y[w],w,g),e))if(i)x[w]=_;else if(_)switch(e){case 3:return!0;case 5:return m;case 6:return w;case 2:x.push(m)}else if(h)return!1;return d?-1:c||h?h:x}}},37628:(e,t,i)=>{var r=i(24963),n=i(20508),s=i(49797),o=i(10875);e.exports=function(e,t,i,a,l){r(t);var c=n(e),h=s(c),d=o(c.length),u=l?d-1:0,p=l?-1:1;if(i<2)for(;;){if(u in h){a=h[u],u+=p;break}if(u+=p,l?u<0:d<=u)throw TypeError("Reduce of empty array with no initial value")}for(;l?u>=0:d>u;u+=p)u in h&&(a=t(a,h[u],u,c));return a}},42736:(e,t,i)=>{var r=i(55286),n=i(4302),s=i(86314)("species");e.exports=function(e){var t;return n(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!n(t.prototype)||(t=void 0),r(t)&&null===(t=t[s])&&(t=void 0)),void 0===t?Array:t}},16886:(e,t,i)=>{var r=i(42736);e.exports=function(e,t){return new(r(e))(t)}},34398:(e,t,i)=>{"use strict";var r=i(24963),n=i(55286),s=i(97242),o=[].slice,a={},l=function(e,t,i){if(!(t in a)){for(var r=[],n=0;n<t;n++)r[n]="a["+n+"]";a[t]=Function("F,a","return new F("+r.join(",")+")")}return a[t](e,i)};e.exports=Function.bind||function(e){var t=r(this),i=o.call(arguments,1),a=function(){var r=i.concat(o.call(arguments));return this instanceof a?l(t,r.length,r):s(t,r,e)};return n(t.prototype)&&(a.prototype=t.prototype),a}},41488:(e,t,i)=>{var r=i(92032),n=i(86314)("toStringTag"),s="Arguments"==r(function(){return arguments}());e.exports=function(e){var t,i,o;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(i=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),n))?i:s?r(t):"Object"==(o=r(t))&&"function"==typeof t.callee?"Arguments":o}},92032:e=>{var t={}.toString;e.exports=function(e){return t.call(e).slice(8,-1)}},9824:(e,t,i)=>{"use strict";var r=i(99275).f,n=i(42503),s=i(24408),o=i(741),a=i(83328),l=i(3531),c=i(42923),h=i(15436),d=i(2974),u=i(67057),p=i(84728).fastKey,f=i(1616),m=u?"_s":"size",_=function(e,t){var i,r=p(t);if("F"!==r)return e._i[r];for(i=e._f;i;i=i.n)if(i.k==t)return i};e.exports={getConstructor:function(e,t,i,c){var h=e((function(e,r){a(e,h,t,"_i"),e._t=t,e._i=n(null),e._f=void 0,e._l=void 0,e[m]=0,null!=r&&l(r,i,e[c],e)}));return s(h.prototype,{clear:function(){for(var e=f(this,t),i=e._i,r=e._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete i[r.i];e._f=e._l=void 0,e[m]=0},delete:function(e){var i=f(this,t),r=_(i,e);if(r){var n=r.n,s=r.p;delete i._i[r.i],r.r=!0,s&&(s.n=n),n&&(n.p=s),i._f==r&&(i._f=n),i._l==r&&(i._l=s),i[m]--}return!!r},forEach:function(e){f(this,t);for(var i,r=o(e,arguments.length>1?arguments[1]:void 0,3);i=i?i.n:this._f;)for(r(i.v,i.k,this);i&&i.r;)i=i.p},has:function(e){return!!_(f(this,t),e)}}),u&&r(h.prototype,"size",{get:function(){return f(this,t)[m]}}),h},def:function(e,t,i){var r,n,s=_(e,t);return s?s.v=i:(e._l=s={i:n=p(t,!0),k:t,v:i,p:r=e._l,n:void 0,r:!1},e._f||(e._f=s),r&&(r.n=s),e[m]++,"F"!==n&&(e._i[n]=s)),e},getEntry:_,setStrong:function(e,t,i){c(e,t,(function(e,i){this._t=f(e,t),this._k=i,this._l=void 0}),(function(){for(var e=this,t=e._k,i=e._l;i&&i.r;)i=i.p;return e._t&&(e._l=i=i?i.n:e._t._f)?h(0,"keys"==t?i.k:"values"==t?i.v:[i.k,i.v]):(e._t=void 0,h(1))}),i?"entries":"values",!i,!0),d(t)}}},23657:(e,t,i)=>{"use strict";var r=i(24408),n=i(84728).getWeak,s=i(27007),o=i(55286),a=i(83328),l=i(3531),c=i(10050),h=i(79181),d=i(1616),u=c(5),p=c(6),f=0,m=function(e){return e._l||(e._l=new _)},_=function(){this.a=[]},g=function(e,t){return u(e.a,(function(e){return e[0]===t}))};_.prototype={get:function(e){var t=g(this,e);if(t)return t[1]},has:function(e){return!!g(this,e)},set:function(e,t){var i=g(this,e);i?i[1]=t:this.a.push([e,t])},delete:function(e){var t=p(this.a,(function(t){return t[0]===e}));return~t&&this.a.splice(t,1),!!~t}},e.exports={getConstructor:function(e,t,i,s){var c=e((function(e,r){a(e,c,t,"_i"),e._t=t,e._i=f++,e._l=void 0,null!=r&&l(r,i,e[s],e)}));return r(c.prototype,{delete:function(e){if(!o(e))return!1;var i=n(e);return!0===i?m(d(this,t)).delete(e):i&&h(i,this._i)&&delete i[this._i]},has:function(e){if(!o(e))return!1;var i=n(e);return!0===i?m(d(this,t)).has(e):i&&h(i,this._i)}}),c},def:function(e,t,i){var r=n(s(t),!0);return!0===r?m(e).set(t,i):r[e._i]=i,e},ufstore:m}},45795:(e,t,i)=>{"use strict";var r=i(3816),n=i(42985),s=i(77234),o=i(24408),a=i(84728),l=i(3531),c=i(83328),h=i(55286),d=i(74253),u=i(7462),p=i(22943),f=i(40266);e.exports=function(e,t,i,m,_,g){var y=r[e],v=y,b=_?"set":"add",w=v&&v.prototype,x={},C=function(e){var t=w[e];s(w,e,"delete"==e||"has"==e?function(e){return!(g&&!h(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return g&&!h(e)?void 0:t.call(this,0===e?0:e)}:"add"==e?function(e){return t.call(this,0===e?0:e),this}:function(e,i){return t.call(this,0===e?0:e,i),this})};if("function"==typeof v&&(g||w.forEach&&!d((function(){(new v).entries().next()})))){var S=new v,A=S[b](g?{}:-0,1)!=S,T=d((function(){S.has(1)})),k=u((function(e){new v(e)})),O=!g&&d((function(){for(var e=new v,t=5;t--;)e[b](t,t);return!e.has(-0)}));k||((v=t((function(t,i){c(t,v,e);var r=f(new y,t,v);return null!=i&&l(i,_,r[b],r),r}))).prototype=w,w.constructor=v),(T||O)&&(C("delete"),C("has"),_&&C("get")),(O||A)&&C(b),g&&w.clear&&delete w.clear}else v=m.getConstructor(t,e,_,b),o(v.prototype,i),a.NEED=!0;return p(v,e),x[e]=v,n(n.G+n.W+n.F*(v!=y),x),g||m.setStrong(v,e,_),v}},25645:e=>{var t=e.exports={version:"2.6.12"};"number"==typeof __e&&(__e=t)},92811:(e,t,i)=>{"use strict";var r=i(99275),n=i(90681);e.exports=function(e,t,i){t in e?r.f(e,t,n(0,i)):e[t]=i}},741:(e,t,i)=>{var r=i(24963);e.exports=function(e,t,i){if(r(e),void 0===t)return e;switch(i){case 1:return function(i){return e.call(t,i)};case 2:return function(i,r){return e.call(t,i,r)};case 3:return function(i,r,n){return e.call(t,i,r,n)}}return function(){return e.apply(t,arguments)}}},53537:(e,t,i)=>{"use strict";var r=i(74253),n=Date.prototype.getTime,s=Date.prototype.toISOString,o=function(e){return e>9?e:"0"+e};e.exports=r((function(){return"0385-07-25T07:06:39.999Z"!=s.call(new Date(-50000000000001))}))||!r((function(){s.call(new Date(NaN))}))?function(){if(!isFinite(n.call(this)))throw RangeError("Invalid time value");var e=this,t=e.getUTCFullYear(),i=e.getUTCMilliseconds(),r=t<0?"-":t>9999?"+":"";return r+("00000"+Math.abs(t)).slice(r?-6:-4)+"-"+o(e.getUTCMonth()+1)+"-"+o(e.getUTCDate())+"T"+o(e.getUTCHours())+":"+o(e.getUTCMinutes())+":"+o(e.getUTCSeconds())+"."+(i>99?i:"0"+o(i))+"Z"}:s},870:(e,t,i)=>{"use strict";var r=i(27007),n=i(21689),s="number";e.exports=function(e){if("string"!==e&&e!==s&&"default"!==e)throw TypeError("Incorrect hint");return n(r(this),e!=s)}},91355:e=>{e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},67057:(e,t,i)=>{e.exports=!i(74253)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},62457:(e,t,i)=>{var r=i(55286),n=i(3816).document,s=r(n)&&r(n.createElement);e.exports=function(e){return s?n.createElement(e):{}}},74430:e=>{e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},5541:(e,t,i)=>{var r=i(47184),n=i(64548),s=i(14682);e.exports=function(e){var t=r(e),i=n.f;if(i)for(var o,a=i(e),l=s.f,c=0;a.length>c;)l.call(e,o=a[c++])&&t.push(o);return t}},42985:(e,t,i)=>{var r=i(3816),n=i(25645),s=i(87728),o=i(77234),a=i(741),l=function(e,t,i){var c,h,d,u,p=e&l.F,f=e&l.G,m=e&l.S,_=e&l.P,g=e&l.B,y=f?r:m?r[t]||(r[t]={}):(r[t]||{}).prototype,v=f?n:n[t]||(n[t]={}),b=v.prototype||(v.prototype={});for(c in f&&(i=t),i)d=((h=!p&&y&&void 0!==y[c])?y:i)[c],u=g&&h?a(d,r):_&&"function"==typeof d?a(Function.call,d):d,y&&o(y,c,d,e&l.U),v[c]!=d&&s(v,c,u),_&&b[c]!=d&&(b[c]=d)};r.core=n,l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,e.exports=l},8852:(e,t,i)=>{var r=i(86314)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(i){try{return t[r]=!1,!"/./"[e](t)}catch(e){}}return!0}},74253:e=>{e.exports=function(e){try{return!!e()}catch(e){return!0}}},28082:(e,t,i)=>{"use strict";i(18269);var r=i(77234),n=i(87728),s=i(74253),o=i(91355),a=i(86314),l=i(21165),c=a("species"),h=!s((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),d=function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var i="ab".split(e);return 2===i.length&&"a"===i[0]&&"b"===i[1]}();e.exports=function(e,t,i){var u=a(e),p=!s((function(){var t={};return t[u]=function(){return 7},7!=""[e](t)})),f=p?!s((function(){var t=!1,i=/a/;return i.exec=function(){return t=!0,null},"split"===e&&(i.constructor={},i.constructor[c]=function(){return i}),i[u](""),!t})):void 0;if(!p||!f||"replace"===e&&!h||"split"===e&&!d){var m=/./[u],_=i(o,u,""[e],(function(e,t,i,r,n){return t.exec===l?p&&!n?{done:!0,value:m.call(t,i,r)}:{done:!0,value:e.call(i,t,r)}:{done:!1}})),g=_[0],y=_[1];r(String.prototype,e,g),n(RegExp.prototype,u,2==t?function(e,t){return y.call(e,this,t)}:function(e){return y.call(e,this)})}}},53218:(e,t,i)=>{"use strict";var r=i(27007);e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},13325:(e,t,i)=>{"use strict";var r=i(4302),n=i(55286),s=i(10875),o=i(741),a=i(86314)("isConcatSpreadable");e.exports=function e(t,i,l,c,h,d,u,p){for(var f,m,_=h,g=0,y=!!u&&o(u,p,3);g<c;){if(g in l){if(f=y?y(l[g],g,i):l[g],m=!1,n(f)&&(m=void 0!==(m=f[a])?!!m:r(f)),m&&d>0)_=e(t,i,f,s(f.length),_,d-1)-1;else{if(_>=9007199254740991)throw TypeError();t[_]=f}_++}g++}return _}},3531:(e,t,i)=>{var r=i(741),n=i(28851),s=i(86555),o=i(27007),a=i(10875),l=i(69002),c={},h={},d=e.exports=function(e,t,i,d,u){var p,f,m,_,g=u?function(){return e}:l(e),y=r(i,d,t?2:1),v=0;if("function"!=typeof g)throw TypeError(e+" is not iterable!");if(s(g)){for(p=a(e.length);p>v;v++)if((_=t?y(o(f=e[v])[0],f[1]):y(e[v]))===c||_===h)return _}else for(m=g.call(e);!(f=m.next()).done;)if((_=n(m,y,f.value,t))===c||_===h)return _};d.BREAK=c,d.RETURN=h},40018:(e,t,i)=>{e.exports=i(3825)("native-function-to-string",Function.toString)},3816:e=>{var t=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=t)},79181:e=>{var t={}.hasOwnProperty;e.exports=function(e,i){return t.call(e,i)}},87728:(e,t,i)=>{var r=i(99275),n=i(90681);e.exports=i(67057)?function(e,t,i){return r.f(e,t,n(1,i))}:function(e,t,i){return e[t]=i,e}},40639:(e,t,i)=>{var r=i(3816).document;e.exports=r&&r.documentElement},1734:(e,t,i)=>{e.exports=!i(67057)&&!i(74253)((function(){return 7!=Object.defineProperty(i(62457)("div"),"a",{get:function(){return 7}}).a}))},40266:(e,t,i)=>{var r=i(55286),n=i(27375).set;e.exports=function(e,t,i){var s,o=t.constructor;return o!==i&&"function"==typeof o&&(s=o.prototype)!==i.prototype&&r(s)&&n&&n(e,s),e}},97242:e=>{e.exports=function(e,t,i){var r=void 0===i;switch(t.length){case 0:return r?e():e.call(i);case 1:return r?e(t[0]):e.call(i,t[0]);case 2:return r?e(t[0],t[1]):e.call(i,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(i,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(i,t[0],t[1],t[2],t[3])}return e.apply(i,t)}},49797:(e,t,i)=>{var r=i(92032);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},86555:(e,t,i)=>{var r=i(87234),n=i(86314)("iterator"),s=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||s[n]===e)}},4302:(e,t,i)=>{var r=i(92032);e.exports=Array.isArray||function(e){return"Array"==r(e)}},18367:(e,t,i)=>{var r=i(55286),n=Math.floor;e.exports=function(e){return!r(e)&&isFinite(e)&&n(e)===e}},55286:e=>{e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},55364:(e,t,i)=>{var r=i(55286),n=i(92032),s=i(86314)("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[s])?!!t:"RegExp"==n(e))}},28851:(e,t,i)=>{var r=i(27007);e.exports=function(e,t,i,n){try{return n?t(r(i)[0],i[1]):t(i)}catch(t){var s=e.return;throw void 0!==s&&r(s.call(e)),t}}},49988:(e,t,i)=>{"use strict";var r=i(42503),n=i(90681),s=i(22943),o={};i(87728)(o,i(86314)("iterator"),(function(){return this})),e.exports=function(e,t,i){e.prototype=r(o,{next:n(1,i)}),s(e,t+" Iterator")}},42923:(e,t,i)=>{"use strict";var r=i(4461),n=i(42985),s=i(77234),o=i(87728),a=i(87234),l=i(49988),c=i(22943),h=i(468),d=i(86314)("iterator"),u=!([].keys&&"next"in[].keys()),p="keys",f="values",m=function(){return this};e.exports=function(e,t,i,_,g,y,v){l(i,t,_);var b,w,x,C=function(e){if(!u&&e in k)return k[e];switch(e){case p:case f:return function(){return new i(this,e)}}return function(){return new i(this,e)}},S=t+" Iterator",A=g==f,T=!1,k=e.prototype,O=k[d]||k["@@iterator"]||g&&k[g],P=O||C(g),I=g?A?C("entries"):P:void 0,E="Array"==t&&k.entries||O;if(E&&(x=h(E.call(new e)))!==Object.prototype&&x.next&&(c(x,S,!0),r||"function"==typeof x[d]||o(x,d,m)),A&&O&&O.name!==f&&(T=!0,P=function(){return O.call(this)}),r&&!v||!u&&!T&&k[d]||o(k,d,P),a[t]=P,a[S]=m,g)if(b={values:A?P:C(f),keys:y?P:C(p),entries:I},v)for(w in b)w in k||s(k,w,b[w]);else n(n.P+n.F*(u||T),t,b);return b}},7462:(e,t,i)=>{var r=i(86314)("iterator"),n=!1;try{var s=[7][r]();s.return=function(){n=!0},Array.from(s,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!n)return!1;var i=!1;try{var s=[7],o=s[r]();o.next=function(){return{done:i=!0}},s[r]=function(){return o},e(s)}catch(e){}return i}},15436:e=>{e.exports=function(e,t){return{value:t,done:!!e}}},87234:e=>{e.exports={}},4461:e=>{e.exports=!1},13086:e=>{var t=Math.expm1;e.exports=!t||t(10)>22025.465794806718||t(10)<22025.465794806718||-2e-17!=t(-2e-17)?function(e){return 0==(e=+e)?e:e>-1e-6&&e<1e-6?e+e*e/2:Math.exp(e)-1}:t},34934:(e,t,i)=>{var r=i(61801),n=Math.pow,s=n(2,-52),o=n(2,-23),a=n(2,127)*(2-o),l=n(2,-126);e.exports=Math.fround||function(e){var t,i,n=Math.abs(e),c=r(e);return n<l?c*function(e){return e+1/s-1/s}(n/l/o)*l*o:(i=(t=(1+o/s)*n)-(t-n))>a||i!=i?c*(1/0):c*i}},46206:e=>{e.exports=Math.log1p||function(e){return(e=+e)>-1e-8&&e<1e-8?e-e*e/2:Math.log(1+e)}},61801:e=>{e.exports=Math.sign||function(e){return 0==(e=+e)||e!=e?e:e<0?-1:1}},84728:(e,t,i)=>{var r=i(93953)("meta"),n=i(55286),s=i(79181),o=i(99275).f,a=0,l=Object.isExtensible||function(){return!0},c=!i(74253)((function(){return l(Object.preventExtensions({}))})),h=function(e){o(e,r,{value:{i:"O"+ ++a,w:{}}})},d=e.exports={KEY:r,NEED:!1,fastKey:function(e,t){if(!n(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!s(e,r)){if(!l(e))return"F";if(!t)return"E";h(e)}return e[r].i},getWeak:function(e,t){if(!s(e,r)){if(!l(e))return!0;if(!t)return!1;h(e)}return e[r].w},onFreeze:function(e){return c&&d.NEED&&l(e)&&!s(e,r)&&h(e),e}}},14351:(e,t,i)=>{var r=i(3816),n=i(74193).set,s=r.MutationObserver||r.WebKitMutationObserver,o=r.process,a=r.Promise,l="process"==i(92032)(o);e.exports=function(){var e,t,i,c=function(){var r,n;for(l&&(r=o.domain)&&r.exit();e;){n=e.fn,e=e.next;try{n()}catch(r){throw e?i():t=void 0,r}}t=void 0,r&&r.enter()};if(l)i=function(){o.nextTick(c)};else if(!s||r.navigator&&r.navigator.standalone)if(a&&a.resolve){var h=a.resolve(void 0);i=function(){h.then(c)}}else i=function(){n.call(r,c)};else{var d=!0,u=document.createTextNode("");new s(c).observe(u,{characterData:!0}),i=function(){u.data=d=!d}}return function(r){var n={fn:r,next:void 0};t&&(t.next=n),e||(e=n,i()),t=n}}},43499:(e,t,i)=>{"use strict";var r=i(24963);function n(e){var t,i;this.promise=new e((function(e,r){if(void 0!==t||void 0!==i)throw TypeError("Bad Promise constructor");t=e,i=r})),this.resolve=r(t),this.reject=r(i)}e.exports.f=function(e){return new n(e)}},35345:(e,t,i)=>{"use strict";var r=i(67057),n=i(47184),s=i(64548),o=i(14682),a=i(20508),l=i(49797),c=Object.assign;e.exports=!c||i(74253)((function(){var e={},t={},i=Symbol(),r="abcdefghijklmnopqrst";return e[i]=7,r.split("").forEach((function(e){t[e]=e})),7!=c({},e)[i]||Object.keys(c({},t)).join("")!=r}))?function(e,t){for(var i=a(e),c=arguments.length,h=1,d=s.f,u=o.f;c>h;)for(var p,f=l(arguments[h++]),m=d?n(f).concat(d(f)):n(f),_=m.length,g=0;_>g;)p=m[g++],r&&!u.call(f,p)||(i[p]=f[p]);return i}:c},42503:(e,t,i)=>{var r=i(27007),n=i(35588),s=i(74430),o=i(69335)("IE_PROTO"),a=function(){},l=function(){var e,t=i(62457)("iframe"),r=s.length;for(t.style.display="none",i(40639).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),l=e.F;r--;)delete l.prototype[s[r]];return l()};e.exports=Object.create||function(e,t){var i;return null!==e?(a.prototype=r(e),i=new a,a.prototype=null,i[o]=e):i=l(),void 0===t?i:n(i,t)}},99275:(e,t,i)=>{var r=i(27007),n=i(1734),s=i(21689),o=Object.defineProperty;t.f=i(67057)?Object.defineProperty:function(e,t,i){if(r(e),t=s(t,!0),r(i),n)try{return o(e,t,i)}catch(e){}if("get"in i||"set"in i)throw TypeError("Accessors not supported!");return"value"in i&&(e[t]=i.value),e}},35588:(e,t,i)=>{var r=i(99275),n=i(27007),s=i(47184);e.exports=i(67057)?Object.defineProperties:function(e,t){n(e);for(var i,o=s(t),a=o.length,l=0;a>l;)r.f(e,i=o[l++],t[i]);return e}},18693:(e,t,i)=>{var r=i(14682),n=i(90681),s=i(22110),o=i(21689),a=i(79181),l=i(1734),c=Object.getOwnPropertyDescriptor;t.f=i(67057)?c:function(e,t){if(e=s(e),t=o(t,!0),l)try{return c(e,t)}catch(e){}if(a(e,t))return n(!r.f.call(e,t),e[t])}},39327:(e,t,i)=>{var r=i(22110),n=i(20616).f,s={}.toString,o="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return o&&"[object Window]"==s.call(e)?function(e){try{return n(e)}catch(e){return o.slice()}}(e):n(r(e))}},20616:(e,t,i)=>{var r=i(60189),n=i(74430).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,n)}},64548:(e,t)=>{t.f=Object.getOwnPropertySymbols},468:(e,t,i)=>{var r=i(79181),n=i(20508),s=i(69335)("IE_PROTO"),o=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=n(e),r(e,s)?e[s]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?o:null}},60189:(e,t,i)=>{var r=i(79181),n=i(22110),s=i(79315)(!1),o=i(69335)("IE_PROTO");e.exports=function(e,t){var i,a=n(e),l=0,c=[];for(i in a)i!=o&&r(a,i)&&c.push(i);for(;t.length>l;)r(a,i=t[l++])&&(~s(c,i)||c.push(i));return c}},47184:(e,t,i)=>{var r=i(60189),n=i(74430);e.exports=Object.keys||function(e){return r(e,n)}},14682:(e,t)=>{t.f={}.propertyIsEnumerable},33160:(e,t,i)=>{var r=i(42985),n=i(25645),s=i(74253);e.exports=function(e,t){var i=(n.Object||{})[e]||Object[e],o={};o[e]=t(i),r(r.S+r.F*s((function(){i(1)})),"Object",o)}},51131:(e,t,i)=>{var r=i(67057),n=i(47184),s=i(22110),o=i(14682).f;e.exports=function(e){return function(t){for(var i,a=s(t),l=n(a),c=l.length,h=0,d=[];c>h;)i=l[h++],r&&!o.call(a,i)||d.push(e?[i,a[i]]:a[i]);return d}}},57643:(e,t,i)=>{var r=i(20616),n=i(64548),s=i(27007),o=i(3816).Reflect;e.exports=o&&o.ownKeys||function(e){var t=r.f(s(e)),i=n.f;return i?t.concat(i(e)):t}},47743:(e,t,i)=>{var r=i(3816).parseFloat,n=i(29599).trim;e.exports=1/r(i(84644)+"-0")!=-1/0?function(e){var t=n(String(e),3),i=r(t);return 0===i&&"-"==t.charAt(0)?-0:i}:r},55960:(e,t,i)=>{var r=i(3816).parseInt,n=i(29599).trim,s=i(84644),o=/^[-+]?0[xX]/;e.exports=8!==r(s+"08")||22!==r(s+"0x16")?function(e,t){var i=n(String(e),3);return r(i,t>>>0||(o.test(i)?16:10))}:r},10188:e=>{e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},50094:(e,t,i)=>{var r=i(27007),n=i(55286),s=i(43499);e.exports=function(e,t){if(r(e),n(t)&&t.constructor===e)return t;var i=s.f(e);return(0,i.resolve)(t),i.promise}},90681:e=>{e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},24408:(e,t,i)=>{var r=i(77234);e.exports=function(e,t,i){for(var n in t)r(e,n,t[n],i);return e}},77234:(e,t,i)=>{var r=i(3816),n=i(87728),s=i(79181),o=i(93953)("src"),a=i(40018),l="toString",c=(""+a).split(l);i(25645).inspectSource=function(e){return a.call(e)},(e.exports=function(e,t,i,a){var l="function"==typeof i;l&&(s(i,"name")||n(i,"name",t)),e[t]!==i&&(l&&(s(i,o)||n(i,o,e[t]?""+e[t]:c.join(String(t)))),e===r?e[t]=i:a?e[t]?e[t]=i:n(e,t,i):(delete e[t],n(e,t,i)))})(Function.prototype,l,(function(){return"function"==typeof this&&this[o]||a.call(this)}))},27787:(e,t,i)=>{"use strict";var r=i(41488),n=RegExp.prototype.exec;e.exports=function(e,t){var i=e.exec;if("function"==typeof i){var s=i.call(e,t);if("object"!=typeof s)throw new TypeError("RegExp exec method returned something other than an Object or null");return s}if("RegExp"!==r(e))throw new TypeError("RegExp#exec called on incompatible receiver");return n.call(e,t)}},21165:(e,t,i)=>{"use strict";var r,n,s=i(53218),o=RegExp.prototype.exec,a=String.prototype.replace,l=o,c=(r=/a/,n=/b*/g,o.call(r,"a"),o.call(n,"a"),0!==r.lastIndex||0!==n.lastIndex),h=void 0!==/()??/.exec("")[1];(c||h)&&(l=function(e){var t,i,r,n,l=this;return h&&(i=new RegExp("^"+l.source+"$(?!\\s)",s.call(l))),c&&(t=l.lastIndex),r=o.call(l,e),c&&r&&(l.lastIndex=l.global?r.index+r[0].length:t),h&&r&&r.length>1&&a.call(r[0],i,(function(){for(n=1;n<arguments.length-2;n++)void 0===arguments[n]&&(r[n]=void 0)})),r}),e.exports=l},27195:e=>{e.exports=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},27375:(e,t,i)=>{var r=i(55286),n=i(27007),s=function(e,t){if(n(e),!r(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,r){try{(r=i(741)(Function.call,i(18693).f(Object.prototype,"__proto__").set,2))(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,i){return s(e,i),t?e.__proto__=i:r(e,i),e}}({},!1):void 0),check:s}},2974:(e,t,i)=>{"use strict";var r=i(3816),n=i(99275),s=i(67057),o=i(86314)("species");e.exports=function(e){var t=r[e];s&&t&&!t[o]&&n.f(t,o,{configurable:!0,get:function(){return this}})}},22943:(e,t,i)=>{var r=i(99275).f,n=i(79181),s=i(86314)("toStringTag");e.exports=function(e,t,i){e&&!n(e=i?e:e.prototype,s)&&r(e,s,{configurable:!0,value:t})}},69335:(e,t,i)=>{var r=i(3825)("keys"),n=i(93953);e.exports=function(e){return r[e]||(r[e]=n(e))}},3825:(e,t,i)=>{var r=i(25645),n=i(3816),s="__core-js_shared__",o=n[s]||(n[s]={});(e.exports=function(e,t){return o[e]||(o[e]=void 0!==t?t:{})})("versions",[]).push({version:r.version,mode:i(4461)?"pure":"global",copyright:" 2020 Denis Pushkarev (zloirock.ru)"})},58364:(e,t,i)=>{var r=i(27007),n=i(24963),s=i(86314)("species");e.exports=function(e,t){var i,o=r(e).constructor;return void 0===o||null==(i=r(o)[s])?t:n(i)}},77717:(e,t,i)=>{"use strict";var r=i(74253);e.exports=function(e,t){return!!e&&r((function(){t?e.call(null,(function(){}),1):e.call(null)}))}},24496:(e,t,i)=>{var r=i(81467),n=i(91355);e.exports=function(e){return function(t,i){var s,o,a=String(n(t)),l=r(i),c=a.length;return l<0||l>=c?e?"":void 0:(s=a.charCodeAt(l))<55296||s>56319||l+1===c||(o=a.charCodeAt(l+1))<56320||o>57343?e?a.charAt(l):s:e?a.slice(l,l+2):o-56320+(s-55296<<10)+65536}}},42094:(e,t,i)=>{var r=i(55364),n=i(91355);e.exports=function(e,t,i){if(r(t))throw TypeError("String#"+i+" doesn't accept regex!");return String(n(e))}},29395:(e,t,i)=>{var r=i(42985),n=i(74253),s=i(91355),o=/"/g,a=function(e,t,i,r){var n=String(s(e)),a="<"+t;return""!==i&&(a+=" "+i+'="'+String(r).replace(o,"&quot;")+'"'),a+">"+n+"</"+t+">"};e.exports=function(e,t){var i={};i[e]=t(a),r(r.P+r.F*n((function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3})),"String",i)}},75442:(e,t,i)=>{var r=i(10875),n=i(68595),s=i(91355);e.exports=function(e,t,i,o){var a=String(s(e)),l=a.length,c=void 0===i?" ":String(i),h=r(t);if(h<=l||""==c)return a;var d=h-l,u=n.call(c,Math.ceil(d/c.length));return u.length>d&&(u=u.slice(0,d)),o?u+a:a+u}},68595:(e,t,i)=>{"use strict";var r=i(81467),n=i(91355);e.exports=function(e){var t=String(n(this)),i="",s=r(e);if(s<0||s==1/0)throw RangeError("Count can't be negative");for(;s>0;(s>>>=1)&&(t+=t))1&s&&(i+=t);return i}},29599:(e,t,i)=>{var r=i(42985),n=i(91355),s=i(74253),o=i(84644),a="["+o+"]",l=RegExp("^"+a+a+"*"),c=RegExp(a+a+"*$"),h=function(e,t,i){var n={},a=s((function(){return!!o[e]()||""!=""[e]()})),l=n[e]=a?t(d):o[e];i&&(n[i]=l),r(r.P+r.F*a,"String",n)},d=h.trim=function(e,t){return e=String(n(e)),1&t&&(e=e.replace(l,"")),2&t&&(e=e.replace(c,"")),e};e.exports=h},84644:e=>{e.exports="\t\n\v\f\r \u2028\u2029\ufeff"},74193:(e,t,i)=>{var r,n,s,o=i(741),a=i(97242),l=i(40639),c=i(62457),h=i(3816),d=h.process,u=h.setImmediate,p=h.clearImmediate,f=h.MessageChannel,m=h.Dispatch,_=0,g={},y="onreadystatechange",v=function(){var e=+this;if(g.hasOwnProperty(e)){var t=g[e];delete g[e],t()}},b=function(e){v.call(e.data)};u&&p||(u=function(e){for(var t=[],i=1;arguments.length>i;)t.push(arguments[i++]);return g[++_]=function(){a("function"==typeof e?e:Function(e),t)},r(_),_},p=function(e){delete g[e]},"process"==i(92032)(d)?r=function(e){d.nextTick(o(v,e,1))}:m&&m.now?r=function(e){m.now(o(v,e,1))}:f?(s=(n=new f).port2,n.port1.onmessage=b,r=o(s.postMessage,s,1)):h.addEventListener&&"function"==typeof postMessage&&!h.importScripts?(r=function(e){h.postMessage(e+"","*")},h.addEventListener("message",b,!1)):r=y in c("script")?function(e){l.appendChild(c("script")).onreadystatechange=function(){l.removeChild(this),v.call(e)}}:function(e){setTimeout(o(v,e,1),0)}),e.exports={set:u,clear:p}},92337:(e,t,i)=>{var r=i(81467),n=Math.max,s=Math.min;e.exports=function(e,t){return(e=r(e))<0?n(e+t,0):s(e,t)}},94843:(e,t,i)=>{var r=i(81467),n=i(10875);e.exports=function(e){if(void 0===e)return 0;var t=r(e),i=n(t);if(t!==i)throw RangeError("Wrong length!");return i}},81467:e=>{var t=Math.ceil,i=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?i:t)(e)}},22110:(e,t,i)=>{var r=i(49797),n=i(91355);e.exports=function(e){return r(n(e))}},10875:(e,t,i)=>{var r=i(81467),n=Math.min;e.exports=function(e){return e>0?n(r(e),9007199254740991):0}},20508:(e,t,i)=>{var r=i(91355);e.exports=function(e){return Object(r(e))}},21689:(e,t,i)=>{var r=i(55286);e.exports=function(e,t){if(!r(e))return e;var i,n;if(t&&"function"==typeof(i=e.toString)&&!r(n=i.call(e)))return n;if("function"==typeof(i=e.valueOf)&&!r(n=i.call(e)))return n;if(!t&&"function"==typeof(i=e.toString)&&!r(n=i.call(e)))return n;throw TypeError("Can't convert object to primitive value")}},78440:(e,t,i)=>{"use strict";if(i(67057)){var r=i(4461),n=i(3816),s=i(74253),o=i(42985),a=i(89383),l=i(91125),c=i(741),h=i(83328),d=i(90681),u=i(87728),p=i(24408),f=i(81467),m=i(10875),_=i(94843),g=i(92337),y=i(21689),v=i(79181),b=i(41488),w=i(55286),x=i(20508),C=i(86555),S=i(42503),A=i(468),T=i(20616).f,k=i(69002),O=i(93953),P=i(86314),I=i(10050),E=i(79315),M=i(58364),R=i(56997),N=i(87234),L=i(7462),D=i(2974),z=i(46852),F=i(5216),j=i(99275),B=i(18693),V=j.f,U=B.f,G=n.RangeError,Z=n.TypeError,H=n.Uint8Array,W="ArrayBuffer",q="SharedArrayBuffer",$="BYTES_PER_ELEMENT",J=Array.prototype,Y=l.ArrayBuffer,K=l.DataView,X=I(0),Q=I(2),ee=I(3),te=I(4),ie=I(5),re=I(6),ne=E(!0),se=E(!1),oe=R.values,ae=R.keys,le=R.entries,ce=J.lastIndexOf,he=J.reduce,de=J.reduceRight,ue=J.join,pe=J.sort,fe=J.slice,me=J.toString,_e=J.toLocaleString,ge=P("iterator"),ye=P("toStringTag"),ve=O("typed_constructor"),be=O("def_constructor"),we=a.CONSTR,xe=a.TYPED,Ce=a.VIEW,Se="Wrong length!",Ae=I(1,(function(e,t){return Ie(M(e,e[be]),t)})),Te=s((function(){return 1===new H(new Uint16Array([1]).buffer)[0]})),ke=!!H&&!!H.prototype.set&&s((function(){new H(1).set({})})),Oe=function(e,t){var i=f(e);if(i<0||i%t)throw G("Wrong offset!");return i},Pe=function(e){if(w(e)&&xe in e)return e;throw Z(e+" is not a typed array!")},Ie=function(e,t){if(!w(e)||!(ve in e))throw Z("It is not a typed array constructor!");return new e(t)},Ee=function(e,t){return Me(M(e,e[be]),t)},Me=function(e,t){for(var i=0,r=t.length,n=Ie(e,r);r>i;)n[i]=t[i++];return n},Re=function(e,t,i){V(e,t,{get:function(){return this._d[i]}})},Ne=function(e){var t,i,r,n,s,o,a=x(e),l=arguments.length,h=l>1?arguments[1]:void 0,d=void 0!==h,u=k(a);if(null!=u&&!C(u)){for(o=u.call(a),r=[],t=0;!(s=o.next()).done;t++)r.push(s.value);a=r}for(d&&l>2&&(h=c(h,arguments[2],2)),t=0,i=m(a.length),n=Ie(this,i);i>t;t++)n[t]=d?h(a[t],t):a[t];return n},Le=function(){for(var e=0,t=arguments.length,i=Ie(this,t);t>e;)i[e]=arguments[e++];return i},De=!!H&&s((function(){_e.call(new H(1))})),ze=function(){return _e.apply(De?fe.call(Pe(this)):Pe(this),arguments)},Fe={copyWithin:function(e,t){return F.call(Pe(this),e,t,arguments.length>2?arguments[2]:void 0)},every:function(e){return te(Pe(this),e,arguments.length>1?arguments[1]:void 0)},fill:function(e){return z.apply(Pe(this),arguments)},filter:function(e){return Ee(this,Q(Pe(this),e,arguments.length>1?arguments[1]:void 0))},find:function(e){return ie(Pe(this),e,arguments.length>1?arguments[1]:void 0)},findIndex:function(e){return re(Pe(this),e,arguments.length>1?arguments[1]:void 0)},forEach:function(e){X(Pe(this),e,arguments.length>1?arguments[1]:void 0)},indexOf:function(e){return se(Pe(this),e,arguments.length>1?arguments[1]:void 0)},includes:function(e){return ne(Pe(this),e,arguments.length>1?arguments[1]:void 0)},join:function(e){return ue.apply(Pe(this),arguments)},lastIndexOf:function(e){return ce.apply(Pe(this),arguments)},map:function(e){return Ae(Pe(this),e,arguments.length>1?arguments[1]:void 0)},reduce:function(e){return he.apply(Pe(this),arguments)},reduceRight:function(e){return de.apply(Pe(this),arguments)},reverse:function(){for(var e,t=this,i=Pe(t).length,r=Math.floor(i/2),n=0;n<r;)e=t[n],t[n++]=t[--i],t[i]=e;return t},some:function(e){return ee(Pe(this),e,arguments.length>1?arguments[1]:void 0)},sort:function(e){return pe.call(Pe(this),e)},subarray:function(e,t){var i=Pe(this),r=i.length,n=g(e,r);return new(M(i,i[be]))(i.buffer,i.byteOffset+n*i.BYTES_PER_ELEMENT,m((void 0===t?r:g(t,r))-n))}},je=function(e,t){return Ee(this,fe.call(Pe(this),e,t))},Be=function(e){Pe(this);var t=Oe(arguments[1],1),i=this.length,r=x(e),n=m(r.length),s=0;if(n+t>i)throw G(Se);for(;s<n;)this[t+s]=r[s++]},Ve={entries:function(){return le.call(Pe(this))},keys:function(){return ae.call(Pe(this))},values:function(){return oe.call(Pe(this))}},Ue=function(e,t){return w(e)&&e[xe]&&"symbol"!=typeof t&&t in e&&String(+t)==String(t)},Ge=function(e,t){return Ue(e,t=y(t,!0))?d(2,e[t]):U(e,t)},Ze=function(e,t,i){return!(Ue(e,t=y(t,!0))&&w(i)&&v(i,"value"))||v(i,"get")||v(i,"set")||i.configurable||v(i,"writable")&&!i.writable||v(i,"enumerable")&&!i.enumerable?V(e,t,i):(e[t]=i.value,e)};we||(B.f=Ge,j.f=Ze),o(o.S+o.F*!we,"Object",{getOwnPropertyDescriptor:Ge,defineProperty:Ze}),s((function(){me.call({})}))&&(me=_e=function(){return ue.call(this)});var He=p({},Fe);p(He,Ve),u(He,ge,Ve.values),p(He,{slice:je,set:Be,constructor:function(){},toString:me,toLocaleString:ze}),Re(He,"buffer","b"),Re(He,"byteOffset","o"),Re(He,"byteLength","l"),Re(He,"length","e"),V(He,ye,{get:function(){return this[xe]}}),e.exports=function(e,t,i,l){var c=e+((l=!!l)?"Clamped":"")+"Array",d="get"+e,p="set"+e,f=n[c],g=f||{},y=f&&A(f),v=!f||!a.ABV,x={},C=f&&f.prototype,k=function(e,i){V(e,i,{get:function(){return function(e,i){var r=e._d;return r.v[d](i*t+r.o,Te)}(this,i)},set:function(e){return function(e,i,r){var n=e._d;l&&(r=(r=Math.round(r))<0?0:r>255?255:255&r),n.v[p](i*t+n.o,r,Te)}(this,i,e)},enumerable:!0})};v?(f=i((function(e,i,r,n){h(e,f,c,"_d");var s,o,a,l,d=0,p=0;if(w(i)){if(!(i instanceof Y||(l=b(i))==W||l==q))return xe in i?Me(f,i):Ne.call(f,i);s=i,p=Oe(r,t);var g=i.byteLength;if(void 0===n){if(g%t)throw G(Se);if((o=g-p)<0)throw G(Se)}else if((o=m(n)*t)+p>g)throw G(Se);a=o/t}else a=_(i),s=new Y(o=a*t);for(u(e,"_d",{b:s,o:p,l:o,e:a,v:new K(s)});d<a;)k(e,d++)})),C=f.prototype=S(He),u(C,"constructor",f)):s((function(){f(1)}))&&s((function(){new f(-1)}))&&L((function(e){new f,new f(null),new f(1.5),new f(e)}),!0)||(f=i((function(e,i,r,n){var s;return h(e,f,c),w(i)?i instanceof Y||(s=b(i))==W||s==q?void 0!==n?new g(i,Oe(r,t),n):void 0!==r?new g(i,Oe(r,t)):new g(i):xe in i?Me(f,i):Ne.call(f,i):new g(_(i))})),X(y!==Function.prototype?T(g).concat(T(y)):T(g),(function(e){e in f||u(f,e,g[e])})),f.prototype=C,r||(C.constructor=f));var O=C[ge],P=!!O&&("values"==O.name||null==O.name),I=Ve.values;u(f,ve,!0),u(C,xe,c),u(C,Ce,!0),u(C,be,f),(l?new f(1)[ye]==c:ye in C)||V(C,ye,{get:function(){return c}}),x[c]=f,o(o.G+o.W+o.F*(f!=g),x),o(o.S,c,{BYTES_PER_ELEMENT:t}),o(o.S+o.F*s((function(){g.of.call(f,1)})),c,{from:Ne,of:Le}),$ in C||u(C,$,t),o(o.P,c,Fe),D(c),o(o.P+o.F*ke,c,{set:Be}),o(o.P+o.F*!P,c,Ve),r||C.toString==me||(C.toString=me),o(o.P+o.F*s((function(){new f(1).slice()})),c,{slice:je}),o(o.P+o.F*(s((function(){return[1,2].toLocaleString()!=new f([1,2]).toLocaleString()}))||!s((function(){C.toLocaleString.call([1,2])}))),c,{toLocaleString:ze}),N[c]=P?O:I,r||P||u(C,ge,I)}}else e.exports=function(){}},91125:(e,t,i)=>{"use strict";var r=i(3816),n=i(67057),s=i(4461),o=i(89383),a=i(87728),l=i(24408),c=i(74253),h=i(83328),d=i(81467),u=i(10875),p=i(94843),f=i(20616).f,m=i(99275).f,_=i(46852),g=i(22943),y="ArrayBuffer",v="DataView",b="Wrong index!",w=r.ArrayBuffer,x=r.DataView,C=r.Math,S=r.RangeError,A=r.Infinity,T=w,k=C.abs,O=C.pow,P=C.floor,I=C.log,E=C.LN2,M="buffer",R="byteLength",N="byteOffset",L=n?"_b":M,D=n?"_l":R,z=n?"_o":N;function F(e,t,i){var r,n,s,o=new Array(i),a=8*i-t-1,l=(1<<a)-1,c=l>>1,h=23===t?O(2,-24)-O(2,-77):0,d=0,u=e<0||0===e&&1/e<0?1:0;for((e=k(e))!=e||e===A?(n=e!=e?1:0,r=l):(r=P(I(e)/E),e*(s=O(2,-r))<1&&(r--,s*=2),(e+=r+c>=1?h/s:h*O(2,1-c))*s>=2&&(r++,s/=2),r+c>=l?(n=0,r=l):r+c>=1?(n=(e*s-1)*O(2,t),r+=c):(n=e*O(2,c-1)*O(2,t),r=0));t>=8;o[d++]=255&n,n/=256,t-=8);for(r=r<<t|n,a+=t;a>0;o[d++]=255&r,r/=256,a-=8);return o[--d]|=128*u,o}function j(e,t,i){var r,n=8*i-t-1,s=(1<<n)-1,o=s>>1,a=n-7,l=i-1,c=e[l--],h=127&c;for(c>>=7;a>0;h=256*h+e[l],l--,a-=8);for(r=h&(1<<-a)-1,h>>=-a,a+=t;a>0;r=256*r+e[l],l--,a-=8);if(0===h)h=1-o;else{if(h===s)return r?NaN:c?-A:A;r+=O(2,t),h-=o}return(c?-1:1)*r*O(2,h-t)}function B(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]}function V(e){return[255&e]}function U(e){return[255&e,e>>8&255]}function G(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]}function Z(e){return F(e,52,8)}function H(e){return F(e,23,4)}function W(e,t,i){m(e.prototype,t,{get:function(){return this[i]}})}function q(e,t,i,r){var n=p(+i);if(n+t>e[D])throw S(b);var s=e[L]._b,o=n+e[z],a=s.slice(o,o+t);return r?a:a.reverse()}function $(e,t,i,r,n,s){var o=p(+i);if(o+t>e[D])throw S(b);for(var a=e[L]._b,l=o+e[z],c=r(+n),h=0;h<t;h++)a[l+h]=c[s?h:t-h-1]}if(o.ABV){if(!c((function(){w(1)}))||!c((function(){new w(-1)}))||c((function(){return new w,new w(1.5),new w(NaN),w.name!=y}))){for(var J,Y=(w=function(e){return h(this,w),new T(p(e))}).prototype=T.prototype,K=f(T),X=0;K.length>X;)(J=K[X++])in w||a(w,J,T[J]);s||(Y.constructor=w)}var Q=new x(new w(2)),ee=x.prototype.setInt8;Q.setInt8(0,2147483648),Q.setInt8(1,2147483649),!Q.getInt8(0)&&Q.getInt8(1)||l(x.prototype,{setInt8:function(e,t){ee.call(this,e,t<<24>>24)},setUint8:function(e,t){ee.call(this,e,t<<24>>24)}},!0)}else w=function(e){h(this,w,y);var t=p(e);this._b=_.call(new Array(t),0),this[D]=t},x=function(e,t,i){h(this,x,v),h(e,w,v);var r=e[D],n=d(t);if(n<0||n>r)throw S("Wrong offset!");if(n+(i=void 0===i?r-n:u(i))>r)throw S("Wrong length!");this[L]=e,this[z]=n,this[D]=i},n&&(W(w,R,"_l"),W(x,M,"_b"),W(x,R,"_l"),W(x,N,"_o")),l(x.prototype,{getInt8:function(e){return q(this,1,e)[0]<<24>>24},getUint8:function(e){return q(this,1,e)[0]},getInt16:function(e){var t=q(this,2,e,arguments[1]);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=q(this,2,e,arguments[1]);return t[1]<<8|t[0]},getInt32:function(e){return B(q(this,4,e,arguments[1]))},getUint32:function(e){return B(q(this,4,e,arguments[1]))>>>0},getFloat32:function(e){return j(q(this,4,e,arguments[1]),23,4)},getFloat64:function(e){return j(q(this,8,e,arguments[1]),52,8)},setInt8:function(e,t){$(this,1,e,V,t)},setUint8:function(e,t){$(this,1,e,V,t)},setInt16:function(e,t){$(this,2,e,U,t,arguments[2])},setUint16:function(e,t){$(this,2,e,U,t,arguments[2])},setInt32:function(e,t){$(this,4,e,G,t,arguments[2])},setUint32:function(e,t){$(this,4,e,G,t,arguments[2])},setFloat32:function(e,t){$(this,4,e,H,t,arguments[2])},setFloat64:function(e,t){$(this,8,e,Z,t,arguments[2])}});g(w,y),g(x,v),a(x.prototype,o.VIEW,!0),t.ArrayBuffer=w,t.DataView=x},89383:(e,t,i)=>{for(var r,n=i(3816),s=i(87728),o=i(93953),a=o("typed_array"),l=o("view"),c=!(!n.ArrayBuffer||!n.DataView),h=c,d=0,u="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");d<9;)(r=n[u[d++]])?(s(r.prototype,a,!0),s(r.prototype,l,!0)):h=!1;e.exports={ABV:c,CONSTR:h,TYPED:a,VIEW:l}},93953:e=>{var t=0,i=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++t+i).toString(36))}},30575:(e,t,i)=>{var r=i(3816).navigator;e.exports=r&&r.userAgent||""},1616:(e,t,i)=>{var r=i(55286);e.exports=function(e,t){if(!r(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},36074:(e,t,i)=>{var r=i(3816),n=i(25645),s=i(4461),o=i(28787),a=i(99275).f;e.exports=function(e){var t=n.Symbol||(n.Symbol=s?{}:r.Symbol||{});"_"==e.charAt(0)||e in t||a(t,e,{value:o.f(e)})}},28787:(e,t,i)=>{t.f=i(86314)},86314:(e,t,i)=>{var r=i(3825)("wks"),n=i(93953),s=i(3816).Symbol,o="function"==typeof s;(e.exports=function(e){return r[e]||(r[e]=o&&s[e]||(o?s:n)("Symbol."+e))}).store=r},69002:(e,t,i)=>{var r=i(41488),n=i(86314)("iterator"),s=i(87234);e.exports=i(25645).getIteratorMethod=function(e){if(null!=e)return e[n]||e["@@iterator"]||s[r(e)]}},32e3:(e,t,i)=>{var r=i(42985);r(r.P,"Array",{copyWithin:i(5216)}),i(17722)("copyWithin")},15745:(e,t,i)=>{"use strict";var r=i(42985),n=i(10050)(4);r(r.P+r.F*!i(77717)([].every,!0),"Array",{every:function(e){return n(this,e,arguments[1])}})},48977:(e,t,i)=>{var r=i(42985);r(r.P,"Array",{fill:i(46852)}),i(17722)("fill")},98837:(e,t,i)=>{"use strict";var r=i(42985),n=i(10050)(2);r(r.P+r.F*!i(77717)([].filter,!0),"Array",{filter:function(e){return n(this,e,arguments[1])}})},94899:(e,t,i)=>{"use strict";var r=i(42985),n=i(10050)(6),s="findIndex",o=!0;s in[]&&Array(1)[s]((function(){o=!1})),r(r.P+r.F*o,"Array",{findIndex:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}}),i(17722)(s)},52310:(e,t,i)=>{"use strict";var r=i(42985),n=i(10050)(5),s="find",o=!0;s in[]&&Array(1).find((function(){o=!1})),r(r.P+r.F*o,"Array",{find:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}}),i(17722)(s)},24336:(e,t,i)=>{"use strict";var r=i(42985),n=i(10050)(0),s=i(77717)([].forEach,!0);r(r.P+r.F*!s,"Array",{forEach:function(e){return n(this,e,arguments[1])}})},30522:(e,t,i)=>{"use strict";var r=i(741),n=i(42985),s=i(20508),o=i(28851),a=i(86555),l=i(10875),c=i(92811),h=i(69002);n(n.S+n.F*!i(7462)((function(e){Array.from(e)})),"Array",{from:function(e){var t,i,n,d,u=s(e),p="function"==typeof this?this:Array,f=arguments.length,m=f>1?arguments[1]:void 0,_=void 0!==m,g=0,y=h(u);if(_&&(m=r(m,f>2?arguments[2]:void 0,2)),null==y||p==Array&&a(y))for(i=new p(t=l(u.length));t>g;g++)c(i,g,_?m(u[g],g):u[g]);else for(d=y.call(u),i=new p;!(n=d.next()).done;g++)c(i,g,_?o(d,m,[n.value,g],!0):n.value);return i.length=g,i}})},23369:(e,t,i)=>{"use strict";var r=i(42985),n=i(79315)(!1),s=[].indexOf,o=!!s&&1/[1].indexOf(1,-0)<0;r(r.P+r.F*(o||!i(77717)(s)),"Array",{indexOf:function(e){return o?s.apply(this,arguments)||0:n(this,e,arguments[1])}})},20774:(e,t,i)=>{var r=i(42985);r(r.S,"Array",{isArray:i(4302)})},56997:(e,t,i)=>{"use strict";var r=i(17722),n=i(15436),s=i(87234),o=i(22110);e.exports=i(42923)(Array,"Array",(function(e,t){this._t=o(e),this._i=0,this._k=t}),(function(){var e=this._t,t=this._k,i=this._i++;return!e||i>=e.length?(this._t=void 0,n(1)):n(0,"keys"==t?i:"values"==t?e[i]:[i,e[i]])}),"values"),s.Arguments=s.Array,r("keys"),r("values"),r("entries")},87842:(e,t,i)=>{"use strict";var r=i(42985),n=i(22110),s=[].join;r(r.P+r.F*(i(49797)!=Object||!i(77717)(s)),"Array",{join:function(e){return s.call(n(this),void 0===e?",":e)}})},99564:(e,t,i)=>{"use strict";var r=i(42985),n=i(22110),s=i(81467),o=i(10875),a=[].lastIndexOf,l=!!a&&1/[1].lastIndexOf(1,-0)<0;r(r.P+r.F*(l||!i(77717)(a)),"Array",{lastIndexOf:function(e){if(l)return a.apply(this,arguments)||0;var t=n(this),i=o(t.length),r=i-1;for(arguments.length>1&&(r=Math.min(r,s(arguments[1]))),r<0&&(r=i+r);r>=0;r--)if(r in t&&t[r]===e)return r||0;return-1}})},19371:(e,t,i)=>{"use strict";var r=i(42985),n=i(10050)(1);r(r.P+r.F*!i(77717)([].map,!0),"Array",{map:function(e){return n(this,e,arguments[1])}})},58295:(e,t,i)=>{"use strict";var r=i(42985),n=i(92811);r(r.S+r.F*i(74253)((function(){function e(){}return!(Array.of.call(e)instanceof e)})),"Array",{of:function(){for(var e=0,t=arguments.length,i=new("function"==typeof this?this:Array)(t);t>e;)n(i,e,arguments[e++]);return i.length=t,i}})},3750:(e,t,i)=>{"use strict";var r=i(42985),n=i(37628);r(r.P+r.F*!i(77717)([].reduceRight,!0),"Array",{reduceRight:function(e){return n(this,e,arguments.length,arguments[1],!0)}})},33057:(e,t,i)=>{"use strict";var r=i(42985),n=i(37628);r(r.P+r.F*!i(77717)([].reduce,!0),"Array",{reduce:function(e){return n(this,e,arguments.length,arguments[1],!1)}})},50110:(e,t,i)=>{"use strict";var r=i(42985),n=i(40639),s=i(92032),o=i(92337),a=i(10875),l=[].slice;r(r.P+r.F*i(74253)((function(){n&&l.call(n)})),"Array",{slice:function(e,t){var i=a(this.length),r=s(this);if(t=void 0===t?i:t,"Array"==r)return l.call(this,e,t);for(var n=o(e,i),c=o(t,i),h=a(c-n),d=new Array(h),u=0;u<h;u++)d[u]="String"==r?this.charAt(n+u):this[n+u];return d}})},26773:(e,t,i)=>{"use strict";var r=i(42985),n=i(10050)(3);r(r.P+r.F*!i(77717)([].some,!0),"Array",{some:function(e){return n(this,e,arguments[1])}})},20075:(e,t,i)=>{"use strict";var r=i(42985),n=i(24963),s=i(20508),o=i(74253),a=[].sort,l=[1,2,3];r(r.P+r.F*(o((function(){l.sort(void 0)}))||!o((function(){l.sort(null)}))||!i(77717)(a)),"Array",{sort:function(e){return void 0===e?a.call(s(this)):a.call(s(this),n(e))}})},31842:(e,t,i)=>{i(2974)("Array")},81822:(e,t,i)=>{var r=i(42985);r(r.S,"Date",{now:function(){return(new Date).getTime()}})},91031:(e,t,i)=>{var r=i(42985),n=i(53537);r(r.P+r.F*(Date.prototype.toISOString!==n),"Date",{toISOString:n})},19977:(e,t,i)=>{"use strict";var r=i(42985),n=i(20508),s=i(21689);r(r.P+r.F*i(74253)((function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})})),"Date",{toJSON:function(e){var t=n(this),i=s(t);return"number"!=typeof i||isFinite(i)?t.toISOString():null}})},41560:(e,t,i)=>{var r=i(86314)("toPrimitive"),n=Date.prototype;r in n||i(87728)(n,r,i(870))},46331:(e,t,i)=>{var r=Date.prototype,n="Invalid Date",s="toString",o=r.toString,a=r.getTime;new Date(NaN)+""!=n&&i(77234)(r,s,(function(){var e=a.call(this);return e==e?o.call(this):n}))},39730:(e,t,i)=>{var r=i(42985);r(r.P,"Function",{bind:i(34398)})},48377:(e,t,i)=>{"use strict";var r=i(55286),n=i(468),s=i(86314)("hasInstance"),o=Function.prototype;s in o||i(99275).f(o,s,{value:function(e){if("function"!=typeof this||!r(e))return!1;if(!r(this.prototype))return e instanceof this;for(;e=n(e);)if(this.prototype===e)return!0;return!1}})},6059:(e,t,i)=>{var r=i(99275).f,n=Function.prototype,s=/^\s*function ([^ (]*)/,o="name";o in n||i(67057)&&r(n,o,{configurable:!0,get:function(){try{return(""+this).match(s)[1]}catch(e){return""}}})},88416:(e,t,i)=>{"use strict";var r=i(9824),n=i(1616),s="Map";e.exports=i(45795)(s,(function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}}),{get:function(e){var t=r.getEntry(n(this,s),e);return t&&t.v},set:function(e,t){return r.def(n(this,s),0===e?0:e,t)}},r,!0)},76503:(e,t,i)=>{var r=i(42985),n=i(46206),s=Math.sqrt,o=Math.acosh;r(r.S+r.F*!(o&&710==Math.floor(o(Number.MAX_VALUE))&&o(1/0)==1/0),"Math",{acosh:function(e){return(e=+e)<1?NaN:e>94906265.62425156?Math.log(e)+Math.LN2:n(e-1+s(e-1)*s(e+1))}})},66786:(e,t,i)=>{var r=i(42985),n=Math.asinh;r(r.S+r.F*!(n&&1/n(0)>0),"Math",{asinh:function e(t){return isFinite(t=+t)&&0!=t?t<0?-e(-t):Math.log(t+Math.sqrt(t*t+1)):t}})},50932:(e,t,i)=>{var r=i(42985),n=Math.atanh;r(r.S+r.F*!(n&&1/n(-0)<0),"Math",{atanh:function(e){return 0==(e=+e)?e:Math.log((1+e)/(1-e))/2}})},57526:(e,t,i)=>{var r=i(42985),n=i(61801);r(r.S,"Math",{cbrt:function(e){return n(e=+e)*Math.pow(Math.abs(e),1/3)}})},21591:(e,t,i)=>{var r=i(42985);r(r.S,"Math",{clz32:function(e){return(e>>>=0)?31-Math.floor(Math.log(e+.5)*Math.LOG2E):32}})},9073:(e,t,i)=>{var r=i(42985),n=Math.exp;r(r.S,"Math",{cosh:function(e){return(n(e=+e)+n(-e))/2}})},80347:(e,t,i)=>{var r=i(42985),n=i(13086);r(r.S+r.F*(n!=Math.expm1),"Math",{expm1:n})},30579:(e,t,i)=>{var r=i(42985);r(r.S,"Math",{fround:i(34934)})},4669:(e,t,i)=>{var r=i(42985),n=Math.abs;r(r.S,"Math",{hypot:function(e,t){for(var i,r,s=0,o=0,a=arguments.length,l=0;o<a;)l<(i=n(arguments[o++]))?(s=s*(r=l/i)*r+1,l=i):s+=i>0?(r=i/l)*r:i;return l===1/0?1/0:l*Math.sqrt(s)}})},67710:(e,t,i)=>{var r=i(42985),n=Math.imul;r(r.S+r.F*i(74253)((function(){return-5!=n(4294967295,5)||2!=n.length})),"Math",{imul:function(e,t){var i=65535,r=+e,n=+t,s=i&r,o=i&n;return 0|s*o+((i&r>>>16)*o+s*(i&n>>>16)<<16>>>0)}})},45789:(e,t,i)=>{var r=i(42985);r(r.S,"Math",{log10:function(e){return Math.log(e)*Math.LOG10E}})},33514:(e,t,i)=>{var r=i(42985);r(r.S,"Math",{log1p:i(46206)})},99978:(e,t,i)=>{var r=i(42985);r(r.S,"Math",{log2:function(e){return Math.log(e)/Math.LN2}})},58472:(e,t,i)=>{var r=i(42985);r(r.S,"Math",{sign:i(61801)})},86946:(e,t,i)=>{var r=i(42985),n=i(13086),s=Math.exp;r(r.S+r.F*i(74253)((function(){return-2e-17!=!Math.sinh(-2e-17)})),"Math",{sinh:function(e){return Math.abs(e=+e)<1?(n(e)-n(-e))/2:(s(e-1)-s(-e-1))*(Math.E/2)}})},35068:(e,t,i)=>{var r=i(42985),n=i(13086),s=Math.exp;r(r.S,"Math",{tanh:function(e){var t=n(e=+e),i=n(-e);return t==1/0?1:i==1/0?-1:(t-i)/(s(e)+s(-e))}})},413:(e,t,i)=>{var r=i(42985);r(r.S,"Math",{trunc:function(e){return(e>0?Math.floor:Math.ceil)(e)}})},11246:(e,t,i)=>{"use strict";var r=i(3816),n=i(79181),s=i(92032),o=i(40266),a=i(21689),l=i(74253),c=i(20616).f,h=i(18693).f,d=i(99275).f,u=i(29599).trim,p="Number",f=r.Number,m=f,_=f.prototype,g=s(i(42503)(_))==p,y="trim"in String.prototype,v=function(e){var t=a(e,!1);if("string"==typeof t&&t.length>2){var i,r,n,s=(t=y?t.trim():u(t,3)).charCodeAt(0);if(43===s||45===s){if(88===(i=t.charCodeAt(2))||120===i)return NaN}else if(48===s){switch(t.charCodeAt(1)){case 66:case 98:r=2,n=49;break;case 79:case 111:r=8,n=55;break;default:return+t}for(var o,l=t.slice(2),c=0,h=l.length;c<h;c++)if((o=l.charCodeAt(c))<48||o>n)return NaN;return parseInt(l,r)}}return+t};if(!f(" 0o1")||!f("0b1")||f("+0x1")){f=function(e){var t=arguments.length<1?0:e,i=this;return i instanceof f&&(g?l((function(){_.valueOf.call(i)})):s(i)!=p)?o(new m(v(t)),i,f):v(t)};for(var b,w=i(67057)?c(m):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),x=0;w.length>x;x++)n(m,b=w[x])&&!n(f,b)&&d(f,b,h(m,b));f.prototype=_,_.constructor=f,i(77234)(r,p,f)}},75972:(e,t,i)=>{var r=i(42985);r(r.S,"Number",{EPSILON:Math.pow(2,-52)})},53403:(e,t,i)=>{var r=i(42985),n=i(3816).isFinite;r(r.S,"Number",{isFinite:function(e){return"number"==typeof e&&n(e)}})},92516:(e,t,i)=>{var r=i(42985);r(r.S,"Number",{isInteger:i(18367)})},49371:(e,t,i)=>{var r=i(42985);r(r.S,"Number",{isNaN:function(e){return e!=e}})},86479:(e,t,i)=>{var r=i(42985),n=i(18367),s=Math.abs;r(r.S,"Number",{isSafeInteger:function(e){return n(e)&&s(e)<=9007199254740991}})},91736:(e,t,i)=>{var r=i(42985);r(r.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},51889:(e,t,i)=>{var r=i(42985);r(r.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},65177:(e,t,i)=>{var r=i(42985),n=i(47743);r(r.S+r.F*(Number.parseFloat!=n),"Number",{parseFloat:n})},81246:(e,t,i)=>{var r=i(42985),n=i(55960);r(r.S+r.F*(Number.parseInt!=n),"Number",{parseInt:n})},30726:(e,t,i)=>{"use strict";var r=i(42985),n=i(81467),s=i(83365),o=i(68595),a=1..toFixed,l=Math.floor,c=[0,0,0,0,0,0],h="Number.toFixed: incorrect invocation!",d="0",u=function(e,t){for(var i=-1,r=t;++i<6;)r+=e*c[i],c[i]=r%1e7,r=l(r/1e7)},p=function(e){for(var t=6,i=0;--t>=0;)i+=c[t],c[t]=l(i/e),i=i%e*1e7},f=function(){for(var e=6,t="";--e>=0;)if(""!==t||0===e||0!==c[e]){var i=String(c[e]);t=""===t?i:t+o.call(d,7-i.length)+i}return t},m=function(e,t,i){return 0===t?i:t%2==1?m(e,t-1,i*e):m(e*e,t/2,i)};r(r.P+r.F*(!!a&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!i(74253)((function(){a.call({})}))),"Number",{toFixed:function(e){var t,i,r,a,l=s(this,h),c=n(e),_="",g=d;if(c<0||c>20)throw RangeError(h);if(l!=l)return"NaN";if(l<=-1e21||l>=1e21)return String(l);if(l<0&&(_="-",l=-l),l>1e-21)if(i=(t=function(e){for(var t=0,i=e;i>=4096;)t+=12,i/=4096;for(;i>=2;)t+=1,i/=2;return t}(l*m(2,69,1))-69)<0?l*m(2,-t,1):l/m(2,t,1),i*=4503599627370496,(t=52-t)>0){for(u(0,i),r=c;r>=7;)u(1e7,0),r-=7;for(u(m(10,r,1),0),r=t-1;r>=23;)p(1<<23),r-=23;p(1<<r),u(1,1),p(2),g=f()}else u(0,i),u(1<<-t,0),g=f()+o.call(d,c);return g=c>0?_+((a=g.length)<=c?"0."+o.call(d,c-a)+g:g.slice(0,a-c)+"."+g.slice(a-c)):_+g}})},1901:(e,t,i)=>{"use strict";var r=i(42985),n=i(74253),s=i(83365),o=1..toPrecision;r(r.P+r.F*(n((function(){return"1"!==o.call(1,void 0)}))||!n((function(){o.call({})}))),"Number",{toPrecision:function(e){var t=s(this,"Number#toPrecision: incorrect invocation!");return void 0===e?o.call(t):o.call(t,e)}})},75115:(e,t,i)=>{var r=i(42985);r(r.S+r.F,"Object",{assign:i(35345)})},68132:(e,t,i)=>{var r=i(42985);r(r.S,"Object",{create:i(42503)})},37470:(e,t,i)=>{var r=i(42985);r(r.S+r.F*!i(67057),"Object",{defineProperties:i(35588)})},48388:(e,t,i)=>{var r=i(42985);r(r.S+r.F*!i(67057),"Object",{defineProperty:i(99275).f})},89375:(e,t,i)=>{var r=i(55286),n=i(84728).onFreeze;i(33160)("freeze",(function(e){return function(t){return e&&r(t)?e(n(t)):t}}))},94882:(e,t,i)=>{var r=i(22110),n=i(18693).f;i(33160)("getOwnPropertyDescriptor",(function(){return function(e,t){return n(r(e),t)}}))},79622:(e,t,i)=>{i(33160)("getOwnPropertyNames",(function(){return i(39327).f}))},41520:(e,t,i)=>{var r=i(20508),n=i(468);i(33160)("getPrototypeOf",(function(){return function(e){return n(r(e))}}))},49892:(e,t,i)=>{var r=i(55286);i(33160)("isExtensible",(function(e){return function(t){return!!r(t)&&(!e||e(t))}}))},64157:(e,t,i)=>{var r=i(55286);i(33160)("isFrozen",(function(e){return function(t){return!r(t)||!!e&&e(t)}}))},35095:(e,t,i)=>{var r=i(55286);i(33160)("isSealed",(function(e){return function(t){return!r(t)||!!e&&e(t)}}))},99176:(e,t,i)=>{var r=i(42985);r(r.S,"Object",{is:i(27195)})},27476:(e,t,i)=>{var r=i(20508),n=i(47184);i(33160)("keys",(function(){return function(e){return n(r(e))}}))},84672:(e,t,i)=>{var r=i(55286),n=i(84728).onFreeze;i(33160)("preventExtensions",(function(e){return function(t){return e&&r(t)?e(n(t)):t}}))},43533:(e,t,i)=>{var r=i(55286),n=i(84728).onFreeze;i(33160)("seal",(function(e){return function(t){return e&&r(t)?e(n(t)):t}}))},68838:(e,t,i)=>{var r=i(42985);r(r.S,"Object",{setPrototypeOf:i(27375).set})},96253:(e,t,i)=>{"use strict";var r=i(41488),n={};n[i(86314)("toStringTag")]="z",n+""!="[object z]"&&i(77234)(Object.prototype,"toString",(function(){return"[object "+r(this)+"]"}),!0)},64299:(e,t,i)=>{var r=i(42985),n=i(47743);r(r.G+r.F*(parseFloat!=n),{parseFloat:n})},71084:(e,t,i)=>{var r=i(42985),n=i(55960);r(r.G+r.F*(parseInt!=n),{parseInt:n})},40851:(e,t,i)=>{"use strict";var r,n,s,o,a=i(4461),l=i(3816),c=i(741),h=i(41488),d=i(42985),u=i(55286),p=i(24963),f=i(83328),m=i(3531),_=i(58364),g=i(74193).set,y=i(14351)(),v=i(43499),b=i(10188),w=i(30575),x=i(50094),C="Promise",S=l.TypeError,A=l.process,T=A&&A.versions,k=T&&T.v8||"",O=l.Promise,P="process"==h(A),I=function(){},E=n=v.f,M=!!function(){try{var e=O.resolve(1),t=(e.constructor={})[i(86314)("species")]=function(e){e(I,I)};return(P||"function"==typeof PromiseRejectionEvent)&&e.then(I)instanceof t&&0!==k.indexOf("6.6")&&-1===w.indexOf("Chrome/66")}catch(e){}}(),R=function(e){var t;return!(!u(e)||"function"!=typeof(t=e.then))&&t},N=function(e,t){if(!e._n){e._n=!0;var i=e._c;y((function(){for(var r=e._v,n=1==e._s,s=0,o=function(t){var i,s,o,a=n?t.ok:t.fail,l=t.resolve,c=t.reject,h=t.domain;try{a?(n||(2==e._h&&z(e),e._h=1),!0===a?i=r:(h&&h.enter(),i=a(r),h&&(h.exit(),o=!0)),i===t.promise?c(S("Promise-chain cycle")):(s=R(i))?s.call(i,l,c):l(i)):c(r)}catch(e){h&&!o&&h.exit(),c(e)}};i.length>s;)o(i[s++]);e._c=[],e._n=!1,t&&!e._h&&L(e)}))}},L=function(e){g.call(l,(function(){var t,i,r,n=e._v,s=D(e);if(s&&(t=b((function(){P?A.emit("unhandledRejection",n,e):(i=l.onunhandledrejection)?i({promise:e,reason:n}):(r=l.console)&&r.error&&r.error("Unhandled promise rejection",n)})),e._h=P||D(e)?2:1),e._a=void 0,s&&t.e)throw t.v}))},D=function(e){return 1!==e._h&&0===(e._a||e._c).length},z=function(e){g.call(l,(function(){var t;P?A.emit("rejectionHandled",e):(t=l.onrejectionhandled)&&t({promise:e,reason:e._v})}))},F=function(e){var t=this;t._d||(t._d=!0,(t=t._w||t)._v=e,t._s=2,t._a||(t._a=t._c.slice()),N(t,!0))},j=function(e){var t,i=this;if(!i._d){i._d=!0,i=i._w||i;try{if(i===e)throw S("Promise can't be resolved itself");(t=R(e))?y((function(){var r={_w:i,_d:!1};try{t.call(e,c(j,r,1),c(F,r,1))}catch(e){F.call(r,e)}})):(i._v=e,i._s=1,N(i,!1))}catch(e){F.call({_w:i,_d:!1},e)}}};M||(O=function(e){f(this,O,C,"_h"),p(e),r.call(this);try{e(c(j,this,1),c(F,this,1))}catch(e){F.call(this,e)}},(r=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=i(24408)(O.prototype,{then:function(e,t){var i=E(_(this,O));return i.ok="function"!=typeof e||e,i.fail="function"==typeof t&&t,i.domain=P?A.domain:void 0,this._c.push(i),this._a&&this._a.push(i),this._s&&N(this,!1),i.promise},catch:function(e){return this.then(void 0,e)}}),s=function(){var e=new r;this.promise=e,this.resolve=c(j,e,1),this.reject=c(F,e,1)},v.f=E=function(e){return e===O||e===o?new s(e):n(e)}),d(d.G+d.W+d.F*!M,{Promise:O}),i(22943)(O,C),i(2974)(C),o=i(25645).Promise,d(d.S+d.F*!M,C,{reject:function(e){var t=E(this);return(0,t.reject)(e),t.promise}}),d(d.S+d.F*(a||!M),C,{resolve:function(e){return x(a&&this===o?O:this,e)}}),d(d.S+d.F*!(M&&i(7462)((function(e){O.all(e).catch(I)}))),C,{all:function(e){var t=this,i=E(t),r=i.resolve,n=i.reject,s=b((function(){var i=[],s=0,o=1;m(e,!1,(function(e){var a=s++,l=!1;i.push(void 0),o++,t.resolve(e).then((function(e){l||(l=!0,i[a]=e,--o||r(i))}),n)})),--o||r(i)}));return s.e&&n(s.v),i.promise},race:function(e){var t=this,i=E(t),r=i.reject,n=b((function(){m(e,!1,(function(e){t.resolve(e).then(i.resolve,r)}))}));return n.e&&r(n.v),i.promise}})},21572:(e,t,i)=>{var r=i(42985),n=i(24963),s=i(27007),o=(i(3816).Reflect||{}).apply,a=Function.apply;r(r.S+r.F*!i(74253)((function(){o((function(){}))})),"Reflect",{apply:function(e,t,i){var r=n(e),l=s(i);return o?o(r,t,l):a.call(r,t,l)}})},82139:(e,t,i)=>{var r=i(42985),n=i(42503),s=i(24963),o=i(27007),a=i(55286),l=i(74253),c=i(34398),h=(i(3816).Reflect||{}).construct,d=l((function(){function e(){}return!(h((function(){}),[],e)instanceof e)})),u=!l((function(){h((function(){}))}));r(r.S+r.F*(d||u),"Reflect",{construct:function(e,t){s(e),o(t);var i=arguments.length<3?e:s(arguments[2]);if(u&&!d)return h(e,t,i);if(e==i){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var r=[null];return r.push.apply(r,t),new(c.apply(e,r))}var l=i.prototype,p=n(a(l)?l:Object.prototype),f=Function.apply.call(e,p,t);return a(f)?f:p}})},10685:(e,t,i)=>{var r=i(99275),n=i(42985),s=i(27007),o=i(21689);n(n.S+n.F*i(74253)((function(){Reflect.defineProperty(r.f({},1,{value:1}),1,{value:2})})),"Reflect",{defineProperty:function(e,t,i){s(e),t=o(t,!0),s(i);try{return r.f(e,t,i),!0}catch(e){return!1}}})},85535:(e,t,i)=>{var r=i(42985),n=i(18693).f,s=i(27007);r(r.S,"Reflect",{deleteProperty:function(e,t){var i=n(s(e),t);return!(i&&!i.configurable)&&delete e[t]}})},17347:(e,t,i)=>{"use strict";var r=i(42985),n=i(27007),s=function(e){this._t=n(e),this._i=0;var t,i=this._k=[];for(t in e)i.push(t)};i(49988)(s,"Object",(function(){var e,t=this,i=t._k;do{if(t._i>=i.length)return{value:void 0,done:!0}}while(!((e=i[t._i++])in t._t));return{value:e,done:!1}})),r(r.S,"Reflect",{enumerate:function(e){return new s(e)}})},96633:(e,t,i)=>{var r=i(18693),n=i(42985),s=i(27007);n(n.S,"Reflect",{getOwnPropertyDescriptor:function(e,t){return r.f(s(e),t)}})},68989:(e,t,i)=>{var r=i(42985),n=i(468),s=i(27007);r(r.S,"Reflect",{getPrototypeOf:function(e){return n(s(e))}})},83049:(e,t,i)=>{var r=i(18693),n=i(468),s=i(79181),o=i(42985),a=i(55286),l=i(27007);o(o.S,"Reflect",{get:function e(t,i){var o,c,h=arguments.length<3?t:arguments[2];return l(t)===h?t[i]:(o=r.f(t,i))?s(o,"value")?o.value:void 0!==o.get?o.get.call(h):void 0:a(c=n(t))?e(c,i,h):void 0}})},78270:(e,t,i)=>{var r=i(42985);r(r.S,"Reflect",{has:function(e,t){return t in e}})},64510:(e,t,i)=>{var r=i(42985),n=i(27007),s=Object.isExtensible;r(r.S,"Reflect",{isExtensible:function(e){return n(e),!s||s(e)}})},73984:(e,t,i)=>{var r=i(42985);r(r.S,"Reflect",{ownKeys:i(57643)})},75769:(e,t,i)=>{var r=i(42985),n=i(27007),s=Object.preventExtensions;r(r.S,"Reflect",{preventExtensions:function(e){n(e);try{return s&&s(e),!0}catch(e){return!1}}})},96014:(e,t,i)=>{var r=i(42985),n=i(27375);n&&r(r.S,"Reflect",{setPrototypeOf:function(e,t){n.check(e,t);try{return n.set(e,t),!0}catch(e){return!1}}})},50055:(e,t,i)=>{var r=i(99275),n=i(18693),s=i(468),o=i(79181),a=i(42985),l=i(90681),c=i(27007),h=i(55286);a(a.S,"Reflect",{set:function e(t,i,a){var d,u,p=arguments.length<4?t:arguments[3],f=n.f(c(t),i);if(!f){if(h(u=s(t)))return e(u,i,a,p);f=l(0)}if(o(f,"value")){if(!1===f.writable||!h(p))return!1;if(d=n.f(p,i)){if(d.get||d.set||!1===d.writable)return!1;d.value=a,r.f(p,i,d)}else r.f(p,i,l(0,a));return!0}return void 0!==f.set&&(f.set.call(p,a),!0)}})},83946:(e,t,i)=>{var r=i(3816),n=i(40266),s=i(99275).f,o=i(20616).f,a=i(55364),l=i(53218),c=r.RegExp,h=c,d=c.prototype,u=/a/g,p=/a/g,f=new c(u)!==u;if(i(67057)&&(!f||i(74253)((function(){return p[i(86314)("match")]=!1,c(u)!=u||c(p)==p||"/a/i"!=c(u,"i")})))){c=function(e,t){var i=this instanceof c,r=a(e),s=void 0===t;return!i&&r&&e.constructor===c&&s?e:n(f?new h(r&&!s?e.source:e,t):h((r=e instanceof c)?e.source:e,r&&s?l.call(e):t),i?this:d,c)};for(var m=function(e){e in c||s(c,e,{configurable:!0,get:function(){return h[e]},set:function(t){h[e]=t}})},_=o(h),g=0;_.length>g;)m(_[g++]);d.constructor=c,c.prototype=d,i(77234)(r,"RegExp",c)}i(2974)("RegExp")},18269:(e,t,i)=>{"use strict";var r=i(21165);i(42985)({target:"RegExp",proto:!0,forced:r!==/./.exec},{exec:r})},76774:(e,t,i)=>{i(67057)&&"g"!=/./g.flags&&i(99275).f(RegExp.prototype,"flags",{configurable:!0,get:i(53218)})},21466:(e,t,i)=>{"use strict";var r=i(27007),n=i(10875),s=i(76793),o=i(27787);i(28082)("match",1,(function(e,t,i,a){return[function(i){var r=e(this),n=null==i?void 0:i[t];return void 0!==n?n.call(i,r):new RegExp(i)[t](String(r))},function(e){var t=a(i,e,this);if(t.done)return t.value;var l=r(e),c=String(this);if(!l.global)return o(l,c);var h=l.unicode;l.lastIndex=0;for(var d,u=[],p=0;null!==(d=o(l,c));){var f=String(d[0]);u[p]=f,""===f&&(l.lastIndex=s(c,n(l.lastIndex),h)),p++}return 0===p?null:u}]}))},59357:(e,t,i)=>{"use strict";var r=i(27007),n=i(20508),s=i(10875),o=i(81467),a=i(76793),l=i(27787),c=Math.max,h=Math.min,d=Math.floor,u=/\$([$&`']|\d\d?|<[^>]*>)/g,p=/\$([$&`']|\d\d?)/g;i(28082)("replace",2,(function(e,t,i,f){return[function(r,n){var s=e(this),o=null==r?void 0:r[t];return void 0!==o?o.call(r,s,n):i.call(String(s),r,n)},function(e,t){var n=f(i,e,this,t);if(n.done)return n.value;var d=r(e),u=String(this),p="function"==typeof t;p||(t=String(t));var _=d.global;if(_){var g=d.unicode;d.lastIndex=0}for(var y=[];;){var v=l(d,u);if(null===v)break;if(y.push(v),!_)break;""===String(v[0])&&(d.lastIndex=a(u,s(d.lastIndex),g))}for(var b,w="",x=0,C=0;C<y.length;C++){v=y[C];for(var S=String(v[0]),A=c(h(o(v.index),u.length),0),T=[],k=1;k<v.length;k++)T.push(void 0===(b=v[k])?b:String(b));var O=v.groups;if(p){var P=[S].concat(T,A,u);void 0!==O&&P.push(O);var I=String(t.apply(void 0,P))}else I=m(S,u,A,T,O,t);A>=x&&(w+=u.slice(x,A)+I,x=A+S.length)}return w+u.slice(x)}];function m(e,t,r,s,o,a){var l=r+e.length,c=s.length,h=p;return void 0!==o&&(o=n(o),h=u),i.call(a,h,(function(i,n){var a;switch(n.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,r);case"'":return t.slice(l);case"<":a=o[n.slice(1,-1)];break;default:var h=+n;if(0===h)return i;if(h>c){var u=d(h/10);return 0===u?i:u<=c?void 0===s[u-1]?n.charAt(1):s[u-1]+n.charAt(1):i}a=s[h-1]}return void 0===a?"":a}))}}))},76142:(e,t,i)=>{"use strict";var r=i(27007),n=i(27195),s=i(27787);i(28082)("search",1,(function(e,t,i,o){return[function(i){var r=e(this),n=null==i?void 0:i[t];return void 0!==n?n.call(i,r):new RegExp(i)[t](String(r))},function(e){var t=o(i,e,this);if(t.done)return t.value;var a=r(e),l=String(this),c=a.lastIndex;n(c,0)||(a.lastIndex=0);var h=s(a,l);return n(a.lastIndex,c)||(a.lastIndex=c),null===h?-1:h.index}]}))},51876:(e,t,i)=>{"use strict";var r=i(55364),n=i(27007),s=i(58364),o=i(76793),a=i(10875),l=i(27787),c=i(21165),h=i(74253),d=Math.min,u=[].push,p=4294967295,f=!h((function(){RegExp(p,"y")}));i(28082)("split",2,(function(e,t,i,h){var m;return m="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,t){var n=String(this);if(void 0===e&&0===t)return[];if(!r(e))return i.call(n,e,t);for(var s,o,a,l=[],h=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),d=0,f=void 0===t?p:t>>>0,m=new RegExp(e.source,h+"g");(s=c.call(m,n))&&!((o=m.lastIndex)>d&&(l.push(n.slice(d,s.index)),s.length>1&&s.index<n.length&&u.apply(l,s.slice(1)),a=s[0].length,d=o,l.length>=f));)m.lastIndex===s.index&&m.lastIndex++;return d===n.length?!a&&m.test("")||l.push(""):l.push(n.slice(d)),l.length>f?l.slice(0,f):l}:"0".split(void 0,0).length?function(e,t){return void 0===e&&0===t?[]:i.call(this,e,t)}:i,[function(i,r){var n=e(this),s=null==i?void 0:i[t];return void 0!==s?s.call(i,n,r):m.call(String(n),i,r)},function(e,t){var r=h(m,e,this,t,m!==i);if(r.done)return r.value;var c=n(e),u=String(this),_=s(c,RegExp),g=c.unicode,y=(c.ignoreCase?"i":"")+(c.multiline?"m":"")+(c.unicode?"u":"")+(f?"y":"g"),v=new _(f?c:"^(?:"+c.source+")",y),b=void 0===t?p:t>>>0;if(0===b)return[];if(0===u.length)return null===l(v,u)?[u]:[];for(var w=0,x=0,C=[];x<u.length;){v.lastIndex=f?x:0;var S,A=l(v,f?u:u.slice(x));if(null===A||(S=d(a(v.lastIndex+(f?0:x)),u.length))===w)x=o(u,x,g);else{if(C.push(u.slice(w,x)),C.length===b)return C;for(var T=1;T<=A.length-1;T++)if(C.push(A[T]),C.length===b)return C;x=w=S}}return C.push(u.slice(w)),C}]}))},66108:(e,t,i)=>{"use strict";i(76774);var r=i(27007),n=i(53218),s=i(67057),o="toString",a=/./.toString,l=function(e){i(77234)(RegExp.prototype,o,e,!0)};i(74253)((function(){return"/a/b"!=a.call({source:"a",flags:"b"})}))?l((function(){var e=r(this);return"/".concat(e.source,"/","flags"in e?e.flags:!s&&e instanceof RegExp?n.call(e):void 0)})):a.name!=o&&l((function(){return a.call(this)}))},98184:(e,t,i)=>{"use strict";var r=i(9824),n=i(1616);e.exports=i(45795)("Set",(function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}}),{add:function(e){return r.def(n(this,"Set"),e=0===e?0:e,e)}},r)},40856:(e,t,i)=>{"use strict";i(29395)("anchor",(function(e){return function(t){return e(this,"a","name",t)}}))},80703:(e,t,i)=>{"use strict";i(29395)("big",(function(e){return function(){return e(this,"big","","")}}))},91539:(e,t,i)=>{"use strict";i(29395)("blink",(function(e){return function(){return e(this,"blink","","")}}))},5292:(e,t,i)=>{"use strict";i(29395)("bold",(function(e){return function(){return e(this,"b","","")}}))},29539:(e,t,i)=>{"use strict";var r=i(42985),n=i(24496)(!1);r(r.P,"String",{codePointAt:function(e){return n(this,e)}})},96620:(e,t,i)=>{"use strict";var r=i(42985),n=i(10875),s=i(42094),o="endsWith",a="".endsWith;r(r.P+r.F*i(8852)(o),"String",{endsWith:function(e){var t=s(this,e,o),i=arguments.length>1?arguments[1]:void 0,r=n(t.length),l=void 0===i?r:Math.min(n(i),r),c=String(e);return a?a.call(t,c,l):t.slice(l-c.length,l)===c}})},45177:(e,t,i)=>{"use strict";i(29395)("fixed",(function(e){return function(){return e(this,"tt","","")}}))},73694:(e,t,i)=>{"use strict";i(29395)("fontcolor",(function(e){return function(t){return e(this,"font","color",t)}}))},37648:(e,t,i)=>{"use strict";i(29395)("fontsize",(function(e){return function(t){return e(this,"font","size",t)}}))},50191:(e,t,i)=>{var r=i(42985),n=i(92337),s=String.fromCharCode,o=String.fromCodePoint;r(r.S+r.F*(!!o&&1!=o.length),"String",{fromCodePoint:function(e){for(var t,i=[],r=arguments.length,o=0;r>o;){if(t=+arguments[o++],n(t,1114111)!==t)throw RangeError(t+" is not a valid code point");i.push(t<65536?s(t):s(55296+((t-=65536)>>10),t%1024+56320))}return i.join("")}})},62850:(e,t,i)=>{"use strict";var r=i(42985),n=i(42094),s="includes";r(r.P+r.F*i(8852)(s),"String",{includes:function(e){return!!~n(this,e,s).indexOf(e,arguments.length>1?arguments[1]:void 0)}})},27795:(e,t,i)=>{"use strict";i(29395)("italics",(function(e){return function(){return e(this,"i","","")}}))},39115:(e,t,i)=>{"use strict";var r=i(24496)(!0);i(42923)(String,"String",(function(e){this._t=String(e),this._i=0}),(function(){var e,t=this._t,i=this._i;return i>=t.length?{value:void 0,done:!0}:(e=r(t,i),this._i+=e.length,{value:e,done:!1})}))},4531:(e,t,i)=>{"use strict";i(29395)("link",(function(e){return function(t){return e(this,"a","href",t)}}))},98306:(e,t,i)=>{var r=i(42985),n=i(22110),s=i(10875);r(r.S,"String",{raw:function(e){for(var t=n(e.raw),i=s(t.length),r=arguments.length,o=[],a=0;i>a;)o.push(String(t[a++])),a<r&&o.push(String(arguments[a]));return o.join("")}})},10823:(e,t,i)=>{var r=i(42985);r(r.P,"String",{repeat:i(68595)})},23605:(e,t,i)=>{"use strict";i(29395)("small",(function(e){return function(){return e(this,"small","","")}}))},17732:(e,t,i)=>{"use strict";var r=i(42985),n=i(10875),s=i(42094),o="startsWith",a="".startsWith;r(r.P+r.F*i(8852)(o),"String",{startsWith:function(e){var t=s(this,e,o),i=n(Math.min(arguments.length>1?arguments[1]:void 0,t.length)),r=String(e);return a?a.call(t,r,i):t.slice(i,i+r.length)===r}})},6780:(e,t,i)=>{"use strict";i(29395)("strike",(function(e){return function(){return e(this,"strike","","")}}))},69937:(e,t,i)=>{"use strict";i(29395)("sub",(function(e){return function(){return e(this,"sub","","")}}))},10511:(e,t,i)=>{"use strict";i(29395)("sup",(function(e){return function(){return e(this,"sup","","")}}))},64564:(e,t,i)=>{"use strict";i(29599)("trim",(function(e){return function(){return e(this,3)}}))},95767:(e,t,i)=>{"use strict";var r=i(3816),n=i(79181),s=i(67057),o=i(42985),a=i(77234),l=i(84728).KEY,c=i(74253),h=i(3825),d=i(22943),u=i(93953),p=i(86314),f=i(28787),m=i(36074),_=i(5541),g=i(4302),y=i(27007),v=i(55286),b=i(20508),w=i(22110),x=i(21689),C=i(90681),S=i(42503),A=i(39327),T=i(18693),k=i(64548),O=i(99275),P=i(47184),I=T.f,E=O.f,M=A.f,R=r.Symbol,N=r.JSON,L=N&&N.stringify,D=p("_hidden"),z=p("toPrimitive"),F={}.propertyIsEnumerable,j=h("symbol-registry"),B=h("symbols"),V=h("op-symbols"),U=Object.prototype,G="function"==typeof R&&!!k.f,Z=r.QObject,H=!Z||!Z.prototype||!Z.prototype.findChild,W=s&&c((function(){return 7!=S(E({},"a",{get:function(){return E(this,"a",{value:7}).a}})).a}))?function(e,t,i){var r=I(U,t);r&&delete U[t],E(e,t,i),r&&e!==U&&E(U,t,r)}:E,q=function(e){var t=B[e]=S(R.prototype);return t._k=e,t},$=G&&"symbol"==typeof R.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof R},J=function(e,t,i){return e===U&&J(V,t,i),y(e),t=x(t,!0),y(i),n(B,t)?(i.enumerable?(n(e,D)&&e[D][t]&&(e[D][t]=!1),i=S(i,{enumerable:C(0,!1)})):(n(e,D)||E(e,D,C(1,{})),e[D][t]=!0),W(e,t,i)):E(e,t,i)},Y=function(e,t){y(e);for(var i,r=_(t=w(t)),n=0,s=r.length;s>n;)J(e,i=r[n++],t[i]);return e},K=function(e){var t=F.call(this,e=x(e,!0));return!(this===U&&n(B,e)&&!n(V,e))&&(!(t||!n(this,e)||!n(B,e)||n(this,D)&&this[D][e])||t)},X=function(e,t){if(e=w(e),t=x(t,!0),e!==U||!n(B,t)||n(V,t)){var i=I(e,t);return!i||!n(B,t)||n(e,D)&&e[D][t]||(i.enumerable=!0),i}},Q=function(e){for(var t,i=M(w(e)),r=[],s=0;i.length>s;)n(B,t=i[s++])||t==D||t==l||r.push(t);return r},ee=function(e){for(var t,i=e===U,r=M(i?V:w(e)),s=[],o=0;r.length>o;)!n(B,t=r[o++])||i&&!n(U,t)||s.push(B[t]);return s};G||(a((R=function(){if(this instanceof R)throw TypeError("Symbol is not a constructor!");var e=u(arguments.length>0?arguments[0]:void 0),t=function(i){this===U&&t.call(V,i),n(this,D)&&n(this[D],e)&&(this[D][e]=!1),W(this,e,C(1,i))};return s&&H&&W(U,e,{configurable:!0,set:t}),q(e)}).prototype,"toString",(function(){return this._k})),T.f=X,O.f=J,i(20616).f=A.f=Q,i(14682).f=K,k.f=ee,s&&!i(4461)&&a(U,"propertyIsEnumerable",K,!0),f.f=function(e){return q(p(e))}),o(o.G+o.W+o.F*!G,{Symbol:R});for(var te="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ie=0;te.length>ie;)p(te[ie++]);for(var re=P(p.store),ne=0;re.length>ne;)m(re[ne++]);o(o.S+o.F*!G,"Symbol",{for:function(e){return n(j,e+="")?j[e]:j[e]=R(e)},keyFor:function(e){if(!$(e))throw TypeError(e+" is not a symbol!");for(var t in j)if(j[t]===e)return t},useSetter:function(){H=!0},useSimple:function(){H=!1}}),o(o.S+o.F*!G,"Object",{create:function(e,t){return void 0===t?S(e):Y(S(e),t)},defineProperty:J,defineProperties:Y,getOwnPropertyDescriptor:X,getOwnPropertyNames:Q,getOwnPropertySymbols:ee});var se=c((function(){k.f(1)}));o(o.S+o.F*se,"Object",{getOwnPropertySymbols:function(e){return k.f(b(e))}}),N&&o(o.S+o.F*(!G||c((function(){var e=R();return"[null]"!=L([e])||"{}"!=L({a:e})||"{}"!=L(Object(e))}))),"JSON",{stringify:function(e){for(var t,i,r=[e],n=1;arguments.length>n;)r.push(arguments[n++]);if(i=t=r[1],(v(t)||void 0!==e)&&!$(e))return g(t)||(t=function(e,t){if("function"==typeof i&&(t=i.call(this,e,t)),!$(t))return t}),r[1]=t,L.apply(N,r)}}),R.prototype[z]||i(87728)(R.prototype,z,R.prototype.valueOf),d(R,"Symbol"),d(Math,"Math",!0),d(r.JSON,"JSON",!0)},30142:(e,t,i)=>{"use strict";var r=i(42985),n=i(89383),s=i(91125),o=i(27007),a=i(92337),l=i(10875),c=i(55286),h=i(3816).ArrayBuffer,d=i(58364),u=s.ArrayBuffer,p=s.DataView,f=n.ABV&&h.isView,m=u.prototype.slice,_=n.VIEW,g="ArrayBuffer";r(r.G+r.W+r.F*(h!==u),{ArrayBuffer:u}),r(r.S+r.F*!n.CONSTR,g,{isView:function(e){return f&&f(e)||c(e)&&_ in e}}),r(r.P+r.U+r.F*i(74253)((function(){return!new u(2).slice(1,void 0).byteLength})),g,{slice:function(e,t){if(void 0!==m&&void 0===t)return m.call(o(this),e);for(var i=o(this).byteLength,r=a(e,i),n=a(void 0===t?i:t,i),s=new(d(this,u))(l(n-r)),c=new p(this),h=new p(s),f=0;r<n;)h.setUint8(f++,c.getUint8(r++));return s}}),i(2974)(g)},1786:(e,t,i)=>{var r=i(42985);r(r.G+r.W+r.F*!i(89383).ABV,{DataView:i(91125).DataView})},70162:(e,t,i)=>{i(78440)("Float32",4,(function(e){return function(t,i,r){return e(this,t,i,r)}}))},33834:(e,t,i)=>{i(78440)("Float64",8,(function(e){return function(t,i,r){return e(this,t,i,r)}}))},74821:(e,t,i)=>{i(78440)("Int16",2,(function(e){return function(t,i,r){return e(this,t,i,r)}}))},81303:(e,t,i)=>{i(78440)("Int32",4,(function(e){return function(t,i,r){return e(this,t,i,r)}}))},75368:(e,t,i)=>{i(78440)("Int8",1,(function(e){return function(t,i,r){return e(this,t,i,r)}}))},79103:(e,t,i)=>{i(78440)("Uint16",2,(function(e){return function(t,i,r){return e(this,t,i,r)}}))},83318:(e,t,i)=>{i(78440)("Uint32",4,(function(e){return function(t,i,r){return e(this,t,i,r)}}))},46964:(e,t,i)=>{i(78440)("Uint8",1,(function(e){return function(t,i,r){return e(this,t,i,r)}}))},62152:(e,t,i)=>{i(78440)("Uint8",1,(function(e){return function(t,i,r){return e(this,t,i,r)}}),!0)},30147:(e,t,i)=>{"use strict";var r,n=i(3816),s=i(10050)(0),o=i(77234),a=i(84728),l=i(35345),c=i(23657),h=i(55286),d=i(1616),u=i(1616),p=!n.ActiveXObject&&"ActiveXObject"in n,f="WeakMap",m=a.getWeak,_=Object.isExtensible,g=c.ufstore,y=function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},v={get:function(e){if(h(e)){var t=m(e);return!0===t?g(d(this,f)).get(e):t?t[this._i]:void 0}},set:function(e,t){return c.def(d(this,f),e,t)}},b=e.exports=i(45795)(f,y,v,c,!0,!0);u&&p&&(l((r=c.getConstructor(y,f)).prototype,v),a.NEED=!0,s(["delete","has","get","set"],(function(e){var t=b.prototype,i=t[e];o(t,e,(function(t,n){if(h(t)&&!_(t)){this._f||(this._f=new r);var s=this._f[e](t,n);return"set"==e?this:s}return i.call(this,t,n)}))})))},59192:(e,t,i)=>{"use strict";var r=i(23657),n=i(1616),s="WeakSet";i(45795)(s,(function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}}),{add:function(e){return r.def(n(this,s),e,!0)}},r,!1,!0)},1268:(e,t,i)=>{"use strict";var r=i(42985),n=i(13325),s=i(20508),o=i(10875),a=i(24963),l=i(16886);r(r.P,"Array",{flatMap:function(e){var t,i,r=s(this);return a(e),t=o(r.length),i=l(r,0),n(i,r,r,t,0,1,e,arguments[1]),i}}),i(17722)("flatMap")},62773:(e,t,i)=>{"use strict";var r=i(42985),n=i(79315)(!0);r(r.P,"Array",{includes:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}}),i(17722)("includes")},83276:(e,t,i)=>{var r=i(42985),n=i(51131)(!0);r(r.S,"Object",{entries:function(e){return n(e)}})},98351:(e,t,i)=>{var r=i(42985),n=i(57643),s=i(22110),o=i(18693),a=i(92811);r(r.S,"Object",{getOwnPropertyDescriptors:function(e){for(var t,i,r=s(e),l=o.f,c=n(r),h={},d=0;c.length>d;)void 0!==(i=l(r,t=c[d++]))&&a(h,t,i);return h}})},96409:(e,t,i)=>{var r=i(42985),n=i(51131)(!1);r(r.S,"Object",{values:function(e){return n(e)}})},9865:(e,t,i)=>{"use strict";var r=i(42985),n=i(25645),s=i(3816),o=i(58364),a=i(50094);r(r.P+r.R,"Promise",{finally:function(e){var t=o(this,n.Promise||s.Promise),i="function"==typeof e;return this.then(i?function(i){return a(t,e()).then((function(){return i}))}:e,i?function(i){return a(t,e()).then((function(){throw i}))}:e)}})},92770:(e,t,i)=>{"use strict";var r=i(42985),n=i(75442),s=i(30575),o=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(s);r(r.P+r.F*o,"String",{padEnd:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0,!1)}})},41784:(e,t,i)=>{"use strict";var r=i(42985),n=i(75442),s=i(30575),o=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(s);r(r.P+r.F*o,"String",{padStart:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0,!0)}})},65869:(e,t,i)=>{"use strict";i(29599)("trimLeft",(function(e){return function(){return e(this,1)}}),"trimStart")},94325:(e,t,i)=>{"use strict";i(29599)("trimRight",(function(e){return function(){return e(this,2)}}),"trimEnd")},79665:(e,t,i)=>{i(36074)("asyncIterator")},91181:(e,t,i)=>{for(var r=i(56997),n=i(47184),s=i(77234),o=i(3816),a=i(87728),l=i(87234),c=i(86314),h=c("iterator"),d=c("toStringTag"),u=l.Array,p={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},f=n(p),m=0;m<f.length;m++){var _,g=f[m],y=p[g],v=o[g],b=v&&v.prototype;if(b&&(b[h]||a(b,h,u),b[d]||a(b,d,g),l[g]=u,y))for(_ in r)b[_]||s(b,_,r[_],!0)}},84633:(e,t,i)=>{var r=i(42985),n=i(74193);r(r.G+r.B,{setImmediate:n.set,clearImmediate:n.clear})},32564:(e,t,i)=>{var r=i(3816),n=i(42985),s=i(30575),o=[].slice,a=/MSIE .\./.test(s),l=function(e){return function(t,i){var r=arguments.length>2,n=!!r&&o.call(arguments,2);return e(r?function(){("function"==typeof t?t:Function(t)).apply(this,n)}:t,i)}};n(n.G+n.B+n.F*a,{setTimeout:l(r.setTimeout),setInterval:l(r.setInterval)})},96337:(e,t,i)=>{i(32564),i(84633),i(91181),e.exports=i(25645)},1820:(e,t,i)=>{"use strict";i.d(t,{Z:()=>a});var r=i(94015),n=i.n(r),s=i(23645),o=i.n(s)()(n());o.push([e.id,".draw-base{padding:0;overflow-x:hidden}.esri-widget{max-width:100%}calcite-input{margin:1em}","",{version:3,sources:["webpack://./src/widgets/Draw/styles/Draw.scss"],names:[],mappings:"AAAA,WACE,SAAA,CACA,iBAAA,CAGF,aACA,cAAA,CAGA,cACA,UAAA",sourcesContent:[".draw-base {\n  padding: 0;\n  overflow-x: hidden;\n}\n\n.esri-widget {\nmax-width: 100%;\n}\n\ncalcite-input {\nmargin: 1em;\n}"],sourceRoot:""}]);const a=o},75575:(e,t,i)=>{"use strict";i.d(t,{Z:()=>a});var r=i(94015),n=i.n(r),s=i(23645),o=i.n(s)()(n());o.push([e.id,".locationsearch-base{padding:0}.esri-search{width:100% !important;border-bottom-color:#eaeaea !important;border-bottom-style:solid !important;border-bottom-width:1px !important}","",{version:3,sources:["webpack://./src/widgets/LocationSearch/styles/LocationSearch.scss"],names:[],mappings:"AAAA,qBACE,SAAA,CAGF,aACE,qBAAA,CACA,sCAAA,CACA,oCAAA,CACA,kCAAA",sourcesContent:[".locationsearch-base {\n  padding: 0;\n}\n\n.esri-search {\n  width: 100% !important;\n  border-bottom-color: rgb(234, 234, 234) !important;;\n  border-bottom-style: solid !important;;\n  border-bottom-width: 1px !important;;  \n} "],sourceRoot:""}]);const a=o},96405:(e,t,i)=>{"use strict";i.d(t,{Z:()=>a});var r=i(94015),n=i.n(r),s=i(23645),o=i.n(s)()(n());o.push([e.id,".propertyselect-base{padding:1em}.propertyselect-base .esri-sketch__section:first-child{display:none}","",{version:3,sources:["webpack://./src/widgets/PropertySelect/styles/PropertySelect.scss"],names:[],mappings:"AAAA,qBACE,WAAA,CAGF,uDACE,YAAA",sourcesContent:[".propertyselect-base {\n  padding: 1em;\n}\n\n.propertyselect-base .esri-sketch__section:first-child {\n  display: none;\n}"],sourceRoot:""}]);const a=o},32820:(e,t,i)=>{"use strict";i.d(t,{Z:()=>a});var r=i(94015),n=i.n(r),s=i(23645),o=i.n(s)()(n());o.push([e.id,".tipmanager-base{padding:0}calcite-tip-manager{border:solid 1px}","",{version:3,sources:["webpack://./src/widgets/TipManager/styles/TipManager.scss"],names:[],mappings:"AAAA,iBACE,SAAA,CAGF,oBACE,gBAAA",sourcesContent:[".tipmanager-base {\n  padding: 0;\n}\n\ncalcite-tip-manager {\n  border: solid 1px;\n}"],sourceRoot:""}]);const a=o},702:()=>{},35666:e=>{var t=function(e){"use strict";var t,i=Object.prototype,r=i.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},s=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function l(e,t,i){return Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,i){return e[t]=i}}function c(e,t,i,r){var n=t&&t.prototype instanceof _?t:_,s=Object.create(n.prototype),o=new O(r||[]);return s._invoke=function(e,t,i){var r=d;return function(n,s){if(r===p)throw new Error("Generator is already running");if(r===f){if("throw"===n)throw s;return I()}for(i.method=n,i.arg=s;;){var o=i.delegate;if(o){var a=A(o,i);if(a){if(a===m)continue;return a}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(r===d)throw r=f,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);r=p;var l=h(e,t,i);if("normal"===l.type){if(r=i.done?f:u,l.arg===m)continue;return{value:l.arg,done:i.done}}"throw"===l.type&&(r=f,i.method="throw",i.arg=l.arg)}}}(e,i,o),s}function h(e,t,i){try{return{type:"normal",arg:e.call(t,i)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var d="suspendedStart",u="suspendedYield",p="executing",f="completed",m={};function _(){}function g(){}function y(){}var v={};v[s]=function(){return this};var b=Object.getPrototypeOf,w=b&&b(b(P([])));w&&w!==i&&r.call(w,s)&&(v=w);var x=y.prototype=_.prototype=Object.create(v);function C(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function i(n,s,o,a){var l=h(e[n],e,s);if("throw"!==l.type){var c=l.arg,d=c.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){i("next",e,o,a)}),(function(e){i("throw",e,o,a)})):t.resolve(d).then((function(e){c.value=e,o(c)}),(function(e){return i("throw",e,o,a)}))}a(l.arg)}var n;this._invoke=function(e,r){function s(){return new t((function(t,n){i(e,r,t,n)}))}return n=n?n.then(s,s):s()}}function A(e,i){var r=e.iterator[i.method];if(r===t){if(i.delegate=null,"throw"===i.method){if(e.iterator.return&&(i.method="return",i.arg=t,A(e,i),"throw"===i.method))return m;i.method="throw",i.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var n=h(r,e.iterator,i.arg);if("throw"===n.type)return i.method="throw",i.arg=n.arg,i.delegate=null,m;var s=n.arg;return s?s.done?(i[e.resultName]=s.value,i.next=e.nextLoc,"return"!==i.method&&(i.method="next",i.arg=t),i.delegate=null,m):s:(i.method="throw",i.arg=new TypeError("iterator result is not an object"),i.delegate=null,m)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function P(e){if(e){var i=e[s];if(i)return i.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function i(){for(;++n<e.length;)if(r.call(e,n))return i.value=e[n],i.done=!1,i;return i.value=t,i.done=!0,i};return o.next=o}}return{next:I}}function I(){return{value:t,done:!0}}return g.prototype=x.constructor=y,y.constructor=g,g.displayName=l(y,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,l(e,a,"GeneratorFunction")),e.prototype=Object.create(x),e},e.awrap=function(e){return{__await:e}},C(S.prototype),S.prototype[o]=function(){return this},e.AsyncIterator=S,e.async=function(t,i,r,n,s){void 0===s&&(s=Promise);var o=new S(c(t,i,r,n),s);return e.isGeneratorFunction(i)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},C(x),l(x,a,"Generator"),x[s]=function(){return this},x.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var i in e)t.push(i);return t.reverse(),function i(){for(;t.length;){var r=t.pop();if(r in e)return i.value=r,i.done=!1,i}return i.done=!0,i}},e.values=P,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(k),!e)for(var i in this)"t"===i.charAt(0)&&r.call(this,i)&&!isNaN(+i.slice(1))&&(this[i]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var i=this;function n(r,n){return a.type="throw",a.arg=e,i.next=r,n&&(i.method="next",i.arg=t),!!n}for(var s=this.tryEntries.length-1;s>=0;--s){var o=this.tryEntries[s],a=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var l=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(l&&c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var i=this.tryEntries.length-1;i>=0;--i){var n=this.tryEntries[i];if(n.tryLoc<=this.prev&&r.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var s=n;break}}s&&("break"===e||"continue"===e)&&s.tryLoc<=t&&t<=s.finallyLoc&&(s=null);var o=s?s.completion:{};return o.type=e,o.arg=t,s?(this.method="next",this.next=s.finallyLoc,m):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var i=this.tryEntries[t];if(i.finallyLoc===e)return this.complete(i.completion,i.afterLoc),k(i),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var i=this.tryEntries[t];if(i.tryLoc===e){var r=i.completion;if("throw"===r.type){var n=r.arg;k(i)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,i,r){return this.delegate={iterator:P(e),resultName:i,nextLoc:r},"next"===this.method&&(this.arg=t),m}},e}(e.exports);try{regeneratorRuntime=t}catch(e){Function("r","regeneratorRuntime = r")(t)}},21910:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>a});var r=i(93379),n=i.n(r),s=i(1820),o={insert:"head",singleton:!1};n()(s.Z,o);const a=s.Z.locals||{}},44207:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>a});var r=i(93379),n=i.n(r),s=i(75575),o={insert:"head",singleton:!1};n()(s.Z,o);const a=s.Z.locals||{}},73162:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>a});var r=i(93379),n=i.n(r),s=i(96405),o={insert:"head",singleton:!1};n()(s.Z,o);const a=s.Z.locals||{}},35801:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>a});var r=i(93379),n=i.n(r),s=i(32820),o={insert:"head",singleton:!1};n()(s.Z,o);const a=s.Z.locals||{}}},0,[[702,3666,3716,8484,1518,8834,4139,2673,8591,142,2551,8157,3347,6603,7333,2406,515,5798,6379,5666,9720,207,2200,905,5743,1731,5062,2696,2412,7551,6426,1462,9734,6758,6192,2646,6018,7680,9218,774],[26981,3666,3716,8484,1518,8834,4139,2673,8591,142,2551,8157,3347,6603,7333,2406,515,5798,6379,5666,9720,207,2200,905,5743,1731,5062,2696,2412,7551,6426,1462,9734,6758,6192,2646,6018,7680,9218,774],[29820,3666,3716,8484,1518,8834,4139,2673,8591,142,2551,8157,3347,6603,7333,2406,515,5798,6379,5666,9720,207,2200,905,5743,1731,5062,2696,2412,7551,6426,1462,9734,6758,6192,2646,6018,7680,9218,774]]]);
//# sourceMappingURL=index.js.map