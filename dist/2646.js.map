{"version":3,"sources":["webpack://imaps/./node_modules/@arcgis/core/widgets/LayerList/support/layerListUtils.js","webpack://imaps/./node_modules/@arcgis/core/support/actions/ActionSlider.js","webpack://imaps/./node_modules/@arcgis/core/widgets/LayerList/ListItemPanel.js","webpack://imaps/./node_modules/@arcgis/core/widgets/LayerList/ListItem.js","webpack://imaps/./node_modules/@arcgis/core/widgets/LayerList/LayerListViewModel.js","webpack://imaps/./node_modules/@arcgis/core/widgets/LayerList.js","webpack://imaps/./src/widgets/Layers.tsx","webpack://imaps/./src/widgets/Layers/LayersViewModel.ts","webpack://imaps/./src/widgets/Layers/styles/Layers.scss","webpack://imaps/./node_modules/sortablejs/modular/sortable.esm.js","webpack://imaps/./src/widgets/Layers/styles/Layers.scss?06e1"],"names":["i","n","listMode","u","type","d","e","sort","t","indexOf","uid","r","f","layer","layers","find","s","super","this","displayValueEnabled","max","min","step","value","active","className","disabled","id","indicator","title","visible","prototype","_","_legend","_handles","content","image","listItem","open","own","_createLegend","destroy","_getFirstWidget","_get","iconClass","_override","_clearOverride","label","class","_renderContents","view","classes","key","render","innerHTML","HTMLElement","bind","afterCreate","_attachToNode","Array","isArray","map","_renderContent","layerInfos","_hasLegend","then","default","_getLegendOptions","notifyChange","_updateLegend","add","scheduleRender","some","appendChild","_getWidget","dependsOn","j","S","defaultKeyValue","base","typeMap","button","toggle","slider","O","L","actionsSections","actionsOpen","children","childrenSortable","error","layerView","panel","parent","sortable","handles","_watchLayerProperties","_updateChildren","_setListItemOnPanel","_getLayerView","get","hasOwnProperty","updating","_isLayerUpdating","isNaN","minScale","o","maxScale","l","visibilityMode","clone","forEach","remove","removeAll","_addChildren","filter","unshift","addMany","on","_watchSublayerChanges","_initializeChildLayers","whenLayerView","_set","loadStatus","readOnly","v","listItemCreatedFunction","operationalItems","_viewHandles","emit","action","item","a","c","h","m","p","y","length","includes","_compileList","_modifyListItemChildren","_modifyListItem","call","_watchItemProperties","_watchLayersListMode","_getViewableLayers","_createNewItems","_modifyOrRemoveItems","_sortItems","_removeAllItems","_createListItem","push","removeMany","ready","_createMapLayerHandles","_createLayerViewHandles","splice","M","N","$","H","W","X","te","re","Ee","Ue","exclusive","inherited","independent","Te","Ne","$e","statusIndicators","Pe","_sortableNodes","Map","_sortableMap","_focusSortUid","_newUI","visibleItems","messages","messagesCommon","multipleSelectionEnabled","selectionEnabled","selectedItems","viewModel","visibleElements","_onSortableSort","to","from","newIndex","_sortLayers","dataset","group","_moveLayerFromChildList","_sortableCanPut","el","_sortableCanPull","_onSortableEnd","oldIndex","insertBefore","_setVisibleItems","_itemsChanged","_toggleAllSorting","_destroySortables","replacement","version","triggerAction","state","renderItems","renderNoItems","noItemsToDisplay","widgetLabel","role","_sortNodeCreated","afterUpdate","afterRemoved","_sortNodeRemoved","renderItem","toArray","closeActions","openActions","onclick","_toggleActionsOpen","onkeydown","tabindex","renderPanelButton","_getSingleActionButton","renderAction","singleAction","renderActionsMenuIcon","hidden","collapse","expand","_toggleChildrenClick","layerError","_filterActions","_countActions","renderChildrenToggle","renderLabel","renderActionsMenu","renderError","renderActionsSections","renderChildList","visibleAtCurrentScale","toString","Object","assign","_focusListItem","_toggleSelection","_selectionKeydown","tabIndex","renderItemContent","untitledLayer","layerInvisibleAtScale","_toggleVisibility","renderItemToggleIcon","renderItemToggle","renderItemTitle","reverse","renderItemError","_getIconImageStyles","_triggerPanel","styles","renderActionSection","renderActionIcon","renderActionTitle","_triggerAction","delete","clear","moveListItem","option","dataIdAttr","name","pull","put","fallbackTolerance","onSort","onEnd","chosenClass","set","_toggleSorting","errorsVisible","reduce","getItemAt","focus","_renderOnActionChanges","_renderOnItemChanges","_watchActionSectionChanges","declaredClass","stopPropagation","currentTarget","target","layerUid","g","getAttribute","metaKey","ctrlKey","aliasOf","source","overridable","__decorate","decorators","desc","arguments","getOwnPropertyDescriptor","Reflect","decorate","defineProperty","__importDefault","mod","__esModule","exports","decorators_1","require","widget_1","Widget_1","LayersViewModel_1","CSS","Layers","properties","filterLayers","layerList","toLowerCase","document","querySelector","parentElement","removeAttribute","setAttribute","_createSearch","input","addEventListener","clearClick","passive","removeEventListener","_reset","tsx","clearable","placeholder","scale","color","layerListDivCreated","property","renderable","subclass","Accessor_1","LayerList_1","watchUtils_1","LayersViewModel","params","opacityChanged","findLayerById","opacity","whenDefinedOnce","init","container","event","createElement","Math","round","parseInt","___CSS_LOADER_EXPORT___","module","_typeof","obj","Symbol","iterator","constructor","_defineProperty","enumerable","configurable","writable","_extends","apply","_objectSpread","ownKeys","keys","getOwnPropertySymbols","concat","sym","_objectWithoutProperties","excluded","sourceKeys","_objectWithoutPropertiesLoose","sourceSymbolKeys","propertyIsEnumerable","userAgent","pattern","window","navigator","match","IE11OrLess","Edge","FireFox","Safari","IOS","ChromeForAndroid","captureMode","capture","fn","off","matches","selector","substring","msMatchesSelector","webkitMatchesSelector","getParentOrHost","host","nodeType","parentNode","closest","ctx","includeCTX","_throttleTimeout","R_SPACE","toggleClass","classList","replace","css","prop","val","style","defaultView","getComputedStyle","currentStyle","matrix","selfOnly","appliedTransforms","transform","matrixFn","DOMMatrix","WebKitCSSMatrix","CSSMatrix","MSCSSMatrix","tagName","list","getElementsByTagName","getWindowScrollingElement","scrollingElement","documentElement","getRect","relativeToContainingBlock","relativeToNonStaticParent","undoScale","getBoundingClientRect","elRect","top","left","bottom","right","height","width","innerHeight","innerWidth","containerRect","elMatrix","scaleX","scaleY","isScrolledPast","elSide","parentSide","getParentAutoScrollElement","elSideVal","parentSideVal","getChild","childNum","options","currentChild","display","Sortable","ghost","dragged","draggable","lastChild","last","lastElementChild","previousElementSibling","index","nodeName","toUpperCase","getRelativeScrollOffset","offsetLeft","offsetTop","winScroller","scrollLeft","scrollTop","includeSelf","elem","gotSelf","clientWidth","scrollWidth","clientHeight","scrollHeight","elemCSS","overflowX","overflowY","body","isRectEqual","rect1","rect2","throttle","callback","ms","args","_this","setTimeout","scrollBy","x","Polymer","jQuery","Zepto","dom","cloneNode","expando","Date","getTime","AnimationStateManager","animationCallbackId","animationStates","captureAnimationState","animation","slice","child","rect","fromRect","thisAnimationDuration","childMatrix","addAnimationState","removeAnimationState","arr","Number","indexOfObject","animateAll","clearTimeout","animating","animationTime","time","toRect","prevFromRect","prevToRect","animatingRect","targetMatrix","sqrt","pow","calculateRealTime","animate","animationResetTimer","currentRect","duration","translateX","translateY","animatingX","animatingY","offsetWidth","repaint","easing","animated","plugins","defaults","initializeByDefault","PluginManager","mount","plugin","pluginEvent","eventName","evt","eventCanceled","cancel","eventNameGlobal","pluginName","initializePlugins","initialized","modified","modifyOption","getEventProperties","eventProperties","modifiedValue","optionListeners","dispatchEvent","_ref","rootEl","targetEl","cloneEl","toEl","fromEl","oldDraggableIndex","newDraggableIndex","originalEvent","putSortable","extraEventProperties","onName","charAt","substr","CustomEvent","createEvent","initEvent","bubbles","cancelable","pullMode","lastPutMode","undefined","allEventProperties","data","dragEl","parentEl","ghostEl","nextEl","lastDownEl","cloneHidden","dragStarted","moved","activeSortable","hideGhostForTarget","_hideGhostForTarget","unhideGhostForTarget","_unhideGhostForTarget","cloneNowHidden","cloneNowShown","dispatchSortableEvent","_dispatchEvent","info","activeGroup","tapEvt","touchEvt","lastDx","lastDy","tapDistanceLeft","tapDistanceTop","lastTarget","lastDirection","targetMoveDistance","ghostRelativeParent","awaitingDragStarted","ignoreNextClick","sortables","pastFirstInvertThresh","isCircumstantialInvert","ghostRelativeParentInitialScroll","_silent","savedInputChecked","documentExists","PositionGhostAbsolutely","CSSFloatProperty","supportDraggable","supportCssPointerEvents","cssText","pointerEvents","_detectDirection","elCSS","elWidth","paddingLeft","paddingRight","borderLeftWidth","borderRightWidth","child1","child2","firstChildCSS","secondChildCSS","firstChildWidth","marginLeft","marginRight","secondChildWidth","flexDirection","gridTemplateColumns","split","touchingSideChild2","_prepareGroup","toFn","sameGroup","otherGroup","join","originalGroup","checkPull","checkPut","revertClone","preventDefault","stopImmediatePropagation","nearestEmptyInsertDetectEvent","touches","nearest","clientX","clientY","threshold","emptyInsertThreshold","insideHorizontally","insideVertically","ret","_onDragOver","_checkOutsideTargetEl","_isOutsideThisEl","store","handle","test","swapThreshold","invertSwap","invertedSwapThreshold","removeCloneOnHide","direction","ghostClass","dragClass","ignore","preventOnFilter","setData","dataTransfer","textContent","dropBubble","dragoverBubble","delay","delayOnTouchOnly","touchStartThreshold","devicePixelRatio","forceFallback","fallbackClass","fallbackOnBody","fallbackOffset","supportPointer","nativeDraggable","_onTapStart","_onMove","dragRect","targetRect","willInsertAfter","retVal","onMoveFn","onMove","draggedRect","related","relatedRect","_disableDraggable","_unsilent","_generateId","str","src","href","sum","charCodeAt","_nextTick","_cancelNextTick","contains","_getDirection","touch","pointerType","originalTarget","shadowRoot","path","composedPath","root","inputs","idx","checked","_saveInputCheckedState","isContentEditable","criteria","trim","_prepareDragStart","dragStartFn","ownerDocument","nextSibling","_lastX","_lastY","_onDrop","_disableDelayedDragEvents","_triggerDragStart","_disableDelayedDrag","_delayedDragTouchMoveHandler","_dragStartTimer","abs","floor","_onTouchMove","_onDragStart","selection","empty","getSelection","removeAllRanges","err","_dragStarted","fallback","_appendGhost","_nulling","_emulateDragOver","elementFromPoint","ghostMatrix","relativeScrollOffset","dx","dy","b","cssMatrix","_hideClone","cloneId","_loopId","setInterval","effectAllowed","_dragStartId","revert","vertical","isOwner","canSort","fromSortable","completedFired","dragOverEvent","_ignoreWhileAnimating","completed","elLastChild","spacer","_ghostIsLast","changed","targetBeforeFirstSwap","sibling","differentLevel","differentRowCol","dragElS1Opp","dragElS2Opp","dragElOppLength","targetS1Opp","targetS2Opp","targetOppLength","_dragElInRowColumn","side1","scrolledPastTop","scrollBefore","isLastTarget","mouseOnAxis","targetLength","targetS1","targetS2","invert","_getInsertDirection","_getSwapDirection","dragIndex","nextElementSibling","after","moveVector","extra","axis","insertion","_showClone","_offMoveEvents","_offUpEvents","clearInterval","removeChild","save","handleEvent","dropEffect","_globalDragOver","order","items","querySelectorAll","utils","is","extend","dst","nextTick","cancelNextTick","detectDirection","element","_len","_key","create","scrollEl","scrollRootEl","lastAutoScrollX","lastAutoScrollY","touchEvt$1","pointerElemChangedInterval","autoScrolls","scrolling","clearAutoScrolls","autoScroll","pid","clearPointerElemChangedInterval","isFallback","scroll","scrollCustomFn","sens","scrollSensitivity","speed","scrollSpeed","scrollThisInstance","scrollFn","layersOut","currentParent","canScrollX","canScrollY","scrollPosX","scrollPosY","vx","vy","scrollOffsetY","scrollOffsetX","bubbleScroll","drop","toSortable","changedTouches","onSpill","Revert","Remove","startIndex","dragStart","_ref2","_ref3","_ref4","parentSortable","AutoScroll","_handleAutoScroll","_handleFallbackAutoScroll","dragOverCompleted","dragOverBubble","nulling","ogElemScroller","newElem"],"mappings":";yXAIiC,SAASA,EAAEC,GAAG,GAAGA,EAAE,OAAO,MAAMA,EAAEC,SAASD,EAAEC,cAAS,EAAyd,SAASC,EAAEF,GAAG,GAAIA,EAAS,MAA1jB,kBAAikBA,EAAEC,UAAc,SAASD,EAAEG,UAAK,EAAO,UAAUH,EAAEG,KAAK,SAAS,YAAqU,SAASC,EAAEJ,EAAEK,GAAGL,GAAGA,EAAEM,MAAK,CAAEN,EAAED,KAAK,MAAMQ,EAAEF,EAAEG,QAAQR,EAAES,KAAKC,EAAEL,EAAEG,QAAQT,EAAEU,KAAK,OAAOF,EAAEG,GAAG,EAAEH,EAAEG,EAAE,EAAE,KAAyG,SAASC,EAAEX,GAAG,MAAMK,EAAE,MAAML,OAAE,EAAOA,EAAEY,MAAM,OAAOP,GAAG,UAAUA,EAAEF,KAAKE,EAAEQ,OAAO,KAAK,SAAS,EAAEb,EAAEK,GAAG,IAAIN,EAAE,MAAMQ,EAAE,OAAOR,EAAEC,EAAEY,YAAO,EAAOb,EAAEU,IAAI,OAAOF,GAAGF,EAAES,MAAMd,IAAI,IAAIK,EAAE,OAAO,OAAOA,EAAEL,EAAEY,YAAO,EAAOP,EAAEI,OAAOF,K,ICA77B,E,sFAAE,IAAI,EAAE,EAAE,cAAc,IAAE,YAAYQ,GAAGC,MAAMD,GAAGE,KAAKC,qBAAoB,EAAGD,KAAKE,IAAI,EAAEF,KAAKG,IAAI,EAAEH,KAAKI,KAAK,GAAGJ,KAAKd,KAAK,SAASc,KAAKK,MAAM,KAAK,QAAQ,OAAO,IAAI,EAAE,CAACC,OAAON,KAAKM,OAAOC,UAAUP,KAAKO,UAAUC,SAASR,KAAKQ,SAASC,GAAGT,KAAKS,GAAGC,UAAUV,KAAKU,UAAUC,MAAMX,KAAKW,MAAMC,QAAQZ,KAAKY,QAAQX,oBAAoBD,KAAKC,oBAAoBC,IAAIF,KAAKE,IAAIC,IAAIH,KAAKG,IAAIC,KAAKJ,KAAKI,KAAKC,MAAML,KAAKK,WAAU,OAAE,EAAC,WAAK,EAAEQ,UAAU,2BAAsB,IAAQ,OAAE,EAAC,WAAK,EAAEA,UAAU,WAAM,IAAQ,OAAE,EAAC,WAAK,EAAEA,UAAU,WAAM,IAAQ,OAAE,EAAC,WAAK,EAAEA,UAAU,YAAO,IAAQ,OAAE,EAAC,WAAK,EAAEA,UAAU,aAAQ,GAAQ,EAAE,GAAE,OAAE,EAAC,OAAE,qCAAqC,GAAW,QAAF,E,eCA9W,MAAgC,EAAE,iCAAmN,IAAIC,EAAE,eAAc,OAAE,YAAI,YAAY1B,EAAEE,GAAGS,MAAMX,EAAEE,GAAGU,KAAKe,QAAQ,KAAKf,KAAKgB,SAAS,IAAI,IAAEhB,KAAKiB,QAAQ,KAAKjB,KAAKkB,MAAM,KAAKlB,KAAKmB,SAAS,KAAKnB,KAAKoB,MAAK,EAAGpB,KAAKY,SAAQ,EAAG,aAAaZ,KAAKqB,IAAI,EAAC,UAAErB,KAAK,WAAWZ,GAAGY,KAAKsB,cAAclC,OAAO,UAAU,MAAM2B,QAAQ3B,GAAGY,KAAKZ,GAAGA,EAAEmC,UAAUvB,KAAKe,QAAQ,KAAK,gBAAgB,MAAMG,MAAM9B,GAAGY,KAAKV,EAAEU,KAAKwB,kBAAkB,OAAOxB,KAAKyB,KAAK,eAAerC,GAAGE,EAAEA,EAAEoC,UAAU,GAAG,cAActC,QAAG,IAASA,EAAEY,KAAK2B,UAAU,YAAYvC,GAAGY,KAAK4B,eAAe,aAAa,YAAY,MAAMxC,EAAEY,KAAKwB,kBAAkB,OAAOxB,KAAKyB,KAAK,UAAUrC,EAAEA,EAAEyC,MAAM,GAAG,UAAUzC,QAAG,IAASA,EAAEY,KAAK2B,UAAU,QAAQvC,GAAGY,KAAK4B,eAAe,SAAS,SAAS,OAAO,OAAE,MAAM,CAACE,MAAz6B,yBAAk7B9B,KAAK+B,mBAAmB,eAAe3C,GAAG,MAAM2B,QAAQzB,EAAE6B,SAASrB,GAAGE,KAAK,OAAIZ,EAAiB,WAAWA,EAAUU,GAAGA,EAAEkC,MAAMlC,EAAEH,OAAOL,GAAE,OAAE,MAAM,CAACwC,MAAM9B,KAAKiC,QAAQ,EAA5hC,0CAAiiCC,IAAI5C,GAAGA,EAAE6C,UAAU,KAAW,iBAAiB/C,GAAE,OAAE,MAAM,CAAC0C,MAAM9B,KAAKiC,QAAQ,EAAnkC,0CAAwkCC,IAAI9C,EAAEgD,UAAUhD,KAAI,cAAEA,IAAG,OAAE,MAAM,CAAC0C,MAAM9B,KAAKiC,QAAQ,EAAjiC,0CAAsiCC,IAAI9C,GAAGA,EAAE+C,UAAU/C,aAAaiD,aAAY,OAAE,MAAM,CAACP,MAAM9B,KAAKiC,QAAQ,EAA/pC,gDAAoqCC,IAAI9C,EAAEkD,KAAKlD,EAAEmD,YAAYvC,KAAKwC,gBAAgB,KAA3V,KAAgW,kBAAkB,MAAMvB,QAAQ7B,GAAGY,KAAK,OAAOyC,MAAMC,QAAQtD,GAAGA,EAAEuD,KAAKvD,GAAGY,KAAK4C,eAAexD,KAAKY,KAAK4C,eAAexD,GAAG,kBAAkBA,GAAG,IAAIA,EAAE,OAAO,MAAMO,MAAML,EAAE0C,KAAKlC,GAAGV,EAAE,OAAOE,GAAGQ,EAAE,CAACkC,KAAKlC,EAAE+C,WAAW,CAAC,CAAClD,MAAML,EAAEqB,MAAM,WAAM,EAAO,cAAcvB,GAAGY,KAAK8C,WAAW1D,KAAKY,KAAKe,SAAS,2GAAuBgC,MAAK,EAAGC,QAAQ5D,MAAM,MAAM4B,SAAS1B,EAAE6B,SAASrB,GAAGE,KAAKP,EAAE,IAAIL,EAAEY,KAAKiD,kBAAkBnD,IAAIE,KAAKe,QAAQtB,EAAEO,KAAKkD,aAAa,aAAalD,KAAKkD,aAAa,SAAS,MAAMpE,GAAE,UAAEkB,KAAK,CAAC,gBAAgB,mBAAkB,IAAKA,KAAKmD,cAAc1D,KAAKH,EAAE8D,IAAItE,EAAE,WAAWkB,KAAKqD,oBAAoB,WAAWjE,GAAG,MAAME,EAAE,SAAS,OAAOF,IAAIE,KAAKmD,MAAMC,QAAQtD,IAAIA,EAAEkE,MAAMlE,GAAGA,IAAIE,IAAI,cAAcF,GAAGA,EAAEmE,YAAYvD,MAAM,cAAcZ,GAAG,MAAM+B,SAAS7B,GAAGU,KAAK,IAAIV,EAAE,OAAO,MAAMK,MAAMG,EAAEkC,KAAKvC,GAAGH,EAAEF,EAAE4C,KAAKvC,EAAEL,EAAEyD,WAAW,CAAC,CAAClD,MAAMG,EAAEa,MAAM,OAAOX,KAAKqD,iBAAiB,WAAWjE,GAAG,MAAM,WAAWA,EAAEY,KAAKe,SAAQ,cAAE3B,GAAGA,EAAE,KAAK,kBAAkB,MAAM6B,QAAQ7B,GAAGY,KAAK,GAAGyC,MAAMC,QAAQtD,GAAG,CAAC,IAAIE,EAAE,KAAK,OAAOF,EAAEkE,MAAMlE,IAAI,MAAMU,EAAEE,KAAKwD,WAAWpE,GAAG,OAAOU,IAAIR,EAAEQ,KAAKA,KAAKR,EAAE,OAAOU,KAAKwD,WAAWpE,MAAK,OAAE,EAAC,QAAE,CAACqE,UAAU,CAAC,UAAU,YAAY3C,EAAED,UAAU,YAAY,OAAM,OAAE,EAAC,WAAI,UAAKC,EAAED,UAAU,eAAU,IAAQ,OAAE,EAAC,WAAKC,EAAED,UAAU,aAAQ,IAAQ,OAAE,EAAC,WAAKC,EAAED,UAAU,gBAAW,IAAQ,OAAE,EAAC,QAAE,CAAC4C,UAAU,CAAC,cAAc3C,EAAED,UAAU,QAAQ,OAAM,OAAE,EAAC,WAAI,UAAKC,EAAED,UAAU,YAAO,IAAQ,OAAE,EAAC,WAAKC,EAAED,UAAU,eAAU,GAAQC,GAAE,OAAE,EAAC,OAAE,yCAAyCA,GAAW,QAAFA,ECAj0E,IAAI4C,EAAE,MAAMC,EAAE,WAAS,CAACzB,IAAI,OAAO0B,gBAAgB,SAASC,KAAK,IAAEC,QAAQ,CAACC,OAAO,IAAEC,OAAO,IAAEC,OAAO,KAAKC,EAAE,WAASP,GAAG,IAAIQ,EAAET,EAAE,eAAc,QAAE,OAAE,aAAK,YAAYtE,GAAGW,MAAMX,GAAGY,KAAKoE,gBAAgB,IAAIF,EAAElE,KAAKqE,aAAY,EAAGrE,KAAKsE,SAAS,IAAI,WAASZ,IAAI1D,KAAKuE,kBAAiB,EAAGvE,KAAKwE,MAAM,KAAKxE,KAAKL,MAAM,KAAKK,KAAKyE,UAAU,KAAKzE,KAAKoB,MAAK,EAAGpB,KAAK0E,MAAM,KAAK1E,KAAK2E,OAAO,KAAK3E,KAAK4E,UAAS,EAAG5E,KAAKgC,KAAK,KAAKhC,KAAKY,QAAQ,KAAK,aAAaZ,KAAK6E,QAAQzB,IAAI,EAAC,UAAEpD,KAAK,SAASZ,GAAGY,KAAK8E,sBAAsB1F,MAAK,UAAEY,KAAK,QAAQZ,GAAGY,KAAK+E,gBAAgB3F,MAAK,UAAEY,KAAK,SAASZ,GAAGY,KAAKgF,oBAAoB5F,MAAK,UAAEY,KAAK,CAAC,QAAQ,SAAQ,IAAKA,KAAKiF,oBAAoB,UAAUjF,KAAKgC,KAAK,KAAK,UAAU5C,GAAG,OAAOY,KAAKkF,IAAI,gBAAgB9F,EAAE+F,eAAe,UAAU/F,EAAEgC,MAAK,GAAIhC,EAAE,IAAI,EAAEA,GAAG,KAAK,YAAY,MAAMA,EAAEY,KAAKkF,IAAI,eAAe,QAAQ9F,GAAGA,GAAGY,KAAKkF,IAAI,wBAAwBlF,KAAKkF,IAAI,gBAAgB,GAAG,UAAU9F,QAAG,IAASA,EAAEY,KAAK2B,UAAU,QAAQvC,GAAGY,KAAK4B,eAAe,SAAS,eAAe,MAAMxC,EAAEY,KAAKyE,UAAU,OAAOrF,EAAEA,EAAEgG,SAASpF,KAAKqF,iBAAiBrF,KAAKL,OAAO,4BAA4B,OHA/7C,SAAWZ,EAAEK,GAAG,IAAIL,GAAGuG,MAAMlG,GAAG,OAAM,EAAG,MAAMN,EAApzB,SAAWC,GAAG,GAAGA,EAAE,OAAO,MAAMA,EAAEwG,SAASxG,EAAEwG,cAAS,EAAgwBjG,CAAEP,GAAGyG,EAA9vB,SAAWzG,GAAG,GAAGA,EAAE,OAAO,MAAMA,EAAE0G,SAAS1G,EAAE0G,cAAS,EAA0sBhG,CAAEV,GAAGE,GAAGqG,MAAMxG,IAAIA,EAAE,GAAGM,EAAEN,EAAE4G,GAAGJ,MAAME,IAAIA,EAAE,GAAGpG,EAAEoG,EAAE,OAAOvG,GAAGyG,EGAm1C,CAAE1F,KAAKL,MAAMK,KAAKkF,IAAI,eAAe,qBAAqB,OHA3oE,SAAWnG,GAAG,IAAIA,EAAE,MAAM,YAAY,MAAMK,EAAEL,EAAEmG,IAAI,2DAA2D,GAAG,kBAAkB9F,EAAE,OAAOA,EAAE,cAAc,YAAY,MAAMN,EAAEC,EAAEmG,IAAI,qDAAqD,MAAM,kBAAkBpG,EAAEA,EAAE,cAAc,YAAY,MAAMC,EAAE4G,eAAe5G,EAAE4G,eAAe,cGAw0D,CAAE3F,KAAKL,OAAO,QAAQ,OAAO,IAAI+D,EAAE,CAACU,gBAAgBpE,KAAKoE,gBAAgBwB,QAAQvB,YAAYrE,KAAKqE,YAAYC,SAAStE,KAAKsE,SAASsB,QAAQjG,MAAMK,KAAKL,MAAMyB,KAAKpB,KAAKoB,KAAKsD,MAAM1E,KAAK0E,MAAM/D,MAAMX,KAAKW,MAAMqB,KAAKhC,KAAKgC,KAAKpB,QAAQZ,KAAKY,UAAU,oBAAoBxB,GAAGA,IAAIA,EAAE+B,SAASnB,MAAM,gBAAgBZ,GAAG,MAAME,EAAEU,KAAKsE,SAAShF,GAAGA,EAAEuG,SAASvG,GAAGA,EAAE0C,KAAK5C,IAAI,aAAaA,GAAG,GAAGY,KAAK6E,QAAQiB,OAAO,mBAAmB9F,KAAKsE,SAASyB,aAAa3G,EAAE,OAAOA,EAAEyG,SAASvG,IAAIU,KAAK6E,QAAQzB,KAAI,WAAE9D,EAAE,YAAW,IAAKU,KAAKgG,aAAa5G,KAAK,sBAAsB,MAAME,EAAE,GAAGF,EAAE6G,QAAQ7G,GAAG,SAAS,EAAEA,KAAKyG,SAASzG,IAAI,GHA/nE,SAAWA,GAAG,MAA30B,SAAk1BN,EAAEM,GGA2mE,CAAEA,GAAG,CAAC,MAAMN,EAAE,IAAI4E,EAAE,CAAC/D,MAAMP,EAAEuF,OAAO3E,KAAKgC,KAAKhC,KAAKgC,OAAO1C,EAAE4G,QAAQpH,OAAOkB,KAAKsE,SAAS6B,QAAQ7G,GAAG,sBAAsBF,GAAGA,GAAGY,KAAK6E,QAAQzB,IAAIhE,EAAEgH,GAAG,UAAS,KAAMpG,KAAKgG,aAAa5G,MAAM,SAAS,uBAAuBA,GAAGY,KAAKgG,aAAa5G,GAAGY,KAAKqG,sBAAsBjH,GAAG,sBAAsBA,GAAG,IAAIY,KAAK6E,QAAQ,OAAO,GAAG7E,KAAK6E,QAAQiB,OAAO,SAAS9F,KAAK6E,QAAQiB,OAAO,oBAAoB1G,EAAE,OAAqF,GAA9EY,KAAK6E,QAAQzB,KAAI,WAAEhE,EAAE,YAAW,IAAKY,KAAK8E,sBAAsB1F,KAAK,SAAY,kBAAkB,EAAEA,GAAG,YAAYY,KAAKsE,SAASyB,YAAY,MAAMzG,EAAE,EAAEF,GAAGE,GAAGU,KAAK6E,QAAQzB,KAAI,UAAEhE,EAAEE,GAAE,KAAMF,EAAE+F,eAAe7F,IAAIU,KAAKsG,uBAAuBlH,EAAEE,OAAO,SAAS,sBAAsB,MAAMK,MAAMP,EAAE4C,KAAK1C,GAAGU,KAAK,GAAGZ,GAAGE,EAAE,IAAI,MAAMR,QAAQQ,EAAEiH,cAAcnH,GAAG,GAAGN,EAAEa,QAAQK,KAAKL,MAAM,OAAOK,KAAKwG,KAAK,YAAY1H,GAAG,QAAQ,iBAAiBM,GAAG,QAAQA,aAAa,MAAKA,GAAG,YAAYA,EAAEqH,cAAc,OAAE,EAAC,QAAE,CAACvH,KAAKgF,KAAKC,EAAEtD,UAAU,uBAAkB,IAAQ,OAAE,EAAC,WAAKsD,EAAEtD,UAAU,mBAAc,IAAQ,OAAE,EAAC,QAAE,CAAC3B,KAAK,OAAKiF,EAAEtD,UAAU,gBAAW,IAAQ,OAAE,EAAC,WAAKsD,EAAEtD,UAAU,wBAAmB,IAAQ,OAAE,EAAC,OAAE,qBAAqBsD,EAAEtD,UAAU,aAAQ,IAAQ,OAAE,EAAC,WAAKsD,EAAEtD,UAAU,aAAQ,IAAQ,OAAE,EAAC,QAAE,CAAC6F,UAAS,KAAMvC,EAAEtD,UAAU,iBAAY,IAAQ,OAAE,EAAC,WAAKsD,EAAEtD,UAAU,YAAO,IAAQ,OAAE,EAAC,QAAE,CAAC3B,KAAK,KAAKiF,EAAEtD,UAAU,aAAQ,IAAQ,OAAE,EAAC,OAAE,UAAUsD,EAAEtD,UAAU,YAAY,OAAM,OAAE,EAAC,WAAKsD,EAAEtD,UAAU,cAAS,IAAQ,OAAE,EAAC,WAAKsD,EAAEtD,UAAU,gBAAW,IAAQ,OAAE,EAAC,QAAE,CAAC4C,UAAU,CAAC,sBAAsB,kBAAkBU,EAAEtD,UAAU,QAAQ,OAAM,OAAE,EAAC,QAAE,CAAC4C,UAAU,CAAC,oBAAoB,sBAAsBiD,UAAS,KAAMvC,EAAEtD,UAAU,WAAW,OAAM,OAAE,EAAC,QAAE,CAACR,MAAM,QAAQ8D,EAAEtD,UAAU,YAAO,IAAQ,OAAE,EAAC,OAAE,kBAAkBsD,EAAEtD,UAAU,eAAU,IAAQ,OAAE,EAAC,QAAE,CAAC4C,UAAU,CAAC,kBAAkB,kBAAkB,cAAciD,UAAS,KAAMvC,EAAEtD,UAAU,wBAAwB,OAAM,OAAE,EAAC,QAAE,CAAC4C,UAAU,CAAC,wBAAwB,4DAA4D,oEAAoEiD,UAAS,KAAMvC,EAAEtD,UAAU,iBAAiB,MAAMsD,EAAET,GAAE,OAAE,EAAC,OAAE,oCAAoCS,GAAW,QAAFA,E,eCA50I,MAAe,EAAE,cAAc,EAAE,aAAa,EAAE,cAAc,EAAE,kBAAkB,EAAE,WAAS,GAAG,IAAIwC,EAAE,cAAc,oBAAkB,YAAYvH,GAAGW,MAAMX,GAAGY,KAAKgB,SAAS,IAAI,IAAEhB,KAAK4G,wBAAwB,KAAK5G,KAAK6G,iBAAiB,IAAI,EAAE7G,KAAKgC,KAAK,KAAK,aAAahC,KAAKgB,SAASoC,KAAI,UAAEpD,KAAK,CAAC,OAAO,eAAc,IAAKA,KAAK8G,iBAA7T,QAAiV,UAAU9G,KAAKgB,SAASO,UAAUvB,KAAKgB,SAAS,KAAKhB,KAAKgC,KAAK,KAAKhC,KAAK6G,iBAAiBd,YAAY,YAAY,MAAM3G,EAAEY,KAAKkF,IAAI,QAAQ,OAAOlF,KAAKkF,IAAI,cAAc,QAAQ9F,EAAE,UAAU,WAAW,cAAcA,EAAEE,GAAGF,IAAIA,EAAEoB,UAAUR,KAAK+G,KAAK,iBAAiB,CAACC,OAAO5H,EAAE6H,KAAK3H,IAAI,aAAaF,EAAEE,EAAER,EAAEgB,GAAG,IAAIL,EAAE+F,EAAE,MAAM0B,EAAE,MAAM9H,OAAE,EAAOA,EAAEO,MAAM,IAAIuH,EAAE,OAAO,MAAMxB,EAAE,OAAOjG,EAAEO,KAAKgC,OAAO,OAAOwD,EAAE/F,EAAEkD,UAAK,EAAO6C,EAAE5F,OAAOT,EAAEG,EAAE,EAAEA,GAAGoG,EAAEyB,EAAErI,EAAE,EAAEA,GAAG4G,EAAE,IAAIvG,IAAIgI,EAAE,OAAO,MAAMN,iBAAiBO,GAAGpH,KAAKqH,GAAG,MAAM/H,OAAE,EAAOA,EAAEgF,WAAW8C,EAAEE,GAAG,MAAMxI,OAAE,EAAOA,EAAEwF,WAAW8C,EAAEG,EAAEJ,EAAEK,OAAO1H,EAAEV,EAAEuF,OAAO7F,GAAG,KAAKuI,EAAEI,SAASrI,IAAIiI,EAAEvB,OAAO1G,GAAGD,EAAEsI,SAASP,IAAI/H,EAAE2G,OAAOoB,GAAGI,EAAEG,SAASrI,IAAIkI,EAAElE,IAAIhE,EAAEmI,GAAGJ,EAAEM,SAASP,IAAIC,EAAE/D,IAAI8D,EAAEK,GAAG,wBAAwBnI,GAAG,MAAM4B,SAAS1B,GAAGU,KAAKV,EAAEwG,OAAO,GAAG9F,KAAK0H,eAAetI,GAAGE,EAAE8D,IAAIhE,EAAEgH,GAAG,UAAS,IAAKpG,KAAK0H,iBAAiB,GAAG,uBAAuBtI,GAAG,MAAM4B,SAAS1B,GAAGU,KAAKV,EAAEwG,OAAO,GAAG9F,KAAK0H,eAAetI,GAAGE,EAAE8D,IAAIhE,EAAEgH,GAAG,UAAS,IAAKpG,KAAK0H,iBAAiB,GAAG,qBAAqBtI,GAAGY,KAAKgB,SAASoC,IAAI,CAAChE,EAAEkF,SAAS8B,GAAG,UAAS,KAAMpG,KAAK2H,wBAAwBvI,EAAEkF,cAAc,mBAAmBlF,EAAEI,OAAO,wBAAwBJ,GAAGA,EAAEyG,SAASzG,GAAGY,KAAK4H,gBAAgBxI,KAAK,gBAAgBA,GAAG,GAAG,mBAAmBY,KAAK4G,wBAAwB,CAAC,MAAMtH,EAAE,CAAC2H,KAAK7H,GAAGY,KAAK4G,wBAAwBiB,KAAK,KAAKvI,GAAGU,KAAK2H,wBAAwBvI,EAAEkF,UAAU,gBAAgBlF,GAAG,MAAM4C,KAAK1C,GAAGU,KAAKlB,EAAE,IAAI,EAAE,CAACa,MAAMP,EAAE4C,KAAK1C,IAAI,OAAOU,KAAK8H,qBAAqBhJ,GAAGA,EAAE,kBAAkB,MAAMkC,SAAS5B,EAAEyH,iBAAiBvH,GAAGU,KAAKV,EAAEuG,SAASvG,IAAIF,EAAE0G,OAAO,mBAAmBxG,EAAEE,UAAUF,EAAEyG,YAAY,mBAAmB3G,GAAG,GAAGA,EAAE,OAAOA,EAAE6G,QAAQ7G,GAAG,SAAS,EAAEA,KAAK,qBAAqBA,GAAG,MAAM4B,SAAS1B,GAAGU,KAAKV,EAAEwG,OAAO,GAAG1G,GAAGA,EAAEyG,SAASzG,IAAIE,EAAE8D,KAAI,WAAEhE,EAAE,YAAW,IAAKY,KAAK0H,iBAAiB,MAAM,eAAe,MAAMtI,EAAEY,KAAKkF,IAAI,mBAAmBlF,KAAK+H,qBAAqB3I,GAAG,MAAME,EAAEU,KAAKgI,mBAAmB5I,GAAGE,GAAGA,EAAEkI,QAAQxH,KAAKiI,gBAAgB3I,GAAGU,KAAKkI,qBAAqB5I,GAAGU,KAAKmI,WAAW7I,IAAIU,KAAKoI,kBAAkB,gBAAgBhJ,GAAG,MAAMyH,iBAAiBvH,GAAGU,KAAKZ,EAAEyG,SAASzG,IAAIE,EAAEO,MAAMP,GAAGA,EAAEK,QAAQP,KAAKE,EAAE8D,IAAIpD,KAAKqI,gBAAgBjJ,OAAO,qBAAqBA,GAAG,MAAM4B,SAAS1B,EAAEuH,iBAAiB/H,GAAGkB,KAAKF,EAAE,GAAGhB,EAAE+G,SAAS/G,IAAIA,GAAGM,GAAGA,EAAES,MAAMT,GAAGN,EAAEa,QAAQP,IAAIY,KAAK4H,gBAAgB9I,IAAIQ,EAAEwG,OAAO,mBAAmBhH,EAAEU,OAAOM,EAAEwI,KAAKxJ,OAAOA,EAAEyJ,WAAWzI,GAAG,WAAWV,GAAG,MAAMyH,iBAAiBvH,GAAGU,KAAKV,EAAED,MAAK,CAAEC,EAAER,KAAK,MAAMgB,EAAEV,EAAEG,QAAQD,EAAEK,OAAOF,EAAEL,EAAEG,QAAQT,EAAEa,OAAO,OAAOG,EAAEL,GAAG,EAAEK,EAAEL,EAAE,EAAE,KAAK,eAAe,MAAMuB,SAAS5B,EAAE4C,KAAK1C,GAAGU,KAAKZ,EAAE0G,OAAO,CAAC,EAAE,EAAE,IAAI9F,KAAK0H,eAAepI,GAAGA,EAAEkJ,OAAOpJ,EAAEgE,IAAI,EAAC,UAAEpD,KAAK,mBAAmBZ,GAAGY,KAAKyI,uBAAuBrJ,MAAK,UAAEY,KAAK,mBAAmBZ,GAAGY,KAAK0I,wBAAwBtJ,MAAK,UAAEY,KAAK,2BAA0B,IAAKA,KAAK0H,kBAAkB,MAAK,OAAE,EAAC,WAAKf,EAAE9F,UAAU,+BAA0B,IAAQ,OAAE,EAAC,QAAE,CAAC3B,KAAK,KAAKyH,EAAE9F,UAAU,wBAAmB,IAAQ,OAAE,EAAC,QAAE,CAAC4C,UAAU,CAAC,cAAciD,UAAS,KAAMC,EAAE9F,UAAU,QAAQ,OAAM,OAAE,EAAC,WAAK8F,EAAE9F,UAAU,YAAO,GAAQ8F,GAAE,OAAE,EAAC,OAAE,8CAA8CA,GAAW,QAAFA,ECAvqF,SAAS,GAAEvH,EAAEE,EAAER,GAAGM,EAAEuJ,OAAO7J,EAAE,EAAEM,EAAEuJ,OAAOrJ,EAAE,GAAG,IAAI,MAAM,GAAE,WAAS,GAAgHsJ,GAAE,wBAAkIC,GAAE,qCAAqCC,GAAE,wBAAyUC,GAAE,0CAA0CC,GAAE,kDAAkMC,GAAE,qCAAuJC,GAAG,8BAAwGC,GAAG,+BAAkxBC,GAAG,2BAA6FC,GAAG,CAACC,UAAU,YAAYC,UAAU,YAAYC,YAAY,eAAe,SAASC,GAAGrK,GAAG,MAAMiF,YAAY/E,EAAEgF,SAASxF,GAAGM,EAAEE,IAAIF,EAAEiF,aAAY,GAAIvF,EAAE+G,SAASzG,GAAGqK,GAAGrK,KAAK,MAAMsK,GAAG,cAAY,0BAA0BC,GAAG,CAACC,kBAAiB,GAAI,IAAIC,GAAG,cAAc,UAAE,YAAYzK,EAAEN,GAAGiB,MAAMX,EAAEN,GAAGkB,KAAKgB,SAAS,IAAI,IAAEhB,KAAK8J,eAAe,IAAIC,IAAI/J,KAAKgK,aAAa,IAAID,IAAI/J,KAAKiK,cAAc,KAAKjK,KAAKkK,QAAO,OAAE,yBAAyBlK,KAAKmK,aAAa,KAAKnK,KAAK0B,UAAvgB,mBAAohB1B,KAAK6B,WAAM,EAAO7B,KAAK4G,wBAAwB,KAAK5G,KAAKoK,SAAS,KAAKpK,KAAKqK,eAAe,KAAKrK,KAAKsK,0BAAyB,EAAGtK,KAAK6G,iBAAiB,KAAK7G,KAAKuK,kBAAiB,EAAGvK,KAAKwK,cAAc,IAAI,GAAExK,KAAKgC,KAAK,KAAKhC,KAAKyK,UAAU,IAAI,EAAEzK,KAAK0K,gBAAgB,IAAIf,IAAI3J,KAAK2K,gBAAgB,EAAEC,GAAGxL,EAAEyL,KAAKvL,EAAE2H,KAAKnI,EAAEgM,SAAShL,MAAMR,GAAGF,IAAIE,IAAIF,EAAEY,KAAK+K,YAAY/K,KAAKgK,aAAa9E,IAAI5F,EAAE0L,QAAQC,QAAQjL,KAAKkL,wBAAwB,CAACN,GAAGxL,EAAEyL,KAAKvL,EAAE2H,KAAKnI,EAAEgM,SAAShL,MAAME,KAAKmL,gBAAgB,CAAC/L,EAAEE,EAAER,KAAK,IAAIgB,EAAEL,EAAE,MAAM+F,EAAEpG,EAAEgM,GAAGJ,QAAQC,MAAMvF,EAAEpG,EAAE8L,GAAGJ,QAAQC,MAAMlM,EAAEK,EAAEgM,GAAG,aAAalE,EAAEpI,EAAE,aAAaK,EAAE,MAAM+H,GAAG,OAAOpH,EAAEoH,EAAEvH,YAAO,EAAOG,EAAEZ,KAAKiI,EAAE,MAAMpI,GAAG,OAAOU,EAAEV,EAAEY,YAAO,EAAOF,EAAEP,KAAK,OAAOsG,GAAGE,GAAGvG,KAAK,UAAUgI,GAAG,UAAUhI,IAAIa,KAAKqL,iBAAiB,CAACjM,EAAEE,EAAER,KAAK,IAAIgB,EAAE,MAAML,EAAEL,EAAEgM,GAAGJ,QAAQC,MAAMzF,EAAElG,EAAE8L,GAAGJ,QAAQC,MAAMvF,EAAE5G,EAAE,aAAaC,EAAE,MAAM2G,GAAG,OAAO5F,EAAE4F,EAAE/F,YAAO,EAAOG,EAAEZ,KAAK,OAAOO,GAAG+F,KAAKzG,GAAGiB,KAAKsL,eAAe,EAAEC,SAASnM,EAAEyL,KAAKvL,EAAEsL,GAAG9L,EAAEmI,KAAKnH,MAAMR,IAAIR,GAAGQ,EAAEkM,aAAa1L,EAAER,EAAEgF,SAASlF,KAAK,aAAa,MAAMA,EAAEY,KAAK6G,iBAAiB7G,KAAKyL,iBAAiBrM,GAAGY,KAAKqB,KAAI,QAAErB,KAAK,mBAAmB,UAAS,IAAKA,KAAK0L,cAActM,MAAK,UAAEY,KAAK,oBAAmB,IAAKA,KAAK2L,uBAAuB,UAAU3L,KAAK4L,oBAAoB5L,KAAKgB,SAASO,UAAUvB,KAAKgB,SAAS,KAAK,4BAA4B5B,IAAG,QAAEsK,GAAG,0BAA0B,CAACmC,YAAY,mCAAmCC,QAAQ,SAAS9L,KAAK0K,gBAAgB,IAAI1K,KAAK0K,gBAAgBd,iBAAiBxK,GAAG,oBAAoBA,GAAG,MAAM,IAAIuK,MAAMvK,GAAG,cAAcA,EAAEE,GAAGU,KAAKyK,UAAUsB,cAAc3M,EAAEE,GAAG,SAAS,IAAIF,EAAE,MAAM+K,aAAa7K,EAAE4K,OAAOpL,GAAGkB,KAAKF,EAAE,OAAOV,EAAEY,KAAKyK,gBAAW,EAAOrL,EAAE4M,MAAMvM,EAAE,CAAC,0BAAIX,EAAE,cAAK,YAAYgB,EAAE,gBAAK,aAAaA,GAAG,OAAO,OAAE,MAAM,CAACgC,MAAM9B,KAAKiC,QAA/kI,iDAAylIxC,IAAI,MAAMH,GAAGA,EAAEkI,OAAOxH,KAAKiM,cAAcjM,KAAKkM,iBAAiB,gBAAgB,OAAO,OAAE,MAAM,CAACpK,MAAzmI,6BAAknI9B,KAAKoK,SAAS+B,kBAAkB,cAAc,MAAMhC,aAAa/K,EAAEmL,iBAAiBjL,EAAE8K,SAAStL,GAAGkB,KAAK,OAAO,OAAE,KAAK,CAAC,aAAalB,EAAEsN,YAAYC,KAAK/M,EAAE,eAAU,EAAOiD,YAAYvC,KAAKsM,iBAAiBC,YAAYvM,KAAKsM,iBAAiBE,aAAaxM,KAAKyM,iBAAiB,aAAa,OAAOnK,KAAKtC,KAAK8B,MAAM9B,KAAKiC,QAAQ2G,GAA33I,8BAA+3IC,KAAI,MAAMzJ,OAAE,EAAOA,EAAEuD,KAAKvD,GAAGY,KAAK0M,WAAWtN,EAAE,QAAQuN,WAAW,sBAAsBvN,EAAEE,GAAG,MAAM8K,SAAStL,GAAGkB,KAAKF,EAAE,CAAC,CAACkJ,IAAG5J,EAAEiF,aAAa5E,EAAEL,EAAEiF,YAAYvF,EAAE8N,aAAa9N,EAAE+N,YAAY,OAAO,OAAE,MAAM,CAAC3K,IAAI,sBAAsB,YAAY9C,EAAEkD,KAAKtC,KAAK8M,QAAQ9M,KAAK+M,mBAAmBC,UAAUhN,KAAK+M,mBAAmBjL,MAAM9B,KAAKiC,QAAQ8G,GAAEjJ,GAAGmN,SAAS,IAAIZ,KAAK,SAAS,gBAAgB/M,EAAE,aAAaG,EAAEkB,MAAMlB,IAAG,OAAE,OAAO,CAAC,cAAc,OAAOqC,MAAh4G,iCAA44G,kBAAkB1C,EAAEE,EAAER,EAAEgB,GAAG,MAAM4E,MAAMjF,GAAGL,EAAEoG,EAAE/F,GAAGA,EAAEmB,QAAQZ,KAAKkN,kBAAkBzN,GAAG,KAAKiG,EAAE,IAAI5G,GAAGkB,KAAKmN,uBAAuB7N,GAAGP,EAAE2G,EAAE1F,KAAKoN,aAAa,CAACnG,KAAK7H,EAAE4H,OAAOtB,EAAE2H,cAAa,IAAK,KAAKnG,GAAGxB,GAAG5G,EAAEkB,KAAKsN,sBAAsBlO,EAAEU,GAAG,KAAK,OAAOoH,GAAG1B,GAAGE,GAAE,OAAE,MAAM,CAACxD,IAAI,eAAeJ,MAArqJ,sCAA8qJ0D,EAAEzG,EAAEmI,GAAG,KAAK,gBAAgB9H,EAAEE,GAAG,IAAIR,EAAE,MAAMyL,iBAAiBzK,GAAGE,MAAM2F,eAAelG,EAAE6E,SAASkB,GAAGpG,EAAEsG,IAAItG,EAAEoF,MAAMzF,IAAIyG,EAAEgC,SAAS9B,EAAEwB,GAAGnI,GAAGe,GAAG,WAAW,OAAOhB,EAAEM,EAAEO,YAAO,EAAOb,EAAEI,OAAOoK,UAAUnK,EAAEoK,UAAUpC,GAAGkC,GAAGjC,EAAE,CAAC,mCAAI3H,IAAIN,EAAE,mCAAIM,IAAI0H,EAAE,CAAC0B,IAAGpJ,IAAI0H,GAAG1H,IAAIN,GAAG,OAAOJ,GAAGmI,GAAE,OAAE,KAAK,CAAC5E,KAAKtC,KAAKkC,IAAI,aAAazB,GAAGnB,EAAE,aAAaF,EAAEI,IAAI,YAAYJ,EAAEmD,YAAYvC,KAAKsM,iBAAiBC,YAAYvM,KAAKsM,iBAAiBE,aAAaxM,KAAKyM,iBAAiB3K,MAAM9B,KAAKiC,QAAQ2G,GAAExB,GAAG,gBAAgBhI,EAAEgC,KAAK,OAAO,QAAQiL,KAAKvM,EAAE,UAAUL,IAAIN,EAAE,aAAa,QAAQoO,QAAQnO,EAAEgC,OAAO8F,GAAG,MAAM,MAAM1B,OAAE,EAAOA,EAAE7C,KAAKrD,GAAGU,KAAK0M,WAAWpN,EAAEF,KAAKuN,WAAW,KAAK,qBAAqBvN,EAAEE,GAAG,MAAM+K,eAAevL,GAAGkB,MAAMsE,SAASxE,GAAGV,EAAEK,IAAIL,EAAEoF,MAAMgB,IAAI1F,EAAE0H,SAAS/H,EAAEiG,EAAE,CAAC,sCAAKtG,EAAEgC,MAAMrC,EAAEK,EAAEgC,KAAKtC,EAAE0O,SAAS1O,EAAE2O,OAAO,OAAOjI,GAAE,OAAE,OAAO,CAACsH,QAAQ9M,KAAK0N,qBAAqBV,UAAUhN,KAAK0N,qBAAqB,YAAYtO,EAAE8C,IAAI,kBAAkBJ,MAAM9B,KAAKiC,QAAl5J,gCAA65JyD,GAAGuH,SAAS,IAAIZ,KAAK,SAAS,gBAAgB/M,EAAE,aAAaP,EAAE4B,MAAM5B,IAAG,OAAE,OAAO,CAAC,cAAc,OAAO+C,MAAM9B,KAAKiC,QAAn5J,6CAA2Z,qCAAygJ,OAAE,OAAO,CAAC,cAAc,OAAOH,MAAM9B,KAAKiC,QAA9/J,6CAAib,2BAA8lJ,OAAE,OAAO,CAAC,cAAc,OAAOH,MAAM9B,KAAKiC,QAAz9J,iDAA+Y,oCAA4lJ,KAAK,YAAY7C,GAAG,OAAOA,EAAEoF,OAAM,OAAE,MAAM,CAACtC,IAAI,yBAAyBJ,MAAh8K,sCAAy8KuK,KAAK,UAAS,OAAE,OAAO,KAAKrM,KAAKoK,SAASuD,aAAa,KAAK,kBAAkBvO,EAAEE,EAAER,GAAG,MAAM2B,GAAGX,GAAGE,KAAKP,EAAE,GAAGK,KAAKV,EAAEI,MAAMgG,EAAE,GAAG/F,YAAYiG,EAAE,GAAGjG,WAAWiF,MAAM3F,GAAGK,EAAE8H,EAAElH,KAAK4N,eAAexO,EAAEgF,iBAAiBjF,EAAEa,KAAK6N,cAAc3G,GAAG,MAAM,EAAC,OAAE,MAAM,CAAChF,IAAI,sBAAsBJ,MAA9sM,mCAAutM9B,KAAK8N,qBAAqB1O,EAAEsG,GAAG1F,KAAK+N,YAAY3O,EAAEE,EAAER,GAAGkB,KAAKgO,kBAAkB5O,EAAE8H,EAAE/H,EAAEqG,IAAIxF,KAAKiO,YAAY7O,GAAGD,EAAEa,KAAKkO,sBAAsB9O,EAAE8H,EAAE1B,GAAG,KAAKzG,GAAGA,EAAEqC,KAAKrC,EAAEoD,SAAS,KAAKnC,KAAKmO,gBAAgB/O,EAAEsG,IAAI,WAAWtG,EAAEE,GAAG,MAAM4K,OAAOpL,EAAE2B,GAAGX,EAAEyK,iBAAiB9K,EAAE+K,cAAchF,EAAEkF,gBAAgBhF,GAAG1F,MAAMsE,SAASvF,GAAGK,EAAE8H,EAAE,GAAMpH,KAAKV,EAAEI,aAAeL,IAAIC,EAAEoF,MAAuB4C,EAAE,CAAC,wCAAhBrI,EAAEyI,SAASrI,EAAW,iCAAMA,EAAE,kCAAIC,EAAEgG,WAAW9F,GAAGoG,EAAEkE,iBAAiB,mCAAI9K,IAAIM,EAAEwB,QAAQ,6CAAKxB,EAAEgP,sBAAsB,oCAAI3O,GAAG,GAAGA,EAAE,CAAC,IAAIR,EAAE,MAAMH,EAAE,CAAC,iBAAiB,OAAOG,EAAEG,EAAEO,YAAO,EAAOV,EAAEO,IAAI,qBAAqBJ,EAAEwF,UAAUyJ,YAAY,OAAO,OAAE,KAAKC,OAAOC,OAAO,CAACrM,IAAI,uBAAuB9C,EAAEI,MAAM8C,KAAKtC,KAAKuC,YAAYvC,KAAKwO,eAAejC,YAAYvM,KAAKwO,eAAe1M,MAAM9B,KAAKiC,QAAQ6G,GAAE1B,GAAG,kBAAkBF,EAAE4F,QAAQ9M,KAAKyO,iBAAiBzB,UAAUhN,KAAK0O,kBAAkB,YAAYtP,EAAE,aAAaE,EAAEA,EAAEE,IAAI,OAAOmP,SAAS,EAAE,gBAAgB,EAAEvP,EAAEoG,GAAG,OAAO,QAAQ6G,KAAK,UAAUvN,GAAGkB,KAAK4O,kBAAkBxP,EAAEE,EAAE4H,IAAI,OAAO,OAAE,KAAK,CAAChF,IAAI,qBAAqB9C,EAAEI,MAAM8C,KAAKtC,KAAKuC,YAAYvC,KAAKwO,eAAejC,YAAYvM,KAAKwO,eAAe1M,MAAM9B,KAAKiC,QAAQ6G,GAAE1B,GAAG,kBAAkBF,GAAGlH,KAAK4O,kBAAkBxP,EAAEE,EAAE4H,IAAI,gBAAgB9H,EAAEE,GAAG,MAAM8K,SAAStL,GAAGkB,KAAKF,EAAEV,EAAEuB,OAAO7B,EAAE+P,cAAcpP,EAAEL,EAAEgP,sBAAsBtO,EAAE,GAAGA,MAAMhB,EAAEgQ,yBAAyB,OAAO,OAAE,OAAO,CAAC5M,IAAI,wBAAwBzB,GAAGnB,EAAEqB,MAAMlB,EAAE,aAAaA,EAAEqC,MAAliO,+BAA4iOhC,GAAG,qBAAqBV,EAAEE,GAAG,MAAM4K,OAAOpL,GAAGkB,MAAMsJ,UAAUxJ,GAAGuJ,GAAG5J,EAAEH,GAAGA,EAAEqG,eAAeH,EAAE,CAAC,oCAAK1G,EAAE,oCAAKA,GAAGW,IAAIK,EAAE,mCAAKhB,GAAGW,IAAIK,EAAE,0BAAKL,IAAIK,GAAGV,EAAEwB,QAAQ,4BAAKnB,IAAIK,IAAIV,EAAEwB,QAAQ,oBAAKnB,IAAIK,GAAGV,EAAEwB,QAAQ,wBAAKnB,IAAIK,IAAIV,EAAEwB,SAAS,OAAO,OAAE,OAAO,CAACsB,IAAI,mBAAmBJ,MAAM9B,KAAKiC,QAAQuD,GAAG,cAAc,SAAS,iBAAiBpG,EAAEE,EAAER,GAAG,MAAMyL,iBAAiBzK,GAAGE,MAAMsJ,UAAU7J,GAAG4J,GAAG7D,EAAElG,GAAGA,EAAEqG,eAAeD,EAAEF,IAAI/F,EAAE,QAAQ,SAAS,OAAO,OAAE,OAAOK,EAAE,CAACoC,IAAI,gCAAgCJ,MAAMqH,GAAG7G,KAAKtC,KAAK8M,QAAQ9M,KAAK+O,kBAAkB/B,UAAUhN,KAAK+O,kBAAkB,YAAY3P,EAAE,yBAAyBoG,EAAEmJ,SAAS,EAAE,eAAevP,EAAEwB,QAAQ,OAAO,QAAQyL,KAAK3G,EAAE,kBAAkB5G,GAAG,CAACoD,IAAI,cAAcJ,MAAMqH,IAAInJ,KAAKgP,qBAAqB5P,EAAEE,IAAI,gBAAgBF,GAAG,OAAOA,EAAEoF,OAAM,OAAE,OAAO,CAACtC,IAAI,kBAAkB,cAAc,OAAOJ,MAAntO,8BAA8tO,KAAK,YAAY1C,EAAEE,EAAER,GAAG,MAAMyL,iBAAiBzK,EAAEoK,OAAOzK,GAAGO,MAAMuJ,UAAU/D,EAAE8D,UAAU5D,GAAG2D,GAAGtK,EAAE,MAAMO,OAAE,EAAOA,EAAEqG,eAAeuB,EAAEnI,IAAI2G,EAAE,QAAQ,SAASvG,EAAE,CAACa,KAAKiP,iBAAiB7P,EAAEE,EAAER,GAAGkB,KAAKkP,gBAAgB9P,EAAEN,IAAIW,GAAGN,EAAEgQ,UAAU,MAAMhI,GAAE,OAAE,MAAMrH,EAAE,CAACoC,IAAI,2BAA2B9C,EAAEI,MAAMsC,MAAMoH,IAAI,CAAChH,IAAI,6BAA6B9C,EAAEI,MAAMsC,MAAMoH,GAAG5G,KAAKtC,KAAK8M,QAAQ9M,KAAK+O,kBAAkB/B,UAAUhN,KAAK+O,kBAAkB,YAAY3P,EAAE,yBAAyBL,EAAE4P,SAAS,EAAE,eAAevP,EAAEwB,QAAQ,OAAO,QAAQyL,KAAKnF,EAAE,kBAAkBpI,GAAGK,GAAG,OAAOJ,IAAIyG,GAAGpG,EAAEoF,OAAM,OAAE,MAAM,CAACtC,IAAI,wBAAwB9C,EAAEI,MAAMsC,MAAMoH,IAAIlJ,KAAKoP,gBAAgBhQ,GAAGY,KAAKkP,gBAAgB9P,EAAEN,IAAIqI,EAAE,kBAAkB/H,GAAG,MAAMmB,UAAUjB,EAAE8B,KAAKtC,EAAE6B,MAAMb,EAAEoB,MAAMzB,GAAGL,EAAEoG,EAAE/F,GAAGH,EAAEA,EAAE8J,GAAG1D,EAAE1F,KAAKqP,oBAAoBjQ,GAAGL,EAAE,CAAC,CAACiK,IAAGlK,GAAGoI,EAAE,CAAC,CAAC+B,MAAKvD,EAAE,qBAAqB,OAAOF,IAAI0B,EAAE1B,KAAKA,IAAG,OAAE,MAAM,CAACtD,IAAI,SAAS9C,EAAEI,MAAM8C,KAAKtC,KAAK,aAAaZ,EAAE0N,QAAQ9M,KAAKsP,cAActC,UAAUhN,KAAKsP,cAAcxN,MAAM9B,KAAKiC,QAAQ8G,GAAEhK,GAAGsN,KAAK,SAASY,SAAS,IAAItM,MAAMb,EAAE,aAAaA,IAAG,OAAE,OAAO,CAACgC,MAAM9B,KAAKiC,QAAQiF,GAAGqI,OAAO7J,KAAK,sBAAsBtG,EAAEE,EAAER,GAAG,MAAMgB,EAAER,EAAEqN,UAAUhK,KAAI,CAAErD,EAAER,KAAI,OAAE,KAAK,CAACoD,IAAI,GAAG9C,oBAAoBN,IAAIgD,MAAz1S,sCAAk2S9B,KAAKwP,oBAAoBpQ,EAAEE,MAAM,OAAO,OAAE,MAAM,CAAC+M,KAAK,QAAQ,gBAAgBjN,EAAEiF,YAAY,OAAO,QAAQnC,IAAI,kBAAkBzB,GAAG3B,EAAEgD,MAA1gT,gCAAkhTyL,QAAQnO,EAAEiF,aAAa,MAAMvE,GAAG,oBAAoBV,EAAEE,GAAG,OAAOA,GAAGA,EAAEqN,WAAWhK,KAAKrD,GAAGU,KAAKoN,aAAa,CAACnG,KAAK7H,EAAE4H,OAAO1H,MAAM,iBAAiBF,GAAG,MAAMkB,OAAOhB,EAAEiB,UAAUzB,GAAGM,EAAEU,EAAEE,KAAKqP,oBAAoBjQ,GAAGK,EAAE,WAAWL,EAAEF,MAAME,EAAE8B,OAAOpC,EAAEA,EAAEsK,GAAG5D,EAAE,CAAC,CAACyD,KAAI3J,KAAKQ,EAAE,oBAAoB,8BAAKR,EAAE,gBAAKA,GAAG,OAAOG,IAAIH,IAAIkG,EAAE/F,IAAG,IAAI,OAAE,OAAO,CAACyC,IAAI,cAAc,cAAc,OAAOJ,MAAM9B,KAAKiC,QAAlyT,oCAA4yTuD,GAAG+J,OAAOzP,IAAI,kBAAkBV,EAAEE,GAAG,OAAOA,EAAE,MAAK,OAAE,OAAO,CAAC4C,IAAI,eAAeJ,MAA/yT,sCAAwzT1C,GAAG,aAAaA,GAAG,MAAM6H,KAAK3H,EAAE0H,OAAOlI,EAAEuO,aAAavN,GAAGV,GAAGkB,OAAOb,EAAEe,SAASgF,EAAE7E,MAAM+E,GAAG5G,EAAEC,EAAE,CAAC,CAACgK,IAAGjJ,GAAG,WAAWhB,EAAEI,KAAK,+BAAIO,IAAIK,GAAG,WAAWhB,EAAEI,KAAK,kCAAKO,GAAG,WAAWX,EAAEI,KAAK,sCAAMO,GAAG,WAAWX,EAAEI,MAAMJ,EAAEuB,MAAM,wBAAKmF,GAAG0B,EAAE,CAAClH,KAAKyP,iBAAiB3Q,GAAGkB,KAAK0P,kBAAkBhK,EAAE5F,IAAI,OAAOA,GAAE,OAAE,MAAM,CAACwC,KAAKtC,KAAK,YAAYV,EAAE,cAAcR,EAAEuN,KAAK,SAASnK,IAAI,iBAAiBpD,EAAEU,MAAMsN,QAAQ9M,KAAK2P,eAAe3C,UAAUhN,KAAK2P,eAAe1N,QAAQlD,EAAEkO,SAAS,IAAItM,MAAM+E,EAAE,aAAaA,GAAGwB,IAAG,OAAE,KAAK,CAAC5E,KAAKtC,KAAK,YAAYV,EAAE,cAAcR,EAAEoD,IAAI,UAAUpD,EAAEU,MAAMsN,QAAQ9M,KAAK2P,eAAe3C,UAAUhN,KAAK2P,eAAe1N,QAAQlD,EAAEkO,SAAS,IAAIZ,KAAK,SAAS1L,MAAM+E,EAAE,aAAaA,GAAGwB,GAAG,iBAAiB9H,GAAG,MAAM4K,aAAa1K,GAAGU,KAAKlB,EAAEM,EAAE4L,QAAQC,MAAMnL,EAAER,EAAE4F,IAAIpG,GAAGgB,GAAGA,EAAEyB,UAAUjC,EAAEsQ,OAAO9Q,GAAG,oBAAoB,MAAMkL,aAAa5K,EAAE0K,eAAexK,GAAGU,KAAKZ,EAAEyG,SAASzG,GAAGA,GAAGA,EAAEmC,YAAYnC,EAAEyQ,QAAQvQ,EAAEuQ,QAAQ,yBAAyBjF,GAAGxL,EAAEyL,KAAKvL,EAAE2H,KAAKnI,EAAEgM,SAAShL,IAAI,MAAML,EAAEX,EAAE,aAAa0G,EAAEpG,EAAE,aAAasG,EAAEpG,EAAE,aAAaU,KAAKyK,UAAUqF,aAAarQ,EAAEiG,EAAEF,EAAE1F,GAAG,YAAYV,GAAG,IAAIA,EAAE,OAAO,MAAME,EAAEF,EAAEgM,GAAG,aAAatM,EAAEM,EAAEuN,UAAU,IAAI7M,EAAEL,EAAEH,ELAzlY,SAAWP,EAAEK,GAAG,MAAMN,EAAE,MAAMC,OAAE,EAAOA,EAAEY,MAAM,IAAIb,EAAE,OAAO,MAAMQ,EAAEL,EAAEH,GAAOQ,GAASH,EAAEL,EAAEoG,IAAI5F,GAAGF,GKA0/X,CAAEE,EAAER,GAAG,EAAE,OAAOgB,EAAEE,KAAKgC,OAAO,OAAOvC,EAAEK,EAAE6C,UAAK,EAAOlD,EAAEG,OAAOd,GAAG,eAAeM,EAAEE,GAAG,MAAM0K,aAAalL,EAAEyL,iBAAiBzK,GAAGE,KAAKP,EAAEX,EAAEoG,IAAI5F,GAAGkG,EAAEpG,EAAE,aAAasG,GAAG,SAASpG,GAAGkG,EAAEjB,kBLA5qZ,SAAWxF,GAAG,MAAMK,EAAEL,IAAIA,EAAEmG,IAAI,gBAAgBnG,EAAEY,OAAO,IAAIP,EAAE,OAAM,EAAG,MAAMN,EAAEM,EAAE8F,IAAI,mDAAmD,MAAM,kBAAkBpG,GAAGA,EKA0hZ,CAAE0G,KAAK1F,EAAE,GAAGL,EAAEA,EAAEsQ,OAAO,YAAYrK,QAAQ,GAAGA,EAAE,CAAC,MAAM5F,EAAE,YAASV,EAAE,CAAC4Q,WAAW,iBAAiB/E,MAAM,CAACgF,KAAK3Q,EAAE4Q,KAAKlQ,KAAKqL,iBAAiB8E,IAAInQ,KAAKmL,iBAAiBlF,OAAO,4BAA4BmK,kBAAkB,EAAEC,OAAOrQ,KAAK2K,gBAAgB2F,MAAMtQ,KAAKsL,eAAe9K,UAAUkF,EAAE6K,YAAtyV,4BAAuzVzR,EAAE0R,IAAIlR,EAAEQ,IAAI,oBAAoBE,KAAK8J,eAAejE,SAAQ,CAAEzG,EAAEE,IAAIU,KAAKyQ,eAAerR,EAAEE,KAAK,iBAAiBF,GAAG,MAAME,EAAEF,EAAE4L,QAAQC,MAAM3L,IAAIU,KAAK8J,eAAe0G,IAAIlR,EAAEF,GAAGY,KAAKyQ,eAAerR,EAAEE,IAAI,iBAAiBF,GAAGY,KAAKmK,aAAa,MAAM/K,OAAE,EAAOA,EAAE6G,QAAQ7G,GAAGY,KAAK0Q,gBAAgBtR,EAAEoF,QAAQ,uBAAuBpF,GAAG,OAAOA,EAAEuR,QAAQvR,GAAGA,IAAI6G,QAAQ7G,GAAGA,GAAG,WAAWA,EAAEF,OAAO0R,UAAU,GAAG,eAAexR,GAAG,IAAIE,EAAE,MAAM2K,cAAcnL,GAAGkB,KAASZ,GAAIN,IAAU,OAAOQ,EAAEF,EAAE,aAAaO,YAAO,EAAOL,EAAEE,OAAOV,IAAIM,EAAEyR,QAAQ7Q,KAAKiK,cAAc,MAAM,2BAA2B7K,EAAEE,GAAG,MAAMR,EAAj6V,iBAAs6VQ,EAAEU,KAAKgB,SAASoC,IAAIhE,EAAEgH,GAAG,SAASpG,KAAKqD,eAAef,KAAKtC,OAAOlB,GAAGM,EAAEyG,SAASzG,GAAGY,KAAK8Q,uBAAuB1R,EAAEE,KAAK,uBAAuBF,EAAEE,GAAG,MAAMR,EAA3kW,UAAglWQ,EAAE,WAAWF,EAAEF,KAAK,WAAWE,EAAEF,KAAKc,KAAKgB,SAASoC,IAAI,EAAC,UAAEhE,EAAE,CAAC,YAAY,QAAQ,KAAK,QAAQ,YAAW,IAAKY,KAAKqD,oBAAoBvE,GAAGkB,KAAKgB,SAASoC,IAAI,EAAC,UAAEhE,EAAE,CAAC,YAAY,KAAK,QAAQ,UAAU,QAAQ,sBAAsB,MAAM,MAAM,SAAQ,IAAKY,KAAKqD,oBAAoBvE,GAAGkB,KAAKgB,SAASoC,IAAI,EAAC,UAAEhE,EAAE,CAAC,YAAY,QAAQ,KAAK,QAAQ,UAAU,UAAS,IAAKY,KAAKqD,oBAAoBvE,GAAG,qBAAqBM,GAAG,MAAME,EAAEF,EAAEI,IAAIV,EAA39W,QAAg+WQ,EAAEU,KAAKgB,SAASoC,IAAI,EAAC,UAAEhE,EAAE,CAAC,cAAc,UAAU,OAAO,WAAW,QAAQ,wBAAwB,QAAQ,iBAAiB,QAAQ,cAAc,gBAAgB,kBAAkB,WAAW,qBAAoB,IAAKY,KAAKqD,mBAAmBjE,EAAEgF,gBAAgBgC,GAAG,UAAS,IAAKpG,KAAKqD,mBAAmBjE,EAAEkF,SAAS8B,GAAG,UAAS,IAAKpG,KAAKqD,oBAAoBvE,GAAGM,EAAEkF,SAASuB,SAASzG,GAAGY,KAAK+Q,qBAAqB3R,KAAKA,EAAEgF,gBAAgByB,SAASzG,GAAGY,KAAKgR,2BAA2B5R,EAAEE,KAAK,cAAcF,GAAGY,KAAKgB,SAAS+E,YAAY3G,EAAEyG,SAASzG,GAAGY,KAAK+Q,qBAAqB3R,KAAKY,KAAKyL,iBAAiBrM,GAAGY,KAAKqD,iBAAiB,eAAejE,GAAG,OAAOA,EAAEuD,KAAKvD,GAAGA,EAAE6G,QAAQ7G,GAAGA,EAAEwB,YAAY,cAAcxB,GAAG,OAAOA,EAAEuR,QAAO,CAAEvR,EAAEE,IAAIF,EAAEE,EAAEkI,QAAQ,GAAG,oBAAoBpI,GAAG,MAAME,EAAE,yCAAyCF,EAAE6R,eAAe,qCAAqC7R,EAAE6R,eAAe,qCAAqC7R,EAAE6R,cAAc7R,EAAE8B,MAAM,KAAK,MAAM,CAAC,mBAAmB5B,EAAE,QAAQA,MAAM,MAAM,kBAAkBF,GAAG,MAAME,GAAE,QAAEF,GAAG,IAAI,IAAI,CAAC,YAAY,WAAWG,QAAQD,GAAG,YAAYU,KAAKyO,iBAAiBrP,GAAGA,EAAE8R,kBAAkB,MAAMpS,EAAEM,EAAE+R,cAAcrR,EAAEhB,EAAE,cAAckL,aAAavK,EAAE+K,cAAchF,GAAGxF,KAAK0F,EAAE5G,EAAEkM,QAAQC,MAAMlM,EAAEU,EAAEyF,IAAIQ,GAAG,IAAI3G,EAAE,OAAO,MAAMI,EAAE,EAAEW,EAAE0F,GAAG2B,EAAEpI,EAAE4N,UAAUvF,EAAEhI,EAAEgS,OAAOnS,EAAEkI,EAAE5H,QAAQ6H,EAAE4D,QAAQqG,UAAU,IAAI,IAAIpS,EAAE,CAAC,GAAG,cAAcK,EAAE,CAAC,MAAMF,EAAEH,EAAE,EAAE,GAAGG,GAAG+H,EAAEK,OAAO,OAAO,IAAI8J,EAAEjK,EAAKlI,GAAE,GAAEgI,EAAElI,EAAEG,GAAGL,EAAEM,KAAK8H,GAAGnH,KAAK+K,YAAYhM,GAAGiB,KAAKiK,cAAc,OAAOqH,EAAExR,EAAEH,YAAO,EAAO2R,EAAE9R,MAASQ,KAAKiK,cAAc,OAAO5C,EAAEvH,EAAEH,YAAO,EAAO0H,EAAE7H,IAAIQ,KAAKqD,kBAAiB,GAAG,YAAY/D,EAAE,CAAC,MAAMF,EAAEH,EAAE,EAAE,GAAGG,IAAI,EAAE,OAAO,IAAIkI,EAAExG,EAAK3B,GAAE,GAAEgI,EAAElI,EAAEG,GAAGL,EAAEM,KAAK8H,GAAGnH,KAAK+K,YAAYhM,GAAGiB,KAAKiK,cAAc,OAAO3C,EAAExH,EAAEH,YAAO,EAAO2H,EAAE9H,MAASQ,KAAKiK,cAAc,OAAOnJ,EAAEhB,EAAEH,YAAO,EAAOmB,EAAEtB,IAAIQ,KAAKqD,oBAAmB,mBAAmBjE,GAAG,MAAME,EAAEF,EAAE+R,cAAc,cAAc9M,YAAYvF,GAAGQ,EAAEQ,GAAGhB,EAAEgB,GAAGE,KAAK6G,iBAAiBhB,SAASzG,GAAGqK,GAAGrK,KAAKE,EAAE+E,YAAYvE,EAAEV,EAAE8R,kBAAkB,cAAc9R,GAAG,MAAME,EAAEF,EAAE+R,cAAc,cAAc7R,IAAIA,EAAE8B,MAAM9B,EAAE8B,MAAMhC,EAAE8R,kBAAkB,eAAe9R,GAAG,MAAME,EAAEF,EAAE+R,cAAcrS,EAAEQ,EAAE,eAAeQ,EAAER,EAAE,aAAa,WAAWR,EAAEI,OAAOJ,EAAEuB,OAAOvB,EAAEuB,OAAOL,KAAK+L,cAAcjN,EAAEgB,GAAGV,EAAE8R,kBAAkB,kBAAkB9R,GAAG,MAAME,EAAEF,EAAE+R,cAAcrS,EAAEQ,EAAEiS,aAAa,0BAA0BzR,EAAER,EAAE,aAAaR,IAAIuK,GAAGC,WAAWxJ,EAAEc,UAAUd,EAAEc,SAASd,EAAEc,SAASxB,EAAE8R,kBAAkB,qBAAqB9R,GAAG,MAAME,EAAEF,EAAE+R,cAAc,aAAa7R,EAAE8B,MAAM9B,EAAE8B,KAAKhC,EAAE8R,kBAAkB,iBAAiB9R,GAAGA,EAAE8R,kBAAkB,MAAM5G,yBAAyBhL,EAAEkL,cAAc1L,GAAGkB,KAAKF,EAAER,IAAIF,EAAEoS,SAASpS,EAAEqS,SAAShS,EAAEL,EAAE+R,cAAc,aAAa3L,EAAE,EAAE/F,EAAEX,IAAI0I,OAAO9B,GAAG5G,EAAE,IAAIgB,EAAE,OAAO4F,GAAKF,GAAG,IAAIE,OAAsCF,EAAE1G,EAAEgH,OAAON,GAAG1G,EAAEsE,IAAI3D,KAAtDX,EAAEiH,iBAAiBjH,EAAEsE,IAAI3D,IAAiC+F,EAAE1G,EAAEgH,OAAON,GAAG1G,EAAEsE,IAAI3D,MAAK,OAAE,EAAC,WAAKoK,GAAGhJ,UAAU,oBAAe,IAAQ,OAAE,EAAC,WAAKgJ,GAAGhJ,UAAU,iBAAY,IAAQ,OAAE,EAAC,WAAI,UAAKgJ,GAAGhJ,UAAU,qBAAgB,IAAQ,OAAE,EAAC,QAAE,CAAC6Q,QAAQ,CAACC,OAAO,uBAAuBC,aAAY,MAAO/H,GAAGhJ,UAAU,aAAQ,IAAQ,OAAE,EAAC,OAAE,sCAAqC,UAAKgJ,GAAGhJ,UAAU,+BAA0B,IAAQ,OAAE,EAAC,WAAI,UAAI,OAAE,yCAAyCgJ,GAAGhJ,UAAU,gBAAW,IAAQ,OAAE,EAAC,WAAI,UAAI,OAAE,oBAAoBgJ,GAAGhJ,UAAU,sBAAiB,IAAQ,OAAE,EAAC,WAAKgJ,GAAGhJ,UAAU,gCAA2B,IAAQ,OAAE,EAAC,OAAE,+BAA8B,UAAKgJ,GAAGhJ,UAAU,wBAAmB,IAAQ,OAAE,EAAC,WAAI,UAAKgJ,GAAGhJ,UAAU,wBAAmB,IAAQ,OAAE,EAAC,WAAI,UAAKgJ,GAAGhJ,UAAU,qBAAgB,IAAQ,OAAE,EAAC,WAAI,UAAKgJ,GAAGhJ,UAAU,0BAA0B,OAAM,OAAE,EAAC,OAAE,mBAAkB,UAAKgJ,GAAGhJ,UAAU,YAAO,IAAQ,OAAE,EAAC,OAAE,mBAAkB,QAAE,CAAC3B,KAAK,KAAI,OAAE,oBAAoB2K,GAAGhJ,UAAU,iBAAY,IAAQ,OAAE,EAAC,WAAI,UAAKgJ,GAAGhJ,UAAU,uBAAkB,IAAQ,OAAE,EAAC,OAAE,oBAAoBgJ,GAAGhJ,UAAU,sBAAsB,OAAM,OAAE,EAAC,OAAE,4BAA4BgJ,GAAGhJ,UAAU,gBAAgB,OAAM,OAAE,EAAC,UAAKgJ,GAAGhJ,UAAU,qBAAqB,OAAM,OAAE,EAAC,UAAKgJ,GAAGhJ,UAAU,gBAAgB,OAAM,OAAE,EAAC,UAAKgJ,GAAGhJ,UAAU,iBAAiB,OAAM,OAAE,EAAC,UAAKgJ,GAAGhJ,UAAU,oBAAoB,OAAM,OAAE,EAAC,UAAKgJ,GAAGhJ,UAAU,uBAAuB,OAAM,OAAE,EAAC,UAAKgJ,GAAGhJ,UAAU,mBAAmB,MAAMgJ,IAAG,OAAE,EAAC,OAAE,2BAA2BA,IAAc,SAAHA,I,ivCCHz4lB,IAAIgI,EAAc7R,MAAQA,KAAK6R,YAAe,SAAUC,EAAYV,EAAQlP,EAAK6P,GAC7E,IAA2H5S,EAAvHgI,EAAI6K,UAAUxK,OAAQ/H,EAAI0H,EAAI,EAAIiK,EAAkB,OAATW,EAAgBA,EAAOzD,OAAO2D,yBAAyBb,EAAQlP,GAAO6P,EACrH,GAAuB,YAAnB,oBAAOG,QAAP,cAAOA,WAAoD,mBAArBA,QAAQC,SAAyB1S,EAAIyS,QAAQC,SAASL,EAAYV,EAAQlP,EAAK6P,QACpH,IAAK,IAAIjT,EAAIgT,EAAWtK,OAAS,EAAG1I,GAAK,EAAGA,KAASK,EAAI2S,EAAWhT,MAAIW,GAAK0H,EAAI,EAAIhI,EAAEM,GAAK0H,EAAI,EAAIhI,EAAEiS,EAAQlP,EAAKzC,GAAKN,EAAEiS,EAAQlP,KAASzC,GAChJ,OAAO0H,EAAI,GAAK1H,GAAK6O,OAAO8D,eAAehB,EAAQlP,EAAKzC,GAAIA,GAE5D4S,EAAmBrS,MAAQA,KAAKqS,iBAAoB,SAAUC,GAC9D,OAAQA,GAAOA,EAAIC,WAAcD,EAAM,CAAE,QAAWA,IAExDhE,OAAO8D,eAAeI,EAAS,aAAc,CAAEnS,OAAO,IACtD,IAAMoS,EAAeC,EAAQ,OACvBC,EAAWD,EAAQ,OACnBE,EAAWP,EAAgBK,EAAQ,QACnCG,EAAoBR,EAAgBK,EAAQ,QAClDA,EAAQ,OACR,IAAMI,EACI,0BAENC,EAAM,a,kOAAA,U,MAAA,OACN,WAAYC,GAAY,a,4FAAA,UACpB,cAAMA,IACDvI,UAAY,IAAIoI,EAAiB,QACtC,EAAKI,aAAe,SAAC5S,GACjB,EAAK6S,UAAUrM,iBAAiBhB,SAAQ,SAACoB,GACrC,GAAwB,UAApBA,EAAKtH,MAAMT,KAAkB,CAC7B,IAUmB,QAVfkC,GAAO,EAUX,GATA6F,EAAKtH,MAAMC,OAAOiG,SAAQ,SAAClG,GACnBA,EAAMgB,MAAMwS,cAAc1L,SAASpH,EAAM8S,gBACzCxT,EAAMX,SAAW,OACjBoC,GAAO,GAGPzB,EAAMX,SAAW,UAGpBqB,EAAMmH,OAMN,GAAKpG,EAML,aACD6F,EAAK7F,MAAO,EACZ,UAAAgS,SACKC,cADL,wBACoCpM,EAAKzH,IADzC,sCAEM8T,qBAFN,mBAEqBA,qBAFrB,mBAEoCA,qBAFpC,SAEmDC,gBAAgB,cAVvD,aACZtM,EAAK7F,MAAO,EACZ,UAAAgS,SACKC,cADL,wBACoCpM,EAAKzH,IADzC,sCAEM8T,qBAFN,mBAEqBA,qBAFrB,mBAEoCA,qBAFpC,SAEmDE,aAAa,SAAU,SAT1EvM,EAAK7F,MAAO,EACZ,UAAAgS,SACKC,cADL,wBACoCpM,EAAKzH,IADzC,sCAEM8T,qBAFN,mBAEqBA,qBAFrB,mBAEoCA,qBAFpC,SAEmDC,gBAAgB,eAiBnF,EAAKE,cAAgB,SAACC,GAClBA,EAAMC,iBAAiB,SAAS,SAACvU,GAAM,MACnC,EAAK6T,aAAa7T,EAAEgS,OAAO/Q,OAC3B,UAAAqT,EACKL,cAAc,sCADnB,SAEMM,iBAAiB,QAAS,EAAKC,WAAY,CAAEC,SAAS,MAC7D,CAAEA,SAAS,KAElB,EAAKD,WAAa,WAAM,MACpB,EAAKX,aAAa,IAClB,UAAAG,SACKC,cAAc,mDADnB,SAEMS,oBAAoB,QAAS,EAAKF,aAE5C,EAAKG,OAAS,aAnDM,EADlB,O,EAAA,G,EAAA,qBAiEN,WACI,OAAQpB,EAASqB,IAAI,MAAO,CAAElS,MAAOgR,GACjCH,EAASqB,IAAI,MAAO,CAAElS,MAAO,eACzB6Q,EAASqB,IAAI,gBAAiB,CAAEC,WAAW,EAAMC,YAAa,uBAAwBC,MAAO,IAAK5R,YAAavC,KAAKyT,cAAehT,GAAI,gBACvIkS,EAASqB,IAAI,iBAAkB,CAAE,aAAc,WAAYG,MAAO,IAAKC,MAAO,QAAS9R,KAAMtC,KAAM8M,QAAS9M,KAAK+T,UACrHpB,EAASqB,IAAI,MAAO,CAAEvT,GAAI,eAAgB8B,YAAavC,KAAKyK,UAAU4J,4B,2BAtExE,GAAwBzB,EAAQ,SAyE1Cf,EAAW,CACPY,EAAaf,QAAQ,mBACtBqB,EAAOlS,UAAW,YAAQ,GAC7BgR,EAAW,CACPY,EAAaf,QAAQ,wBACtBqB,EAAOlS,UAAW,iBAAa,GAClCgR,EAAW,CACPY,EAAa6B,SAAS,CAClBpV,KAAM2T,EAAiB,UAE3BF,EAAS4B,cACVxB,EAAOlS,UAAW,iBAAa,GAClCkS,EAASlB,EAAW,CAChBY,EAAa+B,SAAS,uBACvBzB,GACHP,EAAQxP,QAAU+P,G,ovCC1GlB,IAAIlB,EAAc7R,MAAQA,KAAK6R,YAAe,SAAUC,EAAYV,EAAQlP,EAAK6P,GAC7E,IAA2H5S,EAAvHgI,EAAI6K,UAAUxK,OAAQ/H,EAAI0H,EAAI,EAAIiK,EAAkB,OAATW,EAAgBA,EAAOzD,OAAO2D,yBAAyBb,EAAQlP,GAAO6P,EACrH,GAAuB,YAAnB,oBAAOG,QAAP,cAAOA,WAAoD,mBAArBA,QAAQC,SAAyB1S,EAAIyS,QAAQC,SAASL,EAAYV,EAAQlP,EAAK6P,QACpH,IAAK,IAAIjT,EAAIgT,EAAWtK,OAAS,EAAG1I,GAAK,EAAGA,KAASK,EAAI2S,EAAWhT,MAAIW,GAAK0H,EAAI,EAAIhI,EAAEM,GAAK0H,EAAI,EAAIhI,EAAEiS,EAAQlP,EAAKzC,GAAKN,EAAEiS,EAAQlP,KAASzC,GAChJ,OAAO0H,EAAI,GAAK1H,GAAK6O,OAAO8D,eAAehB,EAAQlP,EAAKzC,GAAIA,GAE5D4S,EAAmBrS,MAAQA,KAAKqS,iBAAoB,SAAUC,GAC9D,OAAQA,GAAOA,EAAIC,WAAcD,EAAM,CAAE,QAAWA,IAExDhE,OAAO8D,eAAeI,EAAS,aAAc,CAAEnS,OAAO,IACtD,IAAMoU,EAAapC,EAAgBK,EAAQ,QACrCgC,EAAcrC,EAAgBK,EAAQ,OACtCD,EAAeC,EAAQ,OACvBiC,EAAejC,EAAQ,OACzBkC,EAAe,a,kOAAA,U,MAAA,OACf,WAAYC,GAAQ,a,4FAAA,UAChB,cAAMA,IACDC,eAAiB,SAACzU,EAAOI,GAC1B,EAAKuB,KAAKW,IAAIoS,cAActU,GAAIuU,QAAU3U,GAE9C,EAAKgU,oBAAsB,WACvBM,EAAaM,gBAAb,KAAmC,OAAQ,EAAKC,KAAK5S,KAAV,QAN/B,EADL,O,EAAA,G,EAAA,mBAUf,SAAKN,GACDhC,KAAKkT,UAAY,IAAIwB,EAAW,QAAS,CACrC1S,KAAMA,EACNmT,UAAW,eACX5K,kBAAkB,EAClBD,0BAA0B,EAC1B1D,wBAAyB,SAAUwO,GAC/B,IAAMnO,EAAOmO,EAAMnO,KACnB,GAAuB,SAAnBA,EAAKtH,MAAMT,KAAiB,CAC5B,IAAM+E,EAASmP,SAASiC,cAAc,kBACtCpR,EAAOuP,aAAa,MAAO,KAC3BvP,EAAOuP,aAAa,MAAO,OAC3BvP,EAAOuP,aAAa,YAAa,MACjCvP,EAAOuP,aAAa,YAAa,QACjCvP,EAAOuP,aAAa,gBAAiB,IACrCvP,EAAOuP,aAAa,QAAS8B,KAAKC,MAA4B,KAAtBtO,aAAA,EAAAA,EAAMtH,MAAMqV,UAAe3G,YACnEpK,EAAOuP,aAAa,OAAQvM,EAAKtH,MAAMc,IACvCwD,EAAO0P,iBAAiB,uBAAuB,SAACyB,GAAU,MACtDpT,EAAKW,IAAIoS,cAAcK,EAAMhE,OAAOG,aAAa,SAASyD,QACtDM,KAAKC,MAAMC,SAASJ,SAAD,UAACA,EAAOhE,cAAR,aAAC,EAAeG,aAAa,WAAa,MAClE,CAAEsC,SAAS,IACd5M,EAAKvC,MAAQ,CACTzD,QAAS,CAACgD,EAAQ,UAClB7C,KAAM6F,EAAKtH,MAAMiB,kB,2BAjCtB,GAAiC6T,EAAU,SAwC9D5C,EAAW,CACPY,EAAa6B,YACdM,EAAgB/T,UAAW,YAAQ,GACtCgR,EAAW,CACPY,EAAa6B,YACdM,EAAgB/T,UAAW,iBAAa,GAC3C+T,EAAkB/C,EAAW,CACzBY,EAAa+B,SAAS,uCACvBI,GACHpC,EAAQxP,QAAU4R,G,iFC7Dda,E,MAA0B,GAA4B,KAE1DA,EAAwBnN,KAAK,CAACoN,EAAOjV,GAAI,6BAA8B,GAAG,CAAC,QAAU,EAAE,QAAU,CAAC,qDAAqD,MAAQ,GAAG,SAAW,iBAAiB,eAAiB,CAAC,uCAAuC,WAAa,MAEpQ,W,6BCDA,SAASkV,EAAQC,GAWf,OATED,EADoB,mBAAXE,QAAoD,iBAApBA,OAAOC,SACtC,SAAUF,GAClB,cAAcA,GAGN,SAAUA,GAClB,OAAOA,GAAyB,mBAAXC,QAAyBD,EAAIG,cAAgBF,QAAUD,IAAQC,OAAOhV,UAAY,gBAAkB+U,IAI9GA,GAGjB,SAASI,EAAgBJ,EAAK1T,EAAK7B,GAYjC,OAXI6B,KAAO0T,EACTtH,OAAO8D,eAAewD,EAAK1T,EAAK,CAC9B7B,MAAOA,EACP4V,YAAY,EACZC,cAAc,EACdC,UAAU,IAGZP,EAAI1T,GAAO7B,EAGNuV,EAGT,SAASQ,IAeP,OAdAA,EAAW9H,OAAOC,QAAU,SAAU6C,GACpC,IAAK,IAAItS,EAAI,EAAGA,EAAIkT,UAAUxK,OAAQ1I,IAAK,CACzC,IAAI6S,EAASK,UAAUlT,GAEvB,IAAK,IAAIoD,KAAOyP,EACVrD,OAAOzN,UAAUsE,eAAe0C,KAAK8J,EAAQzP,KAC/CkP,EAAOlP,GAAOyP,EAAOzP,IAK3B,OAAOkP,IAGOiF,MAAMrW,KAAMgS,WAG9B,SAASsE,EAAclF,GACrB,IAAK,IAAItS,EAAI,EAAGA,EAAIkT,UAAUxK,OAAQ1I,IAAK,CACzC,IAAI6S,EAAyB,MAAhBK,UAAUlT,GAAakT,UAAUlT,GAAK,GAC/CyX,EAAUjI,OAAOkI,KAAK7E,GAEkB,mBAAjCrD,OAAOmI,wBAChBF,EAAUA,EAAQG,OAAOpI,OAAOmI,sBAAsB9E,GAAQ1L,QAAO,SAAU0Q,GAC7E,OAAOrI,OAAO2D,yBAAyBN,EAAQgF,GAAKV,gBAIxDM,EAAQ1Q,SAAQ,SAAU3D,GACxB8T,EAAgB5E,EAAQlP,EAAKyP,EAAOzP,OAIxC,OAAOkP,EAkBT,SAASwF,EAAyBjF,EAAQkF,GACxC,GAAc,MAAVlF,EAAgB,MAAO,GAE3B,IAEIzP,EAAKpD,EAFLsS,EAlBN,SAAuCO,EAAQkF,GAC7C,GAAc,MAAVlF,EAAgB,MAAO,GAC3B,IAEIzP,EAAKpD,EAFLsS,EAAS,GACT0F,EAAaxI,OAAOkI,KAAK7E,GAG7B,IAAK7S,EAAI,EAAGA,EAAIgY,EAAWtP,OAAQ1I,IACjCoD,EAAM4U,EAAWhY,GACb+X,EAAStX,QAAQ2C,IAAQ,IAC7BkP,EAAOlP,GAAOyP,EAAOzP,IAGvB,OAAOkP,EAMM2F,CAA8BpF,EAAQkF,GAInD,GAAIvI,OAAOmI,sBAAuB,CAChC,IAAIO,EAAmB1I,OAAOmI,sBAAsB9E,GAEpD,IAAK7S,EAAI,EAAGA,EAAIkY,EAAiBxP,OAAQ1I,IACvCoD,EAAM8U,EAAiBlY,GACnB+X,EAAStX,QAAQ2C,IAAQ,GACxBoM,OAAOzN,UAAUoW,qBAAqBpP,KAAK8J,EAAQzP,KACxDkP,EAAOlP,GAAOyP,EAAOzP,IAIzB,OAAOkP,E,mBAyBT,SAAS8F,EAAUC,GACjB,GAAsB,oBAAXC,QAA0BA,OAAOC,UAC1C,QAEAA,UAAUH,UAAUI,MAAMH,GAI9B,IAAII,EAAaL,EAAU,yDACvBM,EAAON,EAAU,SACjBO,EAAUP,EAAU,YACpBQ,EAASR,EAAU,aAAeA,EAAU,aAAeA,EAAU,YACrES,EAAMT,EAAU,mBAChBU,EAAmBV,EAAU,YAAcA,EAAU,YAErDW,EAAc,CAChBC,SAAS,EACTjE,SAAS,GAGX,SAASzN,EAAGgF,EAAIgK,EAAO2C,GACrB3M,EAAGuI,iBAAiByB,EAAO2C,GAAKR,GAAcM,GAGhD,SAASG,EAAI5M,EAAIgK,EAAO2C,GACtB3M,EAAG0I,oBAAoBsB,EAAO2C,GAAKR,GAAcM,GAGnD,SAASI,EAET7M,EAEA8M,GACE,GAAKA,EAAL,CAGA,GAFgB,MAAhBA,EAAS,KAAeA,EAAWA,EAASC,UAAU,IAElD/M,EACF,IACE,GAAIA,EAAG6M,QACL,OAAO7M,EAAG6M,QAAQC,GACb,GAAI9M,EAAGgN,kBACZ,OAAOhN,EAAGgN,kBAAkBF,GACvB,GAAI9M,EAAGiN,sBACZ,OAAOjN,EAAGiN,sBAAsBH,GAElC,MAAOpX,GACP,OAAO,EAIX,OAAO,GAGT,SAASwX,EAAgBlN,GACvB,OAAOA,EAAGmN,MAAQnN,IAAOgI,UAAYhI,EAAGmN,KAAKC,SAAWpN,EAAGmN,KAAOnN,EAAGqN,WAGvE,SAASC,EAETtN,EAEA8M,EAEAS,EAAKC,GACH,GAAIxN,EAAI,CACNuN,EAAMA,GAAOvF,SAEb,EAAG,CACD,GAAgB,MAAZ8E,IAAqC,MAAhBA,EAAS,GAAa9M,EAAGqN,aAAeE,GAAOV,EAAQ7M,EAAI8M,GAAYD,EAAQ7M,EAAI8M,KAAcU,GAAcxN,IAAOuN,EAC7I,OAAOvN,EAGT,GAAIA,IAAOuN,EAAK,YAETvN,EAAKkN,EAAgBlN,IAGhC,OAAO,KAGT,IAgWIyN,EAhWAC,EAAU,OAEd,SAASC,EAAY3N,EAAI6E,EAAMjE,GAC7B,GAAIZ,GAAM6E,EACR,GAAI7E,EAAG4N,UACL5N,EAAG4N,UAAUhN,EAAQ,MAAQ,UAAUiE,OAClC,CACL,IAAI1P,GAAa,IAAM6K,EAAG7K,UAAY,KAAK0Y,QAAQH,EAAS,KAAKG,QAAQ,IAAMhJ,EAAO,IAAK,KAC3F7E,EAAG7K,WAAaA,GAAayL,EAAQ,IAAMiE,EAAO,KAAKgJ,QAAQH,EAAS,MAK9E,SAASI,EAAI9N,EAAI+N,EAAMC,GACrB,IAAIC,EAAQjO,GAAMA,EAAGiO,MAErB,GAAIA,EAAO,CACT,QAAY,IAARD,EAOF,OANIhG,SAASkG,aAAelG,SAASkG,YAAYC,iBAC/CH,EAAMhG,SAASkG,YAAYC,iBAAiBnO,EAAI,IACvCA,EAAGoO,eACZJ,EAAMhO,EAAGoO,mBAGK,IAATL,EAAkBC,EAAMA,EAAID,GAE7BA,KAAQE,IAAsC,IAA5BF,EAAK5Z,QAAQ,YACnC4Z,EAAO,WAAaA,GAGtBE,EAAMF,GAAQC,GAAsB,iBAARA,EAAmB,GAAK,OAK1D,SAASK,EAAOrO,EAAIsO,GAClB,IAAIC,EAAoB,GAExB,GAAkB,iBAAPvO,EACTuO,EAAoBvO,OAEpB,EAAG,CACD,IAAIwO,EAAYV,EAAI9N,EAAI,aAEpBwO,GAA2B,SAAdA,IACfD,EAAoBC,EAAY,IAAMD,UAIhCD,IAAatO,EAAKA,EAAGqN,aAGjC,IAAIoB,EAAWzC,OAAO0C,WAAa1C,OAAO2C,iBAAmB3C,OAAO4C,WAAa5C,OAAO6C,YAGxF,OAAOJ,GAAY,IAAIA,EAASF,GAGlC,SAAS9Z,EAAK8Y,EAAKuB,EAASpE,GAC1B,GAAI6C,EAAK,CACP,IAAIwB,EAAOxB,EAAIyB,qBAAqBF,GAChCpb,EAAI,EACJC,EAAIob,EAAK3S,OAEb,GAAIsO,EACF,KAAOhX,EAAIC,EAAGD,IACZgX,EAASqE,EAAKrb,GAAIA,GAItB,OAAOqb,EAGT,MAAO,GAGT,SAASE,IACP,IAAIC,EAAmBlH,SAASkH,iBAEhC,OAAIA,GAGKlH,SAASmH,gBAcpB,SAASC,EAAQpP,EAAIqP,EAA2BC,EAA2BC,EAAWxF,GACpF,GAAK/J,EAAGwP,uBAAyBxP,IAAOgM,OAAxC,CACA,IAAIyD,EAAQC,EAAKC,EAAMC,EAAQC,EAAOC,EAAQC,EAmB9C,GAjBI/P,IAAOgM,QAAUhM,IAAOiP,KAE1BS,GADAD,EAASzP,EAAGwP,yBACCE,IACbC,EAAOF,EAAOE,KACdC,EAASH,EAAOG,OAChBC,EAAQJ,EAAOI,MACfC,EAASL,EAAOK,OAChBC,EAAQN,EAAOM,QAEfL,EAAM,EACNC,EAAO,EACPC,EAAS5D,OAAOgE,YAChBH,EAAQ7D,OAAOiE,WACfH,EAAS9D,OAAOgE,YAChBD,EAAQ/D,OAAOiE,aAGZZ,GAA6BC,IAA8BtP,IAAOgM,SAErEjC,EAAYA,GAAa/J,EAAGqN,YAGvBlB,GACH,GACE,GAAIpC,GAAaA,EAAUyF,wBAA0D,SAAhC1B,EAAI/D,EAAW,cAA2BuF,GAA4D,WAA/BxB,EAAI/D,EAAW,aAA2B,CACpK,IAAImG,EAAgBnG,EAAUyF,wBAE9BE,GAAOQ,EAAcR,IAAMtF,SAAS0D,EAAI/D,EAAW,qBACnD4F,GAAQO,EAAcP,KAAOvF,SAAS0D,EAAI/D,EAAW,sBACrD6F,EAASF,EAAMD,EAAOK,OACtBD,EAAQF,EAAOF,EAAOM,MACtB,aAIKhG,EAAYA,EAAUsD,YAInC,GAAIkC,GAAavP,IAAOgM,OAAQ,CAE9B,IAAImE,EAAW9B,EAAOtE,GAAa/J,GAC/BoQ,EAASD,GAAYA,EAASrU,EAC9BuU,EAASF,GAAYA,EAASpc,EAE9Boc,IAKFP,GAJAF,GAAOW,IAGPP,GAAUO,GAEVR,GAJAF,GAAQS,IACRL,GAASK,IAOb,MAAO,CACLV,IAAKA,EACLC,KAAMA,EACNC,OAAQA,EACRC,MAAOA,EACPE,MAAOA,EACPD,OAAQA,IAYZ,SAASQ,EAAetQ,EAAIuQ,EAAQC,GAKlC,IAJA,IAAIjX,EAASkX,EAA2BzQ,GAAI,GACxC0Q,EAAYtB,EAAQpP,GAAIuQ,GAGrBhX,GAAQ,CACb,IAAIoX,EAAgBvB,EAAQ7V,GAAQiX,GASpC,KANmB,QAAfA,GAAuC,SAAfA,EAChBE,GAAaC,EAEbD,GAAaC,GAGX,OAAOpX,EACrB,GAAIA,IAAW0V,IAA6B,MAC5C1V,EAASkX,EAA2BlX,GAAQ,GAG9C,OAAO,EAYT,SAASqX,EAAS5Q,EAAI6Q,EAAUC,GAK9B,IAJA,IAAIC,EAAe,EACfrd,EAAI,EACJwF,EAAW8G,EAAG9G,SAEXxF,EAAIwF,EAASkD,QAAQ,CAC1B,GAAkC,SAA9BlD,EAASxF,GAAGua,MAAM+C,SAAsB9X,EAASxF,KAAOud,GAASC,OAAShY,EAASxF,KAAOud,GAASE,SAAW7D,EAAQpU,EAASxF,GAAIod,EAAQM,UAAWpR,GAAI,GAAQ,CACpK,GAAI+Q,IAAiBF,EACnB,OAAO3X,EAASxF,GAGlBqd,IAGFrd,IAGF,OAAO,KAUT,SAAS2d,EAAUrR,EAAI8M,GAGrB,IAFA,IAAIwE,EAAOtR,EAAGuR,iBAEPD,IAASA,IAASL,GAASC,OAAkC,SAAzBpD,EAAIwD,EAAM,YAAyBxE,IAAaD,EAAQyE,EAAMxE,KACvGwE,EAAOA,EAAKE,uBAGd,OAAOF,GAAQ,KAWjB,SAASG,EAAMzR,EAAI8M,GACjB,IAAI2E,EAAQ,EAEZ,IAAKzR,IAAOA,EAAGqN,WACb,OAAQ,EAKV,KAAOrN,EAAKA,EAAGwR,wBACqB,aAA9BxR,EAAG0R,SAASC,eAAgC3R,IAAOiR,GAASzW,OAAWsS,IAAYD,EAAQ7M,EAAI8M,IACjG2E,IAIJ,OAAOA,EAUT,SAASG,EAAwB5R,GAC/B,IAAI6R,EAAa,EACbC,EAAY,EACZC,EAAc9C,IAElB,GAAIjP,EACF,EAAG,CACD,IAAImQ,EAAW9B,EAAOrO,GAClBoQ,EAASD,EAASrU,EAClBuU,EAASF,EAASpc,EACtB8d,GAAc7R,EAAGgS,WAAa5B,EAC9B0B,GAAa9R,EAAGiS,UAAY5B,QACrBrQ,IAAO+R,IAAgB/R,EAAKA,EAAGqN,aAG1C,MAAO,CAACwE,EAAYC,GAsBtB,SAASrB,EAA2BzQ,EAAIkS,GAEtC,IAAKlS,IAAOA,EAAGwP,sBAAuB,OAAOP,IAC7C,IAAIkD,EAAOnS,EACPoS,GAAU,EAEd,GAEE,GAAID,EAAKE,YAAcF,EAAKG,aAAeH,EAAKI,aAAeJ,EAAKK,aAAc,CAChF,IAAIC,EAAU3E,EAAIqE,GAElB,GAAIA,EAAKE,YAAcF,EAAKG,cAAqC,QAArBG,EAAQC,WAA4C,UAArBD,EAAQC,YAA0BP,EAAKI,aAAeJ,EAAKK,eAAsC,QAArBC,EAAQE,WAA4C,UAArBF,EAAQE,WAAwB,CACpN,IAAKR,EAAK3C,uBAAyB2C,IAASnK,SAAS4K,KAAM,OAAO3D,IAClE,GAAImD,GAAWF,EAAa,OAAOC,EACnCC,GAAU,UAKPD,EAAOA,EAAK9E,YAErB,OAAO4B,IAeT,SAAS4D,EAAYC,EAAOC,GAC1B,OAAO7I,KAAKC,MAAM2I,EAAMpD,OAASxF,KAAKC,MAAM4I,EAAMrD,MAAQxF,KAAKC,MAAM2I,EAAMnD,QAAUzF,KAAKC,MAAM4I,EAAMpD,OAASzF,KAAKC,MAAM2I,EAAMhD,UAAY5F,KAAKC,MAAM4I,EAAMjD,SAAW5F,KAAKC,MAAM2I,EAAM/C,SAAW7F,KAAKC,MAAM4I,EAAMhD,OAKvN,SAASiD,EAASC,EAAUC,GAC1B,OAAO,WACL,IAAKzF,EAAkB,CACrB,IAAI0F,EAAOvM,UACPwM,EAAQxe,KAEQ,IAAhBue,EAAK/W,OACP6W,EAASxW,KAAK2W,EAAOD,EAAK,IAE1BF,EAAShI,MAAMmI,EAAOD,GAGxB1F,EAAmB4F,YAAW,WAC5B5F,OAAmB,IAClByF,KAUT,SAASI,EAAStT,EAAIuT,EAAGpX,GACvB6D,EAAGgS,YAAcuB,EACjBvT,EAAGiS,WAAa9V,EAGlB,SAAS3B,EAAMwF,GACb,IAAIwT,EAAUxH,OAAOwH,QACjB9V,EAAIsO,OAAOyH,QAAUzH,OAAO0H,MAEhC,OAAIF,GAAWA,EAAQG,IACdH,EAAQG,IAAI3T,GAAI4T,WAAU,GACxBlW,EACFA,EAAEsC,GAAIxF,OAAM,GAAM,GAElBwF,EAAG4T,WAAU,GAoBxB,IAAIC,EAAU,YAAa,IAAIC,MAAOC,UAEtC,SAASC,IACP,IACIC,EADAC,EAAkB,GAEtB,MAAO,CACLC,sBAAuB,YACrBD,EAAkB,GACbtf,KAAKkc,QAAQsD,YACH,GAAGC,MAAM5X,KAAK7H,KAAKoL,GAAG9G,UAC5BuB,SAAQ,SAAU6Z,GACzB,GAA8B,SAA1BxG,EAAIwG,EAAO,YAAyBA,IAAUrD,GAASC,MAA3D,CACAgD,EAAgBhX,KAAK,CACnB8I,OAAQsO,EACRC,KAAMnF,EAAQkF,KAGhB,IAAIE,EAAWtJ,EAAc,GAAIgJ,EAAgBA,EAAgB9X,OAAS,GAAGmY,MAG7E,GAAID,EAAMG,sBAAuB,CAC/B,IAAIC,EAAcrG,EAAOiG,GAAO,GAE5BI,IACFF,EAAS9E,KAAOgF,EAAYpgB,EAC5BkgB,EAAS7E,MAAQ+E,EAAY1gB,GAIjCsgB,EAAME,SAAWA,OAGrBG,kBAAmB,SAA2B/T,GAC5CsT,EAAgBhX,KAAK0D,IAEvBgU,qBAAsB,SAA8B5O,GAClDkO,EAAgB3W,OApJtB,SAAuBsX,EAAKrK,GAC1B,IAAK,IAAI9W,KAAKmhB,EACZ,GAAKA,EAAI9a,eAAerG,GAExB,IAAK,IAAIoD,KAAO0T,EACd,GAAIA,EAAIzQ,eAAejD,IAAQ0T,EAAI1T,KAAS+d,EAAInhB,GAAGoD,GAAM,OAAOge,OAAOphB,GAI3E,OAAQ,EA2ImBqhB,CAAcb,EAAiB,CACpDlO,OAAQA,IACN,IAENgP,WAAY,SAAoB/B,GAC9B,IAAIG,EAAQxe,KAEZ,IAAKA,KAAKkc,QAAQsD,UAGhB,OAFAa,aAAahB,QACW,mBAAbhB,GAAyBA,KAItC,IAAIiC,GAAY,EACZC,EAAgB,EACpBjB,EAAgBzZ,SAAQ,SAAUmG,GAChC,IAAIwU,EAAO,EACPpP,EAASpF,EAAMoF,OACfwO,EAAWxO,EAAOwO,SAClBa,EAASjG,EAAQpJ,GACjBsP,EAAetP,EAAOsP,aACtBC,EAAavP,EAAOuP,WACpBC,EAAgB5U,EAAM2T,KACtBkB,EAAepH,EAAOrI,GAAQ,GAE9ByP,IAEFJ,EAAO3F,KAAO+F,EAAanhB,EAC3B+gB,EAAO1F,MAAQ8F,EAAazhB,GAG9BgS,EAAOqP,OAASA,EAEZrP,EAAOyO,uBAEL5B,EAAYyC,EAAcD,KAAYxC,EAAY2B,EAAUa,KAC/DG,EAAc9F,IAAM2F,EAAO3F,MAAQ8F,EAAc7F,KAAO0F,EAAO1F,QAAW6E,EAAS9E,IAAM2F,EAAO3F,MAAQ8E,EAAS7E,KAAO0F,EAAO1F,QAE9HyF,EA2EZ,SAA2BI,EAAehB,EAAUa,EAAQvE,GAC1D,OAAO5G,KAAKwL,KAAKxL,KAAKyL,IAAInB,EAAS9E,IAAM8F,EAAc9F,IAAK,GAAKxF,KAAKyL,IAAInB,EAAS7E,KAAO6F,EAAc7F,KAAM,IAAMzF,KAAKwL,KAAKxL,KAAKyL,IAAInB,EAAS9E,IAAM2F,EAAO3F,IAAK,GAAKxF,KAAKyL,IAAInB,EAAS7E,KAAO0F,EAAO1F,KAAM,IAAMmB,EAAQsD,UA5E1MwB,CAAkBJ,EAAeF,EAAcC,EAAYnC,EAAMtC,UAKvE+B,EAAYwC,EAAQb,KACvBxO,EAAOsP,aAAed,EACtBxO,EAAOuP,WAAaF,EAEfD,IACHA,EAAOhC,EAAMtC,QAAQsD,WAGvBhB,EAAMyC,QAAQ7P,EAAQwP,EAAeH,EAAQD,IAG3CA,IACFF,GAAY,EACZC,EAAgBjL,KAAKpV,IAAIqgB,EAAeC,GACxCH,aAAajP,EAAO8P,qBACpB9P,EAAO8P,oBAAsBzC,YAAW,WACtCrN,EAAOmP,cAAgB,EACvBnP,EAAOsP,aAAe,KACtBtP,EAAOwO,SAAW,KAClBxO,EAAOuP,WAAa,KACpBvP,EAAOyO,sBAAwB,OAC9BW,GACHpP,EAAOyO,sBAAwBW,MAGnCH,aAAahB,GAERiB,EAGHjB,EAAsBZ,YAAW,WACP,mBAAbJ,GAAyBA,MACnCkC,GAJqB,mBAAblC,GAAyBA,IAOtCiB,EAAkB,IAEpB2B,QAAS,SAAiB7P,EAAQ+P,EAAaV,EAAQW,GACrD,GAAIA,EAAU,CACZlI,EAAI9H,EAAQ,aAAc,IAC1B8H,EAAI9H,EAAQ,YAAa,IACzB,IAAImK,EAAW9B,EAAOzZ,KAAKoL,IACvBoQ,EAASD,GAAYA,EAASrU,EAC9BuU,EAASF,GAAYA,EAASpc,EAC9BkiB,GAAcF,EAAYpG,KAAO0F,EAAO1F,OAASS,GAAU,GAC3D8F,GAAcH,EAAYrG,IAAM2F,EAAO3F,MAAQW,GAAU,GAC7DrK,EAAOmQ,aAAeF,EACtBjQ,EAAOoQ,aAAeF,EACtBpI,EAAI9H,EAAQ,YAAa,eAAiBiQ,EAAa,MAAQC,EAAa,SAkBpF,SAAiBlQ,GACRA,EAAOqQ,YAlBRC,CAAQtQ,GAER8H,EAAI9H,EAAQ,aAAc,aAAegQ,EAAW,MAAQphB,KAAKkc,QAAQyF,OAAS,IAAM3hB,KAAKkc,QAAQyF,OAAS,KAC9GzI,EAAI9H,EAAQ,YAAa,sBACE,iBAApBA,EAAOwQ,UAAyBvB,aAAajP,EAAOwQ,UAC3DxQ,EAAOwQ,SAAWnD,YAAW,WAC3BvF,EAAI9H,EAAQ,aAAc,IAC1B8H,EAAI9H,EAAQ,YAAa,IACzBA,EAAOwQ,UAAW,EAClBxQ,EAAOmQ,YAAa,EACpBnQ,EAAOoQ,YAAa,IACnBJ,MAcX,IAAIS,EAAU,GACVC,EAAW,CACbC,qBAAqB,GAEnBC,EAAgB,CAClBC,MAAO,SAAeC,GAEpB,IAAK,IAAInS,KAAU+R,EACbA,EAAS3c,eAAe4K,MAAaA,KAAUmS,KACjDA,EAAOnS,GAAU+R,EAAS/R,IAI9B8R,EAAQvZ,KAAK4Z,IAEfC,YAAa,SAAqBC,EAAWxd,EAAUyd,GACrD,IAAI7D,EAAQxe,KAEZA,KAAKsiB,eAAgB,EAErBD,EAAIE,OAAS,WACX/D,EAAM8D,eAAgB,GAGxB,IAAIE,EAAkBJ,EAAY,SAClCP,EAAQhc,SAAQ,SAAUqc,GACnBtd,EAASsd,EAAOO,cAEjB7d,EAASsd,EAAOO,YAAYD,IAC9B5d,EAASsd,EAAOO,YAAYD,GAAiBlM,EAAc,CACzD1R,SAAUA,GACTyd,IAKDzd,EAASsX,QAAQgG,EAAOO,aAAe7d,EAASsd,EAAOO,YAAYL,IACrExd,EAASsd,EAAOO,YAAYL,GAAW9L,EAAc,CACnD1R,SAAUA,GACTyd,SAITK,kBAAmB,SAA2B9d,EAAUwG,EAAI0W,EAAU5F,GAYpE,IAAK,IAAInM,KAXT8R,EAAQhc,SAAQ,SAAUqc,GACxB,IAAIO,EAAaP,EAAOO,WACxB,GAAK7d,EAASsX,QAAQuG,IAAgBP,EAAOH,oBAA7C,CACA,IAAIY,EAAc,IAAIT,EAAOtd,EAAUwG,EAAIxG,EAASsX,SACpDyG,EAAY/d,SAAWA,EACvB+d,EAAYzG,QAAUtX,EAASsX,QAC/BtX,EAAS6d,GAAcE,EAEvBvM,EAAS0L,EAAUa,EAAYb,cAGdld,EAASsX,QAC1B,GAAKtX,EAASsX,QAAQ/W,eAAe4K,GAArC,CACA,IAAI6S,EAAW5iB,KAAK6iB,aAAaje,EAAUmL,EAAQnL,EAASsX,QAAQnM,SAE5C,IAAb6S,IACThe,EAASsX,QAAQnM,GAAU6S,KAIjCE,mBAAoB,SAA4B7S,EAAMrL,GACpD,IAAIme,EAAkB,GAMtB,OALAlB,EAAQhc,SAAQ,SAAUqc,GACc,mBAA3BA,EAAOa,iBAElB3M,EAAS2M,EAAiBb,EAAOa,gBAAgBlb,KAAKjD,EAASsd,EAAOO,YAAaxS,OAE9E8S,GAETF,aAAc,SAAsBje,EAAUqL,EAAM5P,GAClD,IAAI2iB,EASJ,OARAnB,EAAQhc,SAAQ,SAAUqc,GAEnBtd,EAASsd,EAAOO,aAEjBP,EAAOe,iBAA2D,mBAAjCf,EAAOe,gBAAgBhT,KAC1D+S,EAAgBd,EAAOe,gBAAgBhT,GAAMpI,KAAKjD,EAASsd,EAAOO,YAAapiB,OAG5E2iB,IAIX,SAASE,EAAcC,GACrB,IAAIve,EAAWue,EAAKve,SAChBwe,EAASD,EAAKC,OACdnT,EAAOkT,EAAKlT,KACZoT,EAAWF,EAAKE,SAChBC,EAAUH,EAAKG,QACfC,EAAOJ,EAAKI,KACZC,EAASL,EAAKK,OACdjY,EAAW4X,EAAK5X,SAChBT,EAAWqY,EAAKrY,SAChB2Y,EAAoBN,EAAKM,kBACzBC,EAAoBP,EAAKO,kBACzBC,EAAgBR,EAAKQ,cACrBC,EAAcT,EAAKS,YACnBC,EAAuBV,EAAKU,qBAEhC,GADAjf,EAAWA,GAAYwe,GAAUA,EAAOnE,GACxC,CACA,IAAIoD,EACAnG,EAAUtX,EAASsX,QACnB4H,EAAS,KAAO7T,EAAK8T,OAAO,GAAGhH,cAAgB9M,EAAK+T,OAAO,IAE3D5M,OAAO6M,aAAgB1M,GAAeC,GAMxC6K,EAAMjP,SAAS8Q,YAAY,UACvBC,UAAUlU,GAAM,GAAM,GAN1BoS,EAAM,IAAI4B,YAAYhU,EAAM,CAC1BmU,SAAS,EACTC,YAAY,IAOhBhC,EAAIzX,GAAK2Y,GAAQH,EACjBf,EAAIxX,KAAO2Y,GAAUJ,EACrBf,EAAIpb,KAAOoc,GAAYD,EACvBf,EAAIzc,MAAQ0d,EACZjB,EAAI9W,SAAWA,EACf8W,EAAIvX,SAAWA,EACfuX,EAAIoB,kBAAoBA,EACxBpB,EAAIqB,kBAAoBA,EACxBrB,EAAIsB,cAAgBA,EACpBtB,EAAIiC,SAAWV,EAAcA,EAAYW,iBAAcC,EAEvD,IAAIC,EAAqBnO,EAAc,GAAIuN,EAAsB7B,EAAcc,mBAAmB7S,EAAMrL,IAExG,IAAK,IAAImL,KAAU0U,EACjBpC,EAAItS,GAAU0U,EAAmB1U,GAG/BqT,GACFA,EAAOF,cAAcb,GAGnBnG,EAAQ4H,IACV5H,EAAQ4H,GAAQjc,KAAKjD,EAAUyd,IAInC,IAAIF,EAAc,SAAqBC,EAAWxd,GAChD,IAAIue,EAAOnR,UAAUxK,OAAS,QAAsBgd,IAAjBxS,UAAU,GAAmBA,UAAU,GAAK,GAC3E2R,EAAgBR,EAAKd,IACrBqC,EAAO9N,EAAyBuM,EAAM,CAAC,QAE3CnB,EAAcG,YAAY7f,KAAK+Z,GAA/B2F,CAAyCI,EAAWxd,EAAU0R,EAAc,CAC1EqO,OAAQA,EACRC,SAAUA,EACVC,QAASA,EACTzB,OAAQA,EACR0B,OAAQA,EACRC,WAAYA,EACZzB,QAASA,EACT0B,YAAaA,GACbC,YAAaC,GACbtB,YAAaA,GACbuB,eAAgB9I,GAAS/b,OACzBqjB,cAAeA,EACfpY,SAAUA,GACVkY,kBAAmBA,GACnB3Y,SAAUA,GACV4Y,kBAAmBA,GACnB0B,mBAAoBC,GACpBC,qBAAsBC,GACtBC,eAAgB,WACdR,IAAc,GAEhBS,cAAe,WACbT,IAAc,GAEhBU,sBAAuB,SAA+BzV,GACpD0V,EAAe,CACb/gB,SAAUA,EACVqL,KAAMA,EACN0T,cAAeA,MAGlBe,KAGL,SAASiB,EAAeC,GACtB1C,EAAc5M,EAAc,CAC1BsN,YAAaA,GACbN,QAASA,EACTD,SAAUsB,EACVvB,OAAQA,EACR7X,SAAUA,GACVkY,kBAAmBA,GACnB3Y,SAAUA,GACV4Y,kBAAmBA,IAClBkC,IAGL,IAAIjB,EACAC,EACAC,EACAzB,EACA0B,EACAC,EACAzB,EACA0B,GACAzZ,GACAT,GACA2Y,GACAC,GACAmC,GACAjC,GAIAkC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAjB,GACAkB,GACAC,GAGAC,GAEJC,GAhBIC,IAAsB,EACtBC,IAAkB,EAClBC,GAAY,GAUZC,IAAwB,EACxBC,IAAyB,EAIzBC,GAAmC,GAEvCC,IAAU,EACNC,GAAoB,GAGpBC,GAAqC,oBAAb5T,SACxB6T,GAA0BtP,EAC1BuP,GAAmB1P,GAAQD,EAAa,WAAa,QAEzD4P,GAAmBH,KAAmBpP,IAAqBD,GAAO,cAAevE,SAASiC,cAAc,OACpG+R,GAA0B,WAC5B,GAAKJ,GAAL,CAEA,GAAIzP,EACF,OAAO,EAGT,IAAInM,EAAKgI,SAASiC,cAAc,KAEhC,OADAjK,EAAGiO,MAAMgO,QAAU,sBACe,SAA3Bjc,EAAGiO,MAAMiO,eATY,GAW1BC,GAAmB,SAA0Bnc,EAAI8Q,GACnD,IAAIsL,EAAQtO,EAAI9N,GACZqc,EAAUjS,SAASgS,EAAMrM,OAAS3F,SAASgS,EAAME,aAAelS,SAASgS,EAAMG,cAAgBnS,SAASgS,EAAMI,iBAAmBpS,SAASgS,EAAMK,kBAChJC,EAAS9L,EAAS5Q,EAAI,EAAG8Q,GACzB6L,EAAS/L,EAAS5Q,EAAI,EAAG8Q,GACzB8L,EAAgBF,GAAU5O,EAAI4O,GAC9BG,EAAiBF,GAAU7O,EAAI6O,GAC/BG,EAAkBF,GAAiBxS,SAASwS,EAAcG,YAAc3S,SAASwS,EAAcI,aAAe5N,EAAQsN,GAAQ3M,MAC9HkN,EAAmBJ,GAAkBzS,SAASyS,EAAeE,YAAc3S,SAASyS,EAAeG,aAAe5N,EAAQuN,GAAQ5M,MAEtI,GAAsB,SAAlBqM,EAAMpL,QACR,MAA+B,WAAxBoL,EAAMc,eAAsD,mBAAxBd,EAAMc,cAAqC,WAAa,aAGrG,GAAsB,SAAlBd,EAAMpL,QACR,OAAOoL,EAAMe,oBAAoBC,MAAM,KAAKhhB,QAAU,EAAI,WAAa,aAGzE,GAAIsgB,GAAUE,EAAqB,OAAgC,SAA3BA,EAAqB,MAAc,CACzE,IAAIS,EAAgD,SAA3BT,EAAqB,MAAe,OAAS,QACtE,OAAOD,GAAoC,SAAzBE,EAAepY,OAAoBoY,EAAepY,QAAU4Y,EAAmC,aAAb,WAGtG,OAAOX,IAAqC,UAA1BE,EAAc5L,SAAiD,SAA1B4L,EAAc5L,SAAgD,UAA1B4L,EAAc5L,SAAiD,SAA1B4L,EAAc5L,SAAsB8L,GAAmBT,GAAuC,SAA5BD,EAAMN,KAAgCa,GAAsC,SAA5BP,EAAMN,KAAgCgB,EAAkBG,EAAmBZ,GAAW,WAAa,cAiCnViB,GAAgB,SAAuBxM,GACzC,SAASyM,EAAKtoB,EAAO6P,GACnB,OAAO,SAAUtF,EAAIC,EAAM8Z,EAAQtC,GACjC,IAAIuG,EAAYhe,EAAGsR,QAAQjR,MAAMgF,MAAQpF,EAAKqR,QAAQjR,MAAMgF,MAAQrF,EAAGsR,QAAQjR,MAAMgF,OAASpF,EAAKqR,QAAQjR,MAAMgF,KAEjH,GAAa,MAAT5P,IAAkB6P,GAAQ0Y,GAG5B,OAAO,EACF,GAAa,MAATvoB,IAA2B,IAAVA,EAC1B,OAAO,EACF,GAAI6P,GAAkB,UAAV7P,EACjB,OAAOA,EACF,GAAqB,mBAAVA,EAChB,OAAOsoB,EAAKtoB,EAAMuK,EAAIC,EAAM8Z,EAAQtC,GAAMnS,EAAnCyY,CAAyC/d,EAAIC,EAAM8Z,EAAQtC,GAElE,IAAIwG,GAAc3Y,EAAOtF,EAAKC,GAAMqR,QAAQjR,MAAMgF,KAClD,OAAiB,IAAV5P,GAAmC,iBAAVA,GAAsBA,IAAUwoB,GAAcxoB,EAAMyoB,MAAQzoB,EAAMd,QAAQspB,IAAe,GAK/H,IAAI5d,EAAQ,GACR8d,EAAgB7M,EAAQjR,MAEvB8d,GAA2C,UAA1BpT,EAAQoT,KAC5BA,EAAgB,CACd9Y,KAAM8Y,IAIV9d,EAAMgF,KAAO8Y,EAAc9Y,KAC3BhF,EAAM+d,UAAYL,EAAKI,EAAc7Y,MAAM,GAC3CjF,EAAMge,SAAWN,EAAKI,EAAc5Y,KACpClF,EAAMie,YAAcH,EAAcG,YAClChN,EAAQjR,MAAQA,GAEdoa,GAAsB,YACnB+B,IAA2BvC,GAC9B3L,EAAI2L,EAAS,UAAW,SAGxBU,GAAwB,YACrB6B,IAA2BvC,GAC9B3L,EAAI2L,EAAS,UAAW,KAKxBmC,IACF5T,SAASO,iBAAiB,SAAS,SAAU0O,GAC3C,GAAIoE,GAKF,OAJApE,EAAI8G,iBACJ9G,EAAInR,iBAAmBmR,EAAInR,kBAC3BmR,EAAI+G,0BAA4B/G,EAAI+G,2BACpC3C,IAAkB,GACX,KAER,GAGL,IAAI4C,GAAgC,SAAuChH,GACzE,GAAIsC,EAAQ,CACVtC,EAAMA,EAAIiH,QAAUjH,EAAIiH,QAAQ,GAAKjH,EAErC,IAAIkH,GAhF2D5K,EAgFrB0D,EAAImH,QAhFoBjiB,EAgFX8a,EAAIoH,QA9E7D/C,GAAUpjB,MAAK,SAAUsB,GACvB,IAAI6X,EAAU7X,GAAd,CACA,IAAI+a,EAAOnF,EAAQ5V,GACf8kB,EAAY9kB,EAASqa,GAAS/C,QAAQyN,qBACtCC,EAAqBjL,GAAKgB,EAAK5E,KAAO2O,GAAa/K,GAAKgB,EAAK1E,MAAQyO,EACrEG,EAAmBtiB,GAAKoY,EAAK7E,IAAM4O,GAAaniB,GAAKoY,EAAK3E,OAAS0O,EAEvE,OAAIA,GAAaE,GAAsBC,EAC9BC,EAAMllB,OADf,MAIKklB,GAqEL,GAAIP,EAAS,CAEX,IAAInU,EAAQ,GAEZ,IAAK,IAAItW,KAAKujB,EACRA,EAAIld,eAAerG,KACrBsW,EAAMtW,GAAKujB,EAAIvjB,IAInBsW,EAAMhE,OAASgE,EAAMgO,OAASmG,EAC9BnU,EAAM+T,oBAAiB,EACvB/T,EAAMlE,qBAAkB,EAExBqY,EAAQtK,GAAS8K,YAAY3U,IAhGL,IAAqCuJ,EAAGpX,EAChEuiB,GAoGFE,GAAwB,SAA+B3H,GACrDsC,GACFA,EAAOlM,WAAWwG,GAASgL,iBAAiB5H,EAAIjR,SAUpD,SAASiL,GAASjR,EAAI8Q,GACpB,IAAM9Q,IAAMA,EAAGoN,UAA4B,IAAhBpN,EAAGoN,SAC5B,KAAM,8CAA8C9B,OAAO,GAAGrI,SAASxG,KAAKuD,IAG9EpL,KAAKoL,GAAKA,EAEVpL,KAAKkc,QAAUA,EAAU9F,EAAS,GAAI8F,GAEtC9Q,EAAG6T,GAAWjf,KACd,IAAI8hB,EAAW,CACb7W,MAAO,KACP5L,MAAM,EACNmB,UAAU,EACV0pB,MAAO,KACPC,OAAQ,KACR3N,UAAW,WAAW4N,KAAKhf,EAAG0R,UAAY,MAAQ,KAClDuN,cAAe,EAEfC,YAAY,EAEZC,sBAAuB,KAEvBC,mBAAmB,EACnBC,UAAW,WACT,OAAOlD,GAAiBnc,EAAIpL,KAAKkc,UAEnCwO,WAAY,iBACZna,YAAa,kBACboa,UAAW,gBACXC,OAAQ,SACR3kB,OAAQ,KACR4kB,iBAAiB,EACjBrL,UAAW,EACXmC,OAAQ,KACRmJ,QAAS,SAAiBC,EAAcpG,GACtCoG,EAAaD,QAAQ,OAAQnG,EAAOqG,cAEtCC,YAAY,EACZC,gBAAgB,EAChBlb,WAAY,UACZmb,MAAO,EACPC,kBAAkB,EAClBC,qBAAsBnL,OAAO1K,SAAW0K,OAAS9I,QAAQ5B,SAAS4B,OAAOkU,iBAAkB,KAAO,EAClGC,eAAe,EACfC,cAAe,oBACfC,gBAAgB,EAChBrb,kBAAmB,EACnBsb,eAAgB,CACd/M,EAAG,EACHpX,EAAG,GAELokB,gBAA4C,IAA5BtP,GAASsP,gBAA4B,iBAAkBvU,OACvEuS,qBAAsB,GAIxB,IAAK,IAAI1Z,KAFT+R,EAAcU,kBAAkB1iB,KAAMoL,EAAI0W,GAEzBA,IACb7R,KAAQiM,KAAaA,EAAQjM,GAAQ6R,EAAS7R,IAMlD,IAAK,IAAI8H,KAHT2Q,GAAcxM,GAGClc,KACQ,MAAjB+X,EAAGgM,OAAO,IAAkC,mBAAb/jB,KAAK+X,KACtC/X,KAAK+X,GAAM/X,KAAK+X,GAAIzV,KAAKtC,OAK7BA,KAAK4rB,iBAAkB1P,EAAQqP,eAAwBpE,GAEnDnnB,KAAK4rB,kBAEP5rB,KAAKkc,QAAQmP,oBAAsB,GAIjCnP,EAAQyP,eACVvlB,EAAGgF,EAAI,cAAepL,KAAK6rB,cAE3BzlB,EAAGgF,EAAI,YAAapL,KAAK6rB,aACzBzlB,EAAGgF,EAAI,aAAcpL,KAAK6rB,cAGxB7rB,KAAK4rB,kBACPxlB,EAAGgF,EAAI,WAAYpL,MACnBoG,EAAGgF,EAAI,YAAapL,OAGtB0mB,GAAUpe,KAAKtI,KAAKoL,IAEpB8Q,EAAQgO,OAAShO,EAAQgO,MAAMhlB,KAAOlF,KAAKX,KAAK6c,EAAQgO,MAAMhlB,IAAIlF,OAAS,IAE3EoW,EAASpW,KAAMof,KA+pCjB,SAAS0M,GAAQtI,EAAQD,EAAMoB,EAAQoH,EAAU1I,EAAU2I,EAAYrI,EAAesI,GACpF,IAAI5J,EAGA6J,EAFAtnB,EAAW4e,EAAOvE,GAClBkN,EAAWvnB,EAASsX,QAAQkQ,OA2BhC,OAxBIhV,OAAO6M,aAAgB1M,GAAeC,GAMxC6K,EAAMjP,SAAS8Q,YAAY,UACvBC,UAAU,QAAQ,GAAM,GAN5B9B,EAAM,IAAI4B,YAAY,OAAQ,CAC5BG,SAAS,EACTC,YAAY,IAOhBhC,EAAIzX,GAAK2Y,EACTlB,EAAIxX,KAAO2Y,EACXnB,EAAI9F,QAAUoI,EACdtC,EAAIgK,YAAcN,EAClB1J,EAAIiK,QAAUjJ,GAAYE,EAC1BlB,EAAIkK,YAAcP,GAAcxR,EAAQ+I,GACxClB,EAAI4J,gBAAkBA,EACtB5J,EAAIsB,cAAgBA,EACpBH,EAAON,cAAcb,GAEjB8J,IACFD,EAASC,EAAStkB,KAAKjD,EAAUyd,EAAKsB,IAGjCuI,EAGT,SAASM,GAAkBphB,GACzBA,EAAGoR,WAAY,EAGjB,SAASiQ,KACP3F,IAAU,EA6EZ,SAAS4F,GAAYthB,GAKnB,IAJA,IAAIuhB,EAAMvhB,EAAG8O,QAAU9O,EAAG7K,UAAY6K,EAAGwhB,IAAMxhB,EAAGyhB,KAAOzhB,EAAG4f,YACxDlsB,EAAI6tB,EAAInlB,OACRslB,EAAM,EAEHhuB,KACLguB,GAAOH,EAAII,WAAWjuB,GAGxB,OAAOguB,EAAIze,SAAS,IActB,SAAS2e,GAAUjV,GACjB,OAAO0G,WAAW1G,EAAI,GAGxB,SAASkV,GAAgBxsB,GACvB,OAAO4f,aAAa5f,GA3yCtB4b,GAASxb,UAET,CACEkV,YAAasG,GACb4N,iBAAkB,SAA0B7Y,GACrCpR,KAAKoL,GAAG8hB,SAAS9b,IAAWA,IAAWpR,KAAKoL,KAC/Cgb,GAAa,OAGjB+G,cAAe,SAAuB9K,EAAKjR,GACzC,MAAyC,mBAA3BpR,KAAKkc,QAAQuO,UAA2BzqB,KAAKkc,QAAQuO,UAAU5iB,KAAK7H,KAAMqiB,EAAKjR,EAAQuT,GAAU3kB,KAAKkc,QAAQuO,WAE9HoB,YAAa,SAEbxJ,GACE,GAAKA,EAAIgC,WAAT,CAEA,IAAI7F,EAAQxe,KACRoL,EAAKpL,KAAKoL,GACV8Q,EAAUlc,KAAKkc,QACf2O,EAAkB3O,EAAQ2O,gBAC1B3rB,EAAOmjB,EAAInjB,KACXkuB,EAAQ/K,EAAIiH,SAAWjH,EAAIiH,QAAQ,IAAMjH,EAAIgL,aAAmC,UAApBhL,EAAIgL,aAA2BhL,EAC3FjR,GAAUgc,GAAS/K,GAAKjR,OACxBkc,EAAiBjL,EAAIjR,OAAOmc,aAAelL,EAAImL,MAAQnL,EAAImL,KAAK,IAAMnL,EAAIoL,cAAgBpL,EAAIoL,eAAe,KAAOrc,EACpHnL,EAASiW,EAAQjW,OAKrB,GA6vCJ,SAAgCynB,GAC9B3G,GAAkBvf,OAAS,EAC3B,IAAImmB,EAASD,EAAKtT,qBAAqB,SACnCwT,EAAMD,EAAOnmB,OAEjB,KAAOomB,KAAO,CACZ,IAAIxiB,EAAKuiB,EAAOC,GAChBxiB,EAAGyiB,SAAW9G,GAAkBze,KAAK8C,IAvwCrC0iB,CAAuB1iB,IAGnBuZ,KAIA,wBAAwByF,KAAKlrB,IAAwB,IAAfmjB,EAAIte,QAAgBmY,EAAQ1b,UAKlE8sB,EAAeS,oBAInB3c,EAASsH,EAAQtH,EAAQ8K,EAAQM,UAAWpR,GAAI,KAElCgG,EAAOwQ,UAIjBmD,IAAe3T,GAAnB,CASA,GAHA7F,GAAWsR,EAAMzL,GACjBqS,GAAoB5G,EAAMzL,EAAQ8K,EAAQM,WAEpB,mBAAXvW,GACT,GAAIA,EAAO4B,KAAK7H,KAAMqiB,EAAKjR,EAAQpR,MAcjC,OAbA2lB,EAAe,CACb/gB,SAAU4Z,EACV4E,OAAQkK,EACRrd,KAAM,SACNoT,SAAUjS,EACVmS,KAAMnY,EACNoY,OAAQpY,IAGV+W,EAAY,SAAU3D,EAAO,CAC3B6D,IAAKA,SAEPwI,GAAmBxI,EAAIgC,YAAchC,EAAI8G,uBAGtC,GAAIljB,IACTA,EAASA,EAAOuiB,MAAM,KAAKllB,MAAK,SAAU0qB,GAGxC,GAFAA,EAAWtV,EAAQ4U,EAAgBU,EAASC,OAAQ7iB,GAAI,GAetD,OAZAua,EAAe,CACb/gB,SAAU4Z,EACV4E,OAAQ4K,EACR/d,KAAM,SACNoT,SAAUjS,EACVoS,OAAQpY,EACRmY,KAAMnY,IAGR+W,EAAY,SAAU3D,EAAO,CAC3B6D,IAAKA,KAEA,MAMT,YADAwI,GAAmBxI,EAAIgC,YAAchC,EAAI8G,kBAKzCjN,EAAQiO,SAAWzR,EAAQ4U,EAAgBpR,EAAQiO,OAAQ/e,GAAI,IAKnEpL,KAAKkuB,kBAAkB7L,EAAK+K,EAAOhc,MAErC8c,kBAAmB,SAEnB7L,EAEA+K,EAEAhc,GACE,IAII+c,EAJA3P,EAAQxe,KACRoL,EAAKoT,EAAMpT,GACX8Q,EAAUsC,EAAMtC,QAChBkS,EAAgBhjB,EAAGgjB,cAGvB,GAAIhd,IAAWuT,GAAUvT,EAAOqH,aAAerN,EAAI,CACjD,IAAI2gB,EAAWvR,EAAQpJ,GAwEvB,GAvEAgS,EAAShY,EAETwZ,GADAD,EAASvT,GACSqH,WAClBqM,EAASH,EAAO0J,YAChBtJ,EAAa3T,EACbyU,GAAc3J,EAAQjR,MACtBoR,GAASE,QAAUoI,EACnBmB,GAAS,CACP1U,OAAQuT,EACR6E,SAAU4D,GAAS/K,GAAKmH,QACxBC,SAAU2D,GAAS/K,GAAKoH,SAE1BvD,GAAkBJ,GAAO0D,QAAUuC,EAAShR,KAC5CoL,GAAiBL,GAAO2D,QAAUsC,EAASjR,IAC3C9a,KAAKsuB,QAAUlB,GAAS/K,GAAKmH,QAC7BxpB,KAAKuuB,QAAUnB,GAAS/K,GAAKoH,QAC7B9E,EAAOtL,MAAM,eAAiB,MAE9B8U,EAAc,WACZhM,EAAY,aAAc3D,EAAO,CAC/B6D,IAAKA,IAGHhG,GAASiG,cACX9D,EAAMgQ,WAORhQ,EAAMiQ,6BAEDhX,GAAW+G,EAAMoN,kBACpBjH,EAAOnI,WAAY,GAIrBgC,EAAMkQ,kBAAkBrM,EAAK+K,GAG7BzH,EAAe,CACb/gB,SAAU4Z,EACVvO,KAAM,SACN0T,cAAetB,IAIjBtJ,EAAY4L,EAAQzI,EAAQ3L,aAAa,KAI3C2L,EAAQ0O,OAAOpC,MAAM,KAAK3iB,SAAQ,SAAUmoB,GAC1CnuB,EAAK8kB,EAAQqJ,EAASC,OAAQzB,OAEhCpmB,EAAGgoB,EAAe,WAAY/E,IAC9BjjB,EAAGgoB,EAAe,YAAa/E,IAC/BjjB,EAAGgoB,EAAe,YAAa/E,IAC/BjjB,EAAGgoB,EAAe,UAAW5P,EAAMgQ,SACnCpoB,EAAGgoB,EAAe,WAAY5P,EAAMgQ,SACpCpoB,EAAGgoB,EAAe,cAAe5P,EAAMgQ,SAEnC/W,GAAWzX,KAAK4rB,kBAClB5rB,KAAKkc,QAAQmP,oBAAsB,EACnC1G,EAAOnI,WAAY,GAGrB2F,EAAY,aAAcniB,KAAM,CAC9BqiB,IAAKA,KAGHnG,EAAQiP,OAAWjP,EAAQkP,mBAAoBgC,GAAYptB,KAAK4rB,kBAAqBpU,GAAQD,GAkB/F4W,QAlB6G,CAC7G,GAAI9R,GAASiG,cAGX,YAFAtiB,KAAKwuB,UAQPpoB,EAAGgoB,EAAe,UAAW5P,EAAMmQ,qBACnCvoB,EAAGgoB,EAAe,WAAY5P,EAAMmQ,qBACpCvoB,EAAGgoB,EAAe,cAAe5P,EAAMmQ,qBACvCvoB,EAAGgoB,EAAe,YAAa5P,EAAMoQ,8BACrCxoB,EAAGgoB,EAAe,YAAa5P,EAAMoQ,8BACrC1S,EAAQyP,gBAAkBvlB,EAAGgoB,EAAe,cAAe5P,EAAMoQ,8BACjEpQ,EAAMqQ,gBAAkBpQ,WAAW0P,EAAajS,EAAQiP,UAM9DyD,6BAA8B,SAE9BxvB,GACE,IAAIguB,EAAQhuB,EAAEkqB,QAAUlqB,EAAEkqB,QAAQ,GAAKlqB,EAEnCkW,KAAKpV,IAAIoV,KAAKwZ,IAAI1B,EAAM5D,QAAUxpB,KAAKsuB,QAAShZ,KAAKwZ,IAAI1B,EAAM3D,QAAUzpB,KAAKuuB,UAAYjZ,KAAKyZ,MAAM/uB,KAAKkc,QAAQmP,qBAAuBrrB,KAAK4rB,iBAAmBxU,OAAOkU,kBAAoB,KAC9LtrB,KAAK2uB,uBAGTA,oBAAqB,WACnBhK,GAAU6H,GAAkB7H,GAC5BtE,aAAargB,KAAK6uB,iBAElB7uB,KAAKyuB,6BAEPA,0BAA2B,WACzB,IAAIL,EAAgBpuB,KAAKoL,GAAGgjB,cAC5BpW,EAAIoW,EAAe,UAAWpuB,KAAK2uB,qBACnC3W,EAAIoW,EAAe,WAAYpuB,KAAK2uB,qBACpC3W,EAAIoW,EAAe,cAAepuB,KAAK2uB,qBACvC3W,EAAIoW,EAAe,YAAapuB,KAAK4uB,8BACrC5W,EAAIoW,EAAe,YAAapuB,KAAK4uB,8BACrC5W,EAAIoW,EAAe,cAAepuB,KAAK4uB,+BAEzCF,kBAAmB,SAEnBrM,EAEA+K,GACEA,EAAQA,GAA4B,SAAnB/K,EAAIgL,aAA0BhL,GAE1CriB,KAAK4rB,iBAAmBwB,EACvBptB,KAAKkc,QAAQyP,eACfvlB,EAAGgN,SAAU,cAAepT,KAAKgvB,cAEjC5oB,EAAGgN,SADMga,EACI,YAEA,YAFaptB,KAAKgvB,eAKjC5oB,EAAGue,EAAQ,UAAW3kB,MACtBoG,EAAGgd,EAAQ,YAAapjB,KAAKivB,eAG/B,IACM7b,SAAS8b,UAEXlC,IAAU,WACR5Z,SAAS8b,UAAUC,WAGrB/X,OAAOgY,eAAeC,kBAExB,MAAOC,MAEXC,aAAc,SAAsBC,EAAUnN,GAI5C,GAFAmE,IAAsB,EAElBpD,GAAUuB,EAAQ,CACpBxC,EAAY,cAAeniB,KAAM,CAC/BqiB,IAAKA,IAGHriB,KAAK4rB,iBACPxlB,EAAGgN,SAAU,WAAY4W,IAG3B,IAAI9N,EAAUlc,KAAKkc,SAElBsT,GAAYzW,EAAY4L,EAAQzI,EAAQyO,WAAW,GACpD5R,EAAY4L,EAAQzI,EAAQwO,YAAY,GACxCrO,GAAS/b,OAASN,KAClBwvB,GAAYxvB,KAAKyvB,eAEjB9J,EAAe,CACb/gB,SAAU5E,KACViQ,KAAM,QACN0T,cAAetB,SAGjBriB,KAAK0vB,YAGTC,iBAAkB,WAChB,GAAI5J,GAAU,CACZ/lB,KAAKsuB,OAASvI,GAASyD,QACvBxpB,KAAKuuB,OAASxI,GAAS0D,QAEvBpE,KAKA,IAHA,IAAIjU,EAASgC,SAASwc,iBAAiB7J,GAASyD,QAASzD,GAAS0D,SAC9D9kB,EAASyM,EAENA,GAAUA,EAAOmc,aACtBnc,EAASA,EAAOmc,WAAWqC,iBAAiB7J,GAASyD,QAASzD,GAAS0D,YACxD9kB,GACfA,EAASyM,EAKX,GAFAuT,EAAOlM,WAAWwG,GAASgL,iBAAiB7Y,GAExCzM,EACF,EAAG,CACD,GAAIA,EAAOsa,GAAU,CASnB,GAPWta,EAAOsa,GAAS8K,YAAY,CACrCP,QAASzD,GAASyD,QAClBC,QAAS1D,GAAS0D,QAClBrY,OAAQA,EACRgS,OAAQze,MAGO3E,KAAKkc,QAAQgP,eAC5B,MAIJ9Z,EAASzM,QAGJA,EAASA,EAAO8T,YAGzB8M,OAGJyJ,aAAc,SAEd3M,GACE,GAAIyD,GAAQ,CACV,IAAI5J,EAAUlc,KAAKkc,QACf9L,EAAoB8L,EAAQ9L,kBAC5Bsb,EAAiBxP,EAAQwP,eACzB0B,EAAQ/K,EAAIiH,QAAUjH,EAAIiH,QAAQ,GAAKjH,EACvCwN,EAAchL,GAAWpL,EAAOoL,GAAS,GACzCrJ,EAASqJ,GAAWgL,GAAeA,EAAY3oB,EAC/CuU,EAASoJ,GAAWgL,GAAeA,EAAY1wB,EAC/C2wB,EAAuB7I,IAA2BV,IAAuBvJ,EAAwBuJ,IACjGwJ,GAAM3C,EAAM5D,QAAU1D,GAAO0D,QAAUkC,EAAe/M,IAAMnD,GAAU,IAAMsU,EAAuBA,EAAqB,GAAKjJ,GAAiC,GAAK,IAAMrL,GAAU,GACnLwU,GAAM5C,EAAM3D,QAAU3D,GAAO2D,QAAUiC,EAAenkB,IAAMkU,GAAU,IAAMqU,EAAuBA,EAAqB,GAAKjJ,GAAiC,GAAK,IAAMpL,GAAU,GAEvL,IAAKY,GAAS/b,SAAWkmB,GAAqB,CAC5C,GAAIpW,GAAqBkF,KAAKpV,IAAIoV,KAAKwZ,IAAI1B,EAAM5D,QAAUxpB,KAAKsuB,QAAShZ,KAAKwZ,IAAI1B,EAAM3D,QAAUzpB,KAAKuuB,SAAWne,EAChH,OAGFpQ,KAAKivB,aAAa5M,GAAK,GAGzB,GAAIwC,EAAS,CACPgL,GACFA,EAAYzwB,GAAK2wB,GAAM/J,IAAU,GACjC6J,EAAYnwB,GAAKswB,GAAM/J,IAAU,IAEjC4J,EAAc,CACZ3oB,EAAG,EACH+oB,EAAG,EACH9oB,EAAG,EACHhI,EAAG,EACHC,EAAG2wB,EACHrwB,EAAGswB,GAIP,IAAIE,EAAY,UAAUxZ,OAAOmZ,EAAY3oB,EAAG,KAAKwP,OAAOmZ,EAAYI,EAAG,KAAKvZ,OAAOmZ,EAAY1oB,EAAG,KAAKuP,OAAOmZ,EAAY1wB,EAAG,KAAKuX,OAAOmZ,EAAYzwB,EAAG,KAAKsX,OAAOmZ,EAAYnwB,EAAG,KACvLwZ,EAAI2L,EAAS,kBAAmBqL,GAChChX,EAAI2L,EAAS,eAAgBqL,GAC7BhX,EAAI2L,EAAS,cAAeqL,GAC5BhX,EAAI2L,EAAS,YAAaqL,GAC1BlK,GAAS+J,EACT9J,GAAS+J,EACTjK,GAAWqH,EAGb/K,EAAIgC,YAAchC,EAAI8G,mBAG1BsG,aAAc,WAGZ,IAAK5K,EAAS,CACZ,IAAI1P,EAAYnV,KAAKkc,QAAQuP,eAAiBrY,SAAS4K,KAAOoF,EAC1DzD,EAAOnF,EAAQmK,GAAQ,EAAMsC,IAAyB,EAAM9R,GAC5D+G,EAAUlc,KAAKkc,QAEnB,GAAI+K,GAAyB,CAI3B,IAFAV,GAAsBpR,EAE0B,WAAzC+D,EAAIqN,GAAqB,aAAsE,SAA1CrN,EAAIqN,GAAqB,cAA2BA,KAAwBnT,UACtImT,GAAsBA,GAAoB9N,WAGxC8N,KAAwBnT,SAAS4K,MAAQuI,KAAwBnT,SAASmH,iBACxEgM,KAAwBnT,WAAUmT,GAAsBlM,KAC5DsF,EAAK7E,KAAOyL,GAAoBlJ,UAChCsC,EAAK5E,MAAQwL,GAAoBnJ,YAEjCmJ,GAAsBlM,IAGxBwM,GAAmC7J,EAAwBuJ,IAI7DxN,EADA8L,EAAUF,EAAO3F,WAAU,GACN9C,EAAQwO,YAAY,GACzC3R,EAAY8L,EAAS3I,EAAQsP,eAAe,GAC5CzS,EAAY8L,EAAS3I,EAAQyO,WAAW,GACxCzR,EAAI2L,EAAS,aAAc,IAC3B3L,EAAI2L,EAAS,YAAa,IAC1B3L,EAAI2L,EAAS,aAAc,cAC3B3L,EAAI2L,EAAS,SAAU,GACvB3L,EAAI2L,EAAS,MAAOlF,EAAK7E,KACzB5B,EAAI2L,EAAS,OAAQlF,EAAK5E,MAC1B7B,EAAI2L,EAAS,QAASlF,EAAKxE,OAC3BjC,EAAI2L,EAAS,SAAUlF,EAAKzE,QAC5BhC,EAAI2L,EAAS,UAAW,OACxB3L,EAAI2L,EAAS,WAAYoC,GAA0B,WAAa,SAChE/N,EAAI2L,EAAS,SAAU,UACvB3L,EAAI2L,EAAS,gBAAiB,QAC9BxI,GAASC,MAAQuI,EACjB1P,EAAU5R,YAAYshB,GAEtB3L,EAAI2L,EAAS,mBAAoBqB,GAAkB1Q,SAASqP,EAAQxL,MAAM8B,OAAS,IAAM,KAAOgL,GAAiB3Q,SAASqP,EAAQxL,MAAM6B,QAAU,IAAM,OAG5J+T,aAAc,SAEd5M,EAEAmN,GACE,IAAIhR,EAAQxe,KAER+qB,EAAe1I,EAAI0I,aACnB7O,EAAUsC,EAAMtC,QACpBiG,EAAY,YAAaniB,KAAM,CAC7BqiB,IAAKA,IAGHhG,GAASiG,cACXtiB,KAAKwuB,WAKPrM,EAAY,aAAcniB,MAErBqc,GAASiG,iBACZgB,EAAU1d,EAAM+e,IACRnI,WAAY,EACpB8G,EAAQjK,MAAM,eAAiB,GAE/BrZ,KAAKmwB,aAELpX,EAAYuK,EAAStjB,KAAKkc,QAAQ3L,aAAa,GAC/C8L,GAASzW,MAAQ0d,GAInB9E,EAAM4R,QAAUpD,IAAU,WACxB7K,EAAY,QAAS3D,GACjBnC,GAASiG,gBAER9D,EAAMtC,QAAQsO,mBACjBpH,EAAO5X,aAAa8X,EAASqB,GAG/BnG,EAAM2R,aAENxK,EAAe,CACb/gB,SAAU4Z,EACVvO,KAAM,eAGTuf,GAAYzW,EAAY4L,EAAQzI,EAAQyO,WAAW,GAEhD6E,GACF/I,IAAkB,EAClBjI,EAAM6R,QAAUC,YAAY9R,EAAMmR,iBAAkB,MAGpD3X,EAAI5E,SAAU,UAAWoL,EAAMgQ,SAC/BxW,EAAI5E,SAAU,WAAYoL,EAAMgQ,SAChCxW,EAAI5E,SAAU,cAAeoL,EAAMgQ,SAE/BzD,IACFA,EAAawF,cAAgB,OAC7BrU,EAAQ4O,SAAW5O,EAAQ4O,QAAQjjB,KAAK2W,EAAOuM,EAAcpG,IAG/Dve,EAAGgN,SAAU,OAAQoL,GAErBtF,EAAIyL,EAAQ,YAAa,kBAG3B6B,IAAsB,EACtBhI,EAAMgS,aAAexD,GAAUxO,EAAM+Q,aAAajtB,KAAKkc,EAAOgR,EAAUnN,IACxEjc,EAAGgN,SAAU,cAAeoL,GAC5B0G,IAAQ,EAEJxN,GACFwB,EAAI9F,SAAS4K,KAAM,cAAe,UAItC+L,YAAa,SAEb1H,GACE,IAEI0J,EACAC,EACAyE,EAOAC,EAXAtlB,EAAKpL,KAAKoL,GACVgG,EAASiR,EAAIjR,OAIb8K,EAAUlc,KAAKkc,QACfjR,EAAQiR,EAAQjR,MAChBka,EAAiB9I,GAAS/b,OAC1BqwB,EAAU9K,KAAgB5a,EAC1B2lB,EAAU1U,EAAQ7c,KAClBwxB,EAAejN,IAAeuB,EAE9B3G,EAAQxe,KACR8wB,GAAiB,EAErB,IAAIhK,GAAJ,CAgHA,QAN2B,IAAvBzE,EAAI8G,gBACN9G,EAAIgC,YAAchC,EAAI8G,iBAGxB/X,EAASsH,EAAQtH,EAAQ8K,EAAQM,UAAWpR,GAAI,GAChD2lB,EAAc,YACV1U,GAASiG,cAAe,OAAOwO,EAEnC,GAAInM,EAAOuI,SAAS7K,EAAIjR,SAAWA,EAAOwQ,UAAYxQ,EAAOmQ,YAAcnQ,EAAOoQ,YAAchD,EAAMwS,wBAA0B5f,EAC9H,OAAO6f,GAAU,GAKnB,GAFAxK,IAAkB,EAEdtB,IAAmBjJ,EAAQ1b,WAAamwB,EAAUC,IAAYH,GAAUrN,EAAO8J,SAASvI,IAC1Ff,KAAgB5jB,OAASA,KAAKukB,YAAcsB,GAAYmD,UAAUhpB,KAAMmlB,EAAgBR,EAAQtC,KAASpX,EAAMge,SAASjpB,KAAMmlB,EAAgBR,EAAQtC,IAAO,CAI7J,GAHAqO,EAA+C,aAApC1wB,KAAKmtB,cAAc9K,EAAKjR,GACnC2a,EAAWvR,EAAQmK,GACnBoM,EAAc,iBACV1U,GAASiG,cAAe,OAAOwO,EAEnC,GAAIL,EAiBF,OAhBA7L,EAAWxB,EAEXtL,IAEA9X,KAAKmwB,aAELY,EAAc,UAET1U,GAASiG,gBACRwC,EACF1B,EAAO5X,aAAamZ,EAAQG,GAE5B1B,EAAO7f,YAAYohB,IAIhBsM,GAAU,GAGnB,IAAIC,EAAczU,EAAUrR,EAAI8Q,EAAQM,WAExC,IAAK0U,GAmhBX,SAAsB7O,EAAKqO,EAAU9rB,GACnC,IAAI+a,EAAOnF,EAAQiC,EAAU7X,EAASwG,GAAIxG,EAASsX,QAAQM,YACvD2U,EAAS,GACb,OAAOT,EAAWrO,EAAImH,QAAU7J,EAAK1E,MAAQkW,GAAU9O,EAAImH,SAAW7J,EAAK1E,OAASoH,EAAIoH,QAAU9J,EAAK3E,QAAUqH,EAAImH,SAAW7J,EAAK5E,KAAOsH,EAAImH,QAAU7J,EAAK1E,OAASoH,EAAIoH,QAAU9J,EAAK7E,KAAOuH,EAAImH,SAAW7J,EAAK1E,OAASoH,EAAIoH,QAAU9J,EAAK3E,OAASmW,EAthBnOC,CAAa/O,EAAKqO,EAAU1wB,QAAUkxB,EAAYtP,SAAU,CAE9E,GAAIsP,IAAgBvM,EAClB,OAAOsM,GAAU,GAYnB,GARIC,GAAe9lB,IAAOiX,EAAIjR,SAC5BA,EAAS8f,GAGP9f,IACF4a,EAAaxR,EAAQpJ,KAG0D,IAA7E0a,GAAQ1I,EAAQhY,EAAIuZ,EAAQoH,EAAU3a,EAAQ4a,EAAY3J,IAAOjR,GAMnE,OALA0G,IACA1M,EAAG7H,YAAYohB,GACfC,EAAWxZ,EAEXimB,IACOJ,GAAU,QAEd,GAAI7f,EAAOqH,aAAerN,EAAI,CACnC4gB,EAAaxR,EAAQpJ,GACrB,IAAIqZ,EACA6G,EAcAC,EAbAC,EAAiB7M,EAAOlM,aAAerN,EACvCqmB,GAj7Ba,SAA4B1F,EAAUC,EAAY0E,GACzE,IAAIgB,EAAchB,EAAW3E,EAAShR,KAAOgR,EAASjR,IAClD6W,EAAcjB,EAAW3E,EAAS9Q,MAAQ8Q,EAAS/Q,OACnD4W,EAAkBlB,EAAW3E,EAAS5Q,MAAQ4Q,EAAS7Q,OACvD2W,EAAcnB,EAAW1E,EAAWjR,KAAOiR,EAAWlR,IACtDgX,EAAcpB,EAAW1E,EAAW/Q,MAAQ+Q,EAAWhR,OACvD+W,EAAkBrB,EAAW1E,EAAW7Q,MAAQ6Q,EAAW9Q,OAC/D,OAAOwW,IAAgBG,GAAeF,IAAgBG,GAAeJ,EAAcE,EAAkB,IAAMC,EAAcE,EAAkB,EA06B9GC,CAAmBrN,EAAO/C,UAAY+C,EAAOlE,QAAUsL,EAAU3a,EAAOwQ,UAAYxQ,EAAOqP,QAAUuL,EAAY0E,GACpIuB,EAAQvB,EAAW,MAAQ,OAC3BwB,EAAkBxW,EAAetK,EAAQ,MAAO,QAAUsK,EAAeiJ,EAAQ,MAAO,OACxFwN,EAAeD,EAAkBA,EAAgB7U,eAAY,EAWjE,GATI+I,KAAehV,IACjBkgB,EAAwBtF,EAAWiG,GACnCtL,IAAwB,EACxBC,IAA0B6K,GAAmBvV,EAAQoO,YAAckH,GAMnD,KAHlB/G,EAkfR,SAA2BpI,EAAKjR,EAAQ4a,EAAY0E,EAAUrG,EAAeE,EAAuBD,EAAY8H,GAC9G,IAAIC,EAAc3B,EAAWrO,EAAIoH,QAAUpH,EAAImH,QAC3C8I,EAAe5B,EAAW1E,EAAW9Q,OAAS8Q,EAAW7Q,MACzDoX,EAAW7B,EAAW1E,EAAWlR,IAAMkR,EAAWjR,KAClDyX,EAAW9B,EAAW1E,EAAWhR,OAASgR,EAAW/Q,MACrDwX,GAAS,EAEb,IAAKnI,EAEH,GAAI8H,GAAgB9L,GAAqBgM,EAAejI,GAQtD,IALK1D,KAA4C,IAAlBN,GAAsBgM,EAAcE,EAAWD,EAAe/H,EAAwB,EAAI8H,EAAcG,EAAWF,EAAe/H,EAAwB,KAEvL5D,IAAwB,GAGrBA,GAOH8L,GAAS,OALT,GAAsB,IAAlBpM,GAAsBgM,EAAcE,EAAWjM,GACjD+L,EAAcG,EAAWlM,GACzB,OAAQD,QAOZ,GAAIgM,EAAcE,EAAWD,GAAgB,EAAIjI,GAAiB,GAAKgI,EAAcG,EAAWF,GAAgB,EAAIjI,GAAiB,EACnI,OAwBR,SAA6BjZ,GAC3B,OAAIyL,EAAM8H,GAAU9H,EAAMzL,GACjB,GAEC,EA5BGshB,CAAoBthB,GAOjC,IAFAqhB,EAASA,GAAUnI,KAIb+H,EAAcE,EAAWD,EAAe/H,EAAwB,GAAK8H,EAAcG,EAAWF,EAAe/H,EAAwB,GACvI,OAAO8H,EAAcE,EAAWD,EAAe,EAAI,GAAK,EAI5D,OAAO,EA7hBWK,CAAkBtQ,EAAKjR,EAAQ4a,EAAY0E,EAAUe,EAAkB,EAAIvV,EAAQmO,cAAgD,MAAjCnO,EAAQqO,sBAAgCrO,EAAQmO,cAAgBnO,EAAQqO,sBAAuB3D,GAAwBR,KAAehV,IAG/N,CAEnB,IAAIwhB,EAAY/V,EAAM8H,GAEtB,GACEiO,GAAanI,EACb8G,EAAU3M,EAAStgB,SAASsuB,SACrBrB,IAAwC,SAA5BrY,EAAIqY,EAAS,YAAyBA,IAAY1M,IAIzE,GAAkB,IAAd4F,GAAmB8G,IAAYngB,EACjC,OAAO6f,GAAU,GAGnB7K,GAAahV,EACbiV,GAAgBoE,EAChB,IAAI4D,EAAcjd,EAAOyhB,mBACrBC,GAAQ,EAGRC,EAAajH,GAAQ1I,EAAQhY,EAAIuZ,EAAQoH,EAAU3a,EAAQ4a,EAAY3J,EAF3EyQ,EAAsB,IAAdrI,GAIR,IAAmB,IAAfsI,EA4BF,OA3BmB,IAAfA,IAAoC,IAAhBA,IACtBD,EAAuB,IAAfC,GAGVjM,IAAU,EACVrI,WAAWgO,GAAW,IACtB3U,IAEIgb,IAAUzE,EACZjjB,EAAG7H,YAAYohB,GAEfvT,EAAOqH,WAAWjN,aAAamZ,EAAQmO,EAAQzE,EAAcjd,GAI3D8gB,GACFxT,EAASwT,EAAiB,EAAGC,EAAeD,EAAgB7U,WAG9DuH,EAAWD,EAAOlM,gBAGY+L,IAA1B8M,GAAwC1K,KAC1CN,GAAqBhR,KAAKwZ,IAAIwC,EAAwB9W,EAAQpJ,GAAQ6gB,KAGxEZ,IACOJ,GAAU,GAIrB,GAAI7lB,EAAG8hB,SAASvI,GACd,OAAOsM,GAAU,GAIrB,OAAO,EAzPP,SAASF,EAAc9gB,EAAM+iB,GAC3B7Q,EAAYlS,EAAMuO,EAAOlI,EAAc,CACrC+L,IAAKA,EACLsO,QAASA,EACTsC,KAAMvC,EAAW,WAAa,aAC9BD,OAAQA,EACR1E,SAAUA,EACVC,WAAYA,EACZ4E,QAASA,EACTC,aAAcA,EACdzf,OAAQA,EACR6f,UAAWA,EACX7E,OAAQ,SAAgBhb,EAAQ0hB,GAC9B,OAAOhH,GAAQ1I,EAAQhY,EAAIuZ,EAAQoH,EAAU3a,EAAQoJ,EAAQpJ,GAASiR,EAAKyQ,IAE7EzB,QAASA,GACR2B,IAIL,SAASlb,IACPiZ,EAAc,4BAEdvS,EAAMe,wBAEFf,IAAUqS,GACZA,EAAatR,wBAKjB,SAAS0R,EAAUiC,GAuDjB,OAtDAnC,EAAc,oBAAqB,CACjCmC,UAAWA,IAGTA,IAEEvC,EACFxL,EAAegL,aAEfhL,EAAegO,WAAW3U,GAGxBA,IAAUqS,IAEZ9X,EAAY4L,EAAQf,GAAcA,GAAY1H,QAAQwO,WAAavF,EAAejJ,QAAQwO,YAAY,GACtG3R,EAAY4L,EAAQzI,EAAQwO,YAAY,IAGtC9G,KAAgBpF,GAASA,IAAUnC,GAAS/b,OAC9CsjB,GAAcpF,EACLA,IAAUnC,GAAS/b,QAAUsjB,KACtCA,GAAc,MAIZiN,IAAiBrS,IACnBA,EAAMwS,sBAAwB5f,GAGhCoN,EAAM4B,YAAW,WACf2Q,EAAc,6BACdvS,EAAMwS,sBAAwB,QAG5BxS,IAAUqS,IACZA,EAAazQ,aACbyQ,EAAaG,sBAAwB,QAKrC5f,IAAWuT,IAAWA,EAAO/C,UAAYxQ,IAAWhG,IAAOgG,EAAOwQ,YACpEwE,GAAa,MAIVlK,EAAQgP,gBAAmB7I,EAAIe,QAAUhS,IAAWgC,WACvDuR,EAAOlM,WAAWwG,GAASgL,iBAAiB5H,EAAIjR,SAG/C8hB,GAAa7J,GAA8BhH,KAG7CnG,EAAQgP,gBAAkB7I,EAAInR,iBAAmBmR,EAAInR,kBAC/C4f,GAAiB,EAI1B,SAASO,IACPvmB,GAAW+R,EAAM8H,GACjBjB,GAAoB7G,EAAM8H,EAAQzI,EAAQM,WAE1CmJ,EAAe,CACb/gB,SAAU4Z,EACVvO,KAAM,SACNsT,KAAMnY,EACNN,SAAUA,GACV4Y,kBAAmBA,GACnBC,cAAetB,MAuJrB2O,sBAAuB,KACvBoC,eAAgB,WACdpb,EAAI5E,SAAU,YAAapT,KAAKgvB,cAChChX,EAAI5E,SAAU,YAAapT,KAAKgvB,cAChChX,EAAI5E,SAAU,cAAepT,KAAKgvB,cAClChX,EAAI5E,SAAU,WAAYiW,IAC1BrR,EAAI5E,SAAU,YAAaiW,IAC3BrR,EAAI5E,SAAU,YAAaiW,KAE7BgK,aAAc,WACZ,IAAIjF,EAAgBpuB,KAAKoL,GAAGgjB,cAC5BpW,EAAIoW,EAAe,UAAWpuB,KAAKwuB,SACnCxW,EAAIoW,EAAe,WAAYpuB,KAAKwuB,SACpCxW,EAAIoW,EAAe,YAAapuB,KAAKwuB,SACrCxW,EAAIoW,EAAe,cAAepuB,KAAKwuB,SACvCxW,EAAI5E,SAAU,cAAepT,OAE/BwuB,QAAS,SAETnM,GACE,IAAIjX,EAAKpL,KAAKoL,GACV8Q,EAAUlc,KAAKkc,QAEnBpR,GAAW+R,EAAM8H,GACjBjB,GAAoB7G,EAAM8H,EAAQzI,EAAQM,WAC1C2F,EAAY,OAAQniB,KAAM,CACxBqiB,IAAKA,IAEPuC,EAAWD,GAAUA,EAAOlM,WAE5B3N,GAAW+R,EAAM8H,GACjBjB,GAAoB7G,EAAM8H,EAAQzI,EAAQM,WAEtCH,GAASiG,gBAMbkE,IAAsB,EACtBI,IAAyB,EACzBD,IAAwB,EACxB2M,cAActzB,KAAKqwB,SACnBhQ,aAAargB,KAAK6uB,iBAElB5B,GAAgBjtB,KAAKowB,SAErBnD,GAAgBjtB,KAAKwwB,cAGjBxwB,KAAK4rB,kBACP5T,EAAI5E,SAAU,OAAQpT,MACtBgY,EAAI5M,EAAI,YAAapL,KAAKivB,eAG5BjvB,KAAKozB,iBAELpzB,KAAKqzB,eAED3b,GACFwB,EAAI9F,SAAS4K,KAAM,cAAe,IAGpC9E,EAAIyL,EAAQ,YAAa,IAErBtC,IACE6C,KACF7C,EAAIgC,YAAchC,EAAI8G,kBACrBjN,EAAQ+O,YAAc5I,EAAInR,mBAG7B2T,GAAWA,EAAQpM,YAAcoM,EAAQpM,WAAW8a,YAAY1O,IAE5DzB,IAAWwB,GAAYhB,IAA2C,UAA5BA,GAAYW,cAEpDjB,GAAWA,EAAQ7K,YAAc6K,EAAQ7K,WAAW8a,YAAYjQ,GAG9DqB,IACE3kB,KAAK4rB,iBACP5T,EAAI2M,EAAQ,UAAW3kB,MAGzBwsB,GAAkB7H,GAElBA,EAAOtL,MAAM,eAAiB,GAG1B6L,KAAUsB,IACZzN,EAAY4L,EAAQf,GAAcA,GAAY1H,QAAQwO,WAAa1qB,KAAKkc,QAAQwO,YAAY,GAG9F3R,EAAY4L,EAAQ3kB,KAAKkc,QAAQ3L,aAAa,GAE9CoV,EAAe,CACb/gB,SAAU5E,KACViQ,KAAM,WACNsT,KAAMqB,EACN9Z,SAAU,KACV4Y,kBAAmB,KACnBC,cAAetB,IAGbe,IAAWwB,GACT9Z,IAAY,IAEd6a,EAAe,CACbvC,OAAQwB,EACR3U,KAAM,MACNsT,KAAMqB,EACNpB,OAAQJ,EACRO,cAAetB,IAIjBsD,EAAe,CACb/gB,SAAU5E,KACViQ,KAAM,SACNsT,KAAMqB,EACNjB,cAAetB,IAIjBsD,EAAe,CACbvC,OAAQwB,EACR3U,KAAM,OACNsT,KAAMqB,EACNpB,OAAQJ,EACRO,cAAetB,IAGjBsD,EAAe,CACb/gB,SAAU5E,KACViQ,KAAM,OACNsT,KAAMqB,EACNjB,cAAetB,KAInBuB,IAAeA,GAAY4P,QAEvB1oB,KAAaS,IACXT,IAAY,IAEd6a,EAAe,CACb/gB,SAAU5E,KACViQ,KAAM,SACNsT,KAAMqB,EACNjB,cAAetB,IAGjBsD,EAAe,CACb/gB,SAAU5E,KACViQ,KAAM,OACNsT,KAAMqB,EACNjB,cAAetB,KAMnBhG,GAAS/b,SAEK,MAAZwK,KAAkC,IAAdA,KACtBA,GAAWS,GACXmY,GAAoBD,IAGtBkC,EAAe,CACb/gB,SAAU5E,KACViQ,KAAM,MACNsT,KAAMqB,EACNjB,cAAetB,IAIjBriB,KAAKwzB,WA9ITxzB,KAAK0vB,YAqJTA,SAAU,WACRvN,EAAY,UAAWniB,MACvBojB,EAASuB,EAASC,EAAWC,EAAUC,EAASxB,EAAUyB,EAAaC,GAAcc,GAASC,GAAWb,GAAQpa,GAAW4Y,GAAoBnY,GAAWkY,GAAoB2C,GAAaC,GAAgBzC,GAAciC,GAAcxJ,GAASE,QAAUF,GAASC,MAAQD,GAASzW,MAAQyW,GAAS/b,OAAS,KAC/SymB,GAAkBlhB,SAAQ,SAAUuF,GAClCA,EAAGyiB,SAAU,KAEf9G,GAAkBvf,OAASwe,GAASC,GAAS,GAE/CwN,YAAa,SAEbpR,GACE,OAAQA,EAAInjB,MACV,IAAK,OACL,IAAK,UACHc,KAAKwuB,QAAQnM,GAEb,MAEF,IAAK,YACL,IAAK,WACCsC,IACF3kB,KAAK+pB,YAAY1H,GA4K3B,SAEAA,GACMA,EAAI0I,eACN1I,EAAI0I,aAAa2I,WAAa,QAGhCrR,EAAIgC,YAAchC,EAAI8G,iBAjLdwK,CAAgBtR,IAGlB,MAEF,IAAK,cACHA,EAAI8G,mBASVxc,QAAS,WAQP,IAPA,IACIvB,EADAwoB,EAAQ,GAERtvB,EAAWtE,KAAKoL,GAAG9G,SACnBxF,EAAI,EACJC,EAAIuF,EAASkD,OACb0U,EAAUlc,KAAKkc,QAEZpd,EAAIC,EAAGD,IAGR4Z,EAFJtN,EAAK9G,EAASxF,GAEEod,EAAQM,UAAWxc,KAAKoL,IAAI,IAC1CwoB,EAAMtrB,KAAK8C,EAAGmG,aAAa2K,EAAQlM,aAAe0c,GAAYthB,IAIlE,OAAOwoB,GAOTv0B,KAAM,SAAcu0B,GAClB,IAAIC,EAAQ,GACRzQ,EAASpjB,KAAKoL,GAClBpL,KAAK2M,UAAU9G,SAAQ,SAAUpF,EAAI3B,GACnC,IAAIsM,EAAKgY,EAAO9e,SAASxF,GAErB4Z,EAAQtN,EAAIpL,KAAKkc,QAAQM,UAAW4G,GAAQ,KAC9CyQ,EAAMpzB,GAAM2K,KAEbpL,MACH4zB,EAAM/tB,SAAQ,SAAUpF,GAClBozB,EAAMpzB,KACR2iB,EAAOmQ,YAAYM,EAAMpzB,IACzB2iB,EAAO7f,YAAYswB,EAAMpzB,SAQ/B+yB,KAAM,WACJ,IAAItJ,EAAQlqB,KAAKkc,QAAQgO,MACzBA,GAASA,EAAM1Z,KAAO0Z,EAAM1Z,IAAIxQ,OASlC0Y,QAAS,SAAmBtN,EAAI8M,GAC9B,OAAOQ,EAAQtN,EAAI8M,GAAYlY,KAAKkc,QAAQM,UAAWxc,KAAKoL,IAAI,IASlE2E,OAAQ,SAAgBE,EAAM5P,GAC5B,IAAI6b,EAAUlc,KAAKkc,QAEnB,QAAc,IAAV7b,EACF,OAAO6b,EAAQjM,GAEf,IAAI+S,EAAgBhB,EAAca,aAAa7iB,KAAMiQ,EAAM5P,GAGzD6b,EAAQjM,QADmB,IAAlB+S,EACOA,EAEA3iB,EAGL,UAAT4P,GACFyY,GAAcxM,IAQpB3a,QAAS,WACP4gB,EAAY,UAAWniB,MACvB,IAAIoL,EAAKpL,KAAKoL,GACdA,EAAG6T,GAAW,KACdjH,EAAI5M,EAAI,YAAapL,KAAK6rB,aAC1B7T,EAAI5M,EAAI,aAAcpL,KAAK6rB,aAC3B7T,EAAI5M,EAAI,cAAepL,KAAK6rB,aAExB7rB,KAAK4rB,kBACP5T,EAAI5M,EAAI,WAAYpL,MACpBgY,EAAI5M,EAAI,YAAapL,OAIvByC,MAAM5B,UAAUgF,QAAQgC,KAAKuD,EAAG0oB,iBAAiB,gBAAgB,SAAU1oB,GACzEA,EAAGmI,gBAAgB,gBAGrBvT,KAAKwuB,UAELxuB,KAAKyuB,4BAEL/H,GAAU/d,OAAO+d,GAAUnnB,QAAQS,KAAKoL,IAAK,GAC7CpL,KAAKoL,GAAKA,EAAK,MAEjB+kB,WAAY,WACV,IAAKnL,GAAa,CAEhB,GADA7C,EAAY,YAAaniB,MACrBqc,GAASiG,cAAe,OAC5BpJ,EAAIoK,EAAS,UAAW,QAEpBtjB,KAAKkc,QAAQsO,mBAAqBlH,EAAQ7K,YAC5C6K,EAAQ7K,WAAW8a,YAAYjQ,GAGjC0B,IAAc,IAGlBmO,WAAY,SAAoBvP,GAC9B,GAAgC,UAA5BA,EAAYW,aAMhB,GAAIS,GAAa,CAEf,GADA7C,EAAY,YAAaniB,MACrBqc,GAASiG,cAAe,OAExBc,EAAO8J,SAASvI,KAAY3kB,KAAKkc,QAAQjR,MAAMie,YACjD9F,EAAO5X,aAAa8X,EAASqB,GACpBG,EACT1B,EAAO5X,aAAa8X,EAASwB,GAE7B1B,EAAO7f,YAAY+f,GAGjBtjB,KAAKkc,QAAQjR,MAAMie,aACrBlpB,KAAKihB,QAAQ0D,EAAQrB,GAGvBpK,EAAIoK,EAAS,UAAW,IACxB0B,IAAc,QAtBdhlB,KAAKmwB,eAwLPnJ,IACF5gB,EAAGgN,SAAU,aAAa,SAAUiP,IAC7BhG,GAAS/b,QAAUkmB,KAAwBnE,EAAIgC,YAClDhC,EAAI8G,oBAMV9M,GAAS0X,MAAQ,CACf3tB,GAAIA,EACJ4R,IAAKA,EACLkB,IAAKA,EACLrZ,KAAMA,EACNm0B,GAAI,SAAY5oB,EAAI8M,GAClB,QAASQ,EAAQtN,EAAI8M,EAAU9M,GAAI,IAErC6oB,OA3hEF,SAAgBC,EAAKtH,GACnB,GAAIsH,GAAOtH,EACT,IAAK,IAAI1qB,KAAO0qB,EACVA,EAAIznB,eAAejD,KACrBgyB,EAAIhyB,GAAO0qB,EAAI1qB,IAKrB,OAAOgyB,GAmhEP9V,SAAUA,EACV1F,QAASA,EACTK,YAAaA,EACbnT,MAAOA,EACPiX,MAAOA,EACPsX,SAAUnH,GACVoH,eAAgBnH,GAChBoH,gBAAiB9M,GACjBvL,SAAUA,GAQZK,GAASnX,IAAM,SAAUovB,GACvB,OAAOA,EAAQrV,IAQjB5C,GAAS4F,MAAQ,WACf,IAAK,IAAIsS,EAAOviB,UAAUxK,OAAQqa,EAAU,IAAIpf,MAAM8xB,GAAOC,EAAO,EAAGA,EAAOD,EAAMC,IAClF3S,EAAQ2S,GAAQxiB,UAAUwiB,GAGxB3S,EAAQ,GAAG9L,cAAgBtT,QAAOof,EAAUA,EAAQ,IACxDA,EAAQhc,SAAQ,SAAUqc,GACxB,IAAKA,EAAOrhB,YAAcqhB,EAAOrhB,UAAUkV,YACzC,KAAM,gEAAgEW,OAAO,GAAGrI,SAASxG,KAAKqa,IAG5FA,EAAO6R,QAAO1X,GAAS0X,MAAQzd,EAAc,GAAI+F,GAAS0X,MAAO7R,EAAO6R,QAC5E/R,EAAcC,MAAMC,OAUxB7F,GAASoY,OAAS,SAAUrpB,EAAI8Q,GAC9B,OAAO,IAAIG,GAASjR,EAAI8Q,IAI1BG,GAASvQ,QAl/EK,SAo/Ed,IACI4oB,GACAC,GAEAC,GACAC,GACAC,GACAC,GAPAC,GAAc,GAGdC,IAAY,EAmHhB,SAASC,KACPF,GAAYnvB,SAAQ,SAAUsvB,GAC5B7B,cAAc6B,EAAWC,QAE3BJ,GAAc,GAGhB,SAASK,KACP/B,cAAcyB,IAGhB,IAAII,GAAa/W,GAAS,SAAUiE,EAAKnG,EAASkH,EAAQkS,GAExD,GAAKpZ,EAAQqZ,OAAb,CACA,IAMIC,EANA7W,GAAK0D,EAAIiH,QAAUjH,EAAIiH,QAAQ,GAAKjH,GAAKmH,QACzCjiB,GAAK8a,EAAIiH,QAAUjH,EAAIiH,QAAQ,GAAKjH,GAAKoH,QACzCgM,EAAOvZ,EAAQwZ,kBACfC,EAAQzZ,EAAQ0Z,YAChBzY,EAAc9C,IACdwb,GAAqB,EAGrBlB,KAAiBvR,IACnBuR,GAAevR,EACf8R,KACAR,GAAWxY,EAAQqZ,OACnBC,EAAiBtZ,EAAQ4Z,UAER,IAAbpB,KACFA,GAAW7Y,EAA2BuH,GAAQ,KAIlD,IAAI2S,EAAY,EACZC,EAAgBtB,GAEpB,EAAG,CACD,IAAItpB,EAAK4qB,EACLrW,EAAOnF,EAAQpP,GACf0P,EAAM6E,EAAK7E,IACXE,EAAS2E,EAAK3E,OACdD,EAAO4E,EAAK5E,KACZE,EAAQ0E,EAAK1E,MACbE,EAAQwE,EAAKxE,MACbD,EAASyE,EAAKzE,OACd+a,OAAa,EACbC,OAAa,EACbxY,EAActS,EAAGsS,YACjBE,EAAexS,EAAGwS,aAClB4J,EAAQtO,EAAI9N,GACZ+qB,EAAa/qB,EAAGgS,WAChBgZ,EAAahrB,EAAGiS,UAEhBjS,IAAO+R,GACT8Y,EAAa9a,EAAQuC,IAAoC,SAApB8J,EAAM1J,WAA4C,WAApB0J,EAAM1J,WAA8C,YAApB0J,EAAM1J,WACzGoY,EAAahb,EAAS0C,IAAqC,SAApB4J,EAAMzJ,WAA4C,WAApByJ,EAAMzJ,WAA8C,YAApByJ,EAAMzJ,aAE3GkY,EAAa9a,EAAQuC,IAAoC,SAApB8J,EAAM1J,WAA4C,WAApB0J,EAAM1J,WACzEoY,EAAahb,EAAS0C,IAAqC,SAApB4J,EAAMzJ,WAA4C,WAApByJ,EAAMzJ,YAG7E,IAAIsY,EAAKJ,IAAe3gB,KAAKwZ,IAAI7T,EAAQ0D,IAAM8W,GAAQU,EAAahb,EAAQuC,IAAgBpI,KAAKwZ,IAAI/T,EAAO4D,IAAM8W,KAAUU,GACxHG,EAAKJ,IAAe5gB,KAAKwZ,IAAI9T,EAASzT,IAAMkuB,GAAQW,EAAalb,EAAS0C,IAAiBtI,KAAKwZ,IAAIhU,EAAMvT,IAAMkuB,KAAUW,GAE9H,IAAKpB,GAAYe,GACf,IAAK,IAAIj3B,EAAI,EAAGA,GAAKi3B,EAAWj3B,IACzBk2B,GAAYl2B,KACfk2B,GAAYl2B,GAAK,IAKnBk2B,GAAYe,GAAWM,IAAMA,GAAMrB,GAAYe,GAAWO,IAAMA,GAAMtB,GAAYe,GAAW3qB,KAAOA,IACtG4pB,GAAYe,GAAW3qB,GAAKA,EAC5B4pB,GAAYe,GAAWM,GAAKA,EAC5BrB,GAAYe,GAAWO,GAAKA,EAC5BhD,cAAc0B,GAAYe,GAAWX,KAE3B,GAANiB,GAAiB,GAANC,IACbT,GAAqB,EAGrBb,GAAYe,GAAWX,IAAM9E,YAAY,WAEnCgF,GAA6B,IAAft1B,KAAKL,OACrB0c,GAAS/b,OAAO0uB,aAAa8F,IAI/B,IAAIyB,EAAgBvB,GAAYh1B,KAAKL,OAAO22B,GAAKtB,GAAYh1B,KAAKL,OAAO22B,GAAKX,EAAQ,EAClFa,EAAgBxB,GAAYh1B,KAAKL,OAAO02B,GAAKrB,GAAYh1B,KAAKL,OAAO02B,GAAKV,EAAQ,EAExD,mBAAnBH,GACoI,aAAzIA,EAAe3tB,KAAKwU,GAASE,QAAQ9D,WAAWwG,GAAUuX,EAAeD,EAAelU,EAAKyS,GAAYE,GAAYh1B,KAAKL,OAAOyL,KAKvIsT,EAASsW,GAAYh1B,KAAKL,OAAOyL,GAAIorB,EAAeD,IACpDj0B,KAAK,CACL3C,MAAOo2B,IACL,MAIRA,UACO7Z,EAAQua,cAAgBT,IAAkB7Y,IAAgB6Y,EAAgBna,EAA2Bma,GAAe,KAE7Hf,GAAYY,KACX,IAECa,GAAO,SAAcvT,GACvB,IAAIQ,EAAgBR,EAAKQ,cACrBC,EAAcT,EAAKS,YACnBe,EAASxB,EAAKwB,OACdQ,EAAiBhC,EAAKgC,eACtBO,EAAwBvC,EAAKuC,sBAC7BN,EAAqBjC,EAAKiC,mBAC1BE,EAAuBnC,EAAKmC,qBAChC,GAAK3B,EAAL,CACA,IAAIgT,EAAa/S,GAAeuB,EAChCC,IACA,IAAIgI,EAAQzJ,EAAciT,gBAAkBjT,EAAciT,eAAepvB,OAASmc,EAAciT,eAAe,GAAKjT,EAChHvS,EAASgC,SAASwc,iBAAiBxC,EAAM5D,QAAS4D,EAAM3D,SAC5DnE,IAEIqR,IAAeA,EAAWvrB,GAAG8hB,SAAS9b,KACxCsU,EAAsB,SACtB1lB,KAAK62B,QAAQ,CACXlS,OAAQA,EACRf,YAAaA,OAKnB,SAASkT,MAsCT,SAASC,MApCTD,GAAOj2B,UAAY,CACjBm2B,WAAY,KACZC,UAAW,SAAmBC,GAC5B,IAAIzT,EAAoByT,EAAMzT,kBAC9BzjB,KAAKg3B,WAAavT,GAEpBoT,QAAS,SAAiBM,GACxB,IAAIxS,EAASwS,EAAMxS,OACff,EAAcuT,EAAMvT,YACxB5jB,KAAK4E,SAAS2a,wBAEVqE,GACFA,EAAYrE,wBAGd,IAAI8O,EAAcrS,EAAShc,KAAK4E,SAASwG,GAAIpL,KAAKg3B,WAAYh3B,KAAKkc,SAE/DmS,EACFruB,KAAK4E,SAASwG,GAAGI,aAAamZ,EAAQ0J,GAEtCruB,KAAK4E,SAASwG,GAAG7H,YAAYohB,GAG/B3kB,KAAK4E,SAASwb,aAEVwD,GACFA,EAAYxD,cAGhBsW,KAAMA,IAGRtgB,EAAS0gB,GAAQ,CACfrU,WAAY,kBAKdsU,GAAOl2B,UAAY,CACjBg2B,QAAS,SAAiBO,GACxB,IAAIzS,EAASyS,EAAMzS,OAEf0S,EADcD,EAAMxT,aACY5jB,KAAK4E,SACzCyyB,EAAe9X,wBACfoF,EAAOlM,YAAckM,EAAOlM,WAAW8a,YAAY5O,GACnD0S,EAAejX,cAEjBsW,KAAMA,IAGRtgB,EAAS2gB,GAAQ,CACftU,WAAY,kBAwsBdpG,GAAS4F,MAAM,IAj/Bf,WACE,SAASqV,IAQP,IAAK,IAAIvf,KAPT/X,KAAK8hB,SAAW,CACdyT,QAAQ,EACRG,kBAAmB,GACnBE,YAAa,GACba,cAAc,GAGDz2B,KACQ,MAAjB+X,EAAGgM,OAAO,IAAkC,mBAAb/jB,KAAK+X,KACtC/X,KAAK+X,GAAM/X,KAAK+X,GAAIzV,KAAKtC,OA4F/B,OAvFAs3B,EAAWz2B,UAAY,CACrBokB,YAAa,SAAqB9B,GAChC,IAAIQ,EAAgBR,EAAKQ,cAErB3jB,KAAK4E,SAASgnB,gBAChBxlB,EAAGgN,SAAU,WAAYpT,KAAKu3B,mBAE1Bv3B,KAAKkc,QAAQyP,eACfvlB,EAAGgN,SAAU,cAAepT,KAAKw3B,2BACxB7T,EAAc2F,QACvBljB,EAAGgN,SAAU,YAAapT,KAAKw3B,2BAE/BpxB,EAAGgN,SAAU,YAAapT,KAAKw3B,4BAIrCC,kBAAmB,SAA2BP,GAC5C,IAAIvT,EAAgBuT,EAAMvT,cAGrB3jB,KAAKkc,QAAQwb,gBAAmB/T,EAAcP,QACjDpjB,KAAKu3B,kBAAkB5T,IAG3B+S,KAAM,WACA12B,KAAK4E,SAASgnB,gBAChB5T,EAAI5E,SAAU,WAAYpT,KAAKu3B,oBAE/Bvf,EAAI5E,SAAU,cAAepT,KAAKw3B,2BAClCxf,EAAI5E,SAAU,YAAapT,KAAKw3B,2BAChCxf,EAAI5E,SAAU,YAAapT,KAAKw3B,4BAGlCnC,KACAH,KAvmEJ7U,aAAaxH,GACbA,OAAmB,GAymEjB8e,QAAS,WACP7C,GAAaH,GAAeD,GAAWO,GAAYF,GAA6BH,GAAkBC,GAAkB,KACpHG,GAAYxtB,OAAS,GAEvBgwB,0BAA2B,SAAmCnV,GAC5DriB,KAAKu3B,kBAAkBlV,GAAK,IAE9BkV,kBAAmB,SAA2BlV,EAAKmN,GACjD,IAAIhR,EAAQxe,KAER2e,GAAK0D,EAAIiH,QAAUjH,EAAIiH,QAAQ,GAAKjH,GAAKmH,QACzCjiB,GAAK8a,EAAIiH,QAAUjH,EAAIiH,QAAQ,GAAKjH,GAAKoH,QACzClM,EAAOnK,SAASwc,iBAAiBjR,EAAGpX,GAMxC,GALAutB,GAAazS,EAKTmN,GAAYhY,GAAQD,GAAcG,EAAQ,CAC5Cyd,GAAW9S,EAAKriB,KAAKkc,QAASqB,EAAMiS,GAEpC,IAAIoI,EAAiB/b,EAA2B0B,GAAM,IAElD0X,IAAeF,IAA8BpW,IAAMiW,IAAmBrtB,IAAMstB,KAC9EE,IAA8BM,KAE9BN,GAA6BzE,aAAY,WACvC,IAAIuH,EAAUhc,EAA2BzI,SAASwc,iBAAiBjR,EAAGpX,IAAI,GAEtEswB,IAAYD,IACdA,EAAiBC,EACjB3C,MAGFC,GAAW9S,EAAK7D,EAAMtC,QAAS2b,EAASrI,KACvC,IACHoF,GAAkBjW,EAClBkW,GAAkBttB,OAEf,CAEL,IAAKvH,KAAKkc,QAAQua,cAAgB5a,EAA2B0B,GAAM,KAAUlD,IAE3E,YADA6a,KAIFC,GAAW9S,EAAKriB,KAAKkc,QAASL,EAA2B0B,GAAM,IAAQ,MAItEnH,EAASkhB,EAAY,CAC1B7U,WAAY,SACZV,qBAAqB,MAy4BzB1F,GAAS4F,MAAM8U,GAAQD,IAEvB,a,8FC9mHI5a,EAAU,CAEd,OAAiB,OACjB,WAAoB,GAEP,IAAI,IAASA,GAI1B,QAAe,YAAkB","file":"2646.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nconst n=\"hide\",e=\"hide-children\";function i(n){if(n)return null!=n.listMode?n.listMode:void 0}function t(n){if(n)return null!=n.minScale?n.minScale:void 0}function r(n){if(n)return null!=n.maxScale?n.maxScale:void 0}function o(n){if(!n)return\"inherited\";const e=n.get(\"layer.capabilities.exportMap.supportsSublayerVisibility\");if(\"boolean\"==typeof e)return e?\"independent\":\"inherited\";const i=n.get(\"capabilities.exportMap.supportsSublayerVisibility\");return\"boolean\"==typeof i?i?\"independent\":\"inherited\":null!=n.visibilityMode?n.visibilityMode:\"independent\"}function u(n){if(!n)return;return n.listMode===e||\"wmts\"===n.type?void 0:\"group\"===n.type?\"layers\":\"sublayers\"}function l(n){const e=n&&(n.get(\"layer.layer\")||n.layer);if(!e)return!1;const i=e.get(\"capabilities.exportMap.supportsSublayersChanges\");return\"boolean\"!=typeof i||i}function a(e){return i(e)!==n}function s(n,e){if(!n||isNaN(e))return!1;const i=t(n),o=r(n),u=!isNaN(i)&&i>0&&e>i,l=!isNaN(o)&&o>0&&e<o;return u||l}function d(n,e){n&&n.sort(((n,i)=>{const t=e.indexOf(n.uid),r=e.indexOf(i.uid);return t>r?-1:t<r?1:0}))}function c(n,e){const i=null==n?void 0:n.layer;if(!i)return;const t=u(i);if(!t)return;d(i.get(t),e)}function f(n){const e=null==n?void 0:n.layer;return e&&\"group\"===e.type?e.layers:null}function p(n,e){var i;const t=null==(i=n.layer)?void 0:i.uid;return t&&e.find((n=>{var e;return(null==(e=n.layer)?void 0:e.uid)===t}))}export{a as canDisplayLayer,l as canSortSublayers,i as findLayerListMode,r as findLayerMaxScale,t as findLayerMinScale,o as findLayerVisibilityMode,p as findSelectedItem,f as getItemLayers,u as getNormalizedChildLayerProperty,s as isLayerOutsideScaleRange,c as sortChildLayersToIds,d as sortLayersToIds};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as s}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as t}from\"../../core/accessorSupport/decorators/property.js\";import{subclass as i}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import e from\"./ActionBase.js\";var o;let r=o=class extends e{constructor(s){super(s),this.displayValueEnabled=!1,this.max=1,this.min=0,this.step=.1,this.type=\"slider\",this.value=null}clone(){return new o({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,displayValueEnabled:this.displayValueEnabled,max:this.max,min:this.min,step:this.step,value:this.value})}};s([t()],r.prototype,\"displayValueEnabled\",void 0),s([t()],r.prototype,\"max\",void 0),s([t()],r.prototype,\"min\",void 0),s([t()],r.prototype,\"step\",void 0),s([t()],r.prototype,\"value\",void 0),r=o=s([i(\"esri.support.Action.ActionSlider\")],r);var p=r;export default p;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as t}from\"../../core/accessorSupport/decorators/property.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import{IdentifiableMixin as r}from\"../../core/Identifiable.js\";import i from\"../../core/Handles.js\";import{init as n}from\"../../core/watchUtils.js\";import{renderable as o}from\"../support/decorators/renderable.js\";import{j as l}from\"../../chunks/index.js\";import{isWidget as a}from\"../support/widget.js\";import d from\"../Widget.js\";const c=\"esri-layer-list-panel\",p=\"esri-layer-list-panel__content\",h=\"esri-layer-list-panel__content--legend\",g=\"esri-layer-list-panel__content--string\",m=\"esri-layer-list-panel__content--html-element\",u=\"esri-layer-list-panel__content--widget\";let _=class extends(r(d)){constructor(e,t){super(e,t),this._legend=null,this._handles=new i,this.content=null,this.image=null,this.listItem=null,this.open=!1,this.visible=!0}initialize(){this.own([n(this,\"content\",(e=>this._createLegend(e)))])}destroy(){const{_legend:e}=this;e&&e.destroy(),this._legend=null}get className(){const{image:e}=this,t=this._getFirstWidget();return this._get(\"className\")||!e&&t?t.iconClass:\"\"}set className(e){void 0!==e?this._override(\"className\",e):this._clearOverride(\"className\")}get title(){const e=this._getFirstWidget();return this._get(\"title\")||e?e.label:\"\"}set title(e){void 0!==e?this._override(\"title\",e):this._clearOverride(\"title\")}render(){return l(\"div\",{class:c},this._renderContents())}_renderContent(e){const{_legend:t,listItem:s}=this;if(!e)return null;if(\"legend\"===e){return s&&s.view&&s.layer&&t?l(\"div\",{class:this.classes(p,h),key:t},t.render()):null}return\"string\"==typeof e?l(\"div\",{class:this.classes(p,g),key:e,innerHTML:e}):a(e)?l(\"div\",{class:this.classes(p,u),key:e},e.render()):e instanceof HTMLElement?l(\"div\",{class:this.classes(p,m),key:e,bind:e,afterCreate:this._attachToNode}):null}_renderContents(){const{content:e}=this;return Array.isArray(e)?e.map((e=>this._renderContent(e))):this._renderContent(e)}_getLegendOptions(e){if(!e)return;const{layer:t,view:s}=e;return t&&s?{view:s,layerInfos:[{layer:t,title:\"\"}]}:void 0}_createLegend(e){this._hasLegend(e)&&!this._legend&&import(\"../Legend.js\").then((({default:e})=>{const{_handles:t,listItem:s}=this,r=new e(this._getLegendOptions(s));this._legend=r,this.notifyChange(\"className\"),this.notifyChange(\"title\");const i=n(this,[\"listItem.view\",\"listItem.layer\"],(()=>this._updateLegend(r)));t.add(i,\"legends\"),this.scheduleRender()}))}_hasLegend(e){const t=\"legend\";return e===t||!!Array.isArray(e)&&e.some((e=>e===t))}_attachToNode(e){e.appendChild(this)}_updateLegend(e){const{listItem:t}=this;if(!t)return;const{layer:s,view:r}=t;e.view=r,e.layerInfos=[{layer:s,title:null}],this.scheduleRender()}_getWidget(e){return\"legend\"===e?this._legend:a(e)?e:null}_getFirstWidget(){const{content:e}=this;if(Array.isArray(e)){let t=null;return e.some((e=>{const s=this._getWidget(e);return s&&(t=s),!!s})),t}return this._getWidget(e)}};e([t({dependsOn:[\"content\",\"image\"]})],_.prototype,\"className\",null),e([t(),o()],_.prototype,\"content\",void 0),e([t()],_.prototype,\"image\",void 0),e([t()],_.prototype,\"listItem\",void 0),e([t({dependsOn:[\"content\"]})],_.prototype,\"title\",null),e([t(),o()],_.prototype,\"open\",void 0),e([t()],_.prototype,\"visible\",void 0),_=e([s(\"esri.widgets.LayerList.ListItemPanel\")],_);var y=_;export default y;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import{property as t}from\"../../core/accessorSupport/decorators/property.js\";import{aliasOf as i}from\"../../core/accessorSupport/decorators/aliasOf.js\";import{cast as r}from\"../../core/accessorSupport/decorators/cast.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import o from\"../../core/Accessor.js\";import l from\"../../core/Collection.js\";import{IdentifiableMixin as a}from\"../../core/Identifiable.js\";import n from\"../../support/actions/ActionBase.js\";import p from\"../../support/actions/ActionButton.js\";import d from\"../../support/actions/ActionToggle.js\";import{init as h,watch as c}from\"../../core/watchUtils.js\";import{HandleOwnerMixin as y}from\"../../core/HandleOwner.js\";import u from\"../../layers/support/Sublayer.js\";import m from\"../../support/actions/ActionSlider.js\";import v from\"./ListItemPanel.js\";import{isLayerOutsideScaleRange as w,findLayerVisibilityMode as f,findLayerListMode as b,canDisplayLayer as g,getNormalizedChildLayerProperty as _}from\"./support/layerListUtils.js\";var j;const S=l.ofType({key:\"type\",defaultKeyValue:\"button\",base:n,typeMap:{button:p,toggle:d,slider:m}}),O=l.ofType(S);let L=j=class extends(a(y(o))){constructor(e){super(e),this.actionsSections=new O,this.actionsOpen=!1,this.children=new(l.ofType(j)),this.childrenSortable=!0,this.error=null,this.layer=null,this.layerView=null,this.open=!1,this.panel=null,this.parent=null,this.sortable=!0,this.view=null,this.visible=null}initialize(){this.handles.add([h(this,\"layer\",(e=>this._watchLayerProperties(e))),h(this,\"view\",(e=>this._updateChildren(e))),h(this,\"panel\",(e=>this._setListItemOnPanel(e))),h(this,[\"layer\",\"view\"],(()=>this._getLayerView()))])}destroy(){this.view=null}castPanel(e){return this.get(\"panel.open\")&&!e.hasOwnProperty(\"open\")&&(e.open=!0),e?new v(e):null}get title(){const e=this.get(\"layer.layer\");return(!e||e&&this.get(\"layer.layer.loaded\"))&&this.get(\"layer.title\")||\"\"}set title(e){void 0!==e?this._override(\"title\",e):this._clearOverride(\"title\")}get updating(){const e=this.layerView;return e?e.updating:this._isLayerUpdating(this.layer)}get visibleAtCurrentScale(){return!w(this.layer,this.get(\"view.scale\"))}get visibilityMode(){return f(this.layer)}clone(){return new j({actionsSections:this.actionsSections.clone(),actionsOpen:this.actionsOpen,children:this.children.clone(),layer:this.layer,open:this.open,panel:this.panel,title:this.title,view:this.view,visible:this.visible})}_setListItemOnPanel(e){e&&(e.listItem=this)}_updateChildren(e){const t=this.children;t&&t.forEach((t=>t.view=e))}_addChildren(e){if(this.handles.remove(\"child-list-mode\"),this.children.removeAll(),!e)return;e.forEach((t=>{this.handles.add(c(t,\"listMode\",(()=>this._addChildren(e))),\"child-list-mode\")}));const t=[];e.filter((e=>\"hide\"!==b(e))).forEach((e=>{if(g(e)){const i=new j({layer:e,parent:this,view:this.view});t.unshift(i)}})),this.children.addMany(t)}_watchSublayerChanges(e){e&&this.handles.add(e.on(\"change\",(()=>{this._addChildren(e)})),\"layer\")}_initializeChildLayers(e){this._addChildren(e),this._watchSublayerChanges(e)}_watchLayerProperties(e){if(!this.handles)return;if(this.handles.remove(\"layer\"),this.handles.remove(\"child-list-mode\"),!e)return;this.handles.add(c(e,\"listMode\",(()=>this._watchLayerProperties(e))),\"layer\");if(\"hide-children\"===b(e))return void this.children.removeAll();const t=_(e);t&&this.handles.add(h(e,t,(()=>{e.hasOwnProperty(t)&&this._initializeChildLayers(e[t])})),\"layer\")}async _getLayerView(){const{layer:e,view:t}=this;if(e&&t)try{const i=await t.whenLayerView(e);if(i.layer!==this.layer)return;this._set(\"layerView\",i)}catch{}}_isLayerUpdating(e){return!(e instanceof u)&&(e&&\"loading\"===e.loadStatus)}};e([t({type:O})],L.prototype,\"actionsSections\",void 0),e([t()],L.prototype,\"actionsOpen\",void 0),e([t({type:l})],L.prototype,\"children\",void 0),e([t()],L.prototype,\"childrenSortable\",void 0),e([i(\"layer.loadError?\")],L.prototype,\"error\",void 0),e([t()],L.prototype,\"layer\",void 0),e([t({readOnly:!0})],L.prototype,\"layerView\",void 0),e([t()],L.prototype,\"open\",void 0),e([t({type:v})],L.prototype,\"panel\",void 0),e([r(\"panel\")],L.prototype,\"castPanel\",null),e([t()],L.prototype,\"parent\",void 0),e([t()],L.prototype,\"sortable\",void 0),e([t({dependsOn:[\"layer.layer?.loaded\",\"layer.title\"]})],L.prototype,\"title\",null),e([t({dependsOn:[\"layer.loadStatus?\",\"layerView.updating\"],readOnly:!0})],L.prototype,\"updating\",null),e([t({value:null})],L.prototype,\"view\",void 0),e([i(\"layer.visible\")],L.prototype,\"visible\",void 0),e([t({dependsOn:[\"layer.minScale?\",\"layer.maxScale?\",\"view.scale\"],readOnly:!0})],L.prototype,\"visibleAtCurrentScale\",null),e([t({dependsOn:[\"layer.visibilityMode?\",\"layer.capabilities?.exportMap?.supportsSublayerVisibility\",\"layer.layer?.capabilities?.exportMap?.supportsSublayerVisibility\"],readOnly:!0})],L.prototype,\"visibilityMode\",null),L=j=e([s(\"esri.widgets.LayerList.ListItem\")],L);var C=L;export default C;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as t}from\"../../core/accessorSupport/decorators/property.js\";import{subclass as i}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import s from\"../../core/Evented.js\";import r from\"../../core/Collection.js\";import o from\"../../core/Handles.js\";import{init as a,watch as l}from\"../../core/watchUtils.js\";import{getItemLayers as n,findLayerListMode as d}from\"./support/layerListUtils.js\";import c from\"./ListItem.js\";const h=\"view\",m=\"view-layers\",p=\"map-layers\",y=\"layer-views\",_=\"layer-list-mode\",u=r.ofType(c);let v=class extends s.EventedAccessor{constructor(e){super(e),this._handles=new o,this.listItemCreatedFunction=null,this.operationalItems=new u,this.view=null}initialize(){this._handles.add(a(this,[\"view\",\"view.ready\"],(()=>this._viewHandles())),h)}destroy(){this._handles.destroy(),this._handles=null,this.view=null,this.operationalItems.removeAll()}get state(){const e=this.get(\"view\");return this.get(\"view.ready\")?\"ready\":e?\"loading\":\"disabled\"}triggerAction(e,t){e&&!e.disabled&&this.emit(\"trigger-action\",{action:e,item:t})}moveListItem(e,t,i,s){var r,o;const a=null==e?void 0:e.layer;if(!a)return;const l=null==(r=this.view)||null==(o=r.map)?void 0:o.layers,d=t?n(t):l,c=i?n(i):l;if(!d||!c)return;const{operationalItems:h}=this,m=(null==t?void 0:t.children)||h,p=(null==i?void 0:i.children)||h,y=c.length-s;e.parent=i||null,m.includes(e)&&m.remove(e),d.includes(a)&&d.remove(a),p.includes(e)||p.add(e,y),c.includes(a)||c.add(a,y)}_createLayerViewHandles(e){const{_handles:t}=this;t.remove(y),this._compileList(),e&&t.add(e.on(\"change\",(()=>this._compileList())),y)}_createMapLayerHandles(e){const{_handles:t}=this;t.remove(p),this._compileList(),e&&t.add(e.on(\"change\",(()=>this._compileList())),p)}_watchItemProperties(e){this._handles.add([e.children.on(\"change\",(()=>{this._modifyListItemChildren(e.children)}))],`children-change-${e.uid}`)}_modifyListItemChildren(e){e.forEach((e=>this._modifyListItem(e)))}_modifyListItem(e){if(\"function\"==typeof this.listItemCreatedFunction){const t={item:e};this.listItemCreatedFunction.call(null,t)}this._modifyListItemChildren(e.children)}_createListItem(e){const{view:t}=this,i=new c({layer:e,view:t});return this._watchItemProperties(i),i}_removeAllItems(){const{_handles:e,operationalItems:t}=this;t.forEach((t=>{e.remove(`children-change-${t.uid}`)})),t.removeAll()}_getViewableLayers(e){if(e)return e.filter((e=>\"hide\"!==d(e)))}_watchLayersListMode(e){const{_handles:t}=this;t.remove(_),e&&e.forEach((e=>{t.add(l(e,\"listMode\",(()=>this._compileList())),_)}))}_compileList(){const e=this.get(\"view.map.layers\");this._watchLayersListMode(e);const t=this._getViewableLayers(e);t&&t.length?(this._createNewItems(t),this._modifyOrRemoveItems(t),this._sortItems(t)):this._removeAllItems()}_createNewItems(e){const{operationalItems:t}=this;e.forEach((e=>{t.find((t=>t.layer===e))||t.add(this._createListItem(e))}))}_modifyOrRemoveItems(e){const{_handles:t,operationalItems:i}=this,s=[];i.forEach((i=>{i&&e&&e.find((e=>i.layer===e))?this._modifyListItem(i):(t.remove(`children-change-${i.uid}`),s.push(i))})),i.removeMany(s)}_sortItems(e){const{operationalItems:t}=this;t.sort(((t,i)=>{const s=e.indexOf(t.layer),r=e.indexOf(i.layer);return s>r?-1:s<r?1:0}))}_viewHandles(){const{_handles:e,view:t}=this;e.remove([p,y,m]),this._compileList(),t&&t.ready&&e.add([a(this,\"view.map.layers\",(e=>this._createMapLayerHandles(e))),a(this,\"view.layerViews\",(e=>this._createLayerViewHandles(e))),a(this,\"listItemCreatedFunction\",(()=>this._compileList()))],m)}};e([t()],v.prototype,\"listItemCreatedFunction\",void 0),e([t({type:u})],v.prototype,\"operationalItems\",void 0),e([t({dependsOn:[\"view.ready\"],readOnly:!0})],v.prototype,\"state\",null),e([t()],v.prototype,\"view\",void 0),v=e([i(\"esri.widgets.LayerList.LayerListViewModel\")],v);var w=v;export default w;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import t from\"../core/has.js\";import i from\"../core/Logger.js\";import{property as s}from\"../core/accessorSupport/decorators/property.js\";import{aliasOf as r}from\"../core/accessorSupport/decorators/aliasOf.js\";import{cast as o}from\"../core/accessorSupport/decorators/cast.js\";import{deprecatedProperty as l}from\"../core/deprecate.js\";import{subclass as n}from\"../core/accessorSupport/decorators/subclass.js\";import\"../core/urlUtils.js\";import\"../core/uuid.js\";import\"../portal/support/resourceExtension.js\";import{eventKey as a}from\"../core/events.js\";import d from\"../core/Collection.js\";import c from\"../core/Handles.js\";import{on as h,init as u}from\"../core/watchUtils.js\";import\"./support/widgetUtils.js\";import{accessibleHandler as g}from\"./support/decorators/accessibleHandler.js\";import{messageBundle as m}from\"./support/decorators/messageBundle.js\";import{renderable as p}from\"./support/decorators/renderable.js\";import{vmEvent as _}from\"./support/decorators/vmEvent.js\";import{j as y}from\"../chunks/index.js\";import b from\"./Widget.js\";import v from\"sortablejs\";import{findSelectedItem as f,sortLayersToIds as I,sortChildLayersToIds as A,canSortSublayers as w}from\"./LayerList/support/layerListUtils.js\";import C from\"./LayerList/ListItem.js\";import k from\"./LayerList/LayerListViewModel.js\";function S(e,t,i){e.splice(i,0,e.splice(t,1)[0])}const L=d.ofType(C),E=\"esri-layer-list esri-widget esri-widget--panel\",x=\"esri-layer-list--new-ui\",j=\"esri-layer-list__no-items\",M=\"esri-layer-list__list\",O=\"esri-layer-list__list--root\",U=\"esri-layer-list__list--exclusive\",T=\"esri-layer-list__list--inherited\",N=\"esri-layer-list__list--independent\",$=\"esri-layer-list__item\",P=\"esri-layer-list__item--error\",V=\"esri-layer-list__item--invisible\",R=\"esri-layer-list__item--invisible-at-scale\",B=\"esri-layer-list__item--updating\",F=\"esri-layer-list__item--has-children\",K=\"esri-layer-list__item--selectable\",D=\"esri-layer-list__item-container\",z=\"esri-layer-list__item-actions-menu\",H=\"esri-layer-list__item-actions-menu-item\",W=\"esri-layer-list__item-actions-menu-item--active\",q=\"esri-layer-list__item-actions\",G=\"esri-layer-list__item-actions-list\",J=\"esri-layer-list__item-action\",Q=\"esri-layer-list__item-action-icon\",X=\"esri-layer-list__item-action-image\",Y=\"esri-layer-list__item-action-title\",Z=\"esri-layer-list__action-toggle\",ee=\"esri-layer-list__action-toggle--on\",te=\"esri-layer-list__item-label\",ie=\"esri-layer-list__item-error-message\",se=\"esri-layer-list__item-title\",re=\"esri-layer-list__item-toggle\",oe=\"esri-layer-list__item-toggle-icon\",le=\"esri-layer-list__item-toggle-icon\",ne=\"esri-layer-list__item-radio-icon\",ae=\"esri-layer-list__child-toggle\",de=\"esri-layer-list__child-toggle--open\",ce=\"esri-layer-list__child-toggle-icon--opened\",he=\"esri-layer-list__child-toggle-icon--closed\",ue=\"esri-layer-list__child-toggle-icon--closed-rtl\",ge=\"esri-layer-list--chosen\",me=\"esri-disabled\",pe=\"esri-disabled-element\",_e=\"esri-hidden\",ye=\"esri-rotating\",be=\"esri-icon-handle-horizontal\",ve=\"esri-icon-visible\",fe=\"esri-icon-non-visible\",Ie=\"esri-icon-radio-checked\",Ae=\"esri-icon-radio-unchecked\",we=\"esri-icon-notice-triangle\",Ce=\"esri-icon-down-arrow\",ke=\"esri-icon-right-triangle-arrow\",Se=\"esri-icon-left-triangle-arrow\",Le=\"esri-icon-loading-indicator\",Ee=\"esri-icon-default-action\",xe=\"esri-icon-layers\",je=\"actions\",Me=\"action-section\",Oe=\"items\",Ue={exclusive:\"exclusive\",inherited:\"inherited\",independent:\"independent\"};function Te(e){const{actionsOpen:t,children:i}=e;t&&(e.actionsOpen=!1),i.forEach((e=>Te(e)))}const Ne=i.getLogger(\"esri.widgets.LayerList\"),$e={statusIndicators:!0};let Pe=class extends b{constructor(e,i){super(e,i),this._handles=new c,this._sortableNodes=new Map,this._sortableMap=new Map,this._focusSortUid=null,this._newUI=t(\"esri-layerlist-new-ui\"),this.visibleItems=null,this.iconClass=xe,this.label=void 0,this.listItemCreatedFunction=null,this.messages=null,this.messagesCommon=null,this.multipleSelectionEnabled=!1,this.operationalItems=null,this.selectionEnabled=!1,this.selectedItems=new L,this.view=null,this.viewModel=new k,this.visibleElements={...$e},this._onSortableSort=({to:e,from:t,item:i,newIndex:s})=>{t&&e&&(t===e?this._sortLayers(this._sortableMap.get(t.dataset.group)):this._moveLayerFromChildList({to:e,from:t,item:i,newIndex:s}))},this._sortableCanPut=(e,t,i)=>{var s,r;const o=e.el.dataset.group,l=t.el.dataset.group,n=e.el[\"data-item\"],a=i[\"data-item\"],d=null==a||null==(s=a.layer)?void 0:s.type,c=null==n||null==(r=n.layer)?void 0:r.type;return o&&l&&d&&!(\"group\"===c&&\"group\"===d)},this._sortableCanPull=(e,t,i)=>{var s;const r=e.el.dataset.group,o=t.el.dataset.group,l=i[\"data-item\"],n=null==l||null==(s=l.layer)?void 0:s.type;return r&&o&&!!n},this._onSortableEnd=({oldIndex:e,from:t,to:i,item:s})=>{t!==i&&t.insertBefore(s,t.children[e])}}initialize(){const e=this.operationalItems;this._setVisibleItems(e),this.own(h(this,\"operationalItems\",\"change\",(()=>this._itemsChanged(e))),u(this,\"selectionEnabled\",(()=>this._toggleAllSorting())))}destroy(){this._destroySortables(),this._handles.destroy(),this._handles=null}set statusIndicatorsVisible(e){l(Ne,\"statusIndicatorsVisible\",{replacement:\"visibleElements.statusIndicators\",version:\"4.15\"}),this.visibleElements={...this.visibleElements,statusIndicators:e}}castVisibleElements(e){return{...$e,...e}}triggerAction(e,t){this.viewModel.triggerAction(e,t)}render(){var e;const{visibleItems:t,_newUI:i}=this,s=null==(e=this.viewModel)?void 0:e.state,r={[x]:i,[_e]:\"loading\"===s,[me]:\"disabled\"===s};return y(\"div\",{class:this.classes(E,r)},null!=t&&t.length?this.renderItems():this.renderNoItems())}renderNoItems(){return y(\"div\",{class:j},this.messages.noItemsToDisplay)}renderItems(){const{visibleItems:e,selectionEnabled:t,messages:i}=this;return y(\"ul\",{\"aria-label\":i.widgetLabel,role:t?\"listbox\":void 0,afterCreate:this._sortNodeCreated,afterUpdate:this._sortNodeCreated,afterRemoved:this._sortNodeRemoved,\"data-group\":\"root\",bind:this,class:this.classes(M,O,N)},null==e?void 0:e.map((e=>this.renderItem(e,null))).toArray())}renderActionsMenuIcon(e,t){const{messages:i}=this,s={[W]:e.actionsOpen},r=e.actionsOpen?i.closeActions:i.openActions;return y(\"div\",{key:\"actions-menu-toggle\",\"data-item\":e,bind:this,onclick:this._toggleActionsOpen,onkeydown:this._toggleActionsOpen,class:this.classes(H,s),tabindex:\"0\",role:\"button\",\"aria-controls\":t,\"aria-label\":r,title:r},y(\"span\",{\"aria-hidden\":\"true\",class:be}))}renderActionsMenu(e,t,i,s){const{panel:r}=e,o=r&&r.visible?this.renderPanelButton(r):null,l=1===i&&this._getSingleActionButton(t),n=l?this.renderAction({item:e,action:l,singleAction:!0}):null,a=!l&&i?this.renderActionsMenuIcon(e,s):null;return a||o||l?y(\"div\",{key:\"actions-menu\",class:z},o,n,a):null}renderChildList(e,t){var i;const{selectionEnabled:s}=this,{visibilityMode:r,children:o}=e,l=!!e.error,n=!!o.length&&!l,a=!n&&s&&\"group\"===(null==(i=e.layer)?void 0:i.type),{exclusive:d,inherited:c}=Ue,h={[U]:r===d,[T]:r===c,[N]:r!==c&&r!==d};return n||a?y(\"ul\",{bind:this,key:\"list-items\",id:t,\"data-group\":e.uid,\"data-item\":e,afterCreate:this._sortNodeCreated,afterUpdate:this._sortNodeCreated,afterRemoved:this._sortNodeRemoved,class:this.classes(M,h),\"aria-expanded\":e.open?\"true\":\"false\",role:s?\"listbox\":r===d?\"radiogroup\":\"group\",hidden:!e.open&&!a||null},null==o?void 0:o.map((t=>this.renderItem(t,e))).toArray()):null}renderChildrenToggle(e,t){const{messagesCommon:i}=this,{children:s}=e,r=!!e.error,o=!!s.length&&!r,l={[de]:e.open},n=e.open?i.collapse:i.expand;return o?y(\"span\",{onclick:this._toggleChildrenClick,onkeydown:this._toggleChildrenClick,\"data-item\":e,key:\"toggle-children\",class:this.classes(ae,l),tabindex:\"0\",role:\"button\",\"aria-controls\":t,\"aria-label\":n,title:n},y(\"span\",{\"aria-hidden\":\"true\",class:this.classes(he,ke)}),y(\"span\",{\"aria-hidden\":\"true\",class:this.classes(ce,Ce)}),y(\"span\",{\"aria-hidden\":\"true\",class:this.classes(ue,Se)})):null}renderError(e){return e.error?y(\"div\",{key:\"esri-layer-list__error\",class:ie,role:\"alert\"},y(\"span\",null,this.messages.layerError)):null}renderItemContent(e,t,i){const{id:s}=this,r=`${s}_${e.uid}`,o=`${r}_actions`,l=`${r}__list`,{panel:n}=e,a=this._filterActions(e.actionsSections),d=this._countActions(a);return[y(\"div\",{key:\"list-item-container\",class:D},this.renderChildrenToggle(e,l),this.renderLabel(e,t,i),this.renderActionsMenu(e,a,d,o)),this.renderError(e),d?this.renderActionsSections(e,a,o):null,n&&n.open?n.render():null,this.renderChildList(e,l)]}renderItem(e,t){const{_newUI:i,id:s,selectionEnabled:r,selectedItems:o,visibleElements:l}=this,{children:n}=e,a=`${`${s}_${e.uid}`}__title`,d=!!e.error,c=!!n.length&&!d,h={[F]:c,[P]:!!d,[B]:e.updating&&!t&&l.statusIndicators,[V]:i&&!e.visible,[R]:!e.visibleAtCurrentScale,[K]:r};if(r){var u;const i={\"data-layer-uid\":null==(u=e.layer)?void 0:u.uid,\"data-sort-filter\":(!e.sortable).toString()};return y(\"li\",Object.assign({key:`item-with-selection-${e.uid}`,bind:this,afterCreate:this._focusListItem,afterUpdate:this._focusListItem,class:this.classes($,h),\"aria-labelledby\":a,onclick:this._toggleSelection,onkeydown:this._selectionKeydown,\"data-item\":e,\"data-group\":t?t.uid:\"root\",tabIndex:0,\"aria-selected\":f(e,o)?\"true\":\"false\",role:\"option\"},i),this.renderItemContent(e,t,a))}return y(\"li\",{key:`item-no-selection-${e.uid}`,bind:this,afterCreate:this._focusListItem,afterUpdate:this._focusListItem,class:this.classes($,h),\"aria-labelledby\":a},this.renderItemContent(e,t,a))}renderItemTitle(e,t){const{messages:i}=this,s=e.title||i.untitledLayer,r=e.visibleAtCurrentScale?s:`${s} (${i.layerInvisibleAtScale})`;return y(\"span\",{key:\"layer-title-container\",id:t,title:r,\"aria-label\":r,class:se},s)}renderItemToggleIcon(e,t){const{_newUI:i}=this,{exclusive:s}=Ue,r=t&&t.visibilityMode,o={[oe]:i,[le]:i&&r!==s,[ne]:i&&r===s,[Ie]:r===s&&e.visible,[Ae]:r===s&&!e.visible,[ve]:r!==s&&e.visible,[fe]:r!==s&&!e.visible};return y(\"span\",{key:\"item-toggle-icon\",class:this.classes(o),\"aria-hidden\":\"true\"})}renderItemToggle(e,t,i){const{selectionEnabled:s}=this,{exclusive:r}=Ue,o=t&&t.visibilityMode,l=o===r?\"radio\":\"switch\";return y(\"span\",s?{key:\"item-toggle-selection-enabled\",class:re,bind:this,onclick:this._toggleVisibility,onkeydown:this._toggleVisibility,\"data-item\":e,\"data-parent-visibility\":o,tabIndex:0,\"aria-checked\":e.visible?\"true\":\"false\",role:l,\"aria-labelledby\":i}:{key:\"item-toggle\",class:re},this.renderItemToggleIcon(e,t))}renderItemError(e){return e.error?y(\"span\",{key:\"notice-triangle\",\"aria-hidden\":\"true\",class:we}):null}renderLabel(e,t,i){const{selectionEnabled:s,_newUI:r}=this,{inherited:o,exclusive:l}=Ue,n=null==t?void 0:t.visibilityMode,a=n===l?\"radio\":\"switch\",d=[this.renderItemToggle(e,t,i),this.renderItemTitle(e,i)];r&&d.reverse();const c=y(\"div\",s?{key:`item-label-no-selection-${e.uid}`,class:te}:{key:`item-label-with-selection-${e.uid}`,class:te,bind:this,onclick:this._toggleVisibility,onkeydown:this._toggleVisibility,\"data-item\":e,\"data-parent-visibility\":n,tabIndex:0,\"aria-checked\":e.visible?\"true\":\"false\",role:a,\"aria-labelledby\":i},d);return n===o||e.error?y(\"div\",{key:`item-label-container-${e.uid}`,class:te},this.renderItemError(e),this.renderItemTitle(e,i)):c}renderPanelButton(e){const{className:t,open:i,title:s,image:r}=e,o=r||t?t:Ee,l=this._getIconImageStyles(e),n={[W]:i},a={[X]:!!l[\"background-image\"]};return o&&(a[o]=!!o),y(\"div\",{key:`panel-${e.uid}`,bind:this,\"data-panel\":e,onclick:this._triggerPanel,onkeydown:this._triggerPanel,class:this.classes(H,n),role:\"button\",tabindex:\"0\",title:s,\"aria-label\":s},y(\"span\",{class:this.classes(a),styles:l}))}renderActionsSections(e,t,i){const s=t.toArray().map(((t,i)=>y(\"ul\",{key:`${e}-action-section-${i}`,class:G},this.renderActionSection(e,t))));return y(\"div\",{role:\"group\",\"aria-expanded\":e.actionsOpen?\"true\":\"false\",key:\"actions-section\",id:i,class:q,hidden:!e.actionsOpen||null},s)}renderActionSection(e,t){return(t&&t.toArray()).map((t=>this.renderAction({item:e,action:t})))}renderActionIcon(e){const{active:t,className:i}=e,s=this._getIconImageStyles(e),r=\"button\"!==e.type||e.image||i?i:Ee,o={[X]:!t&&!!s[\"background-image\"],[Le]:t,[ye]:t};return r&&!t&&(o[r]=!0),y(\"span\",{key:\"action-icon\",\"aria-hidden\":\"true\",class:this.classes(Q,o),styles:s})}renderActionTitle(e,t){return t?null:y(\"span\",{key:\"action-title\",class:Y},e)}renderAction(e){const{item:t,action:i,singleAction:s}=e,{active:r,disabled:o,title:l}=i,n={[H]:s&&\"button\"===i.type,[J]:r||!s&&\"toggle\"!==i.type,[Z]:!r&&\"toggle\"===i.type,[ee]:!r&&\"toggle\"===i.type&&i.value,[pe]:o},a=[this.renderActionIcon(i),this.renderActionTitle(l,s)];return s?y(\"div\",{bind:this,\"data-item\":t,\"data-action\":i,role:\"button\",key:`single-action-${i.uid}`,onclick:this._triggerAction,onkeydown:this._triggerAction,classes:n,tabindex:\"0\",title:l,\"aria-label\":l},a):y(\"li\",{bind:this,\"data-item\":t,\"data-action\":i,key:`action-${i.uid}`,onclick:this._triggerAction,onkeydown:this._triggerAction,classes:n,tabindex:\"0\",role:\"button\",title:l,\"aria-label\":l},a)}_sortNodeRemoved(e){const{_sortableMap:t}=this,i=e.dataset.group,s=t.get(i);s&&s.destroy(),t.delete(i)}_destroySortables(){const{_sortableMap:e,_sortableNodes:t}=this;e.forEach((e=>e&&e.destroy())),e.clear(),t.clear()}_moveLayerFromChildList({to:e,from:t,item:i,newIndex:s}){const r=i[\"data-item\"],o=e[\"data-item\"],l=t[\"data-item\"];this.viewModel.moveListItem(r,l,o,s)}_sortLayers(e){if(!e)return;const t=e.el[\"data-item\"],i=e.toArray();var s,r;t?A(t,i):I(null==(s=this.view)||null==(r=s.map)?void 0:r.layers,i)}_toggleSorting(e,t){const{_sortableMap:i,selectionEnabled:s}=this,r=i.get(t),o=e[\"data-item\"],l=(\"root\"===t||o.childrenSortable&&w(o))&&s;if(r)r.option(\"disabled\",!l);else if(l){const s=v.create(e,{dataIdAttr:\"data-layer-uid\",group:{name:t,pull:this._sortableCanPull,put:this._sortableCanPut},filter:'[data-sort-filter=\"true\"]',fallbackTolerance:4,onSort:this._onSortableSort,onEnd:this._onSortableEnd,disabled:!l,chosenClass:ge});i.set(t,s)}}_toggleAllSorting(){this._sortableNodes.forEach(((e,t)=>this._toggleSorting(e,t)))}_sortNodeCreated(e){const t=e.dataset.group;t&&(this._sortableNodes.set(t,e),this._toggleSorting(e,t))}_setVisibleItems(e){this.visibleItems=null==e?void 0:e.filter((e=>this.errorsVisible||!e.error))}_getSingleActionButton(e){return e.reduce((e=>e)).filter((e=>e&&\"button\"===e.type)).getItemAt(0)}_focusListItem(e){var t;const{_focusSortUid:i}=this;if(!e||!i)return;(null==(t=e[\"data-item\"].layer)?void 0:t.uid)===i&&(e.focus(),this._focusSortUid=null)}_watchActionSectionChanges(e,t){const i=Me+t;this._handles.add(e.on(\"change\",this.scheduleRender.bind(this)),i),e.forEach((e=>this._renderOnActionChanges(e,t)))}_renderOnActionChanges(e,t){const i=je+t;\"toggle\"!==e.type?\"slider\"!==e.type?this._handles.add([u(e,[\"className\",\"image\",\"id\",\"title\",\"visible\"],(()=>this.scheduleRender()))],i):this._handles.add([u(e,[\"className\",\"id\",\"title\",\"visible\",\"value\",\"displayValueEnabled\",\"max\",\"min\",\"step\"],(()=>this.scheduleRender()))],i):this._handles.add([u(e,[\"className\",\"image\",\"id\",\"title\",\"visible\",\"value\"],(()=>this.scheduleRender()))],i)}_renderOnItemChanges(e){const t=e.uid,i=Oe+t;this._handles.add([u(e,[\"actionsOpen\",\"visible\",\"open\",\"updating\",\"title\",\"visibleAtCurrentScale\",\"error\",\"visibilityMode\",\"panel\",\"panel.title\",\"panel.content\",\"panel.className\",\"sortable\",\"childrenSortable\"],(()=>this.scheduleRender())),e.actionsSections.on(\"change\",(()=>this.scheduleRender())),e.children.on(\"change\",(()=>this.scheduleRender()))],i),e.children.forEach((e=>this._renderOnItemChanges(e))),e.actionsSections.forEach((e=>this._watchActionSectionChanges(e,t)))}_itemsChanged(e){this._handles.removeAll(),e.forEach((e=>this._renderOnItemChanges(e))),this._setVisibleItems(e),this.scheduleRender()}_filterActions(e){return e.map((e=>e.filter((e=>e.visible))))}_countActions(e){return e.reduce(((e,t)=>e+t.length),0)}_getIconImageStyles(e){const t=\"esri.widgets.LayerList.ListItemPanel\"===e.declaredClass||\"esri.support.Action.ActionButton\"===e.declaredClass||\"esri.support.Action.ActionToggle\"===e.declaredClass?e.image:null;return{\"background-image\":t?`url(\"${t}\")`:null}}_selectionKeydown(e){const t=a(e);if(-1===[\"ArrowDown\",\"ArrowUp\"].indexOf(t))return void this._toggleSelection(e);e.stopPropagation();const i=e.currentTarget,s=i[\"data-item\"],{_sortableMap:r,selectedItems:o}=this,l=i.dataset.group,n=r.get(l);if(!n)return;const d=f(s,o),c=n.toArray(),h=e.target,u=c.indexOf(h.dataset.layerUid);if(-1!==u){if(\"ArrowDown\"===t){const e=u+1;if(e>=c.length)return;var g,m;if(d)S(c,u,e),n.sort(c),this._sortLayers(n),this._focusSortUid=null==(g=s.layer)?void 0:g.uid;else this._focusSortUid=null==(m=s.layer)?void 0:m.uid,this.scheduleRender()}if(\"ArrowUp\"===t){const e=u-1;if(e<=-1)return;var p,_;if(d)S(c,u,e),n.sort(c),this._sortLayers(n),this._focusSortUid=null==(p=s.layer)?void 0:p.uid;else this._focusSortUid=null==(_=s.layer)?void 0:_.uid,this.scheduleRender()}}}_toggleActionsOpen(e){const t=e.currentTarget[\"data-item\"],{actionsOpen:i}=t,s=!i;s&&this.operationalItems.forEach((e=>Te(e))),t.actionsOpen=s,e.stopPropagation()}_triggerPanel(e){const t=e.currentTarget[\"data-panel\"];t&&(t.open=!t.open),e.stopPropagation()}_triggerAction(e){const t=e.currentTarget,i=t[\"data-action\"],s=t[\"data-item\"];\"toggle\"===i.type&&(i.value=!i.value),this.triggerAction(i,s),e.stopPropagation()}_toggleVisibility(e){const t=e.currentTarget,i=t.getAttribute(\"data-parent-visibility\"),s=t[\"data-item\"];i===Ue.exclusive&&s.visible||(s.visible=!s.visible),e.stopPropagation()}_toggleChildrenClick(e){const t=e.currentTarget[\"data-item\"];t.open=!t.open,e.stopPropagation()}_toggleSelection(e){e.stopPropagation();const{multipleSelectionEnabled:t,selectedItems:i}=this,s=t&&(e.metaKey||e.ctrlKey),r=e.currentTarget[\"data-item\"],o=f(r,i),{length:l}=i;if(!s)return l&&!(o&&1===l)?(i.removeAll(),void i.add(r)):void(o?i.remove(o):i.add(r));o?i.remove(o):i.add(r)}};e([s()],Pe.prototype,\"visibleItems\",void 0),e([s()],Pe.prototype,\"iconClass\",void 0),e([s(),p()],Pe.prototype,\"errorsVisible\",void 0),e([s({aliasOf:{source:\"messages.widgetLabel\",overridable:!0}})],Pe.prototype,\"label\",void 0),e([r(\"viewModel.listItemCreatedFunction\"),p()],Pe.prototype,\"listItemCreatedFunction\",void 0),e([s(),p(),m(\"esri/widgets/LayerList/t9n/LayerList\")],Pe.prototype,\"messages\",void 0),e([s(),p(),m(\"esri/t9n/common\")],Pe.prototype,\"messagesCommon\",void 0),e([s()],Pe.prototype,\"multipleSelectionEnabled\",void 0),e([r(\"viewModel.operationalItems\"),p()],Pe.prototype,\"operationalItems\",void 0),e([s(),p()],Pe.prototype,\"selectionEnabled\",void 0),e([s(),p()],Pe.prototype,\"selectedItems\",void 0),e([s(),p()],Pe.prototype,\"statusIndicatorsVisible\",null),e([r(\"viewModel.view\"),p()],Pe.prototype,\"view\",void 0),e([_(\"trigger-action\"),s({type:k}),p(\"viewModel.state\")],Pe.prototype,\"viewModel\",void 0),e([s(),p()],Pe.prototype,\"visibleElements\",void 0),e([o(\"visibleElements\")],Pe.prototype,\"castVisibleElements\",null),e([r(\"viewModel.triggerAction\")],Pe.prototype,\"triggerAction\",null),e([g()],Pe.prototype,\"_toggleActionsOpen\",null),e([g()],Pe.prototype,\"_triggerPanel\",null),e([g()],Pe.prototype,\"_triggerAction\",null),e([g()],Pe.prototype,\"_toggleVisibility\",null),e([g()],Pe.prototype,\"_toggleChildrenClick\",null),e([g()],Pe.prototype,\"_toggleSelection\",null),Pe=e([n(\"esri.widgets.LayerList\")],Pe);var Ve=Pe;export default Ve;\n","\"use strict\";\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst decorators_1 = require(\"@arcgis/core/core/accessorSupport/decorators\");\nconst widget_1 = require(\"@arcgis/core/widgets/support/widget\");\nconst Widget_1 = __importDefault(require(\"@arcgis/core/widgets/Widget\"));\nconst LayersViewModel_1 = __importDefault(require(\"./Layers/LayersViewModel\"));\nrequire(\"./Layers/styles/Layers.scss\");\nconst CSS = {\n    base: 'esri-widget layers-base',\n};\nlet Layers = class Layers extends Widget_1.default {\n    constructor(properties) {\n        super(properties);\n        this.viewModel = new LayersViewModel_1.default();\n        this.filterLayers = (value) => {\n            this.layerList.operationalItems.forEach((item) => {\n                if (item.layer.type === 'group') {\n                    let open = false;\n                    item.layer.layers.forEach((layer) => {\n                        if (layer.title.toLowerCase().includes(value.toLowerCase())) {\n                            layer.listMode = 'show';\n                            open = true;\n                        }\n                        else {\n                            layer.listMode = 'hide';\n                        }\n                    });\n                    if (!value.length) {\n                        item.open = false;\n                        document\n                            .querySelector(`#layerListDiv_${item.uid}__title`)\n                            ?.parentElement?.parentElement?.parentElement?.removeAttribute('hidden');\n                    }\n                    else if (!open) {\n                        item.open = false;\n                        document\n                            .querySelector(`#layerListDiv_${item.uid}__title`)\n                            ?.parentElement?.parentElement?.parentElement?.setAttribute('hidden', '');\n                    }\n                    else {\n                        item.open = true;\n                        document\n                            .querySelector(`#layerListDiv_${item.uid}__title`)\n                            ?.parentElement?.parentElement?.parentElement?.removeAttribute('hidden');\n                    }\n                }\n            });\n        };\n        this._createSearch = (input) => {\n            input.addEventListener('input', (e) => {\n                this.filterLayers(e.target.value);\n                input\n                    .querySelector('.calcite-input-clear-button')\n                    ?.addEventListener('click', this.clearClick, { passive: true });\n            }, { passive: true });\n        };\n        this.clearClick = () => {\n            this.filterLayers('');\n            document\n                .querySelector('#layerSearch .calcite-input-clear-button')\n                ?.removeEventListener('click', this.clearClick);\n        };\n        this._reset = () => {\n            // new WebMap({ portalItem: (this.view.map as esri.WebMap).portalItem.clone() }).load().then((map: WebMap) => {\n            // \tmap.allLayers.forEach((layer) => {\n            // \t\tthis.view.map.findLayerById(layer.id).visible = layer.visible;\n            // \t\tif (layer.type === 'group') {\n            // \t\t\t(layer as esri.GroupLayer).layers.forEach((layer) => {\n            // \t\t\t\tthis.view.map.findLayerById(layer.id).visible = layer.visible;\n            // \t\t\t});\n            // \t\t}\n            // \t});\n            // });\n        };\n    }\n    render() {\n        return (widget_1.tsx(\"div\", { class: CSS.base },\n            widget_1.tsx(\"div\", { class: \"flex sticky\" },\n                widget_1.tsx(\"calcite-input\", { clearable: true, placeholder: \"Filter by layer name\", scale: \"s\", afterCreate: this._createSearch, id: \"layerSearch\" }),\n                widget_1.tsx(\"calcite-button\", { \"icon-start\": \"viewHide\", scale: \"s\", color: \"light\", bind: this, onclick: this._reset })),\n            widget_1.tsx(\"div\", { id: \"layerListDiv\", afterCreate: this.viewModel.layerListDivCreated })));\n    }\n};\n__decorate([\n    decorators_1.aliasOf('viewModel.view')\n], Layers.prototype, \"view\", void 0);\n__decorate([\n    decorators_1.aliasOf('viewModel.layerList')\n], Layers.prototype, \"layerList\", void 0);\n__decorate([\n    decorators_1.property({\n        type: LayersViewModel_1.default,\n    }),\n    widget_1.renderable()\n], Layers.prototype, \"viewModel\", void 0);\nLayers = __decorate([\n    decorators_1.subclass('app.widgets.Layers')\n], Layers);\nexports.default = Layers;\n","\"use strict\";\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst Accessor_1 = __importDefault(require(\"@arcgis/core/core/Accessor\"));\nconst LayerList_1 = __importDefault(require(\"@arcgis/core/widgets/LayerList\"));\nconst decorators_1 = require(\"@arcgis/core/core/accessorSupport/decorators\");\nconst watchUtils_1 = require(\"@arcgis/core/core/watchUtils\");\nlet LayersViewModel = class LayersViewModel extends Accessor_1.default {\n    constructor(params) {\n        super(params);\n        this.opacityChanged = (value, id) => {\n            this.view.map.findLayerById(id).opacity = value;\n        };\n        this.layerListDivCreated = () => {\n            watchUtils_1.whenDefinedOnce(this, 'view', this.init.bind(this));\n        };\n    }\n    init(view) {\n        this.layerList = new LayerList_1.default({\n            view: view,\n            container: 'layerListDiv',\n            selectionEnabled: true,\n            multipleSelectionEnabled: false,\n            listItemCreatedFunction: function (event) {\n                const item = event.item;\n                if (item.layer.type != 'group') {\n                    const slider = document.createElement('calcite-slider');\n                    slider.setAttribute('min', '0');\n                    slider.setAttribute('max', '100');\n                    slider.setAttribute('min-label', '0%');\n                    slider.setAttribute('max-label', '100%');\n                    slider.setAttribute('label-handles', '');\n                    slider.setAttribute('value', Math.round(item?.layer.opacity * 100).toString());\n                    slider.setAttribute('data', item.layer.id);\n                    slider.addEventListener('calciteSliderUpdate', (event) => {\n                        view.map.findLayerById(event.target.getAttribute('data')).opacity =\n                            Math.round(parseInt(event?.target?.getAttribute('value'))) / 100;\n                    }, { passive: true });\n                    item.panel = {\n                        content: [slider, 'legend'],\n                        open: item.layer.visible,\n                    };\n                }\n            },\n        });\n    }\n};\n__decorate([\n    decorators_1.property()\n], LayersViewModel.prototype, \"view\", void 0);\n__decorate([\n    decorators_1.property()\n], LayersViewModel.prototype, \"layerList\", void 0);\nLayersViewModel = __decorate([\n    decorators_1.subclass('app.widgets.Layers.LayersViewModel')\n], LayersViewModel);\nexports.default = LayersViewModel;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".layers-base{padding:1rem}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/widgets/Layers/styles/Layers.scss\"],\"names\":[],\"mappings\":\"AAAA,aACE,YAAA\",\"sourcesContent\":[\".layers-base {\\n  padding: 1rem;\\n}\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","/**!\n * Sortable 1.10.2\n * @author\tRubaXa   <trash@rubaxa.org>\n * @author\towenm    <owen23355@gmail.com>\n * @license MIT\n */\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function (obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function (obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(source);\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    });\n  }\n\n  return target;\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) arr2[i] = arr[i];\n\n    return arr2;\n  }\n}\n\nfunction _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}\n\nvar version = \"1.10.2\";\n\nfunction userAgent(pattern) {\n  if (typeof window !== 'undefined' && window.navigator) {\n    return !!\n    /*@__PURE__*/\n    navigator.userAgent.match(pattern);\n  }\n}\n\nvar IE11OrLess = userAgent(/(?:Trident.*rv[ :]?11\\.|msie|iemobile|Windows Phone)/i);\nvar Edge = userAgent(/Edge/i);\nvar FireFox = userAgent(/firefox/i);\nvar Safari = userAgent(/safari/i) && !userAgent(/chrome/i) && !userAgent(/android/i);\nvar IOS = userAgent(/iP(ad|od|hone)/i);\nvar ChromeForAndroid = userAgent(/chrome/i) && userAgent(/android/i);\n\nvar captureMode = {\n  capture: false,\n  passive: false\n};\n\nfunction on(el, event, fn) {\n  el.addEventListener(event, fn, !IE11OrLess && captureMode);\n}\n\nfunction off(el, event, fn) {\n  el.removeEventListener(event, fn, !IE11OrLess && captureMode);\n}\n\nfunction matches(\n/**HTMLElement*/\nel,\n/**String*/\nselector) {\n  if (!selector) return;\n  selector[0] === '>' && (selector = selector.substring(1));\n\n  if (el) {\n    try {\n      if (el.matches) {\n        return el.matches(selector);\n      } else if (el.msMatchesSelector) {\n        return el.msMatchesSelector(selector);\n      } else if (el.webkitMatchesSelector) {\n        return el.webkitMatchesSelector(selector);\n      }\n    } catch (_) {\n      return false;\n    }\n  }\n\n  return false;\n}\n\nfunction getParentOrHost(el) {\n  return el.host && el !== document && el.host.nodeType ? el.host : el.parentNode;\n}\n\nfunction closest(\n/**HTMLElement*/\nel,\n/**String*/\nselector,\n/**HTMLElement*/\nctx, includeCTX) {\n  if (el) {\n    ctx = ctx || document;\n\n    do {\n      if (selector != null && (selector[0] === '>' ? el.parentNode === ctx && matches(el, selector) : matches(el, selector)) || includeCTX && el === ctx) {\n        return el;\n      }\n\n      if (el === ctx) break;\n      /* jshint boss:true */\n    } while (el = getParentOrHost(el));\n  }\n\n  return null;\n}\n\nvar R_SPACE = /\\s+/g;\n\nfunction toggleClass(el, name, state) {\n  if (el && name) {\n    if (el.classList) {\n      el.classList[state ? 'add' : 'remove'](name);\n    } else {\n      var className = (' ' + el.className + ' ').replace(R_SPACE, ' ').replace(' ' + name + ' ', ' ');\n      el.className = (className + (state ? ' ' + name : '')).replace(R_SPACE, ' ');\n    }\n  }\n}\n\nfunction css(el, prop, val) {\n  var style = el && el.style;\n\n  if (style) {\n    if (val === void 0) {\n      if (document.defaultView && document.defaultView.getComputedStyle) {\n        val = document.defaultView.getComputedStyle(el, '');\n      } else if (el.currentStyle) {\n        val = el.currentStyle;\n      }\n\n      return prop === void 0 ? val : val[prop];\n    } else {\n      if (!(prop in style) && prop.indexOf('webkit') === -1) {\n        prop = '-webkit-' + prop;\n      }\n\n      style[prop] = val + (typeof val === 'string' ? '' : 'px');\n    }\n  }\n}\n\nfunction matrix(el, selfOnly) {\n  var appliedTransforms = '';\n\n  if (typeof el === 'string') {\n    appliedTransforms = el;\n  } else {\n    do {\n      var transform = css(el, 'transform');\n\n      if (transform && transform !== 'none') {\n        appliedTransforms = transform + ' ' + appliedTransforms;\n      }\n      /* jshint boss:true */\n\n    } while (!selfOnly && (el = el.parentNode));\n  }\n\n  var matrixFn = window.DOMMatrix || window.WebKitCSSMatrix || window.CSSMatrix || window.MSCSSMatrix;\n  /*jshint -W056 */\n\n  return matrixFn && new matrixFn(appliedTransforms);\n}\n\nfunction find(ctx, tagName, iterator) {\n  if (ctx) {\n    var list = ctx.getElementsByTagName(tagName),\n        i = 0,\n        n = list.length;\n\n    if (iterator) {\n      for (; i < n; i++) {\n        iterator(list[i], i);\n      }\n    }\n\n    return list;\n  }\n\n  return [];\n}\n\nfunction getWindowScrollingElement() {\n  var scrollingElement = document.scrollingElement;\n\n  if (scrollingElement) {\n    return scrollingElement;\n  } else {\n    return document.documentElement;\n  }\n}\n/**\r\n * Returns the \"bounding client rect\" of given element\r\n * @param  {HTMLElement} el                       The element whose boundingClientRect is wanted\r\n * @param  {[Boolean]} relativeToContainingBlock  Whether the rect should be relative to the containing block of (including) the container\r\n * @param  {[Boolean]} relativeToNonStaticParent  Whether the rect should be relative to the relative parent of (including) the contaienr\r\n * @param  {[Boolean]} undoScale                  Whether the container's scale() should be undone\r\n * @param  {[HTMLElement]} container              The parent the element will be placed in\r\n * @return {Object}                               The boundingClientRect of el, with specified adjustments\r\n */\n\n\nfunction getRect(el, relativeToContainingBlock, relativeToNonStaticParent, undoScale, container) {\n  if (!el.getBoundingClientRect && el !== window) return;\n  var elRect, top, left, bottom, right, height, width;\n\n  if (el !== window && el !== getWindowScrollingElement()) {\n    elRect = el.getBoundingClientRect();\n    top = elRect.top;\n    left = elRect.left;\n    bottom = elRect.bottom;\n    right = elRect.right;\n    height = elRect.height;\n    width = elRect.width;\n  } else {\n    top = 0;\n    left = 0;\n    bottom = window.innerHeight;\n    right = window.innerWidth;\n    height = window.innerHeight;\n    width = window.innerWidth;\n  }\n\n  if ((relativeToContainingBlock || relativeToNonStaticParent) && el !== window) {\n    // Adjust for translate()\n    container = container || el.parentNode; // solves #1123 (see: https://stackoverflow.com/a/37953806/6088312)\n    // Not needed on <= IE11\n\n    if (!IE11OrLess) {\n      do {\n        if (container && container.getBoundingClientRect && (css(container, 'transform') !== 'none' || relativeToNonStaticParent && css(container, 'position') !== 'static')) {\n          var containerRect = container.getBoundingClientRect(); // Set relative to edges of padding box of container\n\n          top -= containerRect.top + parseInt(css(container, 'border-top-width'));\n          left -= containerRect.left + parseInt(css(container, 'border-left-width'));\n          bottom = top + elRect.height;\n          right = left + elRect.width;\n          break;\n        }\n        /* jshint boss:true */\n\n      } while (container = container.parentNode);\n    }\n  }\n\n  if (undoScale && el !== window) {\n    // Adjust for scale()\n    var elMatrix = matrix(container || el),\n        scaleX = elMatrix && elMatrix.a,\n        scaleY = elMatrix && elMatrix.d;\n\n    if (elMatrix) {\n      top /= scaleY;\n      left /= scaleX;\n      width /= scaleX;\n      height /= scaleY;\n      bottom = top + height;\n      right = left + width;\n    }\n  }\n\n  return {\n    top: top,\n    left: left,\n    bottom: bottom,\n    right: right,\n    width: width,\n    height: height\n  };\n}\n/**\r\n * Checks if a side of an element is scrolled past a side of its parents\r\n * @param  {HTMLElement}  el           The element who's side being scrolled out of view is in question\r\n * @param  {String}       elSide       Side of the element in question ('top', 'left', 'right', 'bottom')\r\n * @param  {String}       parentSide   Side of the parent in question ('top', 'left', 'right', 'bottom')\r\n * @return {HTMLElement}               The parent scroll element that the el's side is scrolled past, or null if there is no such element\r\n */\n\n\nfunction isScrolledPast(el, elSide, parentSide) {\n  var parent = getParentAutoScrollElement(el, true),\n      elSideVal = getRect(el)[elSide];\n  /* jshint boss:true */\n\n  while (parent) {\n    var parentSideVal = getRect(parent)[parentSide],\n        visible = void 0;\n\n    if (parentSide === 'top' || parentSide === 'left') {\n      visible = elSideVal >= parentSideVal;\n    } else {\n      visible = elSideVal <= parentSideVal;\n    }\n\n    if (!visible) return parent;\n    if (parent === getWindowScrollingElement()) break;\n    parent = getParentAutoScrollElement(parent, false);\n  }\n\n  return false;\n}\n/**\r\n * Gets nth child of el, ignoring hidden children, sortable's elements (does not ignore clone if it's visible)\r\n * and non-draggable elements\r\n * @param  {HTMLElement} el       The parent element\r\n * @param  {Number} childNum      The index of the child\r\n * @param  {Object} options       Parent Sortable's options\r\n * @return {HTMLElement}          The child at index childNum, or null if not found\r\n */\n\n\nfunction getChild(el, childNum, options) {\n  var currentChild = 0,\n      i = 0,\n      children = el.children;\n\n  while (i < children.length) {\n    if (children[i].style.display !== 'none' && children[i] !== Sortable.ghost && children[i] !== Sortable.dragged && closest(children[i], options.draggable, el, false)) {\n      if (currentChild === childNum) {\n        return children[i];\n      }\n\n      currentChild++;\n    }\n\n    i++;\n  }\n\n  return null;\n}\n/**\r\n * Gets the last child in the el, ignoring ghostEl or invisible elements (clones)\r\n * @param  {HTMLElement} el       Parent element\r\n * @param  {selector} selector    Any other elements that should be ignored\r\n * @return {HTMLElement}          The last child, ignoring ghostEl\r\n */\n\n\nfunction lastChild(el, selector) {\n  var last = el.lastElementChild;\n\n  while (last && (last === Sortable.ghost || css(last, 'display') === 'none' || selector && !matches(last, selector))) {\n    last = last.previousElementSibling;\n  }\n\n  return last || null;\n}\n/**\r\n * Returns the index of an element within its parent for a selected set of\r\n * elements\r\n * @param  {HTMLElement} el\r\n * @param  {selector} selector\r\n * @return {number}\r\n */\n\n\nfunction index(el, selector) {\n  var index = 0;\n\n  if (!el || !el.parentNode) {\n    return -1;\n  }\n  /* jshint boss:true */\n\n\n  while (el = el.previousElementSibling) {\n    if (el.nodeName.toUpperCase() !== 'TEMPLATE' && el !== Sortable.clone && (!selector || matches(el, selector))) {\n      index++;\n    }\n  }\n\n  return index;\n}\n/**\r\n * Returns the scroll offset of the given element, added with all the scroll offsets of parent elements.\r\n * The value is returned in real pixels.\r\n * @param  {HTMLElement} el\r\n * @return {Array}             Offsets in the format of [left, top]\r\n */\n\n\nfunction getRelativeScrollOffset(el) {\n  var offsetLeft = 0,\n      offsetTop = 0,\n      winScroller = getWindowScrollingElement();\n\n  if (el) {\n    do {\n      var elMatrix = matrix(el),\n          scaleX = elMatrix.a,\n          scaleY = elMatrix.d;\n      offsetLeft += el.scrollLeft * scaleX;\n      offsetTop += el.scrollTop * scaleY;\n    } while (el !== winScroller && (el = el.parentNode));\n  }\n\n  return [offsetLeft, offsetTop];\n}\n/**\r\n * Returns the index of the object within the given array\r\n * @param  {Array} arr   Array that may or may not hold the object\r\n * @param  {Object} obj  An object that has a key-value pair unique to and identical to a key-value pair in the object you want to find\r\n * @return {Number}      The index of the object in the array, or -1\r\n */\n\n\nfunction indexOfObject(arr, obj) {\n  for (var i in arr) {\n    if (!arr.hasOwnProperty(i)) continue;\n\n    for (var key in obj) {\n      if (obj.hasOwnProperty(key) && obj[key] === arr[i][key]) return Number(i);\n    }\n  }\n\n  return -1;\n}\n\nfunction getParentAutoScrollElement(el, includeSelf) {\n  // skip to window\n  if (!el || !el.getBoundingClientRect) return getWindowScrollingElement();\n  var elem = el;\n  var gotSelf = false;\n\n  do {\n    // we don't need to get elem css if it isn't even overflowing in the first place (performance)\n    if (elem.clientWidth < elem.scrollWidth || elem.clientHeight < elem.scrollHeight) {\n      var elemCSS = css(elem);\n\n      if (elem.clientWidth < elem.scrollWidth && (elemCSS.overflowX == 'auto' || elemCSS.overflowX == 'scroll') || elem.clientHeight < elem.scrollHeight && (elemCSS.overflowY == 'auto' || elemCSS.overflowY == 'scroll')) {\n        if (!elem.getBoundingClientRect || elem === document.body) return getWindowScrollingElement();\n        if (gotSelf || includeSelf) return elem;\n        gotSelf = true;\n      }\n    }\n    /* jshint boss:true */\n\n  } while (elem = elem.parentNode);\n\n  return getWindowScrollingElement();\n}\n\nfunction extend(dst, src) {\n  if (dst && src) {\n    for (var key in src) {\n      if (src.hasOwnProperty(key)) {\n        dst[key] = src[key];\n      }\n    }\n  }\n\n  return dst;\n}\n\nfunction isRectEqual(rect1, rect2) {\n  return Math.round(rect1.top) === Math.round(rect2.top) && Math.round(rect1.left) === Math.round(rect2.left) && Math.round(rect1.height) === Math.round(rect2.height) && Math.round(rect1.width) === Math.round(rect2.width);\n}\n\nvar _throttleTimeout;\n\nfunction throttle(callback, ms) {\n  return function () {\n    if (!_throttleTimeout) {\n      var args = arguments,\n          _this = this;\n\n      if (args.length === 1) {\n        callback.call(_this, args[0]);\n      } else {\n        callback.apply(_this, args);\n      }\n\n      _throttleTimeout = setTimeout(function () {\n        _throttleTimeout = void 0;\n      }, ms);\n    }\n  };\n}\n\nfunction cancelThrottle() {\n  clearTimeout(_throttleTimeout);\n  _throttleTimeout = void 0;\n}\n\nfunction scrollBy(el, x, y) {\n  el.scrollLeft += x;\n  el.scrollTop += y;\n}\n\nfunction clone(el) {\n  var Polymer = window.Polymer;\n  var $ = window.jQuery || window.Zepto;\n\n  if (Polymer && Polymer.dom) {\n    return Polymer.dom(el).cloneNode(true);\n  } else if ($) {\n    return $(el).clone(true)[0];\n  } else {\n    return el.cloneNode(true);\n  }\n}\n\nfunction setRect(el, rect) {\n  css(el, 'position', 'absolute');\n  css(el, 'top', rect.top);\n  css(el, 'left', rect.left);\n  css(el, 'width', rect.width);\n  css(el, 'height', rect.height);\n}\n\nfunction unsetRect(el) {\n  css(el, 'position', '');\n  css(el, 'top', '');\n  css(el, 'left', '');\n  css(el, 'width', '');\n  css(el, 'height', '');\n}\n\nvar expando = 'Sortable' + new Date().getTime();\n\nfunction AnimationStateManager() {\n  var animationStates = [],\n      animationCallbackId;\n  return {\n    captureAnimationState: function captureAnimationState() {\n      animationStates = [];\n      if (!this.options.animation) return;\n      var children = [].slice.call(this.el.children);\n      children.forEach(function (child) {\n        if (css(child, 'display') === 'none' || child === Sortable.ghost) return;\n        animationStates.push({\n          target: child,\n          rect: getRect(child)\n        });\n\n        var fromRect = _objectSpread({}, animationStates[animationStates.length - 1].rect); // If animating: compensate for current animation\n\n\n        if (child.thisAnimationDuration) {\n          var childMatrix = matrix(child, true);\n\n          if (childMatrix) {\n            fromRect.top -= childMatrix.f;\n            fromRect.left -= childMatrix.e;\n          }\n        }\n\n        child.fromRect = fromRect;\n      });\n    },\n    addAnimationState: function addAnimationState(state) {\n      animationStates.push(state);\n    },\n    removeAnimationState: function removeAnimationState(target) {\n      animationStates.splice(indexOfObject(animationStates, {\n        target: target\n      }), 1);\n    },\n    animateAll: function animateAll(callback) {\n      var _this = this;\n\n      if (!this.options.animation) {\n        clearTimeout(animationCallbackId);\n        if (typeof callback === 'function') callback();\n        return;\n      }\n\n      var animating = false,\n          animationTime = 0;\n      animationStates.forEach(function (state) {\n        var time = 0,\n            target = state.target,\n            fromRect = target.fromRect,\n            toRect = getRect(target),\n            prevFromRect = target.prevFromRect,\n            prevToRect = target.prevToRect,\n            animatingRect = state.rect,\n            targetMatrix = matrix(target, true);\n\n        if (targetMatrix) {\n          // Compensate for current animation\n          toRect.top -= targetMatrix.f;\n          toRect.left -= targetMatrix.e;\n        }\n\n        target.toRect = toRect;\n\n        if (target.thisAnimationDuration) {\n          // Could also check if animatingRect is between fromRect and toRect\n          if (isRectEqual(prevFromRect, toRect) && !isRectEqual(fromRect, toRect) && // Make sure animatingRect is on line between toRect & fromRect\n          (animatingRect.top - toRect.top) / (animatingRect.left - toRect.left) === (fromRect.top - toRect.top) / (fromRect.left - toRect.left)) {\n            // If returning to same place as started from animation and on same axis\n            time = calculateRealTime(animatingRect, prevFromRect, prevToRect, _this.options);\n          }\n        } // if fromRect != toRect: animate\n\n\n        if (!isRectEqual(toRect, fromRect)) {\n          target.prevFromRect = fromRect;\n          target.prevToRect = toRect;\n\n          if (!time) {\n            time = _this.options.animation;\n          }\n\n          _this.animate(target, animatingRect, toRect, time);\n        }\n\n        if (time) {\n          animating = true;\n          animationTime = Math.max(animationTime, time);\n          clearTimeout(target.animationResetTimer);\n          target.animationResetTimer = setTimeout(function () {\n            target.animationTime = 0;\n            target.prevFromRect = null;\n            target.fromRect = null;\n            target.prevToRect = null;\n            target.thisAnimationDuration = null;\n          }, time);\n          target.thisAnimationDuration = time;\n        }\n      });\n      clearTimeout(animationCallbackId);\n\n      if (!animating) {\n        if (typeof callback === 'function') callback();\n      } else {\n        animationCallbackId = setTimeout(function () {\n          if (typeof callback === 'function') callback();\n        }, animationTime);\n      }\n\n      animationStates = [];\n    },\n    animate: function animate(target, currentRect, toRect, duration) {\n      if (duration) {\n        css(target, 'transition', '');\n        css(target, 'transform', '');\n        var elMatrix = matrix(this.el),\n            scaleX = elMatrix && elMatrix.a,\n            scaleY = elMatrix && elMatrix.d,\n            translateX = (currentRect.left - toRect.left) / (scaleX || 1),\n            translateY = (currentRect.top - toRect.top) / (scaleY || 1);\n        target.animatingX = !!translateX;\n        target.animatingY = !!translateY;\n        css(target, 'transform', 'translate3d(' + translateX + 'px,' + translateY + 'px,0)');\n        repaint(target); // repaint\n\n        css(target, 'transition', 'transform ' + duration + 'ms' + (this.options.easing ? ' ' + this.options.easing : ''));\n        css(target, 'transform', 'translate3d(0,0,0)');\n        typeof target.animated === 'number' && clearTimeout(target.animated);\n        target.animated = setTimeout(function () {\n          css(target, 'transition', '');\n          css(target, 'transform', '');\n          target.animated = false;\n          target.animatingX = false;\n          target.animatingY = false;\n        }, duration);\n      }\n    }\n  };\n}\n\nfunction repaint(target) {\n  return target.offsetWidth;\n}\n\nfunction calculateRealTime(animatingRect, fromRect, toRect, options) {\n  return Math.sqrt(Math.pow(fromRect.top - animatingRect.top, 2) + Math.pow(fromRect.left - animatingRect.left, 2)) / Math.sqrt(Math.pow(fromRect.top - toRect.top, 2) + Math.pow(fromRect.left - toRect.left, 2)) * options.animation;\n}\n\nvar plugins = [];\nvar defaults = {\n  initializeByDefault: true\n};\nvar PluginManager = {\n  mount: function mount(plugin) {\n    // Set default static properties\n    for (var option in defaults) {\n      if (defaults.hasOwnProperty(option) && !(option in plugin)) {\n        plugin[option] = defaults[option];\n      }\n    }\n\n    plugins.push(plugin);\n  },\n  pluginEvent: function pluginEvent(eventName, sortable, evt) {\n    var _this = this;\n\n    this.eventCanceled = false;\n\n    evt.cancel = function () {\n      _this.eventCanceled = true;\n    };\n\n    var eventNameGlobal = eventName + 'Global';\n    plugins.forEach(function (plugin) {\n      if (!sortable[plugin.pluginName]) return; // Fire global events if it exists in this sortable\n\n      if (sortable[plugin.pluginName][eventNameGlobal]) {\n        sortable[plugin.pluginName][eventNameGlobal](_objectSpread({\n          sortable: sortable\n        }, evt));\n      } // Only fire plugin event if plugin is enabled in this sortable,\n      // and plugin has event defined\n\n\n      if (sortable.options[plugin.pluginName] && sortable[plugin.pluginName][eventName]) {\n        sortable[plugin.pluginName][eventName](_objectSpread({\n          sortable: sortable\n        }, evt));\n      }\n    });\n  },\n  initializePlugins: function initializePlugins(sortable, el, defaults, options) {\n    plugins.forEach(function (plugin) {\n      var pluginName = plugin.pluginName;\n      if (!sortable.options[pluginName] && !plugin.initializeByDefault) return;\n      var initialized = new plugin(sortable, el, sortable.options);\n      initialized.sortable = sortable;\n      initialized.options = sortable.options;\n      sortable[pluginName] = initialized; // Add default options from plugin\n\n      _extends(defaults, initialized.defaults);\n    });\n\n    for (var option in sortable.options) {\n      if (!sortable.options.hasOwnProperty(option)) continue;\n      var modified = this.modifyOption(sortable, option, sortable.options[option]);\n\n      if (typeof modified !== 'undefined') {\n        sortable.options[option] = modified;\n      }\n    }\n  },\n  getEventProperties: function getEventProperties(name, sortable) {\n    var eventProperties = {};\n    plugins.forEach(function (plugin) {\n      if (typeof plugin.eventProperties !== 'function') return;\n\n      _extends(eventProperties, plugin.eventProperties.call(sortable[plugin.pluginName], name));\n    });\n    return eventProperties;\n  },\n  modifyOption: function modifyOption(sortable, name, value) {\n    var modifiedValue;\n    plugins.forEach(function (plugin) {\n      // Plugin must exist on the Sortable\n      if (!sortable[plugin.pluginName]) return; // If static option listener exists for this option, call in the context of the Sortable's instance of this plugin\n\n      if (plugin.optionListeners && typeof plugin.optionListeners[name] === 'function') {\n        modifiedValue = plugin.optionListeners[name].call(sortable[plugin.pluginName], value);\n      }\n    });\n    return modifiedValue;\n  }\n};\n\nfunction dispatchEvent(_ref) {\n  var sortable = _ref.sortable,\n      rootEl = _ref.rootEl,\n      name = _ref.name,\n      targetEl = _ref.targetEl,\n      cloneEl = _ref.cloneEl,\n      toEl = _ref.toEl,\n      fromEl = _ref.fromEl,\n      oldIndex = _ref.oldIndex,\n      newIndex = _ref.newIndex,\n      oldDraggableIndex = _ref.oldDraggableIndex,\n      newDraggableIndex = _ref.newDraggableIndex,\n      originalEvent = _ref.originalEvent,\n      putSortable = _ref.putSortable,\n      extraEventProperties = _ref.extraEventProperties;\n  sortable = sortable || rootEl && rootEl[expando];\n  if (!sortable) return;\n  var evt,\n      options = sortable.options,\n      onName = 'on' + name.charAt(0).toUpperCase() + name.substr(1); // Support for new CustomEvent feature\n\n  if (window.CustomEvent && !IE11OrLess && !Edge) {\n    evt = new CustomEvent(name, {\n      bubbles: true,\n      cancelable: true\n    });\n  } else {\n    evt = document.createEvent('Event');\n    evt.initEvent(name, true, true);\n  }\n\n  evt.to = toEl || rootEl;\n  evt.from = fromEl || rootEl;\n  evt.item = targetEl || rootEl;\n  evt.clone = cloneEl;\n  evt.oldIndex = oldIndex;\n  evt.newIndex = newIndex;\n  evt.oldDraggableIndex = oldDraggableIndex;\n  evt.newDraggableIndex = newDraggableIndex;\n  evt.originalEvent = originalEvent;\n  evt.pullMode = putSortable ? putSortable.lastPutMode : undefined;\n\n  var allEventProperties = _objectSpread({}, extraEventProperties, PluginManager.getEventProperties(name, sortable));\n\n  for (var option in allEventProperties) {\n    evt[option] = allEventProperties[option];\n  }\n\n  if (rootEl) {\n    rootEl.dispatchEvent(evt);\n  }\n\n  if (options[onName]) {\n    options[onName].call(sortable, evt);\n  }\n}\n\nvar pluginEvent = function pluginEvent(eventName, sortable) {\n  var _ref = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {},\n      originalEvent = _ref.evt,\n      data = _objectWithoutProperties(_ref, [\"evt\"]);\n\n  PluginManager.pluginEvent.bind(Sortable)(eventName, sortable, _objectSpread({\n    dragEl: dragEl,\n    parentEl: parentEl,\n    ghostEl: ghostEl,\n    rootEl: rootEl,\n    nextEl: nextEl,\n    lastDownEl: lastDownEl,\n    cloneEl: cloneEl,\n    cloneHidden: cloneHidden,\n    dragStarted: moved,\n    putSortable: putSortable,\n    activeSortable: Sortable.active,\n    originalEvent: originalEvent,\n    oldIndex: oldIndex,\n    oldDraggableIndex: oldDraggableIndex,\n    newIndex: newIndex,\n    newDraggableIndex: newDraggableIndex,\n    hideGhostForTarget: _hideGhostForTarget,\n    unhideGhostForTarget: _unhideGhostForTarget,\n    cloneNowHidden: function cloneNowHidden() {\n      cloneHidden = true;\n    },\n    cloneNowShown: function cloneNowShown() {\n      cloneHidden = false;\n    },\n    dispatchSortableEvent: function dispatchSortableEvent(name) {\n      _dispatchEvent({\n        sortable: sortable,\n        name: name,\n        originalEvent: originalEvent\n      });\n    }\n  }, data));\n};\n\nfunction _dispatchEvent(info) {\n  dispatchEvent(_objectSpread({\n    putSortable: putSortable,\n    cloneEl: cloneEl,\n    targetEl: dragEl,\n    rootEl: rootEl,\n    oldIndex: oldIndex,\n    oldDraggableIndex: oldDraggableIndex,\n    newIndex: newIndex,\n    newDraggableIndex: newDraggableIndex\n  }, info));\n}\n\nvar dragEl,\n    parentEl,\n    ghostEl,\n    rootEl,\n    nextEl,\n    lastDownEl,\n    cloneEl,\n    cloneHidden,\n    oldIndex,\n    newIndex,\n    oldDraggableIndex,\n    newDraggableIndex,\n    activeGroup,\n    putSortable,\n    awaitingDragStarted = false,\n    ignoreNextClick = false,\n    sortables = [],\n    tapEvt,\n    touchEvt,\n    lastDx,\n    lastDy,\n    tapDistanceLeft,\n    tapDistanceTop,\n    moved,\n    lastTarget,\n    lastDirection,\n    pastFirstInvertThresh = false,\n    isCircumstantialInvert = false,\n    targetMoveDistance,\n    // For positioning ghost absolutely\nghostRelativeParent,\n    ghostRelativeParentInitialScroll = [],\n    // (left, top)\n_silent = false,\n    savedInputChecked = [];\n/** @const */\n\nvar documentExists = typeof document !== 'undefined',\n    PositionGhostAbsolutely = IOS,\n    CSSFloatProperty = Edge || IE11OrLess ? 'cssFloat' : 'float',\n    // This will not pass for IE9, because IE9 DnD only works on anchors\nsupportDraggable = documentExists && !ChromeForAndroid && !IOS && 'draggable' in document.createElement('div'),\n    supportCssPointerEvents = function () {\n  if (!documentExists) return; // false when <= IE11\n\n  if (IE11OrLess) {\n    return false;\n  }\n\n  var el = document.createElement('x');\n  el.style.cssText = 'pointer-events:auto';\n  return el.style.pointerEvents === 'auto';\n}(),\n    _detectDirection = function _detectDirection(el, options) {\n  var elCSS = css(el),\n      elWidth = parseInt(elCSS.width) - parseInt(elCSS.paddingLeft) - parseInt(elCSS.paddingRight) - parseInt(elCSS.borderLeftWidth) - parseInt(elCSS.borderRightWidth),\n      child1 = getChild(el, 0, options),\n      child2 = getChild(el, 1, options),\n      firstChildCSS = child1 && css(child1),\n      secondChildCSS = child2 && css(child2),\n      firstChildWidth = firstChildCSS && parseInt(firstChildCSS.marginLeft) + parseInt(firstChildCSS.marginRight) + getRect(child1).width,\n      secondChildWidth = secondChildCSS && parseInt(secondChildCSS.marginLeft) + parseInt(secondChildCSS.marginRight) + getRect(child2).width;\n\n  if (elCSS.display === 'flex') {\n    return elCSS.flexDirection === 'column' || elCSS.flexDirection === 'column-reverse' ? 'vertical' : 'horizontal';\n  }\n\n  if (elCSS.display === 'grid') {\n    return elCSS.gridTemplateColumns.split(' ').length <= 1 ? 'vertical' : 'horizontal';\n  }\n\n  if (child1 && firstChildCSS[\"float\"] && firstChildCSS[\"float\"] !== 'none') {\n    var touchingSideChild2 = firstChildCSS[\"float\"] === 'left' ? 'left' : 'right';\n    return child2 && (secondChildCSS.clear === 'both' || secondChildCSS.clear === touchingSideChild2) ? 'vertical' : 'horizontal';\n  }\n\n  return child1 && (firstChildCSS.display === 'block' || firstChildCSS.display === 'flex' || firstChildCSS.display === 'table' || firstChildCSS.display === 'grid' || firstChildWidth >= elWidth && elCSS[CSSFloatProperty] === 'none' || child2 && elCSS[CSSFloatProperty] === 'none' && firstChildWidth + secondChildWidth > elWidth) ? 'vertical' : 'horizontal';\n},\n    _dragElInRowColumn = function _dragElInRowColumn(dragRect, targetRect, vertical) {\n  var dragElS1Opp = vertical ? dragRect.left : dragRect.top,\n      dragElS2Opp = vertical ? dragRect.right : dragRect.bottom,\n      dragElOppLength = vertical ? dragRect.width : dragRect.height,\n      targetS1Opp = vertical ? targetRect.left : targetRect.top,\n      targetS2Opp = vertical ? targetRect.right : targetRect.bottom,\n      targetOppLength = vertical ? targetRect.width : targetRect.height;\n  return dragElS1Opp === targetS1Opp || dragElS2Opp === targetS2Opp || dragElS1Opp + dragElOppLength / 2 === targetS1Opp + targetOppLength / 2;\n},\n\n/**\n * Detects first nearest empty sortable to X and Y position using emptyInsertThreshold.\n * @param  {Number} x      X position\n * @param  {Number} y      Y position\n * @return {HTMLElement}   Element of the first found nearest Sortable\n */\n_detectNearestEmptySortable = function _detectNearestEmptySortable(x, y) {\n  var ret;\n  sortables.some(function (sortable) {\n    if (lastChild(sortable)) return;\n    var rect = getRect(sortable),\n        threshold = sortable[expando].options.emptyInsertThreshold,\n        insideHorizontally = x >= rect.left - threshold && x <= rect.right + threshold,\n        insideVertically = y >= rect.top - threshold && y <= rect.bottom + threshold;\n\n    if (threshold && insideHorizontally && insideVertically) {\n      return ret = sortable;\n    }\n  });\n  return ret;\n},\n    _prepareGroup = function _prepareGroup(options) {\n  function toFn(value, pull) {\n    return function (to, from, dragEl, evt) {\n      var sameGroup = to.options.group.name && from.options.group.name && to.options.group.name === from.options.group.name;\n\n      if (value == null && (pull || sameGroup)) {\n        // Default pull value\n        // Default pull and put value if same group\n        return true;\n      } else if (value == null || value === false) {\n        return false;\n      } else if (pull && value === 'clone') {\n        return value;\n      } else if (typeof value === 'function') {\n        return toFn(value(to, from, dragEl, evt), pull)(to, from, dragEl, evt);\n      } else {\n        var otherGroup = (pull ? to : from).options.group.name;\n        return value === true || typeof value === 'string' && value === otherGroup || value.join && value.indexOf(otherGroup) > -1;\n      }\n    };\n  }\n\n  var group = {};\n  var originalGroup = options.group;\n\n  if (!originalGroup || _typeof(originalGroup) != 'object') {\n    originalGroup = {\n      name: originalGroup\n    };\n  }\n\n  group.name = originalGroup.name;\n  group.checkPull = toFn(originalGroup.pull, true);\n  group.checkPut = toFn(originalGroup.put);\n  group.revertClone = originalGroup.revertClone;\n  options.group = group;\n},\n    _hideGhostForTarget = function _hideGhostForTarget() {\n  if (!supportCssPointerEvents && ghostEl) {\n    css(ghostEl, 'display', 'none');\n  }\n},\n    _unhideGhostForTarget = function _unhideGhostForTarget() {\n  if (!supportCssPointerEvents && ghostEl) {\n    css(ghostEl, 'display', '');\n  }\n}; // #1184 fix - Prevent click event on fallback if dragged but item not changed position\n\n\nif (documentExists) {\n  document.addEventListener('click', function (evt) {\n    if (ignoreNextClick) {\n      evt.preventDefault();\n      evt.stopPropagation && evt.stopPropagation();\n      evt.stopImmediatePropagation && evt.stopImmediatePropagation();\n      ignoreNextClick = false;\n      return false;\n    }\n  }, true);\n}\n\nvar nearestEmptyInsertDetectEvent = function nearestEmptyInsertDetectEvent(evt) {\n  if (dragEl) {\n    evt = evt.touches ? evt.touches[0] : evt;\n\n    var nearest = _detectNearestEmptySortable(evt.clientX, evt.clientY);\n\n    if (nearest) {\n      // Create imitation event\n      var event = {};\n\n      for (var i in evt) {\n        if (evt.hasOwnProperty(i)) {\n          event[i] = evt[i];\n        }\n      }\n\n      event.target = event.rootEl = nearest;\n      event.preventDefault = void 0;\n      event.stopPropagation = void 0;\n\n      nearest[expando]._onDragOver(event);\n    }\n  }\n};\n\nvar _checkOutsideTargetEl = function _checkOutsideTargetEl(evt) {\n  if (dragEl) {\n    dragEl.parentNode[expando]._isOutsideThisEl(evt.target);\n  }\n};\n/**\n * @class  Sortable\n * @param  {HTMLElement}  el\n * @param  {Object}       [options]\n */\n\n\nfunction Sortable(el, options) {\n  if (!(el && el.nodeType && el.nodeType === 1)) {\n    throw \"Sortable: `el` must be an HTMLElement, not \".concat({}.toString.call(el));\n  }\n\n  this.el = el; // root element\n\n  this.options = options = _extends({}, options); // Export instance\n\n  el[expando] = this;\n  var defaults = {\n    group: null,\n    sort: true,\n    disabled: false,\n    store: null,\n    handle: null,\n    draggable: /^[uo]l$/i.test(el.nodeName) ? '>li' : '>*',\n    swapThreshold: 1,\n    // percentage; 0 <= x <= 1\n    invertSwap: false,\n    // invert always\n    invertedSwapThreshold: null,\n    // will be set to same as swapThreshold if default\n    removeCloneOnHide: true,\n    direction: function direction() {\n      return _detectDirection(el, this.options);\n    },\n    ghostClass: 'sortable-ghost',\n    chosenClass: 'sortable-chosen',\n    dragClass: 'sortable-drag',\n    ignore: 'a, img',\n    filter: null,\n    preventOnFilter: true,\n    animation: 0,\n    easing: null,\n    setData: function setData(dataTransfer, dragEl) {\n      dataTransfer.setData('Text', dragEl.textContent);\n    },\n    dropBubble: false,\n    dragoverBubble: false,\n    dataIdAttr: 'data-id',\n    delay: 0,\n    delayOnTouchOnly: false,\n    touchStartThreshold: (Number.parseInt ? Number : window).parseInt(window.devicePixelRatio, 10) || 1,\n    forceFallback: false,\n    fallbackClass: 'sortable-fallback',\n    fallbackOnBody: false,\n    fallbackTolerance: 0,\n    fallbackOffset: {\n      x: 0,\n      y: 0\n    },\n    supportPointer: Sortable.supportPointer !== false && 'PointerEvent' in window,\n    emptyInsertThreshold: 5\n  };\n  PluginManager.initializePlugins(this, el, defaults); // Set default options\n\n  for (var name in defaults) {\n    !(name in options) && (options[name] = defaults[name]);\n  }\n\n  _prepareGroup(options); // Bind all private methods\n\n\n  for (var fn in this) {\n    if (fn.charAt(0) === '_' && typeof this[fn] === 'function') {\n      this[fn] = this[fn].bind(this);\n    }\n  } // Setup drag mode\n\n\n  this.nativeDraggable = options.forceFallback ? false : supportDraggable;\n\n  if (this.nativeDraggable) {\n    // Touch start threshold cannot be greater than the native dragstart threshold\n    this.options.touchStartThreshold = 1;\n  } // Bind events\n\n\n  if (options.supportPointer) {\n    on(el, 'pointerdown', this._onTapStart);\n  } else {\n    on(el, 'mousedown', this._onTapStart);\n    on(el, 'touchstart', this._onTapStart);\n  }\n\n  if (this.nativeDraggable) {\n    on(el, 'dragover', this);\n    on(el, 'dragenter', this);\n  }\n\n  sortables.push(this.el); // Restore sorting\n\n  options.store && options.store.get && this.sort(options.store.get(this) || []); // Add animation state manager\n\n  _extends(this, AnimationStateManager());\n}\n\nSortable.prototype =\n/** @lends Sortable.prototype */\n{\n  constructor: Sortable,\n  _isOutsideThisEl: function _isOutsideThisEl(target) {\n    if (!this.el.contains(target) && target !== this.el) {\n      lastTarget = null;\n    }\n  },\n  _getDirection: function _getDirection(evt, target) {\n    return typeof this.options.direction === 'function' ? this.options.direction.call(this, evt, target, dragEl) : this.options.direction;\n  },\n  _onTapStart: function _onTapStart(\n  /** Event|TouchEvent */\n  evt) {\n    if (!evt.cancelable) return;\n\n    var _this = this,\n        el = this.el,\n        options = this.options,\n        preventOnFilter = options.preventOnFilter,\n        type = evt.type,\n        touch = evt.touches && evt.touches[0] || evt.pointerType && evt.pointerType === 'touch' && evt,\n        target = (touch || evt).target,\n        originalTarget = evt.target.shadowRoot && (evt.path && evt.path[0] || evt.composedPath && evt.composedPath()[0]) || target,\n        filter = options.filter;\n\n    _saveInputCheckedState(el); // Don't trigger start event when an element is been dragged, otherwise the evt.oldindex always wrong when set option.group.\n\n\n    if (dragEl) {\n      return;\n    }\n\n    if (/mousedown|pointerdown/.test(type) && evt.button !== 0 || options.disabled) {\n      return; // only left button and enabled\n    } // cancel dnd if original target is content editable\n\n\n    if (originalTarget.isContentEditable) {\n      return;\n    }\n\n    target = closest(target, options.draggable, el, false);\n\n    if (target && target.animated) {\n      return;\n    }\n\n    if (lastDownEl === target) {\n      // Ignoring duplicate `down`\n      return;\n    } // Get the index of the dragged element within its parent\n\n\n    oldIndex = index(target);\n    oldDraggableIndex = index(target, options.draggable); // Check filter\n\n    if (typeof filter === 'function') {\n      if (filter.call(this, evt, target, this)) {\n        _dispatchEvent({\n          sortable: _this,\n          rootEl: originalTarget,\n          name: 'filter',\n          targetEl: target,\n          toEl: el,\n          fromEl: el\n        });\n\n        pluginEvent('filter', _this, {\n          evt: evt\n        });\n        preventOnFilter && evt.cancelable && evt.preventDefault();\n        return; // cancel dnd\n      }\n    } else if (filter) {\n      filter = filter.split(',').some(function (criteria) {\n        criteria = closest(originalTarget, criteria.trim(), el, false);\n\n        if (criteria) {\n          _dispatchEvent({\n            sortable: _this,\n            rootEl: criteria,\n            name: 'filter',\n            targetEl: target,\n            fromEl: el,\n            toEl: el\n          });\n\n          pluginEvent('filter', _this, {\n            evt: evt\n          });\n          return true;\n        }\n      });\n\n      if (filter) {\n        preventOnFilter && evt.cancelable && evt.preventDefault();\n        return; // cancel dnd\n      }\n    }\n\n    if (options.handle && !closest(originalTarget, options.handle, el, false)) {\n      return;\n    } // Prepare `dragstart`\n\n\n    this._prepareDragStart(evt, touch, target);\n  },\n  _prepareDragStart: function _prepareDragStart(\n  /** Event */\n  evt,\n  /** Touch */\n  touch,\n  /** HTMLElement */\n  target) {\n    var _this = this,\n        el = _this.el,\n        options = _this.options,\n        ownerDocument = el.ownerDocument,\n        dragStartFn;\n\n    if (target && !dragEl && target.parentNode === el) {\n      var dragRect = getRect(target);\n      rootEl = el;\n      dragEl = target;\n      parentEl = dragEl.parentNode;\n      nextEl = dragEl.nextSibling;\n      lastDownEl = target;\n      activeGroup = options.group;\n      Sortable.dragged = dragEl;\n      tapEvt = {\n        target: dragEl,\n        clientX: (touch || evt).clientX,\n        clientY: (touch || evt).clientY\n      };\n      tapDistanceLeft = tapEvt.clientX - dragRect.left;\n      tapDistanceTop = tapEvt.clientY - dragRect.top;\n      this._lastX = (touch || evt).clientX;\n      this._lastY = (touch || evt).clientY;\n      dragEl.style['will-change'] = 'all';\n\n      dragStartFn = function dragStartFn() {\n        pluginEvent('delayEnded', _this, {\n          evt: evt\n        });\n\n        if (Sortable.eventCanceled) {\n          _this._onDrop();\n\n          return;\n        } // Delayed drag has been triggered\n        // we can re-enable the events: touchmove/mousemove\n\n\n        _this._disableDelayedDragEvents();\n\n        if (!FireFox && _this.nativeDraggable) {\n          dragEl.draggable = true;\n        } // Bind the events: dragstart/dragend\n\n\n        _this._triggerDragStart(evt, touch); // Drag start event\n\n\n        _dispatchEvent({\n          sortable: _this,\n          name: 'choose',\n          originalEvent: evt\n        }); // Chosen item\n\n\n        toggleClass(dragEl, options.chosenClass, true);\n      }; // Disable \"draggable\"\n\n\n      options.ignore.split(',').forEach(function (criteria) {\n        find(dragEl, criteria.trim(), _disableDraggable);\n      });\n      on(ownerDocument, 'dragover', nearestEmptyInsertDetectEvent);\n      on(ownerDocument, 'mousemove', nearestEmptyInsertDetectEvent);\n      on(ownerDocument, 'touchmove', nearestEmptyInsertDetectEvent);\n      on(ownerDocument, 'mouseup', _this._onDrop);\n      on(ownerDocument, 'touchend', _this._onDrop);\n      on(ownerDocument, 'touchcancel', _this._onDrop); // Make dragEl draggable (must be before delay for FireFox)\n\n      if (FireFox && this.nativeDraggable) {\n        this.options.touchStartThreshold = 4;\n        dragEl.draggable = true;\n      }\n\n      pluginEvent('delayStart', this, {\n        evt: evt\n      }); // Delay is impossible for native DnD in Edge or IE\n\n      if (options.delay && (!options.delayOnTouchOnly || touch) && (!this.nativeDraggable || !(Edge || IE11OrLess))) {\n        if (Sortable.eventCanceled) {\n          this._onDrop();\n\n          return;\n        } // If the user moves the pointer or let go the click or touch\n        // before the delay has been reached:\n        // disable the delayed drag\n\n\n        on(ownerDocument, 'mouseup', _this._disableDelayedDrag);\n        on(ownerDocument, 'touchend', _this._disableDelayedDrag);\n        on(ownerDocument, 'touchcancel', _this._disableDelayedDrag);\n        on(ownerDocument, 'mousemove', _this._delayedDragTouchMoveHandler);\n        on(ownerDocument, 'touchmove', _this._delayedDragTouchMoveHandler);\n        options.supportPointer && on(ownerDocument, 'pointermove', _this._delayedDragTouchMoveHandler);\n        _this._dragStartTimer = setTimeout(dragStartFn, options.delay);\n      } else {\n        dragStartFn();\n      }\n    }\n  },\n  _delayedDragTouchMoveHandler: function _delayedDragTouchMoveHandler(\n  /** TouchEvent|PointerEvent **/\n  e) {\n    var touch = e.touches ? e.touches[0] : e;\n\n    if (Math.max(Math.abs(touch.clientX - this._lastX), Math.abs(touch.clientY - this._lastY)) >= Math.floor(this.options.touchStartThreshold / (this.nativeDraggable && window.devicePixelRatio || 1))) {\n      this._disableDelayedDrag();\n    }\n  },\n  _disableDelayedDrag: function _disableDelayedDrag() {\n    dragEl && _disableDraggable(dragEl);\n    clearTimeout(this._dragStartTimer);\n\n    this._disableDelayedDragEvents();\n  },\n  _disableDelayedDragEvents: function _disableDelayedDragEvents() {\n    var ownerDocument = this.el.ownerDocument;\n    off(ownerDocument, 'mouseup', this._disableDelayedDrag);\n    off(ownerDocument, 'touchend', this._disableDelayedDrag);\n    off(ownerDocument, 'touchcancel', this._disableDelayedDrag);\n    off(ownerDocument, 'mousemove', this._delayedDragTouchMoveHandler);\n    off(ownerDocument, 'touchmove', this._delayedDragTouchMoveHandler);\n    off(ownerDocument, 'pointermove', this._delayedDragTouchMoveHandler);\n  },\n  _triggerDragStart: function _triggerDragStart(\n  /** Event */\n  evt,\n  /** Touch */\n  touch) {\n    touch = touch || evt.pointerType == 'touch' && evt;\n\n    if (!this.nativeDraggable || touch) {\n      if (this.options.supportPointer) {\n        on(document, 'pointermove', this._onTouchMove);\n      } else if (touch) {\n        on(document, 'touchmove', this._onTouchMove);\n      } else {\n        on(document, 'mousemove', this._onTouchMove);\n      }\n    } else {\n      on(dragEl, 'dragend', this);\n      on(rootEl, 'dragstart', this._onDragStart);\n    }\n\n    try {\n      if (document.selection) {\n        // Timeout neccessary for IE9\n        _nextTick(function () {\n          document.selection.empty();\n        });\n      } else {\n        window.getSelection().removeAllRanges();\n      }\n    } catch (err) {}\n  },\n  _dragStarted: function _dragStarted(fallback, evt) {\n\n    awaitingDragStarted = false;\n\n    if (rootEl && dragEl) {\n      pluginEvent('dragStarted', this, {\n        evt: evt\n      });\n\n      if (this.nativeDraggable) {\n        on(document, 'dragover', _checkOutsideTargetEl);\n      }\n\n      var options = this.options; // Apply effect\n\n      !fallback && toggleClass(dragEl, options.dragClass, false);\n      toggleClass(dragEl, options.ghostClass, true);\n      Sortable.active = this;\n      fallback && this._appendGhost(); // Drag start event\n\n      _dispatchEvent({\n        sortable: this,\n        name: 'start',\n        originalEvent: evt\n      });\n    } else {\n      this._nulling();\n    }\n  },\n  _emulateDragOver: function _emulateDragOver() {\n    if (touchEvt) {\n      this._lastX = touchEvt.clientX;\n      this._lastY = touchEvt.clientY;\n\n      _hideGhostForTarget();\n\n      var target = document.elementFromPoint(touchEvt.clientX, touchEvt.clientY);\n      var parent = target;\n\n      while (target && target.shadowRoot) {\n        target = target.shadowRoot.elementFromPoint(touchEvt.clientX, touchEvt.clientY);\n        if (target === parent) break;\n        parent = target;\n      }\n\n      dragEl.parentNode[expando]._isOutsideThisEl(target);\n\n      if (parent) {\n        do {\n          if (parent[expando]) {\n            var inserted = void 0;\n            inserted = parent[expando]._onDragOver({\n              clientX: touchEvt.clientX,\n              clientY: touchEvt.clientY,\n              target: target,\n              rootEl: parent\n            });\n\n            if (inserted && !this.options.dragoverBubble) {\n              break;\n            }\n          }\n\n          target = parent; // store last element\n        }\n        /* jshint boss:true */\n        while (parent = parent.parentNode);\n      }\n\n      _unhideGhostForTarget();\n    }\n  },\n  _onTouchMove: function _onTouchMove(\n  /**TouchEvent*/\n  evt) {\n    if (tapEvt) {\n      var options = this.options,\n          fallbackTolerance = options.fallbackTolerance,\n          fallbackOffset = options.fallbackOffset,\n          touch = evt.touches ? evt.touches[0] : evt,\n          ghostMatrix = ghostEl && matrix(ghostEl, true),\n          scaleX = ghostEl && ghostMatrix && ghostMatrix.a,\n          scaleY = ghostEl && ghostMatrix && ghostMatrix.d,\n          relativeScrollOffset = PositionGhostAbsolutely && ghostRelativeParent && getRelativeScrollOffset(ghostRelativeParent),\n          dx = (touch.clientX - tapEvt.clientX + fallbackOffset.x) / (scaleX || 1) + (relativeScrollOffset ? relativeScrollOffset[0] - ghostRelativeParentInitialScroll[0] : 0) / (scaleX || 1),\n          dy = (touch.clientY - tapEvt.clientY + fallbackOffset.y) / (scaleY || 1) + (relativeScrollOffset ? relativeScrollOffset[1] - ghostRelativeParentInitialScroll[1] : 0) / (scaleY || 1); // only set the status to dragging, when we are actually dragging\n\n      if (!Sortable.active && !awaitingDragStarted) {\n        if (fallbackTolerance && Math.max(Math.abs(touch.clientX - this._lastX), Math.abs(touch.clientY - this._lastY)) < fallbackTolerance) {\n          return;\n        }\n\n        this._onDragStart(evt, true);\n      }\n\n      if (ghostEl) {\n        if (ghostMatrix) {\n          ghostMatrix.e += dx - (lastDx || 0);\n          ghostMatrix.f += dy - (lastDy || 0);\n        } else {\n          ghostMatrix = {\n            a: 1,\n            b: 0,\n            c: 0,\n            d: 1,\n            e: dx,\n            f: dy\n          };\n        }\n\n        var cssMatrix = \"matrix(\".concat(ghostMatrix.a, \",\").concat(ghostMatrix.b, \",\").concat(ghostMatrix.c, \",\").concat(ghostMatrix.d, \",\").concat(ghostMatrix.e, \",\").concat(ghostMatrix.f, \")\");\n        css(ghostEl, 'webkitTransform', cssMatrix);\n        css(ghostEl, 'mozTransform', cssMatrix);\n        css(ghostEl, 'msTransform', cssMatrix);\n        css(ghostEl, 'transform', cssMatrix);\n        lastDx = dx;\n        lastDy = dy;\n        touchEvt = touch;\n      }\n\n      evt.cancelable && evt.preventDefault();\n    }\n  },\n  _appendGhost: function _appendGhost() {\n    // Bug if using scale(): https://stackoverflow.com/questions/2637058\n    // Not being adjusted for\n    if (!ghostEl) {\n      var container = this.options.fallbackOnBody ? document.body : rootEl,\n          rect = getRect(dragEl, true, PositionGhostAbsolutely, true, container),\n          options = this.options; // Position absolutely\n\n      if (PositionGhostAbsolutely) {\n        // Get relatively positioned parent\n        ghostRelativeParent = container;\n\n        while (css(ghostRelativeParent, 'position') === 'static' && css(ghostRelativeParent, 'transform') === 'none' && ghostRelativeParent !== document) {\n          ghostRelativeParent = ghostRelativeParent.parentNode;\n        }\n\n        if (ghostRelativeParent !== document.body && ghostRelativeParent !== document.documentElement) {\n          if (ghostRelativeParent === document) ghostRelativeParent = getWindowScrollingElement();\n          rect.top += ghostRelativeParent.scrollTop;\n          rect.left += ghostRelativeParent.scrollLeft;\n        } else {\n          ghostRelativeParent = getWindowScrollingElement();\n        }\n\n        ghostRelativeParentInitialScroll = getRelativeScrollOffset(ghostRelativeParent);\n      }\n\n      ghostEl = dragEl.cloneNode(true);\n      toggleClass(ghostEl, options.ghostClass, false);\n      toggleClass(ghostEl, options.fallbackClass, true);\n      toggleClass(ghostEl, options.dragClass, true);\n      css(ghostEl, 'transition', '');\n      css(ghostEl, 'transform', '');\n      css(ghostEl, 'box-sizing', 'border-box');\n      css(ghostEl, 'margin', 0);\n      css(ghostEl, 'top', rect.top);\n      css(ghostEl, 'left', rect.left);\n      css(ghostEl, 'width', rect.width);\n      css(ghostEl, 'height', rect.height);\n      css(ghostEl, 'opacity', '0.8');\n      css(ghostEl, 'position', PositionGhostAbsolutely ? 'absolute' : 'fixed');\n      css(ghostEl, 'zIndex', '100000');\n      css(ghostEl, 'pointerEvents', 'none');\n      Sortable.ghost = ghostEl;\n      container.appendChild(ghostEl); // Set transform-origin\n\n      css(ghostEl, 'transform-origin', tapDistanceLeft / parseInt(ghostEl.style.width) * 100 + '% ' + tapDistanceTop / parseInt(ghostEl.style.height) * 100 + '%');\n    }\n  },\n  _onDragStart: function _onDragStart(\n  /**Event*/\n  evt,\n  /**boolean*/\n  fallback) {\n    var _this = this;\n\n    var dataTransfer = evt.dataTransfer;\n    var options = _this.options;\n    pluginEvent('dragStart', this, {\n      evt: evt\n    });\n\n    if (Sortable.eventCanceled) {\n      this._onDrop();\n\n      return;\n    }\n\n    pluginEvent('setupClone', this);\n\n    if (!Sortable.eventCanceled) {\n      cloneEl = clone(dragEl);\n      cloneEl.draggable = false;\n      cloneEl.style['will-change'] = '';\n\n      this._hideClone();\n\n      toggleClass(cloneEl, this.options.chosenClass, false);\n      Sortable.clone = cloneEl;\n    } // #1143: IFrame support workaround\n\n\n    _this.cloneId = _nextTick(function () {\n      pluginEvent('clone', _this);\n      if (Sortable.eventCanceled) return;\n\n      if (!_this.options.removeCloneOnHide) {\n        rootEl.insertBefore(cloneEl, dragEl);\n      }\n\n      _this._hideClone();\n\n      _dispatchEvent({\n        sortable: _this,\n        name: 'clone'\n      });\n    });\n    !fallback && toggleClass(dragEl, options.dragClass, true); // Set proper drop events\n\n    if (fallback) {\n      ignoreNextClick = true;\n      _this._loopId = setInterval(_this._emulateDragOver, 50);\n    } else {\n      // Undo what was set in _prepareDragStart before drag started\n      off(document, 'mouseup', _this._onDrop);\n      off(document, 'touchend', _this._onDrop);\n      off(document, 'touchcancel', _this._onDrop);\n\n      if (dataTransfer) {\n        dataTransfer.effectAllowed = 'move';\n        options.setData && options.setData.call(_this, dataTransfer, dragEl);\n      }\n\n      on(document, 'drop', _this); // #1276 fix:\n\n      css(dragEl, 'transform', 'translateZ(0)');\n    }\n\n    awaitingDragStarted = true;\n    _this._dragStartId = _nextTick(_this._dragStarted.bind(_this, fallback, evt));\n    on(document, 'selectstart', _this);\n    moved = true;\n\n    if (Safari) {\n      css(document.body, 'user-select', 'none');\n    }\n  },\n  // Returns true - if no further action is needed (either inserted or another condition)\n  _onDragOver: function _onDragOver(\n  /**Event*/\n  evt) {\n    var el = this.el,\n        target = evt.target,\n        dragRect,\n        targetRect,\n        revert,\n        options = this.options,\n        group = options.group,\n        activeSortable = Sortable.active,\n        isOwner = activeGroup === group,\n        canSort = options.sort,\n        fromSortable = putSortable || activeSortable,\n        vertical,\n        _this = this,\n        completedFired = false;\n\n    if (_silent) return;\n\n    function dragOverEvent(name, extra) {\n      pluginEvent(name, _this, _objectSpread({\n        evt: evt,\n        isOwner: isOwner,\n        axis: vertical ? 'vertical' : 'horizontal',\n        revert: revert,\n        dragRect: dragRect,\n        targetRect: targetRect,\n        canSort: canSort,\n        fromSortable: fromSortable,\n        target: target,\n        completed: completed,\n        onMove: function onMove(target, after) {\n          return _onMove(rootEl, el, dragEl, dragRect, target, getRect(target), evt, after);\n        },\n        changed: changed\n      }, extra));\n    } // Capture animation state\n\n\n    function capture() {\n      dragOverEvent('dragOverAnimationCapture');\n\n      _this.captureAnimationState();\n\n      if (_this !== fromSortable) {\n        fromSortable.captureAnimationState();\n      }\n    } // Return invocation when dragEl is inserted (or completed)\n\n\n    function completed(insertion) {\n      dragOverEvent('dragOverCompleted', {\n        insertion: insertion\n      });\n\n      if (insertion) {\n        // Clones must be hidden before folding animation to capture dragRectAbsolute properly\n        if (isOwner) {\n          activeSortable._hideClone();\n        } else {\n          activeSortable._showClone(_this);\n        }\n\n        if (_this !== fromSortable) {\n          // Set ghost class to new sortable's ghost class\n          toggleClass(dragEl, putSortable ? putSortable.options.ghostClass : activeSortable.options.ghostClass, false);\n          toggleClass(dragEl, options.ghostClass, true);\n        }\n\n        if (putSortable !== _this && _this !== Sortable.active) {\n          putSortable = _this;\n        } else if (_this === Sortable.active && putSortable) {\n          putSortable = null;\n        } // Animation\n\n\n        if (fromSortable === _this) {\n          _this._ignoreWhileAnimating = target;\n        }\n\n        _this.animateAll(function () {\n          dragOverEvent('dragOverAnimationComplete');\n          _this._ignoreWhileAnimating = null;\n        });\n\n        if (_this !== fromSortable) {\n          fromSortable.animateAll();\n          fromSortable._ignoreWhileAnimating = null;\n        }\n      } // Null lastTarget if it is not inside a previously swapped element\n\n\n      if (target === dragEl && !dragEl.animated || target === el && !target.animated) {\n        lastTarget = null;\n      } // no bubbling and not fallback\n\n\n      if (!options.dragoverBubble && !evt.rootEl && target !== document) {\n        dragEl.parentNode[expando]._isOutsideThisEl(evt.target); // Do not detect for empty insert if already inserted\n\n\n        !insertion && nearestEmptyInsertDetectEvent(evt);\n      }\n\n      !options.dragoverBubble && evt.stopPropagation && evt.stopPropagation();\n      return completedFired = true;\n    } // Call when dragEl has been inserted\n\n\n    function changed() {\n      newIndex = index(dragEl);\n      newDraggableIndex = index(dragEl, options.draggable);\n\n      _dispatchEvent({\n        sortable: _this,\n        name: 'change',\n        toEl: el,\n        newIndex: newIndex,\n        newDraggableIndex: newDraggableIndex,\n        originalEvent: evt\n      });\n    }\n\n    if (evt.preventDefault !== void 0) {\n      evt.cancelable && evt.preventDefault();\n    }\n\n    target = closest(target, options.draggable, el, true);\n    dragOverEvent('dragOver');\n    if (Sortable.eventCanceled) return completedFired;\n\n    if (dragEl.contains(evt.target) || target.animated && target.animatingX && target.animatingY || _this._ignoreWhileAnimating === target) {\n      return completed(false);\n    }\n\n    ignoreNextClick = false;\n\n    if (activeSortable && !options.disabled && (isOwner ? canSort || (revert = !rootEl.contains(dragEl)) // Reverting item into the original list\n    : putSortable === this || (this.lastPutMode = activeGroup.checkPull(this, activeSortable, dragEl, evt)) && group.checkPut(this, activeSortable, dragEl, evt))) {\n      vertical = this._getDirection(evt, target) === 'vertical';\n      dragRect = getRect(dragEl);\n      dragOverEvent('dragOverValid');\n      if (Sortable.eventCanceled) return completedFired;\n\n      if (revert) {\n        parentEl = rootEl; // actualization\n\n        capture();\n\n        this._hideClone();\n\n        dragOverEvent('revert');\n\n        if (!Sortable.eventCanceled) {\n          if (nextEl) {\n            rootEl.insertBefore(dragEl, nextEl);\n          } else {\n            rootEl.appendChild(dragEl);\n          }\n        }\n\n        return completed(true);\n      }\n\n      var elLastChild = lastChild(el, options.draggable);\n\n      if (!elLastChild || _ghostIsLast(evt, vertical, this) && !elLastChild.animated) {\n        // If already at end of list: Do not insert\n        if (elLastChild === dragEl) {\n          return completed(false);\n        } // assign target only if condition is true\n\n\n        if (elLastChild && el === evt.target) {\n          target = elLastChild;\n        }\n\n        if (target) {\n          targetRect = getRect(target);\n        }\n\n        if (_onMove(rootEl, el, dragEl, dragRect, target, targetRect, evt, !!target) !== false) {\n          capture();\n          el.appendChild(dragEl);\n          parentEl = el; // actualization\n\n          changed();\n          return completed(true);\n        }\n      } else if (target.parentNode === el) {\n        targetRect = getRect(target);\n        var direction = 0,\n            targetBeforeFirstSwap,\n            differentLevel = dragEl.parentNode !== el,\n            differentRowCol = !_dragElInRowColumn(dragEl.animated && dragEl.toRect || dragRect, target.animated && target.toRect || targetRect, vertical),\n            side1 = vertical ? 'top' : 'left',\n            scrolledPastTop = isScrolledPast(target, 'top', 'top') || isScrolledPast(dragEl, 'top', 'top'),\n            scrollBefore = scrolledPastTop ? scrolledPastTop.scrollTop : void 0;\n\n        if (lastTarget !== target) {\n          targetBeforeFirstSwap = targetRect[side1];\n          pastFirstInvertThresh = false;\n          isCircumstantialInvert = !differentRowCol && options.invertSwap || differentLevel;\n        }\n\n        direction = _getSwapDirection(evt, target, targetRect, vertical, differentRowCol ? 1 : options.swapThreshold, options.invertedSwapThreshold == null ? options.swapThreshold : options.invertedSwapThreshold, isCircumstantialInvert, lastTarget === target);\n        var sibling;\n\n        if (direction !== 0) {\n          // Check if target is beside dragEl in respective direction (ignoring hidden elements)\n          var dragIndex = index(dragEl);\n\n          do {\n            dragIndex -= direction;\n            sibling = parentEl.children[dragIndex];\n          } while (sibling && (css(sibling, 'display') === 'none' || sibling === ghostEl));\n        } // If dragEl is already beside target: Do not insert\n\n\n        if (direction === 0 || sibling === target) {\n          return completed(false);\n        }\n\n        lastTarget = target;\n        lastDirection = direction;\n        var nextSibling = target.nextElementSibling,\n            after = false;\n        after = direction === 1;\n\n        var moveVector = _onMove(rootEl, el, dragEl, dragRect, target, targetRect, evt, after);\n\n        if (moveVector !== false) {\n          if (moveVector === 1 || moveVector === -1) {\n            after = moveVector === 1;\n          }\n\n          _silent = true;\n          setTimeout(_unsilent, 30);\n          capture();\n\n          if (after && !nextSibling) {\n            el.appendChild(dragEl);\n          } else {\n            target.parentNode.insertBefore(dragEl, after ? nextSibling : target);\n          } // Undo chrome's scroll adjustment (has no effect on other browsers)\n\n\n          if (scrolledPastTop) {\n            scrollBy(scrolledPastTop, 0, scrollBefore - scrolledPastTop.scrollTop);\n          }\n\n          parentEl = dragEl.parentNode; // actualization\n          // must be done before animation\n\n          if (targetBeforeFirstSwap !== undefined && !isCircumstantialInvert) {\n            targetMoveDistance = Math.abs(targetBeforeFirstSwap - getRect(target)[side1]);\n          }\n\n          changed();\n          return completed(true);\n        }\n      }\n\n      if (el.contains(dragEl)) {\n        return completed(false);\n      }\n    }\n\n    return false;\n  },\n  _ignoreWhileAnimating: null,\n  _offMoveEvents: function _offMoveEvents() {\n    off(document, 'mousemove', this._onTouchMove);\n    off(document, 'touchmove', this._onTouchMove);\n    off(document, 'pointermove', this._onTouchMove);\n    off(document, 'dragover', nearestEmptyInsertDetectEvent);\n    off(document, 'mousemove', nearestEmptyInsertDetectEvent);\n    off(document, 'touchmove', nearestEmptyInsertDetectEvent);\n  },\n  _offUpEvents: function _offUpEvents() {\n    var ownerDocument = this.el.ownerDocument;\n    off(ownerDocument, 'mouseup', this._onDrop);\n    off(ownerDocument, 'touchend', this._onDrop);\n    off(ownerDocument, 'pointerup', this._onDrop);\n    off(ownerDocument, 'touchcancel', this._onDrop);\n    off(document, 'selectstart', this);\n  },\n  _onDrop: function _onDrop(\n  /**Event*/\n  evt) {\n    var el = this.el,\n        options = this.options; // Get the index of the dragged element within its parent\n\n    newIndex = index(dragEl);\n    newDraggableIndex = index(dragEl, options.draggable);\n    pluginEvent('drop', this, {\n      evt: evt\n    });\n    parentEl = dragEl && dragEl.parentNode; // Get again after plugin event\n\n    newIndex = index(dragEl);\n    newDraggableIndex = index(dragEl, options.draggable);\n\n    if (Sortable.eventCanceled) {\n      this._nulling();\n\n      return;\n    }\n\n    awaitingDragStarted = false;\n    isCircumstantialInvert = false;\n    pastFirstInvertThresh = false;\n    clearInterval(this._loopId);\n    clearTimeout(this._dragStartTimer);\n\n    _cancelNextTick(this.cloneId);\n\n    _cancelNextTick(this._dragStartId); // Unbind events\n\n\n    if (this.nativeDraggable) {\n      off(document, 'drop', this);\n      off(el, 'dragstart', this._onDragStart);\n    }\n\n    this._offMoveEvents();\n\n    this._offUpEvents();\n\n    if (Safari) {\n      css(document.body, 'user-select', '');\n    }\n\n    css(dragEl, 'transform', '');\n\n    if (evt) {\n      if (moved) {\n        evt.cancelable && evt.preventDefault();\n        !options.dropBubble && evt.stopPropagation();\n      }\n\n      ghostEl && ghostEl.parentNode && ghostEl.parentNode.removeChild(ghostEl);\n\n      if (rootEl === parentEl || putSortable && putSortable.lastPutMode !== 'clone') {\n        // Remove clone(s)\n        cloneEl && cloneEl.parentNode && cloneEl.parentNode.removeChild(cloneEl);\n      }\n\n      if (dragEl) {\n        if (this.nativeDraggable) {\n          off(dragEl, 'dragend', this);\n        }\n\n        _disableDraggable(dragEl);\n\n        dragEl.style['will-change'] = ''; // Remove classes\n        // ghostClass is added in dragStarted\n\n        if (moved && !awaitingDragStarted) {\n          toggleClass(dragEl, putSortable ? putSortable.options.ghostClass : this.options.ghostClass, false);\n        }\n\n        toggleClass(dragEl, this.options.chosenClass, false); // Drag stop event\n\n        _dispatchEvent({\n          sortable: this,\n          name: 'unchoose',\n          toEl: parentEl,\n          newIndex: null,\n          newDraggableIndex: null,\n          originalEvent: evt\n        });\n\n        if (rootEl !== parentEl) {\n          if (newIndex >= 0) {\n            // Add event\n            _dispatchEvent({\n              rootEl: parentEl,\n              name: 'add',\n              toEl: parentEl,\n              fromEl: rootEl,\n              originalEvent: evt\n            }); // Remove event\n\n\n            _dispatchEvent({\n              sortable: this,\n              name: 'remove',\n              toEl: parentEl,\n              originalEvent: evt\n            }); // drag from one list and drop into another\n\n\n            _dispatchEvent({\n              rootEl: parentEl,\n              name: 'sort',\n              toEl: parentEl,\n              fromEl: rootEl,\n              originalEvent: evt\n            });\n\n            _dispatchEvent({\n              sortable: this,\n              name: 'sort',\n              toEl: parentEl,\n              originalEvent: evt\n            });\n          }\n\n          putSortable && putSortable.save();\n        } else {\n          if (newIndex !== oldIndex) {\n            if (newIndex >= 0) {\n              // drag & drop within the same list\n              _dispatchEvent({\n                sortable: this,\n                name: 'update',\n                toEl: parentEl,\n                originalEvent: evt\n              });\n\n              _dispatchEvent({\n                sortable: this,\n                name: 'sort',\n                toEl: parentEl,\n                originalEvent: evt\n              });\n            }\n          }\n        }\n\n        if (Sortable.active) {\n          /* jshint eqnull:true */\n          if (newIndex == null || newIndex === -1) {\n            newIndex = oldIndex;\n            newDraggableIndex = oldDraggableIndex;\n          }\n\n          _dispatchEvent({\n            sortable: this,\n            name: 'end',\n            toEl: parentEl,\n            originalEvent: evt\n          }); // Save sorting\n\n\n          this.save();\n        }\n      }\n    }\n\n    this._nulling();\n  },\n  _nulling: function _nulling() {\n    pluginEvent('nulling', this);\n    rootEl = dragEl = parentEl = ghostEl = nextEl = cloneEl = lastDownEl = cloneHidden = tapEvt = touchEvt = moved = newIndex = newDraggableIndex = oldIndex = oldDraggableIndex = lastTarget = lastDirection = putSortable = activeGroup = Sortable.dragged = Sortable.ghost = Sortable.clone = Sortable.active = null;\n    savedInputChecked.forEach(function (el) {\n      el.checked = true;\n    });\n    savedInputChecked.length = lastDx = lastDy = 0;\n  },\n  handleEvent: function handleEvent(\n  /**Event*/\n  evt) {\n    switch (evt.type) {\n      case 'drop':\n      case 'dragend':\n        this._onDrop(evt);\n\n        break;\n\n      case 'dragenter':\n      case 'dragover':\n        if (dragEl) {\n          this._onDragOver(evt);\n\n          _globalDragOver(evt);\n        }\n\n        break;\n\n      case 'selectstart':\n        evt.preventDefault();\n        break;\n    }\n  },\n\n  /**\n   * Serializes the item into an array of string.\n   * @returns {String[]}\n   */\n  toArray: function toArray() {\n    var order = [],\n        el,\n        children = this.el.children,\n        i = 0,\n        n = children.length,\n        options = this.options;\n\n    for (; i < n; i++) {\n      el = children[i];\n\n      if (closest(el, options.draggable, this.el, false)) {\n        order.push(el.getAttribute(options.dataIdAttr) || _generateId(el));\n      }\n    }\n\n    return order;\n  },\n\n  /**\n   * Sorts the elements according to the array.\n   * @param  {String[]}  order  order of the items\n   */\n  sort: function sort(order) {\n    var items = {},\n        rootEl = this.el;\n    this.toArray().forEach(function (id, i) {\n      var el = rootEl.children[i];\n\n      if (closest(el, this.options.draggable, rootEl, false)) {\n        items[id] = el;\n      }\n    }, this);\n    order.forEach(function (id) {\n      if (items[id]) {\n        rootEl.removeChild(items[id]);\n        rootEl.appendChild(items[id]);\n      }\n    });\n  },\n\n  /**\n   * Save the current sorting\n   */\n  save: function save() {\n    var store = this.options.store;\n    store && store.set && store.set(this);\n  },\n\n  /**\n   * For each element in the set, get the first element that matches the selector by testing the element itself and traversing up through its ancestors in the DOM tree.\n   * @param   {HTMLElement}  el\n   * @param   {String}       [selector]  default: `options.draggable`\n   * @returns {HTMLElement|null}\n   */\n  closest: function closest$1(el, selector) {\n    return closest(el, selector || this.options.draggable, this.el, false);\n  },\n\n  /**\n   * Set/get option\n   * @param   {string} name\n   * @param   {*}      [value]\n   * @returns {*}\n   */\n  option: function option(name, value) {\n    var options = this.options;\n\n    if (value === void 0) {\n      return options[name];\n    } else {\n      var modifiedValue = PluginManager.modifyOption(this, name, value);\n\n      if (typeof modifiedValue !== 'undefined') {\n        options[name] = modifiedValue;\n      } else {\n        options[name] = value;\n      }\n\n      if (name === 'group') {\n        _prepareGroup(options);\n      }\n    }\n  },\n\n  /**\n   * Destroy\n   */\n  destroy: function destroy() {\n    pluginEvent('destroy', this);\n    var el = this.el;\n    el[expando] = null;\n    off(el, 'mousedown', this._onTapStart);\n    off(el, 'touchstart', this._onTapStart);\n    off(el, 'pointerdown', this._onTapStart);\n\n    if (this.nativeDraggable) {\n      off(el, 'dragover', this);\n      off(el, 'dragenter', this);\n    } // Remove draggable attributes\n\n\n    Array.prototype.forEach.call(el.querySelectorAll('[draggable]'), function (el) {\n      el.removeAttribute('draggable');\n    });\n\n    this._onDrop();\n\n    this._disableDelayedDragEvents();\n\n    sortables.splice(sortables.indexOf(this.el), 1);\n    this.el = el = null;\n  },\n  _hideClone: function _hideClone() {\n    if (!cloneHidden) {\n      pluginEvent('hideClone', this);\n      if (Sortable.eventCanceled) return;\n      css(cloneEl, 'display', 'none');\n\n      if (this.options.removeCloneOnHide && cloneEl.parentNode) {\n        cloneEl.parentNode.removeChild(cloneEl);\n      }\n\n      cloneHidden = true;\n    }\n  },\n  _showClone: function _showClone(putSortable) {\n    if (putSortable.lastPutMode !== 'clone') {\n      this._hideClone();\n\n      return;\n    }\n\n    if (cloneHidden) {\n      pluginEvent('showClone', this);\n      if (Sortable.eventCanceled) return; // show clone at dragEl or original position\n\n      if (rootEl.contains(dragEl) && !this.options.group.revertClone) {\n        rootEl.insertBefore(cloneEl, dragEl);\n      } else if (nextEl) {\n        rootEl.insertBefore(cloneEl, nextEl);\n      } else {\n        rootEl.appendChild(cloneEl);\n      }\n\n      if (this.options.group.revertClone) {\n        this.animate(dragEl, cloneEl);\n      }\n\n      css(cloneEl, 'display', '');\n      cloneHidden = false;\n    }\n  }\n};\n\nfunction _globalDragOver(\n/**Event*/\nevt) {\n  if (evt.dataTransfer) {\n    evt.dataTransfer.dropEffect = 'move';\n  }\n\n  evt.cancelable && evt.preventDefault();\n}\n\nfunction _onMove(fromEl, toEl, dragEl, dragRect, targetEl, targetRect, originalEvent, willInsertAfter) {\n  var evt,\n      sortable = fromEl[expando],\n      onMoveFn = sortable.options.onMove,\n      retVal; // Support for new CustomEvent feature\n\n  if (window.CustomEvent && !IE11OrLess && !Edge) {\n    evt = new CustomEvent('move', {\n      bubbles: true,\n      cancelable: true\n    });\n  } else {\n    evt = document.createEvent('Event');\n    evt.initEvent('move', true, true);\n  }\n\n  evt.to = toEl;\n  evt.from = fromEl;\n  evt.dragged = dragEl;\n  evt.draggedRect = dragRect;\n  evt.related = targetEl || toEl;\n  evt.relatedRect = targetRect || getRect(toEl);\n  evt.willInsertAfter = willInsertAfter;\n  evt.originalEvent = originalEvent;\n  fromEl.dispatchEvent(evt);\n\n  if (onMoveFn) {\n    retVal = onMoveFn.call(sortable, evt, originalEvent);\n  }\n\n  return retVal;\n}\n\nfunction _disableDraggable(el) {\n  el.draggable = false;\n}\n\nfunction _unsilent() {\n  _silent = false;\n}\n\nfunction _ghostIsLast(evt, vertical, sortable) {\n  var rect = getRect(lastChild(sortable.el, sortable.options.draggable));\n  var spacer = 10;\n  return vertical ? evt.clientX > rect.right + spacer || evt.clientX <= rect.right && evt.clientY > rect.bottom && evt.clientX >= rect.left : evt.clientX > rect.right && evt.clientY > rect.top || evt.clientX <= rect.right && evt.clientY > rect.bottom + spacer;\n}\n\nfunction _getSwapDirection(evt, target, targetRect, vertical, swapThreshold, invertedSwapThreshold, invertSwap, isLastTarget) {\n  var mouseOnAxis = vertical ? evt.clientY : evt.clientX,\n      targetLength = vertical ? targetRect.height : targetRect.width,\n      targetS1 = vertical ? targetRect.top : targetRect.left,\n      targetS2 = vertical ? targetRect.bottom : targetRect.right,\n      invert = false;\n\n  if (!invertSwap) {\n    // Never invert or create dragEl shadow when target movemenet causes mouse to move past the end of regular swapThreshold\n    if (isLastTarget && targetMoveDistance < targetLength * swapThreshold) {\n      // multiplied only by swapThreshold because mouse will already be inside target by (1 - threshold) * targetLength / 2\n      // check if past first invert threshold on side opposite of lastDirection\n      if (!pastFirstInvertThresh && (lastDirection === 1 ? mouseOnAxis > targetS1 + targetLength * invertedSwapThreshold / 2 : mouseOnAxis < targetS2 - targetLength * invertedSwapThreshold / 2)) {\n        // past first invert threshold, do not restrict inverted threshold to dragEl shadow\n        pastFirstInvertThresh = true;\n      }\n\n      if (!pastFirstInvertThresh) {\n        // dragEl shadow (target move distance shadow)\n        if (lastDirection === 1 ? mouseOnAxis < targetS1 + targetMoveDistance // over dragEl shadow\n        : mouseOnAxis > targetS2 - targetMoveDistance) {\n          return -lastDirection;\n        }\n      } else {\n        invert = true;\n      }\n    } else {\n      // Regular\n      if (mouseOnAxis > targetS1 + targetLength * (1 - swapThreshold) / 2 && mouseOnAxis < targetS2 - targetLength * (1 - swapThreshold) / 2) {\n        return _getInsertDirection(target);\n      }\n    }\n  }\n\n  invert = invert || invertSwap;\n\n  if (invert) {\n    // Invert of regular\n    if (mouseOnAxis < targetS1 + targetLength * invertedSwapThreshold / 2 || mouseOnAxis > targetS2 - targetLength * invertedSwapThreshold / 2) {\n      return mouseOnAxis > targetS1 + targetLength / 2 ? 1 : -1;\n    }\n  }\n\n  return 0;\n}\n/**\n * Gets the direction dragEl must be swapped relative to target in order to make it\n * seem that dragEl has been \"inserted\" into that element's position\n * @param  {HTMLElement} target       The target whose position dragEl is being inserted at\n * @return {Number}                   Direction dragEl must be swapped\n */\n\n\nfunction _getInsertDirection(target) {\n  if (index(dragEl) < index(target)) {\n    return 1;\n  } else {\n    return -1;\n  }\n}\n/**\n * Generate id\n * @param   {HTMLElement} el\n * @returns {String}\n * @private\n */\n\n\nfunction _generateId(el) {\n  var str = el.tagName + el.className + el.src + el.href + el.textContent,\n      i = str.length,\n      sum = 0;\n\n  while (i--) {\n    sum += str.charCodeAt(i);\n  }\n\n  return sum.toString(36);\n}\n\nfunction _saveInputCheckedState(root) {\n  savedInputChecked.length = 0;\n  var inputs = root.getElementsByTagName('input');\n  var idx = inputs.length;\n\n  while (idx--) {\n    var el = inputs[idx];\n    el.checked && savedInputChecked.push(el);\n  }\n}\n\nfunction _nextTick(fn) {\n  return setTimeout(fn, 0);\n}\n\nfunction _cancelNextTick(id) {\n  return clearTimeout(id);\n} // Fixed #973:\n\n\nif (documentExists) {\n  on(document, 'touchmove', function (evt) {\n    if ((Sortable.active || awaitingDragStarted) && evt.cancelable) {\n      evt.preventDefault();\n    }\n  });\n} // Export utils\n\n\nSortable.utils = {\n  on: on,\n  off: off,\n  css: css,\n  find: find,\n  is: function is(el, selector) {\n    return !!closest(el, selector, el, false);\n  },\n  extend: extend,\n  throttle: throttle,\n  closest: closest,\n  toggleClass: toggleClass,\n  clone: clone,\n  index: index,\n  nextTick: _nextTick,\n  cancelNextTick: _cancelNextTick,\n  detectDirection: _detectDirection,\n  getChild: getChild\n};\n/**\n * Get the Sortable instance of an element\n * @param  {HTMLElement} element The element\n * @return {Sortable|undefined}         The instance of Sortable\n */\n\nSortable.get = function (element) {\n  return element[expando];\n};\n/**\n * Mount a plugin to Sortable\n * @param  {...SortablePlugin|SortablePlugin[]} plugins       Plugins being mounted\n */\n\n\nSortable.mount = function () {\n  for (var _len = arguments.length, plugins = new Array(_len), _key = 0; _key < _len; _key++) {\n    plugins[_key] = arguments[_key];\n  }\n\n  if (plugins[0].constructor === Array) plugins = plugins[0];\n  plugins.forEach(function (plugin) {\n    if (!plugin.prototype || !plugin.prototype.constructor) {\n      throw \"Sortable: Mounted plugin must be a constructor function, not \".concat({}.toString.call(plugin));\n    }\n\n    if (plugin.utils) Sortable.utils = _objectSpread({}, Sortable.utils, plugin.utils);\n    PluginManager.mount(plugin);\n  });\n};\n/**\n * Create sortable instance\n * @param {HTMLElement}  el\n * @param {Object}      [options]\n */\n\n\nSortable.create = function (el, options) {\n  return new Sortable(el, options);\n}; // Export\n\n\nSortable.version = version;\n\nvar autoScrolls = [],\n    scrollEl,\n    scrollRootEl,\n    scrolling = false,\n    lastAutoScrollX,\n    lastAutoScrollY,\n    touchEvt$1,\n    pointerElemChangedInterval;\n\nfunction AutoScrollPlugin() {\n  function AutoScroll() {\n    this.defaults = {\n      scroll: true,\n      scrollSensitivity: 30,\n      scrollSpeed: 10,\n      bubbleScroll: true\n    }; // Bind all private methods\n\n    for (var fn in this) {\n      if (fn.charAt(0) === '_' && typeof this[fn] === 'function') {\n        this[fn] = this[fn].bind(this);\n      }\n    }\n  }\n\n  AutoScroll.prototype = {\n    dragStarted: function dragStarted(_ref) {\n      var originalEvent = _ref.originalEvent;\n\n      if (this.sortable.nativeDraggable) {\n        on(document, 'dragover', this._handleAutoScroll);\n      } else {\n        if (this.options.supportPointer) {\n          on(document, 'pointermove', this._handleFallbackAutoScroll);\n        } else if (originalEvent.touches) {\n          on(document, 'touchmove', this._handleFallbackAutoScroll);\n        } else {\n          on(document, 'mousemove', this._handleFallbackAutoScroll);\n        }\n      }\n    },\n    dragOverCompleted: function dragOverCompleted(_ref2) {\n      var originalEvent = _ref2.originalEvent;\n\n      // For when bubbling is canceled and using fallback (fallback 'touchmove' always reached)\n      if (!this.options.dragOverBubble && !originalEvent.rootEl) {\n        this._handleAutoScroll(originalEvent);\n      }\n    },\n    drop: function drop() {\n      if (this.sortable.nativeDraggable) {\n        off(document, 'dragover', this._handleAutoScroll);\n      } else {\n        off(document, 'pointermove', this._handleFallbackAutoScroll);\n        off(document, 'touchmove', this._handleFallbackAutoScroll);\n        off(document, 'mousemove', this._handleFallbackAutoScroll);\n      }\n\n      clearPointerElemChangedInterval();\n      clearAutoScrolls();\n      cancelThrottle();\n    },\n    nulling: function nulling() {\n      touchEvt$1 = scrollRootEl = scrollEl = scrolling = pointerElemChangedInterval = lastAutoScrollX = lastAutoScrollY = null;\n      autoScrolls.length = 0;\n    },\n    _handleFallbackAutoScroll: function _handleFallbackAutoScroll(evt) {\n      this._handleAutoScroll(evt, true);\n    },\n    _handleAutoScroll: function _handleAutoScroll(evt, fallback) {\n      var _this = this;\n\n      var x = (evt.touches ? evt.touches[0] : evt).clientX,\n          y = (evt.touches ? evt.touches[0] : evt).clientY,\n          elem = document.elementFromPoint(x, y);\n      touchEvt$1 = evt; // IE does not seem to have native autoscroll,\n      // Edge's autoscroll seems too conditional,\n      // MACOS Safari does not have autoscroll,\n      // Firefox and Chrome are good\n\n      if (fallback || Edge || IE11OrLess || Safari) {\n        autoScroll(evt, this.options, elem, fallback); // Listener for pointer element change\n\n        var ogElemScroller = getParentAutoScrollElement(elem, true);\n\n        if (scrolling && (!pointerElemChangedInterval || x !== lastAutoScrollX || y !== lastAutoScrollY)) {\n          pointerElemChangedInterval && clearPointerElemChangedInterval(); // Detect for pointer elem change, emulating native DnD behaviour\n\n          pointerElemChangedInterval = setInterval(function () {\n            var newElem = getParentAutoScrollElement(document.elementFromPoint(x, y), true);\n\n            if (newElem !== ogElemScroller) {\n              ogElemScroller = newElem;\n              clearAutoScrolls();\n            }\n\n            autoScroll(evt, _this.options, newElem, fallback);\n          }, 10);\n          lastAutoScrollX = x;\n          lastAutoScrollY = y;\n        }\n      } else {\n        // if DnD is enabled (and browser has good autoscrolling), first autoscroll will already scroll, so get parent autoscroll of first autoscroll\n        if (!this.options.bubbleScroll || getParentAutoScrollElement(elem, true) === getWindowScrollingElement()) {\n          clearAutoScrolls();\n          return;\n        }\n\n        autoScroll(evt, this.options, getParentAutoScrollElement(elem, false), false);\n      }\n    }\n  };\n  return _extends(AutoScroll, {\n    pluginName: 'scroll',\n    initializeByDefault: true\n  });\n}\n\nfunction clearAutoScrolls() {\n  autoScrolls.forEach(function (autoScroll) {\n    clearInterval(autoScroll.pid);\n  });\n  autoScrolls = [];\n}\n\nfunction clearPointerElemChangedInterval() {\n  clearInterval(pointerElemChangedInterval);\n}\n\nvar autoScroll = throttle(function (evt, options, rootEl, isFallback) {\n  // Bug: https://bugzilla.mozilla.org/show_bug.cgi?id=505521\n  if (!options.scroll) return;\n  var x = (evt.touches ? evt.touches[0] : evt).clientX,\n      y = (evt.touches ? evt.touches[0] : evt).clientY,\n      sens = options.scrollSensitivity,\n      speed = options.scrollSpeed,\n      winScroller = getWindowScrollingElement();\n  var scrollThisInstance = false,\n      scrollCustomFn; // New scroll root, set scrollEl\n\n  if (scrollRootEl !== rootEl) {\n    scrollRootEl = rootEl;\n    clearAutoScrolls();\n    scrollEl = options.scroll;\n    scrollCustomFn = options.scrollFn;\n\n    if (scrollEl === true) {\n      scrollEl = getParentAutoScrollElement(rootEl, true);\n    }\n  }\n\n  var layersOut = 0;\n  var currentParent = scrollEl;\n\n  do {\n    var el = currentParent,\n        rect = getRect(el),\n        top = rect.top,\n        bottom = rect.bottom,\n        left = rect.left,\n        right = rect.right,\n        width = rect.width,\n        height = rect.height,\n        canScrollX = void 0,\n        canScrollY = void 0,\n        scrollWidth = el.scrollWidth,\n        scrollHeight = el.scrollHeight,\n        elCSS = css(el),\n        scrollPosX = el.scrollLeft,\n        scrollPosY = el.scrollTop;\n\n    if (el === winScroller) {\n      canScrollX = width < scrollWidth && (elCSS.overflowX === 'auto' || elCSS.overflowX === 'scroll' || elCSS.overflowX === 'visible');\n      canScrollY = height < scrollHeight && (elCSS.overflowY === 'auto' || elCSS.overflowY === 'scroll' || elCSS.overflowY === 'visible');\n    } else {\n      canScrollX = width < scrollWidth && (elCSS.overflowX === 'auto' || elCSS.overflowX === 'scroll');\n      canScrollY = height < scrollHeight && (elCSS.overflowY === 'auto' || elCSS.overflowY === 'scroll');\n    }\n\n    var vx = canScrollX && (Math.abs(right - x) <= sens && scrollPosX + width < scrollWidth) - (Math.abs(left - x) <= sens && !!scrollPosX);\n    var vy = canScrollY && (Math.abs(bottom - y) <= sens && scrollPosY + height < scrollHeight) - (Math.abs(top - y) <= sens && !!scrollPosY);\n\n    if (!autoScrolls[layersOut]) {\n      for (var i = 0; i <= layersOut; i++) {\n        if (!autoScrolls[i]) {\n          autoScrolls[i] = {};\n        }\n      }\n    }\n\n    if (autoScrolls[layersOut].vx != vx || autoScrolls[layersOut].vy != vy || autoScrolls[layersOut].el !== el) {\n      autoScrolls[layersOut].el = el;\n      autoScrolls[layersOut].vx = vx;\n      autoScrolls[layersOut].vy = vy;\n      clearInterval(autoScrolls[layersOut].pid);\n\n      if (vx != 0 || vy != 0) {\n        scrollThisInstance = true;\n        /* jshint loopfunc:true */\n\n        autoScrolls[layersOut].pid = setInterval(function () {\n          // emulate drag over during autoscroll (fallback), emulating native DnD behaviour\n          if (isFallback && this.layer === 0) {\n            Sortable.active._onTouchMove(touchEvt$1); // To move ghost if it is positioned absolutely\n\n          }\n\n          var scrollOffsetY = autoScrolls[this.layer].vy ? autoScrolls[this.layer].vy * speed : 0;\n          var scrollOffsetX = autoScrolls[this.layer].vx ? autoScrolls[this.layer].vx * speed : 0;\n\n          if (typeof scrollCustomFn === 'function') {\n            if (scrollCustomFn.call(Sortable.dragged.parentNode[expando], scrollOffsetX, scrollOffsetY, evt, touchEvt$1, autoScrolls[this.layer].el) !== 'continue') {\n              return;\n            }\n          }\n\n          scrollBy(autoScrolls[this.layer].el, scrollOffsetX, scrollOffsetY);\n        }.bind({\n          layer: layersOut\n        }), 24);\n      }\n    }\n\n    layersOut++;\n  } while (options.bubbleScroll && currentParent !== winScroller && (currentParent = getParentAutoScrollElement(currentParent, false)));\n\n  scrolling = scrollThisInstance; // in case another function catches scrolling as false in between when it is not\n}, 30);\n\nvar drop = function drop(_ref) {\n  var originalEvent = _ref.originalEvent,\n      putSortable = _ref.putSortable,\n      dragEl = _ref.dragEl,\n      activeSortable = _ref.activeSortable,\n      dispatchSortableEvent = _ref.dispatchSortableEvent,\n      hideGhostForTarget = _ref.hideGhostForTarget,\n      unhideGhostForTarget = _ref.unhideGhostForTarget;\n  if (!originalEvent) return;\n  var toSortable = putSortable || activeSortable;\n  hideGhostForTarget();\n  var touch = originalEvent.changedTouches && originalEvent.changedTouches.length ? originalEvent.changedTouches[0] : originalEvent;\n  var target = document.elementFromPoint(touch.clientX, touch.clientY);\n  unhideGhostForTarget();\n\n  if (toSortable && !toSortable.el.contains(target)) {\n    dispatchSortableEvent('spill');\n    this.onSpill({\n      dragEl: dragEl,\n      putSortable: putSortable\n    });\n  }\n};\n\nfunction Revert() {}\n\nRevert.prototype = {\n  startIndex: null,\n  dragStart: function dragStart(_ref2) {\n    var oldDraggableIndex = _ref2.oldDraggableIndex;\n    this.startIndex = oldDraggableIndex;\n  },\n  onSpill: function onSpill(_ref3) {\n    var dragEl = _ref3.dragEl,\n        putSortable = _ref3.putSortable;\n    this.sortable.captureAnimationState();\n\n    if (putSortable) {\n      putSortable.captureAnimationState();\n    }\n\n    var nextSibling = getChild(this.sortable.el, this.startIndex, this.options);\n\n    if (nextSibling) {\n      this.sortable.el.insertBefore(dragEl, nextSibling);\n    } else {\n      this.sortable.el.appendChild(dragEl);\n    }\n\n    this.sortable.animateAll();\n\n    if (putSortable) {\n      putSortable.animateAll();\n    }\n  },\n  drop: drop\n};\n\n_extends(Revert, {\n  pluginName: 'revertOnSpill'\n});\n\nfunction Remove() {}\n\nRemove.prototype = {\n  onSpill: function onSpill(_ref4) {\n    var dragEl = _ref4.dragEl,\n        putSortable = _ref4.putSortable;\n    var parentSortable = putSortable || this.sortable;\n    parentSortable.captureAnimationState();\n    dragEl.parentNode && dragEl.parentNode.removeChild(dragEl);\n    parentSortable.animateAll();\n  },\n  drop: drop\n};\n\n_extends(Remove, {\n  pluginName: 'removeOnSpill'\n});\n\nvar lastSwapEl;\n\nfunction SwapPlugin() {\n  function Swap() {\n    this.defaults = {\n      swapClass: 'sortable-swap-highlight'\n    };\n  }\n\n  Swap.prototype = {\n    dragStart: function dragStart(_ref) {\n      var dragEl = _ref.dragEl;\n      lastSwapEl = dragEl;\n    },\n    dragOverValid: function dragOverValid(_ref2) {\n      var completed = _ref2.completed,\n          target = _ref2.target,\n          onMove = _ref2.onMove,\n          activeSortable = _ref2.activeSortable,\n          changed = _ref2.changed,\n          cancel = _ref2.cancel;\n      if (!activeSortable.options.swap) return;\n      var el = this.sortable.el,\n          options = this.options;\n\n      if (target && target !== el) {\n        var prevSwapEl = lastSwapEl;\n\n        if (onMove(target) !== false) {\n          toggleClass(target, options.swapClass, true);\n          lastSwapEl = target;\n        } else {\n          lastSwapEl = null;\n        }\n\n        if (prevSwapEl && prevSwapEl !== lastSwapEl) {\n          toggleClass(prevSwapEl, options.swapClass, false);\n        }\n      }\n\n      changed();\n      completed(true);\n      cancel();\n    },\n    drop: function drop(_ref3) {\n      var activeSortable = _ref3.activeSortable,\n          putSortable = _ref3.putSortable,\n          dragEl = _ref3.dragEl;\n      var toSortable = putSortable || this.sortable;\n      var options = this.options;\n      lastSwapEl && toggleClass(lastSwapEl, options.swapClass, false);\n\n      if (lastSwapEl && (options.swap || putSortable && putSortable.options.swap)) {\n        if (dragEl !== lastSwapEl) {\n          toSortable.captureAnimationState();\n          if (toSortable !== activeSortable) activeSortable.captureAnimationState();\n          swapNodes(dragEl, lastSwapEl);\n          toSortable.animateAll();\n          if (toSortable !== activeSortable) activeSortable.animateAll();\n        }\n      }\n    },\n    nulling: function nulling() {\n      lastSwapEl = null;\n    }\n  };\n  return _extends(Swap, {\n    pluginName: 'swap',\n    eventProperties: function eventProperties() {\n      return {\n        swapItem: lastSwapEl\n      };\n    }\n  });\n}\n\nfunction swapNodes(n1, n2) {\n  var p1 = n1.parentNode,\n      p2 = n2.parentNode,\n      i1,\n      i2;\n  if (!p1 || !p2 || p1.isEqualNode(n2) || p2.isEqualNode(n1)) return;\n  i1 = index(n1);\n  i2 = index(n2);\n\n  if (p1.isEqualNode(p2) && i1 < i2) {\n    i2++;\n  }\n\n  p1.insertBefore(n2, p1.children[i1]);\n  p2.insertBefore(n1, p2.children[i2]);\n}\n\nvar multiDragElements = [],\n    multiDragClones = [],\n    lastMultiDragSelect,\n    // for selection with modifier key down (SHIFT)\nmultiDragSortable,\n    initialFolding = false,\n    // Initial multi-drag fold when drag started\nfolding = false,\n    // Folding any other time\ndragStarted = false,\n    dragEl$1,\n    clonesFromRect,\n    clonesHidden;\n\nfunction MultiDragPlugin() {\n  function MultiDrag(sortable) {\n    // Bind all private methods\n    for (var fn in this) {\n      if (fn.charAt(0) === '_' && typeof this[fn] === 'function') {\n        this[fn] = this[fn].bind(this);\n      }\n    }\n\n    if (sortable.options.supportPointer) {\n      on(document, 'pointerup', this._deselectMultiDrag);\n    } else {\n      on(document, 'mouseup', this._deselectMultiDrag);\n      on(document, 'touchend', this._deselectMultiDrag);\n    }\n\n    on(document, 'keydown', this._checkKeyDown);\n    on(document, 'keyup', this._checkKeyUp);\n    this.defaults = {\n      selectedClass: 'sortable-selected',\n      multiDragKey: null,\n      setData: function setData(dataTransfer, dragEl) {\n        var data = '';\n\n        if (multiDragElements.length && multiDragSortable === sortable) {\n          multiDragElements.forEach(function (multiDragElement, i) {\n            data += (!i ? '' : ', ') + multiDragElement.textContent;\n          });\n        } else {\n          data = dragEl.textContent;\n        }\n\n        dataTransfer.setData('Text', data);\n      }\n    };\n  }\n\n  MultiDrag.prototype = {\n    multiDragKeyDown: false,\n    isMultiDrag: false,\n    delayStartGlobal: function delayStartGlobal(_ref) {\n      var dragged = _ref.dragEl;\n      dragEl$1 = dragged;\n    },\n    delayEnded: function delayEnded() {\n      this.isMultiDrag = ~multiDragElements.indexOf(dragEl$1);\n    },\n    setupClone: function setupClone(_ref2) {\n      var sortable = _ref2.sortable,\n          cancel = _ref2.cancel;\n      if (!this.isMultiDrag) return;\n\n      for (var i = 0; i < multiDragElements.length; i++) {\n        multiDragClones.push(clone(multiDragElements[i]));\n        multiDragClones[i].sortableIndex = multiDragElements[i].sortableIndex;\n        multiDragClones[i].draggable = false;\n        multiDragClones[i].style['will-change'] = '';\n        toggleClass(multiDragClones[i], this.options.selectedClass, false);\n        multiDragElements[i] === dragEl$1 && toggleClass(multiDragClones[i], this.options.chosenClass, false);\n      }\n\n      sortable._hideClone();\n\n      cancel();\n    },\n    clone: function clone(_ref3) {\n      var sortable = _ref3.sortable,\n          rootEl = _ref3.rootEl,\n          dispatchSortableEvent = _ref3.dispatchSortableEvent,\n          cancel = _ref3.cancel;\n      if (!this.isMultiDrag) return;\n\n      if (!this.options.removeCloneOnHide) {\n        if (multiDragElements.length && multiDragSortable === sortable) {\n          insertMultiDragClones(true, rootEl);\n          dispatchSortableEvent('clone');\n          cancel();\n        }\n      }\n    },\n    showClone: function showClone(_ref4) {\n      var cloneNowShown = _ref4.cloneNowShown,\n          rootEl = _ref4.rootEl,\n          cancel = _ref4.cancel;\n      if (!this.isMultiDrag) return;\n      insertMultiDragClones(false, rootEl);\n      multiDragClones.forEach(function (clone) {\n        css(clone, 'display', '');\n      });\n      cloneNowShown();\n      clonesHidden = false;\n      cancel();\n    },\n    hideClone: function hideClone(_ref5) {\n      var _this = this;\n\n      var sortable = _ref5.sortable,\n          cloneNowHidden = _ref5.cloneNowHidden,\n          cancel = _ref5.cancel;\n      if (!this.isMultiDrag) return;\n      multiDragClones.forEach(function (clone) {\n        css(clone, 'display', 'none');\n\n        if (_this.options.removeCloneOnHide && clone.parentNode) {\n          clone.parentNode.removeChild(clone);\n        }\n      });\n      cloneNowHidden();\n      clonesHidden = true;\n      cancel();\n    },\n    dragStartGlobal: function dragStartGlobal(_ref6) {\n      var sortable = _ref6.sortable;\n\n      if (!this.isMultiDrag && multiDragSortable) {\n        multiDragSortable.multiDrag._deselectMultiDrag();\n      }\n\n      multiDragElements.forEach(function (multiDragElement) {\n        multiDragElement.sortableIndex = index(multiDragElement);\n      }); // Sort multi-drag elements\n\n      multiDragElements = multiDragElements.sort(function (a, b) {\n        return a.sortableIndex - b.sortableIndex;\n      });\n      dragStarted = true;\n    },\n    dragStarted: function dragStarted(_ref7) {\n      var _this2 = this;\n\n      var sortable = _ref7.sortable;\n      if (!this.isMultiDrag) return;\n\n      if (this.options.sort) {\n        // Capture rects,\n        // hide multi drag elements (by positioning them absolute),\n        // set multi drag elements rects to dragRect,\n        // show multi drag elements,\n        // animate to rects,\n        // unset rects & remove from DOM\n        sortable.captureAnimationState();\n\n        if (this.options.animation) {\n          multiDragElements.forEach(function (multiDragElement) {\n            if (multiDragElement === dragEl$1) return;\n            css(multiDragElement, 'position', 'absolute');\n          });\n          var dragRect = getRect(dragEl$1, false, true, true);\n          multiDragElements.forEach(function (multiDragElement) {\n            if (multiDragElement === dragEl$1) return;\n            setRect(multiDragElement, dragRect);\n          });\n          folding = true;\n          initialFolding = true;\n        }\n      }\n\n      sortable.animateAll(function () {\n        folding = false;\n        initialFolding = false;\n\n        if (_this2.options.animation) {\n          multiDragElements.forEach(function (multiDragElement) {\n            unsetRect(multiDragElement);\n          });\n        } // Remove all auxiliary multidrag items from el, if sorting enabled\n\n\n        if (_this2.options.sort) {\n          removeMultiDragElements();\n        }\n      });\n    },\n    dragOver: function dragOver(_ref8) {\n      var target = _ref8.target,\n          completed = _ref8.completed,\n          cancel = _ref8.cancel;\n\n      if (folding && ~multiDragElements.indexOf(target)) {\n        completed(false);\n        cancel();\n      }\n    },\n    revert: function revert(_ref9) {\n      var fromSortable = _ref9.fromSortable,\n          rootEl = _ref9.rootEl,\n          sortable = _ref9.sortable,\n          dragRect = _ref9.dragRect;\n\n      if (multiDragElements.length > 1) {\n        // Setup unfold animation\n        multiDragElements.forEach(function (multiDragElement) {\n          sortable.addAnimationState({\n            target: multiDragElement,\n            rect: folding ? getRect(multiDragElement) : dragRect\n          });\n          unsetRect(multiDragElement);\n          multiDragElement.fromRect = dragRect;\n          fromSortable.removeAnimationState(multiDragElement);\n        });\n        folding = false;\n        insertMultiDragElements(!this.options.removeCloneOnHide, rootEl);\n      }\n    },\n    dragOverCompleted: function dragOverCompleted(_ref10) {\n      var sortable = _ref10.sortable,\n          isOwner = _ref10.isOwner,\n          insertion = _ref10.insertion,\n          activeSortable = _ref10.activeSortable,\n          parentEl = _ref10.parentEl,\n          putSortable = _ref10.putSortable;\n      var options = this.options;\n\n      if (insertion) {\n        // Clones must be hidden before folding animation to capture dragRectAbsolute properly\n        if (isOwner) {\n          activeSortable._hideClone();\n        }\n\n        initialFolding = false; // If leaving sort:false root, or already folding - Fold to new location\n\n        if (options.animation && multiDragElements.length > 1 && (folding || !isOwner && !activeSortable.options.sort && !putSortable)) {\n          // Fold: Set all multi drag elements's rects to dragEl's rect when multi-drag elements are invisible\n          var dragRectAbsolute = getRect(dragEl$1, false, true, true);\n          multiDragElements.forEach(function (multiDragElement) {\n            if (multiDragElement === dragEl$1) return;\n            setRect(multiDragElement, dragRectAbsolute); // Move element(s) to end of parentEl so that it does not interfere with multi-drag clones insertion if they are inserted\n            // while folding, and so that we can capture them again because old sortable will no longer be fromSortable\n\n            parentEl.appendChild(multiDragElement);\n          });\n          folding = true;\n        } // Clones must be shown (and check to remove multi drags) after folding when interfering multiDragElements are moved out\n\n\n        if (!isOwner) {\n          // Only remove if not folding (folding will remove them anyways)\n          if (!folding) {\n            removeMultiDragElements();\n          }\n\n          if (multiDragElements.length > 1) {\n            var clonesHiddenBefore = clonesHidden;\n\n            activeSortable._showClone(sortable); // Unfold animation for clones if showing from hidden\n\n\n            if (activeSortable.options.animation && !clonesHidden && clonesHiddenBefore) {\n              multiDragClones.forEach(function (clone) {\n                activeSortable.addAnimationState({\n                  target: clone,\n                  rect: clonesFromRect\n                });\n                clone.fromRect = clonesFromRect;\n                clone.thisAnimationDuration = null;\n              });\n            }\n          } else {\n            activeSortable._showClone(sortable);\n          }\n        }\n      }\n    },\n    dragOverAnimationCapture: function dragOverAnimationCapture(_ref11) {\n      var dragRect = _ref11.dragRect,\n          isOwner = _ref11.isOwner,\n          activeSortable = _ref11.activeSortable;\n      multiDragElements.forEach(function (multiDragElement) {\n        multiDragElement.thisAnimationDuration = null;\n      });\n\n      if (activeSortable.options.animation && !isOwner && activeSortable.multiDrag.isMultiDrag) {\n        clonesFromRect = _extends({}, dragRect);\n        var dragMatrix = matrix(dragEl$1, true);\n        clonesFromRect.top -= dragMatrix.f;\n        clonesFromRect.left -= dragMatrix.e;\n      }\n    },\n    dragOverAnimationComplete: function dragOverAnimationComplete() {\n      if (folding) {\n        folding = false;\n        removeMultiDragElements();\n      }\n    },\n    drop: function drop(_ref12) {\n      var evt = _ref12.originalEvent,\n          rootEl = _ref12.rootEl,\n          parentEl = _ref12.parentEl,\n          sortable = _ref12.sortable,\n          dispatchSortableEvent = _ref12.dispatchSortableEvent,\n          oldIndex = _ref12.oldIndex,\n          putSortable = _ref12.putSortable;\n      var toSortable = putSortable || this.sortable;\n      if (!evt) return;\n      var options = this.options,\n          children = parentEl.children; // Multi-drag selection\n\n      if (!dragStarted) {\n        if (options.multiDragKey && !this.multiDragKeyDown) {\n          this._deselectMultiDrag();\n        }\n\n        toggleClass(dragEl$1, options.selectedClass, !~multiDragElements.indexOf(dragEl$1));\n\n        if (!~multiDragElements.indexOf(dragEl$1)) {\n          multiDragElements.push(dragEl$1);\n          dispatchEvent({\n            sortable: sortable,\n            rootEl: rootEl,\n            name: 'select',\n            targetEl: dragEl$1,\n            originalEvt: evt\n          }); // Modifier activated, select from last to dragEl\n\n          if (evt.shiftKey && lastMultiDragSelect && sortable.el.contains(lastMultiDragSelect)) {\n            var lastIndex = index(lastMultiDragSelect),\n                currentIndex = index(dragEl$1);\n\n            if (~lastIndex && ~currentIndex && lastIndex !== currentIndex) {\n              // Must include lastMultiDragSelect (select it), in case modified selection from no selection\n              // (but previous selection existed)\n              var n, i;\n\n              if (currentIndex > lastIndex) {\n                i = lastIndex;\n                n = currentIndex;\n              } else {\n                i = currentIndex;\n                n = lastIndex + 1;\n              }\n\n              for (; i < n; i++) {\n                if (~multiDragElements.indexOf(children[i])) continue;\n                toggleClass(children[i], options.selectedClass, true);\n                multiDragElements.push(children[i]);\n                dispatchEvent({\n                  sortable: sortable,\n                  rootEl: rootEl,\n                  name: 'select',\n                  targetEl: children[i],\n                  originalEvt: evt\n                });\n              }\n            }\n          } else {\n            lastMultiDragSelect = dragEl$1;\n          }\n\n          multiDragSortable = toSortable;\n        } else {\n          multiDragElements.splice(multiDragElements.indexOf(dragEl$1), 1);\n          lastMultiDragSelect = null;\n          dispatchEvent({\n            sortable: sortable,\n            rootEl: rootEl,\n            name: 'deselect',\n            targetEl: dragEl$1,\n            originalEvt: evt\n          });\n        }\n      } // Multi-drag drop\n\n\n      if (dragStarted && this.isMultiDrag) {\n        // Do not \"unfold\" after around dragEl if reverted\n        if ((parentEl[expando].options.sort || parentEl !== rootEl) && multiDragElements.length > 1) {\n          var dragRect = getRect(dragEl$1),\n              multiDragIndex = index(dragEl$1, ':not(.' + this.options.selectedClass + ')');\n          if (!initialFolding && options.animation) dragEl$1.thisAnimationDuration = null;\n          toSortable.captureAnimationState();\n\n          if (!initialFolding) {\n            if (options.animation) {\n              dragEl$1.fromRect = dragRect;\n              multiDragElements.forEach(function (multiDragElement) {\n                multiDragElement.thisAnimationDuration = null;\n\n                if (multiDragElement !== dragEl$1) {\n                  var rect = folding ? getRect(multiDragElement) : dragRect;\n                  multiDragElement.fromRect = rect; // Prepare unfold animation\n\n                  toSortable.addAnimationState({\n                    target: multiDragElement,\n                    rect: rect\n                  });\n                }\n              });\n            } // Multi drag elements are not necessarily removed from the DOM on drop, so to reinsert\n            // properly they must all be removed\n\n\n            removeMultiDragElements();\n            multiDragElements.forEach(function (multiDragElement) {\n              if (children[multiDragIndex]) {\n                parentEl.insertBefore(multiDragElement, children[multiDragIndex]);\n              } else {\n                parentEl.appendChild(multiDragElement);\n              }\n\n              multiDragIndex++;\n            }); // If initial folding is done, the elements may have changed position because they are now\n            // unfolding around dragEl, even though dragEl may not have his index changed, so update event\n            // must be fired here as Sortable will not.\n\n            if (oldIndex === index(dragEl$1)) {\n              var update = false;\n              multiDragElements.forEach(function (multiDragElement) {\n                if (multiDragElement.sortableIndex !== index(multiDragElement)) {\n                  update = true;\n                  return;\n                }\n              });\n\n              if (update) {\n                dispatchSortableEvent('update');\n              }\n            }\n          } // Must be done after capturing individual rects (scroll bar)\n\n\n          multiDragElements.forEach(function (multiDragElement) {\n            unsetRect(multiDragElement);\n          });\n          toSortable.animateAll();\n        }\n\n        multiDragSortable = toSortable;\n      } // Remove clones if necessary\n\n\n      if (rootEl === parentEl || putSortable && putSortable.lastPutMode !== 'clone') {\n        multiDragClones.forEach(function (clone) {\n          clone.parentNode && clone.parentNode.removeChild(clone);\n        });\n      }\n    },\n    nullingGlobal: function nullingGlobal() {\n      this.isMultiDrag = dragStarted = false;\n      multiDragClones.length = 0;\n    },\n    destroyGlobal: function destroyGlobal() {\n      this._deselectMultiDrag();\n\n      off(document, 'pointerup', this._deselectMultiDrag);\n      off(document, 'mouseup', this._deselectMultiDrag);\n      off(document, 'touchend', this._deselectMultiDrag);\n      off(document, 'keydown', this._checkKeyDown);\n      off(document, 'keyup', this._checkKeyUp);\n    },\n    _deselectMultiDrag: function _deselectMultiDrag(evt) {\n      if (typeof dragStarted !== \"undefined\" && dragStarted) return; // Only deselect if selection is in this sortable\n\n      if (multiDragSortable !== this.sortable) return; // Only deselect if target is not item in this sortable\n\n      if (evt && closest(evt.target, this.options.draggable, this.sortable.el, false)) return; // Only deselect if left click\n\n      if (evt && evt.button !== 0) return;\n\n      while (multiDragElements.length) {\n        var el = multiDragElements[0];\n        toggleClass(el, this.options.selectedClass, false);\n        multiDragElements.shift();\n        dispatchEvent({\n          sortable: this.sortable,\n          rootEl: this.sortable.el,\n          name: 'deselect',\n          targetEl: el,\n          originalEvt: evt\n        });\n      }\n    },\n    _checkKeyDown: function _checkKeyDown(evt) {\n      if (evt.key === this.options.multiDragKey) {\n        this.multiDragKeyDown = true;\n      }\n    },\n    _checkKeyUp: function _checkKeyUp(evt) {\n      if (evt.key === this.options.multiDragKey) {\n        this.multiDragKeyDown = false;\n      }\n    }\n  };\n  return _extends(MultiDrag, {\n    // Static methods & properties\n    pluginName: 'multiDrag',\n    utils: {\n      /**\r\n       * Selects the provided multi-drag item\r\n       * @param  {HTMLElement} el    The element to be selected\r\n       */\n      select: function select(el) {\n        var sortable = el.parentNode[expando];\n        if (!sortable || !sortable.options.multiDrag || ~multiDragElements.indexOf(el)) return;\n\n        if (multiDragSortable && multiDragSortable !== sortable) {\n          multiDragSortable.multiDrag._deselectMultiDrag();\n\n          multiDragSortable = sortable;\n        }\n\n        toggleClass(el, sortable.options.selectedClass, true);\n        multiDragElements.push(el);\n      },\n\n      /**\r\n       * Deselects the provided multi-drag item\r\n       * @param  {HTMLElement} el    The element to be deselected\r\n       */\n      deselect: function deselect(el) {\n        var sortable = el.parentNode[expando],\n            index = multiDragElements.indexOf(el);\n        if (!sortable || !sortable.options.multiDrag || !~index) return;\n        toggleClass(el, sortable.options.selectedClass, false);\n        multiDragElements.splice(index, 1);\n      }\n    },\n    eventProperties: function eventProperties() {\n      var _this3 = this;\n\n      var oldIndicies = [],\n          newIndicies = [];\n      multiDragElements.forEach(function (multiDragElement) {\n        oldIndicies.push({\n          multiDragElement: multiDragElement,\n          index: multiDragElement.sortableIndex\n        }); // multiDragElements will already be sorted if folding\n\n        var newIndex;\n\n        if (folding && multiDragElement !== dragEl$1) {\n          newIndex = -1;\n        } else if (folding) {\n          newIndex = index(multiDragElement, ':not(.' + _this3.options.selectedClass + ')');\n        } else {\n          newIndex = index(multiDragElement);\n        }\n\n        newIndicies.push({\n          multiDragElement: multiDragElement,\n          index: newIndex\n        });\n      });\n      return {\n        items: _toConsumableArray(multiDragElements),\n        clones: [].concat(multiDragClones),\n        oldIndicies: oldIndicies,\n        newIndicies: newIndicies\n      };\n    },\n    optionListeners: {\n      multiDragKey: function multiDragKey(key) {\n        key = key.toLowerCase();\n\n        if (key === 'ctrl') {\n          key = 'Control';\n        } else if (key.length > 1) {\n          key = key.charAt(0).toUpperCase() + key.substr(1);\n        }\n\n        return key;\n      }\n    }\n  });\n}\n\nfunction insertMultiDragElements(clonesInserted, rootEl) {\n  multiDragElements.forEach(function (multiDragElement, i) {\n    var target = rootEl.children[multiDragElement.sortableIndex + (clonesInserted ? Number(i) : 0)];\n\n    if (target) {\n      rootEl.insertBefore(multiDragElement, target);\n    } else {\n      rootEl.appendChild(multiDragElement);\n    }\n  });\n}\n/**\r\n * Insert multi-drag clones\r\n * @param  {[Boolean]} elementsInserted  Whether the multi-drag elements are inserted\r\n * @param  {HTMLElement} rootEl\r\n */\n\n\nfunction insertMultiDragClones(elementsInserted, rootEl) {\n  multiDragClones.forEach(function (clone, i) {\n    var target = rootEl.children[clone.sortableIndex + (elementsInserted ? Number(i) : 0)];\n\n    if (target) {\n      rootEl.insertBefore(clone, target);\n    } else {\n      rootEl.appendChild(clone);\n    }\n  });\n}\n\nfunction removeMultiDragElements() {\n  multiDragElements.forEach(function (multiDragElement) {\n    if (multiDragElement === dragEl$1) return;\n    multiDragElement.parentNode && multiDragElement.parentNode.removeChild(multiDragElement);\n  });\n}\n\nSortable.mount(new AutoScrollPlugin());\nSortable.mount(Remove, Revert);\n\nexport default Sortable;\nexport { MultiDragPlugin as MultiDrag, Sortable, SwapPlugin as Swap };\n","import api from \"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[4].use[1]!../../../../node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[4].use[2]!./Layers.scss\";\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};"],"sourceRoot":""}