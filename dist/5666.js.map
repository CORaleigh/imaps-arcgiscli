{"version":3,"sources":["webpack://imaps/./node_modules/@arcgis/core/core/Queue.js","webpack://imaps/./node_modules/@arcgis/core/views/overlay/ViewOverlay.js","webpack://imaps/./node_modules/@arcgis/core/widgets/support/AnchorElementViewModel.js","webpack://imaps/./node_modules/@arcgis/core/widgets/Spinner/SpinnerViewModel.js","webpack://imaps/./node_modules/@arcgis/core/widgets/Spinner.js","webpack://imaps/./node_modules/@arcgis/core/widgets/Popup/actions.js","webpack://imaps/./node_modules/@arcgis/core/widgets/Popup/PopupViewModel.js","webpack://imaps/./node_modules/@arcgis/core/widgets/Popup.js","webpack://imaps/./node_modules/@arcgis/core/views/DOMContainer.js","webpack://imaps/./node_modules/@arcgis/core/views/input/EventMatch.js","webpack://imaps/./node_modules/@arcgis/core/views/input/InputHandler.js","webpack://imaps/./node_modules/@arcgis/core/views/input/handlers/LatestPointerType.js","webpack://imaps/./node_modules/@arcgis/core/views/input/InputManager.js","webpack://imaps/./node_modules/@arcgis/core/views/input/keys.js","webpack://imaps/./node_modules/@arcgis/core/views/interactive/interactiveToolUtils.js","webpack://imaps/./node_modules/@arcgis/core/views/support/screenUtils.js"],"names":["e","values","next","value","this","_peeker","_items","Set","size","clear","contains","add","has","length","t","peek","delete","forEach","c","super","arguments","items","_watchUpdatingTracking","_callbacks","Map","_projector","_hiddenProjector","document","createElement","className","_set","_hiddenSurface","setAttribute","appendChild","addOnCollectionChange","added","map","render","set","append","surface","removed","detach","get","removeChild","domNode","remove","removeAll","destroy","renderNow","r","o","s","i","left","top","right","bottom","getBoundingClientRect","firstChild","computeBoundingRect","Math","max","min","some","visible","getContext","save","font","getComputedStyle","fontFamily","renderCanvas","restore","readOnly","prototype","dependsOn","aliasOf","_anchorHandles","location","screenLocation","screenLocationEnabled","view","_updateScreenPointAndHandle","_wireUpView","_viewpointHandle","_setScreenLocation","type","_viewpointChange","_toggleWatchingViewpoint","emit","resume","pause","toScreen","h","_animationDelay","_animationPromise","viewModel","own","_visibleChange","promise","catch","then","hide","_getPositionStyles","class","classes","styles","padding","x","y","id","title","key","defaultKeyValue","base","typeMap","button","toggle","O","V","_handles","_pendingPromises","_zoomToLocation","_fetchFeaturesController","actions","defaultPopupTemplateEnabled","autoCloseEnabled","autoOpenEnabled","content","featureViewModels","highlightEnabled","updateLocationEnabled","zoomFactor","_autoOpenEnabledChange","on","_autoClose","_highlightFeature","_animationStateChange","_locationChange","_selectedFeatureChange","event","a","action","m","popup","disabled","g","u","zoomToLocation","close","selectedFeature","sourceLayer","graphics","_waitingForResultChange","_updateFeatureVMs","_cancelFetchingFeatures","waitingForResult","_get","getEffectivePopupTemplate","popupTemplate","overwriteActions","concat","filter","Boolean","features","pendingPromisesCount","promiseCount","selectedFeatureIndex","n","featureCount","promises","Array","isArray","notifyChange","slice","_updateFeatures","_updatePendingPromises","isNaN","_getSelectedTarget","target","error","callGoTo","scale","screenPoint","fetchPopupFeatures","signal","fetchFeatures","_setFetchFeaturesPromises","allActions","getItemAt","l","_isZoomScreenSize","geometry","centerAtLocation","center","clone","_getPointFromGeometry","_fetchFeaturesWithController","_getScreenPoint","clientOnlyGraphics","promisesPerLayerView","destroyed","_destroyFeatureVMs","graphic","splice","spatialReference","pointerType","_fetchFeaturesAndOpen","abort","mapPoint","open","declaredClass","getViewForGraphic","whenGraphicBounds","useViewElevation","boundingBox","centroid","extent","when","whenLayerView","layer","_getLayerView","_highlightPromise","objectIdField","attributes","highlight","indexOf","E","U","T","q","pe","we","ke","Qe","buttonEnabled","position","breakpoint","width","Xe","Ye","Ze","closeButton","featureNavigation","et","_blurClose","_blurContainer","_containerNode","_mainContainerNode","_featureMenuNode","_actionsMenuNode","_focusClose","_focusContainer","_focusDockButton","_focusFeatureMenuButton","_focusActionsMenuButton","_focusFirstFeature","_focusFirstAction","_pointerOffsetInPx","_spinner","_feature","_displaySpinnerThrottled","_displaySpinner","alignment","collapsed","collapseEnabled","dockEnabled","featureMenuOpen","goToOverride","label","maxInlineActions","messages","messagesCommon","spinnerEnabled","visibleElements","_addSelectedFeatureIndexHandle","_positionContainer","_toggleScreenLocationEnabled","reposition","_spinnerEnabledChange","_updateDockEnabledForViewSize","_viewChange","_viewReadyChange","_hideSpinner","_setTitleFromFeatureWidget","_setContentFromFeatureWidget","widthBreakpoint","active","_watchActions","_destroySelectedFeatureWidget","_destroySpinner","selectedFeatureWidget","waitingForContent","hasContent","featureNavigationVisible","collapsible","featureMenuVisible","_divideActions","_getCurrentAlignment","_getCurrentDockPosition","xsmall","height","_setCurrentDockPosition","replacement","version","selectedFeatureViewModel","warn","scheduleRender","actionsMenuOpen","previous","_setCurrentAlignment","triggerAction","dividedActions","currentAlignment","currentDockPosition","d","menuActions","p","_","v","role","bind","afterCreate","afterUpdate","renderMainContainer","renderPointer","loading","renderLoadingIcon","tabIndex","onclick","_previous","onkeydown","renderPreviousIcon","_next","renderNextIcon","featureMenuId","_toggleFeatureMenu","_focusFeatureMenuButtonNode","menu","_getPageText","renderPreviousButton","renderNavigationLoading","renderFeatureMenuButton","renderNextButton","_wouldDockTo","undock","dock","dockOptions","_toggleDockEnabled","_focusDockButtonNode","renderDockIcon","titleId","contentCollapsed","innerHTML","expand","collapse","enterAnimation","_createFeatureUpdatedAnimation","_toggleCollapsed","_close","_closeButtonNodeUpdated","renderCloseIcon","renderTitle","renderDockButton","renderCloseButton","contentId","renderContent","actionsMenuId","actionsMenuButtonId","_toggleActionsMenu","_focusActionsMenuButtonNode","inlineActions","onkeyup","_handleActionMenuKeyup","_actionsMenuNodeUpdated","toArray","renderAction","index","toString","renderInlineActions","renderActionsMenuButton","renderMenuActions","renderNavigationButtons","renderInlineActionsContainer","renderNavigation","selectedFeatures","total","_featureMenuViewportNodeUpdated","renderFeatureMenu","_handleMainKeyup","_mainContainerNodeUpdated","renderFooter","renderFeatureMenuContainer","renderHeader","renderContentContainer","renderNodeContent","_getActionClass","_getActionImage","_getIconStyles","_getActionTitle","renderActionIcon","renderActionText","uid","_handleActionMenuItemKeyup","_triggerAction","untitled","_handleFeatureMenuItemKeyup","_selectFeature","_featureMenuNodeUpdated","_handleFeatureMenuKeyup","renderFeatureMenuItem","image","round","_getInlineActionCount","stopPropagation","currentTarget","querySelectorAll","focus","_createSpinner","show","_selectedFeatureIndexUpdated","popupHeight","popupWidth","side","_isScreenLocationWithinView","parseInt","replace","window","getPropertyValue","_isOutsideView","f","call","_calculatePositionResult","_calculateAutoAlignment","_callCurrentAlignment","reverse","_calculateAutoDockPosition","_callDockPosition","_getDockPosition","breakpoints","_calculatePositionStyle","style","_calculateFullWidth","_calculateAlignmentPosition","_setDockEnabledForViewSize","_dockingThresholdCrossed","blur","scrollTop","ui","hasOwnProperty","_shouldDockAtCurrentViewSize","pageText","_featureMenuOpenChanged","_actionsMenuOpenChanged","source","overridable","ownerDocument","defaultView","pageXOffset","pageYOffset","parentNode","_freqInfo","freq","time","_overlayRenderTaskHandle","resizing","root","suspended","userContent","handles","watch","_handleUIChange","_wireUI","container","_stopMeasuring","classList","overlay","insertBefore","forceDOMReadyCycle","body","clientWidth","clientHeight","_startMeasuring","activeElement","hasFocus","addEventListener","removeEventListener","prepare","_measure","deltaTime","_position","oldWidth","oldHeight","cast","eventType","keyModifiers","modifiers","_manager","_incoming","_outgoing","_incomingEventMatches","_incomingEventTypes","_outgoingEventTypes","_hasSideEffects","push","match","incomingEventMatches","Object","keys","setEventCallback","_handleEvent","setUninstallCallback","_onUninstall","updateDependencies","onPause","onRemove","onResume","Error","onEmit","setPointerCapture","refreshHasPendingInputs","onUninstall","matches","callback","shouldStopPropagation","_callback","_handler","_removed","_onChange","_value","registerIncoming","data","native","_setValue","_moveHandler","_pointerCaptures","_nameToGroup","_handlers","_currentPropagation","_sourceEvents","_keyModifiers","_activeKeyModifiers","_stoppedPropagationEventIds","primaryKey","latestPointerType","test","timestamp","hasCurrentPropagation","eventSource","onEventReceived","_onEventReceived","_installRecognizers","uninstallHandlers","handler","hasPendingInputs","INTERNAL","name","handlers","priorityIndex","groupPriority","eventCallback","uninstallCallback","onInstall","_emitInputEvent","_setPointerCapture","needsHandlerGarbageCollect","_garbageCollectRemovedHandlers","_handlersPriority","_sortHandlersPriority","hasSideEffects","outgoingEventTypes","activeEvents","pointerId","_updateKeyModifiers","cancelable","_emitInputEventFromSource","altKey","ctrlKey","shiftKey","metaKey","_latestPointerTypeHandler","_setLatestPointerType","recognizers","installHandlers","performance","now","events","_doNewPropagation","currentHandler","_continuePropagation","pop","eventId","shouldPausePropagation","_pausePropagation","_compareHandlerPriority","injectEvent","disablePointerCapture","_propagationState","_resumeCallback","preventDefault","DEFAULT","TOOL","WIDGET","8","9","13","27","33","34","35","36","37","38","39","40","45","46","String","fromCharCode","keyCode","ready","activeTool","deactivate","activate","item","attach","editable","hasEditableFlag","HTMLElement","clientX","clientY","Event"],"mappings":"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","file":"5666.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{assumeNonNull as e}from\"./maybe.js\";export default class{constructor(e=(e=>e.values().next().value)){this._peeker=e,this._items=new Set}get length(){return this._items.size}clear(){this._items.clear()}peek(){if(0!==this._items.size)return this._peeker(this._items)}push(e){this.contains(e)||this._items.add(e)}contains(e){return this._items.has(e)}pop(){if(0===this.length)return;const t=this.peek();return this._items.delete(e(t)),t}remove(e){this._items.delete(e)}filter(e){return this._items.forEach((t=>{e(t)||this._items.delete(t)})),this}}\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as e}from\"../../core/accessorSupport/decorators/property.js\";import{subclass as r}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import o from\"../../core/Accessor.js\";import s from\"../../core/Collection.js\";import{WatchUpdatingTracking as i}from\"../support/WatchUpdatingTracking.js\";import\"../../libs/maquette/projection.js\";import{createProjector as a}from\"../../libs/maquette/projector.js\";let c=class extends o{constructor(){super(...arguments),this.items=new s,this._watchUpdatingTracking=new i,this._callbacks=new Map,this._projector=a(),this._hiddenProjector=a()}get needsRender(){return this.items.length>0}initialize(){const t=document.createElement(\"div\");t.className=\"esri-overlay-surface\",this._set(\"surface\",t),this._hiddenSurface=document.createElement(\"div\"),this._hiddenSurface.setAttribute(\"style\",\"visibility: hidden;\"),t.appendChild(this._hiddenSurface),this._watchUpdatingTracking.addOnCollectionChange(this.items,(t=>{t.added.map((t=>{const e=()=>t.render();this._callbacks.set(t,e),this._projector.append(this.surface,e)})),t.removed.map((t=>{const e=this._projector.detach(this._callbacks.get(t));this.surface.removeChild(e.domNode),this._callbacks.delete(t)}))}))}addItem(t){this.items.add(t)}removeItem(t){this.items.remove(t)}destroy(){this.items.removeAll(),this._callbacks.forEach((t=>this._projector.detach(t))),this._callbacks=null,this._projector=null,this._watchUpdatingTracking.destroy()}render(){this._projector.renderNow()}computeBoundingRect(t){const e=this._hiddenSurface,r=this._hiddenProjector;let o=null;const s=()=>(o=t.render(),o);r.append(e,s),r.renderNow();const i={left:0,top:0,right:0,bottom:0};if(o&&o.domNode){const t=o.domNode.getBoundingClientRect();i.left=t.left,i.top=t.top,i.right=t.right,i.bottom=t.bottom}for(r.detach(s);e.firstChild;)e.removeChild(e.firstChild);return i}overlaps(t,e){const r=this.computeBoundingRect(t),o=this.computeBoundingRect(e);return Math.max(r.left,o.left)<=Math.min(r.right,o.right)&&Math.max(r.top,o.top)<=Math.min(r.bottom,o.bottom)}get hasVisibleItems(){return this.items.some((t=>t.visible))}renderCanvas(t){if(!this.items.some((t=>t.visible)))return;const e=t.getContext(\"2d\");e.save(),e.font=`10px ${getComputedStyle(this.surface).fontFamily}`,this.items.forEach((t=>{e.save(),t.renderCanvas(e),e.restore()})),e.restore()}};t([e({readOnly:!0})],c.prototype,\"surface\",void 0),t([e({readOnly:!0})],c.prototype,\"items\",void 0),t([e({readOnly:!0,dependsOn:[\"items.length\"]})],c.prototype,\"needsRender\",null),t([e({readOnly:!0})],c.prototype,\"_watchUpdatingTracking\",void 0),t([e({readOnly:!0,aliasOf:\"_watchUpdatingTracking.updating\"})],c.prototype,\"updating\",void 0),c=t([r(\"esri.views.overlay.ViewOverlay\")],c);var n=c;export default n;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as t}from\"../../core/accessorSupport/decorators/property.js\";import{subclass as o}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import i from\"../../core/Evented.js\";import s from\"../../core/Handles.js\";import{watch as n,pausable as r}from\"../../core/watchUtils.js\";let c=class extends i.EventedAccessor{constructor(...e){super(...e),this._anchorHandles=new s,this.location=null,this.screenLocation=null,this.screenLocationEnabled=!1,this.view=null,this._anchorHandles.add([n(this,[\"screenLocationEnabled\",\"location\",\"view.size\",\"view.stationary\"],(()=>this._updateScreenPointAndHandle())),n(this,[\"view\",\"view.ready\"],(()=>this._wireUpView()))])}destroy(){this.view=null,this._anchorHandles&&this._anchorHandles.destroy(),this._anchorHandles=null,this._viewpointHandle=null}_wireUpView(){const e=\"view\";this._anchorHandles.remove(e),this._viewpointHandle=null;if(!this.get(\"view.ready\"))return;this._setScreenLocation();const{view:t}=this,o=\"3d\"===t.type?\"camera\":\"viewpoint\",i=r(t,o,(()=>this._viewpointChange()));this._anchorHandles.add(i,e),this._viewpointHandle=i,this._toggleWatchingViewpoint()}_viewpointChange(){this._setScreenLocation(),this.emit(\"view-change\")}_updateScreenPointAndHandle(){this._setScreenLocation(),this._toggleWatchingViewpoint()}_toggleWatchingViewpoint(){const{_viewpointHandle:e,location:t,screenLocationEnabled:o}=this;if(!e)return;t&&o?e.resume():e.pause()}_setScreenLocation(){const{location:e,view:t,screenLocationEnabled:o}=this,i=this.get(\"view.ready\"),s=o&&e&&i?t.toScreen(e):null;this._set(\"screenLocation\",s)}};e([t()],c.prototype,\"location\",void 0),e([t({readOnly:!0})],c.prototype,\"screenLocation\",void 0),e([t()],c.prototype,\"screenLocationEnabled\",void 0),e([t()],c.prototype,\"view\",void 0),c=e([o(\"esri.widgets.support.AnchorElementViewModel\")],c);var a=c;export default a;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import e from\"../support/AnchorElementViewModel.js\";let t=class extends e{constructor(r){super(r),this.visible=!1}};r([o()],t.prototype,\"visible\",void 0),t=r([s(\"esri.widgets.CompassViewModel\")],t);var p=t;export default p;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as i}from\"../chunks/tslib.es6.js\";import\"../core/has.js\";import\"../core/Logger.js\";import\"../core/accessorSupport/ensureType.js\";import{property as o}from\"../core/accessorSupport/decorators/property.js\";import{aliasOf as e}from\"../core/accessorSupport/decorators/aliasOf.js\";import{subclass as s}from\"../core/accessorSupport/decorators/subclass.js\";import\"../core/urlUtils.js\";import\"../core/uuid.js\";import\"../portal/support/resourceExtension.js\";import{after as t}from\"../core/promiseUtils.js\";import{watch as r}from\"../core/watchUtils.js\";import\"./support/widgetUtils.js\";import{renderable as n}from\"./support/decorators/renderable.js\";import{j as l}from\"../chunks/index.js\";import c from\"./Widget.js\";import a from\"./Spinner/SpinnerViewModel.js\";const p=\"esri-spinner\",m=\"esri-spinner--start\",d=\"esri-spinner--finish\";let h=class extends c{constructor(i,o){super(i,o),this._animationDelay=500,this._animationPromise=null,this.location=null,this.view=null,this.viewModel=new a,this.visible=!1}initialize(){this.own([r(this,\"visible\",(i=>this._visibleChange(i)))])}destroy(){this._animationPromise=null}show(i){const{location:o,promise:e}=i;o&&(this.viewModel.location=o),this.visible=!0;const s=()=>this.hide();e&&e.catch((()=>{})).then(s)}hide(){this.visible=!1}render(){const{visible:i}=this,{screenLocation:o}=this.viewModel,e=!!o,s={[m]:i&&e,[d]:!i&&e},t=this._getPositionStyles();return l(\"div\",{class:this.classes(p,s),styles:t})}_visibleChange(i){if(i)return void(this.viewModel.screenLocationEnabled=!0);const o=t(this._animationDelay);this._animationPromise=o,o.catch((()=>{})).then((()=>{this._animationPromise===o&&(this.viewModel.screenLocationEnabled=!1,this._animationPromise=null)}))}_getPositionStyles(){const{screenLocation:i,view:o}=this.viewModel;if(!o||!i)return{};const{padding:e}=o;return{left:i.x-e.left+\"px\",top:i.y-e.top+\"px\"}}};i([e(\"viewModel.location\")],h.prototype,\"location\",void 0),i([e(\"viewModel.view\")],h.prototype,\"view\",void 0),i([o({type:a}),n([\"viewModel.screenLocation\",\"viewModel.screenLocationEnabled\"])],h.prototype,\"viewModel\",void 0),i([e(\"viewModel.visible\")],h.prototype,\"visible\",void 0),h=i([s(\"esri.widgets.Spinner\")],h);var v=h;export default v;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport e from\"../../core/Error.js\";import{reject as i,resolve as t}from\"../../core/promiseUtils.js\";import r from\"../../support/actions/ActionButton.js\";const o=\"esri-icon-trash\",n=new r({id:\"zoom-to-feature\",title:\"{messages.zoom}\",className:\"esri-icon-zoom-in-magnifying-glass\"}),s=new r({id:\"remove-selected-feature\",title:\"{messages.remove}\",className:o}),a=[n,s],c=function(r){const{event:o,view:a}=r,{action:c}=o,m=a&&a.popup;if(!c)return i(new e(\"trigger-action:missing-arguments\",\"Event has no action\"));if(!m)return i(new e(\"trigger-action:missing-arguments\",\"view.popup is missing\"));const{disabled:g,id:u}=c;if(!u)return i(new e(\"trigger-action:invalid-action\",\"action.id is missing\"));if(g)return i(new e(\"trigger-action:invalid-action\",\"Action is disabled\"));if(u===n.id)return m.viewModel.zoomToLocation();if(u===s.id){m.close();const{selectedFeature:r}=m;if(!r)return i(new e(`trigger-action:${s.id}`,\"selectedFeature is required\",{selectedFeature:r}));const{sourceLayer:o}=r;return o?o.remove(r):a.graphics.remove(r),t()}return t()};export{a as all,s as removeSelectedFeature,c as triggerAction,n as zoomToFeature};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import{unwrap as t,isNone as o}from\"../../core/maybe.js\";import i from\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as s}from\"../../core/accessorSupport/decorators/property.js\";import{subclass as n}from\"../../core/accessorSupport/decorators/subclass.js\";import r from\"../../core/Error.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import{reject as a,createAbortController as l,resolve as u}from\"../../core/promiseUtils.js\";import{geographicToWebMercator as c}from\"../../geometry/support/webMercatorUtils.js\";import h from\"../../geometry/Point.js\";import\"../../geometry.js\";import p from\"../../core/Collection.js\";import d from\"../../support/actions/ActionBase.js\";import g from\"../../support/actions/ActionButton.js\";import m from\"../../support/actions/ActionToggle.js\";import f from\"../../core/Handles.js\";import y from\"../../layers/Layer.js\";import{init as w,watch as F,whenFalse as v}from\"../../core/watchUtils.js\";import{ViewEventPriorities as _}from\"../../views/input/InputManager.js\";import b from\"../Feature/FeatureViewModel.js\";import C from\"../support/AnchorElementViewModel.js\";import{highlightsSupported as P}from\"../../views/support/layerViewUtils.js\";import{zoomToFeature as E,triggerAction as T}from\"./actions.js\";import{GoToMixin as j}from\"../support/GoTo.js\";const x=p.ofType({key:\"type\",defaultKeyValue:\"button\",base:d,typeMap:{button:g,toggle:m}}),O=i.getLogger(\"esri.widgets.Popup.PopupViewModel\");let V=class extends(j(C)){constructor(e){super(e),this._handles=new f,this._pendingPromises=new Set,this._zoomToLocation=null,this._fetchFeaturesController=null,this.actions=new x([E.clone()]),this.defaultPopupTemplateEnabled=!1,this.autoCloseEnabled=!1,this.autoOpenEnabled=!0,this.content=null,this.featureViewModels=[],this.highlightEnabled=!0,this.title=null,this.updateLocationEnabled=!1,this.view=null,this.visible=!1,this.zoomFactor=4}initialize(){this._handles.add([w(this,[\"autoOpenEnabled\",\"view\"],(()=>this._autoOpenEnabledChange())),this.on(\"view-change\",(()=>this._autoClose())),F(this,[\"highlightEnabled\",\"selectedFeature\",\"visible\",\"view\"],(()=>this._highlightFeature())),F(this,\"view.animation.state\",(e=>this._animationStateChange(e))),F(this,\"location\",(e=>this._locationChange(e))),F(this,\"selectedFeature\",(e=>this._selectedFeatureChange(e))),this.on(\"trigger-action\",(e=>T({event:e,view:this.view}))),v(this,\"waitingForResult\",(()=>this._waitingForResultChange())),F(this,[\"features\",\"view\",\"view.map\",\"view.spatialReference\"],(()=>this._updateFeatureVMs()))])}destroy(){this._cancelFetchingFeatures(),this._handles.destroy(),this._handles=null,this._pendingPromises.clear(),this.view=null}get active(){return!(!this.visible||this.waitingForResult)}get allActions(){const e=this._get(\"allActions\")||new x;e.removeAll();const t=this.selectedFeature&&(\"function\"==typeof this.selectedFeature.getEffectivePopupTemplate&&this.selectedFeature.getEffectivePopupTemplate(this.defaultPopupTemplateEnabled)||this.selectedFeature.popupTemplate),o=t&&t.actions,i=t&&t.overwriteActions?o:o?o.concat(this.actions):this.actions;return i&&i.filter(Boolean).forEach((t=>e.add(t))),e}get featureCount(){return this.features.length}get features(){return this._get(\"features\")||[]}set features(e){const t=e||[];this._set(\"features\",t);const{pendingPromisesCount:o,promiseCount:i,selectedFeatureIndex:s}=this,n=i&&t.length;n&&o&&-1===s?this.selectedFeatureIndex=0:n&&-1!==s||(this.selectedFeatureIndex=t.length?0:-1)}get location(){return this._get(\"location\")||null}set location(e){const t=this.get(\"view.spatialReference.isWebMercator\");e&&e.get(\"spatialReference.isWGS84\")&&t&&(e=c(e)),this._set(\"location\",e)}get pendingPromisesCount(){return this._pendingPromises.size}get waitingForResult(){return!(!(!!this._fetchFeaturesController||this.pendingPromisesCount>0)||0!==this.featureCount)}get promiseCount(){return this.promises.length}get promises(){return this._get(\"promises\")||[]}set promises(e){if(this._pendingPromises.clear(),this.features=[],!Array.isArray(e)||!e.length)return this._set(\"promises\",[]),void this.notifyChange(\"pendingPromisesCount\");this._set(\"promises\",e),(e=e.slice(0)).forEach((e=>{this._pendingPromises.add(e);e.then((t=>{this._pendingPromises.has(e)&&this._updateFeatures(t),this._updatePendingPromises(e)}),(()=>this._updatePendingPromises(e)))})),this.notifyChange(\"pendingPromisesCount\")}get selectedFeature(){const{features:e,selectedFeatureIndex:t}=this;if(-1===t)return null;return e[t]||null}get selectedFeatureIndex(){const e=this._get(\"selectedFeatureIndex\");return\"number\"==typeof e?e:-1}set selectedFeatureIndex(e){const{featureCount:t}=this;e=isNaN(e)||e<-1||!t?-1:(e+t)%t,this._set(\"selectedFeatureIndex\",e)}get selectedFeatureViewModel(){return this.featureViewModels[this.selectedFeatureIndex]||null}get state(){return this.get(\"view.ready\")?\"ready\":\"disabled\"}centerAtLocation(){const{view:e}=this,t=this._getSelectedTarget();if(!t){const o=new r(\"center-at-location:invalid-target-or-view\",\"Cannot center at a location without a target and view.\",{target:t,view:e});return O.error(o),a(o)}return this.callGoTo({target:{target:t,scale:e.scale}})}clear(){this.set({promises:[],features:[],content:null,title:null,location:null})}fetchFeatures(e,t){const{view:o}=this;if(!o||!e){const t=new r(\"fetch-features:invalid-screenpoint-or-view\",\"Cannot fetch features without a screenPoint and view.\",{screenPoint:e,view:o});return O.error(t),a(t)}return o.fetchPopupFeatures(e,{event:t&&t.event,defaultPopupTemplateEnabled:this.defaultPopupTemplateEnabled,signal:t&&t.signal})}open(e){const t={updateLocationEnabled:!1,promises:[],fetchFeatures:!1,...e,visible:!0},{fetchFeatures:o}=t;delete t.fetchFeatures,o&&this._setFetchFeaturesPromises(t.location),this.set(t)}triggerAction(e){const t=this.allActions.getItemAt(e);t&&!t.disabled&&this.emit(\"trigger-action\",{action:t})}next(){return this.selectedFeatureIndex=this.selectedFeatureIndex+1,this}previous(){return this.selectedFeatureIndex=this.selectedFeatureIndex-1,this}zoomToLocation(){const{location:e,selectedFeature:t,view:o,zoomFactor:i}=this,s=this._getSelectedTarget();if(!s){const e=new r(\"zoom-to:invalid-target-or-view\",\"Cannot zoom to location without a target and view.\",{target:s,view:o});return O.error(e),a(e)}const n=o.scale/i,l=this.get(\"selectedFeature.geometry\")||e,u=l&&\"point\"===l.type&&this._isZoomScreenSize(t);E.active=!0,E.disabled=!0;const c=this.callGoTo({target:{target:s,scale:u?n:void 0}}).catch((()=>{E.active=!1,E.disabled=!1,this._zoomToLocation=null})).then((()=>{u&&(this.location=l)}));return this._zoomToLocation=c,c}_animationStateChange(e){this._zoomToLocation||(E.disabled=\"waiting-for-target\"===e)}_locationChange(e){const{selectedFeature:t,updateLocationEnabled:o}=this;o&&e&&(!t||t.geometry)&&this.centerAtLocation()}_selectedFeatureChange(e){if(!e)return;const{location:o,updateLocationEnabled:i,view:s}=this;!i&&o||!e.geometry?i&&!e.geometry&&this.centerAtLocation().then((()=>{this.location=s.center.clone()})):this.location=t(this._getPointFromGeometry(e.geometry))}_waitingForResultChange(){!this.featureCount&&this.promises&&(this.visible=!1)}_setFetchFeaturesPromises(e){return this._fetchFeaturesWithController(this._getScreenPoint(e||this.location)).then((e=>{const{clientOnlyGraphics:t,promisesPerLayerView:o}=e,i=u(t),s=o.map((e=>e.promise));this.promises=[i,...s]}))}_destroyFeatureVMs(){this.featureViewModels.forEach((e=>e&&!e.destroyed&&e.destroy())),this._set(\"featureViewModels\",[])}_updateFeatureVMs(){const{features:e,featureViewModels:t}=this;if(this._destroyFeatureVMs(),!e||!e.length)return;const o=t.slice(0),i=[];e.forEach(((e,t)=>{if(!e)return;let s=null;if(o.some(((t,i)=>(t&&t.graphic===e&&(s=t,o.splice(i,1)),!!s))),s)i[t]=s;else{var n,r;const o=new b({defaultPopupTemplateEnabled:this.defaultPopupTemplateEnabled,graphic:e,spatialReference:null==(n=this.view)?void 0:n.spatialReference,map:null==(r=this.view)?void 0:r.map});i[t]=o}})),o.forEach((e=>e&&!e.destroyed&&e.destroy())),this._set(\"featureViewModels\",i)}_getScreenPoint(e){const{view:t}=this;return t&&e&&\"function\"==typeof t.toScreen?t.toScreen(e):null}_getSelectedTarget(){const{selectedFeature:e,location:t,view:o}=this;if(!o)return null;if(\"3d\"===o.type)return e||t;return this.get(\"selectedFeature.geometry\")||t}_autoOpenEnabledChange(){const e=\"auto-fetch-features\",{_handles:t,autoOpenEnabled:o}=this;if(t.remove(e),o&&this.view){const o=this.view.on(\"click\",(e=>{\"mouse\"===e.pointerType&&0!==e.button||this._fetchFeaturesAndOpen(e)}),_.WIDGET);t.add(o,e)}}_cancelFetchingFeatures(){const e=this._fetchFeaturesController;e&&e.abort(),this._fetchFeaturesController=null,this.notifyChange(\"waitingForResult\")}_fetchFeaturesWithController(e,t){this._cancelFetchingFeatures();const o=l(),{signal:i}=o;this._fetchFeaturesController=o,this.notifyChange(\"waitingForResult\");const s=this.fetchFeatures(e,{signal:i,event:t});return s.catch((()=>{})).then((()=>{this._fetchFeaturesController=null,this.notifyChange(\"waitingForResult\")})),s}_fetchFeaturesAndOpen(e){const{screenPoint:t,mapPoint:o}=e,{view:i}=this;this._fetchFeaturesWithController(t,e).then((e=>{const{clientOnlyGraphics:t,promisesPerLayerView:s,location:n}=e,r=[u(t),...s.map((e=>e.promise))];return i.popup.open({location:n||o,promises:r}),e}))}_updatePendingPromises(e){e&&this._pendingPromises.has(e)&&(this._pendingPromises.delete(e),this.notifyChange(\"pendingPromisesCount\"))}_autoClose(){this.autoCloseEnabled&&(this.visible=!1)}_isZoomScreenSize(e){const{view:t}=this;if(\"3d\"!==t.type||!e||\"esri.Graphic\"!==e.declaredClass)return!0;const o=t.getViewForGraphic(e);if(o&&\"whenGraphicBounds\"in o){let t=!1;return o.whenGraphicBounds(e,{useViewElevation:!0}).then((e=>{t=!e||!e.boundingBox||e.boundingBox[0]===e.boundingBox[3]&&e.boundingBox[1]===e.boundingBox[4]&&e.boundingBox[2]===e.boundingBox[5]})).catch((()=>{const t=new r(\"zoom-to:invalid-graphic\",\"Could not zoom to the location of the graphic.\",{graphic:e});O.error(t)})),t}return!0}_getPointFromGeometry(e){return o(e)?null:\"point\"===e.type?e:\"extent\"===e.type?e.center:\"polygon\"===e.type?e.centroid:\"multipoint\"===e.type||\"polyline\"===e.type?e.extent.center:null}async _getLayerView(e,t){return await e.when(),e.whenLayerView(t)}async _highlightFeature(){const e=\"highlight\";this._handles.remove(e);const{selectedFeature:t,highlightEnabled:o,view:i,visible:s}=this;if(!(t&&i&&o&&s))return;const{layer:n}=t;if(!(n&&n instanceof y))return;const r=this._getLayerView(i,n);this._highlightPromise=r;const a=await r;if(!(a&&P(a)&&this._highlightPromise===r&&this.selectedFeature&&this.highlightEnabled&&this.visible))return;const l=\"objectIdField\"in n&&n.objectIdField,u=t.attributes,c=u&&l&&u[l],h=a.highlight(c||t);this._handles.add(h,e)}_updateFeatures(e){const{features:t}=this;if(!e||!e.length)return;if(!t.length)return void(this.features=e);const o=e.filter((e=>-1===t.indexOf(e)));this.features=t.concat(o)}};e([s({type:x})],V.prototype,\"actions\",void 0),e([s({readOnly:!0,dependsOn:[\"visible\",\"waitingForResult\"]})],V.prototype,\"active\",null),e([s({dependsOn:[\"actions.length\",\"selectedFeature.sourceLayer.popupTemplate.actions.length\",\"selectedFeature.sourceLayer.popupTemplate.overwriteActions\",\"selectedFeature.popupTemplate.actions.length\",\"selectedFeature.popupTemplate.overwriteActions\"],readOnly:!0})],V.prototype,\"allActions\",null),e([s({type:Boolean})],V.prototype,\"defaultPopupTemplateEnabled\",void 0),e([s()],V.prototype,\"autoCloseEnabled\",void 0),e([s()],V.prototype,\"autoOpenEnabled\",void 0),e([s()],V.prototype,\"content\",void 0),e([s({readOnly:!0,dependsOn:[\"features\"]})],V.prototype,\"featureCount\",null),e([s()],V.prototype,\"features\",null),e([s({readOnly:!0})],V.prototype,\"featureViewModels\",void 0),e([s()],V.prototype,\"highlightEnabled\",void 0),e([s({type:h})],V.prototype,\"location\",null),e([s({readOnly:!0,dependsOn:[\"promises\"]})],V.prototype,\"pendingPromisesCount\",null),e([s({readOnly:!0,dependsOn:[\"featureCount\",\"pendingPromisesCount\"]})],V.prototype,\"waitingForResult\",null),e([s({readOnly:!0,dependsOn:[\"promises\"]})],V.prototype,\"promiseCount\",null),e([s()],V.prototype,\"promises\",null),e([s({value:null,readOnly:!0,dependsOn:[\"features\",\"selectedFeatureIndex\",\"updateLocationEnabled\"]})],V.prototype,\"selectedFeature\",null),e([s({value:-1})],V.prototype,\"selectedFeatureIndex\",null),e([s({readOnly:!0,dependsOn:[\"featureViewModels\",\"selectedFeatureIndex\"]})],V.prototype,\"selectedFeatureViewModel\",null),e([s({readOnly:!0,dependsOn:[\"view.ready\"]})],V.prototype,\"state\",null),e([s()],V.prototype,\"title\",void 0),e([s()],V.prototype,\"updateLocationEnabled\",void 0),e([s()],V.prototype,\"view\",void 0),e([s()],V.prototype,\"visible\",void 0),e([s()],V.prototype,\"zoomFactor\",void 0),e([s()],V.prototype,\"centerAtLocation\",null),e([s()],V.prototype,\"zoomToLocation\",null),V=e([n(\"esri.widgets.Popup.PopupViewModel\")],V);var L=V;export default L;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import\"../core/has.js\";import t from\"../core/Logger.js\";import{property as i}from\"../core/accessorSupport/decorators/property.js\";import{aliasOf as o}from\"../core/accessorSupport/decorators/aliasOf.js\";import{cast as n}from\"../core/accessorSupport/decorators/cast.js\";import{deprecatedProperty as s}from\"../core/deprecate.js\";import{subclass as r}from\"../core/accessorSupport/decorators/subclass.js\";import\"../core/urlUtils.js\";import\"../core/uuid.js\";import\"../portal/support/resourceExtension.js\";import{eventKey as l}from\"../core/events.js\";import a from\"../core/Collection.js\";import{substitute as u}from\"../intl/substitute.js\";import\"../intl.js\";import d from\"../core/Handles.js\";import{watch as c,whenFalse as p,on as h,init as g}from\"../core/watchUtils.js\";import{throttle as _}from\"../core/throttle.js\";import{cssTransition as v,isRTL as m}from\"./support/widgetUtils.js\";import{accessibleHandler as f}from\"./support/decorators/accessibleHandler.js\";import{messageBundle as b}from\"./support/decorators/messageBundle.js\";import{renderable as w}from\"./support/decorators/renderable.js\";import{vmEvent as M}from\"./support/decorators/vmEvent.js\";import{j as y}from\"../chunks/index.js\";import k from\"./Widget.js\";import{FeatureContentMixin as A}from\"./Feature/support/FeatureContentMixin.js\";import C from\"./Feature.js\";import F from\"./Spinner.js\";import x from\"./Popup/PopupViewModel.js\";const O=\"esri-icon-left-triangle-arrow\",E=\"esri-icon-right-triangle-arrow\",I=\"esri-icon-maximize\",N=\"esri-icon-dock-bottom\",P=\"esri-icon-dock-left\",B=\"esri-icon-dock-right\",S=\"esri-icon-close\",D=\"esri-icon-minimize\",V=\"esri-icon-check-mark\",U=\"esri-icon-loading-indicator\",j=\"esri-icon-default-action\",L=\"esri-icon-handle-horizontal\",T=\"esri-rotating\",W=\"esri-popup\",R=\"esri-widget\",H=\"esri-popup__main-container\",$=\"esri-popup__loading-container\",z=\"esri-popup--is-collapsible\",K=\"esri-popup--is-collapsed\",q=\"esri-popup--shadow\",G=\"esri-popup--is-docked\",J=\"esri-popup--is-docked-top-left\",Q=\"esri-popup--is-docked-top-center\",X=\"esri-popup--is-docked-top-right\",Y=\"esri-popup--is-docked-bottom-left\",Z=\"esri-popup--is-docked-bottom-center\",ee=\"esri-popup--is-docked-bottom-right\",te=\"esri-popup--aligned-top-center\",ie=\"esri-popup--aligned-bottom-center\",oe=\"esri-popup--aligned-top-left\",ne=\"esri-popup--aligned-bottom-left\",se=\"esri-popup--aligned-top-right\",re=\"esri-popup--aligned-bottom-right\",le=\"esri-popup--feature-menu-open\",ae=\"esri-popup--actions-menu-open\",ue=\"esri-popup--feature-updated\",de=\"esri-popup__header\",ce=\"esri-popup__header-buttons\",pe=\"esri-popup__header-container\",he=\"esri-popup__header-container--button\",ge=\"esri-popup__header-title\",_e=\"esri-popup__content\",ve=\"esri-popup__footer\",me=\"esri-popup__footer--has-pagination\",fe=\"esri-popup__footer--has-actions\",be=\"esri-popup__footer--has-actions-menu\",we=\"esri-popup__button\",Me=\"esri-popup__button--disabled\",ye=\"esri-popup__button--dock\",ke=\"esri-popup__icon\",Ae=\"esri-popup__icon--dock-icon\",Ce=\"esri-popup__inline-actions-container\",Fe=\"esri-popup__actions-menu-button\",xe=\"esri-popup__actions\",Oe=\"esri-popup__action\",Ee=\"esri-popup__action-image\",Ie=\"esri-popup__action-text\",Ne=\"esri-popup__action-toggle\",Pe=\"esri-popup__action-toggle--on\",Be=\"esri-popup__pointer\",Se=\"esri-popup__pointer-direction\",De=\"esri-popup__navigation\",Ve=\"esri-popup__pagination-previous\",Ue=\"esri-popup__pagination-next\",je=\"esri-popup__pagination-previous-icon\",Le=\"esri-popup__pagination-previous-icon--rtl\",Te=\"esri-popup__pagination-next-icon\",We=\"esri-popup__pagination-next-icon--rtl\",Re=\"esri-popup__feature-menu\",He=\"esri-popup__feature-menu-list\",$e=\"esri-popup__feature-menu-item\",ze=\"esri-popup__feature-menu-viewport\",Ke=\"esri-popup__feature-menu-header\",qe=\"esri-popup__feature-menu-item--selected\",Ge=\"esri-popup__feature-menu-button\",Je=\"esri-popup__feature-menu-title\",Qe={buttonEnabled:!0,position:\"auto\",breakpoint:{width:544}};function Xe(e,t){return void 0===t?`esri-popup__${e}`:`esri-popup__${e}-${t}`}const Ye=t.getLogger(\"esri.widgets.Popup\"),Ze={closeButton:!0,featureNavigation:!0};let et=class extends(A(k)){constructor(e,t){super(e,t),this._blurClose=!1,this._blurContainer=!1,this._containerNode=null,this._mainContainerNode=null,this._featureMenuNode=null,this._actionsMenuNode=null,this._focusClose=!1,this._focusContainer=!1,this._focusDockButton=!1,this._focusFeatureMenuButton=!1,this._focusActionsMenuButton=!1,this._focusFirstFeature=!1,this._focusFirstAction=!1,this._handles=new d,this._pointerOffsetInPx=16,this._spinner=null,this._feature=null,this._displaySpinnerThrottled=_((()=>this._displaySpinner()),0),this.actions=null,this.alignment=\"auto\",this.autoCloseEnabled=null,this.autoOpenEnabled=null,this.defaultPopupTemplateEnabled=null,this.content=null,this.collapsed=!1,this.collapseEnabled=!0,this.dockEnabled=!1,this.featureCount=null,this.featureMenuOpen=!1,this.features=null,this.goToOverride=null,this.highlightEnabled=null,this.location=null,this.label=void 0,this.maxInlineActions=3,this.messages=null,this.messagesCommon=null,this.promises=null,this.selectedFeature=null,this.selectedFeatureIndex=null,this.spinnerEnabled=!0,this.title=null,this.updateLocationEnabled=null,this.view=null,this.viewModel=new x,this.visible=null,this.visibleElements={...Ze},this._addSelectedFeatureIndexHandle(),this.own([c(this,\"viewModel.screenLocation\",(()=>this._positionContainer())),c(this,[\"viewModel.active\",\"dockEnabled\"],(()=>this._toggleScreenLocationEnabled())),c(this,\"viewModel.screenLocation\",((e,t)=>{!!e!=!!t&&this.reposition()})),c(this,[\"viewModel.view.padding\",\"viewModel.view.size\",\"viewModel.active\",\"viewModel.location\",\"alignment\"],(()=>this.reposition())),c(this,\"spinnerEnabled\",(e=>this._spinnerEnabledChange(e))),c(this,\"viewModel.view.size\",((e,t)=>this._updateDockEnabledForViewSize(e,t))),c(this,\"viewModel.view\",((e,t)=>this._viewChange(e,t))),c(this,\"viewModel.view.ready\",((e,t)=>this._viewReadyChange(e,t))),c(this,[\"viewModel.waitingForResult\",\"viewModel.location\"],(()=>{this._hideSpinner(),this._displaySpinnerThrottled()})),c(this,\"selectedFeatureWidget.viewModel.title\",(e=>this._setTitleFromFeatureWidget(e))),c(this,[\"selectedFeatureWidget.viewModel.content\",\"selectedFeatureWidget.viewModel.waitingForContent\"],(()=>this._setContentFromFeatureWidget())),p(this,\"collapsed\",(()=>{var e,t;\"xsmall\"===(null==(e=this.viewModel)||null==(t=e.view)?void 0:t.widthBreakpoint)&&this.viewModel.active&&this.collapseEnabled&&this.viewModel.centerAtLocation()})),h(this,\"viewModel.allActions\",\"change\",(()=>this._watchActions())),g(this,\"viewModel.allActions\",(()=>this._watchActions()))])}destroy(){this._destroySelectedFeatureWidget(),this._destroySpinner(),this._handles&&this._handles.destroy(),this._handles=null}get actionsMenuId(){return`${this.id}-actions-menu`}get actionsMenuButtonId(){return`${this.id}-actions-menu-button`}get featureMenuId(){return`${this.id}-feature-menu`}get titleId(){return`${this.id}-popup-title`}get contentId(){return`${this.id}-popup-content`}get hasContent(){var e,t,i,o,n;return!!(this.selectedFeatureWidget?(null==(e=this.selectedFeatureWidget)||null==(t=e.viewModel)?void 0:t.waitingForContent)||(null==(i=this.selectedFeatureWidget)||null==(o=i.viewModel)?void 0:o.content):null==(n=this.viewModel)?void 0:n.content)}get featureNavigationVisible(){return this.viewModel.active&&this.viewModel.featureCount>1&&this.visibleElements.featureNavigation}get collapsible(){return!!(this.collapseEnabled&&this.viewModel.title&&this.hasContent)}get featureMenuVisible(){return this.featureNavigationVisible&&this.featureMenuOpen}get contentCollapsed(){return this.collapsible&&!this.featureMenuVisible&&this.collapsed}get dividedActions(){return this._divideActions()}set actionsMenuOpen(e){this._set(\"actionsMenuOpen\",!!e)}get actionsMenuOpen(){return!!this.viewModel.active&&this._get(\"actionsMenuOpen\")}get currentAlignment(){return this._getCurrentAlignment()}get currentDockPosition(){return this._getCurrentDockPosition()}get dockOptions(){return this._get(\"dockOptions\")||Qe}set dockOptions(e){const t={...Qe},i=this.get(\"viewModel.view.breakpoints\"),o={};i&&(o.width=i.xsmall,o.height=i.xsmall);const n={...t,...e},s={...t.breakpoint,...o},{breakpoint:r}=n;!0===r?n.breakpoint=s:\"object\"==typeof r&&(n.breakpoint={...s,...r}),this._set(\"dockOptions\",n),this._setCurrentDockPosition(),this.reposition()}set featureNavigationEnabled(e){s(Ye,\"featureNavigationEnabled\",{replacement:\"visibleElements.featureNavigation\",version:\"4.15\"}),this.visibleElements={...this.visibleElements,featureNavigation:e}}get selectedFeatureWidget(){const{_feature:e,visibleElements:t}=this,{selectedFeatureViewModel:i}=this.viewModel,o={...t,title:!1};return i?(e?(e.viewModel=i,e.visibleElements=o):this._feature=new C({viewModel:i,visibleElements:o}),this._feature):null}castVisibleElements(e){return{...Ze,...e}}blur(){const{active:e}=this.viewModel;e||Ye.warn(\"Popup can only be blurred when currently active.\"),this.visibleElements.closeButton?this._blurClose=!0:this._blurContainer=!0,this.scheduleRender()}clear(){this.viewModel.clear()}close(){this.visible=!1}fetchFeatures(e,t){return this.viewModel.fetchFeatures(e,t)}focus(){const{active:e}=this.viewModel;e||Ye.warn(\"Popup can only be focused when currently active.\"),this.visibleElements.closeButton?this._focusClose=!0:this._focusContainer=!0,this.scheduleRender()}next(){return this.viewModel.next()}open(e){var t,i;this._handles.remove(\"selected-index\");const o=!!e&&!!e.featureMenuOpen,n=!!e&&!!e.actionsMenuOpen,s={collapsed:!!e&&!!e.collapsed,actionsMenuOpen:n,featureMenuOpen:o};\"xsmall\"===(null==(t=this.viewModel)||null==(i=t.view)?void 0:i.widthBreakpoint)&&(s.collapsed=!0),this.set(s),this.viewModel.open(e),this._addSelectedFeatureIndexHandle()}previous(){return this.viewModel.previous()}reposition(){this.renderNow(),this._positionContainer(),this._setCurrentAlignment()}triggerAction(e){this.viewModel.triggerAction(e)}render(){var e,t,i,o;const{actionsMenuOpen:n,dockEnabled:s,featureMenuVisible:r,dividedActions:l,currentAlignment:a,currentDockPosition:u}=this,{active:d}=this.viewModel,{menuActions:c}=l,p=d&&c.length>1&&n,h=d&&s,g=d&&!s,_=null==(e=this.selectedFeature)||null==(t=e.layer)?void 0:t.title,v=null==(i=this.selectedFeature)||null==(o=i.layer)?void 0:o.id,m={[te]:\"top-center\"===a,[ie]:\"bottom-center\"===a,[oe]:\"top-left\"===a,[ne]:\"bottom-left\"===a,[se]:\"top-right\"===a,[re]:\"bottom-right\"===a,[G]:h,[q]:g,[J]:\"top-left\"===u,[Q]:\"top-center\"===u,[X]:\"top-right\"===u,[Y]:\"bottom-left\"===u,[Z]:\"bottom-center\"===u,[ee]:\"bottom-right\"===u,[le]:r,[ae]:p};return y(\"div\",{class:this.classes(W,m),role:\"presentation\",\"data-layer-title\":_,\"data-layer-id\":v,bind:this,afterCreate:this._positionContainer,afterUpdate:this._positionContainer},d?[this.renderMainContainer(),this.renderPointer()]:null)}renderLoadingIcon(){return y(\"span\",{\"aria-hidden\":\"true\",class:this.classes(ke,U,T)})}renderNavigationLoading(){const{messagesCommon:e}=this;return this.viewModel.pendingPromisesCount?y(\"div\",{key:Xe(\"loading-container\"),role:\"presentation\",class:$,\"aria-label\":e.loading,title:e.loading},this.renderLoadingIcon()):null}renderPreviousIcon(){const e=m(),t={[E]:e,[Le]:e,[O]:!e,[je]:!e};return y(\"span\",{\"aria-hidden\":\"true\",class:this.classes(ke,t)})}renderPreviousButton(){const{messages:e}=this;return y(\"div\",{role:\"button\",tabIndex:0,bind:this,onclick:this._previous,onkeydown:this._previous,class:this.classes(we,Ve),\"aria-label\":e.previous,title:e.previous},this.renderPreviousIcon())}renderNextIcon(){const e=m(),t={[O]:e,[We]:e,[E]:!e,[Te]:!e};return y(\"span\",{\"aria-hidden\":\"true\",class:this.classes(ke,t)})}renderNextButton(){const{messages:e}=this;return y(\"div\",{role:\"button\",tabIndex:0,bind:this,onclick:this._next,onkeydown:this._next,class:this.classes(we,Ue),\"aria-label\":e.next,title:e.next},this.renderNextIcon())}renderFeatureMenuButton(){const{featureMenuOpen:e,featureMenuId:t,messagesCommon:i}=this,{featureCount:o,selectedFeatureIndex:n}=this.viewModel;return y(\"div\",{role:\"button\",tabIndex:0,bind:this,onclick:this._toggleFeatureMenu,onkeydown:this._toggleFeatureMenu,afterCreate:this._focusFeatureMenuButtonNode,afterUpdate:this._focusFeatureMenuButtonNode,class:this.classes(we,Ge),\"aria-haspopup\":\"true\",\"aria-controls\":t,\"aria-expanded\":e,\"aria-label\":i.menu,title:i.menu},this._getPageText(o,n))}renderNavigationButtons(){return this.featureNavigationVisible?[this.renderPreviousButton(),this.renderNavigationLoading()||this.renderFeatureMenuButton(),this.renderNextButton()]:null}renderDockIcon(){const{dockEnabled:e}=this,t=this._wouldDockTo(),i={[D]:e,[Ae]:!e,[B]:!e&&(\"top-right\"===t||\"bottom-right\"===t),[P]:!e&&(\"top-left\"===t||\"bottom-left\"===t),[I]:!e&&\"top-center\"===t,[N]:!e&&\"bottom-center\"===t};return y(\"span\",{\"aria-hidden\":\"true\",class:this.classes(i,ke)})}renderDockButton(){var e,t,i;const{dockEnabled:o,messages:n}=this,s=null==(e=this.viewModel)||null==(t=e.view)?void 0:t.widthBreakpoint,r=o?n.undock:n.dock;return\"xsmall\"!==s&&null!=(i=this.dockOptions)&&i.buttonEnabled?y(\"div\",{role:\"button\",\"aria-label\":r,title:r,tabIndex:0,bind:this,onclick:this._toggleDockEnabled,onkeydown:this._toggleDockEnabled,afterCreate:this._focusDockButtonNode,afterUpdate:this._focusDockButtonNode,class:this.classes(we,ye)},this.renderDockIcon()):null}renderTitle(){const{title:e}=this.viewModel,{titleId:t,collapsible:i,contentCollapsed:o,messagesCommon:n}=this,s={[he]:i},r=y(\"h2\",{class:ge,innerHTML:e}),l=i?y(\"button\",{key:`${e}--collapsible`,id:t,title:o?n.expand:n.collapse,bind:this,enterAnimation:this._createFeatureUpdatedAnimation(),class:this.classes(pe,s),\"aria-expanded\":o?\"false\":\"true\",onclick:this._toggleCollapsed},r):y(\"div\",{key:e,id:t,bind:this,enterAnimation:this._createFeatureUpdatedAnimation(),class:this.classes(pe,s)},r);return e?l:null}renderCloseIcon(){return y(\"span\",{\"aria-hidden\":\"true\",class:this.classes(ke,S)})}renderCloseButton(){const{visibleElements:e,messagesCommon:t}=this;return e.closeButton?y(\"div\",{role:\"button\",tabIndex:0,bind:this,onclick:this._close,onkeydown:this._close,class:we,\"aria-label\":t.close,title:t.close,afterCreate:this._closeButtonNodeUpdated,afterUpdate:this._closeButtonNodeUpdated},this.renderCloseIcon()):null}renderHeader(){return y(\"header\",{class:de},this.renderTitle(),y(\"div\",{class:ce},this.renderDockButton(),this.renderCloseButton()))}renderContentContainer(){const{contentId:e,hasContent:t,contentCollapsed:i}=this,{content:o}=this.viewModel;return t&&!i?y(\"article\",{key:o,enterAnimation:this._createFeatureUpdatedAnimation(),id:e,class:_e},this.renderContent()):null}renderActionsMenuButton(){const{actionsMenuId:e,actionsMenuButtonId:t,actionsMenuOpen:i,dividedActions:o,messagesCommon:n}=this,s=i?n.close:n.open,{menuActions:r}=o;return r.length?y(\"div\",{key:Xe(\"actions-menu-button\"),class:this.classes(we,Fe),role:\"button\",id:t,\"aria-haspopup\":\"true\",\"aria-controls\":i?e:null,tabIndex:0,bind:this,onclick:this._toggleActionsMenu,onkeydown:this._toggleActionsMenu,afterCreate:this._focusActionsMenuButtonNode,afterUpdate:this._focusActionsMenuButtonNode,\"aria-label\":s,title:s},y(\"span\",{\"aria-hidden\":\"true\",class:L})):null}renderMenuActions(){const{actionsMenuId:e,actionsMenuButtonId:t,actionsMenuOpen:i,dividedActions:o}=this,{menuActions:n,inlineActions:s}=o;return n.length&&i?y(\"ul\",{id:e,role:\"menu\",\"aria-labelledby\":t,key:Xe(\"actions\"),class:xe,bind:this,onkeyup:this._handleActionMenuKeyup,afterCreate:this._actionsMenuNodeUpdated,afterUpdate:this._actionsMenuNodeUpdated},n.toArray().map(((e,t)=>this.renderAction({action:e,index:t+s.length,type:\"menu-item\"})))):null}renderInlineActions(){const{inlineActions:e}=this.dividedActions;return!!e.length&&e.toArray().map(((e,t)=>this.renderAction({action:e,index:t,type:\"inline\"})))}renderInlineActionsContainer(){const{inlineActions:e,menuActions:t}=this.dividedActions,i=!!e.length,o=!!t.length;return i||o?y(\"div\",{key:\"inline-actions-container\",\"data-inline-actions\":i.toString(),\"data-menu-actions\":o.toString(),class:Ce},this.renderInlineActions(),this.renderActionsMenuButton(),this.renderMenuActions()):null}renderNavigation(){return this.featureNavigationVisible?y(\"section\",{key:Xe(\"navigation\"),class:this.classes(De)},this.renderNavigationButtons()):null}renderFooter(){const{featureNavigationVisible:e,dividedActions:t}=this,{inlineActions:i,menuActions:o}=t,n=!!i.length,s=!!o.length,r={[me]:e,[fe]:n,[be]:s};return e||n?y(\"div\",{key:Xe(\"feature-buttons\"),class:this.classes(ve,r)},this.renderInlineActionsContainer(),this.renderNavigation()):null}renderFeatureMenuContainer(){const{messages:e}=this,{featureViewModels:t}=this.viewModel,i=u(e.selectedFeatures,{total:t.length});return y(\"section\",{key:Xe(\"menu\"),class:Re},y(\"h2\",{class:Ke},i),y(\"nav\",{class:ze,afterCreate:this._featureMenuViewportNodeUpdated,afterUpdate:this._featureMenuViewportNodeUpdated},this.renderFeatureMenu()))}renderPointer(){return this.dockEnabled?null:y(\"div\",{key:Xe(\"pointer\"),class:Be,role:\"presentation\"},y(\"div\",{class:this.classes(Se,q)}))}renderMainContainer(){const{dockEnabled:e,currentAlignment:t,currentDockPosition:i,titleId:o,contentId:n,collapsible:s,hasContent:r,contentCollapsed:l,visibleElements:a}=this,{title:u}=this.viewModel,d=\"bottom-left\"===t||\"bottom-center\"===t||\"bottom-right\"===t||\"top-left\"===i||\"top-center\"===i||\"top-right\"===i,c=\"top-left\"===t||\"top-center\"===t||\"top-right\"===t||\"bottom-left\"===i||\"bottom-center\"===i||\"bottom-right\"===i,p={[q]:e,[z]:s,[K]:l};return y(\"div\",{class:this.classes(H,R,p),tabIndex:a.closeButton?null:-1,role:\"dialog\",\"aria-labelledby\":u?o:\"\",\"aria-describedby\":r&&!l?n:\"\",bind:this,onkeyup:this._handleMainKeyup,afterCreate:this._mainContainerNodeUpdated,afterUpdate:this._mainContainerNodeUpdated},d?this.renderFooter():null,d?this.renderFeatureMenuContainer():null,this.renderHeader(),this.renderContentContainer(),c?this.renderFooter():null,c?this.renderFeatureMenuContainer():null)}renderContent(){var e;const t=null==(e=this.viewModel)?void 0:e.content;return t?\"string\"==typeof t?y(\"div\",{key:t,innerHTML:t}):this.renderNodeContent(t):null}renderActionText(e){return y(\"span\",{key:\"text\",class:Ie},e)}renderActionIcon(e){const t=this._getActionClass(e),i=this._getActionImage(e),o={[U]:e.active,[T]:e.active,[ke]:!!t,[Ee]:!e.active&&!!i};return t&&(o[t]=!e.active),y(\"span\",{key:\"icon\",\"aria-hidden\":\"true\",class:this.classes(ke,o),styles:this._getIconStyles(i)})}renderAction(e){const{action:t,index:i,type:o}=e,n=this._getActionTitle(t),s={[Oe]:\"toggle\"!==t.type,[Ne]:\"toggle\"===t.type,[Pe]:\"toggle\"===t.type&&t.value,[Me]:t.disabled},r=[this.renderActionIcon(t),this.renderActionText(n)],l=\"menu-item\"===o?y(\"li\",{key:t.uid,role:\"menuitem\",tabIndex:0,title:n,\"aria-label\":n,class:this.classes(we,s),onkeyup:this._handleActionMenuItemKeyup,bind:this,\"data-action-index\":i,onclick:this._triggerAction,onkeydown:this._triggerAction},r):y(\"div\",{key:t.uid,role:\"button\",tabIndex:0,title:n,\"aria-label\":n,class:this.classes(we,s),onkeyup:this._handleActionMenuItemKeyup,bind:this,\"data-action-index\":i,onclick:this._triggerAction,onkeydown:this._triggerAction},r);return t.visible?l:null}renderFeatureMenuItem(e,t){const{messages:i,messagesCommon:o}=this,{selectedFeatureIndex:n,selectedFeatureViewModel:s}=this.viewModel,r=e===s,l={[qe]:r},a=r?y(\"span\",{key:Xe(`feature-menu-selected-feature-${n}`),title:i.selectedFeature,\"aria-label\":i.selectedFeature,class:V}):null,u=y(\"span\",{innerHTML:e.title||o.untitled});return y(\"li\",{role:\"menuitem\",tabIndex:-1,key:Xe(`feature-menu-feature-${n}`),class:this.classes(l,$e),bind:this,\"data-feature-index\":t,onkeyup:this._handleFeatureMenuItemKeyup,onclick:this._selectFeature,onkeydown:this._selectFeature},y(\"span\",{class:Je},u,a))}renderFeatureMenu(){const{featureMenuId:e}=this,{featureViewModels:t}=this.viewModel;return t.length>1?y(\"ol\",{class:He,id:e,bind:this,afterCreate:this._featureMenuNodeUpdated,afterUpdate:this._featureMenuNodeUpdated,onkeyup:this._handleFeatureMenuKeyup,role:\"menu\"},t.map(((e,t)=>this.renderFeatureMenuItem(e,t)))):null}_getActionTitle(e){const{messages:t,selectedFeature:i,messagesCommon:o}=this,{id:n}=e,s=null==i?void 0:i.attributes,r=\"zoom-to-feature\"===n?u(e.title,{messages:t}):\"remove-selected-feature\"===n?u(e.title,{messages:o}):e.title;return r&&s?u(r,s):r}_getActionClass(e){const{selectedFeature:t}=this,i=null==t?void 0:t.attributes,{className:o,image:n}=e,s=n||o?o:j;return s&&i?u(s,i):s}_getActionImage(e){const{selectedFeature:t}=this,i=null==t?void 0:t.attributes,{image:o}=e;return o&&i?u(o,i):o}_createFeatureUpdatedAnimation(){return v(\"enter\",ue)}_getInlineActionCount(){const{maxInlineActions:e,featureNavigationVisible:t}=this;if(\"number\"!=typeof e)return null;const i=Math.round(e);return Math.max(t?i-1:i,0)}_watchActions(){const{allActions:e}=this.viewModel;this.notifyChange(\"dividedActions\");const t=\"actions\";this._handles.remove(t),e&&e.forEach((e=>{this._handles.add(c(e,[\"active\",\"className\",\"disabled\",\"id\",\"title\",\"image\",\"visible\"],(()=>this.scheduleRender())),t)}))}_divideActions(){const{allActions:e}=this.viewModel,t=this._getInlineActionCount(),i=null===t,o=0===t;return{inlineActions:i?e.slice(0):o?new a:e.slice(0,t),menuActions:i?new a:o?e.slice(0):e.slice(t)}}_featureMenuOpenChanged(e){e?this._focusFirstFeature=!0:this._focusFeatureMenuButton=!0}_actionsMenuOpenChanged(e){e?this._focusFirstAction=!0:this._focusActionsMenuButton=!0}_setTitleFromFeatureWidget(e){const{selectedFeatureWidget:t}=this;t&&(this.viewModel.title=e||\"\")}_setContentFromFeatureWidget(){const{selectedFeatureWidget:e}=this;e&&(this.viewModel.content=e)}_handleFeatureMenuKeyup(e){\"Escape\"===l(e)&&(e.stopPropagation(),this._focusFeatureMenuButton=!0,this.featureMenuOpen=!1,this.scheduleRender())}_handleActionMenuKeyup(e){\"Escape\"===l(e)&&(e.stopPropagation(),this._focusActionsMenuButton=!0,this.actionsMenuOpen=!1,this.scheduleRender())}_handleFeatureMenuItemKeyup(e){const t=l(e),{_featureMenuNode:i}=this,o=e.currentTarget[\"data-feature-index\"];if(!i)return;const n=i.querySelectorAll(\"li\"),s=n.length;if(\"ArrowUp\"!==t)if(\"ArrowDown\"!==t)if(\"Home\"!==t)if(\"End\"!==t);else{e.stopPropagation();n[n.length-1].focus()}else{e.stopPropagation();n[0].focus()}else{e.stopPropagation();n[(o+1+s)%s].focus()}else{e.stopPropagation();n[(o-1+s)%s].focus()}}_handleActionMenuItemKeyup(e){const t=l(e),{_actionsMenuNode:i}=this,o=e.currentTarget[\"data-action-index\"];if(!i)return;const n=i.querySelectorAll(\"li\"),s=n.length;if(\"ArrowUp\"!==t)if(\"ArrowDown\"!==t)if(\"Home\"!==t)if(\"End\"!==t);else{e.stopPropagation();n[n.length-1].focus()}else{e.stopPropagation();n[0].focus()}else{e.stopPropagation();n[(o+1+s)%s].focus()}else{e.stopPropagation();n[(o-1+s)%s].focus()}}_handleMainKeyup(e){const t=l(e);\"ArrowLeft\"===t&&(e.stopPropagation(),this.previous()),\"ArrowRight\"===t&&(e.stopPropagation(),this.next())}_spinnerEnabledChange(e){if(this._destroySpinner(),!e)return;const t=this.get(\"viewModel.view\");this._createSpinner(t)}_hideSpinner(){const{_spinner:e}=this;e&&(e.location=null,e.hide())}_displaySpinner(){const{_spinner:e}=this;if(!e)return;const{location:t,waitingForResult:i}=this.viewModel;i?e.show({location:t}):e.hide()}_getIconStyles(e){return{\"background-image\":e?`url(${e})`:\"\"}}_addSelectedFeatureIndexHandle(){const e=c(this,\"viewModel.selectedFeatureIndex\",((e,t)=>this._selectedFeatureIndexUpdated(e,t)));this._handles.add(e,\"selected-index\")}_selectedFeatureIndexUpdated(e,t){const{featureCount:i}=this;i&&e!==t&&-1!==e&&(this.actionsMenuOpen=!1,this.featureMenuOpen=!1)}_destroySelectedFeatureWidget(){const{_feature:e}=this;e&&(e.viewModel=null,e&&!e.destroyed&&e.destroy()),this._feature=null}_isScreenLocationWithinView(e,t){return e.x>-1&&e.y>-1&&e.x<=t.width&&e.y<=t.height}_isOutsideView(e){const{popupHeight:t,popupWidth:i,screenLocation:o,side:n,view:s}=e;if(isNaN(i)||isNaN(t)||!s||!o)return!1;const r=s.padding;return\"right\"===n&&o.x+i/2>s.width-r.right||(\"left\"===n&&o.x-i/2<r.left||(\"top\"===n&&o.y-t<r.top||\"bottom\"===n&&o.y+t>s.height-r.bottom))}_calculateAutoAlignment(e){if(\"auto\"!==e)return e;const{_pointerOffsetInPx:t,_containerNode:i,_mainContainerNode:o,viewModel:n}=this,{screenLocation:s,view:r}=n;if(!s||!r||!i)return\"top-center\";if(!this._isScreenLocationWithinView(s,r))return this._get(\"currentAlignment\")||\"top-center\";function l(e){return parseInt(e.replace(/[^-\\d\\.]/g,\"\"),10)}const a=o?window.getComputedStyle(o,null):null,u=a?l(a.getPropertyValue(\"max-height\")):0,d=a?l(a.getPropertyValue(\"height\")):0,{height:c,width:p}=i.getBoundingClientRect(),h=p+t,g=Math.max(c,u,d)+t,_=this._isOutsideView({popupHeight:g,popupWidth:h,screenLocation:s,side:\"right\",view:r}),v=this._isOutsideView({popupHeight:g,popupWidth:h,screenLocation:s,side:\"left\",view:r}),m=this._isOutsideView({popupHeight:g,popupWidth:h,screenLocation:s,side:\"top\",view:r}),f=this._isOutsideView({popupHeight:g,popupWidth:h,screenLocation:s,side:\"bottom\",view:r});return v?m?\"bottom-right\":\"top-right\":_?m?\"bottom-left\":\"top-left\":m?f?\"top-center\":\"bottom-center\":\"top-center\"}_callCurrentAlignment(e){return\"function\"==typeof e?e.call(this):e}_getCurrentAlignment(){const{alignment:e,dockEnabled:t}=this;return t||!this.viewModel.active?null:this._calculatePositionResult(this._calculateAutoAlignment(this._callCurrentAlignment(e)))}_setCurrentAlignment(){this._set(\"currentAlignment\",this._getCurrentAlignment())}_setCurrentDockPosition(){this._set(\"currentDockPosition\",this._getCurrentDockPosition())}_calculatePositionResult(e){const t=[\"left\",\"right\"];return m()&&t.reverse(),e.replace(/leading/gi,t[0]).replace(/trailing/gi,t[1])}_callDockPosition(e){return\"function\"==typeof e?e.call(this):e}_getDockPosition(){var e;return this._calculatePositionResult(this._calculateAutoDockPosition(this._callDockPosition(null==(e=this.dockOptions)?void 0:e.position)))}_getCurrentDockPosition(){return this.dockEnabled&&this.viewModel.active?this._getDockPosition():null}_wouldDockTo(){return this.dockEnabled?null:this._getDockPosition()}_calculateAutoDockPosition(e){var t;if(\"auto\"!==e)return e;const i=null==(t=this.viewModel)?void 0:t.view,o=m()?\"top-left\":\"top-right\";if(!i)return o;const n=i.padding||{left:0,right:0,top:0,bottom:0},s=i.width-n.left-n.right,{breakpoints:r}=i;return r&&s<=r.xsmall?\"bottom-center\":o}_positionContainer(e=this._containerNode){if(e&&(this._containerNode=e),!e)return;const{screenLocation:t}=this.viewModel,{width:i}=e.getBoundingClientRect(),o=this._calculatePositionStyle(t,i);o&&(e.style.top=o.top,e.style.left=o.left,e.style.bottom=o.bottom,e.style.right=o.right)}_calculateFullWidth(e){const{currentAlignment:t,_pointerOffsetInPx:i}=this;return\"top-left\"===t||\"bottom-left\"===t||\"top-right\"===t||\"bottom-right\"===t?e+i:e}_calculateAlignmentPosition(e,t,i,o){const{currentAlignment:n,_pointerOffsetInPx:s}=this,r=o/2,l=i.height-t,a=i.width-e,{padding:u}=this.view;return\"bottom-center\"===n?{top:t+s-u.top,left:e-r-u.left}:\"top-left\"===n?{bottom:l+s-u.bottom,right:a+s-u.right}:\"bottom-left\"===n?{top:t+s-u.top,right:a+s-u.right}:\"top-right\"===n?{bottom:l+s-u.bottom,left:e+s-u.left}:\"bottom-right\"===n?{top:t+s-u.top,left:e+s-u.left}:\"top-center\"===n?{bottom:l+s-u.bottom,left:e-r-u.left}:void 0}_calculatePositionStyle(e,t){const{dockEnabled:i,view:o}=this;if(!o)return;if(i)return{left:\"\",top:\"\",right:\"\",bottom:\"\"};if(!e||!t)return;const n=this._calculateFullWidth(t),s=this._calculateAlignmentPosition(e.x,e.y,o,n);return s?{top:void 0!==s.top?`${s.top}px`:\"auto\",left:void 0!==s.left?`${s.left}px`:\"auto\",bottom:void 0!==s.bottom?`${s.bottom}px`:\"auto\",right:void 0!==s.right?`${s.right}px`:\"auto\"}:void 0}_viewChange(e,t){e&&t&&(this.close(),this.clear())}_viewReadyChange(e,t){if(e){const e=this.get(\"viewModel.view\");this._wireUpView(e)}else t&&(this.close(),this.clear())}_wireUpView(e){if(this._destroySpinner(),!e)return;const{spinnerEnabled:t}=this;t&&this._createSpinner(e),this._setDockEnabledForViewSize(this.dockOptions)}_dockingThresholdCrossed(e,t,i){const[o,n]=e,[s,r]=t,{width:l,height:a}=i;return o<=l&&s>l||o>l&&s<=l||n<=a&&r>a||n>a&&r<=a}_updateDockEnabledForViewSize(e,t){if(!e||!t)return;const i=this.get(\"viewModel.view.padding\")||{left:0,right:0,top:0,bottom:0},o=i.left+i.right,n=i.top+i.bottom,s=[],r=[];s[0]=e[0]-o,s[1]=e[1]-n,r[0]=t[0]-o,r[1]=t[1]-n;const{dockOptions:l}=this,a=l.breakpoint;this._dockingThresholdCrossed(s,r,a)&&this._setDockEnabledForViewSize(l),this._setCurrentDockPosition()}_focusDockButtonNode(e){this._focusDockButton&&(this._focusDockButton=!1,e.focus())}_closeButtonNodeUpdated(e){return this._focusClose?(this._focusClose=!1,void e.focus()):this._blurClose?(this._blurClose=!1,void e.blur()):void 0}_mainContainerNodeUpdated(e){return this._mainContainerNode=e,this._focusContainer?(this._focusContainer=!1,void e.focus()):this._blurContainer?(this._blurContainer=!1,void e.blur()):void 0}_featureMenuNodeUpdated(e){if(this._featureMenuNode=e,!e||!this._focusFirstFeature)return;this._focusFirstFeature=!1;const t=e.querySelectorAll(\"li\");if(t.length){t[0].focus()}}_actionsMenuNodeUpdated(e){if(this._actionsMenuNode=e,!e||!this._focusFirstAction)return;this._focusFirstAction=!1;const t=e.querySelectorAll(\"li\");if(t.length){t[0].focus()}}_focusFeatureMenuButtonNode(e){this._focusFeatureMenuButton&&(this._focusFeatureMenuButton=!1,e.focus())}_focusActionsMenuButtonNode(e){this._focusActionsMenuButton&&(this._focusActionsMenuButton=!1,e.focus())}_featureMenuViewportNodeUpdated(e){e&&(e.scrollTop=0)}_toggleScreenLocationEnabled(){const{dockEnabled:e,viewModel:t}=this;if(!t)return;const i=t.active&&!e;t.screenLocationEnabled=i}_shouldDockAtCurrentViewSize(e){var t,i;const o=e.breakpoint,n=null==(t=this.viewModel)||null==(i=t.view)?void 0:i.ui;if(!n)return!1;const{width:s,height:r}=n;if(isNaN(s)||isNaN(r))return!1;const l=o.hasOwnProperty(\"width\")&&s<=o.width,a=o.hasOwnProperty(\"height\")&&r<=o.height;return l||a}_setDockEnabledForViewSize(e){e.breakpoint&&(this.dockEnabled=this._shouldDockAtCurrentViewSize(e))}_getPageText(e,t){return this.featureNavigationVisible?u(this.messages.pageText,{index:t+1,total:e}):null}_destroySpinner(){const{_spinner:e,view:t}=this;e&&(t&&t.ui&&t.ui.remove(this._spinner,\"popup-spinner\"),e.destroy(),this._spinner=null)}_createSpinner(e){e&&(this._spinner=new F({view:e}),e.ui.add(this._spinner,{key:\"popup-spinner\",position:\"manual\"}))}_toggleCollapsed(){this.collapsed=!this.collapsed}_close(){this.close(),this.view&&this.view.focus()}_toggleDockEnabled(){this.dockEnabled=!this.dockEnabled,this._focusDockButton=!0,this.scheduleRender()}_toggleFeatureMenu(){const e=!this.featureMenuOpen;this._featureMenuOpenChanged(e),this.actionsMenuOpen=!1,this.featureMenuOpen=e}_toggleActionsMenu(){const e=!this.actionsMenuOpen;this._actionsMenuOpenChanged(e),this.featureMenuOpen=!1,this.actionsMenuOpen=e}_triggerAction(e){const t=e.currentTarget[\"data-action-index\"],i=this.viewModel.allActions.getItemAt(t);i&&\"toggle\"===i.type&&(i.value=!i.value),this.actionsMenuOpen=!1,this.viewModel.triggerAction(t)}_selectFeature(e){const t=e.currentTarget[\"data-feature-index\"];isNaN(t)||(this.viewModel.selectedFeatureIndex=t),this.featureMenuOpen=!1,this._focusFeatureMenuButton=!0,this.scheduleRender()}_next(){this.next()}_previous(){this.previous()}};e([i({readOnly:!0,dependsOn:[\"id\"]}),w()],et.prototype,\"actionsMenuId\",null),e([i({readOnly:!0,dependsOn:[\"id\"]}),w()],et.prototype,\"actionsMenuButtonId\",null),e([i({readOnly:!0,dependsOn:[\"id\"]}),w()],et.prototype,\"featureMenuId\",null),e([i({readOnly:!0,dependsOn:[\"id\"]}),w()],et.prototype,\"titleId\",null),e([i({readOnly:!0,dependsOn:[\"id\"]}),w()],et.prototype,\"contentId\",null),e([i({readOnly:!0,dependsOn:[\"selectedFeatureWidget\",\"selectedFeatureWidget.viewModel\",\"selectedFeatureWidget.viewModel.waitingForContent\",\"selectedFeatureWidget.viewModel.content\",\"viewModel.content\"]}),w()],et.prototype,\"hasContent\",null),e([i({readOnly:!0,dependsOn:[\"viewModel.active\",\"viewModel.featureCount\",\"visibleElements.featureNavigation\"]}),w()],et.prototype,\"featureNavigationVisible\",null),e([i({readOnly:!0,dependsOn:[\"collapseEnabled\",\"viewModel.title\",\"hasContent\"]}),w()],et.prototype,\"collapsible\",null),e([i({readOnly:!0,dependsOn:[\"featureNavigationVisible\",\"featureMenuOpen\"]}),w()],et.prototype,\"featureMenuVisible\",null),e([i({readOnly:!0,dependsOn:[\"collapsible\",\"featureMenuVisible\",\"collapsed\"]}),w()],et.prototype,\"contentCollapsed\",null),e([i({readOnly:!0,dependsOn:[\"featureNavigationVisible\",\"maxInlineActions\",\"viewModel.allActions\",\"viewModel.allActions.length\"]}),w()],et.prototype,\"dividedActions\",null),e([o(\"viewModel.actions\"),w()],et.prototype,\"actions\",void 0),e([i({dependsOn:[\"viewModel.active\"]}),w()],et.prototype,\"actionsMenuOpen\",null),e([i()],et.prototype,\"alignment\",void 0),e([o(\"viewModel.autoCloseEnabled\")],et.prototype,\"autoCloseEnabled\",void 0),e([o(\"viewModel.autoOpenEnabled\")],et.prototype,\"autoOpenEnabled\",void 0),e([o(\"viewModel.defaultPopupTemplateEnabled\")],et.prototype,\"defaultPopupTemplateEnabled\",void 0),e([o(\"viewModel.content\"),w()],et.prototype,\"content\",void 0),e([i(),w()],et.prototype,\"collapsed\",void 0),e([i(),w()],et.prototype,\"collapseEnabled\",void 0),e([i({readOnly:!0,dependsOn:[\"dockEnabled\",\"alignment\",\"viewModel.active\"]}),w()],et.prototype,\"currentAlignment\",null),e([i({readOnly:!0,dependsOn:[\"viewModel.view.ready\",\"dockEnabled\",\"dockOptions\",\"viewModel.active\"]}),w()],et.prototype,\"currentDockPosition\",null),e([i(),w()],et.prototype,\"dockOptions\",null),e([i(),w()],et.prototype,\"dockEnabled\",void 0),e([o(\"viewModel.featureCount\"),w()],et.prototype,\"featureCount\",void 0),e([i(),w()],et.prototype,\"featureMenuOpen\",void 0),e([o(\"viewModel.features\"),w()],et.prototype,\"features\",void 0),e([i(),w()],et.prototype,\"featureNavigationEnabled\",null),e([o(\"viewModel.goToOverride\")],et.prototype,\"goToOverride\",void 0),e([o(\"viewModel.highlightEnabled\")],et.prototype,\"highlightEnabled\",void 0),e([o(\"viewModel.location\"),w()],et.prototype,\"location\",void 0),e([i({aliasOf:{source:\"messages.widgetLabel\",overridable:!0}})],et.prototype,\"label\",void 0),e([i(),w()],et.prototype,\"maxInlineActions\",void 0),e([i(),w(),b(\"esri/widgets/Popup/t9n/Popup\")],et.prototype,\"messages\",void 0),e([i(),w(),b(\"esri/t9n/common\")],et.prototype,\"messagesCommon\",void 0),e([o(\"viewModel.promises\")],et.prototype,\"promises\",void 0),e([o(\"viewModel.selectedFeature\"),w()],et.prototype,\"selectedFeature\",void 0),e([o(\"viewModel.selectedFeatureIndex\"),w()],et.prototype,\"selectedFeatureIndex\",void 0),e([i({readOnly:!0,dependsOn:[\"viewModel.selectedFeatureViewModel\",\"visibleElements\"]}),w()],et.prototype,\"selectedFeatureWidget\",null),e([i()],et.prototype,\"spinnerEnabled\",void 0),e([o(\"viewModel.title\"),w()],et.prototype,\"title\",void 0),e([o(\"viewModel.updateLocationEnabled\")],et.prototype,\"updateLocationEnabled\",void 0),e([o(\"viewModel.view\")],et.prototype,\"view\",void 0),e([i({type:x}),w([\"viewModel.active\",\"viewModel.view.widthBreakpoint\",\"viewModel.allActions\",\"viewModel.screenLocation\",\"viewModel.screenLocationEnabled\",\"viewModel.state\",\"viewModel.pendingPromisesCount\",\"viewModel.promiseCount\",\"viewModel.waitingForResult\"]),M([\"triggerAction\",\"trigger-action\"])],et.prototype,\"viewModel\",void 0),e([o(\"viewModel.visible\"),w()],et.prototype,\"visible\",void 0),e([i(),w()],et.prototype,\"visibleElements\",void 0),e([n(\"visibleElements\")],et.prototype,\"castVisibleElements\",null),e([f()],et.prototype,\"_close\",null),e([f()],et.prototype,\"_toggleDockEnabled\",null),e([f()],et.prototype,\"_toggleFeatureMenu\",null),e([f()],et.prototype,\"_toggleActionsMenu\",null),e([f()],et.prototype,\"_triggerAction\",null),e([f()],et.prototype,\"_selectFeature\",null),e([f()],et.prototype,\"_next\",null),e([f()],et.prototype,\"_previous\",null),et=e([r(\"esri.widgets.Popup\")],et);var tt=et;export default tt;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import\"../core/has.js\";import\"../core/Logger.js\";import\"../core/accessorSupport/ensureType.js\";import{property as t}from\"../core/accessorSupport/decorators/property.js\";import{subclass as s}from\"../core/accessorSupport/decorators/subclass.js\";import\"../core/urlUtils.js\";import\"../core/uuid.js\";import\"../portal/support/resourceExtension.js\";import{addFrameTask as i}from\"../core/scheduling.js\";import{init as o}from\"../core/watchUtils.js\";import{byId as r,reparent as n,empty as h}from\"../core/domUtils.js\";import a from\"./overlay/ViewOverlay.js\";import d from\"../widgets/Popup.js\";const u=[0,0];function l(e){const t=(e.ownerDocument||window.document).defaultView,s=e.getBoundingClientRect();return u[0]=s.left+t.pageXOffset,u[1]=s.top+t.pageYOffset,u}function p(e){e&&(h(e),e.parentNode&&e.parentNode.removeChild(e))}const c=h=>{let u=class extends h{constructor(...e){super(...e),this._freqInfo={freq:16,time:750},this._overlayRenderTaskHandle=null,this.height=0,this.position=null,this.resizing=!1,this.root=null,this.surface=null,this.suspended=!0,this.ui=null,this.userContent=null,this.width=0,this.widthBreakpoint=null,this.handles.add([this.watch(\"cursor\",(e=>{const t=this.surface;t&&t.setAttribute(\"data-cursor\",e)})),this.watch(\"interacting\",(e=>{const t=this.surface;t&&t.setAttribute(\"data-interacting\",e.toString())}))])}initialize(){this.handles.add(this.watch(\"ui\",((e,t)=>this._handleUIChange(e,t)))),this._wireUI(this.ui),this.handles.add([this.on(\"focus\",(()=>this.notifyChange(\"focused\"))),this.on(\"blur\",(()=>this.notifyChange(\"focused\")))])}destroy(){this.destroyed||(this.ui&&(this.ui.destroy(),this.ui=null),this.popup&&!this.popup.destroyed&&this.popup.destroy(),this.container=null)}set container(e){const t=this._get(\"container\");if(t===e)return;const s=\"dom-size\";if(this.handles.remove(s),this._stopMeasuring(),t&&(t.classList.remove(\"esri-view\"),this._overlayRenderTaskHandle&&(this._overlayRenderTaskHandle.remove(),this._overlayRenderTaskHandle=null),this.overlay.destroy(),this._set(\"overlay\",null),p(this.root),this._set(\"root\",null),n(this.userContent,t),p(this.userContent),this._set(\"userContent\",null)),e){e.classList.add(\"esri-view\");const t=document.createElement(\"div\");t.className=\"esri-view-user-storage\",n(e,t),e.appendChild(t),this._set(\"userContent\",t);const r=document.createElement(\"div\");r.className=\"esri-view-root\",e.insertBefore(r,e.firstChild),this._set(\"root\",r);const h=document.createElement(\"div\");h.className=\"esri-view-surface\",h.setAttribute(\"role\",\"application\"),h.tabIndex=0,r.appendChild(h),this._set(\"surface\",h);const d=new a;r.appendChild(d.surface),this._set(\"overlay\",d),d.watch(\"needsRender\",(e=>{e&&!this._overlayRenderTaskHandle?this._overlayRenderTaskHandle=i({render:()=>{this.overlay.render()}}):this._overlayRenderTaskHandle&&(this._overlayRenderTaskHandle.remove(),this._overlayRenderTaskHandle=null)})),this.forceDOMReadyCycle(),this.handles.add(o(this,\"size\",(e=>{const[t,s]=e,i=\"esri-view-surface--inset-outline\";t>=document.body.clientWidth||s>=document.body.clientHeight?h.classList.add(i):h.classList.remove(i)})),s),this._set(\"container\",e),this._startMeasuring()}else this._set(\"width\",0),this._set(\"height\",0),this._set(\"position\",null),this._set(\"suspended\",!0),this._set(\"surface\",null),this._set(\"container\",null)}get focused(){const e=document.activeElement===this.surface;return document.hasFocus()&&e}get popup(){return this._get(\"popup\")||new d({view:this})}set popup(e){const t=this._get(\"popup\");t&&t!==e&&t.destroy(),this._set(\"popup\",e)}get size(){return[this.width,this.height]}blur(){this.surface&&this.surface.blur()}focus(){this.surface&&this.surface.focus()}pageToContainer(e,t,s){const i=this.position;return e-=i[0],t-=i[1],s?(s[0]=e,s[1]=t):s=[e,t],s}containerToPage(e,t,s){const i=this.position;return e+=i[0],t+=i[1],s?(s[0]=e,s[1]=t):s=[e,t],s}_handleUIChange(e,t){t&&(this.handles.remove(\"ui\"),t.destroy()),e&&this._wireUI(e),this._set(\"ui\",e)}_wireUI(e){this.handles.remove(\"ui\"),e&&(e.view=this,this.handles.add([o(this,\"root\",(t=>{e.container=t?function(e){const t=document.createElement(\"div\");return e.appendChild(t),t}(t):null})),o(this,\"popup\",((t,s)=>{const i=\"popup\";s&&e.remove(s,i),t&&(t.view=e.view,e.add(t,{key:i,position:\"manual\"}))}))],\"ui\"))}_stopMeasuring(){this.handles.remove(\"measuring\"),this._get(\"resizing\")&&this._set(\"resizing\",!1)}_startMeasuring(){const e=this._freqInfo;e.freq=16,e.time=750,this.handles.add([(()=>{const t=()=>{e.freq=16,e.time=750};return window.addEventListener(\"resize\",t),{remove(){window.removeEventListener(\"resize\",t)}}})(),i({prepare:e=>{const t=this._measure(),s=this._freqInfo;if(s.time+=e.deltaTime,t&&(s.freq=16,this._get(\"resizing\")||this._set(\"resizing\",!0)),s.time<s.freq)return;s.time=0;const i=this._position();s.freq=i||t?16:Math.min(750,2*s.freq),!t&&s.freq>=512&&this._get(\"resizing\")&&this._set(\"resizing\",!1)}})],\"measuring\"),this._measure(),this._position()}_measure(){const e=this.container,t=e?e.clientWidth:0,s=e?e.clientHeight:0;if(0===t||0===s)return this.suspended||this._set(\"suspended\",!0),!1;const i=this.width,o=this.height;return t===i&&s===o?(this.suspended&&this._set(\"suspended\",!1),!1):(this._set(\"width\",t),this._set(\"height\",s),this.suspended&&this._set(\"suspended\",!1),this.emit(\"resize\",{oldWidth:i,oldHeight:o,width:t,height:s}),!0)}_position(){const e=this.container,t=this.position,s=l(e);return(!t||s[0]!==t[0]||s[1]!==t[1])&&(this._set(\"position\",[s[0],s[1]]),!0)}forceDOMReadyCycle(){}};return e([t({value:null,cast:e=>r(e)})],u.prototype,\"container\",null),e([t({readOnly:!0,dependsOn:[\"surface\"]})],u.prototype,\"focused\",null),e([t({readOnly:!0})],u.prototype,\"height\",void 0),e([t({type:d})],u.prototype,\"popup\",null),e([t({type:a})],u.prototype,\"overlay\",void 0),e([t({readOnly:!0})],u.prototype,\"position\",void 0),e([t({readOnly:!0})],u.prototype,\"resizing\",void 0),e([t({readOnly:!0})],u.prototype,\"root\",void 0),e([t({value:null,dependsOn:[\"width\",\"height\"],readOnly:!0})],u.prototype,\"size\",null),e([t({readOnly:!0})],u.prototype,\"surface\",void 0),e([t({readOnly:!0})],u.prototype,\"suspended\",void 0),e([t()],u.prototype,\"ui\",void 0),e([t({readOnly:!0})],u.prototype,\"userContent\",void 0),e([t({readOnly:!0})],u.prototype,\"width\",void 0),e([t()],u.prototype,\"widthBreakpoint\",void 0),u=e([s(\"esri.views.DOMContainer\")],u),u};function m(e){return e&&\"focus\"in e}export{c as DOMContainer,m as isDOMContainer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nclass e{constructor(e,t=[]){this.eventType=e,this.keyModifiers=t}matches(e){if(e.type!==this.eventType)return!1;if(0===this.keyModifiers.length)return!0;const t=e.modifiers;for(const e of this.keyModifiers)if(!t.has(e))return!1;return!0}}export{e as EventMatch};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport e from\"../../core/Logger.js\";import{EventMatch as t}from\"./EventMatch.js\";const n=e.getLogger(\"esri.views.input.InputHandler\");class i{constructor(e){this._manager=null,this._incoming={},this._outgoing={},this._incomingEventMatches=null,this._incomingEventTypes=null,this._outgoingEventTypes=null,this._hasSideEffects=e}get incomingEventMatches(){if(!this._incomingEventMatches){this._incomingEventMatches=[];for(const e in this._incoming){const t=this._incoming[e];for(const e of t)this._incomingEventMatches.push(e.match)}}return this._incomingEventMatches}get incomingEventTypes(){return this._incomingEventTypes||(this._incomingEventTypes=this.incomingEventMatches.map((e=>e.eventType))),this._incomingEventTypes}get outgoingEventTypes(){return this._outgoingEventTypes||(this._outgoingEventTypes=Object.keys(this._outgoing)),this._outgoingEventTypes}get hasSideEffects(){return this._hasSideEffects}get hasPendingInputs(){return!1}onInstall(e){this._manager?n.error(\"This InputHandler has already been registered with an InputManager\"):(e.setEventCallback((e=>this._handleEvent(e))),e.setUninstallCallback((()=>this._onUninstall())),this._manager=e)}onUninstall(){}registerIncoming(e,n,i){let a;\"function\"==typeof n?(i=n,a=[]):a=n||[];const o=\"string\"==typeof e?new t(e,a):e,h=()=>{this._incomingEventTypes=null,this._incomingEventMatches=null},r=e=>{const t=this._incoming[e.match.eventType];if(t){const n=t.indexOf(e);t.splice(n,1),h(),this._manager&&this._manager.updateDependencies()}},g=new s(o,i,{onPause:r,onRemove:r,onResume:e=>{const t=this._incoming[e.match.eventType];t&&-1===t.indexOf(e)&&(t.push(e),h(),this._manager&&this._manager.updateDependencies())}});let c=this._incoming[o.eventType];return c||(c=[],this._incoming[o.eventType]=c),c.push(g),h(),this._manager&&this._manager.updateDependencies(),g}registerOutgoing(e){if(this._outgoing[e])throw Error(\"There is already a callback registered for this outgoing InputEvent: \"+e);const t=new a(e,{onEmit:(e,t,n,i)=>{this._manager.emit(e.eventType,t,n,i)},onRemove:e=>{delete this._outgoing[e.eventType],this._manager.updateDependencies()}});return this._outgoing[e]=t,this._outgoingEventTypes=null,this._manager&&this._manager.updateDependencies(),t}startCapturingPointer(e){this._manager.setPointerCapture(e,!0)}stopCapturingPointer(e){this._manager.setPointerCapture(e,!1)}refreshHasPendingInputs(){this._manager.refreshHasPendingInputs()}_onUninstall(){this._manager?(this.onUninstall(),this._manager=null):n.error(\"This InputHandler is not registered with an InputManager\")}_handleEvent(e){const t=this._incoming[e.type];if(t)for(const n of t)if(n.match.matches(e)&&(n.callback(e),e.shouldStopPropagation()))break}}class s{constructor(e,t,n){this.match=e,this._callback=t,this._handler=n}pause(){this._handler.onPause(this)}resume(){this._handler.onResume(this)}remove(){this._handler.onRemove(this)}get callback(){return this._callback}}class a{constructor(e,t){this.eventType=e,this._removed=!1,this._handler=t}emit(e,t,n){this._removed||this._handler.onEmit(this,e,t,n)}remove(){this._removed=!0,this._handler.onRemove(this)}}export{i as InputHandler};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{InputHandler as e}from\"../InputHandler.js\";class t extends e{constructor(e){super(!0),this._onChange=e,this._value=\"mouse\",this.registerIncoming(\"pointer-down\",(e=>{const t=\"touch\"===e.data.native.pointerType;this._setValue(t?\"touch\":\"mouse\")})),this._moveHandler=this.registerIncoming(\"pointer-move\",(e=>{const t=\"touch\"===e.data.native.pointerType;this._setValue(t?\"touch\":\"mouse\")})),this._moveHandler.pause()}_setValue(e){e!==this._value&&(\"touch\"===e?this._moveHandler.resume():this._moveHandler.pause(),this._value=e,this._onChange(e))}}export{t as LatestPointerType};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import t from\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import{subclass as i}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import n from\"../../core/Accessor.js\";import s from\"../../core/Queue.js\";import{primaryKey as o,isSystemModifier as a}from\"./keys.js\";import{LatestPointerType as p}from\"./handlers/LatestPointerType.js\";const h=t.getLogger(\"esri.views.input.InputManager\");let l=class extends n{constructor(e){super(e),this._pointerCaptures=new Map,this._nameToGroup={},this._handlers=[],this._currentPropagation=null,this._sourceEvents=new Set,this._keyModifiers=new Set,this._activeKeyModifiers=new Set,this._stoppedPropagationEventIds=new Set,this.primaryKey=o,this.latestPointerType=\"mouse\",this.test={timestamp:void 0,hasCurrentPropagation:()=>!!this._currentPropagation}}initialize(){this.eventSource.onEventReceived=this._onEventReceived.bind(this),this._installRecognizers()}destroy(){const e=Object.keys(this._nameToGroup);for(const t of e)this.uninstallHandlers(t);this.eventSource=null,this._currentPropagation=null}get hasPendingInputs(){return this._handlers.some((e=>e.handler.hasPendingInputs))}installHandlers(e,t,r=u.INTERNAL){if(this._nameToGroup[e])return void h.error(\"There is already an InputHandler group registered under the name `\"+e+\"`\");if(0===t.length)return void h.error(\"Can't register a group of zero handlers\");const i={name:e,handlers:t.map((e=>({handler:e,active:!0,removed:!1,priorityIndex:0,groupPriority:r,eventCallback:null,uninstallCallback:null})))};this._nameToGroup[e]=i;for(let e=i.handlers.length-1;e>=0;e--){const t=i.handlers[e];this._handlers.push(t),t.handler.onInstall({updateDependencies:()=>{this.updateDependencies()},emit:(e,r,i,n,s)=>{this._emitInputEvent(t.priorityIndex+1,e,r,i,s,n)},setPointerCapture:(e,r)=>{this._setPointerCapture(i,t,e,r)},setEventCallback:e=>{t.eventCallback=e},setUninstallCallback:e=>{t.uninstallCallback=e},refreshHasPendingInputs:()=>{this.notifyChange(\"hasPendingInputs\")}})}this.updateDependencies()}uninstallHandlers(e){const t=this._nameToGroup[e];t?(t.handlers.forEach((e=>{e.removed=!0,e.uninstallCallback()})),delete this._nameToGroup[e],this._currentPropagation?this._currentPropagation.needsHandlerGarbageCollect=!0:this._garbageCollectRemovedHandlers()):h.error(\"There is no InputHandler group registered under the name `\"+e+\"`\")}hasHandlers(e){return void 0!==this._nameToGroup[e]}updateDependencies(){const e=new Set,t=new Set;this._handlersPriority=[];for(let e=this._handlers.length-1;e>=0;e--){const t=this._handlers[e];t.priorityIndex=e,this._handlersPriority.push(t)}this._handlersPriority=this._sortHandlersPriority(this._handlersPriority);for(let r=this._handlersPriority.length-1;r>=0;r--){const i=this._handlersPriority[r];i.priorityIndex=r;let n=i.handler.hasSideEffects;if(!n)for(const t of i.handler.outgoingEventTypes)if(e.has(t)){n=!0;break}if(n)for(const r of i.handler.incomingEventMatches){e.add(r.eventType);for(const e of r.keyModifiers)a(e)||t.add(e)}i.active=n}this._sourceEvents=e,this._keyModifiers=t,this._pointerCaptures.size>0&&this._sourceEvents.add(\"pointer-capture-lost\"),this._keyModifiers.size>0&&(this._sourceEvents.add(\"key-down\"),this._sourceEvents.add(\"key-up\")),this.eventSource&&(this.eventSource.activeEvents=this._sourceEvents)}_setLatestPointerType(e){this._set(\"latestPointerType\",e)}_onEventReceived(e,t){if(\"pointer-capture-lost\"===e){const e=t;this._pointerCaptures.delete(e.native.pointerId)}this._updateKeyModifiers(e,t);const r=null!=this.test.timestamp?this.test.timestamp:t.native?t.native.timestamp:void 0,i=t.native?t.native.cancelable:void 0;this._emitInputEventFromSource(e,t,r,i)}_updateKeyModifiers(e,t){if(!t)return;let r=!1;const i=()=>{if(!r){const e=new Set;this._activeKeyModifiers.forEach((t=>{e.add(t)})),this._activeKeyModifiers=e,r=!0}},n=(e,t)=>{t&&!this._activeKeyModifiers.has(e)?(i(),this._activeKeyModifiers.add(e)):!t&&this._activeKeyModifiers.has(e)&&(i(),this._activeKeyModifiers.delete(e))};if(\"key-down\"===e||\"key-up\"===e){const r=t.key;this._keyModifiers.has(r)&&n(r,\"key-down\"===e)}const s=t.native;n(\"Alt\",!(!s||!s.altKey)),n(\"Ctrl\",!(!s||!s.ctrlKey)),n(\"Shift\",!(!s||!s.shiftKey)),n(\"Meta\",!(!s||!s.metaKey)),n(\"Primary\",this._activeKeyModifiers.has(this.primaryKey))}_installRecognizers(){this._latestPointerTypeHandler=new p((e=>this._setLatestPointerType(e))),this.recognizers.length>0&&this.installHandlers(\"default\",this.recognizers,u.INTERNAL),this.installHandlers(\"input-manager-logic\",[this._latestPointerTypeHandler],u.INTERNAL)}_setPointerCapture(e,t,r,i){const n=e.name+\"-\"+t.priorityIndex,s=this._pointerCaptures.get(r.pointerId)||new Set;this._pointerCaptures.set(r.pointerId,s),i?(s.add(n),1===s.size&&this.eventSource&&this.eventSource.setPointerCapture(r,!0)):s.has(n)&&(s.delete(n),0===s.size&&(this._pointerCaptures.delete(r.pointerId),this.eventSource&&this.eventSource.setPointerCapture(r,!1)))}_garbageCollectRemovedHandlers(){this._handlers=this._handlers.filter((e=>!e.removed)),this.updateDependencies()}_emitInputEventFromSource(e,t,r,i){this._emitInputEvent(0,e,t,r,i)}_emitInputEvent(e,t,r,i,n,s){const o=void 0!==i?i:this._currentPropagation?this._currentPropagation.timestamp:performance.now(),a=void 0!==n&&n,p={event:new d(t,r,o,s||this._activeKeyModifiers,a),priorityIndex:e};this._currentPropagation?this._currentPropagation.events.push(p):this._doNewPropagation(p)}_doNewPropagation(e){this._currentPropagation={events:new s,currentHandler:null,needsHandlerGarbageCollect:!1,timestamp:e.event.timestamp},this._currentPropagation.events.push(e),this._continuePropagation()}_continuePropagation(){const e=this._currentPropagation;if(e){for(;this._currentPropagation.events.length>0;){const{event:t,priorityIndex:r}=this._currentPropagation.events.pop(),i=t.data&&t.data.eventId;if(!(null!=i&&this._stoppedPropagationEventIds.has(i)))for(e.currentHandler=this._handlersPriority[r];e.currentHandler;){if(e.currentHandler.removed)e.needsHandlerGarbageCollect=!0;else{if(e.currentHandler.active&&!t.shouldStopPropagation()&&e.currentHandler.eventCallback(t),t.shouldStopPropagation()){null!=i&&this._stoppedPropagationEventIds.add(i);break}if(t.shouldPausePropagation((()=>this._continuePropagation())))return void this._pausePropagation({event:t,priorityIndex:e.currentHandler.priorityIndex+1})}e.currentHandler=this._handlersPriority[e.currentHandler.priorityIndex+1]}}e.needsHandlerGarbageCollect&&this._garbageCollectRemovedHandlers(),this.hasPendingInputs||this._stoppedPropagationEventIds.clear(),this._currentPropagation=null}}_pausePropagation(e){const t=new s;for(t.push(e);this._currentPropagation.events.length;)t.push(this._currentPropagation.events.pop());this._currentPropagation.events=t,this._currentPropagation.currentHandler=null}_compareHandlerPriority(e,t){if(e.handler.hasSideEffects!==t.handler.hasSideEffects)return e.handler.hasSideEffects?1:-1;if(e.groupPriority!==t.groupPriority)return e.groupPriority>t.groupPriority?-1:1;for(const r of e.handler.incomingEventMatches)for(const e of t.handler.incomingEventMatches){if(r.eventType!==e.eventType)continue;const t=r.keyModifiers.filter((t=>-1!==e.keyModifiers.indexOf(t)));if(t.length===r.keyModifiers.length!==(t.length===e.keyModifiers.length))return r.keyModifiers.length>e.keyModifiers.length?-1:1}return e.priorityIndex>t.priorityIndex?-1:1}_sortHandlersPriority(e){const t=[];for(const r of e){let e=0;for(;e<t.length&&this._compareHandlerPriority(r,t[e])>=0;)e++;t.splice(e,0,r)}return t}get debug(){const e=e=>{const t=this._setPointerCapture;this._setPointerCapture=()=>{},e(),this._setPointerCapture=t};return{injectEvent:(t,r)=>{e((()=>{this._onEventReceived(t,r)}))},disablePointerCapture:e}}};e([r({readOnly:!0})],l.prototype,\"hasPendingInputs\",null),e([r()],l.prototype,\"eventSource\",void 0),e([r()],l.prototype,\"recognizers\",void 0),e([r({readOnly:!0})],l.prototype,\"latestPointerType\",void 0),l=e([i(\"esri.views.input.InputManager\")],l);class d{constructor(e,t,r,i,n){this.type=e,this.data=t,this.timestamp=r,this.modifiers=i,this.cancelable=n,this._propagationState=0,this._resumeCallback=null}stopPropagation(){this._propagationState|=1}shouldStopPropagation(){return 0!=(1&this._propagationState)}async(e){this._propagationState|=2;const t=(e,t)=>{this._propagationState&=-3;const r=this._resumeCallback;if(this._resumeCallback=null,r&&r(),t)throw e;return e};return(\"function\"==typeof e?e():e).then((e=>t(e,!1)),(e=>t(e,!0)))}shouldPausePropagation(e){return!!(2&this._propagationState)&&(this._resumeCallback=e,!0)}preventDefault(){this.data.native.preventDefault()}}const u={DEFAULT:0,TOOL:-1,WIDGET:-2,INTERNAL:-3};export{l as InputManager,u as ViewEventPriorities};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport r from\"../../core/has.js\";import{eventKey as e}from\"../../core/events.js\";const t=r(\"mac\")?\"Meta\":\"Ctrl\",o={8:\"Backspace\",9:\"Tab\",13:\"Enter\",27:\"Escape\",33:\"PageUp\",34:\"PageDown\",35:\"End\",36:\"Home\",37:\"ArrowLeft\",38:\"ArrowUp\",39:\"ArrowRight\",40:\"ArrowDown\",45:\"Insert\",46:\"Delete\"};for(let r=48;r<58;r++)o[r]=String.fromCharCode(r);for(let r=1;r<25;r++)o[111+r]=`F${r}`;for(let r=65;r<91;r++)o[r]=[String.fromCharCode(r+32),String.fromCharCode(r)];function a(r){if(void 0!==r.key)return e(r);const t=o[r.keyCode];return Array.isArray(t)?r.shiftKey?t[1]:t[0]:t}function n(r){switch(r){case\"Ctrl\":case\"Alt\":case\"Shift\":case\"Meta\":case\"Primary\":return!0}return!1}export{a as eventKey,n as isSystemModifier,t as primaryKey};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{isSome as t,isNone as e}from\"../../core/maybe.js\";import o from\"../../core/Collection.js\";import{isDOMContainer as a}from\"../DOMContainer.js\";function i(t,e){const o=t.view;o&&(e&&o.ready&&o.activeTool!==t?(o.activeTool=t,a(o)&&o.focus()):e||o.activeTool!==t||(o.activeTool=null))}function n(e,o,a){const i=e.activeTool;o!==i&&(t(i)&&i.deactivate&&i.deactivate(),a(o),t(o)&&o.activate&&o.activate())}function c(){const t=new o;return t.on(\"after-add\",(t=>{const e=t.item;e.view&&e.view.ready&&e.attach()})),t.on(\"after-remove\",(t=>{const e=t.item;i(e,!1),e.destroyed||e.detach()})),t}function r(t){return!1!==t.visible&&!1!==t.editable&&(null==t.hasEditableFlag||t.hasEditableFlag(1))}function l(t){return e(t)?{}:\"function\"==typeof t?t():t}export{r as areToolManipulatorsEditable,l as evaluateToolConstructorArguments,c as newToolCollection,i as setActive,n as swap};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport\"../../core/has.js\";import{createScreenPoint as e}from\"../../core/screenUtils.js\";function c(c){return e(c.x,c.y)}function t(c,t){const n=(c instanceof HTMLElement?c:c.surface).getBoundingClientRect();return e(t.clientX-n.left,t.clientY-n.top)}function n(e,n){return n instanceof Event?t(e,n):c(n)}function i(e){if(e instanceof Event)return!0;if(\"object\"==typeof e&&\"type\"in e){switch(e.type){case\"click\":case\"double-click\":case\"pointer-down\":case\"pointer-drag\":case\"pointer-enter\":case\"pointer-leave\":case\"pointer-up\":case\"pointer-move\":case\"immediate-click\":case\"immediate-double-click\":case\"hold\":case\"drag\":case\"mouse-wheel\":return!0;case\"key-down\":case\"key-up\":case\"gamepad\":case\"focus\":case\"blur\":default:return!1}}return!1}export{c as createScreenPointFromEvent,t as createScreenPointFromNativeEvent,n as createScreenPointFromSupportedEvent,i as isSupportedScreenPointEvent};\n"],"sourceRoot":""}