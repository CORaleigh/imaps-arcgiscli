{"version":3,"sources":["webpack://imaps/./node_modules/@arcgis/core/core/workers/registry.js","webpack://imaps/./node_modules/@arcgis/core/core/workers/utils.js","webpack://imaps/./node_modules/@arcgis/core/core/workers/RemoteClient.js","webpack://imaps/./node_modules/@arcgis/core/core/workers/Connection.js","webpack://imaps/./node_modules/@arcgis/core/core/workers/loaderConfig.js","webpack://imaps/./node_modules/@arcgis/core/core/workers/WorkerFallback.js","webpack://imaps/./node_modules/@arcgis/core/core/workers/workerFactory.js","webpack://imaps/./node_modules/@arcgis/core/core/workers/WorkerOwner.js","webpack://imaps/./node_modules/@arcgis/core/core/workers/workers.js","webpack://imaps/./node_modules/@arcgis/core/core/workers|lazy|groupOptions: {}|strict namespace object","webpack://imaps/./node_modules/@arcgis/core/layers/support/PromiseQueue.js","webpack://imaps/./node_modules/@arcgis/core/views/support/debugFlags.js","webpack://imaps/./node_modules/@arcgis/core/views/support/Scheduler.js"],"names":["r","geometryEngineWorker","CSVSourceWorker","EdgeProcessingWorker","ElevationSamplerWorker","GeoJSONSourceWorker","LercWorker","MemorySourceWorker","PBFDecoderWorker","Pipeline","PointCloudWorker","RasterWorker","SceneLayerWorker","WorkerTileHandler","t","HANDSHAKE","CONFIGURE","CONFIGURED","OPEN","OPENED","RESPONSE","INVOKE","ABORT","CLOSE","OPEN_PORT","ON","e","JSON","stringify","name","message","toJSON","details","stack","i","n","a","type","postMessage","port","s","f","data","transferList","result","O","parse","length","filter","ArrayBuffer","constructor","v","M","k","y","j","I","w","this","_timer","_cancelledJobIds","Set","_invokeMessages","_invoke","_process","bind","add","jobId","push","setTimeout","clear","has","J","_port","_outJobs","Map","_inJobs","_invokeQueue","_onInvokeMessage","_messageQueue","Array","_client","client","_onMessage","_channel","channel","scheduler","_frameTask","registerTask","_update","addEventListener","start","MessageChannel","default","o","port1","remoteClient","clients","set","port2","_post","_close","size","signal","h","methodName","c","get","delete","abortHandle","remove","resolve","reject","debugInfo","abortable","eventType","close","removeEventListener","forEach","_processMessage","_onResponseMessage","_onAbortMessage","_onCloseMessage","_onOpenPortMessage","_onOnMessage","controller","abort","destroy","l","p","indexOf","split","TypeError","call","error","promise","then","on","done","shift","madeProgress","_","async","isDebug","locale","baseUrl","map","packages","concat","paths","hasOwnProperty","document","createDocumentFragment","createElement","observe","attributes","setAttribute","bubbles","cancelable","createEvent","initEvent","_dispatcher","_isInitialized","_workerPostMessage","_onmessageHandler","_onmessageerrorHandler","_onerrorHandler","_workerMessageHandler","dispatchEvent","modulePath","d","u","g","m","URL","createObjectURL","Blob","assetsPath","workers","loaderUrl","workerPath","configure","esriConfig","loaderConfig","preventDefault","warn","worker","id","Worker","event","terminate","_onOpenedMessage","b","navigator","hardwareConcurrency","_clients","_clientPromises","_clientIdx","invoke","isBusy","isArray","closed","Error","getAvailableClient","openPort","numClients","open","strategy","maxNumWorkers","Math","min","webpackEmptyAsyncContext","req","Promise","code","keys","module","exports","callback","_tasks","unshift","super","arguments","SCHEDULER_LOG_SLOW_TASKS","prototype","REMOTE_CLIENT","STREAM_DATA_LOADER","ELEVATION_QUERY","TERRAIN_SURFACE","SURFACE_GEOMETRY_UPDATES","GRAPHICS_CORE","I3S_CONTROLLER","POINT_CLOUD_LAYER","FEATURE_TILE_FETCHER","FEATURE_FETCH_QUEUE","LABELER","GRAPHICS_DECONFLICTOR","FILTER_VISIBILITY","FEATURE_QUERY_ENGINE","SCALE_VISIBILITY","FRUSTUM_VISIBILITY","POINT_OF_INTEREST_FREQUENT","POINT_OF_INTEREST_INFREQUENT","FEATURE_TILE_TREE","FEATURE_TILE_TREE_ACTIVE","ELEVATION_ALIGNMENT","TEXT_TEXTURE_ATLAS","TEXTURE_UNLOAD","OVERLAY_MANAGER","LINE_OF_SIGHT_TOOL","LINE_OF_SIGHT_TOOL_INTERACTIVE","ELEVATION_PROFILE","TEST_PRIO","T","Scheduler","_now","updating","performanceInfo","total","tasks","_budget","_state","_runQueue","_load","_idleStateCallbacks","_idleUpdatesStartFired","_maxReschedule","_forceTask","_safetyBudget","_debug","_debugHandle","E","S","A","_test","FRAME_SAFETY_BUDGET","INTERACTING_BUDGET","IDLE_BUDGET","budget","usedBudget","updateTask","_updateTask","getState","_getState","getRuntime","_getRuntime","resetRuntimes","_resetRuntimes","getRunning","_getRunning","idleBegin","idleEnd","state","_removeIdleStateCallbacks","forAll","frameDuration","max","elapsedFrameTime","reset","_updateLoad","_schedule","_runIdle","_runInteracting","_runAnimating","elapsed","removeUnordered","setPriority","some","SCHEDULED","IDLE","needsUpdate","schedulePriority","READY","WAITING","runtime","_run","reduce","filterInPlace","priority","now","pop","resetProgress","processQueue","update","task","console","log","remaining","_recordFrameTaskTimes","record","_scheduler","_needsUpdateCB","_priority","_queue","removeTask","process","_begin","_didWork","_enabled","Budget","performance","enabled","Number","MAX_SAFE_INTEGER"],"mappings":"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","file":"2673.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nconst r={geometryEngineWorker:()=>import(\"../../geometry/geometryEngineWorker.js\"),CSVSourceWorker:()=>import(\"../../layers/graphics/sources/support/CSVSourceWorker.js\"),EdgeProcessingWorker:()=>import(\"../../views/3d/webgl-engine/lib/edgeRendering/EdgeProcessingWorker.js\"),ElevationSamplerWorker:()=>import(\"../../geometry/support/meshUtils/ElevationSamplerWorker.js\"),GeoJSONSourceWorker:()=>import(\"../../layers/graphics/sources/geojson/GeoJSONSourceWorker.js\"),LercWorker:()=>import(\"../../layers/support/LercWorker.js\"),MemorySourceWorker:()=>import(\"../../layers/graphics/sources/support/MemorySourceWorker.js\"),PBFDecoderWorker:()=>import(\"../../views/3d/support/PBFDecoderWorker.js\"),Pipeline:()=>import(\"../../views/2d/layers/features/Pipeline.js\"),PointCloudWorker:()=>import(\"../../views/3d/layers/PointCloudWorker.js\"),RasterWorker:()=>import(\"../../layers/support/RasterWorker.js\"),SceneLayerWorker:()=>import(\"../../views/3d/layers/SceneLayerWorker.js\"),WorkerTileHandler:()=>import(\"../../views/2d/engine/vectorTiles/WorkerTileHandler.js\")};export{r as registry};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport t from\"../has.js\";var r;!function(t){t[t.HANDSHAKE=0]=\"HANDSHAKE\",t[t.CONFIGURE=1]=\"CONFIGURE\",t[t.CONFIGURED=2]=\"CONFIGURED\",t[t.OPEN=3]=\"OPEN\",t[t.OPENED=4]=\"OPENED\",t[t.RESPONSE=5]=\"RESPONSE\",t[t.INVOKE=6]=\"INVOKE\",t[t.ABORT=7]=\"ABORT\",t[t.CLOSE=8]=\"CLOSE\",t[t.OPEN_PORT=9]=\"OPEN_PORT\",t[t.ON=10]=\"ON\"}(r||(r={}));let e=0;function n(){return e++}function s(t){return t&&\"object\"==typeof t&&(\"result\"in t||\"transferList\"in t)}function a(t){return t?\"string\"==typeof t?JSON.stringify({name:\"message\",message:t}):t.toJSON?JSON.stringify(t):JSON.stringify({name:t.name,message:t.message,details:t.details||{stack:t.stack}}):null}function i(t,e,n,a){if(e.type===r.OPEN_PORT)return void t.postMessage(e,[e.port]);if(e.type!==r.INVOKE&&e.type!==r.RESPONSE)return void t.postMessage(e);let i;s(n)?(i=f(n.transferList),e.data=n.result):(i=f(a),e.data=n),i?t.postMessage(e,i):t.postMessage(e)}function O(t){if(!t)return null;const r=t.data;return r?\"string\"==typeof r?JSON.parse(r):r:null}function f(r){if(!r||!r.length)return null;if(t(\"esri-workers-arraybuffer-transfer\"))return r;const e=r.filter((t=>{return!((r=t)instanceof ArrayBuffer||r&&r.constructor&&\"ArrayBuffer\"===r.constructor.name);var r}));return e.length?e:null}export{r as MessageType,s as isTranferableResult,n as newJobId,i as postMessage,O as receiveMessage,a as toInvokeError};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{removeMaybe as e,isSome as s}from\"../maybe.js\";import t from\"../Error.js\";import{on as o}from\"../events.js\";import{resolve as n,reject as r,create as i,onAbortOrThrow as a,createAbortError as l,createAbortController as h,isPromiseLike as c,isAbortError as _}from\"../promiseUtils.js\";import{registry as p}from\"./registry.js\";import{newJobId as u,MessageType as d,receiveMessage as g,toInvokeError as m,postMessage as b}from\"./utils.js\";import{Task as f}from\"../../views/support/Scheduler.js\";const{CLOSE:v,ABORT:M,INVOKE:k,RESPONSE:y,OPEN_PORT:j,ON:I}=d;class w{constructor(e){this._timer=null,this._cancelledJobIds=new Set,this._invokeMessages=[],this._invoke=e,this._timer=null,this._process=this._process.bind(this)}push(e){e.type===d.ABORT?this._cancelledJobIds.add(e.jobId):(this._invokeMessages.push(e),null===this._timer&&(this._timer=setTimeout(this._process,0)))}clear(){this._invokeMessages.length=0,this._cancelledJobIds.clear(),this._timer=null}_process(){this._timer=null;for(const e of this._invokeMessages)this._cancelledJobIds.has(e.jobId)||this._invoke(e);this._cancelledJobIds.clear(),this._invokeMessages.length=0}}class J{constructor(e,s){this._port=e,this._outJobs=new Map,this._inJobs=new Map,this._invokeQueue=new w((e=>this._onInvokeMessage(e))),this._messageQueue=new Array,this._client=s.client,this._onMessage=this._onMessage.bind(this),this._channel=s.channel,s.scheduler&&(this._frameTask=s.scheduler.registerTask(f.REMOTE_CLIENT,(e=>this._update(e)),(()=>this._messageQueue.length>0))),this._port.addEventListener(\"message\",this._onMessage),this._port.start()}static connect(e){const s=new MessageChannel;let t;t=\"function\"==typeof e?new e:\"default\"in e&&\"function\"==typeof e.default?new e.default:e;const o=new J(s.port1,{channel:s,client:t});return\"object\"==typeof t&&\"remoteClient\"in t&&(t.remoteClient=o),J.clients.set(o,t),s.port2}static loadWorker(e){const s=p[e];return s?s():n(null)}close(){this._post({type:v}),this._close()}isBusy(){return this._outJobs.size>0}invoke(e,s,o){const n=o&&o.signal,h=o&&o.transferList;if(!this._port)return r(new t(\"worker:port-closed\",`Cannot call invoke('${e}'), port is closed`,{methodName:e,data:s}));const c=u();return i(((t,o)=>{const r=a(n,(()=>{var e;const s=this._outJobs.get(c);s&&(this._outJobs.delete(c),null==(e=s.abortHandle)||e.remove(),this._post({type:M,jobId:c}),o(l()))})),i={resolve:t,reject:o,abortHandle:r,debugInfo:e};this._outJobs.set(c,i),this._post({type:k,jobId:c,methodName:e,abortable:null!=n},s,h)}))}on(e,s){const t=new MessageChannel;function o(e){s(e.data)}return this._port.postMessage({type:d.ON,eventType:e,port:t.port2},[t.port2]),t.port1.addEventListener(\"message\",o),t.port1.start(),{remove(){t.port1.postMessage({type:d.CLOSE}),t.port1.close(),t.port1.removeEventListener(\"message\",o)}}}openPort(){const e=new MessageChannel;return this._post({type:j,port:e.port2}),e.port1}_close(){this._channel&&(this._channel=null),this._port.removeEventListener(\"message\",this._onMessage),this._port.close(),this._outJobs.forEach((e=>{var s;null==(s=e.abortHandle)||s.remove(),e.reject(l(`Worker closing, aborting job calling '${e.debugInfo}'`))})),this._inJobs.clear(),this._outJobs.clear(),this._invokeQueue.clear(),this._port=this._client=null,this._frameTask=e(this._frameTask)}_onMessage(e){s(this._frameTask)?this._messageQueue.push(e):this._processMessage(e)}_processMessage(e){const s=g(e);if(s)switch(s.type){case y:this._onResponseMessage(s);break;case k:this._invokeQueue.push(s);break;case M:this._onAbortMessage(s);break;case v:this._onCloseMessage();break;case j:this._onOpenPortMessage(s);break;case I:this._onOnMessage(s)}}_onAbortMessage(e){const s=this._inJobs,t=e.jobId,o=s.get(t);this._invokeQueue.push(e),o&&(o.controller&&o.controller.abort(),s.delete(t))}_onCloseMessage(){const e=this._client;this._close(),e&&\"destroy\"in e&&J.clients.get(this)===e&&e.destroy(),J.clients.delete(this),e&&e.remoteClient&&(e.remoteClient=null)}_onInvokeMessage(e){const{methodName:s,jobId:t,data:o,abortable:n}=e,r=n?h():null,i=this._inJobs;let a,l=this._client,p=l[s];try{if(!p&&s&&-1!==s.indexOf(\".\")){const e=s.split(\".\");for(let s=0;s<e.length-1;s++)l=l[e[s]],p=l[e[s+1]]}if(\"function\"!=typeof p)throw new TypeError(`${s} is not a function`);a=p.call(l,o,{client:this,signal:r?r.signal:null})}catch(e){return void this._post({type:y,jobId:t,error:m(e)})}c(a)?(i.set(t,{controller:r,promise:a}),a.then((e=>{i.has(t)&&(i.delete(t),this._post({type:y,jobId:t},e))}),(e=>{i.has(t)&&(i.delete(t),_(e)||this._post({type:y,jobId:t,error:m(e||{message:`Error encountered at method ${s}`})}))}))):this._post({type:y,jobId:t},a)}_onOpenPortMessage(e){new J(e.port,{client:this._client})}_onOnMessage(e){const{port:s}=e,t=this._client.on(e.eventType,(e=>{s.postMessage(e)})),n=o(e.port,\"message\",(e=>{g(e).type===d.CLOSE&&(n.remove(),t.remove(),s.close())}))}_onResponseMessage(e){var s;const{jobId:o,error:n,data:r}=e,i=this._outJobs;if(!i.has(o))return;const a=i.get(o);i.delete(o),null==(s=a.abortHandle)||s.remove(),n?a.reject(t.fromJSON(JSON.parse(n))):a.resolve(r)}_update(e){for(;!e.done&&this._messageQueue.length>0;)this._processMessage(this._messageQueue.shift()),e.madeProgress()}_post(e,s,t){return b(this._port,e,s,t)}}J.clients=new Map;export default J;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport t from\"../Logger.js\";import{handlesGroup as e}from\"../handleUtils.js\";import{create as s,throwIfAborted as i,isThenable as n,resolve as r,first as l,reject as o,all as h}from\"../promiseUtils.js\";import c from\"./RemoteClient.js\";const _=t.getLogger(\"esri.core.workers.Connection\");export default class{constructor(){this._clients=new Array,this._clientPromises=new Array,this._clientIdx=0}destroy(){this.close()}get closed(){return!this._clients||!this._clients.length}open(t,e){return s(((s,l)=>{let o=!0;const h=t=>{i(e.signal),o&&(o=!1,t())};this._clients.length=t.length,this._clientPromises.length=t.length;for(let i=0;i<t.length;++i){const o=t[i];n(o)?this._clientPromises[i]=o.then((t=>(this._clients[i]=new c(t,e),h(s),this._clients[i])),(()=>(h(l),null))):(this._clients[i]=new c(o,e),this._clientPromises[i]=r(this._clients[i]),h(s))}}))}broadcast(t,e,s){const i=new Array(this._clientPromises.length);for(let n=0;n<this._clientPromises.length;++n){const r=this._clientPromises[n];i[n]=r.then((i=>i.invoke(t,e,s)))}return i}close(){for(const t of this._clientPromises)t.then((t=>t.close()));this._clients.length=0,this._clientPromises.length=0}getAvailableClient(){let t;for(let e=0;e<this._clients.length;++e){const s=this._clients[e];if(s){if(!s.isBusy())return r(s)}else t=t||[],t.push(this._clientPromises[e])}return t?l(t):(this._clientIdx=(this._clientIdx+1)%this._clients.length,r(this._clients[this._clientIdx]))}invoke(t,e,s){let i=null;if(Array.isArray(s)?(_.warn(\"invoke()\",\"The transferList parameter is deprecated, use the options object instead\"),i={transferList:s}):i=s,this.closed)return o(new Error(\"Connection closed\"));return this.getAvailableClient().then((s=>s.invoke(t,e,i)))}on(t,s){return h(this._clientPromises).then((()=>e(this._clients.map((e=>e.on(t,s))))))}openPorts(){return s((t=>{const e=new Array(this._clientPromises.length);let s=e.length;for(let i=0;i<this._clientPromises.length;++i){this._clientPromises[i].then((n=>{e[i]=n.openPort(),0==--s&&t(e)}))}}))}get test(){return{numClients:this._clients.length}}}\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport\"../has.js\";import\"../../config.js\";import\"../urlUtils.js\";import\"../../request.js\";let a=null;const s={};function e(a){var e;const r={async:a.async,isDebug:a.isDebug,locale:a.locale,baseUrl:a.baseUrl,has:{...a.has},map:{...a.map},packages:a.packages&&a.packages.concat()||[],paths:{...a.paths}};return a.hasOwnProperty(\"async\")||(r.async=!0),a.hasOwnProperty(\"isDebug\")||(r.isDebug=!1),a.baseUrl||(r.baseUrl=s.baseUrl),null==(e=s.packages)||e.forEach((a=>{!function(a,s){for(const e of a)if(e.name===s.name)return;a.push(s)}(r.packages,a)})),r}export default e;export{a as DEFAULT_LOADER_URL};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport e from\"../global.js\";import{MessageType as t,receiveMessage as s}from\"./utils.js\";import r from\"./RemoteClient.js\";class n{constructor(){const e=document.createDocumentFragment();[\"addEventListener\",\"dispatchEvent\",\"removeEventListener\"].forEach((t=>{this[t]=(...s)=>e[t](...s)}))}}const a=e.MutationObserver||e.WebKitMutationObserver,o=function(){let t;if(e.process&&e.process.nextTick)t=t=>{e.process.nextTick(t)};else if(e.Promise)t=t=>{e.Promise.resolve().then(t)};else if(a){const e=[],s=document.createElement(\"div\");new a((()=>{for(;e.length>0;)e.shift()()})).observe(s,{attributes:!0}),t=t=>{e.push(t),s.setAttribute(\"queueStatus\",\"1\")}}return t}(),i=(()=>{const t=e.MessageEvent;try{new t(\"message\",{data:null})}catch{return(e,t={})=>{const{data:s,bubbles:r=!1,cancelable:n=!1}=t,a=document.createEvent(\"Event\");return a.initEvent(e,r,n),a.data=s,a}}return(e,s)=>new t(e,s)})();export default class{constructor(){this._dispatcher=new n,this._isInitialized=!1,this._workerPostMessage({type:t.HANDSHAKE})}terminate(){}get onmessage(){return this._onmessageHandler}set onmessage(e){this._onmessageHandler&&this.removeEventListener(\"message\",this._onmessageHandler),this._onmessageHandler=e,e&&this.addEventListener(\"message\",e)}get onmessageerror(){return this._onmessageerrorHandler}set onmessageerror(e){this._onmessageerrorHandler&&this.removeEventListener(\"messageerror\",this._onmessageerrorHandler),this._onmessageerrorHandler=e,e&&this.addEventListener(\"messageerror\",e)}get onerror(){return this._onerrorHandler}set onerror(e){this._onerrorHandler&&this.removeEventListener(\"error\",this._onerrorHandler),this._onerrorHandler=e,e&&this.addEventListener(\"error\",e)}postMessage(e){o((()=>{this._workerMessageHandler(i(\"message\",{data:e}))}))}dispatchEvent(e){return this._dispatcher.dispatchEvent(e)}addEventListener(e,t,s){this._dispatcher.addEventListener(e,t,s)}removeEventListener(e,t,s){this._dispatcher.removeEventListener(e,t,s)}_workerPostMessage(e){o((()=>{this.dispatchEvent(i(\"message\",{data:e}))}))}async _workerMessageHandler(e){const n=s(e);if(n)switch(n.type){case t.CONFIGURE:this._isInitialized||this._workerPostMessage({type:t.CONFIGURED});break;case t.OPEN:{const{modulePath:e,jobId:s}=n;let a=await r.loadWorker(e);a||(a=await import(e));const o=r.connect(a);this._workerPostMessage({type:t.OPENED,jobId:s,data:o});break}}}}\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport e from\"../has.js\";import r from\"../../config.js\";import t from\"../Logger.js\";import{makeAbsolute as o}from\"../urlUtils.js\";import{create as s}from\"../promiseUtils.js\";import{getLocale as a}from\"../../intl/locale.js\";import{getAssetUrl as n}from\"../../assets.js\";import\"../../intl.js\";import{receiveMessage as i,MessageType as l}from\"./utils.js\";import f from\"./loaderConfig.js\";import c from\"./WorkerFallback.js\";const d=t.getLogger(\"esri.core.workers\");e.add(\"esri-workers-arraybuffer-transfer\",!e(\"safari\")||e(\"safari\")>=12);const{CONFIGURED:u,CONFIGURE:g,HANDSHAKE:m}=l;let p;try{p=URL.createObjectURL(new Blob(['var esriConfig,workerPath,globalId=0,outgoing=new Map,configured=!1,HANDSHAKE=0,CONFIGURE=1,CONFIGURED=2,OPEN=3,OPENED=4,RESPONSE=5,INVOKE=6,ABORT=7;function createAbortError(){var e=new Error(\"Aborted\");return e.name=\"AbortError\",e}function receiveMessage(e){return e&&e.data?\"string\"==typeof e.data?JSON.parse(e.data):e.data:null}function invokeStaticMessage(e,r,t){var o=t&&t.signal,n=globalId++;return new Promise((function(t,a){if(o){if(o.aborted)return a(createAbortError());o.addEventListener(\"abort\",(function(){outgoing.get(n)&&(outgoing.delete(n),self.postMessage({type:ABORT,jobId:n}),a(createAbortError()))}))}outgoing.set(n,{resolve:t,reject:a}),self.postMessage({type:INVOKE,jobId:n,methodName:e,abortable:null!=o,data:r})}))}function messageHandler(e){var r=receiveMessage(e);if(r){var t=r.jobId;switch(r.type){case CONFIGURE:var o=r.configure;if(configured)return;configured=!0,esriConfig=o.esriConfig,workerPath=esriConfig.workers.workerPath,self.dojoConfig=o.loaderConfig,esriConfig.workers.loaderUrl&&(self.importScripts(esriConfig.workers.loaderUrl),\"function\"==typeof require&&\"function\"==typeof require.config&&require.config(o.loaderConfig)),self.postMessage({type:CONFIGURED});break;case OPEN:var n;function a(e){var r=n.connect(e);self.postMessage({type:OPENED,jobId:t,data:r},[r])}\"function\"==typeof define&&define.amd?require([workerPath],(function(e){(n=e.default||e).loadWorker(r.modulePath).then((function(e){return e||new Promise((function(e){require([r.modulePath],e)}))})).then(a)})):\"System\"in self&&\"function\"==typeof System.import?System.import(workerPath).then((function(e){return(n=e.default).loadWorker(r.modulePath)})).then((function(e){return e||System.import(r.modulePath)})).then(a):(self.RemoteClient||importScripts(workerPath),(n=self.RemoteClient.default||self.RemoteClient).loadWorker(r.modulePath).then(a));break;case RESPONSE:if(outgoing.has(t)){var i=outgoing.get(t);outgoing.delete(t),r.error?i.reject(JSON.parse(r.error)):i.resolve(r.data)}}}}self.addEventListener(\"message\",messageHandler),self.postMessage({type:HANDSHAKE});'],{type:\"text/javascript\"}))}catch(e){}const w=\"Failed to create Worker. Fallback to execute module in main thread\";async function k(){if(!e(\"esri-workers\"))return h(new c);let r;if(p)try{r=new Worker(p)}catch(e){d.warn(w,event),r=new c}else d.warn(w,event),r=new c;return h(r)}async function h(t){return s((s=>{function l(c){const d=i(c);if(d)switch(d.type){case m:!function(t){let s;if(null!=r.default){const e={...r};delete e.default,s=JSON.parse(JSON.stringify(e))}else s=JSON.parse(JSON.stringify(r));s.assetsPath=o(s.assetsPath),s.locale=a(),s.has={\"csp-restrictions\":e(\"csp-restrictions\"),\"esri-2d-debug\":!1,\"esri-2d-update-debug\":e(\"esri-2d-update-debug\"),\"esri-atomics\":e(\"esri-atomics\"),\"esri-secure-context\":e(\"esri-secure-context\"),\"esri-shared-array-buffer\":e(\"esri-shared-array-buffer\"),\"esri-tiles-debug\":e(\"esri-tiles-debug\"),\"esri-workers-arraybuffer-transfer\":e(\"esri-workers-arraybuffer-transfer\"),\"host-webworker\":1},s.workers.loaderUrl&&(s.workers.loaderUrl=o(s.workers.loaderUrl));s.workers.workerPath?s.workers.workerPath=o(s.workers.workerPath):s.workers.workerPath=o(n(\"esri/core/workers/RemoteClient.js\"));const i=r.workers.loaderConfig,l=f({baseUrl:null==i?void 0:i.baseUrl,locale:a(),has:{\"csp-restrictions\":e(\"csp-restrictions\"),\"dojo-test-sniff\":0,\"host-webworker\":1,...null==i?void 0:i.has},map:{...null==i?void 0:i.map},paths:{...null==i?void 0:i.paths},packages:(null==i?void 0:i.packages)||[]});t.postMessage({type:g,configure:{esriConfig:s,loaderConfig:l}})}(t);break;case u:t.removeEventListener(\"message\",l),t.removeEventListener(\"error\",p),s(t)}}function p(e){e.preventDefault(),t.removeEventListener(\"message\",l),t.removeEventListener(\"error\",p),d.warn(\"Failed to create Worker. Fallback to execute module in main thread\",e),(t=new c).addEventListener(\"message\",l),t.addEventListener(\"error\",p)}t.addEventListener(\"message\",l),t.addEventListener(\"error\",p)}))}export{k as createWorker};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport e from\"../Logger.js\";import t from\"../Error.js\";import{create as o,onAbortOrThrow as s,createAbortController as r,isPromiseLike as n,isAbortError as a}from\"../promiseUtils.js\";import{workerMessages as i}from\"../../kernel.js\";import{newJobId as l,receiveMessage as d,toInvokeError as h,postMessage as c,MessageType as p}from\"./utils.js\";import{createWorker as b}from\"./workerFactory.js\";const m=e.getLogger(\"esri.core.workers\"),{ABORT:_,INVOKE:u,OPEN:g,OPENED:j,RESPONSE:f}=p;class v{constructor(e,t){this._outJobs=new Map,this._inJobs=new Map,this.worker=e,this.id=t,e.addEventListener(\"message\",this._onMessage.bind(this)),e.addEventListener(\"error\",(e=>{e.preventDefault(),m.error(e)}))}static async create(e){const t=await b();return new v(t,e)}terminate(){this.worker.terminate()}async open(e,t={}){const{signal:r}=t,n=l();return o(((t,o)=>{const a={resolve:t,reject:o,abortHandle:s(r,(()=>{this._outJobs.delete(n),this._post({type:_,jobId:n})}))};this._outJobs.set(n,a),this._post({type:g,jobId:n,modulePath:e})}))}_onMessage(e){const t=d(e);if(t)switch(t.type){case j:this._onOpenedMessage(t);break;case f:this._onResponseMessage(t);break;case _:this._onAbortMessage(t);break;case u:this._onInvokeMessage(t)}}_onAbortMessage(e){const t=this._inJobs,o=e.jobId,s=t.get(o);s&&(s.controller&&s.controller.abort(),t.delete(o))}_onInvokeMessage(e){const{methodName:t,jobId:o,data:s,abortable:l}=e,d=l?r():null,c=this._inJobs,p=i[t];let b;try{if(\"function\"!=typeof p)throw new TypeError(`${t} is not a function`);b=p.call(null,s,{signal:d?d.signal:null})}catch(e){return void this._post({type:f,jobId:o,error:h(e)})}n(b)?(c.set(o,{controller:d,promise:b}),b.then((e=>{c.has(o)&&(c.delete(o),this._post({type:f,jobId:o},e))}),(e=>{c.has(o)&&(c.delete(o),e||(e={message:\"Error encountered at method\"+t}),a(e)||this._post({type:f,jobId:o,error:h(e||{message:`Error encountered at method ${t}`})}))}))):this._post({type:f,jobId:o},b)}_onOpenedMessage(e){var t;const{jobId:o,data:s}=e,r=this._outJobs.get(o);r&&(this._outJobs.delete(o),null==(t=r.abortHandle)||t.remove(),r.resolve(s))}_onResponseMessage(e){var o;const{jobId:s,error:r,data:n}=e,a=this._outJobs.get(s);a&&(this._outJobs.delete(s),null==(o=a.abortHandle)||o.remove(),r?a.reject(t.fromJSON(JSON.parse(r))):a.resolve(n))}_post(e,t,o){return c(this.worker,e,t,o)}}export default v;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport t from\"../has.js\";import r from\"../Error.js\";import{throwIfAborted as e,createAbortController as n,all as o}from\"../promiseUtils.js\";import i from\"./RemoteClient.js\";export{default as RemoteClient}from\"./RemoteClient.js\";import s from\"./Connection.js\";export{default as Connection}from\"./Connection.js\";import a from\"./WorkerOwner.js\";let c=t(\"esri-workers-debug\")?1:t(\"host-browser\")?navigator.hardwareConcurrency-1:0;c||(c=t(\"safari\")&&t(\"mac\")||t(\"trident\")?7:2);let l=0;const m=[];function f(){k()}function u(t,r){return p(t,{client:r})}async function p(t,r){const e=new s;return await e.open(t,r),e}async function w(n,o={}){if(\"string\"!=typeof n)throw new r(\"workers:undefined-module\",\"modulePath is missing\");let s=o.strategy||\"distributed\";if(t(\"host-webworker\")&&!t(\"esri-workers\")&&(s=\"local\"),\"local\"===s){let t=await i.loadWorker(n);t||(t=await import(n)),e(o.signal);const r=o.client||t;return p([i.connect(t)],{...o,client:r})}if(await k(),e(o.signal),\"dedicated\"===s){const t=l++%c;return p([await m[t].open(n,o)],o)}if(o.maxNumWorkers&&o.maxNumWorkers>0){const t=Math.min(o.maxNumWorkers,c);if(t<c){const r=new Array(t);for(let e=0;e<t;++e){const t=l++%c;r[e]=m[t].open(n,o)}return p(r,o)}}return p(m.map((t=>t.open(n,o))),o)}function d(){g&&(h.abort(),g=null);for(let t=0;t<m.length;t++)m[t]&&m[t].terminate();m.length=0}let h,g=null;async function k(){if(g)return g;h=n();const t=[];for(let r=0;r<c;r++){const e=a.create(r).then((t=>(m[r]=t,t)));t.push(e)}return g=o(t),g}export{f as initialize,w as open,u as openWithPorts,d as terminate};\n","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(() => {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = () => ([]);\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 79014;\nmodule.exports = webpackEmptyAsyncContext;","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{create as t,throwIfAborted as s,createAbortError as e}from\"../../core/promiseUtils.js\";class r{constructor(t,s,e,r){this.resolve=t,this.reject=s,this.callback=e,this.signal=r}}export default class{constructor(){this._tasks=new Array}get length(){return this._tasks.length}push(s,e){return t(((t,n)=>this._tasks.push(new r(t,n,s,e))))}unshift(s,e){return t(((t,n)=>this._tasks.unshift(new r(t,n,s,e))))}process(){if(0===this._tasks.length)return!1;const t=this._tasks.shift();try{s(t.signal);const e=t.callback();e&&\"object\"==typeof e&&\"then\"in e&&\"function\"==typeof e.then?e.then(t.resolve,t.reject):t.resolve(e)}catch(s){t.reject(s)}return!0}cancelAll(){const t=e();for(const s of this._tasks)s.reject(t);this._tasks.length=0}}\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import e from\"../../core/Accessor.js\";let t=class extends e{constructor(){super(...arguments),this.SCHEDULER_LOG_SLOW_TASKS=!1}};r([o()],t.prototype,\"SCHEDULER_LOG_SLOW_TASKS\",void 0),t=r([s(\"esri.views.support.DebugFlags\")],t);const p=new t;export default p;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import{isNone as t}from\"../../core/maybe.js\";import s from\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import{subclass as i}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import a from\"../../core/PerformanceSampler.js\";import u from\"../../core/PooledArray.js\";import{when as n}from\"../../core/promiseUtils.js\";import _ from\"../../core/Accessor.js\";import{init as o}from\"../../core/watchUtils.js\";import h from\"../../layers/support/PromiseQueue.js\";import d from\"./debugFlags.js\";const l=s.getLogger(\"esri.views.support.Scheduler\");function E(e){return new p.Scheduler(e)}var c;!function(e){e.REMOTE_CLIENT=\"remote client\",e.STREAM_DATA_LOADER=\"stream loader\",e.ELEVATION_QUERY=\"elevation query\",e.TERRAIN_SURFACE=\"terrain surface\",e.SURFACE_GEOMETRY_UPDATES=\"surface geometry updates\",e.GRAPHICS_CORE=\"Graphics3D\",e.I3S_CONTROLLER=\"I3S\",e.POINT_CLOUD_LAYER=\"point cloud\",e.FEATURE_TILE_FETCHER=\"feature fetcher\",e.FEATURE_FETCH_QUEUE=\"feature fetch queue\",e.LABELER=\"labeler\",e.GRAPHICS_DECONFLICTOR=\"graphics deconflictor\",e.FILTER_VISIBILITY=\"Graphics3D filter visibility\",e.FEATURE_QUERY_ENGINE=\"feature query\",e.SCALE_VISIBILITY=\"Graphics3D scale visibility\",e.FRUSTUM_VISIBILITY=\"Graphics3D frustum visibility\",e.POINT_OF_INTEREST_FREQUENT=\"POI frequent\",e.POINT_OF_INTEREST_INFREQUENT=\"POI infrequent\",e.FEATURE_TILE_TREE=\"feature tile tree\",e.FEATURE_TILE_TREE_ACTIVE=\"fast feature tile tree\",e.ELEVATION_ALIGNMENT=\"elevation alignment\",e.TEXT_TEXTURE_ATLAS=\"text texture atlas\",e.TEXTURE_UNLOAD=\"texture unload\",e.OVERLAY_MANAGER=\"overlay manager\",e.LINE_OF_SIGHT_TOOL=\"line of sight tool\",e.LINE_OF_SIGHT_TOOL_INTERACTIVE=\"interactive line of sight tool\",e.ELEVATION_PROFILE=\"elevation profile\",e[e.TEST_PRIO=1]=\"TEST_PRIO\"}(c||(c={}));const T={[c.REMOTE_CLIENT]:1,[c.STREAM_DATA_LOADER]:1,[c.FEATURE_FETCH_QUEUE]:1,[c.ELEVATION_QUERY]:1,[c.TERRAIN_SURFACE]:2,[c.SURFACE_GEOMETRY_UPDATES]:2,[c.GRAPHICS_CORE]:3,[c.I3S_CONTROLLER]:4,[c.POINT_CLOUD_LAYER]:4,[c.FEATURE_TILE_FETCHER]:4,[c.LABELER]:8,[c.GRAPHICS_DECONFLICTOR]:8,[c.FILTER_VISIBILITY]:8,[c.FEATURE_QUERY_ENGINE]:8,[c.SCALE_VISIBILITY]:8,[c.FRUSTUM_VISIBILITY]:8,[c.POINT_OF_INTEREST_FREQUENT]:6,[c.POINT_OF_INTEREST_INFREQUENT]:30,[c.FEATURE_TILE_TREE]:16,[c.FEATURE_TILE_TREE_ACTIVE]:1,[c.ELEVATION_ALIGNMENT]:12,[c.TEXT_TEXTURE_ATLAS]:12,[c.TEXTURE_UNLOAD]:12,[c.OVERLAY_MANAGER]:12,[c.LINE_OF_SIGHT_TOOL]:16,[c.LINE_OF_SIGHT_TOOL_INTERACTIVE]:1};function g(e){return e in T?T[e]:\"number\"==typeof e?e:1}var p,m;!function(s){s.Scheduler=class{constructor(e){this._now=e,this.updating=!0,this.performanceInfo={total:new a(\"total\"),tasks:new Array},this._budget=null,this._state=1,this._tasks=new u,this._runQueue=new u,this._load=0,this._idleStateCallbacks=new u,this._idleUpdatesStartFired=!1,this._maxReschedule=f,this._forceTask=!1,this._safetyBudget=0,this._debug=!1,this._debugHandle=o(d,\"SCHEDULER_LOG_SLOW_TASKS\",(e=>this._debug=e)),this._budget=new E(e),S.length=0;for(const e in c)A.set(c[e],this.performanceInfo.tasks.length),this.performanceInfo.tasks.push(new a(c[e])),S.push(0);let s;const r=this;this._test={get state(){return t(s)?r._state:s},set state(e){s=e},FRAME_SAFETY_BUDGET:5,INTERACTING_BUDGET:33.333333333333336,IDLE_BUDGET:100,get budget(){return r._budget.budget},usedBudget:0,updateTask:e=>this._updateTask(e),getState:e=>this._getState(e),getRuntime:e=>this._getRuntime(e),resetRuntimes:()=>this._resetRuntimes(),getRunning:()=>this._getRunning()}}destroy(){this._debugHandle&&this._debugHandle.remove()}registerTask(e,t,s){const r=g(e),i=new n(this,e,t,s,r);return this._tasks.push(i),i}registerIdleStateCallbacks(e,t){const s={idleBegin:e,idleEnd:t};this._idleStateCallbacks.push(s),2===this.state&&this._idleUpdatesStartFired&&s.idleBegin();const r=this;return{remove:()=>this._removeIdleStateCallbacks(s),set idleBegin(e){r._idleUpdatesStartFired&&(s.idleEnd(),2===r._state&&e()),s.idleBegin=e},set idleEnd(e){s.idleEnd=e}}}get now(){return this._now()}get load(){return this._load}set state(e){this._state!==e&&(this._state=e,2!==this.state&&this._idleUpdatesStartFired&&(this._idleUpdatesStartFired=!1,this._idleStateCallbacks.forAll((e=>e.idleEnd()))))}get state(){return t(this._test.state)?this._state:this._test.state}updateBudget(e){this._test.usedBudget=0,this._safetyBudget=5;let t=e.frameDuration,s=1;switch(this.state){case 2:this._safetyBudget=0,t=Math.max(100,e.frameDuration),s=30;break;case 1:t=Math.max(33.333333333333336,e.frameDuration)}return t-=e.elapsedFrameTime+this._safetyBudget,2!==this.state&&t<0&&!this._forceTask?(this._forceTask=!0,!1):(t=Math.max(t,s),this._budget.reset(t,this.state),this._maxReschedule=f,this._updateLoad(),this._schedule())}frame(){switch(this._forceTask=!1,this.state){case 2:this._idleUpdatesStartFired||(this._idleUpdatesStartFired=!0,this._idleStateCallbacks.forAll((e=>e.idleBegin()))),this._runIdle();break;case 1:this._runInteracting();break;default:this._runAnimating()}this._test.usedBudget=this._budget.elapsed}_removeIdleStateCallbacks(e){this._idleUpdatesStartFired&&e.idleEnd(),this._idleStateCallbacks.removeUnordered(e)}removeTask(e){this._tasks.removeUnordered(e),this._runQueue.removeUnordered(e)}_updateTask(e){this._tasks.forAll((t=>{t.name===e&&t.setPriority(e)}))}_getState(e){if(this._runQueue.some((t=>t.name===e)))return m.SCHEDULED;let t=m.IDLE;return this._tasks.forAll((s=>{s.name===e&&s.needsUpdate&&(s.schedulePriority<=1?t=m.READY:t!==m.READY&&(t=m.WAITING))})),t}_getRuntime(e){let t=0;return this._tasks.forAll((s=>{s.name===e&&(t+=s.runtime)})),t}_resetRuntimes(){this._tasks.forAll((e=>e.runtime=0))}_getRunning(){const e=new Map;if(this._tasks.forAll((t=>{t.needsUpdate&&e.set(t.name,(e.get(t.name)||0)+1)})),0===e.size)return null;let t=\"\";return e.forEach(((e,s)=>{t+=e>1?` ${e}x ${s}`:` ${s}`})),t}_runIdle(){this._run()}_runInteracting(){this._run()}_runAnimating(){this._run()}_updateLoad(){const e=this._tasks.reduce(((e,t)=>t.needsUpdate?++e:e),0);this._load=.9*this._load+e*(1-.9)}_schedule(){if(this._maxReschedule<=0)return!1;for(this._runQueue.filterInPlace((e=>!!e.needsUpdate||(e.schedulePriority=e.priority,!1)));0===this._runQueue.length;){let e=!1,t=0;if(this._tasks.forAll((s=>{if(0!==s.schedulePriority&&s.needsUpdate)switch(e=!0,t=Math.max(t,s.priority),s.schedulePriority){case 1:s.schedulePriority=0,this._runQueue.push(s);break;default:--s.schedulePriority}})),!e)return this.updating=!1,!1;this._maxReschedule===f&&(this._maxReschedule=t),--this._maxReschedule}return this.updating=!0,!0}_run(){const e=this._budget.now();for(let e=0;e<S.length;++e)S[e]=0;do{for(;this._runQueue.length>0;){const t=this._budget.now(),s=this._runQueue.pop();this._budget.resetProgress();try{s.processQueue(this._budget),!this._budget.done&&s.needsUpdate&&s.update(this._budget)}catch(e){l.error(`Exception in task \"${s.name}\"`,e)}s.schedulePriority=s.priority;const r=this._budget.now()-t;if(s.runtime+=r,S[A.get(s.task)]+=r,this._debug&&this._budget.elapsed>2*this._budget.budget&&console.log(\"Task\",s.name,\"used\",this._budget.elapsed,\"of max\",this._budget.budget,\"ms\"),this._budget.remaining<=0)return void this._recordFrameTaskTimes(S,this._budget.now()-e)}}while(this._schedule());this._recordFrameTaskTimes(S,this._budget.now()-e)}_recordFrameTaskTimes(e,t){for(let t=0;t<e.length;++t)this.performanceInfo.tasks[t].record(e[t]);this.performanceInfo.total.record(t)}get test(){return this._test}};let n=class extends _{constructor(e,t,s,r,i){super({}),this._scheduler=e,this.name=t,this.update=s,this._needsUpdateCB=r,this._priority=i,this.runtime=0,this._queue=new h,this.updating=!1,this.schedulePriority=this._priority}normalizeCtorArgs(){return{}}remove(){this.processQueue(I),this._scheduler.removeTask(this)}get priority(){return this._priority}setPriority(e){this.name=e,this._priority=g(e),0!==this.schedulePriority&&(this.schedulePriority=this._priority)}get task(){return this.name}set task(e){this.setPriority(e)}get needsUpdate(){return this._queue.length>0||this._needsUpdateCB()}schedule(e,t){return this.updating=!0,this._queue.push(e,t)}reschedule(e,t){return this.updating=!0,this._queue.unshift(e,t)}processQueue(e){for(;!e.done&&this._queue.process();)e.madeProgress();0===this._queue.length&&(this.updating=!1)}};e([r()],n.prototype,\"updating\",void 0),n=e([i(\"esri.views.support.SchedulerTask\")],n);class E{constructor(e){this.now=e,this._begin=0,this._budget=0,this._state=2,this._didWork=!1,this._enabled=!0}run(e){return!this.done&&(!0===e()&&(this._didWork=!0),!0)}get done(){return this._didWork&&this.elapsed>=this._budget&&this._enabled}get budget(){return this._budget}madeProgress(){this._didWork=!0}get state(){return this._state}get enabled(){return this._enabled}set enabled(e){this._enabled=e}reset(e,t){this._begin=this.now(),this._budget=e,this._state=t,this._didWork=!1}get remaining(){return Math.max(this._budget-this.elapsed,0)}get elapsed(){return this.now()-this._begin}resetProgress(){this._didWork=!1}get hasProgressed(){return this._didWork}}s.Budget=E}(p||(p={})),function(e){e.SCHEDULED=\"s\",e.READY=\"r\",e.WAITING=\"w\",e.IDLE=\"i\"}(m||(m={}));const I=(()=>{const e=new p.Budget((()=>performance.now()));return e.enabled=!1,e})();const R=new class{remove(){}schedule(e){return n(e())}reschedule(e){return n(e())}},f=Number.MAX_SAFE_INTEGER,A=new Map,S=new Array;export{R as ImmediateTask,c as Task,m as TaskState,g as getTaskPriority,E as newScheduler,I as noBudget,T as taskPriorities};\n"],"sourceRoot":""}