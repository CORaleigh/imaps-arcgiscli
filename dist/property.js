(self.webpackChunkimaps=self.webpackChunkimaps||[]).push([[9986,6194],{77204:(e,t,r)=>{"use strict";r.d(t,{r:()=>u,p:()=>c});var s=r(56140),i=r(79881),n=r(87566),o=r(82677),l=r(59691),a=r(45671);const c=e=>{let t=class extends e{destroy(){this.destroyed||(this.handles.destroy(),this.updatingHandles.destroy())}get handles(){return this._get("handles")||new l.Z}get updatingHandles(){return this._get("updatingHandles")||new a.t}};return(0,s._)([(0,i.Cb)({readOnly:!0})],t.prototype,"handles",null),(0,s._)([(0,i.Cb)({readOnly:!0})],t.prototype,"updatingHandles",null),t=(0,s._)([(0,n.j)("esri.core.HandleOwner")],t),t};let u=class extends(c(o.default)){};u=(0,s._)([(0,n.j)("esri.core.HandleOwner")],u)},92823:(e,t,r)=>{"use strict";r.d(t,{an:()=>i,Xq:()=>n,WJ:()=>o});var s=r(62698);const i=-3;class n{constructor(e,t,r){this._namespace=e,this._storage=t,this._removeFunc=!1,this._hit=0,this._miss=0,this._storage.register(this),this._namespace+=":",r&&(this._storage.registerRemoveFunc(this._namespace,r),this._removeFunc=!0)}get namespace(){return this._namespace.slice(0,-1)}get hitRate(){return this._hit/(this._hit+this._miss)}get size(){return this._storage.size}get maxSize(){return this._storage.maxSize}resetHitRate(){this._hit=this._miss=0}destroy(){this._storage.clear(this._namespace),this._removeFunc&&this._storage.deregisterRemoveFunc(this._namespace),this._storage.deregister(this)}put(e,t,r,s=0){this._storage.put(this._namespace+e,t,r,s)}get(e){const t=this._storage.get(this._namespace+e);return void 0===t?++this._miss:++this._hit,t}pop(e){const t=this._storage.pop(this._namespace+e);return void 0===t?++this._miss:++this._hit,t}updateSize(e,t,r){this._storage.updateSize(this._namespace+e,t,r)}clear(){this._storage.clear(this._namespace)}clearAll(){this._storage.clearAll()}getStats(){return this._storage.getStats()}resetStats(){this._storage.resetStats()}}class o{constructor(e=10485760){this._maxSize=e,this._db=new Map,this._size=0,this._hit=0,this._miss=0,this._removeFuncs=[],this._users=new s.Z}register(e){this._users.push(e)}deregister(e){this._users.removeUnordered(e)}registerRemoveFunc(e,t){this._removeFuncs.push([e,t])}deregisterRemoveFunc(e){this._removeFuncs=this._removeFuncs.filter((t=>t[0]!==e))}get size(){return this._size}get maxSize(){return this._maxSize}set maxSize(e){this._maxSize=Math.max(e,0),this._checkSizeLimit()}put(e,t,r,s){const i=this._db.get(e);if(i&&(this._size-=i.size,this._db.delete(e),i.entry!==t&&this._notifyRemoved(e,i.entry)),r>this._maxSize)return void this._notifyRemoved(e,t);if(void 0===t)return void console.warn("Refusing to cache undefined entry ");if(!r||r<0)return void console.warn("Refusing to cache entry with invalid size "+r);const n=1+Math.max(s,-3)- -3;this._db.set(e,{entry:t,size:r,lifetime:n,lives:n}),this._size+=r,this._checkSizeLimit()}updateSize(e,t,r){const s=this._db.get(e);s&&s.entry===t&&(this._size-=s.size,r>this._maxSize?this._notifyRemoved(e,t):(s.size=r,this._size+=r,this._checkSizeLimit()))}pop(e){const t=this._db.get(e);if(t)return this._size-=t.size,this._db.delete(e),++this._hit,t.entry;++this._miss}get(e){const t=this._db.get(e);if(void 0!==t)return this._db.delete(e),t.lives=t.lifetime,this._db.set(e,t),++this._hit,t.entry;++this._miss}getStats(){const e={Size:Math.round(this._size/1048576)+"/"+Math.round(this._maxSize/1048576)+"MB","Hit rate":Math.round(100*this._getHitRate())+"%",Entries:this._db.size.toString()},t={},r=new Array;this._db.forEach(((e,s)=>{const i=e.lifetime;r[i]=(r[i]||0)+e.size,this._users.forAll((r=>{const i=r.namespace;if(s.startsWith(i)){const r=t[i]||0;t[i]=r+e.size}}))}));const s={};this._users.forAll((e=>{const r=e.namespace;if(!isNaN(e.hitRate)&&e.hitRate>0){const i=t[r]||0;t[r]=i,s[r]=Math.round(100*e.hitRate)+"%"}else s[r]="0%"}));const i=Object.keys(t);i.forEach((e=>t[e]=t[e]/this._size*100)),i.sort(((e,r)=>t[r]-t[e])),i.forEach((r=>e[r]=Math.round(t[r])+"% / "+s[r]));for(let t=r.length-1;t>=0;--t){const s=r[t];s&&(e["Priority "+(t+-3-1)]=Math.round(s/this.size*100)+"%")}return e}resetStats(){this._hit=this._miss=0,this._users.forAll((e=>e.resetHitRate()))}clear(e){this._db.forEach(((t,r)=>{r.startsWith(e)&&(this._size-=t.size,this._db.delete(r),this._notifyRemoved(r,t.entry))}))}clearAll(){this._db.forEach(((e,t)=>this._notifyRemoved(t,e.entry))),this._size=0,this._db.clear()}_getHitRate(){return this._hit/(this._hit+this._miss)}_notifyRemoved(e,t){this._removeFuncs.forEach((r=>{e.startsWith(r[0])&&r[1](t)}))}_checkSizeLimit(){if(!(this._size<=this._maxSize))for(const[e,t]of this._db)if(this._db.delete(e),t.lives<=1?(this._size-=t.size,this._notifyRemoved(e,t.entry)):(--t.lives,this._db.set(e,t)),this._size<=.9*this.maxSize)return}}},23229:(e,t,r)=>{"use strict";r.d(t,{Hg:()=>y,uD:()=>h,V7:()=>f});var s=r(59472),i=r(65575),n=r(82677),o=r(83477);const l=["esri.Color","esri.portal.Portal","esri.symbols.support.Symbol3DAnchorPosition2D","esri.symbols.support.Symbol3DAnchorPosition3D"];function a(e){return e instanceof n.default}function c(e){return e instanceof o.Z?Object.keys(e.items):a(e)?(0,i.vw)(e).keys():e?Object.keys(e):[]}function u(e,t){return e instanceof o.Z?e.items[t]:e[t]}function p(e){return e?e.declaredClass:null}function d(e,t){const r=e.diff;if(r&&"function"==typeof r)return r(e,t);const i=c(e),n=c(t);if(0===i.length&&0===n.length)return;if(!i.length||!n.length||function(e,t){return!(!Array.isArray(e)||!Array.isArray(t))&&e.length!==t.length}(e,t))return{type:"complete",oldValue:e,newValue:t};const o=n.filter((e=>-1===i.indexOf(e))),h=i.filter((e=>-1===n.indexOf(e))),f=i.filter((r=>n.indexOf(r)>-1&&u(e,r)!==u(t,r))).concat(o,h).sort(),y=p(e);if(y&&l.indexOf(y)>-1&&f.length)return{type:"complete",oldValue:e,newValue:t};let m;const g=a(e)&&a(t);for(const i of f){const n=u(e,i),o=u(t,i);let l;(g||"function"!=typeof n&&"function"!=typeof o)&&n!==o&&(null==n&&null==o||(l=r&&r[i]&&"function"==typeof r[i]?r[i](n,o):"object"==typeof n&&"object"==typeof o&&p(n)===p(o)?d(n,o):{type:"complete",oldValue:n,newValue:o},(0,s.pC)(l)&&((0,s.pC)(m)?m.diff[i]=l:m={type:"partial",diff:{[i]:l}})))}return m}function h(e,t){if((0,s.Wi)(e))return!1;const r=t.split(".");let i=e;for(const e of r){if("complete"===i.type)return!0;if("partial"!==i.type)return!1;{const t=i.diff[e];if(!t)return!1;i=t}}return!0}function f(e,t){for(const r of t)if(h(e,r))return!0;return!1}function y(e,t){if("function"!=typeof e&&"function"!=typeof t&&(e||t))return!e||!t||"object"==typeof e&&"object"==typeof t&&p(e)!==p(t)?{type:"complete",oldValue:e,newValue:t}:d(e,t)}},94588:(e,t,r)=>{"use strict";r.d(t,{Bg:()=>s,sM:()=>i});r(95830);function s(e){}function i(e){return()=>e}},91535:(e,t,r)=>{"use strict";r.d(t,{aX:()=>E,or:()=>T,hR:()=>C});var s=r(34926),i=r(59472),n=r(36544),o=r(32656),l=r(39105),a=r(27780),c=r(73032),u=r(41241),p=r(53817),d=r(93833),h=r(10923),f=r(56885),y=(r(36348),r(54721));async function m(e,t,r){const s="string"==typeof e?(0,h.mN)(e):e,i=t[0].spatialReference,n=(0,f.Ji)(t[0]),o={...r,query:{...s.query,f:"json",sr:i.wkid?i.wkid:JSON.stringify(i),geometries:JSON.stringify((l=t,{geometryType:(0,f.Ji)(l[0]),geometries:l.map((e=>e.toJSON()))}))}};var l;return function(e,t,r){const s=(0,f.q9)(t);return e.map((e=>{const t=s.fromJSON(e);return t.spatialReference=r,t}))}((await(0,y.default)(s.path+"/simplify",o)).data,n,i)}const g=n.Z.getLogger("esri.geometry.support.normalizeUtils"),b={102100:{maxX:20037508.342788905,minX:-20037508.342788905,plus180Line:new d.Z({paths:[[[20037508.342788905,-20037508.342788905],[20037508.342788905,20037508.342788905]]],spatialReference:c.Z.WebMercator}),minus180Line:new d.Z({paths:[[[-20037508.342788905,-20037508.342788905],[-20037508.342788905,20037508.342788905]]],spatialReference:c.Z.WebMercator})},4326:{maxX:180,minX:-180,plus180Line:new d.Z({paths:[[[180,-180],[180,180]]],spatialReference:c.Z.WGS84}),minus180Line:new d.Z({paths:[[[-180,-180],[-180,180]]],spatialReference:c.Z.WGS84})}};function _(e){return"polygon"===e.type}function v(e){return"polyline"===e[0].type}function w(e){return _(e)?e.rings:e.paths}function S(e,t){return Math.ceil((e-t)/(2*t))}function x(e,t){const r=w(e);for(const e of r)for(const r of e)r[0]+=t;return e}function C(e,t){if(!(e instanceof d.Z||e instanceof p.Z)){const e="straightLineDensify: the input geometry is neither polyline nor polygon";throw g.error(e),new o.Z(e)}const r=w(e),s=[];for(const e of r){const r=[];s.push(r),r.push([e[0][0],e[0][1]]);for(let s=0;s<e.length-1;s++){const i=e[s][0],n=e[s][1],o=e[s+1][0],l=e[s+1][1],a=Math.sqrt((o-i)*(o-i)+(l-n)*(l-n)),c=(l-n)/a,u=(o-i)/a,p=a/t;if(p>1){for(let e=1;e<=p-1;e++){const s=e*t,o=u*s+i,l=c*s+n;r.push([o,l])}const e=(a+Math.floor(p-1)*t)/2,s=u*e+i,o=c*e+n;r.push([s,o])}r.push([o,l])}}return _(e)?new p.Z({rings:s,spatialReference:e.spatialReference}):new d.Z({paths:s,spatialReference:e.spatialReference})}function L(e,t,r){if(t){const t=C(e,1e6);e=(0,u.Sx)(t,!0)}return r&&(e=x(e,r)),e}function F(e,t,r){if(Array.isArray(e)){const s=e[0];if(s>t){const r=S(s,t);e[0]=s+r*(-2*t)}else if(s<r){const t=S(s,r);e[0]=s+t*(-2*r)}}else{const s=e.x;if(s>t){const r=S(s,t);e=e.clone().offset(r*(-2*t),0)}else if(s<r){const t=S(s,r);e=e.clone().offset(t*(-2*r),0)}}return e}async function E(e,t,r){if(!Array.isArray(e))return E([e],t);const n=t?t.url:s.Z.geometryServiceUrl;let o,c,g,_,C,T,O,R,P=0;const j=[],z=[];for(const t of e)if((0,i.Wi)(t))z.push(t);else if(o||(o=t.spatialReference,c=(0,a.C5)(o),g=o.isWebMercator,T=g?102100:4326,_=b[T].maxX,C=b[T].minX,O=b[T].plus180Line,R=b[T].minus180Line),c)if("mesh"===t.type)z.push(t);else if("point"===t.type)z.push(F(t.clone(),_,C));else if("multipoint"===t.type){const e=t.clone();e.points=e.points.map((e=>F(e,_,C))),z.push(e)}else if("extent"===t.type){const e=t.clone()._normalize(!1,!1,c);z.push(e.rings?new p.Z(e):e)}else if(t.extent){const e=t.extent,r=S(e.xmin,C)*(2*_);let s=0===r?t.clone():x(t.clone(),r);e.offset(r,0),e.intersects(O)&&e.xmax!==_?(P=e.xmax>P?e.xmax:P,s=L(s,g),j.push(s),z.push("cut")):e.intersects(R)&&e.xmin!==C?(P=e.xmax*(2*_)>P?e.xmax*(2*_):P,s=L(s,g,360),j.push(s),z.push("cut")):z.push(s)}else z.push(t.clone());else z.push(t);let N=S(P,_),I=-90;const A=N,Z=new d.Z;for(;N>0;){const e=360*N-180;Z.addPath([[e,I],[e,-1*I]]),I*=-1,N--}if(j.length>0&&A>0){const t=function(e,t){let r=-1;for(let s=0;s<t.cutIndexes.length;s++){const i=t.cutIndexes[s],n=t.geometries[s],o=w(n);for(let e=0;e<o.length;e++){const t=o[e];t.some((r=>{if(r[0]<180)return!0;{let r=0;for(let e=0;e<t.length;e++){const s=t[e][0];r=s>r?s:r}r=Number(r.toFixed(9));const s=-360*S(r,180);for(let r=0;r<t.length;r++){const t=n.getPoint(e,r);n.setPoint(e,r,t.clone().offset(s,0))}return!0}}))}if(i===r){if("polygon"===e[0].type)for(const t of w(n))e[i]=e[i].addRing(t);else if(v(e))for(const t of w(n))e[i]=e[i].addPath(t)}else r=i,e[i]=n}return e}(j,await async function(e,t,r,s){const i="string"==typeof e?(0,h.mN)(e):e,n=t[0].spatialReference,o={...s,query:{...i.query,f:"json",sr:JSON.stringify(n),target:JSON.stringify({geometryType:(0,f.Ji)(t[0]),geometries:t}),cutter:JSON.stringify(r)}},l=await(0,y.default)(i.path+"/cut",o),{cutIndexes:a,geometries:c=[]}=l.data;return{cutIndexes:a,geometries:c.map((e=>{const t=(0,f.im)(e);return t.spatialReference=n,t}))}}(n,j,Z,r)),s=[],o=[];for(let r=0;r<z.length;r++){const n=z[r];if("cut"!==n)o.push(n);else{const n=t.shift(),l=e[r];(0,i.pC)(l)&&"polygon"===l.type&&l.rings&&l.rings.length>1&&n.rings.length>=l.rings.length?(s.push(n),o.push("simplify")):o.push(g?(0,u.$)(n):n)}}if(!s.length)return o;const l=await m(n,s,r),a=[];for(let e=0;e<o.length;e++){const t=o[e];"simplify"!==t?a.push(t):a.push(g?(0,u.$)(l.shift()):l.shift())}return a}const M=[];for(let e=0;e<z.length;e++){const t=z[e];if("cut"!==t)M.push(t);else{const e=j.shift();M.push(!0===g?(0,u.$)(e):e)}}return(0,l.resolve)(M)}function T(e,t){const r=(0,a.C5)(t);if(r){const[t,s]=r.valid,i=s-t;if(e<t)for(;e<t;)e+=i;if(e>s)for(;e>s;)e-=i}return e}},7783:(e,t,r)=>{"use strict";r.d(t,{Z:()=>d});var s=r(56140),i=(r(95830),r(82550)),n=(r(36544),r(68055),r(79881)),o=r(56274),l=r(87566),a=r(60538),c=(r(10923),r(57002),r(86035),r(58385));const u=new o.Xn({esriFeatureEditToolAutoCompletePolygon:"auto-complete-polygon",esriFeatureEditToolCircle:"circle",esriFeatureEditToolEllipse:"ellipse",esriFeatureEditToolFreehand:"freehand",esriFeatureEditToolLine:"line",esriFeatureEditToolNone:"none",esriFeatureEditToolPoint:"point",esriFeatureEditToolPolygon:"polygon",esriFeatureEditToolRectangle:"rectangle",esriFeatureEditToolArrow:"arrow",esriFeatureEditToolTriangle:"triangle",esriFeatureEditToolLeftArrow:"left-arrow",esriFeatureEditToolRightArrow:"right-arrow",esriFeatureEditToolUpArrow:"up-arrow",esriFeatureEditToolDownArrow:"down-arrow"});let p=class extends c.wq{constructor(e){super(e),this.name=null,this.description=null,this.drawingTool=null,this.prototype=null,this.thumbnail=null}writeDrawingTool(e,t){t.drawingTool=u.toJSON(e)}writePrototype(e,t){t.prototype=(0,i.yd)((0,i.d9)(e),!0)}writeThumbnail(e,t){t.thumbnail=(0,i.yd)((0,i.d9)(e))}};(0,s._)([(0,n.Cb)({json:{write:!0}})],p.prototype,"name",void 0),(0,s._)([(0,n.Cb)({json:{write:!0}})],p.prototype,"description",void 0),(0,s._)([(0,n.Cb)({json:{read:u.read,write:u.write}})],p.prototype,"drawingTool",void 0),(0,s._)([(0,a.c)("drawingTool")],p.prototype,"writeDrawingTool",null),(0,s._)([(0,n.Cb)({json:{write:!0}})],p.prototype,"prototype",void 0),(0,s._)([(0,a.c)("prototype")],p.prototype,"writePrototype",null),(0,s._)([(0,n.Cb)({json:{write:!0}})],p.prototype,"thumbnail",void 0),(0,s._)([(0,a.c)("thumbnail")],p.prototype,"writeThumbnail",null),p=(0,s._)([(0,l.j)("esri.layers.support.FeatureTemplate")],p);const d=p},21872:(e,t,r)=>{"use strict";r.d(t,{Z:()=>y});var s=r(56140),i=(r(95830),r(82550)),n=(r(36544),r(68055),r(79881)),o=r(30590),l=r(87566),a=r(60538),c=(r(10923),r(57002),r(86035),r(58385)),u=r(43950),p=r(79057),d=r(61618),h=(r(6585),r(7783));let f=class extends c.wq{constructor(e){super(e),this.id=null,this.name=null,this.domains=null,this.templates=null}readDomains(e){const t={};for(const r in e)if(e.hasOwnProperty(r)){const s=e[r];switch(s.type){case"range":t[r]=d.Z.fromJSON(s);break;case"codedValue":t[r]=u.Z.fromJSON(s);break;case"inherited":t[r]=p.Z.fromJSON(s)}}return t}writeDomains(e,t){const r={};for(const t in e)e.hasOwnProperty(t)&&(r[t]=e[t]&&e[t].toJSON());(0,i.yd)(r),t.domains=r}readTemplates(e){return e&&e.map((e=>new h.Z(e)))}writeTemplates(e,t){t.templates=e&&e.map((e=>e.toJSON()))}};(0,s._)([(0,n.Cb)({json:{write:!0}})],f.prototype,"id",void 0),(0,s._)([(0,n.Cb)({json:{write:!0}})],f.prototype,"name",void 0),(0,s._)([(0,n.Cb)({json:{write:!0}})],f.prototype,"domains",void 0),(0,s._)([(0,o.r)("domains")],f.prototype,"readDomains",null),(0,s._)([(0,a.c)("domains")],f.prototype,"writeDomains",null),(0,s._)([(0,n.Cb)({json:{write:!0}})],f.prototype,"templates",void 0),(0,s._)([(0,o.r)("templates")],f.prototype,"readTemplates",null),(0,s._)([(0,a.c)("templates")],f.prototype,"writeTemplates",null),f=(0,s._)([(0,l.j)("esri.layers.support.FeatureType")],f);const y=f},70834:(e,t,r)=>{"use strict";r.d(t,{Z:()=>m});var s,i=r(56140),n=(r(95830),r(36544),r(68055)),o=r(79881),l=r(56274),a=r(9870),c=r(30590),u=r(87566),p=(r(10923),r(57002),r(86035),r(58385)),d=r(6585),h=r(88210);const f=new l.Xn({binary:"binary",coordinate:"coordinate",countOrAmount:"count-or-amount",dateAndTime:"date-and-time",description:"description",locationOrPlaceName:"location-or-place-name",measurement:"measurement",nameOrTitle:"name-or-title",none:"none",orderedOrRanked:"ordered-or-ranked",percentageOrRatio:"percentage-or-ratio",typeOrCategory:"type-or-category",uniqueIdentifier:"unique-identifier"});let y=s=class extends p.wq{constructor(e){super(e),this.alias=null,this.defaultValue=void 0,this.description=null,this.domain=null,this.editable=!0,this.length=-1,this.name=null,this.nullable=!0,this.type=null,this.valueType=null}readDescription(e,{description:t}){let r;try{r=JSON.parse(t)}catch(e){}return r?r.value:null}readValueType(e,{description:t}){let r;try{r=JSON.parse(t)}catch(e){}return r?f.fromJSON(r.fieldValueType):null}clone(){return new s({alias:this.alias,defaultValue:this.defaultValue,description:this.description,domain:this.domain&&this.domain.clone()||null,editable:this.editable,length:this.length,name:this.name,nullable:this.nullable,type:this.type,valueType:this.valueType})}};(0,i._)([(0,o.Cb)({type:String,json:{write:!0}})],y.prototype,"alias",void 0),(0,i._)([(0,o.Cb)({type:[String,Number],json:{write:{allowNull:!0}}})],y.prototype,"defaultValue",void 0),(0,i._)([(0,o.Cb)()],y.prototype,"description",void 0),(0,i._)([(0,c.r)("description")],y.prototype,"readDescription",null),(0,i._)([(0,o.Cb)({types:d.V5,json:{read:{reader:d.im},write:!0}})],y.prototype,"domain",void 0),(0,i._)([(0,o.Cb)({type:Boolean,json:{write:!0}})],y.prototype,"editable",void 0),(0,i._)([(0,o.Cb)({type:n.z8,json:{write:!0}})],y.prototype,"length",void 0),(0,i._)([(0,o.Cb)({type:String,json:{write:!0}})],y.prototype,"name",void 0),(0,i._)([(0,o.Cb)({type:Boolean,json:{write:!0}})],y.prototype,"nullable",void 0),(0,i._)([(0,a.J)(h.v)],y.prototype,"type",void 0),(0,i._)([(0,o.Cb)()],y.prototype,"valueType",void 0),(0,i._)([(0,c.r)("valueType",["description"])],y.prototype,"readValueType",null),y=s=(0,i._)([(0,u.j)("esri.layers.support.Field")],y);const m=y},61121:(e,t,r)=>{"use strict";function s(e){return"date"===e.type||"esriFieldTypeDate"===e.type}function i(e){return e.toLowerCase().trim()}r.d(t,{Z:()=>n});const n=class{constructor(e){if(this.fields=e,this._fieldsMap=new Map,this._dateFieldsSet=new Set,this.dateFields=[],!e)return;const t=[];for(const r of e){const e=r&&r.name;if(e){const n=i(e);this._fieldsMap.set(e,r),this._fieldsMap.set(n,r),t.push(n),s(r)&&(this.dateFields.push(r),this._dateFieldsSet.add(r))}}t.sort(),this.uid=t.join(",")}destroy(){this._fieldsMap.clear()}has(e){return null!=this.get(e)}get(e){return null!=e?this._fieldsMap.get(e)||this._fieldsMap.get(i(e)):void 0}isDateField(e){return this._dateFieldsSet.has(this.get(e))}normalizeFieldName(e){const t=this.get(e);if(t)return t.name}}},26360:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>w});var s,i=r(56140),n=(r(95830),r(82550)),o=(r(36544),r(68055),r(79881)),l=r(56274),a=r(30590),c=r(87566),u=r(60538),p=(r(10923),r(57002),r(86035),r(58385)),d=r(54734),h=r(49684);let f=s=class extends p.wq{constructor(){super(...arguments),this.expression=null,this.title=null,this.value=null}readExpression(e,t){return t.value?(0,h.dI)(t.value):e}writeExpression(e,t,r){null!=this.value&&(e=(0,h.dI)(this.value)),t[r]=e}clone(){return new s({expression:this.expression,title:this.title,value:this.value})}};(0,i._)([(0,o.Cb)({type:String,json:{write:{allowNull:!0}}})],f.prototype,"expression",void 0),(0,i._)([(0,o.Cb)({type:String,json:{write:!0,origins:{"web-scene":{write:!1}}}})],f.prototype,"title",void 0),(0,i._)([(0,o.Cb)({json:{read:!1,write:!1}})],f.prototype,"value",void 0),(0,i._)([(0,a.r)("expression",["expression","value"])],f.prototype,"readExpression",null),(0,i._)([(0,u.c)("expression")],f.prototype,"writeExpression",null),f=s=(0,i._)([(0,c.j)("esri.layers.support.LabelExpressionInfo")],f);const y=f;var m,g=r(5684);const b=new l.Xn({esriServerPointLabelPlacementAboveCenter:"above-center",esriServerPointLabelPlacementAboveLeft:"above-left",esriServerPointLabelPlacementAboveRight:"above-right",esriServerPointLabelPlacementBelowCenter:"below-center",esriServerPointLabelPlacementBelowLeft:"below-left",esriServerPointLabelPlacementBelowRight:"below-right",esriServerPointLabelPlacementCenterCenter:"center-center",esriServerPointLabelPlacementCenterLeft:"center-left",esriServerPointLabelPlacementCenterRight:"center-right",esriServerLinePlacementAboveAfter:"above-after",esriServerLinePlacementAboveAlong:"above-along",esriServerLinePlacementAboveBefore:"above-before",esriServerLinePlacementAboveStart:"above-start",esriServerLinePlacementAboveEnd:"above-end",esriServerLinePlacementBelowAfter:"below-after",esriServerLinePlacementBelowAlong:"below-along",esriServerLinePlacementBelowBefore:"below-before",esriServerLinePlacementBelowStart:"below-start",esriServerLinePlacementBelowEnd:"below-end",esriServerLinePlacementCenterAfter:"center-after",esriServerLinePlacementCenterAlong:"center-along",esriServerLinePlacementCenterBefore:"center-before",esriServerLinePlacementCenterStart:"center-start",esriServerLinePlacementCenterEnd:"center-end",esriServerPolygonPlacementAlwaysHorizontal:"always-horizontal"},{ignoreUnknown:!0});function _(e){return!e||"service"!==e.origin&&!(e.layer&&"map-image"===e.layer.type)}let v=m=class extends p.wq{constructor(e){super(e),this.type="label",this.name=null,this.deconflictionStrategy="static",this.labelExpression=null,this.labelExpressionInfo=null,this.labelPlacement=null,this.maxScale=0,this.minScale=0,this.symbol=g.Rz,this.useCodedValues=void 0,this.where=null}static evaluateWhere(e,t){const r=function(e,t,r){switch(t){case"=":return e==r;case"<>":return e!=r;case">":return e>r;case">=":return e>=r;case"<":return e<r;case"<=":return e<=r}return!1};try{if(null==e)return!0;const s=e.split(" ");if(3===s.length)return r(t[s[0]],s[1],s[2]);if(7===s.length){const e=r(t[s[0]],s[1],s[2]),i=s[3],n=r(t[s[4]],s[5],s[6]);switch(i){case"AND":return e&&n;case"OR":return e||n}}return!1}catch(t){console.log("Error.: can't parse = "+e)}}readLabelExpression(e,t){const r=t.labelExpressionInfo;if(!r||!r.value&&!r.expression)return e}writeLabelExpression(e,t,r,s){if(this.labelExpressionInfo&&(_(s)||s&&"service"===s.origin))if(null!=this.labelExpressionInfo.value)e=(0,h.z7)(this.labelExpressionInfo.value);else if(null!=this.labelExpressionInfo.expression){const t=(0,h.el)(this.labelExpressionInfo.expression);t&&(e="["+t+"]")}null!=e&&(t[r]=e)}writeLabelExpressionInfo(e,t,r,s){if(null==e&&null!=this.labelExpression&&_(s))e=new y({expression:this.getLabelExpressionArcade()});else if(!e)return;const i=e.toJSON(s);i.expression&&(t[r]=i)}writeMaxScale(e,t){(e||this.minScale)&&(t.maxScale=e)}writeMinScale(e,t){(e||this.maxScale)&&(t.minScale=e)}getLabelExpression(){return(0,h.hV)(this)}getLabelExpressionArcade(){return(0,h.YI)(this)}getLabelExpressionSingleField(){return(0,h.UO)(this)}hash(){return JSON.stringify(this)}clone(){return new m({deconflictionStrategy:this.deconflictionStrategy,labelExpression:this.labelExpression,labelExpressionInfo:(0,n.d9)(this.labelExpressionInfo),labelPlacement:this.labelPlacement,maxScale:this.maxScale,minScale:this.minScale,name:this.name,symbol:(0,n.d9)(this.symbol),where:this.where,useCodedValues:this.useCodedValues})}};(0,i._)([(0,o.Cb)({type:String,json:{write:!0}})],v.prototype,"name",void 0),(0,i._)([(0,o.Cb)({type:String,json:{write:!0,default:"static",origins:{"web-scene":{write:!1}}}})],v.prototype,"deconflictionStrategy",void 0),(0,i._)([(0,o.Cb)({type:String,json:{write:{allowNull:!0}}})],v.prototype,"labelExpression",void 0),(0,i._)([(0,a.r)("labelExpression")],v.prototype,"readLabelExpression",null),(0,i._)([(0,u.c)("labelExpression")],v.prototype,"writeLabelExpression",null),(0,i._)([(0,o.Cb)({type:y,json:{write:{overridePolicy:(e,t,r)=>_(r)?{allowNull:!0}:{enabled:!1}}}})],v.prototype,"labelExpressionInfo",void 0),(0,i._)([(0,u.c)("labelExpressionInfo")],v.prototype,"writeLabelExpressionInfo",null),(0,i._)([(0,o.Cb)({type:b.apiValues,json:{type:b.jsonValues,read:b.read,write:b.write}})],v.prototype,"labelPlacement",void 0),(0,i._)([(0,o.Cb)({type:Number})],v.prototype,"maxScale",void 0),(0,i._)([(0,u.c)("maxScale")],v.prototype,"writeMaxScale",null),(0,i._)([(0,o.Cb)({type:Number})],v.prototype,"minScale",void 0),(0,i._)([(0,u.c)("minScale")],v.prototype,"writeMinScale",null),(0,i._)([(0,o.Cb)({types:d.d,json:{origins:{"web-scene":{types:d.g,write:d.w,default:null}},write:d.w,default:null}})],v.prototype,"symbol",void 0),(0,i._)([(0,o.Cb)({type:Boolean,json:{write:!0}})],v.prototype,"useCodedValues",void 0),(0,i._)([(0,o.Cb)({type:String,json:{write:!0}})],v.prototype,"where",void 0),v=m=(0,i._)([(0,c.j)("esri.layers.support.LabelClass")],v);const w=v},97849:(e,t,r)=>{"use strict";r.d(t,{ld:()=>p,B5:()=>c,M8:()=>h,h3:()=>b,G:()=>g,Qc:()=>u,Nm:()=>f,XG:()=>y,a7:()=>d,wH:()=>m});var s=r(59472),i=r(10923),n=r(37704);const o=["MapServer","ImageServer","FeatureServer","SceneServer","StreamServer","VectorTileServer"],l=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/rest\\/services\\/(.+?)\\/(${o.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),a=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/([^\\/\\n]+)\\/(${o.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i");function c(e){return!!l.test(e)}function u(e){const t=(0,i.mN)(e),r=t.path.match(l)||t.path.match(a);if(!r)return null;const[,s,n,o,c]=r,u=n.indexOf("/");return{title:p(-1!==u?n.slice(u+1):n),serverType:o,sublayer:null!=c&&""!==c?parseInt(c,10):null,url:{path:s}}}function p(e){return(e=e.replace(/\s*[/_]+\s*/g," "))[0].toUpperCase()+e.slice(1)}function d(e,t){const r=[];if(e){const t=u(e);(0,s.pC)(t)&&t.title&&r.push(t.title)}if(t){const e=p(t);r.push(e)}if(2===r.length){if(-1!==r[0].toLowerCase().indexOf(r[1].toLowerCase()))return r[0];if(-1!==r[1].toLowerCase().indexOf(r[0].toLowerCase()))return r[1]}return r.join(" - ")}function h(e){if(!e)return!1;const t=-1!==(e=e.toLowerCase()).indexOf(".arcgis.com/"),r=-1!==e.indexOf("//services")||-1!==e.indexOf("//tiles")||-1!==e.indexOf("//features");return t&&r}function f(e,t){return e?(0,i.Qj)((0,i.Hu)(e,t)):e}function y(e,t,r){if(!t)return{url:t};t=(0,i.Hu)(t,r);const n=u((0,i.mN)(t).path);let o;return(0,s.pC)(n)&&(null!=n.sublayer&&null==e.layerId&&(o=n.sublayer),t=n.url.path),{url:(0,i.Qj)(t),layerId:o}}function m(e,t,r,s,o){(0,n.w)(t,s,"url",o),s.url&&null!=e.layerId&&(s.url=(0,i.v_)(s.url,r,e.layerId.toString()))}function g(e){if(!e)return!1;const t=e.toLowerCase(),r=-1!==t.indexOf("/services/"),s=-1!==t.indexOf("/mapserver/wmsserver"),i=-1!==t.indexOf("/imageserver/wmsserver"),n=-1!==t.indexOf("/wmsserver");return r&&(s||i||n)}function b(e){if(!e)return!1;const t=new i.R9((0,i.hF)(e)).authority.toLowerCase();return"server.arcgisonline.com"===t||"services.arcgisonline.com"===t}},88210:(e,t,r)=>{"use strict";r.d(t,{v:()=>s});const s=new(r(56274).Xn)({esriFieldTypeSmallInteger:"small-integer",esriFieldTypeInteger:"integer",esriFieldTypeSingle:"single",esriFieldTypeDouble:"double",esriFieldTypeLong:"long",esriFieldTypeString:"string",esriFieldTypeDate:"date",esriFieldTypeOID:"oid",esriFieldTypeGeometry:"geometry",esriFieldTypeBlob:"blob",esriFieldTypeRaster:"raster",esriFieldTypeGUID:"guid",esriFieldTypeGlobalID:"global-id",esriFieldTypeXML:"xml"})},49684:(e,t,r)=>{"use strict";r.d(t,{dI:()=>d,hV:()=>c,YI:()=>u,UO:()=>p,el:()=>g,z7:()=>a});var s=r(88263);const i=new RegExp("__begin__","ig"),n=new RegExp("__end__","ig"),o=new RegExp("^__begin__","i"),l=new RegExp("__end__$","i");function a(e){return e.replace(new RegExp("\\{","g"),"[").replace(new RegExp("\\}","g"),"]")}function c(e){const t={expression:"",type:"none"};return e.labelExpressionInfo?e.labelExpressionInfo.value?(t.expression=e.labelExpressionInfo.value,t.type="conventional"):e.labelExpressionInfo.expression&&(t.expression=e.labelExpressionInfo.expression,t.type="arcade"):null!=e.labelExpression&&(t.expression=function(e){return e.replace(new RegExp("\\[","g"),"{").replace(new RegExp("\\]","g"),"}")}(e.labelExpression),t.type="conventional"),t}function u(e){const t=c(e);if(!t)return null;switch(t.type){case"conventional":return d(t.expression);case"arcade":return t.expression}return null}function p(e){const t=c(e);if(!t)return null;switch(t.type){case"conventional":return function(e){const t=e.match(h);return t&&t[1].trim()||null}(t.expression);case"arcade":return g(t.expression)}return null}function d(e){let t;return e?(t=(0,s.gx)(e,(e=>'__begin__$feature["'+e+'"]__end__')),t=o.test(t)?t.replace(o,""):'"'+t,t=l.test(t)?t.replace(l,""):t+'"',t=t.replace(i,'" + ').replace(n,' + "')):t='""',t}const h=/^\s*\{([^}]+)\}\s*$/i;const f=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])([\w\s]+)(\2)\]));?\s*$/i,y=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])([\w\s]+)(\2)\]));?\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])(\1|\3)(\5)\s*\));?\s*$/i,m=/^\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])([\w\s]+)(\1)\s*\));?\s*$/i;function g(e){if(!e)return null;let t=f.exec(e)||y.exec(e);return t?t[1]||t[3]:(t=m.exec(e),t?t[2]:null)}},2961:(e,t,r)=>{"use strict";r.d(t,{a:()=>n});var s=r(49840),i=r(93533);const n={inches:(0,i.En)(1,"meters","inches"),feet:(0,i.En)(1,"meters","feet"),"us-feet":(0,i.En)(1,"meters","us-feet"),yards:(0,i.En)(1,"meters","yards"),miles:(0,i.En)(1,"meters","miles"),"nautical-miles":(0,i.En)(1,"meters","nautical-miles"),millimeters:(0,i.En)(1,"meters","millimeters"),centimeters:(0,i.En)(1,"meters","centimeters"),decimeters:(0,i.En)(1,"meters","decimeters"),meters:(0,i.En)(1,"meters","meters"),kilometers:(0,i.En)(1,"meters","kilometers"),"decimal-degrees":1/(0,i.ty)(1,"meters",s.sv.radius)}},80882:(e,t,r)=>{"use strict";r.d(t,{Bj:()=>f,Df:()=>u,Bf:()=>p,se:()=>d,tR:()=>h,zb:()=>y,aL:()=>m});var s=r(36544),i=r(68055),n=r(10923),o=r(83477),l=r(93776),a=r(22696);const c=s.Z.getLogger("esri.support.basemapUtils");function u(){return{}}function p(e){for(const t in e){const r=e[t];!1===(null==r?void 0:r.destroyed)&&r.destroy(),delete e[t]}}function d(e,t){var r;let s;if("string"==typeof e){if(!(e in l.s)){const t=Object.keys(l.s).map((e=>`"${e}"`)).join(", ");return c.warn(`Unable to find basemap definition for: ${e}. Try one of these: ${t}`),null}t&&(s=t[e]),s||(s=a.default.fromId(e),t&&(t[e]=s))}else s=(0,i.se)(a.default,e);return null!=(r=s)&&r.destroyed&&(c.warn("The provided basemap is already destroyed",{basemap:s}),s=null),s}function h(e){let t=null;const r=_(e),s=!r.baseLayers.length;for(const e in l.s){const i=C(r,S(l.s[e]),{mustMatchReferences:s});if("equal"===i){t=e;break}"base-layers-equal"===i&&(t=e)}return t}function f(e,t){return e===t||"equal"===C(_(e),_(t),{mustMatchReferences:!0})}function y(e){return!(null==e||!e.baseLayers.concat(e.referenceLayers).some(m))}function m(e){if(b(e.url))return!0;if("vector-tile"===e.type)for(const t in e.sourceNameToSource){const r=e.sourceNameToSource[t];if(b(null==r?void 0:r.sourceUrl))return!0}return!1}const g=/^(basemaps|ibasemaps).*-api\.arcgis\.com$/i;function b(e){if(!e)return!1;const t=new n.R9((0,n.hF)(e));return g.test(t.authority)}function _(e){return e?!e.loaded&&e.resourceInfo?S(e.resourceInfo.data):{baseLayers:v(e.baseLayers),referenceLayers:v(e.referenceLayers)}:null}function v(e){return(o.Z.isCollection(e)?e.toArray():e).map(w)}function w(e){return{type:e.type,url:E("urlTemplate"in e&&e.urlTemplate||e.url||"styleUrl"in e&&e.styleUrl),minScale:"minScale"in e&&null!=e.minScale?e.minScale:0,maxScale:"maxScale"in e&&null!=e.maxScale?e.maxScale:0,opacity:null!=e.opacity?e.opacity:1,visible:null==e.visible||!!e.visible}}function S(e){return e?{baseLayers:x(e.baseMapLayers.filter((e=>!e.isReference))),referenceLayers:x(e.baseMapLayers.filter((e=>e.isReference)))}:null}function x(e){return e.map((e=>function(e){let t;switch(e.layerType){case"VectorTileLayer":t="vector-tile";break;case"ArcGISTiledMapServiceLayer":t="tile";break;default:t="unknown"}return{type:t,url:E(e.templateUrl||e.urlTemplate||e.styleUrl||e.url),minScale:null!=e.minScale?e.minScale:0,maxScale:null!=e.maxScale?e.maxScale:0,opacity:null!=e.opacity?e.opacity:1,visible:null==e.visibility||!!e.visibility}}(e)))}function C(e,t,r){return null!=e!=(null!=t)?"not-equal":e?L(e.baseLayers,t.baseLayers)?L(e.referenceLayers,t.referenceLayers)?"equal":r.mustMatchReferences?"not-equal":"base-layers-equal":"not-equal":"equal"}function L(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(!F(e[r],t[r]))return!1;return!0}function F(e,t){return e.type===t.type&&e.url===t.url&&e.minScale===t.minScale&&e.maxScale===t.maxScale&&e.visible===t.visible&&e.opacity===t.opacity}function E(e){return e?(0,n.Fv)(e).replace(/^\s*https?:/i,"").toLowerCase():""}},43551:(e,t,r)=>{"use strict";r.d(t,{eZ:()=>p});var s=r(4665),i=(r(4529),r(67472)),n=(r(97948),r(52117)),o=r(20628),l=r(38173),a=(r(16839),r(75107),r(58484));const c=["oid","global-id"],u=["oid","global-id","guid"];function p({displayField:e,editFieldsInfo:t,fields:r,objectIdField:n,title:o},c){if(!r)return null;const u=g({editFieldsInfo:t,fields:r,objectIdField:n},c);if(!u.length)return null;const p=function(e){const t=(0,s.O5)(e),{titleBase:r}=e;return t?`${r}: {${t.trim()}}`:r}({titleBase:o,fields:r,displayField:e}),d=[new l.Z,new i.Z];return new a.default({title:p,content:d,fieldInfos:u})}const d=[/^fnode_$/i,/^tnode_$/i,/^lpoly_$/i,/^rpoly_$/i,/^poly_$/i,/^subclass$/i,/^subclass_$/i,/^rings_ok$/i,/^rings_nok$/i,/shape/i,/perimeter/i,/objectid/i,/_i$/i],h=(e,{editFieldsInfo:t,objectIdField:r,visibleFieldNames:s})=>s?s.has(e.name):!(y(e.name,t)||r&&e.name===r||c.indexOf(e.type)>-1||d.some((t=>t.test(e.name))));function f(e,t){return"oid"===e.type?-1:"oid"===t.type?1:_(e)?-1:_(t)?1:(e.alias||e.name).toLocaleLowerCase().localeCompare((t.alias||t.name).toLocaleLowerCase())}function y(e,t){if(!e||!t)return!1;const{creationDateField:r,creatorField:s,editDateField:i,editorField:n}=t;return-1!==[r&&r.toLowerCase(),s&&s.toLowerCase(),i&&i.toLowerCase(),n&&n.toLowerCase()].indexOf(e.toLowerCase())}function m(e,t){return e.editable&&-1===u.indexOf(e.type)&&!y(e.name,t)}function g({editFieldsInfo:e,fields:t,objectIdField:r},s){return function(e,t){const r=e;return t&&(e=e.filter((e=>-1===t.indexOf(e.type)))),e===r&&(e=e.slice()),e.sort(f),e}(t,(null==s?void 0:s.ignoreFieldTypes)||v).map((t=>new o.default({fieldName:t.name,isEditable:m(t,e),label:t.alias,format:b(t),visible:h(t,{editFieldsInfo:e,objectIdField:r,visibleFieldNames:null==s?void 0:s.visibleFieldNames})})))}function b(e){switch(e.type){case"small-integer":case"integer":case"single":return new n.Z({digitSeparator:!0,places:0});case"double":return new n.Z({digitSeparator:!0,places:2});case"date":return new n.Z({dateFormat:"long-month-day-year"});default:return null}}function _(e){return"name"===(e.name&&e.name.toLowerCase())||("name"===(e.alias&&e.alias.toLowerCase())||void 0)}const v=["geometry","blob","raster","guid","xml"]},5684:(e,t,r)=>{"use strict";r.d(t,{Rz:()=>d,G:()=>f,kD:()=>m,mW:()=>y,js:()=>h});r(95830);var s=r(59472),i=r(48142),n=r(5674),o=r(88083),l=r(44190),a=r(7767);const c=o.Z.fromJSON(a.I4),u=i.Z.fromJSON(a.ET),p=n.default.fromJSON(a.lF),d=l.Z.fromJSON(a.qP);function h(e){if((0,s.Wi)(e))return null;switch(e.type){case"mesh":return null;case"point":case"multipoint":return c;case"polyline":return u;case"polygon":case"extent":return p}return null}const f=o.Z.fromJSON(a.eG),y=i.Z.fromJSON(a.wW),m=n.default.fromJSON(a.lj)},7767:(e,t,r)=>{"use strict";r.d(t,{I4:()=>i,lF:()=>o,ET:()=>n,qP:()=>l,eG:()=>a,lj:()=>u,wW:()=>c});const s=[252,146,31,255],i={type:"esriSMS",style:"esriSMSCircle",size:6,color:s,outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[153,153,153,255]}},n={type:"esriSLS",style:"esriSLSSolid",width:.75,color:s},o={type:"esriSFS",style:"esriSFSSolid",color:[252,146,31,196],outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[255,255,255,191]}},l={type:"esriTS",color:[255,255,255,255],font:{family:"arial-unicode-ms",size:10,weight:"bold"},horizontalAlignment:"center",kerning:!0,haloColor:[0,0,0,255],haloSize:1,rotated:!1,text:"",xoffset:0,yoffset:0,angle:0},a={type:"esriSMS",style:"esriSMSCircle",color:[0,0,0,255],outline:null,size:10.5},c={type:"esriSLS",style:"esriSLSSolid",color:[0,0,0,255],width:1.5},u={type:"esriSFS",style:"esriSFSSolid",color:[0,0,0,255],outline:null}},95986:(e,t,r)=>{"use strict";r.d(t,{Z:()=>c});var s=r(56140),i=(r(95830),r(36544),r(68055),r(79881)),n=r(87566),o=r(10923),l=(r(57002),r(86035),r(82677));let a=class extends l.default{constructor(...e){super(...e),this.requestOptions=null,this.url=null}normalizeCtorArgs(e,t){return"string"!=typeof e?e:{url:e,...t}}get parsedUrl(){return this._parseUrl(this.url)}_parseUrl(e){return e?(0,o.mN)(e):null}_encode(e,t,r){const s={};for(const i in e){if("declaredClass"===i)continue;const n=e[i];if(null!=n&&"function"!=typeof n)if(Array.isArray(n)){s[i]=[];for(let e=0;e<n.length;e++)s[i][e]=this._encode(n[e])}else if("object"==typeof n)if(n.toJSON){const e=n.toJSON(r&&r[i]);s[i]=t?e:JSON.stringify(e)}else s[i]=t?n:JSON.stringify(n);else s[i]=n}return s}};(0,s._)([(0,i.Cb)({readOnly:!0,dependsOn:["url"]})],a.prototype,"parsedUrl",null),(0,s._)([(0,i.Cb)()],a.prototype,"requestOptions",void 0),(0,s._)([(0,i.Cb)({type:String})],a.prototype,"url",void 0),a=(0,s._)([(0,n.j)("esri.tasks.Task")],a);const c=a},76194:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>b});var s=r(56140),i=(r(95830),r(59472)),n=(r(36544),r(68055),r(79881)),o=r(56274),l=r(30590),a=r(87566),c=r(60538),u=(r(10923),r(57002),r(86035),r(58385)),p=r(73032),d=r(56885),h=r(36348),f=r(15988),y=r(70834);const m=new o.Xn({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh","":null});let g=class extends u.wq{constructor(e){super(e),this.displayFieldName=null,this.exceededTransferLimit=!1,this.features=[],this.fields=null,this.geometryType=null,this.hasM=!1,this.hasZ=!1,this.queryGeometry=null,this.spatialReference=null}readFeatures(e,t){const r=p.Z.fromJSON(t.spatialReference),s=[];for(let t=0;t<e.length;t++){const n=e[t],o=f.Z.fromJSON(n),l=n.geometry&&n.geometry.spatialReference;(0,i.pC)(o.geometry)&&!l&&(o.geometry.spatialReference=r),s.push(o)}return s}writeGeometryType(e,t,r,s){if(e)return void m.write(e,t,r,s);const{features:n}=this;if(n)for(const e of n)if(e&&(0,i.pC)(e.geometry))return void m.write(e.geometry.type,t,r,s)}readQueryGeometry(e,t){if(!e)return null;const r=!!e.spatialReference,s=(0,d.im)(e);return!r&&t.spatialReference&&(s.spatialReference=p.Z.fromJSON(t.spatialReference)),s}writeSpatialReference(e,t){if(e)return void(t.spatialReference=e.toJSON());const{features:r}=this;if(r)for(const e of r)e&&(0,i.pC)(e.geometry)&&e.geometry.spatialReference&&(t.spatialReference=e.geometry.spatialReference.toJSON())}toJSON(e){const t=this.write(null);if(t.features&&Array.isArray(e)&&e.length>0)for(let r=0;r<t.features.length;r++){const s=t.features[r];if(s.geometry){const t=e&&e[r];s.geometry=t&&t.toJSON()||s.geometry}}return t}quantize(e){const{scale:[t,r],translate:[s,n]}=e,o=this.features,l=this._getQuantizationFunction(this.geometryType,(e=>Math.round((e-s)/t)),(e=>Math.round((n-e)/r)));for(let e=0,t=o.length;e<t;e++)l((0,i.Wg)(o[e].geometry))||(o.splice(e,1),e--,t--);return this.transform=e,this}unquantize(){const{geometryType:e,features:t,transform:r}=this;if(!r)return this;const{translate:[s,n],scale:[o,l]}=r,a=this._getHydrationFunction(e,(e=>e*o+s),(e=>n-e*l));for(const{geometry:e}of t)(0,i.pC)(e)&&a(e);return this.transform=null,this}_quantizePoints(e,t,r){let s,i;const n=[];for(let o=0,l=e.length;o<l;o++){const l=e[o];if(o>0){const e=t(l[0]),o=r(l[1]);e===s&&o===i||(n.push([e-s,o-i]),s=e,i=o)}else s=t(l[0]),i=r(l[1]),n.push([s,i])}return n.length>0?n:null}_getQuantizationFunction(e,t,r){return"point"===e?e=>(e.x=t(e.x),e.y=r(e.y),e):"polyline"===e||"polygon"===e?e=>{const s=(0,d.oU)(e)?e.rings:e.paths,i=[];for(let e=0,n=s.length;e<n;e++){const n=s[e],o=this._quantizePoints(n,t,r);o&&i.push(o)}return i.length>0?((0,d.oU)(e)?e.rings=i:e.paths=i,e):null}:"multipoint"===e?e=>{let s;return s=this._quantizePoints(e.points,t,r),s.length>0?(e.points=s,e):null}:"extent"===e?e=>e:null}_getHydrationFunction(e,t,r){return"point"===e?e=>{e.x=t(e.x),e.y=r(e.y)}:"polyline"===e||"polygon"===e?e=>{const s=(0,d.oU)(e)?e.rings:e.paths;let i,n;for(let e=0,o=s.length;e<o;e++){const o=s[e];for(let e=0,s=o.length;e<s;e++){const s=o[e];e>0?(i+=s[0],n+=s[1]):(i=s[0],n=s[1]),s[0]=t(i),s[1]=r(n)}}}:"extent"===e?e=>{e.xmin=t(e.xmin),e.ymin=r(e.ymin),e.xmax=t(e.xmax),e.ymax=r(e.ymax)}:"multipoint"===e?e=>{const s=e.points;let i,n;for(let e=0,o=s.length;e<o;e++){const o=s[e];e>0?(i+=o[0],n+=o[1]):(i=o[0],n=o[1]),o[0]=t(i),o[1]=r(n)}}:void 0}};(0,s._)([(0,n.Cb)({type:String,json:{write:!0}})],g.prototype,"displayFieldName",void 0),(0,s._)([(0,n.Cb)({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],g.prototype,"exceededTransferLimit",void 0),(0,s._)([(0,n.Cb)({type:[f.Z],json:{write:!0}})],g.prototype,"features",void 0),(0,s._)([(0,l.r)("features")],g.prototype,"readFeatures",null),(0,s._)([(0,n.Cb)({type:[y.Z],json:{write:!0}})],g.prototype,"fields",void 0),(0,s._)([(0,n.Cb)({type:["point","multipoint","polyline","polygon","extent","mesh"],json:{read:{reader:m.read}}})],g.prototype,"geometryType",void 0),(0,s._)([(0,c.c)("geometryType")],g.prototype,"writeGeometryType",null),(0,s._)([(0,n.Cb)({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],g.prototype,"hasM",void 0),(0,s._)([(0,n.Cb)({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],g.prototype,"hasZ",void 0),(0,s._)([(0,n.Cb)({types:h.qM,json:{write:!0}})],g.prototype,"queryGeometry",void 0),(0,s._)([(0,l.r)("queryGeometry")],g.prototype,"readQueryGeometry",null),(0,s._)([(0,n.Cb)({type:p.Z,json:{write:!0}})],g.prototype,"spatialReference",void 0),(0,s._)([(0,c.c)("spatialReference")],g.prototype,"writeSpatialReference",null),(0,s._)([(0,n.Cb)({json:{write:!0}})],g.prototype,"transform",void 0),g=(0,s._)([(0,a.j)("esri.tasks.support.FeatureSet")],g),g.prototype.toJSON.isDefaultToJSON=!0,g||(g={});const b=g},45671:(e,t,r)=>{"use strict";r.d(t,{t:()=>d});var s=r(56140),i=r(95844),n=r(79881),o=r(87566),l=r(74386),a=r(3059),c=r(82677),u=r(59691),p=r(80621);let d=class extends c.default{constructor(){super(...arguments),this.updating=!1,this.handleId=0,this.handles=new u.Z,this.scheduleHandleId=0,this.pendingPromises=new Set}destroy(){this.removeAll(),this.handles.destroy()}add(e,t,r,s=0){const i=0!=(1&s),n=++this.handleId;i||this.installSyncUpdatingWatch(e,t,n);const o=0!=(2&s)?(0,p.init)(e,t,r,i):e.watch(t,r,i);return this.handles.add(o,n),{remove:()=>{this.handles.remove(n)}}}addOnCollectionPropertyChange(e,t,r,s=0){const i=0!=(2&s),n=++this.handleId;return this.handles.add([(0,p.on)(e,t,"after-changes",this.createSyncUpdatingCallback()),(0,p.on)(e,t,"change",r,i?e=>{r({added:e.items,removed:[],moved:[],target:e})}:void 0)],n),{remove:()=>{this.handles.remove(n)}}}addOnCollectionChange(e,t,r=0){const s=0!=(2&r),i=++this.handleId;return this.handles.add([e.on("after-changes",this.createSyncUpdatingCallback()),e.on("change",t)],i),s&&t({added:e.items,removed:[],moved:[],target:e}),{remove:()=>{this.handles.remove(i)}}}addPromise(e){if(!e)return e;const t=++this.handleId;this.handles.add({remove:()=>{this.pendingPromises.delete(e)&&(0!==this.pendingPromises.size||this.handles.has(h)||this._set("updating",!1))}},t),this.pendingPromises.add(e),this._set("updating",!0);const r=()=>this.handles.remove(t);return e.then(r,r),e}removeAll(){this.pendingPromises.clear(),this.handles.removeAll(),this._set("updating",!1)}installSyncUpdatingWatch(e,t,r){const s=this.createSyncUpdatingCallback(),n=(0,a.QU)((()=>(0,i.$z)(e,t)),s);return this.handles.add(n,r),n}createSyncUpdatingCallback(){return()=>{this.handles.remove(h),++this.scheduleHandleId;const e=this.scheduleHandleId;this._get("updating")||this._set("updating",!0),this.handles.add((0,l.Os)((()=>{e===this.scheduleHandleId&&(this._set("updating",this.pendingPromises.size>0),this.handles.remove(h))})),h)}}};(0,s._)([(0,n.Cb)({readOnly:!0})],d.prototype,"updating",void 0),d=(0,s._)([(0,o.j)("esri.views.support.WatchUpdatingTracking")],d);const h=-42},4338:(e,t,r)=>{"use strict";r.d(t,{_:()=>o});var s=r(56140),i=(r(95830),r(36544),r(68055),r(79881)),n=r(87566);r(10923),r(57002),r(86035);const o=e=>{let t=class extends e{constructor(...e){super(...e),this.goToOverride=null,this.view=null}callGoTo(e){const{view:t}=this;return this.goToOverride?this.goToOverride(t,e):t.goTo(e.target,e.options)}};return(0,s._)([(0,i.Cb)()],t.prototype,"goToOverride",void 0),(0,s._)([(0,i.Cb)()],t.prototype,"view",void 0),t=(0,s._)([(0,n.j)("esri.widgets.support.GoTo")],t),t}},78580:(e,t,r)=>{"use strict";r.d(t,{Z:()=>l});var s=r(94015),i=r.n(s),n=r(23645),o=r.n(n)()(i());o.push([e.id,".propertysearch-base{width:100%}","",{version:3,sources:["webpack://./src/widgets/Property/PropertySearch/styles/PropertySearch.scss"],names:[],mappings:"AAAA,qBACE,UAAA",sourcesContent:[".propertysearch-base {\n  width: 100%;\n}\n\n"],sourceRoot:""}]);const l=o},46348:(e,t,r)=>{"use strict";var s=r(93379),i=r.n(s),n=r(78580),o={insert:"head",singleton:!1};i()(n.Z,o),n.Z.locals}},0,[[46348,3666,3716,8484,1518,8834,4139,2673,8591,142,2551,3347,6603,2406,515,6379,9720,207,2696,9734,6192],[31436,3666,3716,8484,1518,8834,4139,2673,8591,142,2551,3347,6603,2406,515,6379,9720,207,2696,9734,6192],[90731,3666,3716,8484,1518,8834,4139,2673,8591,142,2551,3347,6603,2406,515,6379,9720,207,2696,9734,6192],[9872,3666,3716,8484,1518,8834,4139,2673,8591,142,2551,3347,6603,2406,515,6379,9720,207,2696,9734,6192],[26493,3666,3716,8484,1518,8834,4139,2673,8591,142,2551,3347,6603,2406,515,6379,9720,207,2696,9734,6192],[84356,3666,3716,8484,1518,8834,4139,2673,8591,142,2551,3347,6603,2406,515,6379,9720,207,2696,9734,6192],[72368,3666,3716,8484,1518,8834,4139,2673,8591,142,2551,3347,6603,2406,515,6379,9720,207,2696,9734,6192],[4817,3666,3716,8484,1518,8834,4139,2673,8591,142,2551,3347,6603,2406,515,6379,9720,207,2696,9734,6192],[29941,3666,3716,8484,1518,8834,4139,2673,8591,142,2551,3347,6603,2406,515,6379,9720,207,2696,9734,6192],[54858,3666,3716,8484,1518,8834,4139,2673,8591,142,2551,3347,6603,2406,515,6379,9720,207,2696,9734,6192],[7208,3666,3716,8484,1518,8834,4139,2673,8591,142,2551,3347,6603,2406,515,6379,9720,207,2696,9734,6192],[76838,3666,3716,8484,1518,8834,4139,2673,8591,142,2551,3347,6603,2406,515,6379,9720,207,2696,9734,6192]]]);
//# sourceMappingURL=property.js.map