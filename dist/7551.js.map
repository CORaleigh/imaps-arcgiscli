{"version":3,"sources":["webpack://imaps/./node_modules/@arcgis/core/chunks/HUDMaterial.glsl.js","webpack://imaps/./node_modules/@arcgis/core/chunks/mat2d.js","webpack://imaps/./node_modules/@arcgis/core/chunks/mat2df64.js","webpack://imaps/./node_modules/@arcgis/core/geometry/Circle.js","webpack://imaps/./node_modules/@arcgis/core/layers/GraphicsLayer.js","webpack://imaps/./node_modules/@arcgis/core/support/GraphicsCollection.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/interactive/editingTools/coordinateHelper.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/interactive/editingTools/draw/DrawManipulator.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/interactive/editingTools/draw/DrawOperation.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/interactive/editingTools/draw/drawSurfaces.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/interactive/editingTools/editGeometry/EditGeometry.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/interactive/editingTools/editGeometry/EditGeometryHelper.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/interactive/visualElements/ExtendedLineVisualElement.js","webpack://imaps/./node_modules/@arcgis/core/core/libs/gl-matrix-2/types/mat4.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/HUDMaterialTechnique.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/webgl-engine/materials/HUDMaterial.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/layers/graphics/sdfPrimitives.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/interactive/visualElements/PointVisualElement.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/interactive/visualElements/VisualElementResources.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/layers/graphics/featureExpressionInfoUtils.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/layers/graphics/ElevationContext.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/attributes/VerticalOffset.glsl.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/hud/AlignPixel.glsl.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/hud/HUD.glsl.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/hud/HUDOcclusionPass.glsl.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/ScreenSizePerspective.glsl.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/webgl-engine/lib/GLMaterialTexture.js","webpack://imaps/./node_modules/@arcgis/core/views/draw/DrawAction.js","webpack://imaps/./node_modules/@arcgis/core/views/draw/input/DrawEvents.js","webpack://imaps/./node_modules/@arcgis/core/views/draw/input/Keys.js","webpack://imaps/./node_modules/@arcgis/core/chunks/MultipointDrawAction.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/interactive/editingTools/draw/DrawTool.js","webpack://imaps/./node_modules/@arcgis/core/views/draw/PointDrawAction.js","webpack://imaps/./node_modules/@arcgis/core/views/draw/PolygonDrawAction.js","webpack://imaps/./node_modules/@arcgis/core/views/draw/PolylineDrawAction.js","webpack://imaps/./node_modules/@arcgis/core/views/draw/SegmentDrawAction.js","webpack://imaps/./node_modules/@arcgis/core/views/draw/Draw.js","webpack://imaps/./node_modules/@arcgis/core/views/draw/DrawingMode.js","webpack://imaps/./node_modules/@arcgis/core/views/draw/support/createUtils.js","webpack://imaps/./node_modules/@arcgis/core/views/input/recognizers/PointerClickHoldAndDrag.js","webpack://imaps/./node_modules/@arcgis/core/views/input/recognizers/support.js","webpack://imaps/./node_modules/@arcgis/core/views/interactive/snapping/Settings.js","webpack://imaps/./node_modules/@arcgis/core/views/interactive/snapping/SnappingAlgorithm.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/support/geometryUtils/vector2d.js","webpack://imaps/./node_modules/@arcgis/core/views/interactive/snapping/SnappingConstraint.js","webpack://imaps/./node_modules/@arcgis/core/views/interactive/snapping/SnappingCandidate.js","webpack://imaps/./node_modules/@arcgis/core/views/interactive/snapping/IntersectionSnappingCandidate.js","webpack://imaps/./node_modules/@arcgis/core/views/interactive/snapping/LineSnappingCandidate.js","webpack://imaps/./node_modules/@arcgis/core/views/interactive/snapping/LineSnapper.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/interactive/visualElements/ParallelLineVisualElement.js","webpack://imaps/./node_modules/@arcgis/core/views/interactive/snapping/ParallelLineSnappingCandidate.js","webpack://imaps/./node_modules/@arcgis/core/views/interactive/snapping/ParallelLineSnapper.js","webpack://imaps/./node_modules/@arcgis/core/views/interactive/snapping/RightAngleSnappingCandidate.js","webpack://imaps/./node_modules/@arcgis/core/views/interactive/snapping/RightAngleSnapper.js","webpack://imaps/./node_modules/@arcgis/core/views/interactive/snapping/RightAngleTriangleSnappingCandidate.js","webpack://imaps/./node_modules/@arcgis/core/views/interactive/snapping/RightAngleTriangleSnapper.js","webpack://imaps/./node_modules/@arcgis/core/views/interactive/snapping/SnappingEngine.js","webpack://imaps/./node_modules/@arcgis/core/views/interactive/snapping/SnappingOptions.js","webpack://imaps/./node_modules/@arcgis/core/views/interactive/snapping/snappingUtils.js"],"names":["b","m","e","o","i","signedDistanceFieldEnabled","include","output","fragment","varyings","add","binaryHighlightOcclusionEnabled","vertex","uniforms","screenSizePerspectiveEnabled","debugDrawBorder","attributes","code","vvSize","occlusionTestEnabled","pixelSnappingEnabled","vvColor","x","h","FrontFacePass","r","l","t","textureIsSignedDistanceField","anchorPos","distanceFieldBoundingBox","bindUniforms","setUniform4fv","color","outlineColor","outlineSize","setUniform1f","setUniform2f","screenOffset","setUniform2fv","C","Object","freeze","__proto__","build","calculateAnchorPosForRendering","n","a","s","u","c","M","f","Math","sin","cos","p","q","_","copy","identity","set","invert","determinant","multiply","rotate","scale","translate","fromRotation","fromScaling","fromTranslation","str","frob","sqrt","pow","subtract","multiplyScalar","multiplyScalarAndAdd","exactEquals","equals","abs","max","mul","sub","create","clone","fromValues","createView","Float64Array","d","super","this","center","geodesic","numberOfPoints","radius","radiusUnit","rings","normalizeCtorArgs","hasZ","length","spatialReference","isWebMercator","wkid","wkt","indexOf","console","error","_createGeodesicCircle","_convert2Meters","_createPlanarCircle","addRing","y","push","z","PI","lastIndexOf","parseFloat","substring","type","prototype","elevationInfo","graphics","removeAll","addMany","remove","removeMany","on","emit","readOnly","item","preventDefault","_own","layer","_unownAll","_get","_set","_ownAll","items","forEach","owner","_unown","cast","viewingMode","_unnormalizationInfo","tag","hasM","R","valueType","v","supported","upperBoundX","lowerBoundX","pos","min","valid","grabbableForEvent","events","interactive","selectable","cursor","grabbable","w","_manipulator","_stagedVertex","geometryType","snapToSceneEnabled","_handles","_defaultZ","_elevationDrawSurface","_snappingDrawSurface","_snappingEnabled","_createOperationCompleted","_pointerDownStates","Set","view","drawingMode","coordinateHelper","defaultZ","snappingEngine","snappingOptions","selfEnabled","snappingDrawSurface","_editGeometry","_activeComponent","data","components","vertices","map","componentIndex","vertexIndex","index","coordinates","toArray","added","updated","removed","pointerType","size","manipulators","createManipulatorDragPipeline","dragging","complete","stopPropagation","_closeOnClickVertexIndex","screenPoint","discardStagedVertex","_screenToMap","hasStagedVertex","commitStagedVertex","appendVertex","fromPoint","createManipulatorDragPipelineClick","createManipulatorDragPipelineFreehand","createManipulatorDragPipelineHybrid","isCompleted","next","_screenToMapDragEventStep","action","stagedVertex","mapStart","snap","mapEnd","doneSnapping","destroy","pointerId","delete","has","grabbing","operation","mapPoint","canRedo","redo","canUndo","undo","aborted","pointToArray","screenStart","screenEnd","_getDrawSurface","screenToMap","mapToScreen","mode","zFromArray","_mapToScreen","_vertexWithinPointerDistance","toPoint","S","sceneIntersectionHelper","intersectElevationFromScreen","toScreen","exclude","toMap","left","right","component","_pos","unnormalizeVertexPositions","edges","unnormalize","swapVertices","undoStack","redoStack","apply","pop","createPoint","find","paths","fromArray","_dirty","_geometry","lastOperation","canAccumulate","accumulate","toPolyline","toPolygon","helper","edge","createdVertex","splice","lerp","createNew","unshift","updateVertexIndex","applied","dx","dy","dz","addDelta","removedVertices","_minNumberOfVertices","_removeVertex","_redoRemoveVertex","_undoRemoveVertex","removedVertex","createdEdge","warn","addedVertex","originalEdge","findEndVertex","j","_ray","_externalResources","_isWorldDown","_start","_end","_width","_color","_polygonOffset","_writeDepthEnabled","_innerWidth","_innerColor","_stippleIntegerRepeats","_stipplePattern","_stippleOffColor","_falloff","_extensionType","_laserlineStyle","_laserlineEnabled","_renderOccluded","_fadedExtensions","I","applyProps","materialParameters","state","watch","updateGeometry","attached","material","laserline","extensionType","vertexAttributes","Float32Array","offsetIdx","strideIdx","indices","Uint32Array","addGeometry","updateVertices","updateVisibility","visible","renderCoordsHelper","worldUpAtPosition","updateMaterial","recreate","_laserlineAttached","style","recreateGeometry","setParameterValues","width","stippleOffColor","stipplePattern","stippleIntegerRepeats","innerWidth","innerColor","falloff","polygonOffset","renderOccluded","writeDepth","object","geometries","updateLineSegmentFinite","V","updateLineSegmentInfinite","updateVertexAttributes","intersectsLine","camera","c0","Number","MAX_VALUE","origin","elevationProvider","getElevation","getAltitude","ray","direction","c1","frustum","planes","D","getVertexAttr","fadedExtensions","start","end","geometryVertexAttrsUpdated","Array","isArray","O","shader","get","configuration","transparencyPassType","sdf","slicePlaneEnabled","sliceHighlightDisabled","sliceEnabledForVertexPrograms","binaryHighlightOcclusion","screenCenterOffsetUnitsEnabled","screenSizePerspective","verticalOffsetEnabled","verticalOffset","vvInstancingEnabled","isDraped","rctx","generateSource","program","projectionMatrix","aboveGround","tan","fovY","fullViewport","setUniformMatrix4fv","viewInverseTransposeMatrix","shaderPolygonOffset","pixelRatio","polygonOffsetEnabled","depthEnabled","blending","depthTest","func","depthWrite","colorWrite","setPipelineState","factor","units","arguments","count","F","pe","techniqueConfig","params","centerOffsetUnits","occlusionTest","vvSizeEnabled","vvColorEnabled","intersectDrapedHudGeometry","intersectHudGeometry","getAttribute","ce","screenToWorldRatio","fe","ue","K","options","selectionMode","hud","g","se","P","A","point","$","viewMatrix","ae","normalAndViewAngle","oe","applyVerticalOffsetTransformationView","Q","applyProjection","ee","floor","factorAlignment","le","ie","ne","unprojectFromRenderScreen","vertexAttr","getIndices","me","re","normal","cosAngle","te","he","minPixelSize","paddingPixels","screenSizePerspectiveAlignment","applyVerticalGroundOffsetView","applyPolygonOffsetView","applyCenterOffsetView","applyCenterOffsetNDC","applyPolygonOffsetNDC","viewport","computeRenderPixelSizeAtDist","screenLength","updateScaleInfo","fullWidth","fullHeight","Z","J","Y","W","updateParameters","drawInSecondSlot","updateTexture","textureId","selectProgram","technique","techniqueRep","acquireAndReleaseExisting","getTechniqueConfig","bindProgram","bindTexture","bindTextureScale","bindPass","isOcclusionSlot","occlusionTechnique","getTechnique","texCoordScale","vvSizeMinSize","vvSizeMaxSize","vvSizeOffset","vvSizeFactor","vvColorValues","vvColorColors","de","vec3f","vec2f","vec4u8","vec4f","vertexBufferLayout","createBuffer","transformation","position","invTranspTransformation","uv0","auxpos1","auxpos2","Uint8Array","SQRT2","_size","_pixelSnappingEnabled","_primitive","_outlineSize","_outlineColor","_elevationInfo","resources","createResources","geometry","preferredTextureSize","updateSizeAttribute","texture","id","geometrySize","createRenderGeometry","createTexture","mipmap","wrap","height","noUnpackFlip","resourceFactory","_resources","_visible","_attached","_destroyResources","external","_syncVisible","_createOrDestroyResources","_createResources","_stage","removeAllGeometries","isPickable","addToViewContent","idHint","castShadow","_contentTypeFromResource","addObject","setVisible","cameraChanged","cameraHandle","dispose","cachedResult","_meterUnitOffset","_renderUnitOffset","_unit","_metersPerElevationInfoUnit","_featureExpressionInfoContext","centerPointInElevationSR","unit","calculateOffsetRenderUnits","featureExpressionInfoContext","arcade","modules","arcadeUtils","executeFunction","context","unitInMeters","offsetElevationInfoUnits","offset","createExecContext","sr","errorOncePerTick","updateExecContext","createFeature","setFromElevationInfo","perDistance","minWorldLength","maxWorldLength","setUniform4f","defines","addFloat","renderTransparentlyOccludedHUD","bindVisibilityTexture","setUniform1i","hudVisibilityTexture","setActiveTexture","_textureIDs","_textureRepository","textureRep","_textureId","_initTransparent","initTextureTransparent","_texture","_acquireIfNotUndefined","_textureNormal","normalTextureId","_textureEmissive","emissiveTextureId","_textureOcclusion","occlusionTextureId","_textureMetallicRoughness","metallicRoughnessTextureId","release","clear","_releaseIfNotUndefined","glTexture","descriptor","textureCoordinateScaleFactor","acquire","_hasZ","interactiveUndoDisabled","history","redoHistory","snapToScene","notifyChange","getGeometryZValue","Boolean","nonNullable","dependsOn","native","defaultPrevented","_cursorMoved","_cursorScreenPoint","_dragEnabled","_pointerDownEvent","_viewHandles","_addViewHandles","_removeViewHandles","isNaN","_undoVertexAdd","_redoVertexAdd","_undoVertexRemove","_redoVertexRemove","_undoVertexUpdate","_redoVertexUpdate","_completeDrawing","_cursorUpdateHandler","_vertexAddHandler","_drawCompleteHandler","key","repeat","getCoordsFromScreenPoint","_addVertex","_updateCursor","drawOperation","onVertexAdd","onVertexRemove","onVertexUpdate","onCursorUpdate","onComplete","onInputEvent","cancel","constructOnly","value","_clickDelay","_addDrawTool","_removeDrawTool","_drawTool","completeCreateOperation","timestamp","toolViewManager","tools","activeTool","getVertexCoords","_panEnabled","_cursorVertexAdded","_popVertexOnPointerMove","_addVertexOnPointerUp","_activePointerId","_shouldHandlePointerEvent","_clickEnabled","_popCursorVertex","isDuplicateVertex","getCoordsAndPointFromScreenPoint","_pushCursorVertex","button","_isDragging","viewAlignedCoordinateSystem","_getClickModeViewHandles","_getDragModeViewHandles","activeAction","reset","U","L","mapToLocal","transform","transformInv","pWS","tangentFrameUpWS","tangentFrameRightWS","tangentFrameForwardWS","localFrameRightWS","localFrameUpWS","worldToLocalTransform","localToWorldTransform","resolution","referenceMapPoint","viewRight","toRenderCoords","worldBasisAtPosition","fromRenderCoords","k","points","H","reverse","isSelfIntersecting","mapToLocalMultiple","round","localToMap","doUnnormalization","B","E","maximumClickDelay","movementUntilMouseDrag","movementUntilPenDrag","movementUntilTouchDrag","holdDelay","_clock","_pointerState","Map","_pointerDrag","registerOutgoing","_immediateClick","_pointerHold","registerIncoming","_handlePointerDown","bind","_handlePointerLoss","_moveHandle","_handlePointerMove","pause","holdTimeout","onUninstall","setTimeout","isDragging","previousEvent","modifiers","holdEmitted","startEvent","startTimestamp","downButton","startCapturingPointer","resume","startDragging","currentEvent","_createPointerDragData","_getDragThreshold","stopCapturingPointer","enabled","lineSnapper","parallelLineSnapper","rightAngleSnapper","rightAngleTriangleSnapper","shortLineThreshold","lineProximityThreshold","circleProximityThreshold","pointProximityThreshold","intersectionParallelLineThreshold","parallelLineThreshold","touchSensitivityMultiplier","pointOnLineThreshold","orange","lineHintWidthReference","lineHintWidthTarget","lineHintFadedExtensions","parallelLineHintWidth","parallelLineHintLength","parallelLineHintOffset","rightAngleHintSize","rightAngleHintOutlineSize","json","write","range","step","proximityThreshold","squaredShortLineThreshold","_squaredTouchProximityThreshold","_squaredMouseProximityTreshold","vertexHandle","snapExistingVertex","snapNewVertex","exceedsShortLineThreshold","pointer","dir","objectEqual","point1","point2","targetPoint","constraint","visualizeTargetHints","visualizeReferenceHints","visualize","primitive","lineStart","lineEnd","lineEndClosestToTarget","edgeExceedsShortLineThreshold","_processCandidateProposal","fromXYZ","squaredProximityTreshold","_location","_direction","_offset","_length","projectToScreen","location","geometryRecords","unprojectFromScreen","referenceLine","_referenceLines","fadeLeft","fadeRight","createParallelLineVisualElement","setDirectionFromPoints","_tmpProjection","_checkEdgeForParalleLines","parallelToPreviousCandidate","addReferenceLine","previousVertex","centerVertex","_previousVertex","_centerVertex","_tmp","_checkForSnappingCandidate","_snapper","_currentSnappingCandidate","_visualElementHandles","_optionsHandle","effectiveSelfEnabled","_aggregateSnappingCandidates","isCurrentIntersectionConstraintStillActive","squaredPointProximityThreshold","createDehydratedPoint","_intersectRaysAndLines","sort","updateSnappingCandidate","check","selfEnabledToggled","toXYZ","outlineRenderOccluded","previous"],"mappings":"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","file":"7551.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{a as e}from\"./vec2f64.js\";import{Z as o}from\"./vec4f64.js\";import{c as i}from\"./vec2.js\";import{glsl as r}from\"../views/3d/webgl-engine/core/shaderModules/interfaces.js\";import{ShaderBuilder as l}from\"../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js\";import{ColorConversion as t}from\"../views/3d/webgl-engine/core/shaderLibrary/util/ColorConversion.glsl.js\";import{AlignPixel as a}from\"../views/3d/webgl-engine/core/shaderLibrary/hud/AlignPixel.glsl.js\";import{Slice as s}from\"../views/3d/webgl-engine/core/shaderLibrary/Slice.glsl.js\";import{ScreenSizePerspective as n}from\"../views/3d/webgl-engine/core/shaderLibrary/util/ScreenSizePerspective.glsl.js\";import{HUD as c}from\"../views/3d/webgl-engine/core/shaderLibrary/hud/HUD.glsl.js\";import{HUDOcclusionPass as d}from\"../views/3d/webgl-engine/core/shaderLibrary/hud/HUDOcclusionPass.glsl.js\";import{OutputHighlight as u}from\"../views/3d/webgl-engine/core/shaderLibrary/output/OutputHighlight.glsl.js\";import{VisualVariables as v}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/VisualVariables.glsl.js\";import{symbolAlphaCutoff as f,defaultMaskAlphaCutoff as g}from\"../views/3d/webgl-engine/core/shaderLibrary/util/AlphaDiscard.glsl.js\";import{RgbaFloatEncoding as p}from\"../views/3d/webgl-engine/core/shaderLibrary/util/RgbaFloatEncoding.glsl.js\";function m(e){const o=new l,i=e.signedDistanceFieldEnabled;if(o.include(a),o.include(c,e),o.include(s,e),6===e.output)return o.include(d,e),o;o.include(n),o.fragment.include(p),o.fragment.include(t),o.include(v,e),o.varyings.add(\"vcolor\",\"vec4\"),o.varyings.add(\"vtc\",\"vec2\"),o.varyings.add(\"vsize\",\"vec2\"),e.binaryHighlightOcclusionEnabled&&o.varyings.add(\"voccluded\",\"float\"),o.vertex.uniforms.add(\"screenOffset\",\"vec2\").add(\"anchorPos\",\"vec2\").add(\"textureCoordinateScaleFactor\",\"vec2\").add(\"materialColor\",\"vec4\"),i&&o.vertex.uniforms.add(\"outlineColor\",\"vec4\"),e.screenSizePerspectiveEnabled&&o.vertex.uniforms.add(\"screenSizePerspective\",\"vec4\"),(e.debugDrawBorder||e.binaryHighlightOcclusionEnabled)&&o.varyings.add(\"debugBorderCoords\",\"vec4\"),o.attributes.add(\"uv0\",\"vec2\"),o.attributes.add(\"color\",\"vec4\"),o.attributes.add(\"size\",\"vec2\"),o.attributes.add(\"auxpos2\",\"vec4\"),o.vertex.code.add(r`\n    void main(void) {\n      ProjectHUDAux projectAux;\n      vec4 posProj = projectPositionHUD(projectAux);\n\n      if (rejectBySlice(projectAux.posModel)) {\n        // Project outside of clip plane\n        gl_Position = vec4(1e038, 1e038, 1e038, 1.0);\n        return;\n      }\n      vec2 inputSize;\n      ${e.screenSizePerspectiveEnabled?r`\n      inputSize = screenSizePerspectiveScaleVec2(size, projectAux.absCosAngle, projectAux.distanceToCamera, screenSizePerspective);\n      vec2 screenOffsetScaled = screenSizePerspectiveScaleVec2(screenOffset, projectAux.absCosAngle, projectAux.distanceToCamera, screenSizePerspectiveAlignment);\n         `:r`\n      inputSize = size;\n      vec2 screenOffsetScaled = screenOffset;`}\n\n      ${e.vvSize?\"inputSize *= vvScale(auxpos2).xx;\":\"\"}\n\n      vec2 combinedSize = inputSize * pixelRatio;\n      vec4 quadOffset = vec4(0.0);\n\n      ${e.occlusionTestEnabled||e.binaryHighlightOcclusionEnabled?\"bool visible = testVisibilityHUD(posProj);\":\"\"}\n\n      ${e.binaryHighlightOcclusionEnabled?\"voccluded = visible ? 0.0 : 1.0;\":\"\"}\n    `);const m=r`\n      vec2 uv01 = floor(uv0);\n      vec2 uv = uv0 - uv01;\n      quadOffset.xy = ((uv01 - anchorPos) * 2.0 * combinedSize + screenOffsetScaled) / viewport.zw * posProj.w;\n  `,b=e.pixelSnappingEnabled?i?r`\n  posProj = alignToPixelOrigin(posProj, viewport.zw) + quadOffset;`:r`\n  posProj += quadOffset;\n  if (inputSize.x == size.x) {\n    posProj = alignToPixelOrigin(posProj, viewport.zw);\n  }`:r`posProj += quadOffset;`;o.vertex.code.add(r`\n      ${e.occlusionTestEnabled?\"if (visible) {\":\"\"}\n      ${m}\n      ${e.vvColor?\"vcolor = vvGetColor(auxpos2, vvColorValues, vvColorColors) * materialColor;\":\"vcolor = color / 255.0 * materialColor;\"}\n\n      bool alphaDiscard = vcolor.a < ${r.float(f)};\n      ${i?`alphaDiscard = alphaDiscard && outlineColor.a < ${r.float(f)};`:\"\"}\n      if (alphaDiscard) {\n        // \"early discard\" if both symbol color (= fill) and outline color (if applicable) are transparent\n        gl_Position = vec4(1e38, 1e38, 1e38, 1.0);\n        return;\n      } else {\n        ${b}\n        gl_Position = posProj;\n      }\n\n      vtc = uv * textureCoordinateScaleFactor;\n\n      ${e.debugDrawBorder?\"debugBorderCoords = vec4(uv01, 1.5 / combinedSize);\":\"\"}\n      vsize = inputSize;\n      ${e.occlusionTestEnabled?r`} else { vtc = vec2(0.0);\n        ${e.debugDrawBorder?\"debugBorderCoords = vec4(0.5, 0.5, 1.5 / combinedSize);}\":\"}\"}`:\"\"}\n    }\n    `),o.fragment.uniforms.add(\"tex\",\"sampler2D\"),i&&(o.fragment.uniforms.add(\"outlineColor\",\"vec4\"),o.fragment.uniforms.add(\"outlineSize\",\"float\"));const x=e.debugDrawBorder?r`(isBorder > 0.0 ? 0.0 : ${r.float(g)})`:r.float(g),h=r`\n    ${e.debugDrawBorder?r`\n      float isBorder = float(any(lessThan(debugBorderCoords.xy, debugBorderCoords.zw)) || any(greaterThan(debugBorderCoords.xy, 1.0 - debugBorderCoords.zw)));`:\"\"}\n\n    ${i?r`\n      vec4 fillPixelColor = vcolor;\n\n      // Attempt to sample texel centers to avoid that thin cross outlines\n      // disappear with large symbol sizes.\n      // see: https://devtopia.esri.com/WebGIS/arcgis-js-api/issues/7058#issuecomment-603041\n      const float txSize = 128.0;\n      const float texelSize = 1.0 / txSize;\n      // Calculate how much we have to add/subtract to/from each texel to reach the size of an onscreen pixel\n      vec2 scaleFactor = (vsize - txSize) * texelSize;\n      vec2 samplePos = vtc + (vec2(1.0, -1.0) * texelSize) * scaleFactor;\n\n      // Get distance and map it into [-0.5, 0.5]\n      float d = rgba2float(texture2D(tex, samplePos)) - 0.5;\n\n      // Distance in output units (i.e. pixels)\n      float dist = d * vsize.x;\n\n      // Create smooth transition from the icon into its outline\n      float fillAlphaFactor = clamp(0.5 - dist, 0.0, 1.0);\n      fillPixelColor.a *= fillAlphaFactor;\n\n      if (outlineSize > 0.25) {\n        vec4 outlinePixelColor = outlineColor;\n        float clampedOutlineSize = min(outlineSize, 0.5*vsize.x);\n\n        // Create smooth transition around outline\n        float outlineAlphaFactor = clamp(0.5 - (abs(dist) - 0.5*clampedOutlineSize), 0.0, 1.0);\n        outlinePixelColor.a *= outlineAlphaFactor;\n\n        if (\n          outlineAlphaFactor + fillAlphaFactor < ${x} ||\n          fillPixelColor.a + outlinePixelColor.a < ${r.float(f)}\n        ) {\n          discard;\n        }\n\n        // perform un-premultiplied over operator (see https://en.wikipedia.org/wiki/Alpha_compositing#Description)\n        float compositeAlpha = outlinePixelColor.a + fillPixelColor.a * (1.0 - outlinePixelColor.a);\n        vec3 compositeColor = vec3(outlinePixelColor) * outlinePixelColor.a +\n          vec3(fillPixelColor) * fillPixelColor.a * (1.0 - outlinePixelColor.a);\n\n        gl_FragColor = vec4(compositeColor, compositeAlpha);\n      } else {\n        if (fillAlphaFactor < ${x}) {\n          discard;\n        }\n\n        gl_FragColor = premultiplyAlpha(fillPixelColor);\n      }\n\n      // visualize SDF:\n      // gl_FragColor = vec4(clamp(-dist/vsize.x*2.0, 0.0, 1.0), clamp(dist/vsize.x*2.0, 0.0, 1.0), 0.0, 1.0);\n      `:r`\n          vec4 texColor = texture2D(tex, vtc, -0.5);\n          if (texColor.a < ${x}) {\n            discard;\n          }\n          gl_FragColor = texColor * premultiplyAlpha(vcolor);\n          `}\n\n    ${e.debugDrawBorder?r`gl_FragColor = mix(gl_FragColor, vec4(1.0, 0.0, 1.0, 1.0), isBorder);`:\"\"}\n  `;return 7===e.output&&o.fragment.code.add(r`\n      void main() {\n        ${h}\n        gl_FragColor = vec4(gl_FragColor.a);\n      }\n      `),0===e.output&&o.fragment.code.add(r`\n    void main() {\n      ${h}\n      ${e.FrontFacePass?\"gl_FragColor.rgb /= gl_FragColor.a;\":\"\"}\n    }\n    `),4===e.output&&(o.include(u),o.fragment.code.add(r`\n    void main() {\n      ${h}\n      ${e.binaryHighlightOcclusionEnabled?r`\n          if (voccluded == 1.0) {\n            gl_FragColor = vec4(1.0, 1.0, 0.0, 1.0);\n          } else {\n            gl_FragColor = vec4(1.0, 0.0, 1.0, 1.0);\n          }`:\"outputHighlight();\"}\n    }\n    `)),o}var b;function x(e,o=h){var r,l,t;return e.textureIsSignedDistanceField?(r=e.anchorPos,l=e.distanceFieldBoundingBox,(t=o)[0]=r[0]*(l[2]-l[0])+l[0],t[1]=r[1]*(l[3]-l[1])+l[1]):i(o,e.anchorPos),o}!function(e){e.bindUniforms=function(e,i,r){e.setUniform4fv(\"materialColor\",i.color),i.textureIsSignedDistanceField&&(i.outlineColor[3]<=0||i.outlineSize<=0?(e.setUniform4fv(\"outlineColor\",o),e.setUniform1f(\"outlineSize\",0)):(e.setUniform4fv(\"outlineColor\",i.outlineColor),e.setUniform1f(\"outlineSize\",i.outlineSize))),e.setUniform2f(\"screenOffset\",2*i.screenOffset[0]*r,2*i.screenOffset[1]*r),e.setUniform2fv(\"anchorPos\",x(i))}}(b||(b={}));const h=e();var C=Object.freeze({__proto__:null,build:m,get HUDMaterial(){return b},calculateAnchorPosForRendering:x});export{b as H,C as a,m as b,x as c};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{E as t}from\"./common.js\";function a(t,a){return t[0]=a[0],t[1]=a[1],t[2]=a[2],t[3]=a[3],t[4]=a[4],t[5]=a[5],t}function n(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t}function s(t,a,n,s,r,o,u){return t[0]=a,t[1]=n,t[2]=s,t[3]=r,t[4]=o,t[5]=u,t}function r(t,a){const n=a[0],s=a[1],r=a[2],o=a[3],u=a[4],c=a[5];let e=n*o-s*r;return e?(e=1/e,t[0]=o*e,t[1]=-s*e,t[2]=-r*e,t[3]=n*e,t[4]=(r*c-o*u)*e,t[5]=(s*u-n*c)*e,t):null}function o(t){return t[0]*t[3]-t[1]*t[2]}function u(t,a,n){const s=a[0],r=a[1],o=a[2],u=a[3],c=a[4],e=a[5],h=n[0],M=n[1],i=n[2],f=n[3],b=n[4],l=n[5];return t[0]=s*h+o*M,t[1]=r*h+u*M,t[2]=s*i+o*f,t[3]=r*i+u*f,t[4]=s*b+o*l+c,t[5]=r*b+u*l+e,t}function c(t,a,n){const s=a[0],r=a[1],o=a[2],u=a[3],c=a[4],e=a[5],h=Math.sin(n),M=Math.cos(n);return t[0]=s*M+o*h,t[1]=r*M+u*h,t[2]=s*-h+o*M,t[3]=r*-h+u*M,t[4]=c,t[5]=e,t}function e(t,a,n){const s=a[0],r=a[1],o=a[2],u=a[3],c=a[4],e=a[5],h=n[0],M=n[1];return t[0]=s*h,t[1]=r*h,t[2]=o*M,t[3]=u*M,t[4]=c,t[5]=e,t}function h(t,a,n){const s=a[0],r=a[1],o=a[2],u=a[3],c=a[4],e=a[5],h=n[0],M=n[1];return t[0]=s,t[1]=r,t[2]=o,t[3]=u,t[4]=s*h+o*M+c,t[5]=r*h+u*M+e,t}function M(t,a){const n=Math.sin(a),s=Math.cos(a);return t[0]=s,t[1]=n,t[2]=-n,t[3]=s,t[4]=0,t[5]=0,t}function i(t,a){return t[0]=a[0],t[1]=0,t[2]=0,t[3]=a[1],t[4]=0,t[5]=0,t}function f(t,a){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=a[0],t[5]=a[1],t}function b(t){return\"mat2d(\"+t[0]+\", \"+t[1]+\", \"+t[2]+\", \"+t[3]+\", \"+t[4]+\", \"+t[5]+\")\"}function l(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+1)}function m(t,a,n){return t[0]=a[0]+n[0],t[1]=a[1]+n[1],t[2]=a[2]+n[2],t[3]=a[3]+n[3],t[4]=a[4]+n[4],t[5]=a[5]+n[5],t}function p(t,a,n){return t[0]=a[0]-n[0],t[1]=a[1]-n[1],t[2]=a[2]-n[2],t[3]=a[3]-n[3],t[4]=a[4]-n[4],t[5]=a[5]-n[5],t}function d(t,a,n){return t[0]=a[0]*n,t[1]=a[1]*n,t[2]=a[2]*n,t[3]=a[3]*n,t[4]=a[4]*n,t[5]=a[5]*n,t}function x(t,a,n,s){return t[0]=a[0]+n[0]*s,t[1]=a[1]+n[1]*s,t[2]=a[2]+n[2]*s,t[3]=a[3]+n[3]*s,t[4]=a[4]+n[4]*s,t[5]=a[5]+n[5]*s,t}function w(t,a){return t[0]===a[0]&&t[1]===a[1]&&t[2]===a[2]&&t[3]===a[3]&&t[4]===a[4]&&t[5]===a[5]}function y(a,n){const s=a[0],r=a[1],o=a[2],u=a[3],c=a[4],e=a[5],h=n[0],M=n[1],i=n[2],f=n[3],b=n[4],l=n[5];return Math.abs(s-h)<=t*Math.max(1,Math.abs(s),Math.abs(h))&&Math.abs(r-M)<=t*Math.max(1,Math.abs(r),Math.abs(M))&&Math.abs(o-i)<=t*Math.max(1,Math.abs(o),Math.abs(i))&&Math.abs(u-f)<=t*Math.max(1,Math.abs(u),Math.abs(f))&&Math.abs(c-b)<=t*Math.max(1,Math.abs(c),Math.abs(b))&&Math.abs(e-l)<=t*Math.max(1,Math.abs(e),Math.abs(l))}let q=u,_=p;var j=Object.freeze({__proto__:null,copy:a,identity:n,set:s,invert:r,determinant:o,multiply:u,rotate:c,scale:e,translate:h,fromRotation:M,fromScaling:i,fromTranslation:f,str:b,frob:l,add:m,subtract:p,multiplyScalar:d,multiplyScalarAndAdd:x,exactEquals:w,equals:y,mul:q,sub:_});export{r as a,M as b,j as c,a as d,s as e,i as f,o as g,f as h,n as i,b as j,l as k,m as l,u as m,p as n,d as o,x as p,w as q,c as r,e as s,h as t,y as u,q as v,_ as w};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nfunction e(){return[1,0,0,1,0,0]}function r(e){return[e[0],e[1],e[2],e[3],e[4],e[5]]}function n(e,r,n,t,a,o){return[e,r,n,t,a,o]}function t(e,r){return new Float64Array(e,r,6)}var a=Object.freeze({__proto__:null,create:e,clone:r,fromValues:n,createView:t});export{r as a,t as b,e as c,n as f,a as m};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import\"../core/has.js\";import\"../core/Logger.js\";import\"../core/accessorSupport/ensureType.js\";import{property as r}from\"../core/accessorSupport/decorators/property.js\";import{subclass as t}from\"../core/accessorSupport/decorators/subclass.js\";import\"../core/urlUtils.js\";import\"../core/uuid.js\";import\"../portal/support/resourceExtension.js\";import s from\"./support/WKIDUnitConversion.js\";import{webMercatorToGeographic as o,geographicToWebMercator as i}from\"./support/webMercatorUtils.js\";import c from\"./Point.js\";import n from\"./Polygon.js\";import{getReferenceEllipsoid as a}from\"./projectionEllipsoid.js\";import{convertUnit as p,lengthToDegrees as l}from\"../core/unitUtils.js\";import{directGeodeticSolver as u}from\"./support/geodesicUtils.js\";var d;let h=d=class extends n{constructor(...e){super(...e),this.center=null,this.geodesic=!1,this.numberOfPoints=60,this.radius=1e3,this.radiusUnit=\"meters\"}normalizeCtorArgs(e,r){let t;if(e&&e.center)t=e;else{if(e&&e.rings)return super.normalizeCtorArgs(e,r);t={center:e}}return{...super.normalizeCtorArgs(),...t,...r}}initialize(){const e=this.center,r=this.numberOfPoints;if(this.hasZ=e&&e.hasZ,0!==this.rings.length||!e)return;const t=p(this.radius,this.radiusUnit,\"meters\"),c=e.spatialReference;let n,u=\"geographic\";if(c.isWebMercator?u=\"webMercator\":(null!=s[c.wkid]||c.wkt&&0===c.wkt.indexOf(\"PROJCS\"))&&(u=\"projected\"),this.geodesic){let s;switch(u){case\"webMercator\":s=o(e);break;case\"projected\":console.error(\"Creating a geodesic circle requires the center to be specified in web mercator or geographic coordinate system\");break;case\"geographic\":s=e}n=this._createGeodesicCircle(s,t,r),\"webMercator\"===u&&(n=i(n))}else{let s;\"webMercator\"===u||\"projected\"===u?s=t/this._convert2Meters(1,e.spatialReference):\"geographic\"===u&&(s=l(t,\"meters\",a(e.spatialReference).radius)),n=this._createPlanarCircle(e,s,r)}this.spatialReference=n.spatialReference,this.addRing(n.rings[0])}clone(){const{center:e,numberOfPoints:r,radius:t,radiusUnit:s,geodesic:o}=this;return new d({center:e.clone(),numberOfPoints:r,radius:t,radiusUnit:s,geodesic:o})}_createGeodesicCircle(e,r,t){let s=0;const o=[];for(;s<360;){const i=[0,0],c=[e.x,e.y];u(i,c,s,r),this.hasZ&&i.push(e.z),o.push(i),s+=360/t}return o.push(o[0]),new n(o)}_createPlanarCircle(e,r,t){let s=0;const o=[];for(;s<2*Math.PI;){const i=[e.x+Math.cos(-s)*r,e.y+Math.sin(-s)*r];this.hasZ&&i.push(e.z),o.push(i),s+=Math.PI/(t/2)}return o.push(o[0]),new n({spatialReference:e.spatialReference,rings:[o]})}_convert2Meters(e,r){let t;if(null!=s[r.wkid])t=s.values[s[r.wkid]];else{const e=r.wkt,s=e.lastIndexOf(\",\")+1,o=e.lastIndexOf(\"]]\");t=parseFloat(e.substring(s,o))}return e*t}};e([r({type:c})],h.prototype,\"center\",void 0),e([r()],h.prototype,\"geodesic\",void 0),e([r()],h.prototype,\"numberOfPoints\",void 0),e([r()],h.prototype,\"radius\",void 0),e([r()],h.prototype,\"radiusUnit\",void 0),h=d=e([t(\"esri.geometry.Circle\")],h);var m=h;export default m;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../chunks/tslib.es6.js\";import\"../core/has.js\";import\"../core/Logger.js\";import\"../core/accessorSupport/ensureType.js\";import{property as e}from\"../core/accessorSupport/decorators/property.js\";import{subclass as o}from\"../core/accessorSupport/decorators/subclass.js\";import\"../core/urlUtils.js\";import\"../core/uuid.js\";import\"../portal/support/resourceExtension.js\";import s from\"./Layer.js\";import t from\"../symbols/support/ElevationInfo.js\";import{BlendLayer as i}from\"./mixins/BlendLayer.js\";import{ScaleRangeLayer as p}from\"./mixins/ScaleRangeLayer.js\";import a,{graphicsCollectionProperty as c}from\"../support/GraphicsCollection.js\";let n=class extends(i(p(s))){constructor(r){super(r),this.elevationInfo=null,this.graphics=new a,this.screenSizePerspectiveEnabled=!0,this.type=\"graphics\"}destroy(){this.removeAll()}add(r){return this.graphics.add(r),this}addMany(r){return this.graphics.addMany(r),this}removeAll(){return this.graphics.removeAll(),this}remove(r){this.graphics.remove(r)}removeMany(r){this.graphics.removeMany(r)}on(r,e){return super.on(r,e)}graphicChanged(r){this.emit(\"graphic-update\",r)}};r([e({type:t})],n.prototype,\"elevationInfo\",void 0),r([e(c())],n.prototype,\"graphics\",void 0),r([e({type:[\"show\",\"hide\"]})],n.prototype,\"listMode\",void 0),r([e()],n.prototype,\"screenSizePerspectiveEnabled\",void 0),r([e({readOnly:!0})],n.prototype,\"type\",void 0),n=r([o(\"esri.layers.GraphicsLayer\")],n);var m=n;export default m;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../chunks/tslib.es6.js\";import\"../core/has.js\";import\"../core/Logger.js\";import{ensureType as o}from\"../core/accessorSupport/ensureType.js\";import{property as e}from\"../core/accessorSupport/decorators/property.js\";import{subclass as t}from\"../core/accessorSupport/decorators/subclass.js\";import\"../core/urlUtils.js\";import\"../core/uuid.js\";import\"../portal/support/resourceExtension.js\";import s from\"../core/Collection.js\";import{castForReferenceSetter as n,referenceSetter as i}from\"../core/collectionUtils.js\";import c from\"../Graphic.js\";const l=s.ofType(c);let p=class extends l{constructor(r){super(r),this.on(\"before-add\",(r=>{r.item||r.preventDefault()})),this.on(\"after-add\",(r=>this._own(r.item))),this.on(\"after-remove\",(({item:r})=>{r.layer=null}))}destroy(){this._unownAll()}get owner(){return this._get(\"owner\")}set owner(r){r!==this._get(\"owner\")&&(this._unownAll(),this._set(\"owner\",r),this._ownAll())}_createNewInstance(r){return new l(r)}_ownAll(){this.items.forEach((r=>this._own(r)))}_own(r){r.layer&&\"remove\"in r.layer&&r.layer!==this.owner&&r.layer.remove(r),r.layer=this.owner}_unownAll(){this.items.forEach((r=>this._unown(r)))}_unown(r){r.layer===this.owner&&(r.layer=null)}};function a(r){const e=o(p,r);return e&&(e.owner=this),e}r([e()],p.prototype,\"owner\",null),p=r([t(\"esri.support.GraphicsCollection\")],p);const h=(r=\"graphics\")=>({type:p,cast:n,set(o){const e=i(o,this._get(r),p);e.owner=this,this._set(r,e)}});var u=p;export default u;export{p as GraphicsCollection,a as castGraphicsCollection,h as graphicsCollectionProperty};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{getInfo as e}from\"../../../../geometry/support/spatialReferenceUtils.js\";import t from\"../../../../geometry/Point.js\";import\"../../../../geometry.js\";import{f as r,c as a,d as n}from\"../../../../chunks/vec3f64.js\";import{e as i}from\"../../../../chunks/vec3.js\";import{a as s,f as o,d as u}from\"../../../../chunks/vec2f64.js\";import{a as h,b as p,f as l}from\"../../../../chunks/vec4f64.js\";import{m as c}from\"../../../../chunks/vec2.js\";import{l as f}from\"../../../../chunks/vec4.js\";class m{constructor(e,t){this.spatialReference=e,this.viewingMode=t,this._unnormalizationInfo=z(e,t)}tag(e){return e}createNew(){return this.tag(s())}fromPoint(e){return this.tag(o(e.x,e.y))}fromArray(e){return this.tag(o(e[0],e[1]))}toArray(e){return[e[0],e[1]]}clone(e){return this.tag(u(e))}toPoint(e,t){return t.x=e[0],t.y=e[1],t.hasZ=!1,t.hasM=!1,t.spatialReference=this.spatialReference,t}createPoint(e){return new t({x:e[0],y:e[1],z:void 0,m:void 0,spatialReference:this.spatialReference})}createPointFromArray(e){return new t({x:e[0],y:e[1],z:void 0,m:void 0,spatialReference:this.spatialReference})}createDehydratedPoint(e){return{x:e[0],y:e[1],z:void 0,m:void 0,hasZ:!1,hasM:!1,spatialReference:this.spatialReference,type:\"point\"}}lerp(e,t,r,a){return c(a,e,t,r)}addDelta(e,t,r){e[0]+=t,e[1]+=r}pointToArray(e){return[e.x,e.y]}zFromArray(e){}hasZ(){return!1}unnormalize(e){R(e,this._unnormalizationInfo)}fromXYZ(e){return this.tag(o(e[0],e[1]))}toXYZ(e,t=0){return r(e[0],e[1],t)}}class y{constructor(e,t,r){this.valueType=e,this.spatialReference=t,this._unnormalizationInfo=z(t,r)}tag(e){return e}createNew(){return this.tag(a())}fromPoint(e){return this.tag(r(e.x,e.y,0===this.valueType?e.z:e.m))}fromArray(e){return this.tag(r(e[0],e[1],e[2]||0))}toArray(e){return[e[0],e[1],e[2]]}clone(e){return this.tag(n(e))}toPoint(e,t){return t.x=e[0],t.y=e[1],0===this.valueType?(t.z=e[2],t.hasZ=!0,t.hasM=!1):(t.m=e[2],t.hasZ=!1,t.hasM=!0),t.spatialReference=this.spatialReference,t}createPoint(e){return new t({x:e[0],y:e[1],z:0===this.valueType?e[2]:void 0,m:1===this.valueType?e[2]:void 0,spatialReference:this.spatialReference})}createPointFromArray(e){return new t({x:e[0],y:e[1],z:0===this.valueType?e[2]:void 0,m:1===this.valueType?e[2]:void 0,spatialReference:this.spatialReference})}createDehydratedPoint(e){const t=0===this.valueType,r=1===this.valueType;return{x:e[0],y:e[1],z:t?e[2]:void 0,m:r?e[2]:void 0,hasZ:t,hasM:r,spatialReference:this.spatialReference,type:\"point\"}}lerp(e,t,r,a){return i(a,e,t,r)}addDelta(e,t,r,a){e[0]+=t,e[1]+=r,0===this.valueType&&(e[2]+=a)}pointToArray(e){return 0===this.valueType?[e.x,e.y,e.z]:[e.x,e.y,e.m]}zFromArray(e){return 0===this.valueType?e[2]:void 0}hasZ(){return 0===this.valueType}unnormalize(e){R(e,this._unnormalizationInfo)}fromXYZ(e,t=0,a=0){return this.tag(r(e[0],e[1],0===this.valueType?e.length>2?e[2]:t:a))}toXYZ(e,t=0){return this.tag(r(e[0],e[1],0===this.valueType?e[2]:t))}}class d{constructor(e,t){this.spatialReference=e,this._unnormalizationInfo=z(e,t)}tag(e){return e}createNew(){return this.tag(h())}fromPoint(e){return this.tag(p(e.x,e.y,e.z,e.m))}fromArray(e){return this.tag(p(e[0],e[1],e[2]||0,e[3]||0))}toArray(e){return[e[0],e[1],e[2],e[3]]}clone(e){return this.tag(l(e))}toPoint(e,t){return t.x=e[0],t.y=e[1],t.z=e[2],t.m=e[3],t.hasZ=!0,t.hasM=!0,t.spatialReference=this.spatialReference,t}createPoint(e){return new t({x:e[0],y:e[1],z:e[2],m:e[3],spatialReference:this.spatialReference})}createPointFromArray(e){return new t({x:e[0],y:e[1],z:e[2],m:e[3],spatialReference:this.spatialReference})}createDehydratedPoint(e){return{x:e[0],y:e[1],z:e[2],m:e[3],hasZ:!0,hasM:!0,spatialReference:this.spatialReference,type:\"point\"}}lerp(e,t,r,a){return f(a,e,t,r)}addDelta(e,t,r,a){e[0]+=t,e[1]+=r,e[2]+=a}pointToArray(e){return[e.x,e.y,e.z,e.m]}zFromArray(e){return e[2]}hasZ(){return!0}unnormalize(e){R(e,this._unnormalizationInfo)}fromXYZ(e,t=0,r=0){return this.tag(p(e[0],e[1],e.length>2?e[2]:t,r))}toXYZ(e){return r(e[0],e[1],e[2])}}function v(e,t,r,a){return e&&t?new d(r,a):t?new y(1,r,a):e?new y(0,r,a):new m(r,a)}function R(e,t){if(!t.supported)return;let r=1/0,a=-1/0;const n=t.upperBoundX-t.lowerBoundX;e.forEach((e=>{let i=e.pos[0];for(;i<t.lowerBoundX;)i+=n;for(;i>t.upperBoundX;)i-=n;r=Math.min(r,i),a=Math.max(a,i),e.pos[0]=i}));const i=a-r;n-i<i&&e.forEach((e=>{e.pos[0]<0&&(e.pos[0]+=n)}))}function z(t,r){const a=e(t);return\"global\"===r&&a?{supported:!0,lowerBoundX:a.valid[0],upperBoundX:a.valid[1]}:{supported:!1,lowerBoundX:null,upperBoundX:null}}export{m as CoordinateHelper2D,y as CoordinateHelper3D,d as CoordinateHelper4D,v as createCoordinateHelper};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport t from\"../../../../../core/Evented.js\";class e{constructor({grabbableForEvent:e}){this.events=new t,this.interactive=!0,this.selectable=!1,this.cursor=null,this.grabbable=!0,this.grabbableForEvent=e}intersectionDistance(t,e){return 0}attach(){}detach(){}}export{e as DrawManipulator};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import\"../../../../../core/has.js\";import{unwrapOr as t,unwrap as i,isSome as r,isNone as n}from\"../../../../../core/maybe.js\";import\"../../../../../core/Logger.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import\"../../../../../core/accessorSupport/decorators/property.js\";import{subclass as s}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import\"../../../../../core/urlUtils.js\";import\"../../../../../core/uuid.js\";import\"../../../../../portal/support/resourceExtension.js\";import a from\"../../../../../geometry/Point.js\";import\"../../../../../geometry.js\";import o from\"../../../../../core/Evented.js\";import{createScreenPoint as p}from\"../../../../../core/screenUtils.js\";import c from\"../../../../../core/Handles.js\";import{watch as h}from\"../../../../../core/watchUtils.js\";import{createCoordinateHelper as d}from\"../coordinateHelper.js\";import{DrawManipulator as l}from\"./DrawManipulator.js\";import{ElevationDrawSurface as m}from\"./drawSurfaces.js\";import{EditGeometry as g,Component as u}from\"../editGeometry/EditGeometry.js\";import{EditGeometryHelper as y}from\"../editGeometry/EditGeometryHelper.js\";import{defaultDrawingMode as _}from\"../../../../draw/DrawingMode.js\";import{createManipulatorDragEventPipeline as v}from\"../../../../interactive/dragEventPipeline.js\";import{SnappingContext as x}from\"../../../../interactive/snapping/SnappingAlgorithm.js\";import{SnappingEngine as f}from\"../../../../interactive/snapping/SnappingEngine.js\";let w=class extends o{constructor(e){super(),this._manipulator=null,this._stagedVertex=null,this.geometryType=null,this.elevationInfo=null,this.snapToSceneEnabled=null,this._handles=new c,this._defaultZ=0,this._elevationDrawSurface=null,this._snappingDrawSurface=null,this._snappingEnabled=!1,this._createOperationCompleted=!1,this._pointerDownStates=new Set,this.view=e.view,this.drawingMode=t(e.drawingMode,_),this.geometryType=e.geometryType,this.elevationInfo=e.elevationInfo,this.coordinateHelper=d(e.hasZ,e.hasM,this.view.spatialReference,this.view.viewingMode),this._defaultZ=e.defaultZ,this.snapToSceneEnabled=e.snapToSceneEnabled,this.snappingEngine=new f(e.snappingOptions),this._snappingEnabled=e.snappingOptions.selfEnabled,this._handles.add(h(e.snappingOptions,\"selfEnabled\",(()=>{this._snappingEnabled=e.snappingOptions.selfEnabled}))),this._snappingDrawSurface=i(e.snappingDrawSurface),this._elevationDrawSurface=new m(this.elevationInfo,this._defaultZ,this.view),this._editGeometry=new y(new g(this.coordinateHelper),\"segment\"===this.geometryType?\"polyline\":this.geometryType),this._activeComponent=new u(this._editGeometry.data),this._editGeometry.data.components.push(this._activeComponent),this._editGeometry.on([\"vertex-add\",\"vertex-update\",\"vertex-remove\"],(e=>{const t=e.vertices.map((e=>({componentIndex:0,vertexIndex:e.index,coordinates:this.coordinateHelper.toArray(e.pos)}))),i=t.map((e=>e.coordinates));switch(e.type){case\"vertex-add\":this.emit(e.type,{...e,added:i,vertices:t});break;case\"vertex-update\":this.emit(e.type,{...e,updated:i,vertices:t});break;case\"vertex-remove\":this.emit(e.type,{...e,removed:i,vertices:t})}})),this._manipulator=new l({grabbableForEvent:e=>\"click\"!==this.drawingMode||\"touch\"===e.pointerType&&this._snappingEnabled&&1===this._pointerDownStates.size}),e.manipulators.add(this._manipulator),this._manipulator.grabbable=\"point\"!==this.geometryType;const n=this.createManipulatorDragPipeline(this._manipulator),s=this._manipulator.events.on(\"immediate-double-click\",(e=>{this._manipulator.dragging||\"point\"!==this.geometryType&&(this.complete(),e.stopPropagation())})),a=this._manipulator.events.on(\"immediate-click\",(e=>{if(this._manipulator.dragging)return;const t=this._activeComponent,i=this._closeOnClickVertexIndex(e.screenPoint);if(r(i))this.discardStagedVertex(),this.complete();else{const i=this._screenToMap(e.screenPoint);if(r(i))switch(this.drawingMode){case\"freehand\":break;case\"click\":case\"hybrid\":this.hasStagedVertex?this.commitStagedVertex():this._editGeometry.appendVertex(this.coordinateHelper.fromPoint(i)),(\"point\"===this.geometryType||\"segment\"===this.geometryType&&2===t.vertices.length||\"segment\"===this.geometryType&&\"hybrid\"===this.drawingMode&&1===t.vertices.length)&&this.complete()}}e.stopPropagation()}));this._handles.add([n,a,s])}get isCompleted(){return this._createOperationCompleted}createManipulatorDragPipeline(e){switch(this.drawingMode){case\"click\":return this.createManipulatorDragPipelineClick(e);case\"freehand\":return this.createManipulatorDragPipelineFreehand(e);case\"hybrid\":return this.createManipulatorDragPipelineHybrid(e)}}createManipulatorDragPipelineClick(e){return v(e,((e,t,r,n)=>{const s=\"touch\"===n&&this._snappingEnabled;if(this.isCompleted||!s)return;let a=null;t.next(this._screenToMapDragEventStep()).next((e=>(\"start\"===e.action&&(this.stagedVertex=e.mapStart,(\"segment\"===this.geometryType||s&&0===this.vertices.length)&&this.commitStagedVertex()),e))).next((e=>{switch(e.action){case\"start\":case\"update\":\"start\"===e.action&&s&&(a=new x(this._editGeometry,this.view,this.elevationInfo,n)),s&&(this.stagedVertex=this.snappingEngine.snap(e.mapEnd,i(a)));break;case\"end\":\"segment\"!==this.geometryType&&\"point\"!==this.geometryType||this.complete(),s&&(this.commitStagedVertex(),this.snappingEngine.doneSnapping())}return e})),r.next((()=>{s&&this.snappingEngine.doneSnapping()}))}))}createManipulatorDragPipelineFreehand(e){return v(e,((e,t)=>{this.isCompleted||t.next(this._screenToMapDragEventStep()).next((e=>(\"start\"===e.action&&(this.stagedVertex=e.mapStart,\"segment\"===this.geometryType&&this.commitStagedVertex()),e))).next((e=>{switch(e.action){case\"start\":case\"update\":this.stagedVertex=e.mapEnd,\"polygon\"!==this.geometryType&&\"polyline\"!==this.geometryType||this.commitStagedVertex();break;case\"end\":this.complete()}return e}))}))}createManipulatorDragPipelineHybrid(e){return v(e,((e,t)=>{this.isCompleted||t.next(this._screenToMapDragEventStep()).next((e=>(\"start\"===e.action&&(this.stagedVertex=e.mapStart,this.commitStagedVertex()),e))).next((e=>{switch(e.action){case\"start\":case\"update\":this.stagedVertex=e.mapEnd,\"polygon\"!==this.geometryType&&\"polyline\"!==this.geometryType||this.commitStagedVertex();break;case\"end\":\"segment\"!==this.geometryType&&\"point\"!==this.geometryType||this.complete()}return e}))}))}destroy(){this._handles.destroy(),this._handles=null}onInputEvent(e){switch(e.type){case\"pointer-down\":this._pointerDownStates.add(e.pointerId);break;case\"pointer-up\":this._pointerDownStates.delete(e.pointerId)}switch(e.type){case\"pointer-move\":{if(this._manipulator.dragging||this._pointerDownStates.has(e.pointerId)||this._manipulator.grabbing||!this._manipulator.interactive)return;const t=p(e.x,e.y),i=this._closeOnClickVertexIndex(t);if(r(i)){this.discardStagedVertex();const e={componentIndex:0,vertexIndex:i,coordinates:this.coordinateHelper.toArray(this._activeComponent.vertices[i].pos)};this.emit(\"cursor-update\",{updated:null,vertices:[e],operation:\"apply\",type:\"vertex-update\"})}else{const i=this._screenToMap(t);r(i)?(this.stagedVertex=this.snappingEngine.snap(i,new x(this._editGeometry,this.view,this.elevationInfo,e.pointerType)),this._manipulator.cursor=\"crosshair\"):this._manipulator.cursor=null}e.stopPropagation();break}case\"hold\":\"click\"===this.drawingMode&&\"touch\"===e.pointerType&&this._snappingEnabled&&(this.stagedVertex=e.mapPoint),e.stopPropagation()}}get canRedo(){return this._editGeometry.canRedo}redo(){this._editGeometry.redo()}get canUndo(){return this._editGeometry.canUndo}undo(){this.snappingEngine.doneSnapping(),this._editGeometry.undo()}complete(e=!1){this.commitStagedVertex(),this._createOperationCompleted=!0,this.snappingEngine.doneSnapping(),this.emit(\"complete\",{vertices:this.vertices.map(((e,t)=>({componentIndex:0,vertexIndex:t,coordinates:e}))),aborted:e,type:\"complete\"})}cancel(){this.complete(!0)}get interactive(){return this._manipulator.interactive}set interactive(e){this._manipulator.interactive=e}get numVertices(){return r(this._stagedVertex)?this._activeComponent.vertices.length+1:this._activeComponent.vertices.length}get numCommittedVertices(){return this._activeComponent.vertices.length}get vertices(){const e=this._activeComponent.vertices.map((e=>this.coordinateHelper.toArray(e.pos)));return r(this._stagedVertex)&&e.push(this.coordinateHelper.pointToArray(this._stagedVertex)),e}get spatialReference(){return this.view.spatialReference}get hasStagedVertex(){return r(this._stagedVertex)}get stagedVertex(){return this._stagedVertex}set stagedVertex(e){if(n(e))return void this.discardStagedVertex();this._stagedVertex=e;const t={componentIndex:0,vertexIndex:this._activeComponent.vertices.length,coordinates:this.coordinateHelper.pointToArray(e)};this.emit(\"cursor-update\",{updated:null,vertices:[t],operation:\"apply\",type:\"vertex-update\"})}commitStagedVertex(){if(r(this._stagedVertex)){const e=this._stagedVertex;this._stagedVertex=null,this._editGeometry.appendVertex(this.coordinateHelper.fromPoint(e))}}discardStagedVertex(){this._stagedVertex=null}_screenToMapDragEventStep(){let e=null;return t=>{if(\"start\"===t.action&&(e=this._screenToMap(t.screenStart)),n(e))return null;const i=this._screenToMap(t.screenEnd);return r(i)?{...t,mapStart:e,mapEnd:i}:null}}_screenToMap(e){return this._getDrawSurface().screenToMap(e)}_mapToScreen(e){return this._getDrawSurface().mapToScreen(e)}_getDrawSurface(){let e=null;if(this.coordinateHelper.hasZ){let t=this._defaultZ,i=!1;r(this.elevationInfo)&&\"absolute-height\"===this.elevationInfo.mode&&(i=!0),r(this.snapToSceneEnabled)&&(i=this.snapToSceneEnabled),r(this.elevationInfo)&&\"on-the-ground\"===this.elevationInfo.mode&&(i=!1);const n=this._activeComponent.vertices.length;(\"segment\"===this.geometryType||\"polygon\"===this.geometryType)&&n>0&&(t=this.coordinateHelper.zFromArray(this._activeComponent.vertices[0].pos),i=!1),i?e=this._snappingDrawSurface:(this._elevationDrawSurface.defaultZ=t,e=this._elevationDrawSurface)}else this._elevationDrawSurface.defaultZ=null,e=this._elevationDrawSurface;return e}_vertexWithinPointerDistance(e,t){const i=this._mapToScreen(e);return!!r(i)&&function(e,t,i){const r=e.x-t.x,n=e.y-t.y;return r*r+n*n<=i}(i,t,25)}_closeOnClickVertexIndex(e){const t=this._activeComponent;if(\"polygon\"===this.geometryType&&t.vertices.length>2){if(this._vertexWithinPointerDistance(this.coordinateHelper.toPoint(t.vertices[0].pos,S),e))return 0;if(this._vertexWithinPointerDistance(this.coordinateHelper.toPoint(t.vertices[t.vertices.length-1].pos,S),e))return t.vertices.length-1}return null}};w=e([s(\"esri.views.3d.interactive.editingTools.draw3D.DrawOperation\")],w);const S=new a({x:0,y:0,z:0});export{w as DrawOperation};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../../../../core/maybe.js\";import{createScreenPointArray as t}from\"../../../../../core/screenUtils.js\";import{getConvertedElevation as i,getZForElevationMode as s}from\"../../../../../support/elevationInfoUtils.js\";import{makeDehydratedPoint as o}from\"../../../../../layers/graphics/dehydratedFeatures.js\";class n{constructor(e,t,i){this.elevationInfo=e,this.defaultZ=t,this.view=i}screenToMap(i){if(e(this.defaultZ))return this.view.sceneIntersectionHelper.intersectElevationFromScreen(t(i.x,i.y),this.elevationInfo,this.defaultZ);const s=this.view.sceneIntersectionHelper.intersectElevationFromScreen(t(i.x,i.y),this.elevationInfo,0);return e(s)&&(s.z=void 0),s}mapToScreen(e){const t=o(e.x,e.y,i(this.view,e,this.elevationInfo),e.spatialReference);return this.view.toScreen(t)}}class r{constructor(e,t,i=[]){this.view=e,this.elevationInfo=t,this.exclude=i}screenToMap(t){const i=this.view.toMap(t,{exclude:this.exclude});return e(i)&&(i.z=s(i,this.view,this.elevationInfo)),i}mapToScreen(t){let s=t;return e(this.elevationInfo)&&(s=o(t.x,t.y,i(this.view,t,this.elevationInfo),t.spatialReference)),this.view.toScreen(s)}}export{n as ElevationDrawSurface,r as SceneDrawSurface};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport t from\"../../../../../geometry/Polygon.js\";import e from\"../../../../../geometry/Polyline.js\";import\"../../../../../geometry.js\";import{createCoordinateHelper as s}from\"../coordinateHelper.js\";class n{constructor(t){this.left=null,this.right=null,this.type=\"vertex\",this.index=null,this.component=t}get pos(){return this._pos}set pos(t){this._pos=t,this.component.unnormalizeVertexPositions()}}class i{constructor(t,e,s){this.type=\"edge\",this.component=t,this.left=e,this.right=s,e.right=this,s.left=this}}class o{constructor(t){this.vertices=[],this.edges=[],this.data=t}unnormalizeVertexPositions(){this.vertices.length<=1||this.data.coordinateHelper.unnormalize(this.vertices)}updateVertexIndex(t,e){if(0===this.vertices.length)return;const s=this.vertices[0];let n=null,i=t,o=e;do{n=i,n.index=o++,i=n.right?n.right.right:null}while(null!=i&&i!==s);n.left&&n!==this.vertices[this.vertices.length-1]&&this.swapVertices(this.vertices.indexOf(n),this.vertices.length-1)}findEndVertex(){return 0===this.vertices.length?null:this.vertices[this.vertices.length-1]}swapVertices(t,e){const s=this.vertices[t];this.vertices[t]=this.vertices[e],this.vertices[e]=s}}class r{constructor(t){this.coordinateHelper=t,this.undoStack=[],this.redoStack=[],this.components=[]}apply(t){t.apply(),this.undoStack.push(t),this.redoStack=[]}undo(){if(this.undoStack.length>0){const t=this.undoStack.pop();t.undo(),this.redoStack.push(t)}}get canUndo(){return this.undoStack.length>0}get lastOperation(){return this.undoStack.length>0?this.undoStack[this.undoStack.length-1]:null}redo(){if(this.redoStack.length>0){const t=this.redoStack.pop();t.apply(),this.undoStack.push(t)}}get canRedo(){return this.redoStack.length>0}toPoint(){return 0===this.components.length||0===this.components[0].vertices.length?null:this.coordinateHelper.createPoint(this.components[0].vertices[0].pos)}toPolyline(){const t=[],s=this.coordinateHelper.toArray;return this.components.forEach(((e,n)=>{const i=[];let o=e.vertices.find((t=>null==t.left));const r=o;do{i.push(s(o.pos)),o=o.right?o.right.right:null}while(o&&o!==r);t.push(i)})),new e({paths:t,spatialReference:this.coordinateHelper.spatialReference})}toPolygon(){const e=[],s=this.coordinateHelper.toArray;return this.components.forEach(((t,n)=>{const i=[],o=t.vertices[0];let r=o;const h=r;do{i.push(s(r.pos)),r=r.right.right}while(r&&r!==h);i.push(s(o.pos)),e.push(i)})),new t({rings:e,spatialReference:this.coordinateHelper.spatialReference})}static fromGeometry(t,e){const h=s(t.hasZ,t.hasM,t.spatialReference,e),c=new r(h);switch(t.type){case\"polygon\":{const e=t.rings;for(let t=0;t<e.length;++t){const s=e[t],r=new o(c),l=s.length-1;for(let t=0;t<l;++t){const e=h.fromArray(s[t]),i=new n(r);r.vertices.push(i),i.pos=e,i.index=t}const p=r.vertices.length-1;for(let t=0;t<p;++t){const e=r.vertices[t],s=r.vertices[t+1],n=new i(r,e,s);r.edges.push(n)}const a=new i(r,r.vertices[r.vertices.length-1],r.vertices[0]);r.edges.push(a),c.components.push(r)}}break;case\"polyline\":{const e=t.paths;for(let t=0;t<e.length;++t){const s=e[t],r=new o(c),l=s.length;for(let t=0;t<l;++t){const e=h.fromArray(s[t]),i=new n(r);r.vertices.push(i),i.pos=e,i.index=t}const p=r.vertices.length-1;for(let t=0;t<p;++t){const e=r.vertices[t],s=r.vertices[t+1],n=new i(r,e,s);r.edges.push(n)}c.components.push(r)}}}return c}}export{o as Component,i as Edge,r as EditGeometry,n as Vertex};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{isNone as e,isSome as t,unwrap as i}from\"../../../../../core/maybe.js\";import s from\"../../../../../core/Evented.js\";import{Vertex as r,Edge as h}from\"./EditGeometry.js\";export{Component,Edge,EditGeometry,Vertex}from\"./EditGeometry.js\";class d extends s{constructor(e,t){super(),this.data=e,this.type=t,this._dirty=!0,this._geometry=null}splitEdge(e,t){const i=new n(this,e,t);return this.data.apply(i),this._dirty=!0,i}moveVertices(e,t,i,s){let r=null;return this.data.lastOperation instanceof o&&this.data.lastOperation.canAccumulate(e)?(r=this.data.lastOperation,r.accumulate(t,i,s)):(r=new o(this,e,t,i,s),this.data.apply(r)),this._dirty=!0,r}removeVertices(e){let t=0;switch(this.type){case\"point\":t=1;break;case\"polyline\":t=2;break;case\"polygon\":t=3}const i=new a(this,e,t);return this.data.apply(i),this._dirty=!0,i}appendVertex(e){if(0===this.data.components.length)return null;const t=new l(this,this.data.components[0],e);return this.data.apply(t),this._dirty=!0,t}canRemoveVertex(){let e=0;switch(this.type){case\"point\":e=1;break;case\"polyline\":e=2;break;case\"polygon\":e=3}return this.data.components[0].vertices.length>e}undo(){this.data.undo(),this._dirty=!0}get canUndo(){return this.data.canUndo}redo(){this.data.redo(),this._dirty=!0}get canRedo(){return this.data.canRedo}get geometry(){if(this._dirty){switch(this.type){case\"point\":this._geometry=this.data.toPoint();break;case\"polyline\":this._geometry=this.data.toPolyline();break;case\"polygon\":this._geometry=this.data.toPolygon()}this._dirty=!1}return this._geometry}}class n{constructor(e,t,i){this.helper=e,this.edge=t,this.t=i,this.createdVertex=null,this.left=null,this.right=null}apply(){let t=\"redo\";const i=this.edge,s=i.component,d=i.component.data,n=i.left,o=i.right;s.edges.splice(s.edges.indexOf(i),1),e(this.createdVertex)&&(t=\"apply\",this.createdVertex=new r(i.component)),s.vertices.push(this.createdVertex),this.createdVertex.pos=d.coordinateHelper.lerp(i.left.pos,i.right.pos,this.t,d.coordinateHelper.createNew()),e(this.left)&&(this.left=new h(s,n,this.createdVertex)),this.left.left.left?s.edges.push(this.left):s.edges.unshift(this.left),n.right=this.left,e(this.right)&&(this.right=new h(s,this.createdVertex,o)),s.edges.push(this.right),o.left=this.right,s.updateVertexIndex(this.createdVertex,n.index+1);const a={type:\"vertex-add\",vertices:[this.createdVertex],operation:t};this.helper.emit(\"vertex-add\",a)}undo(){if(e(this.createdVertex)||e(this.left)||e(this.right))return null;const t=this.edge,i=t.component,s=this.createdVertex.left,r=this.createdVertex.right,h=s.left,d=r.right;i.vertices.splice(i.vertices.indexOf(this.createdVertex),1),i.edges.splice(i.edges.indexOf(this.left),1),i.edges.splice(i.edges.indexOf(this.right),1),this.edge.left.left?i.edges.push(this.edge):i.edges.unshift(this.edge),h.right=t,d.left=t,i.updateVertexIndex(h,h.index);const n={type:\"vertex-remove\",vertices:[this.createdVertex],operation:\"undo\"};this.helper.emit(\"vertex-remove\",n)}}class o{constructor(e,t,i,s,r){this.helper=e,this.applied=!1,this.vertices=t,this.dx=i,this.dy=s,this.dz=r}apply(){this.vertices.forEach((e=>{this.helper.data.coordinateHelper.addDelta(e.pos,this.dx,this.dy,this.dz)})),this.helper.data.components.forEach((e=>{e.unnormalizeVertexPositions()}));const e={type:\"vertex-update\",vertices:this.vertices,operation:this.applied?\"redo\":\"apply\"};this.helper.emit(\"vertex-update\",e),this.applied=!0}undo(){this.vertices.forEach((e=>{this.helper.data.coordinateHelper.addDelta(e.pos,-this.dx,-this.dy,-this.dz)}));const e={type:\"vertex-update\",vertices:this.vertices,operation:\"undo\"};this.helper.emit(\"vertex-update\",e)}canAccumulate(e){if(e.length!==this.vertices.length)return!1;for(let t=0;t<e.length;++t)if(e[t]!==this.vertices[t])return!1;return!0}accumulate(e,t,i){this.vertices.forEach((s=>{this.helper.data.coordinateHelper.addDelta(s.pos,e,t,i)})),this.dx+=e,this.dy+=t,this.dz+=i;const s={type:\"vertex-update\",vertices:this.vertices,operation:\"apply\"};this.helper.emit(\"vertex-update\",s)}}class a{constructor(e,t,i=0){this.helper=e,this.removedVertices=null,this._minNumberOfVertices=0,this.vertices=t,this._minNumberOfVertices=i}apply(){let e=\"redo\";null==this.removedVertices?(this.removedVertices=[],this.vertices.forEach((e=>{const i=this._removeVertex(e);t(i)&&this.removedVertices.push(i)})),e=\"apply\"):this.removedVertices.forEach((e=>{this._redoRemoveVertex(e)}));const i={type:\"vertex-remove\",vertices:this.vertices,operation:e};this.helper.emit(\"vertex-remove\",i)}undo(){this.removedVertices.forEach((e=>{this._undoRemoveVertex(e)}));const e={type:\"vertex-add\",vertices:this.vertices,operation:\"undo\"};this.helper.emit(\"vertex-add\",e)}_removeVertex(e){const t=e.component;if(t.vertices.length<=this._minNumberOfVertices)return null;const i={removedVertex:e,createdEdge:null},s=e.left,r=e.right;return t.vertices.splice(t.vertices.indexOf(e),1),s&&(t.edges.splice(t.edges.indexOf(s),1),s.left.right=null),r&&(t.edges.splice(t.edges.indexOf(r),1),r.right.left=null),0===e.index&&r&&this.vertices.length>0&&t.swapVertices(t.vertices.indexOf(r.right),0),s&&r&&(i.createdEdge=new h(t,s.left,r.right),t.edges.push(i.createdEdge)),r&&t.updateVertexIndex(r.right,r.right.index-1),i}_redoRemoveVertex(e){console.warn(\"redo remove vertex not implemented yet\")}_undoRemoveVertex(e){const t=e.removedVertex,i=e.removedVertex.component,s=t.left,r=t.right;e.createdEdge&&i.edges.splice(i.edges.indexOf(e.createdEdge),1),i.vertices.push(t),s&&(i.edges.push(s),s.left.right=s),r&&(i.edges.push(r),r.right.left=r),i.updateVertexIndex(t,t.index)}}class l{constructor(e,t,i){this.helper=e,this.component=t,this.pos=i,this.addedVertex=null,this.originalEdge=null,this.left=null,this.right=null}apply(){let s=\"redo\";if(e(this.addedVertex)&&(s=\"apply\",this.addedVertex=new r(this.component)),0===this.component.vertices.length)this.component.vertices.push(this.addedVertex),this.addedVertex.pos=this.pos,this.addedVertex.index=0;else{const s=i(this.component.findEndVertex());let r=null;s.right&&(this.originalEdge=s.right,r=this.originalEdge.right,this.component.edges.splice(this.component.edges.indexOf(this.originalEdge),1)),this.component.vertices.push(this.addedVertex),this.addedVertex.pos=this.pos,e(this.left)&&(this.left=new h(this.component,s,this.addedVertex)),this.component.edges.push(this.left),s.right=this.left,t(this.originalEdge)&&t(r)&&(e(this.right)&&(this.right=new h(this.component,this.addedVertex,r)),this.component.edges.push(this.right),r.left=this.right),this.component.updateVertexIndex(this.addedVertex,s.index+1)}const d={type:\"vertex-add\",vertices:[this.addedVertex],operation:s};this.helper.emit(\"vertex-add\",d)}undo(){if(e(this.addedVertex))return null;this.component.vertices.splice(this.component.vertices.indexOf(this.addedVertex),1),t(this.left)&&(this.component.edges.splice(this.component.edges.indexOf(this.left),1),this.left.left.right=null),t(this.right)&&(this.component.edges.splice(this.component.edges.indexOf(this.right),1),this.right.right.left=null),t(this.originalEdge)&&(this.component.edges.push(this.originalEdge),this.originalEdge.left.right=this.originalEdge,this.originalEdge.right.left=this.originalEdge),t(this.left)?this.component.updateVertexIndex(this.left.left,this.left.left.index):this.component.updateVertexIndex(this.addedVertex,0);const i={type:\"vertex-remove\",vertices:[this.addedVertex],operation:\"undo\"};this.helper.emit(\"vertex-remove\",i)}}export{l as AppendVertexOperation,d as EditGeometryHelper,a as RemoveVerticesOperation,n as SplitEdgeOperation,o as UpdateVerticesOperation};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport\"../../../../core/has.js\";import{isSome as e,unwrap as t,isNone as s,unwrapOr as i}from\"../../../../core/maybe.js\";import{c as r,f as n}from\"../../../../chunks/vec3f64.js\";import{g as a,f as l,m as o,p as h}from\"../../../../chunks/vec3.js\";import d from\"../../../../core/Handles.js\";import{g as p,c as _}from\"../../../../chunks/vec4.js\";import{f as c,g as u,d as f,b as m}from\"../../../../chunks/clipRay.js\";import{ray as g,lineSegment as y,frustum as x}from\"../../support/geometryUtils.js\";import w from\"../../webgl-engine/lib/GeometryUtil.js\";import b from\"../../webgl-engine/lib/Geometry.js\";import{RibbonVertexAttributeConstants as R}from\"../../webgl-engine/shaders/RibbonLineTechnique.js\";import{RibbonLineMaterial as E}from\"../../webgl-engine/materials/RibbonLineMaterial.js\";import{f as O,a as C}from\"../../../../chunks/vec4f32.js\";import{LaserlineVisualElement as P}from\"./LaserlineVisualElement.js\";import{Object3DVisualElement as A}from\"./Object3DVisualElement.js\";class j extends A{constructor(e){super(e),this._ray=g.create(),this._externalResources=null,this._handles=new d,this._isWorldDown=!1,this._start=r(),this._end=n(1,0,0),this._width=1,this._color=O(1,0,1,1),this._polygonOffset=!1,this._writeDepthEnabled=!0,this._innerWidth=0,this._innerColor=O(1,1,1,1),this._stippleIntegerRepeats=!0,this._stipplePattern=null,this._stippleOffColor=null,this._falloff=0,this._extensionType=0,this._laserlineStyle=null,this._laserlineEnabled=!1,this._renderOccluded=4,this._fadedExtensions=I,this.applyProps(e)}createExternalResources(){const e=new E(this.materialParameters,\"lineVisualElement\");this._handles.add(this.view.state.watch(\"camera\",(()=>{this.updateGeometry()})));const t=new P({view:this.view,attached:this._laserlineEnabled});this._externalResources={material:e,laserline:t}}destroyExternalResources(){e(this._externalResources)&&this._externalResources.laserline.destroy(),this._externalResources=null,this._handles.removeAll()}forEachExternalResource(t){e(this._externalResources)&&t(this._externalResources.material)}createGeometries(e){const s=[r(),r()],i=3===this.extensionType;i&&s.push(r(),r());const n=new b(w.createPolylineGeometry(s),\"lineVisualElement\");i&&(n.data.vertexAttributes[R.COLOR]={size:4,data:new Float32Array([1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,0]),offsetIdx:0,strideIdx:4},n.data.indices[R.COLOR]=new Uint32Array([0,1,2,3])),e.addGeometry(n,t(this._externalResources).material),this.updateVertices(n)}updateVisibility(t){super.updateVisibility(t),e(this._externalResources)&&(this._externalResources.laserline.visible=t)}setStartEndFromWorldDownAtLocation(e){this._isWorldDown=!0,a(this._start,e),this.view.renderCoordsHelper.worldUpAtPosition(e,this._end),l(this._end,e,this._end),g.fromPoints(this._start,this._end,this._ray),this.updateGeometry()}get start(){return this._start}set start(e){this._isWorldDown=!1,o(this._start,e)||(a(this._start,e),g.fromPoints(this._start,this._end,this._ray),this.updateGeometry())}get end(){return this._end}set end(e){this._isWorldDown=!1,o(this._end,e)||(a(this._end,e),g.fromPoints(this._start,this._end,this._ray),this.updateGeometry())}get width(){return this._width}set width(e){e!==this._width&&(this._width=e,this.updateMaterial())}get color(){return this._color}set color(e){p(e,this._color)||(_(this._color,e),this.updateMaterial())}get polygonOffset(){return this._polygonOffset}set polygonOffset(e){e!==this._polygonOffset&&(this._polygonOffset=e,this.updateMaterial())}get writeDepthEnabled(){return this._writeDepthEnabled}set writeDepthEnabled(e){this._writeDepthEnabled!==e&&(this._writeDepthEnabled=e,this.updateMaterial())}get innerWidth(){return this._innerWidth}set innerWidth(e){e!==this._innerWidth&&(this._innerWidth=e,this.updateMaterial())}get innerColor(){return this._innerColor}set innerColor(e){p(e,this._innerColor)||(_(this._innerColor,e),this.updateMaterial())}get stippleIntegerRepeats(){return this._stippleIntegerRepeats}set stippleIntegerRepeats(e){e!==this._stippleIntegerRepeats&&(this._stippleIntegerRepeats=e,this.updateMaterial())}get stipplePattern(){return this._stipplePattern}set stipplePattern(t){const s=e(t)!==e(this._stipplePattern);this._stipplePattern=t,s?this.recreate():this.updateMaterial()}get stippleOffColor(){return this._stippleOffColor}set stippleOffColor(t){(s(t)||s(this._stippleOffColor)||!p(t,this._stippleOffColor))&&(this._stippleOffColor=e(t)?C(t):null,this.updateMaterial())}get falloff(){return this._falloff}set falloff(e){e!==this._falloff&&(this._falloff=e,this.updateMaterial())}get extensionType(){return this._extensionType}set extensionType(e){e!==this._extensionType&&(this._extensionType=e,this.updateGeometry())}get _laserlineAttached(){return this._laserlineEnabled&&e(this._laserlineStyle)}get laserlineStyle(){return this._laserlineStyle}set laserlineStyle(t){this._laserlineStyle=t,e(this._externalResources)&&(this._externalResources.laserline.attached=this._laserlineAttached,e(t)&&(this._externalResources.laserline.style=t))}get laserlineEnabled(){return this._laserlineEnabled}set laserlineEnabled(t){this._laserlineEnabled!==t&&(this._laserlineEnabled=t,e(this._externalResources)&&(this._externalResources.laserline.attached=this._laserlineAttached))}get renderOccluded(){return this._renderOccluded}set renderOccluded(e){e!==this._renderOccluded&&(this._renderOccluded=e,this.updateMaterial())}get fadedExtensions(){return this._fadedExtensions}set fadedExtensions(e){this._fadedExtensions=i(e,I),this.recreateGeometry()}updateMaterial(){if(s(this._externalResources))return;this._externalResources.material.setParameterValues(this.materialParameters)}get materialParameters(){return{width:this._width,color:this._color,stippleOffColor:this._stippleOffColor,stipplePattern:this._stipplePattern,stippleIntegerRepeats:this._stippleIntegerRepeats,innerWidth:this._innerWidth,innerColor:this._innerColor,falloff:this._falloff,polygonOffset:this._polygonOffset,renderOccluded:this._renderOccluded,writeDepth:this._writeDepthEnabled}}updateGeometry(){e(this.object)&&this.updateVertices(this.object.geometries[0])}updateVertices(t){const s=3===this._extensionType?this.updateLineSegmentFinite(V):this.updateLineSegmentInfinite(this._extensionType,V);this.updateVertexAttributes(t,s),e(this._externalResources)&&(this._externalResources.laserline.intersectsLine=s)}updateLineSegmentFinite(e){return y.fromPoints(this._start,this._end,e)}updateLineSegmentInfinite(e,t){const s=this.view.state.camera;switch(c(this._ray,v),e){case 0:v.c0=-Number.MAX_VALUE;break;case 1:case 2:{const e=this._ray.origin,t=this.view.elevationProvider.getElevation(e[0],e[1],e[2],this.view.renderCoordsHelper.spatialReference,\"ground\")||0,s=this.view.renderCoordsHelper.getAltitude(e);this._isWorldDown&&s<t&&h(v.ray.direction,v.ray.direction),2===this._extensionType&&null!=t&&(v.c1=Math.abs(s-t));break}}if(!x.intersectClipRay(s.frustum.planes,v))return y.fromPoints(this._start,this._end,t);const i=u(v,D),r=f(v,M);return y.fromPoints(i,r,t)}updateVertexAttributes(t,s){const i=t.data.getVertexAttr()[R.POSITION].data;if(3===this.extensionType){{const e=y.pointAt(s,-this.fadedExtensions.start,D);i[0]=e[0],i[1]=e[1],i[2]=e[2]}{const e=y.pointAt(s,0,D);i[3]=e[0],i[4]=e[1],i[5]=e[2]}{const e=y.pointAt(s,1,D);i[6]=e[0],i[7]=e[1],i[8]=e[2]}{const e=y.pointAt(s,1+this.fadedExtensions.end,D);i[9]=e[0],i[10]=e[1],i[11]=e[2]}}else{{const e=y.pointAt(s,0,D);i[0]=e[0],i[1]=e[1],i[2]=e[2]}{const e=y.pointAt(s,1,D);i[3]=e[0],i[4]=e[1],i[5]=e[2]}}e(this.object)&&this.object.geometryVertexAttrsUpdated(0)}}const v=m(),D=r(),M=r(),V=y.create(),I={start:.3333333333333333,end:.3333333333333333};export{j as ExtendedLineVisualElement};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nfunction n(n){return n instanceof Float32Array&&n.length>=16}function r(n){return Array.isArray(n)&&n.length>=16}function t(t){return n(t)||r(t)}export{t as isMat4,n as isMat4f32,r as isMat4f64};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{ReloadableShaderModule as i}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as r}from\"../core/shaderTechnique/ShaderTechnique.js\";import{ShaderTechniqueConfiguration as t,parameter as o}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{Default3D as s}from\"../lib/DefaultVertexAttributeLocations.js\";import n from\"../../../webgl/Program.js\";import{defaultDepthWriteParams as a,makePipelineState as p,defaultColorWriteParams as l,simpleBlendingParams as d}from\"../../../webgl/renderState.js\";import{View as c}from\"../core/shaderLibrary/util/View.glsl.js\";import{Slice as h}from\"../core/shaderLibrary/Slice.glsl.js\";import{ScreenSizePerspective as u}from\"../core/shaderLibrary/util/ScreenSizePerspective.glsl.js\";import{HUD as g}from\"../core/shaderLibrary/hud/HUD.glsl.js\";import{HUDOcclusion as f}from\"../core/shaderLibrary/hud/HUDOcclusionPass.glsl.js\";import{OutputHighlight as m}from\"../core/shaderLibrary/output/OutputHighlight.glsl.js\";import{VisualVariables as b}from\"../core/shaderLibrary/shading/VisualVariables.glsl.js\";import{H as v,a as y}from\"../../../../chunks/HUDMaterial.glsl.js\";import{VerticalOffset as E}from\"../core/shaderLibrary/attributes/VerticalOffset.glsl.js\";import{OITBlending as P}from\"../lib/OrderIndependentTransparency.js\";class O extends r{initializeProgram(e){const i=O.shader.get(),r=this.configuration,t=i.build({output:r.output,FrontFacePass:2===r.transparencyPassType,viewingMode:e.viewingMode,occlusionTestEnabled:r.occlusionTestEnabled,signedDistanceFieldEnabled:r.sdf,slicePlaneEnabled:r.slicePlaneEnabled,sliceHighlightDisabled:!1,sliceEnabledForVertexPrograms:!0,debugDrawBorder:r.debugDrawBorder,binaryHighlightOcclusionEnabled:r.binaryHighlightOcclusion,screenCenterOffsetUnitsEnabled:r.screenCenterOffsetUnitsEnabled,screenSizePerspectiveEnabled:r.screenSizePerspective,verticalOffsetEnabled:r.verticalOffset,pixelSnappingEnabled:r.pixelSnappingEnabled,vvSize:r.vvSize,vvColor:r.vvColor,vvInstancingEnabled:!1,isDraped:r.isDraped});return new n(e.rctx,t.generateSource(\"vertex\"),t.generateSource(\"fragment\"),s)}bindPass(e,i,r){c.bindProjectionMatrix(this.program,r.camera.projectionMatrix),this.program.setUniform1f(\"cameraGroundRelative\",r.camera.aboveGround?1:-1),this.program.setUniform1f(\"perDistancePixelRatio\",Math.tan(r.camera.fovY/2)/(r.camera.fullViewport[2]/2)),this.program.setUniformMatrix4fv(\"viewNormal\",r.camera.viewInverseTransposeMatrix),this.program.setUniform1f(\"polygonOffset\",i.shaderPolygonOffset),E.bindUniforms(this.program,i,r),u.bindUniforms(this.program,i),this.program.setUniform1f(\"pixelRatio\",r.camera.pixelRatio||1),c.bindViewport(this.program,r),6===this.configuration.output?f.bindUniforms(this.program):(g.bindUniforms(this.program,r),v.bindUniforms(this.program,i,r.camera.pixelRatio||1),b.bindUniforms(this.program,i),this.configuration.occlusionTestEnabled&&g.bindVisibilityTexture(e,this.program,r)),4===this.configuration.output&&m.bindOutputHighlight(e,this.program,r)}bindDraw(e){c.bindView(this.program,e),c.bindCamPosition(this.program,e.origin,e.camera.viewInverseTransposeMatrix),h.bindUniformsWithOrigin(this.program,this.configuration,e)}setPipelineState(e){const i=this.configuration,r=3===e,t=2===e,o=this.configuration.polygonOffsetEnabled&&S,s=(r||t)&&4!==i.output?(i.depthEnabled||6===i.output)&&a:null;return p({blending:0===i.output||7===i.output||4===i.output?r?x:P(e):null,depthTest:{func:515},depthWrite:s,colorWrite:l,polygonOffset:o})}initializePipeline(){return this.setPipelineState(this.configuration.transparencyPassType)}get primitiveType(){return 6===this.configuration.output?0:4}}O.shader=new i(y,(()=>import(\"./HUDMaterial.glsl.js\")));const S={factor:0,units:-4},x=d(1,771);class j extends t{constructor(){super(...arguments),this.output=0,this.occlusionTestEnabled=!0,this.sdf=!1,this.vvSize=!1,this.vvColor=!1,this.verticalOffset=!1,this.screenSizePerspective=!1,this.screenCenterOffsetUnitsEnabled=0,this.debugDrawBorder=!0,this.binaryHighlightOcclusion=!0,this.slicePlaneEnabled=!1,this.polygonOffsetEnabled=!1,this.depthEnabled=!0,this.transparencyPassType=3,this.pixelSnappingEnabled=!0,this.isDraped=!1}}e([o({count:8})],j.prototype,\"output\",void 0),e([o()],j.prototype,\"occlusionTestEnabled\",void 0),e([o()],j.prototype,\"sdf\",void 0),e([o()],j.prototype,\"vvSize\",void 0),e([o()],j.prototype,\"vvColor\",void 0),e([o()],j.prototype,\"verticalOffset\",void 0),e([o()],j.prototype,\"screenSizePerspective\",void 0),e([o({count:2})],j.prototype,\"screenCenterOffsetUnitsEnabled\",void 0),e([o()],j.prototype,\"debugDrawBorder\",void 0),e([o()],j.prototype,\"binaryHighlightOcclusion\",void 0),e([o()],j.prototype,\"slicePlaneEnabled\",void 0),e([o()],j.prototype,\"polygonOffsetEnabled\",void 0),e([o()],j.prototype,\"depthEnabled\",void 0),e([o({count:4})],j.prototype,\"transparencyPassType\",void 0),e([o()],j.prototype,\"pixelSnappingEnabled\",void 0),e([o()],j.prototype,\"isDraped\",void 0);export{O as HUDMaterialTechnique,j as HUDMaterialTechniqueConfiguration};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../../../core/maybe.js\";import{clamp as t,sign as i}from\"../../../../core/mathUtils.js\";import{createRenderScreenPointArray3 as s}from\"../../../../core/screenUtils.js\";import{c as r,f as n}from\"../../../../chunks/vec3f64.js\";import{s as a,i as o,n as c,f as l,a as f,g as u,l as h,k as p,t as d,d as m,b as g}from\"../../../../chunks/vec3.js\";import{a as S}from\"../../../../chunks/mat4.js\";import{create as O}from\"../../../../geometry/support/aaBoundingRect.js\";import{a as v}from\"../../../../chunks/mat3f64.js\";import{a as x}from\"../../../../chunks/mat4f64.js\";import{a as P,f as A}from\"../../../../chunks/vec2f64.js\";import{f as b}from\"../../../../chunks/mat3.js\";import{c as q}from\"../../../../chunks/vec2.js\";import{newLayout as C}from\"../../support/buffer/InterleavedLayout.js\";import{computeAttachmentOriginPoints as y}from\"../lib/geometryDataUtils.js\";import{VertexAttrConstants as z,assert as T}from\"../lib/Util.js\";import{isInstanceHidden as I}from\"./renderers/utils.js\";import{applyScaleFactor as w,applyPrecomputedScaleFactor as U,precomputeScaleFactor as V}from\"../lib/screenSizePerspectiveUtils.js\";import{isMat4 as j}from\"../../../../core/libs/gl-matrix-2/types/mat4.js\";import M from\"../lib/GLMaterialTexture.js\";import{verticalOffsetAtDistance as R}from\"./internal/MaterialUtil.js\";import{Material as E,materialParametersDefaults as D}from\"../lib/Material.js\";import{writePosition as N,writeNormal as B,writeColor as L,writeBufferVec4 as G}from\"./internal/bufferWriterUtils.js\";import{c as X}from\"../../../../chunks/HUDMaterial.glsl.js\";import{HUDMaterialTechniqueConfiguration as k,HUDMaterialTechnique as H}from\"../shaders/HUDMaterialTechnique.js\";class F extends E{constructor(e,t){super(t,e,pe),this.techniqueConfig=new k}getTechniqueConfig(e,t){return this.techniqueConfig.output=e,this.techniqueConfig.slicePlaneEnabled=this.params.slicePlaneEnabled,this.techniqueConfig.verticalOffset=!!this.params.verticalOffset,this.techniqueConfig.screenSizePerspective=!!this.params.screenSizePerspective,this.techniqueConfig.screenCenterOffsetUnitsEnabled=\"screen\"===this.params.centerOffsetUnits?1:0,this.techniqueConfig.polygonOffsetEnabled=this.params.polygonOffset,this.techniqueConfig.isDraped=this.params.isDraped,this.techniqueConfig.occlusionTestEnabled=this.params.occlusionTest,this.techniqueConfig.pixelSnappingEnabled=this.params.pixelSnappingEnabled,this.techniqueConfig.sdf=this.params.textureIsSignedDistanceField,this.techniqueConfig.vvSize=!!this.params.vvSizeEnabled,this.techniqueConfig.vvColor=!!this.params.vvColorEnabled,0===e&&(this.techniqueConfig.debugDrawBorder=!!this.params.debugDrawBorder),4===e&&(this.techniqueConfig.binaryHighlightOcclusion=this.params.binaryHighlightOcclusion),this.techniqueConfig.depthEnabled=this.params.depthEnabled,this.techniqueConfig.transparencyPassType=t?t.transparencyPassType:3,this.techniqueConfig}intersect(e,t,i,s,r,n,a,o,c){c?this.intersectDrapedHudGeometry(e,n,a,o):this.intersectHudGeometry(e,t,i,s,a,o)}intersectDrapedHudGeometry(e,t,i,s){const r=e.getAttribute(z.POSITION),n=e.getAttribute(z.SIZE),a=this.params,o=X(a);let c=1,l=1;if(s){const e=s(ce);c=e[0],l=e[5]}c*=e.screenToWorldRatio,l*=e.screenToWorldRatio;const f=fe*e.screenToWorldRatio;for(let s=0;s<r.data.length/r.size;s++){const u=s*r.size,h=r.data[u],p=r.data[u+1],d=s*n.size;let m;ue[0]=n.data[d]*c,ue[1]=n.data[d+1]*l,a.textureIsSignedDistanceField&&(m=a.outlineSize*e.screenToWorldRatio/2),K(t,h,p,ue,f,m,a,o)&&i()}}intersectHudGeometry(e,t,i,s,n,d){if(!s.options.selectionMode||!s.options.hud)return;if(I(t))return;const m=e.data,g=this.params;let O=1,v=1;if(b(se,i),d){const e=d(ce);O=e[0],v=e[5],function(e){const t=e[0],i=e[1],s=e[2],r=e[3],n=e[4],a=e[5],o=e[6],c=e[7],l=e[8],f=1/Math.sqrt(t*t+i*i+s*s),u=1/Math.sqrt(r*r+n*n+a*a),h=1/Math.sqrt(o*o+c*c+l*l);e[0]=t*f,e[1]=i*f,e[2]=s*f,e[3]=r*u,e[4]=n*u,e[5]=a*u,e[6]=o*h,e[7]=c*h,e[8]=l*h}(se)}const x=m.getVertexAttr()[z.POSITION],P=m.getVertexAttr()[z.SIZE],A=m.getVertexAttr()[z.NORMAL],q=m.getVertexAttr()[z.AUXPOS1];T(x.size>=3);const C=s.point,y=s.camera,V=X(g);O*=y.pixelRatio,v*=y.pixelRatio;const j=\"screen\"===this.params.centerOffsetUnits;for(let e=0;e<x.data.length/x.size;e++){const t=e*x.size;a($,x.data[t],x.data[t+1],x.data[t+2]),o($,$,i);const d=e*P.size;ue[0]=P.data[d]*O,ue[1]=P.data[d+1]*v,o($,$,y.viewMatrix);const m=e*q.size;if(a(ae,q.data[m+0],q.data[m+1],q.data[m+2]),!j&&($[0]+=ae[0],$[1]+=ae[1],0!==ae[2])){const e=ae[2];c(ae,$),l($,$,f(ae,ae,e))}const b=e*A.size;if(a(_,A.data[b],A.data[b+1],A.data[b+2]),this.normalAndViewAngle(_,se,y,oe),this.applyVerticalOffsetTransformationView($,oe,y,Q),y.applyProjection($,ee),ee[0]>-1){let e=Math.floor(ee[0])+this.params.screenOffset[0],t=Math.floor(ee[1])+this.params.screenOffset[1];j&&(e+=ae[0],0!==ae[1]&&(t+=w(ae[1],Q.factorAlignment))),U(ue,Q.factor,ue);const i=le*y.pixelRatio;let a;if(g.textureIsSignedDistanceField&&(a=g.outlineSize*y.pixelRatio/2),K(C,e,t,ue,i,a,g,V)){const e=s.ray;if(o(ie,$,S(ne,y.viewMatrix)),ee[0]=C[0],ee[1]=C[1],y.unprojectFromRenderScreen(ee,$)){const t=r();u(t,e.direction);const i=1/h(t);f(t,t,i);n(p(e.origin,$)*i,t,-1,1,!0,ie)}}}}}computeAttachmentOrigin(e,t){const i=e.data,s=\"getVertexAttr\"in i?i.getVertexAttr():\"vertexAttr\"in i?i.vertexAttr:null;if(!s)return null;const r=z.POSITION,n=s[r],a=\"getIndices\"in i?i.getIndices(r):\"indices\"in i?i.indices[r]:null;return y(n,a,t)}createBufferWriter(){return new me(this)}normalAndViewAngle(e,t,i,s){return j(t)&&(t=b(re,t)),d(s.normal,e,t),o(s.normal,s.normal,i.viewInverseTransposeMatrix),s.cosAngle=m(te,he),s}updateScaleInfo(e,t,i){const s=this.params;s.screenSizePerspective?V(i,t,s.screenSizePerspective,e.factor):(e.factor.scale=1,e.factor.factor=0,e.factor.minPixelSize=0,e.factor.paddingPixels=0),s.screenSizePerspectiveAlignment?V(i,t,s.screenSizePerspectiveAlignment,e.factorAlignment):(e.factorAlignment.factor=e.factor.factor,e.factorAlignment.scale=e.factor.scale,e.factorAlignment.minPixelSize=e.factor.minPixelSize,e.factorAlignment.paddingPixels=e.factor.paddingPixels)}applyShaderOffsetsView(e,t,i,s,r,n,a){const o=this.normalAndViewAngle(t,i,r,oe);return this.applyVerticalGroundOffsetView(e,o,r,a),this.applyVerticalOffsetTransformationView(a,o,r,n),this.applyPolygonOffsetView(a,o,s[3],r,a),this.applyCenterOffsetView(a,s,a),a}applyShaderOffsetsNDC(t,i,s,r,n){return this.applyCenterOffsetNDC(t,i,s,r),e(n)&&u(n,r),this.applyPolygonOffsetNDC(r,i,s,r),r}applyPolygonOffsetView(e,s,r,n,a){const o=n.aboveGround?1:-1;let c=i(r);0===c&&(c=o);const l=o*c;if(this.params.shaderPolygonOffset<=0)return u(a,e);const h=t(Math.abs(s.cosAngle),.01,1),p=1-Math.sqrt(1-h*h)/h/n.viewport[2];return f(a,e,l>0?p:1/p),a}applyVerticalGroundOffsetView(e,t,i,s){const r=h(e),n=i.aboveGround?1:-1,a=.5*i.computeRenderPixelSizeAtDist(r),o=f($,t.normal,n*a);return g(s,e,o),s}applyVerticalOffsetTransformationView(e,t,i,s){const r=this.params;if(!r.verticalOffset||!r.verticalOffset.screenLength){if(r.screenSizePerspective||r.screenSizePerspectiveAlignment){const i=h(e);this.updateScaleInfo(s,i,t.cosAngle)}else s.factor.scale=1,s.factorAlignment.scale=1;return e}const n=h(e),a=r.screenSizePerspectiveAlignment||r.screenSizePerspective,o=R(i,n,r.verticalOffset,t.cosAngle,a);return this.updateScaleInfo(s,n,t.cosAngle),f(t.normal,t.normal,o),g(e,e,t.normal)}applyCenterOffsetView(e,t,i){const s=\"screen\"!==this.params.centerOffsetUnits;return i!==e&&u(i,e),s&&(i[0]+=t[0],i[1]+=t[1],t[2]&&(c(_,i),g(i,i,f(_,_,t[2])))),i}applyCenterOffsetNDC(e,t,i,s){const r=\"screen\"!==this.params.centerOffsetUnits;return s!==e&&u(s,e),r||(s[0]+=t[0]/i.fullWidth*2,s[1]+=t[1]/i.fullHeight*2),s}applyPolygonOffsetNDC(e,t,s,r){const n=this.params.shaderPolygonOffset;if(e!==r&&u(r,e),n){const e=s.aboveGround?1:-1,a=e*i(t[3]);r[2]-=(a||e)*n}return r}getGLMaterial(e){return 0===e.output||7===e.output?new Z(e):4===e.output?new J(e):void 0}calculateRelativeScreenBounds(e,t,i=O()){return function(e,t,i,s=Y){q(s,e.anchorPos),s[0]*=-t[0],s[1]*=-t[1],s[0]+=e.screenOffset[0]*i,s[1]+=e.screenOffset[1]*i}(this.params,e,t,i),i[2]=i[0]+e[0],i[3]=i[1]+e[1],i}}class W extends M{constructor(e){super({...e,...e.material.params}),this.updateParameters()}beginSlot(e){return e===(this.material.params.drawInSecondSlot?19:18)}updateParameters(e){this.updateTexture(this.material.params.textureId),this.selectProgram(e)}selectProgram(e){this.technique=this.techniqueRep.acquireAndReleaseExisting(H,this.material.getTechniqueConfig(this.output,e),this.technique)}ensureParameters(e){this.updateParameters(e)}bind(e,t){e.bindProgram(this.technique.program),this.bindTexture(e,this.technique.program),this.bindTextureScale(e,this.technique.program),this.technique.bindPass(e,this.material.params,t)}}class Z extends W{constructor(e){super(e),this.isOcclusionSlot=!1}beginSlot(e){const t=this.material.params.drawInSecondSlot?19:18;return this.material.params.occlusionTest?(this.isOcclusionSlot=12===e,12===e||e===t):(this.isOcclusionSlot=!1,e===t)}getTechnique(){return this.isOcclusionSlot?this.occlusionTechnique:this.technique}selectProgram(e){this.technique=this.techniqueRep.acquireAndReleaseExisting(H,this.material.getTechniqueConfig(this.output,e),this.technique),this.occlusionTechnique=this.techniqueRep.acquireAndReleaseExisting(H,this.material.getTechniqueConfig(6,e),this.occlusionTechnique)}bind(e,t){const i=this.getTechnique();e.bindProgram(i.program),this.isOcclusionSlot||(this.bindTexture(e,i.program),this.bindTextureScale(e,i.program)),i.bindPass(e,this.material.params,t)}}class J extends W{constructor(e){super({...e,output:4})}}function K(e,t,i,s,r,n,a,o){let c=t-r-(o[0]>0?s[0]*o[0]:0),l=c+s[0]+2*r,f=i-r-(o[1]>0?s[1]*o[1]:0),u=f+s[1]+2*r;if(a.textureIsSignedDistanceField){const e=a.distanceFieldBoundingBox;c+=s[0]*e[0],f+=s[1]*e[1],l-=s[0]*(1-e[2]),u-=s[1]*(1-e[3]),c-=n,l+=n,f-=n,u+=n}return e[0]>c&&e[0]<l&&e[1]>f&&e[1]<u}const Q={factor:{scale:0,factor:0,minPixelSize:0,paddingPixels:0},factorAlignment:{scale:0,factor:0,minPixelSize:0,paddingPixels:0}},Y=P(),$=r(),_=r(),ee=s(),te=r(),ie=r(),se=v(),re=v(),ne=x(),ae=r(),oe={normal:te,cosAngle:0},ce=x(),le=1,fe=2,ue=[0,0],he=n(0,0,1),pe={texCoordScale:[1,1],occlusionTest:!0,binaryHighlightOcclusion:!0,drawInSecondSlot:!1,color:[1,1,1,1],outlineColor:[1,1,1,1],outlineSize:0,textureIsSignedDistanceField:!1,distanceFieldBoundingBox:null,vvSizeEnabled:!1,vvSizeMinSize:[1,1,1],vvSizeMaxSize:[100,100,100],vvSizeOffset:[0,0,0],vvSizeFactor:[1,1,1],vvColorEnabled:!1,vvColorValues:[0,0,0,0,0,0,0,0],vvColorColors:[1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0],screenOffset:[0,0],verticalOffset:null,screenSizePerspective:null,screenSizePerspectiveAlignment:null,slicePlaneEnabled:!1,anchorPos:A(.5,.5),shaderPolygonOffset:1e-5,polygonOffset:!1,textureId:null,centerOffsetUnits:\"world\",depthEnabled:!0,pixelSnappingEnabled:!0,debugDrawBorder:!1,isDraped:!1,...D},de=C().vec3f(z.POSITION).vec3f(z.NORMAL).vec2f(z.UV0).vec4u8(z.COLOR).vec2f(z.SIZE).vec4f(z.AUXPOS1).vec4f(z.AUXPOS2);class me{constructor(e){this.material=e,this.vertexBufferLayout=de}allocate(e){return this.vertexBufferLayout.createBuffer(e)}elementCount(e){return 6*e.indices[z.POSITION].length}write(e,t,i,s){N(t.indices[z.POSITION],t.vertexAttr[z.POSITION].data,e.transformation,i.position,s,6),B(t.indices[z.NORMAL],t.vertexAttr[z.NORMAL].data,e.invTranspTransformation,i.normal,s,6);{const e=t.vertexAttr[z.UV0].data;let r,n,a,o;if(null==e||e.length<4){const e=this.material.params;r=0,n=0,a=e.texCoordScale[0],o=e.texCoordScale[1]}else r=e[0],n=e[1],a=e[2],o=e[3];a=Math.min(1.99999,a+1),o=Math.min(1.99999,o+1);const c=t.indices[z.POSITION].length,l=i.uv0;let f=s;for(let e=0;e<c;++e)l.set(f,0,r),l.set(f,1,n),f+=1,l.set(f,0,a),l.set(f,1,n),f+=1,l.set(f,0,a),l.set(f,1,o),f+=1,l.set(f,0,a),l.set(f,1,o),f+=1,l.set(f,0,r),l.set(f,1,o),f+=1,l.set(f,0,r),l.set(f,1,n),f+=1}L(t.indices[z.COLOR],t.vertexAttr[z.COLOR].data,4,i.color,s,6);{const e=t.indices[z.SIZE],r=t.vertexAttr[z.SIZE].data,n=e.length,a=i.size;let o=s;for(let t=0;t<n;++t){const i=r[2*e[t]],s=r[2*e[t]+1];for(let e=0;e<6;++e)a.set(o,0,i),a.set(o,1,s),o+=1}}t.indices[z.AUXPOS1]&&t.vertexAttr[z.AUXPOS1]&&G(t.indices[z.AUXPOS1],t.vertexAttr[z.AUXPOS1].data,i.auxpos1,s,6),t.indices[z.AUXPOS2]&&t.vertexAttr[z.AUXPOS2]&&G(t.indices[z.AUXPOS2],t.vertexAttr[z.AUXPOS2].data,i.auxpos2,s,6)}}export{F as HUDMaterial};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport\"../../../../core/has.js\";import{packFloatRGBA as t}from\"../../webgl-engine/lib/Util.js\";function r(t,r,u){switch(t){case\"circle\":return n(r,u);case\"square\":return e(r,u);case\"cross\":return o(r,u);case\"x\":return s(r,u);case\"kite\":return a(r,u);case\"triangle\":return c(r,u);default:return n(r,u)}}function n(r,n){const e=r,a=new Uint8Array(4*e*e),o=e/2-.5,s=n/2;for(let n=0;n<e;n++)for(let c=0;c<e;c++){const u=c+e*n,i=c-o,f=n-o;let l=Math.sqrt(i*i+f*f)-s;l=l/r+.5,t(l,a,4*u)}return a}function e(t,r){return u(t,r,!1)}function a(t,r){return u(t,r,!0)}function o(t,r){return i(t,r,!1)}function s(t,r){return i(t,r,!0)}function c(r,n){const e=new Uint8Array(4*r*r),a=-.5,o=Math.sqrt(1.25),s=(r-n)/2;for(let c=0;c<r;c++)for(let u=0;u<r;u++){const i=c*r+u,f=(u-s)/n,l=(c-s+.75)/n,h=-(1*f+a*l)/o,M=(1*(f-1)+a*-l)/o,b=-l,w=Math.max(h,M,b);t(w*n/r+.5,e,4*i)}return e}function u(r,n,e){e&&(n/=Math.SQRT2);const a=new Uint8Array(4*r*r);for(let o=0;o<r;o++)for(let s=0;s<r;s++){let c=s-.5*r+.25,u=.5*r-o-.75;const i=o*r+s;if(e){const t=(c+u)/Math.SQRT2;u=(u-c)/Math.SQRT2,c=t}let f=Math.max(Math.abs(c),Math.abs(u))-.5*n;f=f/r+.5,t(f,a,4*i)}return a}function i(r,n,e){e&&(n*=Math.SQRT2);const a=.5*n,o=new Uint8Array(4*r*r);for(let n=0;n<r;n++)for(let s=0;s<r;s++){let c=s-.5*r,u=.5*r-n-1;const i=n*r+s;if(e){const t=(c+u)/Math.SQRT2;u=(u-c)/Math.SQRT2,c=t}let f;c=Math.abs(c),u=Math.abs(u),f=c>u?c>a?Math.sqrt((c-a)*(c-a)+u*u):u:u>a?Math.sqrt(c*c+(u-a)*(u-a)):c,f=f/r+.5,t(f,o,4*i)}return o}export{n as createCircle,o as createCross,a as createKite,e as createSquare,c as createTriangle,r as createType,s as createX};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{isSome as e,isNone as t}from\"../../../../core/maybe.js\";import{clamp as r,nextHighestPowerOfTwo as i}from\"../../../../core/mathUtils.js\";import{c as s}from\"../../../../chunks/vec3f64.js\";import{s as o}from\"../../../../chunks/vec3.js\";import{projectVectorToVector as n}from\"../../../../geometry/projection.js\";import{b as a}from\"../../../../chunks/vec4f64.js\";import{g as l,c as u}from\"../../../../chunks/vec4.js\";import{expandWithBuffer as c}from\"../../../../geometry/support/aaBoundingBox.js\";import{sv3d as h}from\"../../support/stack.js\";import{VertexAttrConstants as m}from\"../../webgl-engine/lib/Util.js\";import p from\"../../webgl-engine/lib/GeometryUtil.js\";import{HUDMaterial as g}from\"../../webgl-engine/materials/HUDMaterial.js\";import{evaluateElevationAlignmentAtPoint as d}from\"../../layers/graphics/elevationAlignmentUtils.js\";import{ElevationContext as f}from\"../../layers/graphics/ElevationContext.js\";import y from\"../../webgl-engine/lib/Geometry.js\";import{createType as _}from\"../../layers/graphics/sdfPrimitives.js\";import v from\"../../webgl-engine/lib/Texture.js\";import{VisualElementResources as S}from\"./VisualElementResources.js\";class b{constructor(t){this.view=null,this._geometry=null,this._size=3,this._color=a(1,0,1,1),this._pixelSnappingEnabled=!0,this._primitive=\"square\",this._outlineSize=1,this._outlineColor=a(1,1,1,1),this._elevationInfo=null,this.resources=new S({view:t.view,createResources:e=>this.createResources(e),recreateGeometry:(t,r)=>(t.geometry=this.recreateGeometry(r,t.material),e(t.geometry)?[t.geometry]:[])});let r=!0;for(const e in t)e in this?\"attached\"===e?r=t[e]:this[e]=t[e]:console.error(\"Cannot set unknown property\",e);this.attached=r}destroy(){this.resources.destroy()}get visible(){return this.resources.visible}set visible(e){this.resources.visible=e}get attached(){return this.resources.attached}set attached(e){this.resources.attached=e}get geometry(){return this._geometry}set geometry(e){this._geometry=e,this.resources.recreateGeometry()}get size(){return this._size}set size(t){if(t!==this._size){const r=this.preferredTextureSize;this._size=t,r<this.preferredTextureSize?e(this.resources)&&this.resources.recreate():this.updateSizeAttribute()}}get color(){return this._color}set color(e){l(e,this._color)||(u(this._color,e),this.updateMaterial())}get pixelSnappingEnabled(){return this._pixelSnappingEnabled}set pixelSnappingEnabled(e){this._pixelSnappingEnabled!==e&&(this._pixelSnappingEnabled=e,this.updateMaterial())}get primitive(){return this._primitive}set primitive(t){this._primitive!==t&&(this._primitive=t,e(this.resources)&&this.resources.recreate())}get outlineSize(){return this._outlineSize}set outlineSize(e){e!==this._outlineSize&&(this._outlineSize=e,this.updateMaterial())}get outlineColor(){return this._outlineColor}set outlineColor(e){l(e,this._outlineColor)||(u(this._outlineColor,e),this.updateMaterial())}get elevationInfo(){return this._elevationInfo}set elevationInfo(e){this._elevationInfo=e,this.resources&&this.resources.recreateGeometry()}updateMaterial(){const e=this.resources.resources;t(e)||e.material.setParameterValues(this.materialParameters(e.texture.id))}updateSizeAttribute(){const e=this.resources.resources,r=this.resources.object;if(t(e)||t(r))return;const i=e.geometry;if(t(i))return;const s=i.data.getVertexAttr()[m.SIZE].data,o=this.geometrySize;s[0]=o,s[1]=o,r.geometryVertexAttrsUpdated(0)}materialParameters(e){return{color:this._color,textureIsSignedDistanceField:!0,distanceFieldBoundingBox:z,occlusionTest:!1,outlineColor:this._outlineColor,outlineSize:this._outlineSize,textureId:e,polygonOffset:!1,shaderPolygonOffset:0,drawInSecondSlot:!0,depthEnabled:!1,pixelSnappingEnabled:this.pixelSnappingEnabled}}get geometrySize(){return this._size/x}recreateGeometry(t,r){const i=this.createRenderGeometry();return e(i)&&t.addGeometry(i,r),i}createResources(t){const r=this.createTexture(),i=new g(this.materialParameters(r.id),\"pointVisualElement\"),s=this.recreateGeometry(t,i);return{material:i,texture:r,geometry:s,forEach(t){t(r),t(i),e(this.geometry)&&t(this.geometry)}}}get preferredTextureSize(){return r(i(2*this.geometrySize),16,128)}createTexture(){const e=this.preferredTextureSize;return new v(_(this._primitive,e,e*x),\"pointVisualElement\",{mipmap:!1,wrap:{s:33071,t:33071},width:e,height:e,components:4,noUnpackFlip:!0})}calculateMapBounds(e){if(t(this.resources.resources)||t(this.resources.resources.geometry))return!1;const r=this.resources.resources.geometry.data.getAttribute(\"position\");return n(r.data,this.view.renderCoordsHelper.spatialReference,j,this.view.spatialReference),c(e,j),!0}createRenderGeometry(){const e=this.geometry;if(t(e))return null;const r=this.view.renderCoordsHelper,i=d(e,this.view.elevationProvider,f.fromElevationInfo(this.elevationInfo),r),s=o(h.get(),e.x,e.y,i),a=h.get();n(s,e.spatialReference,a,r.spatialReference);const l=this.geometrySize,u=p.createPointGeometry(null,a,null,[l,l],[0,0,0,1]);return new y(u)}}const x=.5,z=[x/2,x/2,1-x/2,1-x/2],j=s();export{b as PointVisualElement};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{isSome as e,isNone as s}from\"../../../../core/maybe.js\";import{init as r}from\"../../../../core/watchUtils.js\";import t from\"../../webgl-engine/lib/Object3D.js\";import o from\"../../webgl-engine/lib/Geometry.js\";import i from\"../../webgl-engine/lib/Layer.js\";import c from\"../../webgl-engine/lib/Texture.js\";class a{constructor(e){this.resourceFactory=e,this._resources=null,this._visible=!0,this._attached=!1}destroy(){this._destroyResources()}get object(){return e(this._resources)?this._resources.object:null}get resources(){return e(this._resources)?this._resources.external:null}get visible(){return this._visible}set visible(e){e!==this._visible&&(this._visible=e,this._syncVisible())}get attached(){return this._attached}set attached(e){e!==this._attached&&(this._attached=e,this._createOrDestroyResources())}recreate(){this.attached&&this._createResources()}recreateGeometry(){if(!this.resourceFactory.recreateGeometry)return void this.recreate();const e=this.resourceFactory.view._stage;if(s(this._resources)||!e)return;const r=this._resources.object;this._resources.external.forEach((s=>{s instanceof o&&e.remove(2,s.id)})),r.removeAllGeometries();const t=this.resourceFactory.recreateGeometry(this._resources.external,r,this._resources.layer);for(const s of t)e.add(2,s)}_createOrDestroyResources(){this._attached?this._resources||this._createResources():this._destroyResources()}_createResources(){this._destroyResources();const e=this.resourceFactory.view._stage;if(!e)return;const s=new i(\"element\",{isPickable:!1});e.add(0,s),e.addToViewContent([s.id]);const o=new t({idHint:\"element\",castShadow:!1}),c=this.resourceFactory.createResources(o,s);c.forEach((s=>{e.add(this._contentTypeFromResource(s),s)})),e.add(1,o),s.addObject(o),o.setVisible(this._visible);const a=this.resourceFactory.cameraChanged?r(this.resourceFactory.view.state,\"camera\",(e=>this.resourceFactory.cameraChanged(e))):null;this._resources={layer:s,object:o,external:c,cameraHandle:a}}_contentTypeFromResource(e){return e instanceof o?2:e instanceof c?4:3}_destroyResources(){if(s(this._resources))return;const e=this.resourceFactory.view._stage;null==e||e.remove(1,this._resources.object.id),null==e||e.remove(0,this._resources.layer.id),this._resources.external.forEach((s=>{null==e||e.remove(this._contentTypeFromResource(s),s.id),\"dispose\"in s&&s.dispose()})),this._resources.object.dispose(),this._resources.cameraHandle&&this._resources.cameraHandle.remove(),this._resources=null}_syncVisible(){s(this._resources)||this._resources.object.setVisible(this._visible)}}export{a as VisualElementResources};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/Logger.js\";import{loadArcade as t}from\"../../../../support/arcadeOnDemand.js\";import{hydrateGeometry as r}from\"../../../../layers/graphics/hydratedFeatures.js\";const n=e.getLogger(\"esri.views.3d.layers.graphics.featureExpressionInfoUtils\");function c(e){return{cachedResult:e.cachedResult,arcade:e.arcade?{func:e.arcade.func,context:e.arcade.modules.arcadeUtils.createExecContext(null,{sr:e.arcade.context.spatialReference}),modules:e.arcade.modules}:null}}function o(e){const t=e&&e.expression;if(\"string\"==typeof t){const e=p(t);if(null!=e)return{cachedResult:e}}return null}async function a(e,r,n){const c=e&&e.expression;if(\"string\"!=typeof c)return null;const o=p(c);if(null!=o)return{cachedResult:o};const a=await t(),u=a.arcadeUtils,s=u.createSyntaxTree(c);return u.dependsOnView(s)?(null!=n&&n.error(\"Expressions containing '$view' are not supported on ElevationInfo\"),{cachedResult:0}):{arcade:{func:u.createFunction(s),context:u.createExecContext(null,{sr:r}),modules:a}}}function u(e,t,r){return e.arcadeUtils.createFeature(t.attributes,t.geometry,r)}function s(e,t){if(null!=e&&!f(e)){if(!t||!e.arcade)return void n.errorOncePerTick(\"Arcade support required but not provided\");const c=t;c._geometry&&(c._geometry=r(c._geometry)),e.arcade.modules.arcadeUtils.updateExecContext(e.arcade.context,t)}}function l(e){if(null!=e){if(f(e))return e.cachedResult;const t=e.arcade;let r=e.arcade.modules.arcadeUtils.executeFunction(t.func,t.context);return\"number\"!=typeof r&&(e.cachedResult=0,r=0),r}return 0}function i(e,t=!1){let r=e&&e.featureExpressionInfo;const n=r&&r.expression;return t||\"0\"===n||(r=null),r}const d={cachedResult:0};function f(e){return null!=e.cachedResult}function p(e){return\"0\"===e?0:null}export{c as clone,a as createContext,o as createContextWithoutExpressionSupport,u as createFeature,l as execute,i as extractExpressionInfo,s as setContextFeature,d as zeroContext};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{unwrapOr as t,isNone as e,isSome as n}from\"../../../../core/maybe.js\";import{getMetersPerUnit as s,supportsUnit as i}from\"../../../../symbols/support/unitConversionUtils.js\";import{execute as r,clone as o,setContextFeature as f,createFeature as u}from\"./featureExpressionInfoUtils.js\";class h{constructor(){this._meterUnitOffset=0,this._renderUnitOffset=0,this._unit=\"meters\",this._metersPerElevationInfoUnit=1,this._featureExpressionInfoContext=null,this.centerPointInElevationSR=null,this.mode=null}get featureExpressionInfoContext(){return this._featureExpressionInfoContext}get meterUnitOffset(){return this._meterUnitOffset}get unit(){return this._unit}set unit(t){this._unit=t,this._metersPerElevationInfoUnit=s(t)}reset(){this.mode=null,this._meterUnitOffset=0,this._renderUnitOffset=0,this._featureExpressionInfoContext=null,this.unit=\"meters\"}set offsetMeters(t){this._meterUnitOffset=t,this._renderUnitOffset=0}set offsetElevationInfoUnits(t){this._meterUnitOffset=t*this._metersPerElevationInfoUnit,this._renderUnitOffset=0}addOffsetRenderUnits(t){this._renderUnitOffset+=t}geometryZWithOffset(t,e){const n=this.calculateOffsetRenderUnits(e);return null!=this.featureExpressionInfoContext?n:t+n}calculateOffsetRenderUnits(t){let e=this._meterUnitOffset;const n=this.featureExpressionInfoContext;return null!=n&&(e+=r(n)*this._metersPerElevationInfoUnit),e/t.unitInMeters+this._renderUnitOffset}setFromElevationInfo(e){this.mode=e.mode,this.unit=i(e.unit)?e.unit:\"meters\",this.offsetElevationInfoUnits=t(e.offset,0)}updateFeatureExpressionInfoContext(t,s,i){if(e(t))return void(this._featureExpressionInfoContext=null);const r=t&&t.arcade;r&&n(s)&&n(i)?(this._featureExpressionInfoContext=o(t),f(this._featureExpressionInfoContext,u(r.modules,s,i))):this._featureExpressionInfoContext=t}static fromElevationInfo(t){const e=new h;return n(t)&&e.setFromElevationInfo(t),e}}export{h as ElevationContext};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../../shaderModules/interfaces.js\";import{ScreenSizePerspective as r}from\"../util/ScreenSizePerspective.glsl.js\";function t(t,l){const c=t.vertex.code;l.verticalOffsetEnabled?(t.vertex.uniforms.add(\"verticalOffset\",\"vec4\"),l.screenSizePerspectiveEnabled&&(t.include(r),t.vertex.uniforms.add(\"screenSizePerspectiveAlignment\",\"vec4\")),c.add(e`\n    vec3 calculateVerticalOffset(vec3 worldPos, vec3 localOrigin) {\n      float viewDistance = length((view * vec4(worldPos, 1.0)).xyz);\n      ${1===l.viewingMode?e`vec3 worldNormal = normalize(worldPos + localOrigin);`:e`vec3 worldNormal = vec3(0.0, 0.0, 1.0);`}\n      ${l.screenSizePerspectiveEnabled?e`\n          float cosAngle = dot(worldNormal, normalize(worldPos - camPos));\n          float verticalOffsetScreenHeight = screenSizePerspectiveScaleFloat(verticalOffset.x, abs(cosAngle), viewDistance, screenSizePerspectiveAlignment);`:e`\n          float verticalOffsetScreenHeight = verticalOffset.x;`}\n      // Screen sized offset in world space, used for example for line callouts\n      float worldOffset = clamp(verticalOffsetScreenHeight * verticalOffset.y * viewDistance, verticalOffset.z, verticalOffset.w);\n      return worldNormal * worldOffset;\n    }\n\n    vec3 addVerticalOffset(vec3 worldPos, vec3 localOrigin) {\n      return worldPos + calculateVerticalOffset(worldPos, localOrigin);\n    }\n    `)):c.add(e`\n    vec3 addVerticalOffset(vec3 worldPos, vec3 localOrigin) { return worldPos; }\n    `)}function l(e,r,t,l=c){return l.screenLength=e.screenLength,l.perDistance=Math.tan(.5*r)/(.5*t),l.minWorldLength=e.minWorldLength,l.maxWorldLength=e.maxWorldLength,l}!function(e){e.bindUniforms=function(e,r,t){if(!r.verticalOffset)return;const c=l(r.verticalOffset,t.camera.fovY,t.camera.fullViewport[3]),i=t.camera.pixelRatio||1;e.setUniform4f(\"verticalOffset\",c.screenLength*i,c.perDistance,c.minWorldLength,c.maxWorldLength)}}(t||(t={}));const c={screenLength:0,perDistance:0,minWorldLength:0,maxWorldLength:0};export{t as VerticalOffset,l as calculateVerticalOffsetFactors};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../../shaderModules/interfaces.js\";function c(c){const i=e`\n    vec4 alignToPixelCenter(vec4 clipCoord, vec2 widthHeight) {\n      vec2 xy = vec2(0.500123) + 0.5 * clipCoord.xy / clipCoord.w;\n      vec2 pixelSz = vec2(1.0) / widthHeight;\n      vec2 ij = (floor(xy * widthHeight) + vec2(0.5)) * pixelSz;\n      vec2 result = (ij * 2.0 - vec2(1.0)) * clipCoord.w;\n      return vec4(result, clipCoord.zw);\n    }\n  `,o=e`\n\n    vec4 alignToPixelOrigin(vec4 clipCoord, vec2 widthHeight) {\n      vec2 xy = vec2(0.5) + 0.5 * clipCoord.xy / clipCoord.w;\n      vec2 pixelSz = vec2(1.0) / widthHeight;\n      vec2 ij = floor((xy + 0.5 * pixelSz) * widthHeight) * pixelSz;\n      vec2 result = (ij * 2.0 - vec2(1.0)) * clipCoord.w;\n      return vec4(result, clipCoord.zw);\n    }\n  `;c.vertex.code.add(i),c.vertex.code.add(o),c.fragment.code.add(i),c.fragment.code.add(o)}export{c as AlignPixel};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../../shaderModules/interfaces.js\";import{ScreenSizePerspective as t}from\"../util/ScreenSizePerspective.glsl.js\";function o(o,a){const i=o;i.include(t),i.attributes.add(\"position\",\"vec3\"),i.attributes.add(\"normal\",\"vec3\"),i.attributes.add(\"auxpos1\",\"vec4\"),i.vertex.uniforms.add(\"proj\",\"mat4\"),i.vertex.uniforms.add(\"view\",\"mat4\"),i.vertex.uniforms.add(\"viewNormal\",\"mat4\"),i.vertex.uniforms.add(\"viewport\",\"vec4\"),i.vertex.uniforms.add(\"camPos\",\"vec3\"),i.vertex.uniforms.add(\"polygonOffset\",\"float\"),i.vertex.uniforms.add(\"cameraGroundRelative\",\"float\"),i.vertex.uniforms.add(\"pixelRatio\",\"float\"),i.vertex.uniforms.add(\"perDistancePixelRatio\",\"float\"),i.vertex.uniforms.add(\"uRenderTransparentlyOccludedHUD\",\"float\"),a.verticalOffsetEnabled&&i.vertex.uniforms.add(\"verticalOffset\",\"vec4\"),a.screenSizePerspectiveEnabled&&i.vertex.uniforms.add(\"screenSizePerspectiveAlignment\",\"vec4\"),i.vertex.uniforms.add(\"hudVisibilityTexture\",\"sampler2D\"),i.vertex.defines.addFloat(\"SMALL_OFFSET_ANGLE\",.984807753012208),i.vertex.code.add(e`\n    struct ProjectHUDAux {\n      vec3 posModel;\n      vec3 posView;\n      vec3 vnormal;\n\n      float distanceToCamera;\n      float absCosAngle;\n    };\n  `),i.vertex.code.add(e`\n    float applyHUDViewDependentPolygonOffset(float pointGroundDistance, float absCosAngle, inout vec3 posView) {\n      float pointGroundSign = sign(pointGroundDistance);\n\n      if (pointGroundSign == 0.0) {\n        pointGroundSign = cameraGroundRelative;\n      }\n\n      // cameraGroundRelative is -1 if camera is below ground, 1 if above ground\n      // groundRelative is 1 if both camera and symbol are on the same side of the ground, -1 otherwise\n      float groundRelative = cameraGroundRelative * pointGroundSign;\n\n      // view angle dependent part of polygon offset emulation\n      // we take the absolute value because the sign that is dropped is\n      // instead introduced using the ground-relative position of the symbol and the camera\n      if (polygonOffset > .0) {\n        float cosAlpha = clamp(absCosAngle, 0.01, 1.0);\n\n        float tanAlpha = sqrt(1.0 - cosAlpha * cosAlpha) / cosAlpha;\n        float factor = (1.0 - tanAlpha / viewport[2]);\n\n        // same side of the terrain\n        if (groundRelative > 0.0) {\n          posView *= factor;\n        }\n        // opposite sides of the terrain\n        else {\n          posView /= factor;\n        }\n      }\n\n      return groundRelative;\n    }\n  `),a.isDraped||i.vertex.code.add(e`\n    void applyHUDVerticalGroundOffset(vec3 normalModel, inout vec3 posModel, inout vec3 posView) {\n      float distanceToCamera = length(posView);\n\n      // Compute offset in world units for a half pixel shift\n      float pixelOffset = distanceToCamera * perDistancePixelRatio * 0.5;\n\n      // Apply offset along normal in the direction away from the ground surface\n      vec3 modelOffset = normalModel * cameraGroundRelative * pixelOffset;\n\n      // Apply the same offset also on the view space position\n      vec3 viewOffset = (viewNormal * vec4(modelOffset, 1.0)).xyz;\n\n      posModel += modelOffset;\n      posView += viewOffset;\n    }\n  `),i.vertex.code.add(e`\n    vec4 projectPositionHUD(out ProjectHUDAux aux) {\n      // centerOffset is in view space and is used to implement world size offsetting\n      // of labels with respect to objects. It also pulls the label towards the viewer\n      // so that the label is visible in front of the object.\n      vec3 centerOffset = auxpos1.xyz;\n\n      // The pointGroundDistance is the distance of the geometry to the ground and is\n      // negative if the point is below the ground, or positive if the point is above\n      // ground.\n      float pointGroundDistance = auxpos1.w;\n\n      aux.posModel = position;\n      aux.posView = (view * vec4(aux.posModel, 1.0)).xyz;\n      aux.vnormal = normal;\n      ${a.isDraped?\"\":\"applyHUDVerticalGroundOffset(aux.vnormal, aux.posModel, aux.posView);\"}\n\n      // Screen sized offset in world space, used for example for line callouts\n      // Note: keep this implementation in sync with the CPU implementation, see\n      //   - MaterialUtil.verticalOffsetAtDistance\n      //   - HUDMaterial.applyVerticalOffsetTransformation\n\n      aux.distanceToCamera = length(aux.posView);\n\n      vec3 viewDirObjSpace = normalize(camPos - aux.posModel);\n      float cosAngle = dot(aux.vnormal, viewDirObjSpace);\n\n      aux.absCosAngle = abs(cosAngle);\n\n      ${a.screenSizePerspectiveEnabled&&(a.verticalOffsetEnabled||1===a.screenCenterOffsetUnitsEnabled)?\"vec4 perspectiveFactor = screenSizePerspectiveScaleFactor(aux.absCosAngle, aux.distanceToCamera, screenSizePerspectiveAlignment);\":\"\"}\n\n      ${a.verticalOffsetEnabled?a.screenSizePerspectiveEnabled?\"float verticalOffsetScreenHeight = applyScreenSizePerspectiveScaleFactorFloat(verticalOffset.x, perspectiveFactor);\":\"float verticalOffsetScreenHeight = verticalOffset.x;\":\"\"}\n\n      ${a.verticalOffsetEnabled?e`\n            float worldOffset = clamp(verticalOffsetScreenHeight * verticalOffset.y * aux.distanceToCamera, verticalOffset.z, verticalOffset.w);\n            vec3 modelOffset = aux.vnormal * worldOffset;\n            aux.posModel += modelOffset;\n            vec3 viewOffset = (viewNormal * vec4(modelOffset, 1.0)).xyz;\n            aux.posView += viewOffset;\n            // Since we elevate the object, we need to take that into account\n            // in the distance to ground\n            pointGroundDistance += worldOffset;`:\"\"}\n\n      float groundRelative = applyHUDViewDependentPolygonOffset(pointGroundDistance, aux.absCosAngle, aux.posView);\n\n      ${1!==a.screenCenterOffsetUnitsEnabled?e`\n            // Apply x/y in view space, but z in screen space (i.e. along posView direction)\n            aux.posView += vec3(centerOffset.x, centerOffset.y, 0.0);\n\n            // Same material all have same z != 0.0 condition so should not lead to\n            // branch fragmentation and will save a normalization if it's not needed\n            if (centerOffset.z != 0.0) {\n              aux.posView -= normalize(aux.posView) * centerOffset.z;\n            }\n          `:\"\"}\n\n      vec4 posProj = proj * vec4(aux.posView, 1.0);\n\n      ${1===a.screenCenterOffsetUnitsEnabled?a.screenSizePerspectiveEnabled?\"float centerOffsetY = applyScreenSizePerspectiveScaleFactorFloat(centerOffset.y, perspectiveFactor);\":\"float centerOffsetY = centerOffset.y;\":\"\"}\n\n      ${1===a.screenCenterOffsetUnitsEnabled?\"posProj.xy += vec2(centerOffset.x, centerOffsetY) * pixelRatio * 2.0 / viewport.zw * posProj.w;\":\"\"}\n\n      // constant part of polygon offset emulation\n      posProj.z -= groundRelative * polygonOffset * posProj.w;\n      return posProj;\n    }\n  `),i.vertex.code.add(e`\n    bool testVisibilityHUD(vec4 posProj) {\n      // For occlusion testing, use the nearest pixel center to avoid\n      // subpixel filtering messing up the color we use to test for\n      vec4 posProjCenter = alignToPixelCenter(posProj, viewport.zw);\n\n      vec4 occlusionPixel = texture2D(hudVisibilityTexture, .5 + .5 * posProjCenter.xy / posProjCenter.w);\n\n      // the red pixel here indicates that the occlusion pixel passed the depth test against solid geometry and was written\n      // the green pixel stores transparency of transparent geometry (1.0 -> fully transparent)\n      // note that we also check against green == 0.0, i.e. transparent geometry that has opaque parts\n\n      // thus we render visible pixels that are occluded by semi-transparent (but not fully transparent!) geometry here\n      if (uRenderTransparentlyOccludedHUD > 0.5) {\n        // multiplying by uRenderTransparentlyOccludedHUD allows us to ignore the second condition if\n        // uRenderTransparentlyOccludedHUD = 0.75\n        return occlusionPixel.r * occlusionPixel.g > 0.0 && occlusionPixel.g * uRenderTransparentlyOccludedHUD < 1.0;\n      }\n\n      // and visible pixels that are not occluded by semi-transparent geometry here\n      return occlusionPixel.r * occlusionPixel.g > 0.0 && occlusionPixel.g == 1.0;\n    }\n  `)}!function(e){e.bindUniforms=function(e,t){e.setUniform1f(\"uRenderTransparentlyOccludedHUD\",0===t.renderTransparentlyOccludedHUD?1:1===t.renderTransparentlyOccludedHUD?0:.75)},e.bindVisibilityTexture=function(e,t,o){t.setUniform1i(\"hudVisibilityTexture\",4),e.bindTexture(o.hudVisibilityTexture,4),e.setActiveTexture(0)}}(o||(o={}));export{o as HUD};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{glsl as o}from\"../../shaderModules/interfaces.js\";function e(e){const r=e;r.vertex.code.add(o`\n  void main(void) {\n    vec4 posProjCenter;\n    if (dot(position, position) > 0.0) {\n      // Render single point to center of the pixel to avoid subpixel\n      // filtering to affect the marker color\n      ProjectHUDAux projectAux;\n      vec4 posProj = projectPositionHUD(projectAux);\n      posProjCenter = alignToPixelCenter(posProj, viewport.zw);\n\n      vec3 vpos = projectAux.posModel;\n      if (rejectBySlice(vpos)) {\n        // Project out of clip space\n        posProjCenter = vec4(1e038, 1e038, 1e038, 1.0);\n      }\n    }\n    else {\n      // Project out of clip space\n      posProjCenter = vec4(1e038, 1e038, 1e038, 1.0);\n    }\n\n    gl_Position = posProjCenter;\n    gl_PointSize = 1.0;\n  }\n  `),r.fragment.uniforms.add(\"color\",\"vec4\"),r.fragment.code.add(o`\n  void main() {\n    gl_FragColor = color;\n  }\n  `)}var r;!function(o){o.bindUniforms=function(o){o.setUniform4f(\"color\",1,1,1,1)}}(r||(r={}));export{r as HUDOcclusion,e as HUDOcclusionPass};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../../shaderModules/interfaces.js\";import{bindScreenSizePerspective as r}from\"../../../materials/internal/MaterialUtil.js\";function a(r){r.vertex.code.add(e`\n    float screenSizePerspectiveMinSize(float size, vec4 factor) {\n      float nonZeroSize = 1.0 - step(size, 0.0);\n\n      return (\n        factor.z * (\n          1.0 +\n          // Multiply by nzs ensures if size is 0, then we ignore proportionally scaled padding\n          nonZeroSize *\n          2.0 * factor.w / (\n            size + (1.0 - nonZeroSize) // Adding 1 - nzs ensures we divide either by size, or by 1\n          )\n        )\n      );\n    }\n  `),r.vertex.code.add(e`\n    float screenSizePerspectiveViewAngleDependentFactor(float absCosAngle) {\n      return absCosAngle * absCosAngle * absCosAngle;\n    }\n  `),r.vertex.code.add(e`\n    vec4 screenSizePerspectiveScaleFactor(float absCosAngle, float distanceToCamera, vec4 params) {\n      return vec4(\n        min(params.x / (distanceToCamera - params.y), 1.0),\n        screenSizePerspectiveViewAngleDependentFactor(absCosAngle),\n        params.z,\n        params.w\n      );\n    }\n  `),r.vertex.code.add(e`\n    float applyScreenSizePerspectiveScaleFactorFloat(float size, vec4 factor) {\n      return max(mix(size * factor.x, size, factor.y), screenSizePerspectiveMinSize(size, factor));\n    }\n  `),r.vertex.code.add(e`\n    float screenSizePerspectiveScaleFloat(float size, float absCosAngle, float distanceToCamera, vec4 params) {\n      return applyScreenSizePerspectiveScaleFactorFloat(\n        size,\n        screenSizePerspectiveScaleFactor(absCosAngle, distanceToCamera, params)\n      );\n    }\n  `),r.vertex.code.add(e`\n    vec2 applyScreenSizePerspectiveScaleFactorVec2(vec2 size, vec4 factor) {\n      return mix(size * clamp(factor.x, screenSizePerspectiveMinSize(size.y, factor) / size.y, 1.0), size, factor.y);\n    }\n  `),r.vertex.code.add(e`\n    vec2 screenSizePerspectiveScaleVec2(vec2 size, float absCosAngle, float distanceToCamera, vec4 params) {\n      return applyScreenSizePerspectiveScaleFactorVec2(size, screenSizePerspectiveScaleFactor(absCosAngle, distanceToCamera, params));\n    }\n  `)}!function(e){e.bindUniforms=function(e,a){if(a.screenSizePerspective){r(a.screenSizePerspective,e,\"screenSizePerspective\");const s=a.screenSizePerspectiveAlignment||a.screenSizePerspective;r(s,e,\"screenSizePerspectiveAlignment\")}}}(a||(a={}));export{a as ScreenSizePerspective};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{isSome as e,isNone as t}from\"../../../../core/maybe.js\";import{DefaultTextureUnits as i}from\"./DefaultTextureUnits.js\";import r from\"./GLMaterial.js\";export default class extends r{constructor(e){super(e),this._textureIDs=new Set,this._textureRepository=e.textureRep,this._textureId=e.textureId,this._initTransparent=!!e.initTextureTransparent,this._texture=this._acquireIfNotUndefined(this._textureId),this._textureNormal=this._acquireIfNotUndefined(e.normalTextureId),this._textureEmissive=this._acquireIfNotUndefined(e.emissiveTextureId),this._textureOcclusion=this._acquireIfNotUndefined(e.occlusionTextureId),this._textureMetallicRoughness=this._acquireIfNotUndefined(e.metallicRoughnessTextureId)}dispose(){this._textureIDs.forEach((e=>this._textureRepository.release(e))),this._textureIDs.clear()}updateTexture(e){e!==this._textureId&&(this._releaseIfNotUndefined(this._textureId),this._textureId=e,this._texture=this._acquireIfNotUndefined(this._textureId))}bindTexture(t,r){e(this._texture)&&(r.setUniform1i(\"tex\",i.DIFFUSE),t.bindTexture(this._texture.glTexture,i.DIFFUSE)),e(this._textureNormal)&&(r.setUniform1i(\"normalTexture\",i.NORMAL),t.bindTexture(this._textureNormal.glTexture,i.NORMAL)),e(this._textureEmissive)&&(r.setUniform1i(\"texEmission\",i.EMISSION),t.bindTexture(this._textureEmissive.glTexture,i.EMISSION)),e(this._textureOcclusion)&&(r.setUniform1i(\"texOcclusion\",i.OCCLUSION),t.bindTexture(this._textureOcclusion.glTexture,i.OCCLUSION)),e(this._textureMetallicRoughness)&&(r.setUniform1i(\"texMetallicRoughness\",i.METALLIC_ROUGHNESS),t.bindTexture(this._textureMetallicRoughness.glTexture,i.METALLIC_ROUGHNESS))}bindTextureScale(t,i){const r=e(this._texture)&&this._texture.glTexture;r&&r.descriptor.textureCoordinateScaleFactor?i.setUniform2fv(\"textureCoordinateScaleFactor\",r.descriptor.textureCoordinateScaleFactor):i.setUniform2f(\"textureCoordinateScaleFactor\",1,1)}_acquireIfNotUndefined(e){if(!t(e))return this._textureIDs.add(e),this._textureRepository.acquire(e,this._initTransparent)}_releaseIfNotUndefined(e){void 0!==e&&(this._textureIDs.delete(e),this._textureRepository.release(e))}}\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import{isSome as t,unwrapOr as o}from\"../../core/maybe.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import i from\"../../core/Evented.js\";import{createScreenPointArray as n}from\"../../core/screenUtils.js\";let a=class extends i.EventedAccessor{constructor(){super(...arguments),this._hasZ=null,this.interactiveUndoDisabled=!1,this.history=[],this.redoHistory=[],this.snapToScene=!1,this.view=null,this.elevationInfo=null,this.defaultZ=0}get hasZ(){return t(this._hasZ)?this._hasZ:\"3d\"===this.view.type}set hasZ(e){this._hasZ=e,this.notifyChange(\"hasZ\")}canUndo(){return this.history.length>0}canRedo(){return this.redoHistory.length>0}undo(){if(!this.canUndo())return;const e=this.history.pop();e.undo(),this.redoHistory.push(e)}redo(){if(!this.canRedo())return;const e=this.redoHistory.pop();e.redo(),this.history.push(e)}getCoordsFromScreenPoint(e){const o=this.screenToMap(e);return t(o)?o.hasZ?[o.x,o.y,o.z]:[o.x,o.y]:null}getCoordsAndPointFromScreenPoint(e){const o=this.screenToMap(e);return t(o)?o.hasZ?{vertex:[o.x,o.y,o.z],mapPoint:o}:{vertex:[o.x,o.y],mapPoint:o}:null}isDuplicateVertex(e,t){if(e.length){const[o,r]=e[e.length-1];return o===t[0]&&r===t[1]}return!1}getGeometryZValue(){return this.defaultZ}screenToMap(e){let r=null;if(\"3d\"===this.view.type)if(this.hasZ){const t=o(this.elevationInfo,h);r=this.view.sceneIntersectionHelper.intersectElevationFromScreen(n(e.x,e.y),t,this.getGeometryZValue())}else{const s=o(this.elevationInfo,p);r=this.view.sceneIntersectionHelper.intersectElevationFromScreen(n(e.x,e.y),s,0),t(r)&&(r.z=void 0)}else r=this.view.toMap(e),t(r)&&(r.z=this.hasZ?this.getGeometryZValue():void 0);return r}};e([r({type:Boolean,nonNullable:!0})],a.prototype,\"interactiveUndoDisabled\",void 0),e([r({readOnly:!0})],a.prototype,\"history\",void 0),e([r({readOnly:!0})],a.prototype,\"redoHistory\",void 0),e([r()],a.prototype,\"snapToScene\",void 0),e([r()],a.prototype,\"view\",void 0),e([r()],a.prototype,\"elevationInfo\",void 0),e([r({nonNullable:!0})],a.prototype,\"defaultZ\",void 0),e([r({dependsOn:[\"view\"]})],a.prototype,\"hasZ\",null),a=e([s(\"esri.views.draw.DrawAction\")],a);const h={mode:\"absolute-height\",offset:0},p={mode:\"on-the-ground\",offset:0};var c=a;export default c;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nclass t{constructor(t,e,s,i){this.view=t,this.native=e,this.vertexIndex=s,this.vertices=i,this.defaultPrevented=!1,this.type=\"vertex-add\"}preventDefault(){this.defaultPrevented=!0}}class e{constructor(t,e,s,i){this.view=t,this.native=e,this.vertexIndex=s,this.vertices=i,this.defaultPrevented=!1,this.type=\"vertex-update\"}preventDefault(){this.defaultPrevented=!0}}class s{constructor(t,e,s,i){this.view=t,this.native=e,this.vertexIndex=s,this.vertices=i,this.defaultPrevented=!1,this.type=\"vertex-remove\"}preventDefault(){this.defaultPrevented=!0}}class i{constructor(t,e,s,i,r=null){this.view=t,this.native=e,this.vertexIndex=s,this.vertices=i,this.mapPoint=r,this.coordinates=null,this.defaultPrevented=!1,this.type=\"cursor-update\",this.coordinates=1===i.length?i[0]:null}preventDefault(){this.defaultPrevented=!0}}class r{constructor(t,e){this.native=t,this.vertices=e,this.coordinates=null,this.defaultPrevented=!1,this.type=\"draw-complete\",this.coordinates=1===e.length?e[0]:null}preventDefault(){this.defaultPrevented=!0}}export{i as CursorUpdateEvent,r as DrawCompleteEvent,t as VertexAddEvent,s as VertexRemoveEvent,e as VertexUpdateEvent};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nconst e={drawCompleteKey:\"c\",redoKey:\"r\",undoKey:\"z\",vertexAddKey:\"f\",panKey:\" \"};export{e as KEYS};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"./tslib.es6.js\";import\"../core/has.js\";import{isSome as t}from\"../core/maybe.js\";import\"../core/Logger.js\";import\"../core/accessorSupport/ensureType.js\";import{property as i}from\"../core/accessorSupport/decorators/property.js\";import{subclass as s}from\"../core/accessorSupport/decorators/subclass.js\";import\"../core/urlUtils.js\";import\"../core/uuid.js\";import\"../portal/support/resourceExtension.js\";import r from\"../core/Handles.js\";import{ViewEventPriorities as o}from\"../views/input/InputManager.js\";import{createScreenPointFromEvent as n}from\"../views/support/screenUtils.js\";import d from\"../views/draw/DrawAction.js\";import{VertexAddEvent as h,VertexRemoveEvent as v,VertexUpdateEvent as c,CursorUpdateEvent as p,DrawCompleteEvent as a}from\"../views/draw/input/DrawEvents.js\";import{KEYS as u}from\"../views/draw/input/Keys.js\";let l=class extends d{constructor(e){super(e),this._cursorMoved=!1,this._cursorScreenPoint=null,this._dragEnabled=!0,this._pointerDownEvent=null,this._viewHandles=new r,this.vertices=[]}initialize(){this._addViewHandles()}destroy(){this._removeViewHandles(),this._viewHandles.destroy(),this.emit(\"destroy\")}addVertex(e,t){isNaN(t)?(t=this.vertices.length,this.vertices.push(e)):this.vertices.splice(t,0,e);const i={vertex:e,vertexIndex:t,undo:()=>this._undoVertexAdd(null,t),redo:()=>this._redoVertexAdd(null,e,t)};this.history.push(i),this._set(\"redoHistory\",[]);const s=new h(this.view,null,t,this.vertices);this.emit(\"vertex-add\",s),s.defaultPrevented&&(this._cursorMoved=!0,this.history.pop())}removeVertex(e){const t=this.vertices.splice(e,1)[0],i={vertex:t,vertexIndex:e,undo:()=>this._undoVertexRemove(null,t,e),redo:()=>this._redoVertexRemove(null,e)};this.history.push(i),this._set(\"redoHistory\",[]),this.emit(\"vertex-remove\",new v(this.view,null,e,this.vertices))}updateVertex(e,t){const i=this.vertices[t];this.vertices[t]=e;const s={vertex:e,vertexIndex:t,undo:()=>this._undoVertexUpdate(null,i,t),redo:()=>this._redoVertexUpdate(null,e,t)};this.history.push(s),this._set(\"redoHistory\",[]),this.emit(\"vertex-update\",new c(this.view,null,t,this.vertices))}complete(){this._completeDrawing()}_addViewHandles(){this._removeViewHandles(),this._viewHandles.add([this.view.on(\"click\",(e=>{e.stopPropagation()}),o.TOOL),this.view.on(\"pointer-down\",(e=>{this._cursorMoved&&this.vertices.pop(),this._pointerDownEvent=e,this._cursorMoved=!1,this._cursorScreenPoint=n(e)}),o.TOOL),this.view.on(\"pointer-move\",(e=>{this._cursorMoved&&this.vertices.pop(),this._cursorMoved=!0,this._cursorScreenPoint=n(e),this._cursorUpdateHandler(e)}),o.TOOL),this.view.on(\"pointer-up\",(e=>{if(this._pointerDownEvent){if(this._cursorMoved)return this.vertices.pop(),void(this._cursorMoved=!1);this._pointerDownEvent=null,this._vertexAddHandler(e)}}),o.TOOL),this.view.on(\"drag\",(e=>{this._dragEnabled&&this._pointerDownEvent&&e.stopPropagation()}),o.TOOL),this.view.on(\"drag\",[\"Shift\"],(e=>{e.stopPropagation()}),o.TOOL),this.view.on(\"double-click\",(e=>{e.stopPropagation(),this._drawCompleteHandler(e)}),o.TOOL),this.view.on(\"double-click\",[\"Control\"],(e=>{e.stopPropagation(),this._drawCompleteHandler(e)}),o.TOOL),this.view.on(\"key-down\",(e=>{e.key===u.vertexAddKey&&!e.repeat&&this._cursorScreenPoint?(this._cursorMoved&&(this.vertices.pop(),this._cursorMoved=!1),this._vertexAddHandler(e)):e.key===u.drawCompleteKey&&!e.repeat&&this._cursorScreenPoint?(this._cursorMoved&&(this.vertices.pop(),this._cursorMoved=!1),this._vertexAddHandler(e),this._drawCompleteHandler(e)):e.key!==u.undoKey||this.interactiveUndoDisabled||e.repeat?e.key!==u.redoKey||this.interactiveUndoDisabled||e.repeat||(e.stopPropagation(),this.redo()):(e.stopPropagation(),this.undo())}),o.TOOL)])}_removeViewHandles(){this._viewHandles.removeAll()}_addVertex(e,t){this.vertices.push(e);const i=this.vertices.indexOf(e),s={vertex:e,vertexIndex:i,undo:()=>this._undoVertexAdd(t,i),redo:()=>this._redoVertexAdd(t,e,i)};this.history.push(s),this._set(\"redoHistory\",[]);const r=new h(this.view,t,i,this.vertices);this.emit(\"vertex-add\",r),r.defaultPrevented&&(this._cursorMoved=!0,this.history.pop())}_updateCursor(e,t){this.vertices.push(e);const i=this.vertices.indexOf(e),s=new p(this.view,t,i,this.vertices);this.emit(\"cursor-update\",s)}_completeDrawing(e){if(this._cursorMoved=!1,this._pointerDownEvent=null,this.vertices.length<1)return;const t=new a(e,this.vertices);this.emit(\"draw-complete\",t),t.defaultPrevented?this._cursorMoved=!0:this._removeViewHandles()}_undoVertexAdd(e,t){this.vertices.splice(t,1),this.emit(\"undo\",new v(this.view,e,t,this.vertices))}_redoVertexAdd(e,t,i){this.vertices.splice(i,0,t),this.emit(\"redo\",new h(this.view,e,i,this.vertices))}_undoVertexRemove(e,t,i){this.vertices.splice(i,0,t),this.emit(\"undo\",new h(this.view,e,i,this.vertices))}_redoVertexRemove(e,t){this.vertices.splice(t,1),this.emit(\"redo\",new v(this.view,e,t,this.vertices))}_undoVertexUpdate(e,t,i){this.vertices[i]=t,this.emit(\"undo\",new c(this.view,e,i,this.vertices))}_redoVertexUpdate(e,t,i){this.vertices[i]=t,this.emit(\"redo\",new c(this.view,e,i,this.vertices))}_vertexAddHandler(e){const i=this.getCoordsFromScreenPoint(this._cursorScreenPoint);t(i)&&this._addVertex(i,e.native)}_cursorUpdateHandler(e){const i=this.getCoordsFromScreenPoint(this._cursorScreenPoint);t(i)&&this._updateCursor(i,e.native)}_drawCompleteHandler(e){this._completeDrawing(e.native)}};e([i({readOnly:!0})],l.prototype,\"vertices\",void 0),l=e([s(\"esri.views.draw.MultipointDrawAction\")],l);var _=Object.freeze({__proto__:null,get MultipointDrawAction(){return l}});export{l as M,_ as a};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import\"../../../../../core/has.js\";import{unwrapOr as t}from\"../../../../../core/maybe.js\";import\"../../../../../core/Logger.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import{property as o}from\"../../../../../core/accessorSupport/decorators/property.js\";import{subclass as r}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import\"../../../../../core/urlUtils.js\";import\"../../../../../core/uuid.js\";import\"../../../../../portal/support/resourceExtension.js\";import i from\"../../../../../core/Evented.js\";import{SceneDrawSurface as n}from\"./drawSurfaces.js\";import{DrawOperation as s}from\"./DrawOperation.js\";import{InteractiveToolBase as a}from\"../../../../interactive/InteractiveToolBase.js\";import{SnappingOptions as p}from\"../../../../interactive/snapping/SnappingOptions.js\";let d=class extends(i.EventedMixin(a)){constructor(e){super(e),this.drawOperation=null,this.hasZ=!0,this.defaultZ=0,this.elevationInfo=null,this.snapToScene=null,this.snappingOptions=new p,this.mode=null,this.geometryType=null,this.type=\"draw-3d\"}initialize(){const e=t(this.elevationInfo,{mode:this.hasZ?\"absolute-height\":\"on-the-ground\",offset:0});this.drawOperation=new s({view:this.view,manipulators:this.manipulators,geometryType:this.geometryType,drawingMode:this.mode,hasZ:this.hasZ,defaultZ:this.defaultZ,snapToSceneEnabled:this.snapToScene,snappingDrawSurface:new n(this.view,e),hasM:!1,elevationInfo:e,snappingOptions:this.snappingOptions}),this.drawOperation.on(\"vertex-add\",(e=>this.onVertexAdd(e))),this.drawOperation.on(\"vertex-remove\",(e=>this.onVertexRemove(e))),this.drawOperation.on(\"vertex-update\",(e=>this.onVertexUpdate(e))),this.drawOperation.on(\"cursor-update\",(e=>this.onCursorUpdate(e))),this.drawOperation.on(\"complete\",(e=>this.onComplete(e)))}destroy(){this.drawOperation.destroy(),this.drawOperation=null,this._set(\"view\",null)}onInputEvent(e){this.drawOperation.onInputEvent(e)}set enabled(e){this.drawOperation.interactive=e,this._set(\"enabled\",e)}reset(){}get canRedo(){return this.drawOperation.canRedo}redo(){this.drawOperation.redo()}get canUndo(){return this.drawOperation.canUndo}undo(){this.drawOperation.undo()}completeCreateOperation(){this.drawOperation.complete()}activate(){}deactivate(){this.drawOperation.isCompleted||this.drawOperation.cancel()}getVertexCoords(){return this.drawOperation.vertices}onVertexAdd(e){this.emit(\"vertex-add\",e)}onVertexRemove(e){this.emit(\"vertex-remove\",e)}onVertexUpdate(e){this.emit(\"vertex-update\",e)}onCursorUpdate(e){this.emit(\"cursor-update\",e)}onComplete(e){this.emit(\"complete\",e)}};e([o({constructOnly:!0,nonNullable:!0})],d.prototype,\"view\",void 0),e([o({value:!0})],d.prototype,\"enabled\",null),e([o({constructOnly:!0})],d.prototype,\"hasZ\",void 0),e([o({constructOnly:!0,nonNullable:!0})],d.prototype,\"defaultZ\",void 0),e([o({constructOnly:!0})],d.prototype,\"elevationInfo\",void 0),e([o()],d.prototype,\"snapToScene\",void 0),e([o({constructOnly:!0})],d.prototype,\"snappingOptions\",void 0),e([o({constructOnly:!0})],d.prototype,\"mode\",void 0),e([o({constructOnly:!0})],d.prototype,\"geometryType\",void 0),e([o({readOnly:!0})],d.prototype,\"type\",void 0),d=e([r(\"esri.views.3d.interactive.editingTools.draw.DrawTool\")],d);export{d as DrawTool};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import{isSome as o}from\"../../core/maybe.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as t}from\"../../core/accessorSupport/decorators/property.js\";import{subclass as r}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import i from\"../../core/Handles.js\";import{ViewEventPriorities as s}from\"../input/InputManager.js\";import{createScreenPointFromEvent as n}from\"../support/screenUtils.js\";import{DefaultParameters as a}from\"../input/recognizers/PointerClickHoldAndDrag.js\";import d from\"./DrawAction.js\";import{CursorUpdateEvent as c,DrawCompleteEvent as l}from\"./input/DrawEvents.js\";import{KEYS as h}from\"./input/Keys.js\";import{DrawTool as p}from\"../3d/interactive/editingTools/draw/DrawTool.js\";let m=class extends d{constructor(e){super(e),this._clickDelay=a.maximumClickDelay,this._cursorMoved=!1,this._cursorScreenPoint=null,this._pointerDownEvent=null,this._viewHandles=new i,this.coordinates=[]}initialize(){\"2d\"===this.view.type?this._addViewHandles():this._addDrawTool(this.view)}destroy(){\"2d\"===this.view.type?(this._removeViewHandles(),this._viewHandles.destroy(),this.emit(\"destroy\")):(this._removeDrawTool(),this.emit(\"destroy\"))}complete(){if(\"2d\"===this.view.type){if(this._cursorScreenPoint){const e=this.getCoordsFromScreenPoint(this._cursorScreenPoint);o(e)&&(this._set(\"coordinates\",e),this._completeDrawing())}}else this._drawTool.completeCreateOperation()}_addViewHandles(){this._removeViewHandles(),this._viewHandles.add([this.view.on(\"click\",(e=>{e.stopPropagation();const t=this.getCoordsFromScreenPoint(e.screenPoint);o(t)&&(this._set(\"coordinates\",t),this._drawCompleteHandler(e))}),s.TOOL),this.view.on(\"pointer-down\",(e=>{this._pointerDownEvent=e,this._cursorMoved=!1}),s.TOOL),this.view.on(\"pointer-move\",(e=>{this._cursorMoved=!0,this._cursorScreenPoint=n(e),this._cursorUpdateHandler(e)}),s.TOOL),this.view.on(\"pointer-up\",(e=>{if(this._pointerDownEvent&&!this._cursorMoved&&e.timestamp-this._pointerDownEvent.timestamp>this._clickDelay){this._cursorScreenPoint=n(e);const t=this.getCoordsFromScreenPoint(this._cursorScreenPoint);o(t)&&(this._set(\"coordinates\",t),this._drawCompleteHandler(e))}}),s.TOOL),this.view.on(\"key-down\",(e=>{if(e.key===h.drawCompleteKey&&this._cursorScreenPoint){const t=this.getCoordsFromScreenPoint(this._cursorScreenPoint);o(t)&&(this._set(\"coordinates\",t),this._drawCompleteHandler(e))}}),s.TOOL)])}_removeViewHandles(){this._viewHandles.removeAll()}_addDrawTool(e){this._drawTool=new p({view:e,elevationInfo:this.elevationInfo,hasZ:this.hasZ,geometryType:\"point\",mode:\"click\"}),this.view.toolViewManager.tools.push(this._drawTool),this.view.activeTool=this._drawTool,this._drawTool.on(\"cursor-update\",(e=>{1===e.vertices.length&&this.emit(\"cursor-update\",new c(this.view,null,e.vertices[0].vertexIndex,this._drawTool.getVertexCoords()))})),this._drawTool.on(\"complete\",(e=>{this.emit(\"draw-complete\",new l(null,this._drawTool.getVertexCoords())),this._removeDrawTool()}))}_removeDrawTool(){o(this._drawTool)&&(this.view.tools.remove(this._drawTool),this._drawTool.destroy(),this._drawTool=null)}_updateCursor(e,t){o(e)?this.emit(\"cursor-update\",new c(this.view,t,0,[e])):this.emit(\"cursor-update\",new c(this.view,t,null,null))}_completeDrawing(e){this._cursorMoved=!1,this._pointerDownEvent=null;const o=new l(e,[this.coordinates]);this.emit(\"draw-complete\",o),o.defaultPrevented||this._removeViewHandles()}_cursorUpdateHandler(e){this._updateCursor(this.getCoordsFromScreenPoint(this._cursorScreenPoint),e.native)}_drawCompleteHandler(e){this._completeDrawing(e.native)}};e([t({readOnly:!0})],m.prototype,\"coordinates\",void 0),m=e([r(\"esri.views.draw.PointDrawAction\")],m);export{m as PointDrawAction};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import{isSome as t,isNone as i}from\"../../core/maybe.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import o from\"../../core/Handles.js\";import{ViewEventPriorities as n}from\"../input/InputManager.js\";import{createScreenPointFromEvent as d}from\"../support/screenUtils.js\";import h from\"./DrawAction.js\";import{VertexAddEvent as a,VertexRemoveEvent as p,VertexUpdateEvent as l,CursorUpdateEvent as c,DrawCompleteEvent as v}from\"./input/DrawEvents.js\";import{KEYS as u}from\"./input/Keys.js\";import{defaultDrawingMode as _,drawingModes as w}from\"./DrawingMode.js\";import{DrawTool as m}from\"../3d/interactive/editingTools/draw/DrawTool.js\";let x=class extends h{constructor(e){super(e),this._cursorScreenPoint=null,this._panEnabled=!1,this._cursorVertexAdded=!1,this._popVertexOnPointerMove=!1,this._addVertexOnPointerUp=!1,this._activePointerId=null,this._viewHandles=new o,this.mode=_,this.vertices=[]}initialize(){\"2d\"===this.view.type?this._addViewHandles():this._addDrawTool(this.view)}destroy(){\"2d\"===this.view.type?(this._removeViewHandles(),this._viewHandles.destroy()):this._removeDrawTool(),this.emit(\"destroy\")}get _clickEnabled(){return\"click\"===this.mode||\"hybrid\"===this.mode}get _dragEnabled(){return\"freehand\"===this.mode||\"hybrid\"===this.mode}addVertex(e,t){this.vertices.splice(t,0,e);const i={vertex:e,vertexIndex:t,undo:()=>this._undoVertexAdd(null,t),redo:()=>this._redoVertexAdd(null,e,t)};this.history.push(i),this._set(\"redoHistory\",[]);const r=new a(this.view,null,t,this.vertices);this.emit(\"vertex-add\",r),r.defaultPrevented&&(this._popVertexOnPointerMove=!0,this.history.pop())}removeVertex(e){const t=this.vertices.splice(e,1)[0],i={vertex:t,vertexIndex:e,undo:()=>this._undoVertexRemove(null,t,e),redo:()=>this._redoVertexRemove(null,e)};this.history.push(i),this._set(\"redoHistory\",[]),this.emit(\"vertex-remove\",new p(this.view,null,e,this.vertices))}updateVertex(e,t){const i=this.vertices[t];this.vertices[t]=e;const r={vertex:e,vertexIndex:t,undo:()=>this._undoVertexUpdate(null,i,t),redo:()=>this._redoVertexUpdate(null,e,t)};this.history.push(r),this._set(\"redoHistory\",[]),this.emit(\"vertex-update\",new l(this.view,null,t,this.vertices))}complete(){\"2d\"===this.view.type?this._completeDrawing():this._drawTool.completeCreateOperation()}getGeometryZValue(){return this.vertices.length>0&&this.vertices[0].length>2?this.vertices[0][2]:this._get(\"defaultZ\")}_addViewHandles(){this._removeViewHandles(),this._viewHandles.add([this.view.on(\"click\",(e=>{e.stopPropagation()}),n.TOOL),this.view.on(\"pointer-down\",(e=>{this._shouldHandlePointerEvent(e)&&(this._panEnabled||(this._activePointerId=e.pointerId,this._addVertexOnPointerUp=!0,this._cursorScreenPoint=d(e),\"touch\"===e.pointerType&&this._updateCursor(e.native)))}),n.TOOL),this.view.on(\"pointer-move\",(e=>{this._popVertexOnPointerMove&&(this.vertices.pop(),this._popVertexOnPointerMove=!1),this._cursorScreenPoint=d(e),\"touch\"!==e.pointerType&&this._updateCursor(e.native)}),n.TOOL),this.view.on(\"pointer-drag\",(e=>{this._shouldHandlePointerEvent(e)&&(this._cursorScreenPoint=d(e),this._dragEnabled&&!this._panEnabled?this._vertexAddHandler(e):this._addVertexOnPointerUp=!1)}),n.TOOL),this.view.on(\"pointer-up\",(e=>{if(this._shouldHandlePointerEvent(e))if(this._activePointerId=null,this._addVertexOnPointerUp){if(!this._clickEnabled)return 1===this.vertices.length&&this.vertices.pop(),void this._drawCompleteHandler(e);this._vertexAddHandler(e)}else{const t=\"touch\"===e.pointerType;this._updateCursor(e.native,t)}}),n.TOOL),this.view.on(\"drag\",(e=>{this._dragEnabled&&t(this._activePointerId)&&!this._panEnabled&&e.stopPropagation()}),n.TOOL),this.view.on(\"drag\",[\"Shift\"],(e=>{e.stopPropagation()}),n.TOOL),this.view.on(\"double-click\",(e=>{e.stopPropagation(),this._drawCompleteHandler(e)}),n.TOOL),this.view.on(\"double-click\",[\"Control\"],(e=>{e.stopPropagation(),this._drawCompleteHandler(e)}),n.TOOL),this.view.on(\"key-down\",(e=>{const{key:t,repeat:i}=e;t===u.vertexAddKey&&!i&&this._cursorScreenPoint?(e.stopPropagation(),this._vertexAddHandler(e)):t===u.drawCompleteKey&&!i&&this._cursorScreenPoint&&this.vertices.length>2?(e.stopPropagation(),this._vertexAddHandler(e),this._drawCompleteHandler(e)):t!==u.undoKey||this.interactiveUndoDisabled||i?t!==u.redoKey||this.interactiveUndoDisabled||i?t!==u.panKey||i||(e.stopPropagation(),this._panEnabled=!0):(e.stopPropagation(),this.redo()):(e.stopPropagation(),this.undo())}),n.TOOL),this.view.on(\"key-up\",(e=>{e.key===u.panKey&&(e.stopPropagation(),this._panEnabled=!1)}),n.TOOL)])}_removeViewHandles(){this._viewHandles.removeAll()}_addDrawTool(e){this._drawTool=new m({view:e,elevationInfo:this.elevationInfo,hasZ:this.hasZ,geometryType:\"polygon\",mode:this.mode}),this.view.toolViewManager.tools.push(this._drawTool),this.view.activeTool=this._drawTool,this._drawTool.on(\"vertex-add\",(e=>{1===e.vertices.length&&this.emit(\"vertex-add\",new a(this.view,null,e.vertices[0].vertexIndex,this._drawTool.getVertexCoords()))})),this._drawTool.on(\"cursor-update\",(e=>{1===e.vertices.length&&this.emit(\"cursor-update\",new c(this.view,null,e.vertices[0].vertexIndex,this._drawTool.getVertexCoords()))})),this._drawTool.on(\"complete\",(e=>{this.emit(\"draw-complete\",new v(null,this._drawTool.getVertexCoords())),this._removeDrawTool()}))}_removeDrawTool(){t(this._drawTool)&&(this.view.tools.remove(this._drawTool),this._drawTool.destroy(),this._drawTool=null)}_addVertex(e,t){if(this._popCursorVertex(),this.isDuplicateVertex(this.vertices,e))return;const i=this.vertices.length;this.vertices.push(e);const r={vertex:e,vertexIndex:i,undo:()=>this._undoVertexAdd(t,i),redo:()=>this._redoVertexAdd(t,e,i)};this.history.push(r),this._set(\"redoHistory\",[]);const s=new a(this.view,t,i,this.vertices);this.emit(\"vertex-add\",s),s.defaultPrevented&&(this._popVertexOnPointerMove=!0,this.history.pop())}_updateCursor(e,i=!1){if(this._popCursorVertex(),!this._cursorScreenPoint)return;let r=null,s=null;const o=this.getCoordsAndPointFromScreenPoint(this._cursorScreenPoint);t(o)&&(r=o.mapPoint,i||(s=this._pushCursorVertex(o.vertex)));const n=new c(this.view,e,s,this.vertices,r);this.emit(\"cursor-update\",n)}_completeDrawing(e){if(this._activePointerId=null,this._popCursorVertex(),this.vertices.length<3)return;const t=new v(e,this.vertices);this.emit(\"draw-complete\",t),t.defaultPrevented||this._removeViewHandles()}_undoVertexAdd(e,t){this.vertices.splice(t,1),this.emit(\"undo\",new p(this.view,e,t,this.vertices))}_redoVertexAdd(e,t,i){this.vertices.splice(i,0,t),this.emit(\"redo\",new a(this.view,e,i,this.vertices))}_undoVertexRemove(e,t,i){this.vertices.splice(i,0,t),this.emit(\"undo\",new a(this.view,e,i,this.vertices))}_redoVertexRemove(e,t){this.vertices.splice(t,1),this.emit(\"redo\",new p(this.view,e,t,this.vertices))}_undoVertexUpdate(e,t,i){this.vertices[i]=t,this.emit(\"undo\",new l(this.view,e,i,this.vertices))}_redoVertexUpdate(e,t,i){this.vertices[i]=t,this.emit(\"redo\",new l(this.view,e,i,this.vertices))}_pushCursorVertex(e){return this._popCursorVertex(),this.vertices.push(e),this._cursorVertexAdded=!0,this.vertices.length-1}_popCursorVertex(){this._cursorVertexAdded&&(this.vertices.pop(),this._cursorVertexAdded=!1)}_shouldHandlePointerEvent(e){return function(e){return\"mouse\"!==e.pointerType||0===e.button}(e)&&(i(this._activePointerId)||this._activePointerId===e.pointerId)}_vertexAddHandler(e){if(this._cursorVertexAdded){const t=this.vertices[this.vertices.length-1];this._addVertex(t,e.native)}else{const i=this.getCoordsFromScreenPoint(this._cursorScreenPoint);t(i)&&this._addVertex(i,e.native)}}_drawCompleteHandler(e){this._completeDrawing(e.native)}};e([r({dependsOn:[\"mode\"]})],x.prototype,\"_clickEnabled\",null),e([r({dependsOn:[\"mode\"]})],x.prototype,\"_dragEnabled\",null),e([r({type:w})],x.prototype,\"mode\",void 0),e([r({readOnly:!0})],x.prototype,\"vertices\",void 0),x=e([s(\"esri.views.draw.PolygonDrawAction\")],x);export{x as PolygonDrawAction};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import{isSome as t,destroyMaybe as i,isNone as r}from\"../../core/maybe.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as s}from\"../../core/accessorSupport/decorators/property.js\";import{subclass as o}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import n from\"../../core/Handles.js\";import{ViewEventPriorities as d}from\"../input/InputManager.js\";import{createScreenPointFromEvent as h}from\"../support/screenUtils.js\";import a from\"./DrawAction.js\";import{VertexAddEvent as p,VertexRemoveEvent as l,VertexUpdateEvent as c,CursorUpdateEvent as v,DrawCompleteEvent as u}from\"./input/DrawEvents.js\";import{KEYS as _}from\"./input/Keys.js\";import{defaultDrawingMode as w,drawingModes as m}from\"./DrawingMode.js\";import{DrawTool as x}from\"../3d/interactive/editingTools/draw/DrawTool.js\";let V=class extends a{constructor(e){super(e),this._cursorScreenPoint=null,this._panEnabled=!1,this._cursorVertexAdded=!1,this._popVertexOnPointerMove=!1,this._addVertexOnPointerUp=!1,this._activePointerId=null,this._viewHandles=new n,this.mode=w,this.vertices=[]}initialize(){\"2d\"===this.view.type?this._addViewHandles():this._addDrawTool(this.view)}destroy(){\"2d\"===this.view.type?(this._removeViewHandles(),this._viewHandles.destroy()):this._removeDrawTool(),this.emit(\"destroy\")}get _clickEnabled(){return\"click\"===this.mode||\"hybrid\"===this.mode}get _dragEnabled(){return\"freehand\"===this.mode||\"hybrid\"===this.mode}addVertex(e,t){this.vertices.splice(t,0,e);const i={vertex:e,vertexIndex:t,undo:()=>this._undoVertexAdd(null,t),redo:()=>this._redoVertexAdd(null,e,t)};this.history.push(i),this._set(\"redoHistory\",[]);const r=new p(this.view,null,t,this.vertices);this.emit(\"vertex-add\",r),r.defaultPrevented&&(this._popVertexOnPointerMove=!0,this.history.pop())}removeVertex(e){const t=this.vertices.splice(e,1)[0],i={vertex:t,vertexIndex:e,undo:()=>this._undoVertexRemove(null,t,e),redo:()=>this._redoVertexRemove(null,e)};this.history.push(i),this._set(\"redoHistory\",[]),this.emit(\"vertex-remove\",new l(this.view,null,e,this.vertices))}updateVertex(e,t){const i=this.vertices[t];this.vertices[t]=e;const r={vertex:e,vertexIndex:t,undo:()=>this._undoVertexUpdate(null,i,t),redo:()=>this._redoVertexUpdate(null,e,t)};this.history.push(r),this._set(\"redoHistory\",[]),this.emit(\"vertex-update\",new c(this.view,null,t,this.vertices))}complete(){\"2d\"===this.view.type?this._completeDrawing():this._drawTool.completeCreateOperation()}_addViewHandles(){this._removeViewHandles(),this._viewHandles.add([this.view.on(\"click\",(e=>{e.stopPropagation()}),d.TOOL),this.view.on(\"pointer-down\",(e=>{this._shouldHandlePointerEvent(e)&&(this._panEnabled||(this._activePointerId=e.pointerId,this._addVertexOnPointerUp=!0,this._cursorScreenPoint=h(e),\"touch\"===e.pointerType&&this._updateCursor(e.native)))}),d.TOOL),this.view.on(\"pointer-move\",(e=>{this._popVertexOnPointerMove&&(this.vertices.pop(),this._popVertexOnPointerMove=!1),this._cursorScreenPoint=h(e),\"touch\"!==e.pointerType&&this._updateCursor(e.native)}),d.TOOL),this.view.on(\"pointer-drag\",(e=>{this._shouldHandlePointerEvent(e)&&(this._cursorScreenPoint=h(e),this._dragEnabled&&!this._panEnabled?this._vertexAddHandler(e):this._addVertexOnPointerUp=!1)}),d.TOOL),this.view.on(\"pointer-up\",(e=>{if(this._shouldHandlePointerEvent(e))if(this._activePointerId=null,this._addVertexOnPointerUp){if(!this._clickEnabled)return 1===this.vertices.length&&this.vertices.pop(),void this._drawCompleteHandler(e);this._vertexAddHandler(e)}else{const t=\"touch\"===e.pointerType;this._updateCursor(e.native,t)}}),d.TOOL),this.view.on(\"drag\",(e=>{this._dragEnabled&&t(this._activePointerId)&&!this._panEnabled&&e.stopPropagation()}),d.TOOL),this.view.on(\"drag\",[\"Shift\"],(e=>{e.stopPropagation()}),d.TOOL),this.view.on(\"double-click\",(e=>{e.stopPropagation(),this._drawCompleteHandler(e)}),d.TOOL),this.view.on(\"double-click\",[\"Control\"],(e=>{e.stopPropagation(),this._drawCompleteHandler(e)}),d.TOOL),this.view.on(\"key-down\",(e=>{const{key:t,repeat:i}=e;t===_.vertexAddKey&&!i&&this._cursorScreenPoint?(e.stopPropagation(),this._vertexAddHandler(e)):t===_.drawCompleteKey&&!i&&this._cursorScreenPoint&&this.vertices.length>1?(e.stopPropagation(),this._vertexAddHandler(e),this._drawCompleteHandler(e)):t!==_.undoKey||this.interactiveUndoDisabled||i?t!==_.redoKey||this.interactiveUndoDisabled||i?t!==_.panKey||i||(e.stopPropagation(),this._panEnabled=!0):(e.stopPropagation(),this.redo()):(e.stopPropagation(),this.undo())}),d.TOOL),this.view.on(\"key-up\",(e=>{e.key===_.panKey&&(e.stopPropagation(),this._panEnabled=!1)}),d.TOOL)])}_removeViewHandles(){this._viewHandles.removeAll()}_addDrawTool(e){this._drawTool=new x({view:e,elevationInfo:this.elevationInfo,hasZ:this.hasZ,geometryType:\"polyline\",mode:this.mode}),this.view.toolViewManager.tools.push(this._drawTool),this.view.activeTool=this._drawTool,this._drawTool.on(\"vertex-add\",(e=>{1===e.vertices.length&&this.emit(\"vertex-add\",new p(this.view,null,e.vertices[0].vertexIndex,this._drawTool.getVertexCoords()))})),this._drawTool.on(\"cursor-update\",(e=>{1===e.vertices.length&&this.emit(\"cursor-update\",new v(this.view,null,e.vertices[0].vertexIndex,this._drawTool.getVertexCoords()))})),this._drawTool.on(\"complete\",(e=>{this.emit(\"draw-complete\",new u(null,this._drawTool.getVertexCoords())),this._removeDrawTool()}))}_removeDrawTool(){t(this._drawTool)&&(this.view.tools.remove(this._drawTool),this._drawTool=i(this._drawTool))}_addVertex(e,t){if(this._popCursorVertex(),this.isDuplicateVertex(this.vertices,e))return;this.vertices.push(e);const i=this.vertices.length-1,r={vertex:e,vertexIndex:i,undo:()=>this._undoVertexAdd(t,i),redo:()=>this._redoVertexAdd(t,e,i)};this.history.push(r),this._set(\"redoHistory\",[]);const s=new p(this.view,t,i,this.vertices);this.emit(\"vertex-add\",s),s.defaultPrevented&&(this._popVertexOnPointerMove=!0,this.history.pop())}_updateCursor(e,i=!1){if(this._popCursorVertex(),!this._cursorScreenPoint)return;let r=null,s=null;const o=this.getCoordsAndPointFromScreenPoint(this._cursorScreenPoint);t(o)&&(r=o.mapPoint,i||(s=this._pushCursorVertex(o.vertex)));const n=new v(this.view,e,s,this.vertices,r);this.emit(\"cursor-update\",n)}_completeDrawing(e){if(this._activePointerId=null,this._popCursorVertex(),this.vertices.length<2)return;const t=new u(e,this.vertices);this.emit(\"draw-complete\",t),t.defaultPrevented||this._removeViewHandles()}_undoVertexAdd(e,t){this.vertices.splice(t,1),this.emit(\"undo\",new l(this.view,e,t,this.vertices))}_redoVertexAdd(e,t,i){this.vertices.splice(i,0,t),this.emit(\"redo\",new p(this.view,e,i,this.vertices))}_undoVertexRemove(e,t,i){this.vertices.splice(i,0,t),this.emit(\"undo\",new p(this.view,e,i,this.vertices))}_redoVertexRemove(e,t){this.vertices.splice(t,1),this.emit(\"redo\",new l(this.view,e,t,this.vertices))}_undoVertexUpdate(e,t,i){this.vertices[i]=t,this.emit(\"undo\",new c(this.view,e,i,this.vertices))}_redoVertexUpdate(e,t,i){this.vertices[i]=t,this.emit(\"redo\",new c(this.view,e,i,this.vertices))}_pushCursorVertex(e){return this._popCursorVertex(),this.vertices.push(e),this._cursorVertexAdded=!0,this.vertices.length-1}_popCursorVertex(){this._cursorVertexAdded&&(this.vertices.pop(),this._cursorVertexAdded=!1)}_shouldHandlePointerEvent(e){return function(e){return\"mouse\"!==e.pointerType||0===e.button}(e)&&(r(this._activePointerId)||this._activePointerId===e.pointerId)}_vertexAddHandler(e){if(this._cursorVertexAdded){const t=this.vertices[this.vertices.length-1];this._addVertex(t,e.native)}else{const i=this.getCoordsFromScreenPoint(this._cursorScreenPoint);t(i)&&this._addVertex(i,e.native)}}_drawCompleteHandler(e){this._completeDrawing(e.native)}};e([s({dependsOn:[\"mode\"]})],V.prototype,\"_clickEnabled\",null),e([s({dependsOn:[\"mode\"]})],V.prototype,\"_dragEnabled\",null),e([s({type:m})],V.prototype,\"mode\",void 0),e([s({readOnly:!0})],V.prototype,\"vertices\",void 0),V=e([o(\"esri.views.draw.PolylineDrawAction\")],V);export{V as PolylineDrawAction};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import{isSome as t,isNone as i}from\"../../core/maybe.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import o from\"../../core/Handles.js\";import{ViewEventPriorities as n}from\"../input/InputManager.js\";import{createScreenPointFromEvent as d}from\"../support/screenUtils.js\";import h from\"./DrawAction.js\";import{VertexAddEvent as a,CursorUpdateEvent as l,DrawCompleteEvent as p}from\"./input/DrawEvents.js\";import{KEYS as c}from\"./input/Keys.js\";import{DrawTool as _}from\"../3d/interactive/editingTools/draw/DrawTool.js\";import{createViewAlignedCoordinateSystem as v}from\"./support/createUtils.js\";let u=class extends h{constructor(e){super(e),this._isDragging=!1,this._panEnabled=!1,this._cursorScreenPoint=null,this._viewHandles=new o,this._cursorVertexAdded=!1,this._activePointerId=null,this.viewAlignedCoordinateSystem=null,this.mode=\"freehand\",this.vertices=[]}initialize(){\"2d\"===this.view.type?this._addViewHandles():this._addDrawTool(this.view)}destroy(){\"2d\"===this.view.type?(this._removeViewHandles(),this._viewHandles.destroy()):this._removeDrawTool(),this.emit(\"destroy\")}complete(){\"2d\"===this.view.type?this._completeDrawing():this._drawTool.completeCreateOperation()}getGeometryZValue(){return this.vertices.length>0&&this.vertices[0].length>2?this.vertices[0][2]:this._get(\"defaultZ\")}_addViewHandles(){this._removeViewHandles(),\"click\"===this.mode?this._viewHandles.add(this._getClickModeViewHandles()):this._viewHandles.add(this._getDragModeViewHandles())}_getDragModeViewHandles(){return[this.view.on(\"immediate-click\",(e=>{if(e.stopPropagation(),e.mapPoint&&!this._panEnabled){const i=this.getCoordsFromScreenPoint(d(e));t(i)&&(this._set(\"vertices\",[i]),this._drawCompleteHandler(e))}}),n.TOOL),this.view.on(\"pointer-down\",(e=>{this._shouldHandlePointerEvent(e)&&(this._panEnabled||(this._cursorScreenPoint=d(e),this._set(\"vertices\",[]),this._activePointerId=e.pointerId,this._vertexAddHandler(e),this._isDragging=!1,\"touch\"===e.pointerType&&this._cursorUpdateHandler(e)))}),n.TOOL),this.view.on(\"pointer-move\",(e=>{this._cursorScreenPoint=d(e),i(this._activePointerId)&&\"touch\"!==e.pointerType&&0===this.vertices.length&&this._cursorUpdateHandler(e)}),n.TOOL),this.view.on(\"pointer-drag\",(e=>{this._shouldHandlePointerEvent(e)&&(this._isDragging=!0,this._cursorScreenPoint=d(e),this._cursorUpdateHandler(e))}),n.TOOL),this.view.on(\"pointer-up\",(e=>{this._shouldHandlePointerEvent(e)&&(this._activePointerId=null,this._popCursorVertex(),this._isDragging&&!this._panEnabled&&(this._vertexAddHandler(e),this._drawCompleteHandler(e)),this._isDragging=!1)}),n.TOOL),this.view.on(\"key-down\",(e=>{e.key===c.drawCompleteKey&&this._cursorScreenPoint?this._drawCompleteHandler(e):e.key===c.panKey&&(this._panEnabled=!0)}),n.TOOL),this.view.on(\"key-up\",(e=>{e.key===c.panKey&&(this._panEnabled=!1)}),n.TOOL),this.view.on(\"drag\",(e=>{t(this._activePointerId)&&e.stopPropagation()}),n.TOOL),this.view.on(\"drag\",[\"Shift\"],(e=>{e.stopPropagation()}),n.TOOL)]}_getClickModeViewHandles(){return[this.view.on(\"immediate-click\",(e=>{e.stopPropagation()}),n.TOOL),this.view.on(\"pointer-down\",(e=>{this._cursorScreenPoint=d(e),this._activePointerId=e.pointerId,this._isDragging=!1,\"touch\"===e.pointerType&&this._cursorUpdateHandler(e)}),n.TOOL),this.view.on(\"pointer-move\",(e=>{this._cursorScreenPoint=d(e),i(this._activePointerId)&&\"touch\"!==e.pointerType&&this._cursorUpdateHandler(e)}),n.TOOL),this.view.on(\"pointer-drag\",(e=>{this._shouldHandlePointerEvent(e)&&(this._isDragging=!0)}),n.TOOL),this.view.on(\"pointer-up\",(e=>{this._shouldHandlePointerEvent(e)&&(this._activePointerId=null,this._isDragging||this._vertexAddHandler(e),2!==this.vertices.length||this._isDragging||this._drawCompleteHandler(e),this._isDragging=!1)}),n.TOOL),this.view.on(\"key-down\",(e=>{e.key===c.vertexAddKey&&this._cursorScreenPoint&&(this._vertexAddHandler(e),2===this.vertices.length&&this._drawCompleteHandler(e)),e.key===c.drawCompleteKey&&this._cursorScreenPoint&&2===this.vertices.length&&this._drawCompleteHandler(e)}),n.TOOL)]}_removeViewHandles(){this._viewHandles.removeAll()}_addDrawTool(e){this._drawTool=new _({view:e,elevationInfo:this.elevationInfo,hasZ:this.hasZ,geometryType:\"segment\",mode:this.mode}),this.view.toolViewManager.tools.push(this._drawTool),this.view.activeTool=this._drawTool,this._drawTool.on(\"vertex-add\",(e=>{1===e.vertices.length&&this.emit(\"vertex-add\",new a(this.view,null,e.vertices[0].vertexIndex,this._drawTool.getVertexCoords()))})),this._drawTool.on(\"cursor-update\",(e=>{1===e.vertices.length&&this.emit(\"cursor-update\",new l(this.view,null,e.vertices[0].vertexIndex,this._drawTool.getVertexCoords()))})),this._drawTool.on(\"complete\",(e=>{this.emit(\"draw-complete\",new p(null,this._drawTool.getVertexCoords())),this._removeDrawTool()}))}_removeDrawTool(){t(this._drawTool)&&(this.view.tools.remove(this._drawTool),this._drawTool.destroy(),this._drawTool=null)}_addVertex(e,t){if(this._popCursorVertex(),this.isDuplicateVertex(this.vertices,e))return;this.vertices.push(e),1===this.vertices.length&&(this.viewAlignedCoordinateSystem=v(this.view,this.vertices[0]));const i=this.vertices.indexOf(e),r=new a(this.view,t,i,this.vertices);this.emit(\"vertex-add\",r)}_updateCursor(e,i){let r=null;t(e)&&(r=this._pushCursorVertex(e));const s=new l(this.view,i,r,this.vertices);this.emit(\"cursor-update\",s)}_completeDrawing(e){if(this._activePointerId=null,this._popCursorVertex(),this._isDragging=!1,this._cursorScreenPoint=null,this.vertices.length<1)return;const t=new p(e,this.vertices);this.emit(\"draw-complete\",t),t.defaultPrevented||this._removeViewHandles()}_pushCursorVertex(e){return this._popCursorVertex(),this.vertices.push(e),this._cursorVertexAdded=!0,this.vertices.length-1}_popCursorVertex(){this._cursorVertexAdded&&(this.vertices.pop(),this._cursorVertexAdded=!1)}_shouldHandlePointerEvent(e){return function(e){return\"mouse\"!==e.pointerType||0===e.button}(e)&&(i(this._activePointerId)||this._activePointerId===e.pointerId)}_vertexAddHandler(e){const i=this.getCoordsFromScreenPoint(this._cursorScreenPoint);t(i)&&this._addVertex(i,e.native)}_cursorUpdateHandler(e){const t=this.getCoordsFromScreenPoint(this._cursorScreenPoint);this._updateCursor(t,e.native)}_drawCompleteHandler(e){this._completeDrawing(e.native)}};e([r({type:[\"freehand\",\"click\"]})],u.prototype,\"mode\",void 0),e([r({readOnly:!0})],u.prototype,\"vertices\",void 0),u=e([s(\"esri/views/2d/engine/markup/SegmentDrawAction\")],u);export{u as SegmentDrawAction};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as e}from\"../../core/accessorSupport/decorators/property.js\";import{subclass as i}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import o from\"../../core/Accessor.js\";import{M as r}from\"../../chunks/MultipointDrawAction.js\";import{PointDrawAction as s}from\"./PointDrawAction.js\";import{PolygonDrawAction as c}from\"./PolygonDrawAction.js\";import{PolylineDrawAction as a}from\"./PolylineDrawAction.js\";import{SegmentDrawAction as n}from\"./SegmentDrawAction.js\";let p=class extends o{constructor(){super(...arguments),this.activeAction=null,this.type=\"draw\",this.view=null}destroy(){this.activeAction&&(this.activeAction.destroy(),this.activeAction=null)}create(t,e){this.reset();const i={view:this.view,...e};switch(t){case\"point\":this.activeAction=new s(i);break;case\"polygon\":this.activeAction=new c(i);break;case\"polyline\":this.activeAction=new a(i);break;case\"multipoint\":this.activeAction=new r(i);break;case\"rectangle\":case\"circle\":case\"ellipse\":case\"triangle\":this.activeAction=new n(i)}return this.activeAction}complete(){this.activeAction&&this.activeAction.complete(),this.activeAction=null}reset(){this.activeAction&&this.activeAction.destroy(),this.activeAction=null}};t([e()],p.prototype,\"activeAction\",void 0),t([e({readOnly:!0})],p.prototype,\"type\",void 0),t([e()],p.prototype,\"view\",void 0),p=t([i(\"esri.views.draw.Draw\")],p);var l=p;export default l;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nconst c=[\"freehand\",\"hybrid\",\"click\"],e=\"click\";export{e as defaultDrawingMode,c as drawingModes};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{clone as t}from\"../../../core/lang.js\";import{isSome as e}from\"../../../core/maybe.js\";import{equals as r}from\"../../../core/arrayUtils.js\";import{isValid as s}from\"../../../geometry/support/spatialReferenceUtils.js\";import o from\"../../../geometry/Point.js\";import a from\"../../../geometry/Multipoint.js\";import{unnormalizeGeometryOnDatelineCrossing as n,isClockwise as i,unnormalizeVerticesOnDatelineCrossing as l}from\"../../../geometry/support/coordsUtils.js\";import c from\"../../../geometry/Polygon.js\";import h from\"../../../geometry/Polyline.js\";import\"../../../geometry.js\";import{c as m}from\"../../../chunks/vec3f64.js\";import{a as p,d as f,f as u,n as y,c as d,q as x}from\"../../../chunks/vec3.js\";import{getMetersPerUnitForSR as g}from\"../../../core/unitUtils.js\";import{a as R}from\"../../../chunks/quatf64.js\";import M from\"../../../geometry/Circle.js\";import{r as w,i as T}from\"../../../chunks/quat.js\";import{simplify as W,distance as v}from\"../../../geometry/geometryEngine.js\";import{a as S}from\"../../../chunks/mat2d.js\";import{c as F,a as j}from\"../../../chunks/mat2df64.js\";function U(t,r,s=null){return e(s)?[t,r,s]:[t,r]}function C(t,r,s=null){return e(s)?{x:t,y:r,z:s}:{x:t,y:r}}class L{constructor(t){this.spatialReference=t}mapToLocalMultiple(t){return t.map((t=>this.mapToLocal(t)))}get doUnnormalization(){return!1}}class P extends L{constructor(t,e,r=null){super(e),this.defaultZ=r,this.transform=F(),this.transformInv=F(),this.transform=j(t),S(this.transformInv,this.transform)}makeMapPoint(t,e){return U(t,e,this.defaultZ)}mapToLocal(t){return C(this.transform[0]*t[0]+this.transform[2]*t[1]+this.transform[4],this.transform[1]*t[0]+this.transform[3]*t[1]+this.transform[5])}localToMap(t){return U(this.transformInv[0]*t.x+this.transformInv[2]*t.y+this.transformInv[4],this.transformInv[1]*t.x+this.transformInv[3]*t.y+this.transformInv[5],this.defaultZ)}}class b extends L{constructor(t,e){super(t.spatialReference),this.view=t,this.defaultZ=null,this.pWS=m(),this.tangentFrameUpWS=m(),this.tangentFrameRightWS=m(),this.tangentFrameForwardWS=m(),this.localFrameRightWS=m(),this.localFrameUpWS=m(),this.worldToLocalTransform=R(),this.localToWorldTransform=R(),this.scale=1,this.scale=t.resolution,this.referenceMapPoint=e,this.defaultZ=e.hasZ?e.z:null;const r=t.state.camera.viewRight;this.view.renderCoordsHelper.toRenderCoords(this.referenceMapPoint,this.pWS),this.view.renderCoordsHelper.worldBasisAtPosition(this.pWS,0,this.tangentFrameRightWS),this.view.renderCoordsHelper.worldBasisAtPosition(this.pWS,1,this.tangentFrameUpWS),this.view.renderCoordsHelper.worldBasisAtPosition(this.pWS,2,this.tangentFrameForwardWS);const s=m();p(s,this.tangentFrameForwardWS,f(r,this.tangentFrameForwardWS)),u(this.localFrameRightWS,r,s),y(this.localFrameRightWS,this.localFrameRightWS),d(this.localFrameUpWS,this.tangentFrameForwardWS,this.localFrameRightWS),w(this.worldToLocalTransform,this.localFrameRightWS,this.tangentFrameRightWS),T(this.localToWorldTransform,this.worldToLocalTransform)}get doUnnormalization(){return\"global\"===this.view.viewingMode}makeMapPoint(t,e){return U(t,e,this.defaultZ)}mapToLocal(t){const e=m();this.view.renderCoordsHelper.toRenderCoords(new o({x:t[0],y:t[1],spatialReference:this.spatialReference}),e),x(e,e,this.worldToLocalTransform);const r=this.view.renderCoordsHelper.fromRenderCoords(e,this.view.spatialReference);return C(r.x/this.scale,r.y/this.scale)}localToMap(t){const e=m();this.view.renderCoordsHelper.toRenderCoords(new o({x:t.x*this.scale,y:t.y*this.scale,spatialReference:this.spatialReference}),e),x(e,e,this.localToWorldTransform);const r=this.view.renderCoordsHelper.fromRenderCoords(e,this.view.spatialReference);return U(r.x,r.y,this.defaultZ)}}function z(t,e){if(\"2d\"===t.type)return new P(t.state.transform,t.spatialReference,e.length>2?e[2]:null);if(\"3d\"===t.type){const r=e.length>2?new o({x:e[0],y:e[1],z:e[2],spatialReference:t.spatialReference}):new o({x:e[0],y:e[1],spatialReference:t.spatialReference});return new b(t,r)}return null}function I(t,e){const r=new o({x:t[0],y:t[1],spatialReference:e});return t.length>2&&(r.z=t[2]),r}function k(t,e){return new a({points:t,spatialReference:e})}function H(t,e,r){const s=new h({paths:t,spatialReference:e});return r&&n(s),s}function Z(e,o,a,l=!0){const h=t(e);h.forEach((t=>{const e=t[0],s=t[t.length-1];r(e,s)&&1!==t.length||t.push(t[0])}));let m=new c({rings:h,spatialReference:o});return m.rings.forEach((t=>{i(t,!1,!1)||t.reverse()})),a&&n(m),l&&m.isSelfIntersecting&&s(o)&&(m=W(m)),m}function q(t,e,r){const s=e.mapToLocalMultiple(t),o=[],a={x:s[0].x,y:s[0].y},n=s[1].x,i=s[1].y,l=Math.round(n-a.x),c=Math.round(i-a.y),h=Math.max(Math.abs(l),Math.abs(c));if(r){const t={x:a.x+h,y:a.y+h},e={x:a.x-h,y:a.y-h};o.push(C(t.x,e.y),C(e.x,e.y),C(e.x,t.y),C(t.x,t.y))}else{const t={x:l>0?a.x+h:a.x-h,y:c>0?a.y+h:a.y-h};o.push(C(a.x,a.y),C(t.x,a.y),C(t.x,t.y),C(a.x,t.y))}return Z([o.map((t=>e.localToMap(t)))],e.spatialReference,e.doUnnormalization,!0)}function A(t,e,r){let s=e.mapToLocalMultiple(t);if(1===s.length){const t=48,e=s[0];s=[C(e.x-t,e.y+t),C(e.x+t,e.y-t),C(e.x+t,e.y-t),C(e.x-t,e.y+t)]}const o=[],a={x:s[0].x,y:s[0].y},n={x:s[1].x,y:s[1].y};if(r){const t=Math.round(n.x-a.x),e=Math.round(n.y-a.y);o.push(C(a.x-t,a.y-e),C(n.x,a.y-e),C(n.x,n.y),C(a.x-t,n.y))}else o.push(C(a.x,a.y),C(n.x,a.y),C(n.x,n.y),C(a.x,n.y));return Z([o.map((t=>e.localToMap(t)))],e.spatialReference,e.doUnnormalization,!0)}function B(t,e,r,o){const a=e.mapToLocalMultiple(t);let n=null,i=null;if(r)n=a[0],i=a[1];else{const t=a[0],e=a[1],r=Math.round(e.x-t.x),s=Math.round(e.y-t.y),o=Math.max(Math.abs(r),Math.abs(s));n=C(r>0?t.x+o/2:t.x-o/2,s>0?t.y+o/2:t.y-o/2),i=C(Math.abs(r)>Math.abs(s)?n.x-o/2:n.x,Math.abs(r)>Math.abs(s)?n.y:n.y-o/2)}const c=e.localToMap(n),h=e.localToMap(i);e.doUnnormalization&&l([[c,h]],e.spatialReference);const m=I(c,e.spatialReference),p=I(h,e.spatialReference),f=g(e.spatialReference);let u=0;if(s(e.spatialReference))u=f*v(m,p,null);else{const t=n.x-i.x,e=n.y-i.y;u=f*Math.sqrt(t*t+e*e)*(o||1)}const y=new M({center:m,radius:u,radiusUnit:\"meters\",spatialReference:e.spatialReference});return Z(y.rings,y.spatialReference,!1)}function E(t,e,r){const s=e.mapToLocalMultiple(t),o=s[0],a=s[1],n=Math.round(a.x-o.x),i=Math.round(a.y-o.y),l=C(r?o.x:o.x+n/2,r?o.y:o.y+i/2),c=r?n:n/2,h=r?i:i/2,m=[],p=2*Math.PI/60;for(let t=0;t<60;t++){const e=Math.cos(t*p),r=Math.sin(t*p),s=C(c*e+l.x,h*r+l.y);m.push(s)}return m.push(m[0]),Z([m.map((t=>e.localToMap(t)))],e.spatialReference,e.doUnnormalization,!1)}export{P as AffineCoordinateSystem,b as SceneViewCoordinateSystem,L as SurfaceCoordinateSystem,B as createCircle,E as createEllipse,k as createMultipoint,I as createPoint,Z as createPolygon,H as createPolyline,A as createRectangle,q as createSquare,z as createViewAlignedCoordinateSystem,U as makeMapPoint,C as makeSurfacePoint};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport t from\"../../../core/clock.js\";import{InputHandler as e}from\"../InputHandler.js\";import{euclideanDistance as i}from\"./support.js\";const n={maximumClickDelay:300,movementUntilMouseDrag:1.5,movementUntilPenDrag:6,movementUntilTouchDrag:6,holdDelay:500};class o extends e{constructor(e=n.maximumClickDelay,i=n.movementUntilMouseDrag,o=n.movementUntilPenDrag,r=n.movementUntilTouchDrag,s=n.holdDelay,a=t){super(!1),this.maximumClickDelay=e,this.movementUntilMouseDrag=i,this.movementUntilPenDrag=o,this.movementUntilTouchDrag=r,this.holdDelay=s,this._clock=a,this._pointerState=new Map,this._pointerDrag=this.registerOutgoing(\"pointer-drag\"),this._immediateClick=this.registerOutgoing(\"immediate-click\"),this._pointerHold=this.registerOutgoing(\"hold\"),this.registerIncoming(\"pointer-down\",this._handlePointerDown.bind(this)),this.registerIncoming(\"pointer-up\",(t=>{this._handlePointerLoss(t,\"pointer-up\")})),this.registerIncoming(\"pointer-capture-lost\",(t=>{this._handlePointerLoss(t,\"pointer-capture-lost\")})),this.registerIncoming(\"pointer-cancel\",(t=>{this._handlePointerLoss(t,\"pointer-cancel\")})),this._moveHandle=this.registerIncoming(\"pointer-move\",this._handlePointerMove.bind(this)),this._moveHandle.pause()}onUninstall(){this._pointerState.forEach((t=>{null!=t.holdTimeout&&(t.holdTimeout.remove(),t.holdTimeout=null)})),super.onUninstall()}_handlePointerDown(t){const e=t.data,i=e.native.pointerId;let n=null;0===this._pointerState.size&&(n=this._clock.setTimeout((()=>{const e=this._pointerState.get(i);if(e){if(!e.isDragging){const i=e.previousEvent;this._pointerHold.emit(i,void 0,t.modifiers),e.holdEmitted=!0}e.holdTimeout=null}}),this.holdDelay));const o={startEvent:e,previousEvent:e,startTimestamp:t.timestamp,isDragging:!1,downButton:e.native.button,holdTimeout:n,modifiers:new Set};this._pointerState.set(i,o),this.startCapturingPointer(e.native),this._moveHandle.resume(),this._pointerState.size>1&&this.startDragging(t)}_createPointerDragData(t,e,i){return{action:t,startEvent:e.startEvent,previousEvent:e.previousEvent,currentEvent:i}}_handlePointerMove(t){const e=t.data,n=e.native.pointerId,o=this._pointerState.get(n);if(o){if(o.isDragging)this._pointerDrag.emit(this._createPointerDragData(\"update\",o,e),void 0,o.modifiers);else{i(e,o.startEvent)>this._getDragThreshold(e.native.pointerType)&&this.startDragging(t)}o.previousEvent=e}}_getDragThreshold(t){switch(t){case\"touch\":return this.movementUntilTouchDrag;case\"pen\":return this.movementUntilPenDrag;case\"mouse\":default:return this.movementUntilMouseDrag}}startDragging(t){const e=t.data,i=e.native.pointerId;this._pointerState.forEach((n=>{null!=n.holdTimeout&&(n.holdTimeout.remove(),n.holdTimeout=null),n.isDragging||(n.modifiers=t.modifiers,n.isDragging=!0,i===n.startEvent.native.pointerId?this._pointerDrag.emit(this._createPointerDragData(\"start\",n,e)):this._pointerDrag.emit(this._createPointerDragData(\"start\",n,n.previousEvent),t.timestamp))}))}_handlePointerLoss(t,e){const i=t.data,n=i.native.pointerId,o=this._pointerState.get(n);if(o){if(null!=o.holdTimeout&&(o.holdTimeout.remove(),o.holdTimeout=null),o.isDragging)this._pointerDrag.emit(this._createPointerDragData(\"end\",o,\"pointer-up\"===e?i:o.previousEvent),void 0,o.modifiers);else if(\"pointer-up\"===e&&o.downButton===i.native.button){t.timestamp-o.startTimestamp<=this.maximumClickDelay&&!o.holdEmitted&&this._immediateClick.emit(i)}this._pointerState.delete(n),this.stopCapturingPointer(i.native),0===this._pointerState.size&&this._moveHandle.pause()}}}export{n as DefaultParameters,o as PointerClickHoldAndDrag};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{createScreenPoint as t}from\"../../../core/screenUtils.js\";function e(t,e){return Math.abs(e.x-t.x)+Math.abs(e.y-t.y)}function n(t,e){const n=e.x-t.x,r=e.y-t.y;return Math.sqrt(n*n+r*r)}function r(e,n){if(n?(n.radius=0,n.center.x=0,n.center.y=0):n={radius:0,center:t()},0===e.length)return n;if(1===e.length)return n.center.x=e[0].x,n.center.y=e[0].y,n;if(2===e.length){const[t,r]=e,[c,s]=[r.x-t.x,r.y-t.y];return n.radius=Math.sqrt(c*c+s*s)/2,n.center.x=(t.x+r.x)/2,n.center.y=(t.y+r.y)/2,n}let r=0,c=0;for(let t=0;t<e.length;t++)r+=e[t].x,c+=e[t].y;r/=e.length,c/=e.length;const s=e.map((t=>t.x-r)),x=e.map((t=>t.y-c));let o=0,y=0,a=0,h=0,l=0,u=0,i=0;for(let t=0;t<s.length;t++){const e=s[t],n=x[t],r=e*e,c=n*n;o+=r,y+=c,a+=e*n,h+=r*e,l+=c*n,u+=e*c,i+=n*r}const f=.5*(h+u),g=.5*(l+i),M=o*y-a*a,d=(f*y-g*a)/M,m=(o*g-a*f)/M,p=t(d+r,m+c);return{radius:Math.sqrt(d*d+m*m+(o+y)/e.length),center:p}}export{n as euclideanDistance,r as fitCircleLSQ,e as manhattanDistance};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import{property as t}from\"../../../core/accessorSupport/decorators/property.js\";import{subclass as n}from\"../../../core/accessorSupport/decorators/subclass.js\";import{JSONSupport as i}from\"../../../core/JSONSupport.js\";import o from\"../../../Color.js\";let r=class extends i{constructor(){super(...arguments),this.enabled=!0}};e([t({type:Boolean})],r.prototype,\"enabled\",void 0),r=e([n(\"esri.views.3d.interactive.editingTools.snapping.Settings.LineSnapperDefaults\")],r);let l=class extends i{constructor(){super(...arguments),this.enabled=!0}};e([t({type:Boolean})],l.prototype,\"enabled\",void 0),l=e([n(\"esri.views.3d.interactive.editingTools.snapping.Settings.ParallelLineSnapperDefaults\")],l);let s=class extends i{constructor(){super(...arguments),this.enabled=!0}};e([t({type:Boolean})],s.prototype,\"enabled\",void 0),s=e([n(\"esri.views.3d.interactive.editingTools.snapping.Settings.RightAngleSnapperDefaults\")],s);let p=class extends i{constructor(){super(...arguments),this.enabled=!0}};e([t({type:Boolean})],p.prototype,\"enabled\",void 0),p=e([n(\"esri.views.3d.interactive.editingTools.snapping.Settings.RightAngleTriangleSnapperDefaults\")],p);let a=class extends i{constructor(e){super(e),this.lineSnapper=new r,this.parallelLineSnapper=new l,this.rightAngleSnapper=new s,this.rightAngleTriangleSnapper=new p,this.shortLineThreshold=15,this.lineProximityThreshold=5,this.circleProximityThreshold=5,this.pointProximityThreshold=5,this.intersectionParallelLineThreshold=1e-6,this.parallelLineThreshold=1e-6,this.touchSensitivityMultiplier=1.5,this.pointOnLineThreshold=1e-6,this.orange=new o([255,127,0]),this.lineHintWidthReference=3,this.lineHintWidthTarget=3,this.lineHintFadedExtensions=.3,this.parallelLineHintWidth=2,this.parallelLineHintLength=24,this.parallelLineHintOffset=1.5,this.rightAngleHintSize=24,this.rightAngleHintOutlineSize=1.5}};e([t({type:r,constructOnly:!0,nonNullable:!0,json:{write:!0}})],a.prototype,\"lineSnapper\",void 0),e([t({type:l,constructOnly:!0,nonNullable:!0,json:{write:!0}})],a.prototype,\"parallelLineSnapper\",void 0),e([t({type:s,constructOnly:!0,nonNullable:!0,json:{write:!0}})],a.prototype,\"rightAngleSnapper\",void 0),e([t({type:p,constructOnly:!0,nonNullable:!0,json:{write:!0}})],a.prototype,\"rightAngleTriangleSnapper\",void 0),e([t({type:Number,nonNullable:!0,range:{min:-1,max:50,step:1},json:{write:!0}})],a.prototype,\"shortLineThreshold\",void 0),e([t({type:Number,nonNullable:!0,range:{min:-1,max:50,step:1},json:{write:!0}})],a.prototype,\"lineProximityThreshold\",void 0),e([t({type:Number,nonNullable:!0,range:{min:-1,max:50,step:1},json:{write:!0}})],a.prototype,\"circleProximityThreshold\",void 0),e([t({type:Number,nonNullable:!0,range:{min:1,max:50,step:1},json:{write:!0}})],a.prototype,\"pointProximityThreshold\",void 0),e([t({type:Number,nonNullable:!0,range:{min:0,max:1e-5},json:{write:!0}})],a.prototype,\"intersectionParallelLineThreshold\",void 0),e([t({type:Number,nonNullable:!0,range:{min:0,max:1e-5},json:{write:!0}})],a.prototype,\"parallelLineThreshold\",void 0),e([t({type:Number,nonNullable:!0,range:{min:0,max:10},json:{write:!0}})],a.prototype,\"touchSensitivityMultiplier\",void 0),e([t({type:Number,nonNullable:!0,range:{min:0,max:1e-5},json:{write:!0}})],a.prototype,\"pointOnLineThreshold\",void 0),e([t({type:o,nonNullable:!0})],a.prototype,\"orange\",void 0),e([t({type:Number,nonNullable:!0,range:{min:0,max:10},json:{write:!0}})],a.prototype,\"lineHintWidthReference\",void 0),e([t({type:Number,nonNullable:!0,range:{min:0,max:10},json:{write:!0}})],a.prototype,\"lineHintWidthTarget\",void 0),e([t({type:Number,nonNullable:!0,range:{min:0,max:1},json:{write:!0}})],a.prototype,\"lineHintFadedExtensions\",void 0),e([t({type:Number,nonNullable:!0,range:{min:0,max:10},json:{write:!0}})],a.prototype,\"parallelLineHintWidth\",void 0),e([t({type:Number,nonNullable:!0,range:{min:0,max:50},json:{write:!0}})],a.prototype,\"parallelLineHintLength\",void 0),e([t({type:Number,nonNullable:!0,range:{min:0,max:5},json:{write:!0}})],a.prototype,\"parallelLineHintOffset\",void 0),e([t({type:Number,nonNullable:!0,range:{min:0,max:46},json:{write:!0}})],a.prototype,\"rightAngleHintSize\",void 0),e([t({type:Number,nonNullable:!0,range:{min:0,max:6},json:{write:!0}})],a.prototype,\"rightAngleHintOutlineSize\",void 0),a=e([n(\"esri.views.3d.interactive.editingTools.snapping.Settings.Defaults\")],a);const h=new a;export{h as defaults};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../../core/maybe.js\";import{defaults as t}from\"./Settings.js\";import{squareDistance as r,anyMapPointToScreenPoint as s}from\"./snappingUtils.js\";class o{constructor({proximityThreshold:e,enabled:r=!0,shortLineThreshold:s=t.shortLineThreshold}){this.enabled=r,this.squaredShortLineThreshold=s*s;const o=e*t.touchSensitivityMultiplier;this._squaredTouchProximityThreshold=o*o,this._squaredMouseProximityTreshold=e*e}snap(t,r){return this.enabled?e(r.vertexHandle)?\"vertex\"!==r.vertexHandle.type?[]:this.snapExistingVertex(t,r):this.snapNewVertex(t,r):[]}edgeExceedsShortLineThreshold(e,t){return this.exceedsShortLineThreshold(e.left.pos,e.right.pos,t)}exceedsShortLineThreshold(e,t,{elevationInfo:o,view:i,geometry:h}){const n=h.data.coordinateHelper;return 0===this.squaredShortLineThreshold||r(s(t,n,o,i),s(e,n,o,i))>this.squaredShortLineThreshold}squaredProximityTreshold(e){return\"touch\"===e?this._squaredTouchProximityThreshold:this._squaredMouseProximityTreshold}}class i{constructor(e,t,r,s,o=null){this.geometry=e,this.view=t,this.elevationInfo=r,this.pointer=s,this.vertexHandle=o}}export{o as SnappingAlgorithm,i as SnappingContext};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{a as n}from\"../../../../chunks/vec2f64.js\";import{i as s,g as t,q as r,a as o,d as a,h as c,l as u,p as e}from\"../../../../chunks/vec2.js\";function f(n,s){return n[0]*s[1]-n[1]*s[0]}function i(n,t,r){const o=(t[0]-n[0])*(r[1]-n[1])-(t[1]-n[1])*(r[0]-n[0]);return Math.abs(o)/s(t,r)}function h(n,s,a){const c=t(a,s)/r(a);return o(n,a,c)}function m(n,s,t,r,o=t){return a(j,r,t),a(k,s,o),h(v,k,j),c(n,o,v)}function p(n,s,t,r){a(j,s,t);const o=r/u(j);return e(n,t,j,o)}const j=n(),k=n(),v=n();export{f as cross,i as pointToLineDistance,h as projectPoint,p as projectPointToCircle,m as projectPointToLine};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{a as t}from\"../../../chunks/vec2f64.js\";import{d as s,g as r,q as e}from\"../../../chunks/vec2.js\";import{defaults as i}from\"./Settings.js\";import{objectEqual as n}from\"./snappingUtils.js\";import{pointToLineDistance as o}from\"../../3d/support/geometryUtils/vector2d.js\";class h{}class c extends h{constructor(t,s){super(),this.start=t,this.end=s}objectEqual(t){return t instanceof c&&(n(this.start,t.start)&&n(this.end,t.end))}}class a extends c{constructor(s,r){super(s,r),this.dir=t(),this.p=t()}objectEqual(t){return t instanceof a&&super.objectEqual(t)}check(t){s(this.dir,this.end,this.start),s(this.p,t,this.start);const n=r(this.dir,this.p);return n>=0&&n<=e(this.dir)&&o(t,this.start,this.end)<i.pointOnLineThreshold}}class u extends c{constructor(s,r){super(s,r),this.dir=t(),this.p=t()}objectEqual(t){return t instanceof u&&super.objectEqual(t)}check(t){return s(this.dir,this.end,this.start),s(this.p,t,this.start),r(this.dir,this.p)>=0&&o(t,this.start,this.end)<i.pointOnLineThreshold}}class p extends c{constructor(t,s){super(t,s)}objectEqual(t){return t instanceof p&&super.objectEqual(t)}check(t){return o(t,this.start,this.end)<i.pointOnLineThreshold}}class d extends h{constructor(t,s){super(),this.left=t,this.right=s}objectEqual(t){return t instanceof d&&(this.left.objectEqual(t.left)&&this.right.objectEqual(t.right))}check(){return!1}}class l extends h{constructor(t,s){super(),this.point1=t,this.point2=s}objectEqual(t){return t instanceof l&&(n(this.point1,t.point1)&&n(this.point2,t.point2))}check(){return!1}}export{p as LineConstraint,c as LineLikeConstraint,d as LineLikeIntersectionConstraint,l as PlanarCircleConstraint,u as RayConstraint,a as SegmentConstraint,h as SnappingConstraint};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{handlesGroup as t}from\"../../../core/handleUtils.js\";class i{constructor(t,i,e){this.coordinateHelper=t,this.targetPoint=i,this.constraint=e}visualize(i,e,s){return t([this.visualizeTargetHints(i,e,s),this.visualizeReferenceHints(i,e,s)])}}export{i as SnappingCandidate};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{handlesGroup as i,destroyHandle as t}from\"../../../core/handleUtils.js\";import e from\"../../../Color.js\";import{defaults as r}from\"./Settings.js\";import{PointVisualElement as n}from\"../../3d/interactive/visualElements/PointVisualElement.js\";import{SnappingCandidate as o}from\"./SnappingCandidate.js\";import{LineLikeIntersectionConstraint as s}from\"./SnappingConstraint.js\";class a extends o{constructor(i,t,e,r){super(i,t,new s(e.constraint,r.constraint)),this.left=e,this.right=r}visualizeTargetHints(t,e,r){return i([this.left.visualize(t,e,r),this.right.visualize(t,e,r)])}visualizeReferenceHints(i,o,s){return t(new n({view:i,primitive:\"circle\",geometry:this.coordinateHelper.createPoint(s),elevationInfo:o,size:20,outlineSize:2,color:[0,0,0,0],outlineColor:e.toUnitRGBA(r.orange),pixelSnappingEnabled:!1}))}}export{a as IntersectionSnappingCandidate};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{destroyHandle as t}from\"../../../core/handleUtils.js\";import{sign as n}from\"../../../core/mathUtils.js\";import{a as r}from\"../../../chunks/vec2f64.js\";import{g as e,d as i}from\"../../../chunks/vec2.js\";import{createLineSegmentHintFromMap as s}from\"./snappingUtils.js\";import{SnappingCandidate as o}from\"./SnappingCandidate.js\";import{LineConstraint as a}from\"./SnappingConstraint.js\";class l extends o{constructor({coordinateHelper:t,lineStart:n,lineEnd:r,targetPoint:e}){super(t,e,new a(n,r))}visualizeReferenceHints(n,r){return t(s(3,this.lineStart(),this.lineEnd(),this.coordinateHelper,r,n))}visualizeTargetHints(n,r,e){return t(s(0,this.lineEndClosestToTarget(),e,this.coordinateHelper,r,n))}lineEndClosestToTarget(){const t=this.lineStart(),r=this.lineEnd();return n(e(i(c,r,t),i(p,this.targetPoint,t)))>0?r:t}lineStart(){return this.constraint.start}lineEnd(){return this.constraint.end}}const p=r(),c=r();export{l as LineSnappingCandidate};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{unwrap as e}from\"../../../core/maybe.js\";import{f as t,a as o}from\"../../../chunks/vec2f64.js\";import{defaults as r}from\"./Settings.js\";import{anyMapPointToScreenPoint as s,squareDistance as i}from\"./snappingUtils.js\";import{SnappingAlgorithm as n}from\"./SnappingAlgorithm.js\";import{projectPointToLine as d}from\"../../3d/support/geometryUtils/vector2d.js\";import{LineSnappingCandidate as a}from\"./LineSnappingCandidate.js\";class h extends n{constructor({enabled:e=r.lineSnapper.enabled,proximityThreshold:t=r.lineProximityThreshold,shortLineThreshold:o=r.shortLineThreshold}={}){super({enabled:e,proximityThreshold:t,shortLineThreshold:o})}snapNewVertex(e,t){const o=t.geometry.data.components[0],r=o.edges.length,i=[];if(r<1)return i;const n=t.geometry.data.coordinateHelper,d=n.fromPoint(e),a=s(d,n,t.elevationInfo,t.view),h=o.edges[r-1];let l=h;do{this.edgeExceedsShortLineThreshold(l,t)&&this._processCandidateProposal(l.left.pos,l.right.pos,e,a,t,i),l=l.left.left}while(l&&l!==h);return i}snapExistingVertex(t,o){const r=[],i=e(o.vertexHandle),n=i.component;if(n.edges.length<2)return r;const d=o.geometry.data.coordinateHelper,a=d.fromPoint(t),h=s(a,d,o.elevationInfo,o.view),l=i.left,p=i.right;l&&p&&this.edgeExceedsShortLineThreshold(l,o)&&this.edgeExceedsShortLineThreshold(p,o)&&this._processCandidateProposal(l.left.pos,p.right.pos,t,h,o,r);const m=n.edges[0];let g=m;do{g!==i.left&&g!==i.right&&this.edgeExceedsShortLineThreshold(g,o)&&this._processCandidateProposal(g.left.pos,g.right.pos,t,h,o,r),g=g.right.right}while(g&&g!==m);return r}_processCandidateProposal(e,r,n,h,l,p){const m=d(o(),t(n.x,n.y),e,r),g=l.geometry.data.coordinateHelper,c=g.fromXYZ(m,n.hasZ?n.z:0);i(h,s(c,g,l.elevationInfo,l.view))<this.squaredProximityTreshold(l.pointer)&&p.push(new a({coordinateHelper:l.geometry.data.coordinateHelper,lineStart:e,lineEnd:r,targetPoint:c}))}}export{h as LineSnapper};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{unwrap as e,isSome as t,isNone as r}from\"../../../../core/maybe.js\";import{createScreenPointArray as s}from\"../../../../core/screenUtils.js\";import{c as i,f as o}from\"../../../../chunks/vec3f64.js\";import{m as a,g as n,n as c,f as h,b as l}from\"../../../../chunks/vec3.js\";import d from\"../../../../core/Handles.js\";import{I as m}from\"../../../../chunks/mat4f64.js\";import{e as u,d as p,a as _,s as f,h as g}from\"../../../../chunks/vec2.js\";import{g as y,c as j}from\"../../../../chunks/vec4.js\";import w from\"../../webgl-engine/lib/GeometryUtil.js\";import b from\"../../webgl-engine/lib/Geometry.js\";import{RibbonVertexAttributeConstants as x}from\"../../webgl-engine/shaders/RibbonLineTechnique.js\";import{RibbonLineMaterial as G}from\"../../webgl-engine/materials/RibbonLineMaterial.js\";import{f as R}from\"../../../../chunks/vec4f32.js\";import{Object3DVisualElement as V}from\"./Object3DVisualElement.js\";class O extends V{constructor(e){super(e),this._handles=new d,this._location=i(),this._direction=o(1,0,0),this._width=1,this._offset=1,this._length=18,this._color=R(1,0,1,1),this._renderOccluded=4,this.applyProps(e)}get location(){return this._location}set location(e){a(this._location,e)||(n(this._location,e),this.updateGeometry())}get direction(){return this._direction}set direction(e){a(this._direction,e)||(n(this._direction,e),this.updateGeometry())}setDirectionFromPoints(e,t){c(this._direction,h(this._direction,t,e)),this.updateGeometry()}get width(){return this._width}set width(e){e!==this._width&&(this._width=e,this.updateMaterial())}get offset(){return this._offset}set offset(e){e!==this._offset&&(this._offset=e,this.updateGeometry())}get length(){return this._length}set length(e){e!==this._length&&(this._length=e,this.updateGeometry())}get color(){return this._color}set color(e){y(e,this._color)||(j(this._color,e),this.updateMaterial())}get renderOccluded(){return this._renderOccluded}set renderOccluded(e){e!==this._renderOccluded&&(this._renderOccluded=e,this.updateMaterial())}createExternalResources(){const e=new G(this.materialParameters,\"parallelLineVisualElement\");this._handles.add(this.view.state.watch(\"camera\",(()=>{this.updateGeometry()}))),this._externalResources={material:e}}destroyExternalResources(){this._handles.removeAll(),this._externalResources=null}createGeometries(t){const r=new b(w.createPolylineGeometry([i(),i()]),\"parallelLineVisualElement\"),s=new b(w.createPolylineGeometry([i(),i()]),\"parallelLineVisualElement\"),o=e(this._externalResources).material;t.addGeometry(r,o,m),t.addGeometry(s,o,m),this.updateVertices(t)}forEachExternalResource(e){t(this._externalResources)&&e(this._externalResources.material)}updateMaterial(){if(r(this._externalResources))return;this._externalResources.material.setParameterValues(this.materialParameters)}get materialParameters(){return{width:this._width,color:this._color,renderOccluded:this._renderOccluded}}updateGeometry(){const e=this.object;r(e)||this.updateVertices(e)}updateVertices(e){const t=this.view.state.camera;t.projectToScreen(this.location,v),l(P,this.location,this.direction),t.projectToScreen(P,E),u(E,p(E,E,v)),this.updateVertexAttributes(t,e,0,v,E,1),this.updateVertexAttributes(t,e,1,v,E,-1)}updateVertexAttributes(e,t,r,s,i,o){const a=t.geometryRecords[r].geometry.data.getVertexAttr()[x.POSITION].data,n=_(k,f(k,i[1]*o,i[0]*-o),this.offset+this.width/2),c=g(A,g(A,g(A,s,_(A,i,this.length/2)),n),n),h=g(L,c,_(L,i,-this.length));e.unprojectFromScreen(c,P),a[0]=P[0],a[1]=P[1],a[2]=P[2],e.unprojectFromScreen(h,P),a[3]=P[0],a[4]=P[1],a[5]=P[2],t.geometryVertexAttrsUpdated(r)}}const P=i(),v=s(),E=s(),k=s(),A=s(),L=s();export{O as ParallelLineVisualElement};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{handlesGroup as e,destroyHandle as t}from\"../../../core/handleUtils.js\";import i from\"../../../Color.js\";import{e as r}from\"../../../chunks/vec3.js\";import{d as n,h as a}from\"../../../chunks/vec2.js\";import{defaults as s}from\"./Settings.js\";import{createLineSegmentHintFromEdge as o,createLineSegmentHintFromMap as l,anyMapPointToRender as f}from\"./snappingUtils.js\";import{SnappingCandidate as c}from\"./SnappingCandidate.js\";import{LineConstraint as d}from\"./SnappingConstraint.js\";import{ParallelLineVisualElement as h}from\"../../3d/interactive/visualElements/ParallelLineVisualElement.js\";class p extends c{constructor({coordinateHelper:e,referenceLine:t,lineStart:i,targetPoint:r}){const s=e.clone(i);n(s,a(s,s,t.right.pos),t.left.pos),super(e,r,new d(i,s)),this._referenceLines=[{edge:t,fadeLeft:!0,fadeRight:!0}]}visualizeReferenceHints(i,r,n){return e([...this._referenceLines.map((e=>t(o(1,e.edge,this.coordinateHelper,r,i,e.fadeLeft,e.fadeRight)))),t(this.createParallelLineVisualElement(i,r,this.constraint.start,n))])}visualizeTargetHints(i,r,n){return e([t(l(0,this.constraint.start,n,this.coordinateHelper,r,i))])}addReferenceLine(e){const t={edge:e,fadeLeft:!0,fadeRight:!0};this._referenceLines.forEach((i=>{e.right.right===i.edge&&(i.fadeLeft=!1,t.fadeRight=!1),e.left.left===i.edge&&(i.fadeRight=!1,t.fadeLeft=!1)})),this._referenceLines.push(t)}createParallelLineVisualElement(e,t,n,a){const o=f(n,this.coordinateHelper,t,e),l=f(a,this.coordinateHelper,t,e),c=r(l,o,l,.5),d=new h({view:e,attached:!1,offset:s.parallelLineHintOffset,length:s.parallelLineHintLength,width:s.parallelLineHintWidth,color:i.toUnitRGBA(s.orange),location:c,renderOccluded:16});return d.setDirectionFromPoints(o,c),d.attached=!0,d}}export{p as ParallelLineSnappingCandidate};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{unwrap as e}from\"../../../core/maybe.js\";import{a as t,f as r}from\"../../../chunks/vec2f64.js\";import{j as o}from\"../../../chunks/vec2.js\";import{defaults as i}from\"./Settings.js\";import{anyMapPointToScreenPoint as s,squareDistance as n}from\"./snappingUtils.js\";import{SnappingAlgorithm as a}from\"./SnappingAlgorithm.js\";import{projectPointToLine as l}from\"../../3d/support/geometryUtils/vector2d.js\";import{ParallelLineSnappingCandidate as h}from\"./ParallelLineSnappingCandidate.js\";class c extends a{constructor({enabled:e=i.lineSnapper.enabled,proximityThreshold:r=i.lineProximityThreshold,shortLineThreshold:o=i.shortLineThreshold}={}){super({enabled:e,proximityThreshold:r,shortLineThreshold:o}),this._tmpProjection=t()}snapNewVertex(e,t){const r=t.geometry.data.components[0],o=r.edges.length,i=r.vertices.length,n=[];if(o<2)return n;const a=t.geometry.data.coordinateHelper.fromPoint(e),l=s(a,t.geometry.data.coordinateHelper,t.elevationInfo,t.view),h=r.vertices[i-1],c=r.vertices[0],d=r.edges[o-1];let p=d;do{this.edgeExceedsShortLineThreshold(p,t)&&(this._checkEdgeForParalleLines(p,h.pos,e,l,t,n),this._checkEdgeForParalleLines(p,c.pos,e,l,t,n)),p=p.left.left}while(p&&p!==d);return n}snapExistingVertex(t,r){const o=[],i=e(r.vertexHandle),n=i.component;if(n.edges.length<3)return o;const a=r.geometry.data.coordinateHelper.fromPoint(t),l=s(a,r.geometry.data.coordinateHelper,r.elevationInfo,r.view),h=i.left,c=i.right,d=n.vertices[0],p=n.vertices.length,m=n.vertices[p-1],g=n.edges[0];let f=g;do{f!==h&&f!==c&&this.edgeExceedsShortLineThreshold(f,r)&&(h&&this._checkEdgeForParalleLines(f,h.left.pos,t,l,r,o),c&&this._checkEdgeForParalleLines(f,c.right.pos,t,l,r,o),i===d?this._checkEdgeForParalleLines(f,m.pos,t,l,r,o):i===m&&this._checkEdgeForParalleLines(f,d.pos,t,l,r,o)),f=f.right.right}while(f&&f!==g);return o}_checkEdgeForParalleLines(e,t,a,c,d,p){const m=e.left.pos,g=e.right.pos;if(l(this._tmpProjection,t,m,g),o(this._tmpProjection,t)<i.parallelLineThreshold)return;l(this._tmpProjection,r(a.x,a.y),m,g,t);const f=d.geometry.data.coordinateHelper,P=f.fromXYZ(this._tmpProjection,a.hasZ?a.z:0);if(n(c,s(P,f,d.elevationInfo,d.view))<this.squaredProximityTreshold(d.pointer)){if(this.parallelToPreviousCandidate(e,p))return;p.push(new h({coordinateHelper:f,referenceLine:e,lineStart:t,targetPoint:P}))}}parallelToPreviousCandidate(e,t){const r=e.left.pos,s=e.right.pos;for(const n of t)if(l(this._tmpProjection,s,n.constraint.start,n.constraint.end,r),o(this._tmpProjection,s)<i.parallelLineThreshold)return n.addReferenceLine(e),!0;return!1}}export{c as ParallelLineSnapper};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{destroyHandle as e,handlesGroup as t}from\"../../../core/handleUtils.js\";import{createLineSegmentHintFromMap as r,createQuadHint as i}from\"./snappingUtils.js\";import{SnappingCandidate as s}from\"./SnappingCandidate.js\";class n extends s{constructor({coordinateHelper:e,targetPoint:t,constraint:r,previousVertex:i,centerVertex:s}){super(e,t,r),this._previousVertex=i,this._centerVertex=s}visualizeTargetHints(t,i,s){return e(r(0,this.constraint.start,s,this.coordinateHelper,i,t))}visualizeReferenceHints(s,n,o){return t([e(r(2,this._previousVertex,this.constraint.start,this.coordinateHelper,n,s)),e(i(this._previousVertex,this._centerVertex,o,this.coordinateHelper,n,s))])}}export{n as RightAngleSnappingCandidate};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{unwrap as t}from\"../../../core/maybe.js\";import{sign as e}from\"../../../core/mathUtils.js\";import{a as r,f as i}from\"../../../chunks/vec2f64.js\";import{d as o,g as n,q as s,p}from\"../../../chunks/vec2.js\";import{defaults as a}from\"./Settings.js\";import{anyMapPointToScreenPoint as h,squareDistance as l}from\"./snappingUtils.js\";import{SnappingAlgorithm as g}from\"./SnappingAlgorithm.js\";import{RayConstraint as c}from\"./SnappingConstraint.js\";import{RightAngleSnappingCandidate as f}from\"./RightAngleSnappingCandidate.js\";class d extends g{constructor({enabled:t=a.lineSnapper.enabled,proximityThreshold:e=a.lineProximityThreshold,shortLineThreshold:i=a.shortLineThreshold}={}){super({enabled:t,proximityThreshold:e,shortLineThreshold:i}),this._tmp=r()}snapNewVertex(t,e){const r=e.geometry.data.components[0],i=r.vertices.length,o=[];if(i<2)return o;const n=e.geometry.data.coordinateHelper,s=n.fromPoint(t),p=h(s,e.geometry.data.coordinateHelper,e.elevationInfo,e.view),a=r.vertices[i-1];this._checkForSnappingCandidate(o,a.left,a.pos,n.fromPoint(t),a.left.left.pos,a.pos,e,t,p);const l=r.vertices[0];return this._checkForSnappingCandidate(o,l.right,l.pos,n.fromPoint(t),l.right.right.pos,l.pos,e,t,p),o}snapExistingVertex(e,r){const i=[],o=t(r.vertexHandle),n=o.component,s=n.vertices.length;if(s<3)return i;const p=r.geometry.data.coordinateHelper.fromPoint(e),a=h(p,r.geometry.data.coordinateHelper,r.elevationInfo,r.view),l=o.left,g=o.right,c=n.vertices[0],f=n.vertices[s-1];if(!l)return this._checkForSnappingCandidate(i,c.right.right.right,c.right.right.pos,p,c.right.right.right.right.pos,c.right.right.pos,r,e,a),i;if(!g)return this._checkForSnappingCandidate(i,f.left.left.left,f.left.left.pos,p,f.left.left.left.left.pos,f.left.left.pos,r,e,a),i;if(l&&l.left.left){const t=l.left.left;this._checkForSnappingCandidate(i,t,l.left.pos,p,t.left.pos,l.left.pos,r,e,a)}if(g&&g.right.right){const t=g.right.right;this._checkForSnappingCandidate(i,t,g.right.pos,p,t.right.pos,g.right.pos,r,e,a)}return i}_checkForSnappingCandidate(t,a,g,d,m,v,u,x,S){if(!this.edgeExceedsShortLineThreshold(a,u))return;o(this._tmp,a.right.pos,a.left.pos);const _=i(this._tmp[1],-this._tmp[0]),y=n(_,o(this._tmp,d,g))/s(_),j=u.geometry.data.coordinateHelper,k=j.fromXYZ(p(r(),v,_,y),x.hasZ?x.z:0);l(S,h(k,j,u.elevationInfo,u.view))<this.squaredProximityTreshold(u.pointer)&&t.push(new f({coordinateHelper:j,targetPoint:k,constraint:new c(v,p(j.createNew(),v,_,e(y))),previousVertex:m,centerVertex:v}))}}export{d as RightAngleSnapper};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{destroyHandle as t,handlesGroup as i}from\"../../../core/handleUtils.js\";import{createLineSegmentHintFromMap as n,createQuadHint as r}from\"./snappingUtils.js\";import{SnappingCandidate as o}from\"./SnappingCandidate.js\";import{PlanarCircleConstraint as e}from\"./SnappingConstraint.js\";class s extends o{constructor({coordinateHelper:t,targetPoint:i,point1:n,point2:r}){super(t,i,new e(n,r))}visualizeTargetHints(){return t(null)}visualizeReferenceHints(o,e,s){return i([t(n(2,s,this.constraint.point1,this.coordinateHelper,e,o)),t(n(2,s,this.constraint.point2,this.coordinateHelper,e,o)),t(r(this.constraint.point1,s,this.constraint.point2,this.coordinateHelper,e,o))])}}export{s as RightAngleTriangleSnappingCandidate};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{unwrap as e}from\"../../../core/maybe.js\";import{a as o}from\"../../../chunks/vec2f64.js\";import{m as t,i as r}from\"../../../chunks/vec2.js\";import{defaults as s}from\"./Settings.js\";import{anyMapPointToScreenPoint as i,squareDistance as n}from\"./snappingUtils.js\";import{SnappingAlgorithm as p}from\"./SnappingAlgorithm.js\";import{projectPointToCircle as a}from\"../../3d/support/geometryUtils/vector2d.js\";import{RightAngleTriangleSnappingCandidate as l}from\"./RightAngleTriangleSnappingCandidate.js\";class h extends p{constructor({enabled:e=s.lineSnapper.enabled,proximityThreshold:o=s.lineProximityThreshold,shortLineThreshold:t=s.shortLineThreshold}={}){super({enabled:e,proximityThreshold:o,shortLineThreshold:t})}snapNewVertex(e,o){const t=o.geometry.data.components[0],r=[],s=t.vertices.length;if(\"polygon\"!==o.geometry.type||s<2)return r;const i=t.vertices[0],n=t.vertices[s-1];return this._processCandidateProposal(i.pos,n.pos,e,o,r),r}snapExistingVertex(o,t){const r=[],s=e(t.vertexHandle),i=s.component;return i.edges.length<2?r:\"polyline\"!==t.geometry.type||0!==s.index&&s.index!==i.vertices.length-1?(this._processCandidateProposal(s.left.left.pos,s.right.right.pos,o,t,r),r):r}_processCandidateProposal(e,s,p,h,d){if(!this.exceedsShortLineThreshold(e,s,h))return;const m=t(o(),e,s,.5),c=.5*r(e,s),g=a(o(),[p.x,p.y],m,c),f=h.geometry.data.coordinateHelper,y=f.fromXYZ(g,p.hasZ?p.z:0),x=f.fromPoint(p),v=i(x,f,h.elevationInfo,h.view);n(v,i(y,f,h.elevationInfo,h.view))<this.squaredProximityTreshold(h.pointer)&&d.push(new l({coordinateHelper:f,targetPoint:y,point1:e,point2:s}))}}export{h as RightAngleTriangleSnapper};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{isSome as t}from\"../../../core/maybe.js\";import{makeHandle as e,handlesGroup as n}from\"../../../core/handleUtils.js\";import i from\"../../../core/Collection.js\";import{watch as r}from\"../../../core/watchUtils.js\";import{a as o}from\"../../../chunks/vec2f64.js\";import{i as a,d as s,p}from\"../../../chunks/vec2.js\";import{defaults as c}from\"./Settings.js\";import{squareDistance as d,anyMapPointToScreenPoint as l}from\"./snappingUtils.js\";import{cross as h}from\"../../3d/support/geometryUtils/vector2d.js\";import{LineConstraint as f,LineLikeConstraint as u}from\"./SnappingConstraint.js\";import{IntersectionSnappingCandidate as g}from\"./IntersectionSnappingCandidate.js\";import{LineSnapper as m}from\"./LineSnapper.js\";import{ParallelLineSnapper as S}from\"./ParallelLineSnapper.js\";import{RightAngleSnapper as _}from\"./RightAngleSnapper.js\";import{RightAngleTriangleSnapper as v}from\"./RightAngleTriangleSnapper.js\";class P{constructor(t){this._snapper=new i,this._currentSnappingCandidate=null,this._visualElementHandles=e(),this._optionsHandle=e(),this._squaredMouseProximityTreshold=c.pointProximityThreshold*c.pointProximityThreshold,this._squaredTouchProximityThreshold=c.pointProximityThreshold*c.pointProximityThreshold*c.touchSensitivityMultiplier*c.touchSensitivityMultiplier,this._snapper.push(new S({enabled:t.effectiveSelfEnabled})),this._snapper.push(new m({enabled:t.effectiveSelfEnabled})),this._snapper.push(new _({enabled:t.effectiveSelfEnabled})),this._snapper.push(new v({enabled:t.effectiveSelfEnabled})),this._optionsHandle=r(t,\"effectiveSelfEnabled\",(()=>{for(const e of this._snapper)e.enabled=t.effectiveSelfEnabled;this.doneSnapping()}))}snap(t,e){const n=[];for(const i of this._snapper.items)n.push(...i.snap(t,e));return this._aggregateSnappingCandidates(n,t,e)}destroy(){this.doneSnapping(),this._optionsHandle.remove()}doneSnapping(){this._visualElementHandles.remove(),this._currentSnappingCandidate=null}_aggregateSnappingCandidates(e,n,i){const r=e.length,o=i.geometry.data.coordinateHelper.fromPoint(n);if(t(this._currentSnappingCandidate)){if(this.isCurrentIntersectionConstraintStillActive(e)&&a(o,this._currentSnappingCandidate.targetPoint)<this.squaredPointProximityThreshold(i.pointer))return i.geometry.data.coordinateHelper.createDehydratedPoint(this._currentSnappingCandidate.targetPoint);const n=y(e,this._currentSnappingCandidate);if(this.doneSnapping(),n>=0){const a=e[n],s=[];if(a.constraint instanceof u){for(let p=0;p<r;++p){if(p===n)continue;const r=e[p];if(r.constraint instanceof u){const e=this._intersectRaysAndLines(a,r,i);if(t(e)){const t=d(l(o,i.geometry.data.coordinateHelper,i.elevationInfo,i.view),l(e.targetPoint,i.geometry.data.coordinateHelper,i.elevationInfo,i.view));s.push([e,t])}}}if(s.length>0&&(s.sort(((t,e)=>t[1]-e[1])),s[0][1]<this.squaredPointProximityThreshold(i.pointer)))return this.updateSnappingCandidate(s[0][0],e,i)}return this.updateSnappingCandidate(a,e,i)}}if(r>0){let t=0,n=a(o,e[0].targetPoint);for(let i=1;i<r;++i){const r=a(o,e[i].targetPoint);r<n&&(n=r,t=i)}return this.updateSnappingCandidate(e[t],e,i)}return n}_intersectRaysAndLines(t,e,n){const i=t.constraint.start,r=t.constraint.end,a=e.constraint.start,d=e.constraint.end,l=s(o(),r,i),u=s(o(),d,a),m=h(l,u);if(Math.abs(m)<=c.intersectionParallelLineThreshold)return null;const S=s(o(),i,a),_=h(u,S)/m,v=h(l,S)/m,P=n.geometry.data.coordinateHelper;if(_>=0){if(v>=0||e.constraint instanceof f){const n=P.clone(t.targetPoint);return p(n,i,l,_),new g(P,n,t,e)}}else if(t.constraint instanceof f&&(v>=0||e.constraint instanceof f)){const n=P.clone(t.targetPoint);return p(n,i,l,_),new g(P,n,t,e)}return null}isCurrentIntersectionConstraintStillActive(t){if(this._currentSnappingCandidate instanceof g){const e=this._currentSnappingCandidate.left,n=this._currentSnappingCandidate.right,i=y(t,e),r=y(t,n);return i>=0&&r>=0}return!1}updateSnappingCandidate(t,e,i){this._currentSnappingCandidate=t;const r=this._currentSnappingCandidate.targetPoint,o=[t.visualize(i.view,i.elevationInfo,r)];for(const n of e){if(t instanceof g){if(n.constraint.objectEqual(t.left.constraint)||n.constraint.objectEqual(t.right.constraint))continue}else if(n.constraint.objectEqual(t.constraint))continue;n.constraint.check(r)&&o.push(n.visualizeReferenceHints(i.view,i.elevationInfo,r))}return this._visualElementHandles=n(o),i.geometry.data.coordinateHelper.createDehydratedPoint(r)}squaredPointProximityThreshold(t){return\"touch\"===t?this._squaredTouchProximityThreshold:this._squaredMouseProximityTreshold}}function y(t,e){let n=-1;for(let i=0;i<t.length;++i)if(e.constraint.objectEqual(t[i].constraint)){n=i;break}return n}export{P as SnappingEngine};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import{property as o}from\"../../../core/accessorSupport/decorators/property.js\";import{subclass as r}from\"../../../core/accessorSupport/decorators/subclass.js\";import\"../../../core/urlUtils.js\";import\"../../../core/uuid.js\";import\"../../../portal/support/resourceExtension.js\";import s from\"../../../core/Accessor.js\";let t=class extends s{constructor(){super(...arguments),this.selfEnabled=!1,this.selfEnabledToggled=!1}get effectiveSelfEnabled(){return this.selfEnabledToggled?!this.selfEnabled:this.selfEnabled}};e([o()],t.prototype,\"selfEnabled\",void 0),e([o()],t.prototype,\"selfEnabledToggled\",void 0),e([o({readOnly:!0})],t.prototype,\"effectiveSelfEnabled\",null),t=e([r(\"esri.views.interactive.snapping.SnappingOptions\")],t);export{t as SnappingOptions};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport\"../../../core/has.js\";import e from\"../../../Color.js\";import{createScreenPoint as t,createScreenPointArray as n}from\"../../../core/screenUtils.js\";import{c as r}from\"../../../chunks/vec3f64.js\";import{getConvertedElevationFromMapPoint as i}from\"../../../support/elevationInfoUtils.js\";import{defaults as o}from\"./Settings.js\";import{ExtendedLineVisualElement as s}from\"../../3d/interactive/visualElements/ExtendedLineVisualElement.js\";import{RightAngleQuadVisualElement as c}from\"../../3d/interactive/visualElements/RightAngleQuadVisualElement.js\";function a(e,t){const n=e.x-t.x,r=e.y-t.y;return n*n+r*r}function d(e,t){const n=e.length===t.length&&e[0]===t[0]&&e[1]===t[1];switch(e.length){case 2:return n;case 3:return n&&e[2]===t[2];case 4:return n&&e[3]===t[3]}return!1}function l(e,n,r,i){return u(e,n,r,i,g),i.state.camera.projectToScreen(g,x),t(x[0],x[1])}function u(e,t,n,o,s=r()){const c=t.toXYZ(e);return c[2]=i(o,c,t.spatialReference,n),o.renderCoordsHelper.toRenderCoords(c,t.spatialReference,s),s}function f(e,t,n,r,i,o=!0,s=!0){return h(e,i,u(t.left.pos,n,r,i),u(t.right.pos,n,r,i),o,s)}function m(e,t,n,r,i,o){return h(e,o,u(t,r,i,o),u(n,r,i,o))}function h(t,n,r,i,c=!0,a=!0){const d=new s({view:n,extensionType:3,start:r,end:i,color:e.toUnitRGBA(o.orange),renderOccluded:16});switch(t){case 0:d.width=o.lineHintWidthTarget,d.fadedExtensions={start:0,end:o.lineHintFadedExtensions};break;case 3:d.width=o.lineHintWidthReference,d.fadedExtensions={start:0,end:0};break;case 1:case 2:d.width=o.lineHintWidthReference,d.fadedExtensions={start:c?o.lineHintFadedExtensions:0,end:a?o.lineHintFadedExtensions:0}}return d.attached=!0,d}function p(t,n,r,i,s,a){return new c({view:a,attached:!0,color:e.toUnitRGBA(o.orange),renderOccluded:2,outlineRenderOccluded:16,outlineColor:e.toUnitRGBA(o.orange),outlineSize:o.rightAngleHintOutlineSize,size:o.rightAngleHintSize,geometry:{previous:u(t,i,s,a),center:u(n,i,s,a),next:u(r,i,s,a)}})}const g=r(),x=n();export{u as anyMapPointToRender,l as anyMapPointToScreenPoint,h as createLineSegmentHint,f as createLineSegmentHintFromEdge,m as createLineSegmentHintFromMap,p as createQuadHint,d as objectEqual,a as squareDistance};\n"],"sourceRoot":""}