(self.webpackChunkimaps=self.webpackChunkimaps||[]).push([[3e3],{15988:(e,t,i)=>{"use strict";i.d(t,{Z:()=>b});var r,n=i(56140),l=(i(95830),i(82550)),o=i(59472),a=(i(36544),i(68055),i(79881)),s=i(87566),c=(i(10923),i(57002),i(86035),i(58385)),u=i(56885),p=i(36348),d=i(58484),f=i(54734),h=i(32366);let y=r=class extends c.wq{constructor(...e){super(...e),this.isAggregate=!1,this.layer=null,this.popupTemplate=null,this.sourceLayer=null,Object.defineProperty(this,"uid",{value:(0,h.D)(),configurable:!0})}normalizeCtorArgs(e,t,i,r){return e&&!e.declaredClass?e:{geometry:e,symbol:t,attributes:i,popupTemplate:r}}set attributes(e){const t=this._get("attributes");t!==e&&(this._set("attributes",e),this._notifyLayer("attributes",t,e))}set geometry(e){const t=this._get("geometry");t!==e&&(this._set("geometry",e),this._notifyLayer("geometry",t,e))}set symbol(e){const t=this._get("symbol");t!==e&&(this._set("symbol",e),this._notifyLayer("symbol",t,e))}set visible(e){const t=this._get("visible");t!==e&&(this._set("visible",e),this._notifyLayer("visible",t,e))}getEffectivePopupTemplate(e=!1){return this.popupTemplate?this.popupTemplate:this.sourceLayer?"popupTemplate"in this.sourceLayer&&this.sourceLayer.popupTemplate?this.sourceLayer.popupTemplate:e&&"defaultPopupTemplate"in this.sourceLayer&&(0,o.pC)(this.sourceLayer.defaultPopupTemplate)?this.sourceLayer.defaultPopupTemplate:null:null}getAttribute(e){return this.attributes&&this.attributes[e]}setAttribute(e,t){if(this.attributes){const i=this.getAttribute(e);this.attributes[e]=t,this._notifyLayer("attributes",i,t,e)}else this.attributes={[e]:t},this._notifyLayer("attributes",void 0,t,e)}getObjectId(){return this.sourceLayer&&"objectIdField"in this.sourceLayer&&this.sourceLayer.objectIdField?this.getAttribute(this.sourceLayer.objectIdField):null}toJSON(){return{geometry:(0,o.pC)(this.geometry)?this.geometry.toJSON():null,symbol:(0,o.pC)(this.symbol)?this.symbol.toJSON():null,attributes:{...this.attributes},popupTemplate:this.popupTemplate&&this.popupTemplate.toJSON()}}clone(){return new r(this.cloneProperties())}cloneProperties(){return{attributes:(0,l.d9)(this.attributes),geometry:(0,l.d9)(this.geometry),layer:this.layer,popupTemplate:this.popupTemplate&&this.popupTemplate.clone(),sourceLayer:this.sourceLayer,symbol:(0,l.d9)(this.symbol),visible:this.visible}}_notifyLayer(e,t,i,r){if(!this.layer||!("graphicChanged"in this.layer))return;const n={graphic:this,property:e,oldValue:t,newValue:i};"attributes"===e&&(n.attributeName=r),this.layer.graphicChanged(n)}};(0,n._)([(0,a.Cb)({value:null})],y.prototype,"attributes",null),(0,n._)([(0,a.Cb)({value:null,types:p.qM,json:{read:u.im}})],y.prototype,"geometry",null),(0,n._)([(0,a.Cb)({type:Boolean})],y.prototype,"isAggregate",void 0),(0,n._)([(0,a.Cb)()],y.prototype,"layer",void 0),(0,n._)([(0,a.Cb)({type:d.default})],y.prototype,"popupTemplate",void 0),(0,n._)([(0,a.Cb)()],y.prototype,"sourceLayer",void 0),(0,n._)([(0,a.Cb)({value:null,types:f.s})],y.prototype,"symbol",null),(0,n._)([(0,a.Cb)({type:Boolean,value:!0})],y.prototype,"visible",null),y=r=(0,n._)([(0,s.j)("esri.Graphic")],y),function(e){e.generateUID=h.D}(y||(y={}));const b=y},92823:(e,t,i)=>{"use strict";i.d(t,{an:()=>n,Xq:()=>l,WJ:()=>o});var r=i(62698);const n=-3;class l{constructor(e,t,i){this._namespace=e,this._storage=t,this._removeFunc=!1,this._hit=0,this._miss=0,this._storage.register(this),this._namespace+=":",i&&(this._storage.registerRemoveFunc(this._namespace,i),this._removeFunc=!0)}get namespace(){return this._namespace.slice(0,-1)}get hitRate(){return this._hit/(this._hit+this._miss)}get size(){return this._storage.size}get maxSize(){return this._storage.maxSize}resetHitRate(){this._hit=this._miss=0}destroy(){this._storage.clear(this._namespace),this._removeFunc&&this._storage.deregisterRemoveFunc(this._namespace),this._storage.deregister(this)}put(e,t,i,r=0){this._storage.put(this._namespace+e,t,i,r)}get(e){const t=this._storage.get(this._namespace+e);return void 0===t?++this._miss:++this._hit,t}pop(e){const t=this._storage.pop(this._namespace+e);return void 0===t?++this._miss:++this._hit,t}updateSize(e,t,i){this._storage.updateSize(this._namespace+e,t,i)}clear(){this._storage.clear(this._namespace)}clearAll(){this._storage.clearAll()}getStats(){return this._storage.getStats()}resetStats(){this._storage.resetStats()}}class o{constructor(e=10485760){this._maxSize=e,this._db=new Map,this._size=0,this._hit=0,this._miss=0,this._removeFuncs=[],this._users=new r.Z}register(e){this._users.push(e)}deregister(e){this._users.removeUnordered(e)}registerRemoveFunc(e,t){this._removeFuncs.push([e,t])}deregisterRemoveFunc(e){this._removeFuncs=this._removeFuncs.filter((t=>t[0]!==e))}get size(){return this._size}get maxSize(){return this._maxSize}set maxSize(e){this._maxSize=Math.max(e,0),this._checkSizeLimit()}put(e,t,i,r){const n=this._db.get(e);if(n&&(this._size-=n.size,this._db.delete(e),n.entry!==t&&this._notifyRemoved(e,n.entry)),i>this._maxSize)return void this._notifyRemoved(e,t);if(void 0===t)return void console.warn("Refusing to cache undefined entry ");if(!i||i<0)return void console.warn("Refusing to cache entry with invalid size "+i);const l=1+Math.max(r,-3)- -3;this._db.set(e,{entry:t,size:i,lifetime:l,lives:l}),this._size+=i,this._checkSizeLimit()}updateSize(e,t,i){const r=this._db.get(e);r&&r.entry===t&&(this._size-=r.size,i>this._maxSize?this._notifyRemoved(e,t):(r.size=i,this._size+=i,this._checkSizeLimit()))}pop(e){const t=this._db.get(e);if(t)return this._size-=t.size,this._db.delete(e),++this._hit,t.entry;++this._miss}get(e){const t=this._db.get(e);if(void 0!==t)return this._db.delete(e),t.lives=t.lifetime,this._db.set(e,t),++this._hit,t.entry;++this._miss}getStats(){const e={Size:Math.round(this._size/1048576)+"/"+Math.round(this._maxSize/1048576)+"MB","Hit rate":Math.round(100*this._getHitRate())+"%",Entries:this._db.size.toString()},t={},i=new Array;this._db.forEach(((e,r)=>{const n=e.lifetime;i[n]=(i[n]||0)+e.size,this._users.forAll((i=>{const n=i.namespace;if(r.startsWith(n)){const i=t[n]||0;t[n]=i+e.size}}))}));const r={};this._users.forAll((e=>{const i=e.namespace;if(!isNaN(e.hitRate)&&e.hitRate>0){const n=t[i]||0;t[i]=n,r[i]=Math.round(100*e.hitRate)+"%"}else r[i]="0%"}));const n=Object.keys(t);n.forEach((e=>t[e]=t[e]/this._size*100)),n.sort(((e,i)=>t[i]-t[e])),n.forEach((i=>e[i]=Math.round(t[i])+"% / "+r[i]));for(let t=i.length-1;t>=0;--t){const r=i[t];r&&(e["Priority "+(t+-3-1)]=Math.round(r/this.size*100)+"%")}return e}resetStats(){this._hit=this._miss=0,this._users.forAll((e=>e.resetHitRate()))}clear(e){this._db.forEach(((t,i)=>{i.startsWith(e)&&(this._size-=t.size,this._db.delete(i),this._notifyRemoved(i,t.entry))}))}clearAll(){this._db.forEach(((e,t)=>this._notifyRemoved(t,e.entry))),this._size=0,this._db.clear()}_getHitRate(){return this._hit/(this._hit+this._miss)}_notifyRemoved(e,t){this._removeFuncs.forEach((i=>{e.startsWith(i[0])&&i[1](t)}))}_checkSizeLimit(){if(!(this._size<=this._maxSize))for(const[e,t]of this._db)if(this._db.delete(e),t.lives<=1?(this._size-=t.size,this._notifyRemoved(e,t.entry)):(--t.lives,this._db.set(e,t)),this._size<=.9*this.maxSize)return}}},23229:(e,t,i)=>{"use strict";i.d(t,{Hg:()=>y,uD:()=>f,V7:()=>h});var r=i(59472),n=i(65575),l=i(82677),o=i(83477);const a=["esri.Color","esri.portal.Portal","esri.symbols.support.Symbol3DAnchorPosition2D","esri.symbols.support.Symbol3DAnchorPosition3D"];function s(e){return e instanceof l.default}function c(e){return e instanceof o.Z?Object.keys(e.items):s(e)?(0,n.vw)(e).keys():e?Object.keys(e):[]}function u(e,t){return e instanceof o.Z?e.items[t]:e[t]}function p(e){return e?e.declaredClass:null}function d(e,t){const i=e.diff;if(i&&"function"==typeof i)return i(e,t);const n=c(e),l=c(t);if(0===n.length&&0===l.length)return;if(!n.length||!l.length||function(e,t){return!(!Array.isArray(e)||!Array.isArray(t))&&e.length!==t.length}(e,t))return{type:"complete",oldValue:e,newValue:t};const o=l.filter((e=>-1===n.indexOf(e))),f=n.filter((e=>-1===l.indexOf(e))),h=n.filter((i=>l.indexOf(i)>-1&&u(e,i)!==u(t,i))).concat(o,f).sort(),y=p(e);if(y&&a.indexOf(y)>-1&&h.length)return{type:"complete",oldValue:e,newValue:t};let b;const m=s(e)&&s(t);for(const n of h){const l=u(e,n),o=u(t,n);let a;(m||"function"!=typeof l&&"function"!=typeof o)&&l!==o&&(null==l&&null==o||(a=i&&i[n]&&"function"==typeof i[n]?i[n](l,o):"object"==typeof l&&"object"==typeof o&&p(l)===p(o)?d(l,o):{type:"complete",oldValue:l,newValue:o},(0,r.pC)(a)&&((0,r.pC)(b)?b.diff[n]=a:b={type:"partial",diff:{[n]:a}})))}return b}function f(e,t){if((0,r.Wi)(e))return!1;const i=t.split(".");let n=e;for(const e of i){if("complete"===n.type)return!0;if("partial"!==n.type)return!1;{const t=n.diff[e];if(!t)return!1;n=t}}return!0}function h(e,t){for(const i of t)if(f(e,i))return!0;return!1}function y(e,t){if("function"!=typeof e&&"function"!=typeof t&&(e||t))return!e||!t||"object"==typeof e&&"object"==typeof t&&p(e)!==p(t)?{type:"complete",oldValue:e,newValue:t}:d(e,t)}},32366:(e,t,i)=>{"use strict";i.d(t,{D:()=>n});let r=0;function n(){return r++}},7783:(e,t,i)=>{"use strict";i.d(t,{Z:()=>d});var r=i(56140),n=(i(95830),i(82550)),l=(i(36544),i(68055),i(79881)),o=i(56274),a=i(87566),s=i(60538),c=(i(10923),i(57002),i(86035),i(58385));const u=new o.Xn({esriFeatureEditToolAutoCompletePolygon:"auto-complete-polygon",esriFeatureEditToolCircle:"circle",esriFeatureEditToolEllipse:"ellipse",esriFeatureEditToolFreehand:"freehand",esriFeatureEditToolLine:"line",esriFeatureEditToolNone:"none",esriFeatureEditToolPoint:"point",esriFeatureEditToolPolygon:"polygon",esriFeatureEditToolRectangle:"rectangle",esriFeatureEditToolArrow:"arrow",esriFeatureEditToolTriangle:"triangle",esriFeatureEditToolLeftArrow:"left-arrow",esriFeatureEditToolRightArrow:"right-arrow",esriFeatureEditToolUpArrow:"up-arrow",esriFeatureEditToolDownArrow:"down-arrow"});let p=class extends c.wq{constructor(e){super(e),this.name=null,this.description=null,this.drawingTool=null,this.prototype=null,this.thumbnail=null}writeDrawingTool(e,t){t.drawingTool=u.toJSON(e)}writePrototype(e,t){t.prototype=(0,n.yd)((0,n.d9)(e),!0)}writeThumbnail(e,t){t.thumbnail=(0,n.yd)((0,n.d9)(e))}};(0,r._)([(0,l.Cb)({json:{write:!0}})],p.prototype,"name",void 0),(0,r._)([(0,l.Cb)({json:{write:!0}})],p.prototype,"description",void 0),(0,r._)([(0,l.Cb)({json:{read:u.read,write:u.write}})],p.prototype,"drawingTool",void 0),(0,r._)([(0,s.c)("drawingTool")],p.prototype,"writeDrawingTool",null),(0,r._)([(0,l.Cb)({json:{write:!0}})],p.prototype,"prototype",void 0),(0,r._)([(0,s.c)("prototype")],p.prototype,"writePrototype",null),(0,r._)([(0,l.Cb)({json:{write:!0}})],p.prototype,"thumbnail",void 0),(0,r._)([(0,s.c)("thumbnail")],p.prototype,"writeThumbnail",null),p=(0,r._)([(0,a.j)("esri.layers.support.FeatureTemplate")],p);const d=p},21872:(e,t,i)=>{"use strict";i.d(t,{Z:()=>y});var r=i(56140),n=(i(95830),i(82550)),l=(i(36544),i(68055),i(79881)),o=i(30590),a=i(87566),s=i(60538),c=(i(10923),i(57002),i(86035),i(58385)),u=i(43950),p=i(79057),d=i(61618),f=(i(6585),i(7783));let h=class extends c.wq{constructor(e){super(e),this.id=null,this.name=null,this.domains=null,this.templates=null}readDomains(e){const t={};for(const i in e)if(e.hasOwnProperty(i)){const r=e[i];switch(r.type){case"range":t[i]=d.Z.fromJSON(r);break;case"codedValue":t[i]=u.Z.fromJSON(r);break;case"inherited":t[i]=p.Z.fromJSON(r)}}return t}writeDomains(e,t){const i={};for(const t in e)e.hasOwnProperty(t)&&(i[t]=e[t]&&e[t].toJSON());(0,n.yd)(i),t.domains=i}readTemplates(e){return e&&e.map((e=>new f.Z(e)))}writeTemplates(e,t){t.templates=e&&e.map((e=>e.toJSON()))}};(0,r._)([(0,l.Cb)({json:{write:!0}})],h.prototype,"id",void 0),(0,r._)([(0,l.Cb)({json:{write:!0}})],h.prototype,"name",void 0),(0,r._)([(0,l.Cb)({json:{write:!0}})],h.prototype,"domains",void 0),(0,r._)([(0,o.r)("domains")],h.prototype,"readDomains",null),(0,r._)([(0,s.c)("domains")],h.prototype,"writeDomains",null),(0,r._)([(0,l.Cb)({json:{write:!0}})],h.prototype,"templates",void 0),(0,r._)([(0,o.r)("templates")],h.prototype,"readTemplates",null),(0,r._)([(0,s.c)("templates")],h.prototype,"writeTemplates",null),h=(0,r._)([(0,a.j)("esri.layers.support.FeatureType")],h);const y=h},61121:(e,t,i)=>{"use strict";function r(e){return"date"===e.type||"esriFieldTypeDate"===e.type}function n(e){return e.toLowerCase().trim()}i.d(t,{Z:()=>l});const l=class{constructor(e){if(this.fields=e,this._fieldsMap=new Map,this._dateFieldsSet=new Set,this.dateFields=[],!e)return;const t=[];for(const i of e){const e=i&&i.name;if(e){const l=n(e);this._fieldsMap.set(e,i),this._fieldsMap.set(l,i),t.push(l),r(i)&&(this.dateFields.push(i),this._dateFieldsSet.add(i))}}t.sort(),this.uid=t.join(",")}destroy(){this._fieldsMap.clear()}has(e){return null!=this.get(e)}get(e){return null!=e?this._fieldsMap.get(e)||this._fieldsMap.get(n(e)):void 0}isDateField(e){return this._dateFieldsSet.has(this.get(e))}normalizeFieldName(e){const t=this.get(e);if(t)return t.name}}},26360:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>x});var r,n=i(56140),l=(i(95830),i(82550)),o=(i(36544),i(68055),i(79881)),a=i(56274),s=i(30590),c=i(87566),u=i(60538),p=(i(10923),i(57002),i(86035),i(58385)),d=i(54734),f=i(49684);let h=r=class extends p.wq{constructor(){super(...arguments),this.expression=null,this.title=null,this.value=null}readExpression(e,t){return t.value?(0,f.dI)(t.value):e}writeExpression(e,t,i){null!=this.value&&(e=(0,f.dI)(this.value)),t[i]=e}clone(){return new r({expression:this.expression,title:this.title,value:this.value})}};(0,n._)([(0,o.Cb)({type:String,json:{write:{allowNull:!0}}})],h.prototype,"expression",void 0),(0,n._)([(0,o.Cb)({type:String,json:{write:!0,origins:{"web-scene":{write:!1}}}})],h.prototype,"title",void 0),(0,n._)([(0,o.Cb)({json:{read:!1,write:!1}})],h.prototype,"value",void 0),(0,n._)([(0,s.r)("expression",["expression","value"])],h.prototype,"readExpression",null),(0,n._)([(0,u.c)("expression")],h.prototype,"writeExpression",null),h=r=(0,n._)([(0,c.j)("esri.layers.support.LabelExpressionInfo")],h);const y=h;var b,m=i(5684);const v=new a.Xn({esriServerPointLabelPlacementAboveCenter:"above-center",esriServerPointLabelPlacementAboveLeft:"above-left",esriServerPointLabelPlacementAboveRight:"above-right",esriServerPointLabelPlacementBelowCenter:"below-center",esriServerPointLabelPlacementBelowLeft:"below-left",esriServerPointLabelPlacementBelowRight:"below-right",esriServerPointLabelPlacementCenterCenter:"center-center",esriServerPointLabelPlacementCenterLeft:"center-left",esriServerPointLabelPlacementCenterRight:"center-right",esriServerLinePlacementAboveAfter:"above-after",esriServerLinePlacementAboveAlong:"above-along",esriServerLinePlacementAboveBefore:"above-before",esriServerLinePlacementAboveStart:"above-start",esriServerLinePlacementAboveEnd:"above-end",esriServerLinePlacementBelowAfter:"below-after",esriServerLinePlacementBelowAlong:"below-along",esriServerLinePlacementBelowBefore:"below-before",esriServerLinePlacementBelowStart:"below-start",esriServerLinePlacementBelowEnd:"below-end",esriServerLinePlacementCenterAfter:"center-after",esriServerLinePlacementCenterAlong:"center-along",esriServerLinePlacementCenterBefore:"center-before",esriServerLinePlacementCenterStart:"center-start",esriServerLinePlacementCenterEnd:"center-end",esriServerPolygonPlacementAlwaysHorizontal:"always-horizontal"},{ignoreUnknown:!0});function g(e){return!e||"service"!==e.origin&&!(e.layer&&"map-image"===e.layer.type)}let w=b=class extends p.wq{constructor(e){super(e),this.type="label",this.name=null,this.deconflictionStrategy="static",this.labelExpression=null,this.labelExpressionInfo=null,this.labelPlacement=null,this.maxScale=0,this.minScale=0,this.symbol=m.Rz,this.useCodedValues=void 0,this.where=null}static evaluateWhere(e,t){const i=function(e,t,i){switch(t){case"=":return e==i;case"<>":return e!=i;case">":return e>i;case">=":return e>=i;case"<":return e<i;case"<=":return e<=i}return!1};try{if(null==e)return!0;const r=e.split(" ");if(3===r.length)return i(t[r[0]],r[1],r[2]);if(7===r.length){const e=i(t[r[0]],r[1],r[2]),n=r[3],l=i(t[r[4]],r[5],r[6]);switch(n){case"AND":return e&&l;case"OR":return e||l}}return!1}catch(t){console.log("Error.: can't parse = "+e)}}readLabelExpression(e,t){const i=t.labelExpressionInfo;if(!i||!i.value&&!i.expression)return e}writeLabelExpression(e,t,i,r){if(this.labelExpressionInfo&&(g(r)||r&&"service"===r.origin))if(null!=this.labelExpressionInfo.value)e=(0,f.z7)(this.labelExpressionInfo.value);else if(null!=this.labelExpressionInfo.expression){const t=(0,f.el)(this.labelExpressionInfo.expression);t&&(e="["+t+"]")}null!=e&&(t[i]=e)}writeLabelExpressionInfo(e,t,i,r){if(null==e&&null!=this.labelExpression&&g(r))e=new y({expression:this.getLabelExpressionArcade()});else if(!e)return;const n=e.toJSON(r);n.expression&&(t[i]=n)}writeMaxScale(e,t){(e||this.minScale)&&(t.maxScale=e)}writeMinScale(e,t){(e||this.maxScale)&&(t.minScale=e)}getLabelExpression(){return(0,f.hV)(this)}getLabelExpressionArcade(){return(0,f.YI)(this)}getLabelExpressionSingleField(){return(0,f.UO)(this)}hash(){return JSON.stringify(this)}clone(){return new b({deconflictionStrategy:this.deconflictionStrategy,labelExpression:this.labelExpression,labelExpressionInfo:(0,l.d9)(this.labelExpressionInfo),labelPlacement:this.labelPlacement,maxScale:this.maxScale,minScale:this.minScale,name:this.name,symbol:(0,l.d9)(this.symbol),where:this.where,useCodedValues:this.useCodedValues})}};(0,n._)([(0,o.Cb)({type:String,json:{write:!0}})],w.prototype,"name",void 0),(0,n._)([(0,o.Cb)({type:String,json:{write:!0,default:"static",origins:{"web-scene":{write:!1}}}})],w.prototype,"deconflictionStrategy",void 0),(0,n._)([(0,o.Cb)({type:String,json:{write:{allowNull:!0}}})],w.prototype,"labelExpression",void 0),(0,n._)([(0,s.r)("labelExpression")],w.prototype,"readLabelExpression",null),(0,n._)([(0,u.c)("labelExpression")],w.prototype,"writeLabelExpression",null),(0,n._)([(0,o.Cb)({type:y,json:{write:{overridePolicy:(e,t,i)=>g(i)?{allowNull:!0}:{enabled:!1}}}})],w.prototype,"labelExpressionInfo",void 0),(0,n._)([(0,u.c)("labelExpressionInfo")],w.prototype,"writeLabelExpressionInfo",null),(0,n._)([(0,o.Cb)({type:v.apiValues,json:{type:v.jsonValues,read:v.read,write:v.write}})],w.prototype,"labelPlacement",void 0),(0,n._)([(0,o.Cb)({type:Number})],w.prototype,"maxScale",void 0),(0,n._)([(0,u.c)("maxScale")],w.prototype,"writeMaxScale",null),(0,n._)([(0,o.Cb)({type:Number})],w.prototype,"minScale",void 0),(0,n._)([(0,u.c)("minScale")],w.prototype,"writeMinScale",null),(0,n._)([(0,o.Cb)({types:d.d,json:{origins:{"web-scene":{types:d.g,write:d.w,default:null}},write:d.w,default:null}})],w.prototype,"symbol",void 0),(0,n._)([(0,o.Cb)({type:Boolean,json:{write:!0}})],w.prototype,"useCodedValues",void 0),(0,n._)([(0,o.Cb)({type:String,json:{write:!0}})],w.prototype,"where",void 0),w=b=(0,n._)([(0,c.j)("esri.layers.support.LabelClass")],w);const x=w},97849:(e,t,i)=>{"use strict";i.d(t,{ld:()=>p,B5:()=>c,M8:()=>f,h3:()=>v,G:()=>m,Qc:()=>u,Nm:()=>h,XG:()=>y,a7:()=>d,wH:()=>b});var r=i(59472),n=i(10923),l=i(37704);const o=["MapServer","ImageServer","FeatureServer","SceneServer","StreamServer","VectorTileServer"],a=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/rest\\/services\\/(.+?)\\/(${o.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),s=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/([^\\/\\n]+)\\/(${o.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i");function c(e){return!!a.test(e)}function u(e){const t=(0,n.mN)(e),i=t.path.match(a)||t.path.match(s);if(!i)return null;const[,r,l,o,c]=i,u=l.indexOf("/");return{title:p(-1!==u?l.slice(u+1):l),serverType:o,sublayer:null!=c&&""!==c?parseInt(c,10):null,url:{path:r}}}function p(e){return(e=e.replace(/\s*[/_]+\s*/g," "))[0].toUpperCase()+e.slice(1)}function d(e,t){const i=[];if(e){const t=u(e);(0,r.pC)(t)&&t.title&&i.push(t.title)}if(t){const e=p(t);i.push(e)}if(2===i.length){if(-1!==i[0].toLowerCase().indexOf(i[1].toLowerCase()))return i[0];if(-1!==i[1].toLowerCase().indexOf(i[0].toLowerCase()))return i[1]}return i.join(" - ")}function f(e){if(!e)return!1;const t=-1!==(e=e.toLowerCase()).indexOf(".arcgis.com/"),i=-1!==e.indexOf("//services")||-1!==e.indexOf("//tiles")||-1!==e.indexOf("//features");return t&&i}function h(e,t){return e?(0,n.Qj)((0,n.Hu)(e,t)):e}function y(e,t,i){if(!t)return{url:t};t=(0,n.Hu)(t,i);const l=u((0,n.mN)(t).path);let o;return(0,r.pC)(l)&&(null!=l.sublayer&&null==e.layerId&&(o=l.sublayer),t=l.url.path),{url:(0,n.Qj)(t),layerId:o}}function b(e,t,i,r,o){(0,l.w)(t,r,"url",o),r.url&&null!=e.layerId&&(r.url=(0,n.v_)(r.url,i,e.layerId.toString()))}function m(e){if(!e)return!1;const t=e.toLowerCase(),i=-1!==t.indexOf("/services/"),r=-1!==t.indexOf("/mapserver/wmsserver"),n=-1!==t.indexOf("/imageserver/wmsserver"),l=-1!==t.indexOf("/wmsserver");return i&&(r||n||l)}function v(e){if(!e)return!1;const t=new n.R9((0,n.hF)(e)).authority.toLowerCase();return"server.arcgisonline.com"===t||"services.arcgisonline.com"===t}},49684:(e,t,i)=>{"use strict";i.d(t,{dI:()=>d,hV:()=>c,YI:()=>u,UO:()=>p,el:()=>m,z7:()=>s});var r=i(88263);const n=new RegExp("__begin__","ig"),l=new RegExp("__end__","ig"),o=new RegExp("^__begin__","i"),a=new RegExp("__end__$","i");function s(e){return e.replace(new RegExp("\\{","g"),"[").replace(new RegExp("\\}","g"),"]")}function c(e){const t={expression:"",type:"none"};return e.labelExpressionInfo?e.labelExpressionInfo.value?(t.expression=e.labelExpressionInfo.value,t.type="conventional"):e.labelExpressionInfo.expression&&(t.expression=e.labelExpressionInfo.expression,t.type="arcade"):null!=e.labelExpression&&(t.expression=function(e){return e.replace(new RegExp("\\[","g"),"{").replace(new RegExp("\\]","g"),"}")}(e.labelExpression),t.type="conventional"),t}function u(e){const t=c(e);if(!t)return null;switch(t.type){case"conventional":return d(t.expression);case"arcade":return t.expression}return null}function p(e){const t=c(e);if(!t)return null;switch(t.type){case"conventional":return function(e){const t=e.match(f);return t&&t[1].trim()||null}(t.expression);case"arcade":return m(t.expression)}return null}function d(e){let t;return e?(t=(0,r.gx)(e,(e=>'__begin__$feature["'+e+'"]__end__')),t=o.test(t)?t.replace(o,""):'"'+t,t=a.test(t)?t.replace(a,""):t+'"',t=t.replace(n,'" + ').replace(l,' + "')):t='""',t}const f=/^\s*\{([^}]+)\}\s*$/i;const h=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])([\w\s]+)(\2)\]));?\s*$/i,y=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])([\w\s]+)(\2)\]));?\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])(\1|\3)(\5)\s*\));?\s*$/i,b=/^\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])([\w\s]+)(\1)\s*\));?\s*$/i;function m(e){if(!e)return null;let t=h.exec(e)||y.exec(e);return t?t[1]||t[3]:(t=b.exec(e),t?t[2]:null)}},95005:(e,t,i)=>{"use strict";function r(e){return e&&"esri.renderers.visualVariables.SizeVariable"===e.declaredClass}function n(e){return null!=e&&!isNaN(e)&&isFinite(e)}function l(e){return e.valueExpression?"expression":e.field&&"string"==typeof e.field?"field":"unknown"}function o(e,t){const i=t||l(e),r=e.valueUnit||"unknown";return"unknown"===i?"constant":e.stops?"stops":null!=e.minSize&&null!=e.maxSize&&null!=e.minDataValue&&null!=e.maxDataValue?"clamped-linear":"unknown"===r?null!=e.minSize&&null!=e.minDataValue?e.minSize&&e.minDataValue?"proportional":"additive":"identity":"real-world-size"}i.d(t,{PS:()=>l,QW:()=>o,iY:()=>r,qh:()=>n})},5328:(e,t,i)=>{"use strict";i.r(t),i.d(t,{getAllSizes:()=>C,getColor:()=>h,getOpacity:()=>y,getRotationAngle:()=>b,getSize:()=>m,getSizeForValue:()=>w,getSizeFromNumberOrVariable:()=>v,getSizeRangeAtScale:()=>x,getVisualVariableValues:()=>_,viewScaleRE:()=>f});var r=i(94588),n=i(59472),l=i(36544),o=i(78745),a=i(15988),s=i(2961),c=i(95005);const u=l.Z.getLogger("esri.renderers.visualVariables.support.visualVariableUtils"),p=new a.Z,d=Math.PI,f=/^\s*(return\s+)?\$view\.scale\s*(;)?\s*$/i;function h(e,t,i){const r="visualVariables"in e&&e.visualVariables?e.visualVariables.filter((e=>"color"===e.type))[0]:e;if(!r)return;if("esri.renderers.visualVariables.ColorVariable"!==r.declaredClass)return void u.warn("The visualVariable should be an instance of esri.renderers.visualVariables.ColorVariable");const l="number"==typeof t,a=l?null:t,s=a&&a.attributes;let c=l?t:null;const p=r.field,{ipData:d,hasExpression:f}=r.cache;let h=r.cache.compiledFunc;if(!p&&!f){const e=r.stops;return e&&e[0]&&e[0].color}if("number"!=typeof c)if(f){if(!(0,n.pC)(i)||!(0,n.pC)(i.arcade))return void u.error("Use of arcade expressions requires an arcade context");const e={viewingMode:i.viewingMode,scale:i.scale,spatialReference:i.spatialReference},t=i.arcade.arcadeUtils,l=t.getViewInfo(e),o=t.createExecContext(a,l);if(!h){const e=t.createSyntaxTree(r.valueExpression);h=t.createFunction(e),r.cache.compiledFunc=h}c=t.executeFunction(h,o)}else s&&(c=s[p]);const y=r.normalizationField,b=s?parseFloat(s[y]):void 0;if(null!=c&&(!y||l||!isNaN(b)&&0!==b)){isNaN(b)||l||(c/=b);const e=S(c,d);if(e){const t=e[0],l=e[1],a=t===l?r.stops[t].color:o.default.blendColors(r.stops[t].color,r.stops[l].color,e[2],(0,n.pC)(i)?i.color:void 0);return new o.default(a)}}}function y(e,t,i){const r="visualVariables"in e&&e.visualVariables?e.visualVariables.filter((e=>"opacity"===e.type))[0]:e;if(!r)return;if("esri.renderers.visualVariables.OpacityVariable"!==r.declaredClass)return void u.warn("The visualVariable should be an instance of esri.renderers.visualVariables.OpacityVariable");const l="number"==typeof t,o=l?null:t,a=o&&o.attributes;let s=l?t:null;const c=r.field,{ipData:p,hasExpression:d}=r.cache;let f=r.cache.compiledFunc;if(!c&&!d){const e=r.stops;return e&&e[0]&&e[0].opacity}if("number"!=typeof s)if(d){if((0,n.Wi)(i)||(0,n.Wi)(i.arcade))return void u.error("Use of arcade expressions requires an arcade context");const e={viewingMode:i.viewingMode,scale:i.scale,spatialReference:i.spatialReference},t=i.arcade.arcadeUtils,l=t.getViewInfo(e),a=t.createExecContext(o,l);if(!f){const e=t.createSyntaxTree(r.valueExpression);f=t.createFunction(e),r.cache.compiledFunc=f}s=t.executeFunction(f,a)}else a&&(s=a[c]);const h=r.normalizationField,y=a?parseFloat(a[h]):void 0;if(null!=s&&(!h||l||!isNaN(y)&&0!==y)){isNaN(y)||l||(s/=y);const e=S(s,p);if(e){const t=e[0],i=e[1];if(t===i)return r.stops[t].opacity;{const n=r.stops[t].opacity;return n+(r.stops[i].opacity-n)*e[2]}}}}function b(e,t,i){const r="visualVariables"in e&&e.visualVariables?e.visualVariables.filter((e=>"rotation"===e.type))[0]:e;if(!r)return;if("esri.renderers.visualVariables.RotationVariable"!==r.declaredClass)return void u.warn("The visualVariable should be an instance of esri.renderers.visualVariables.RotationVariable");const l=r.axis||"heading",o="heading"===l&&"arithmetic"===r.rotationType?90:0,a="heading"===l&&"arithmetic"===r.rotationType?-1:1,s="number"==typeof t?null:t,c=s&&s.attributes,p=r.field,{hasExpression:d}=r.cache;let f=r.cache.compiledFunc,h=0;if(!p&&!d)return h;if(d){if((0,n.Wi)(i)||(0,n.Wi)(i.arcade))return void u.error("Use of arcade expressions requires an arcade context");const e={viewingMode:i.viewingMode,scale:i.scale,spatialReference:i.spatialReference},t=i.arcade.arcadeUtils,l=t.getViewInfo(e),o=t.createExecContext(s,l);if(!f){const e=t.createSyntaxTree(r.valueExpression);f=t.createFunction(e),r.cache.compiledFunc=f}h=t.executeFunction(f,o)}else c&&(h=c[p]||0);return h="number"!=typeof h||isNaN(h)?null:o+a*h,h}function m(e,t,i){const r="visualVariables"in e&&e.visualVariables?e.visualVariables.filter((e=>"size"===e.type))[0]:e;if(!r)return;if("esri.renderers.visualVariables.SizeVariable"!==r.declaredClass)return void u.warn("The visualVariable should be an instance of esri.renderers.visualVariables.SizeVariable");const l=w(function(e,t,i){const r="number"==typeof t,l=r?null:t,o=l&&l.attributes;let a=r?t:null;const{isScaleDriven:s}=e.cache;let p=e.cache.compiledFunc;if(s){const t=(0,n.pC)(i)?i.scale:void 0,r=(0,n.pC)(i)?i.view:void 0;a=null==t||"3d"===r?function(e){let t=null,i=null;const r=e.stops;return r?(t=r[0].value,i=r[r.length-1].value):(t=e.minDataValue||0,i=e.maxDataValue||0),(t+i)/2}(e):t}else if(!r)switch(e.inputValueType){case"expression":{if((0,n.Wi)(i)||(0,n.Wi)(i.arcade))return void u.error("Use of arcade expressions requires an arcade context");const t={viewingMode:i.viewingMode,scale:i.scale,spatialReference:i.spatialReference},r=i.arcade.arcadeUtils,o=r.getViewInfo(t),s=r.createExecContext(l,o);if(!p){const t=r.createSyntaxTree(e.valueExpression);p=r.createFunction(t),e.cache.compiledFunc=p}a=r.executeFunction(p,s);break}case"field":o&&(a=o[e.field]);break;case"unknown":a=null}if(!(0,c.qh)(a))return null;if(r||!e.normalizationField)return a;const d=o?parseFloat(o[e.normalizationField]):null;return(0,c.qh)(d)&&0!==d?a/d:null}(r,t,i),r,t,i,r.cache.ipData);return null==l||isNaN(l)?0:l}function v(e,t,i){return null==e?null:(0,c.iY)(e)?m(e,t,i):(0,c.qh)(e)?e:null}function g(e,t,i){return(0,c.qh)(i)&&e>i?i:(0,c.qh)(t)&&e<t?t:e}function w(e,t,i,r,l){switch(t.transformationType){case"additive":return function(e,t,i,r){return e+(v(t.minSize,i,r)||t.minDataValue)}(e,t,i,r);case"constant":return function(e,t,i){const r=e.stops;let n=r&&r.length&&r[0].size;return null==n&&(n=e.minSize),v(n,t,i)}(t,i,r);case"clamped-linear":return function(e,t,i,r){const l=(e-t.minDataValue)/(t.maxDataValue-t.minDataValue),o=v(t.minSize,i,r),a=v(t.maxSize,i,r),s=(0,n.pC)(r)?r.shape:void 0;if(e<=t.minDataValue)return o;if(e>=t.maxDataValue)return a;if("area"===t.scaleBy&&s){const e="circle"===s,t=e?d*Math.pow(o/2,2):o*o,i=t+l*((e?d*Math.pow(a/2,2):a*a)-t);return e?2*Math.sqrt(i/d):Math.sqrt(i)}return o+l*(a-o)}(e,t,i,r);case"proportional":return function(e,t,i,r){const l=(0,n.pC)(r)?r.shape:void 0,o=e/t.minDataValue,a=v(t.minSize,i,r),s=v(t.maxSize,i,r);let c=null;return c="circle"===l?2*Math.sqrt(o*Math.pow(a/2,2)):"square"===l||"diamond"===l||"image"===l?Math.sqrt(o*Math.pow(a,2)):o*a,g(c,a,s)}(e,t,i,r);case"stops":return function(e,t,i,r,n){const[l,o,a]=S(e,n);if(l===o)return v(t.stops[l].size,i,r);{const e=v(t.stops[l].size,i,r);return e+(v(t.stops[o].size,i,r)-e)*a}}(e,t,i,r,l);case"real-world-size":return function(e,t,i,r){const l=((0,n.pC)(r)&&r.resolution?r.resolution:1)*s.a[t.valueUnit],o=v(t.minSize,i,r),a=v(t.maxSize,i,r),{valueRepresentation:c}=t;let u=null;return u="area"===c?2*Math.sqrt(e/d)/l:"radius"===c||"distance"===c?2*e/l:e/l,g(u,o,a)}(e,t,i,r);case"identity":return e;case"unknown":return null}}function x(e,t,i){const{isScaleDriven:r}=e.cache;if(!(r&&"3d"===i||t))return null;const n={scale:t,view:i};let l=v(e.minSize,p,n),o=v(e.maxSize,p,n);if(null!=l||null!=o){if(l>o){const e=o;o=l,l=e}return{minSize:l,maxSize:o}}}function _(e,t,i){if(!e.visualVariables)return;const r=[],n=[],l=[],o=[],a=[];for(const t of e.visualVariables)switch(t.type){case"color":n.push(t);break;case"opacity":l.push(t);break;case"rotation":a.push(t);break;case"size":o.push(t)}return n.forEach((e=>{const n=h(e,t,i);r.push({variable:e,value:n})})),l.forEach((e=>{const n=y(e,t,i);r.push({variable:e,value:n})})),a.forEach((e=>{const n=b(e,t,i);r.push({variable:e,value:n})})),o.forEach((e=>{const n=m(e,t,i);r.push({variable:e,value:n})})),r.filter((e=>null!=e.value))}function S(e,t){if(!t)return;let i=0,r=t.length-1;return t.some(((t,n)=>e<t?(r=n,!0):(i=n,!1))),[i,r,(e-t[i])/(t[r]-t[i])]}function C(e,t,i){const n=["proportional","proportional","proportional"];for(const l of e){const e=l.useSymbolValue?"symbol-value":m(l,t,i);switch(l.axis){case"width":n[0]=e;break;case"depth":n[1]=e;break;case"height":n[2]=e;break;case"width-and-depth":n[0]=e,n[1]=e;break;case"all":case void 0:case null:n[0]=e,n[1]=e,n[2]=e;break;default:(0,r.Bg)(l.axis)}}return n}},43551:(e,t,i)=>{"use strict";i.d(t,{eZ:()=>p});var r=i(4665),n=(i(4529),i(67472)),l=(i(97948),i(52117)),o=i(20628),a=i(38173),s=(i(16839),i(75107),i(58484));const c=["oid","global-id"],u=["oid","global-id","guid"];function p({displayField:e,editFieldsInfo:t,fields:i,objectIdField:l,title:o},c){if(!i)return null;const u=m({editFieldsInfo:t,fields:i,objectIdField:l},c);if(!u.length)return null;const p=function(e){const t=(0,r.O5)(e),{titleBase:i}=e;return t?`${i}: {${t.trim()}}`:i}({titleBase:o,fields:i,displayField:e}),d=[new a.Z,new n.Z];return new s.default({title:p,content:d,fieldInfos:u})}const d=[/^fnode_$/i,/^tnode_$/i,/^lpoly_$/i,/^rpoly_$/i,/^poly_$/i,/^subclass$/i,/^subclass_$/i,/^rings_ok$/i,/^rings_nok$/i,/shape/i,/perimeter/i,/objectid/i,/_i$/i],f=(e,{editFieldsInfo:t,objectIdField:i,visibleFieldNames:r})=>r?r.has(e.name):!(y(e.name,t)||i&&e.name===i||c.indexOf(e.type)>-1||d.some((t=>t.test(e.name))));function h(e,t){return"oid"===e.type?-1:"oid"===t.type?1:g(e)?-1:g(t)?1:(e.alias||e.name).toLocaleLowerCase().localeCompare((t.alias||t.name).toLocaleLowerCase())}function y(e,t){if(!e||!t)return!1;const{creationDateField:i,creatorField:r,editDateField:n,editorField:l}=t;return-1!==[i&&i.toLowerCase(),r&&r.toLowerCase(),n&&n.toLowerCase(),l&&l.toLowerCase()].indexOf(e.toLowerCase())}function b(e,t){return e.editable&&-1===u.indexOf(e.type)&&!y(e.name,t)}function m({editFieldsInfo:e,fields:t,objectIdField:i},r){return function(e,t){const i=e;return t&&(e=e.filter((e=>-1===t.indexOf(e.type)))),e===i&&(e=e.slice()),e.sort(h),e}(t,(null==r?void 0:r.ignoreFieldTypes)||w).map((t=>new o.default({fieldName:t.name,isEditable:b(t,e),label:t.alias,format:v(t),visible:f(t,{editFieldsInfo:e,objectIdField:i,visibleFieldNames:null==r?void 0:r.visibleFieldNames})})))}function v(e){switch(e.type){case"small-integer":case"integer":case"single":return new l.Z({digitSeparator:!0,places:0});case"double":return new l.Z({digitSeparator:!0,places:2});case"date":return new l.Z({dateFormat:"long-month-day-year"});default:return null}}function g(e){return"name"===(e.name&&e.name.toLowerCase())||("name"===(e.alias&&e.alias.toLowerCase())||void 0)}const w=["geometry","blob","raster","guid","xml"]},5684:(e,t,i)=>{"use strict";i.d(t,{Rz:()=>d,G:()=>h,kD:()=>b,mW:()=>y,js:()=>f});i(95830);var r=i(59472),n=i(48142),l=i(5674),o=i(88083),a=i(44190),s=i(7767);const c=o.Z.fromJSON(s.I4),u=n.Z.fromJSON(s.ET),p=l.default.fromJSON(s.lF),d=a.Z.fromJSON(s.qP);function f(e){if((0,r.Wi)(e))return null;switch(e.type){case"mesh":return null;case"point":case"multipoint":return c;case"polyline":return u;case"polygon":case"extent":return p}return null}const h=o.Z.fromJSON(s.eG),y=n.Z.fromJSON(s.wW),b=l.default.fromJSON(s.lj)},7767:(e,t,i)=>{"use strict";i.d(t,{I4:()=>n,lF:()=>o,ET:()=>l,qP:()=>a,eG:()=>s,lj:()=>u,wW:()=>c});const r=[252,146,31,255],n={type:"esriSMS",style:"esriSMSCircle",size:6,color:r,outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[153,153,153,255]}},l={type:"esriSLS",style:"esriSLSSolid",width:.75,color:r},o={type:"esriSFS",style:"esriSFSSolid",color:[252,146,31,196],outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[255,255,255,191]}},a={type:"esriTS",color:[255,255,255,255],font:{family:"arial-unicode-ms",size:10,weight:"bold"},horizontalAlignment:"center",kerning:!0,haloColor:[0,0,0,255],haloSize:1,rotated:!1,text:"",xoffset:0,yoffset:0,angle:0},s={type:"esriSMS",style:"esriSMSCircle",color:[0,0,0,255],outline:null,size:10.5},c={type:"esriSLS",style:"esriSLSSolid",color:[0,0,0,255],width:1.5},u={type:"esriSFS",style:"esriSFSSolid",color:[0,0,0,255],outline:null}},4338:(e,t,i)=>{"use strict";i.d(t,{_:()=>o});var r=i(56140),n=(i(95830),i(36544),i(68055),i(79881)),l=i(87566);i(10923),i(57002),i(86035);const o=e=>{let t=class extends e{constructor(...e){super(...e),this.goToOverride=null,this.view=null}callGoTo(e){const{view:t}=this;return this.goToOverride?this.goToOverride(t,e):t.goTo(e.target,e.options)}};return(0,r._)([(0,n.Cb)()],t.prototype,"goToOverride",void 0),(0,r._)([(0,n.Cb)()],t.prototype,"view",void 0),t=(0,r._)([(0,l.j)("esri.widgets.support.GoTo")],t),t}},59750:function(e,t,i){"use strict";function r(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function n(e,t){return(n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var i,r=a(e);if(t){var n=a(this).constructor;i=Reflect.construct(r,arguments,n)}else i=r.apply(this,arguments);return o(this,i)}}function o(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var c=this&&this.__decorate||function(e,t,i,r){var n,l=arguments.length,o=l<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,i):r;if("object"===("undefined"==typeof Reflect?"undefined":s(Reflect))&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(l<3?n(o):l>3?n(t,i,o):n(t,i))||o);return l>3&&o&&Object.defineProperty(t,i,o),o},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var p=i(83781),d=i(73502),f=u(i(90806)),h=u(i(58432));i(21910);var y="esri-widget draw-base",b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&n(e,t)}(s,e);var t,i,o,a=l(s);function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=a.call(this,e)).label="test",t.fill="#FFFFFF",t.outline="#FFFFFF",t.outlineOpacity=.5,t.fillOpacity=.5,t.outlineWidth=1,t.pointFillEnabled=!0,t.polygonFillEnabled=!0,t.viewModel=new h.default,t.textAreaCreated=function(e){e.addEventListener("calciteInputInput",(function(e){t.label=e.target.value}))},t}return t=s,(i=[{key:"render",value:function(){return d.tsx("div",{class:y},d.tsx("div",{id:"sketchWidget",afterCreate:this.viewModel.sketchWidgetCreated}),d.tsx("calcite-input",{type:"textarea",status:"idle",alignment:"start","number-button-type":"horizontal",min:"0",max:"50",step:"1","prefix-text":"","suffix-text":"",value:this.label,placeholder:"Label text",class:"sc-calcite-input-h sc-calcite-input-s",dir:"ltr",scale:"m","calcite-hydrated":"",bind:this,afterCreate:this.textAreaCreated}),"point"===this.geometryType?d.tsx("div",null,d.tsx("calcite-block",{key:"symbol",heading:"Symbol",open:!0,collapsible:!0},d.tsx("calcite-block-section",{text:"Size"},d.tsx("calcite-slider",{min:"0",max:"30",value:"10",bind:this,step:"0.1",label:"Size","label-handles":"",ticks:"0","page-step":"5",name:"fill-opacity",afterCreate:this.viewModel.pointSizeCreated,snap:""}))),d.tsx("calcite-block",{key:"fill",heading:"Fill",open:!0,collapsible:!0},d.tsx("calcite-label",{layout:"inline-space-between",class:"sc-calcite-label-h sc-calcite-label-s",dir:"ltr",alignment:"start",status:"idle",scale:"m","calcite-hydrated":""},d.tsx("label",{class:"sc-calcite-label-h sc-calcite-label-s sc-calcite-label"},"Enable fill",d.tsx("calcite-switch",{name:"setting",value:"enabled",switched:this.pointFillEnabled,bind:this,"aria-checked":"true",dir:"ltr",tabindex:"0",scale:"m","calcite-hydrated":"",afterCreate:this.viewModel.pointFillEnabledCreated}))),this.pointFillEnabled?d.tsx("div",null,d.tsx("calcite-block-section",{key:"color",text:"Color"},d.tsx("calcite-color-picker",{dir:"ltr","hide-channels":"","hide-saved":"",scale:"m",value:this.fill,appearance:"default",name:"fill","calcite-hydrated":"",id:"pointFill",afterCreate:this.viewModel.pointFillCreated})),d.tsx("calcite-block-section",{key:"transparency",text:"Fill transparency"},d.tsx("calcite-slider",{min:"0",max:"1",value:this.fillOpacity,bind:this,step:"0.1",label:"Opacity","label-handles":"",ticks:"0","page-step":"5",name:"fill-opacity",id:"pointFillOpacity",afterCreate:this.viewModel.pointFillOpacityCreated,snap:""}))," "):""),d.tsx("calcite-block",{key:"outline",heading:"Outline",open:!0,collapsible:!0},d.tsx("calcite-block-section",{text:"Color"},d.tsx("calcite-color-picker",{dir:"ltr","hide-channels":"","hide-saved":"",scale:"m",value:this.outline,appearance:"default",name:"outline","calcite-hydrated":"",afterCreate:this.viewModel.pointOutlineCreated})),d.tsx("calcite-block-section",{text:"Outline transparency"},d.tsx("calcite-slider",{min:"0",max:"1",value:this.outlineOpacity,bind:this,step:"0.1",label:"Opacity","label-handles":"",ticks:"0","page-step":"5",name:"outline-opacity",afterCreate:this.viewModel.pointOutlineOpacityCreated,snap:""})),d.tsx("calcite-block-section",{text:"Stroke"},d.tsx("calcite-slider",{min:"0",max:"10",value:this.outlineWidth,bind:this,step:"0.1",label:"Width","label-handles":"",ticks:"0","page-step":"5",name:"width",afterCreate:this.viewModel.pointOutlineWidthCreated,snap:""})))):"","polyline"===this.geometryType?d.tsx("div",null,d.tsx("calcite-block",{key:"line",heading:"Line",open:!0,collapsible:!0},d.tsx("calcite-block-section",{text:"Color"},d.tsx("calcite-color-picker",{dir:"ltr","hide-channels":"","hide-saved":"",scale:"m",value:this.outline,appearance:"default",name:"outline","calcite-hydrated":"",afterCreate:this.viewModel.lineOutlineCreated})),d.tsx("calcite-block-section",{text:"Line transparency"},d.tsx("calcite-slider",{min:"0",max:"1",value:this.outlineOpacity,bind:this,step:"0.1",label:"Opacity","label-handles":"",ticks:"0","page-step":"5",name:"outline-opacity",afterCreate:this.viewModel.lineOutlineOpacityCreated,snap:""})),d.tsx("calcite-block-section",{text:"Stroke"},d.tsx("calcite-slider",{min:"0",max:"10",value:this.outlineWidth,bind:this,step:"0.1",label:"Width","label-handles":"",ticks:"0","page-step":"5",name:"width",afterCreate:this.viewModel.lineOutlineWidthCreated,snap:""})))):"","polygon"===this.geometryType?d.tsx("div",null,d.tsx("calcite-block",{key:"fill",heading:"Fill",open:!0,collapsible:!0},d.tsx("calcite-label",{layout:"inline-space-between",class:"sc-calcite-label-h sc-calcite-label-s",dir:"ltr",alignment:"start",status:"idle",scale:"m","calcite-hydrated":""},d.tsx("label",{class:"sc-calcite-label-h sc-calcite-label-s sc-calcite-label"},"Enable fill",d.tsx("calcite-switch",{name:"setting",value:"enabled",switched:this.polygonFillEnabled,bind:this,"aria-checked":"true",dir:"ltr",tabindex:"0",scale:"m","calcite-hydrated":"",afterCreate:this.viewModel.polygonFillEnabledCreated}))),this.polygonFillEnabled?d.tsx("div",null,d.tsx("calcite-block-section",{key:"color",text:"Color"},d.tsx("calcite-color-picker",{dir:"ltr","hide-channels":"","hide-saved":"",scale:"m",value:this.fill,appearance:"default",name:"fill","calcite-hydrated":"",afterCreate:this.viewModel.polygonFillCreated})),d.tsx("calcite-block-section",{key:"transparency",text:"Fill transparency"},d.tsx("calcite-slider",{min:"0",max:"1",value:this.fillOpacity,bind:this,step:"0.1",label:"Opacity","label-handles":"",ticks:"0","page-step":"5",name:"fill-opacity",afterCreate:this.viewModel.polygonFillOpacityCreated,snap:""}))):""),d.tsx("calcite-block",{key:"outline",heading:"Outline",open:!0,collapsible:!0},d.tsx("calcite-block-section",{text:"Color"},d.tsx("calcite-color-picker",{dir:"ltr","hide-channels":"","hide-saved":"",scale:"m",value:this.outline,appearance:"default",name:"outline","calcite-hydrated":"",afterCreate:this.viewModel.polygonOutlineCreated})),d.tsx("calcite-block-section",{text:"Outline transparency"},d.tsx("calcite-slider",{min:"0",max:"1",value:this.outlineOpacity,bind:this,step:"0.1",label:"Opacity","label-handles":"",ticks:"0","page-step":"5",name:"outline-opacity",afterCreate:this.viewModel.polygonOutlineOpacityCreated,snap:""})),d.tsx("calcite-block-section",{text:"Stroke"},d.tsx("calcite-slider",{min:"0",max:"10",value:this.outlineWidth,bind:this,step:"0.1",label:"Width","label-handles":"",ticks:"0","page-step":"5",name:"width",afterCreate:this.viewModel.polygonOutlineWidthCreated,snap:""})))):"")}}])&&r(t.prototype,i),o&&r(t,o),s}(f.default);c([p.aliasOf("viewModel.view")],b.prototype,"view",void 0),c([d.renderable(),p.aliasOf("viewModel.label")],b.prototype,"label",void 0),c([d.renderable(),p.aliasOf("viewModel.fill")],b.prototype,"fill",void 0),c([d.renderable(),p.aliasOf("viewModel.fill")],b.prototype,"outline",void 0),c([d.renderable(),p.aliasOf("viewModel.outlineOpacity")],b.prototype,"outlineOpacity",void 0),c([d.renderable(),p.aliasOf("viewModel.fillOpacity")],b.prototype,"fillOpacity",void 0),c([d.renderable(),p.aliasOf("viewModel.outlineWidth")],b.prototype,"outlineWidth",void 0),c([d.renderable(),p.aliasOf("viewModel.pointFillEnabled")],b.prototype,"pointFillEnabled",void 0),c([d.renderable(),p.aliasOf("viewModel.polygonFillEnabled")],b.prototype,"polygonFillEnabled",void 0),c([d.renderable(),p.aliasOf("viewModel.geometryType")],b.prototype,"geometryType",void 0),c([p.property({type:h.default}),d.renderable()],b.prototype,"viewModel",void 0),b=c([p.subclass("app.widgets.Draw")],b),t.default=b},58432:function(e,t,i){"use strict";function r(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function n(e,t){return(n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var i,r=s(e);if(t){var n=s(this).constructor;i=Reflect.construct(r,arguments,n)}else i=r.apply(this,arguments);return o(this,i)}}function o(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?a(e):t}function a(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var u=this&&this.__decorate||function(e,t,i,r){var n,l=arguments.length,o=l<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,i):r;if("object"===("undefined"==typeof Reflect?"undefined":c(Reflect))&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(l<3?n(o):l>3?n(t,i,o):n(t,i))||o);return l>3&&o&&Object.defineProperty(t,i,o),o},p=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var d=i(83781),f=i(80621),h=p(i(90806)),y=p(i(15843)),b=p(i(94394)),m=p(i(76603)),v=p(i(26360)),g=p(i(78745)),w=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&n(e,t)}(c,e);var t,i,o,s=l(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=s.call(this,e)).label="",t.fill="#FFFFFF",t.outline="#FFFFFF",t.fillOpacity=.5,t.outlineOpacity=1,t.outlineWidth=1,t.pointFillEnabled=!0,t.polygonFillEnabled=!0,t.sketchWidgetCreated=function(){f.whenDefinedOnce(a(t),"view",t.init.bind(a(t)))},t.pointFillCreated=function(e){e.addEventListener("calciteColorPickerChange",(function(e){var i=t.view.map.findLayerById("sketch-points");t.fill=e.target.value;var r=g.default.fromHex(t.fill);r.a=t.outlineOpacity;var n=i.renderer.clone();n.symbol.color=r,i.renderer=n}))},t.polygonFillCreated=function(e){e.addEventListener("calciteColorPickerChange",(function(e){var i=t.view.map.findLayerById("sketch-polygons");t.fill=e.target.value;var r=g.default.fromHex(t.fill);r.a=t.outlineOpacity;var n=i.renderer.clone();n.symbol.color=r,i.renderer=n}))},t.pointOutlineCreated=function(e){e.addEventListener("calciteColorPickerChange",(function(e){var i=t.view.map.findLayerById("sketch-points");t.outline=e.target.value;var r=g.default.fromHex(t.outline);r.a=t.outlineOpacity;var n=i.renderer.clone();n.symbol.outline.color=r,i.renderer=n}))},t.lineOutlineCreated=function(e){e.addEventListener("calciteColorPickerChange",(function(e){var i=t.view.map.findLayerById("sketch-lines");t.outline=e.target.value;var r=g.default.fromHex(t.outline);r.a=t.outlineOpacity;var n=i.renderer.clone();n.symbol.color=r,i.renderer=n}))},t.polygonOutlineCreated=function(e){e.addEventListener("calciteColorPickerChange",(function(e){var i=t.view.map.findLayerById("sketch-polygons");t.outline=e.target.value;var r=g.default.fromHex(t.outline);r.a=t.outlineOpacity;var n=i.renderer.clone();n.symbol.outline.color=r,i.renderer=n}))},t.pointFillOpacityCreated=function(e){var i=t.view.map.findLayerById("sketch-points");e.addEventListener("calciteSliderChange",(function(e){t.fillOpacity=parseFloat(e.target.value);var r=i.renderer.clone();r.symbol.color.a=t.fillOpacity,i.renderer=r}),{passive:!0})},t.polygonFillOpacityCreated=function(e){var i=t.view.map.findLayerById("sketch-polygons");e.addEventListener("calciteSliderChange",(function(e){t.fillOpacity=parseFloat(e.target.value);var r=i.renderer.clone();r.symbol.color.a=t.fillOpacity,i.renderer=r}),{passive:!0})},t.pointOutlineOpacityCreated=function(e){var i=t.view.map.findLayerById("sketch-points");e.addEventListener("calciteSliderChange",(function(e){t.outlineOpacity=parseFloat(e.target.value);var r=i.renderer.clone();r.symbol.outline.color.a=t.outlineOpacity,i.renderer=r}),{passive:!0})},t.lineOutlineOpacityCreated=function(e){var i=t.view.map.findLayerById("sketch-lines");e.addEventListener("calciteSliderChange",(function(e){t.outlineOpacity=parseFloat(e.target.value);var r=i.renderer.clone();r.symbol.color.a=t.outlineOpacity,i.renderer=r}),{passive:!0})},t.polygonOutlineOpacityCreated=function(e){var i=t.view.map.findLayerById("sketch-polygons");e.addEventListener("calciteSliderChange",(function(e){t.outlineOpacity=parseFloat(e.target.value);var r=i.renderer.clone();r.symbol.outline.color.a=t.outlineOpacity,i.renderer=r}),{passive:!0})},t.pointOutlineWidthCreated=function(e){var i=t.view.map.findLayerById("sketch-points");e.addEventListener("calciteSliderChange",(function(e){t.outlineWidth=parseFloat(e.target.value);var r=i.renderer.clone();r.symbol.outline.width=t.outlineWidth,i.renderer=r}),{passive:!0})},t.lineOutlineWidthCreated=function(e){var i=t.view.map.findLayerById("sketch-lines");e.addEventListener("calciteSliderChange",(function(e){t.outlineWidth=parseFloat(e.target.value);var r=i.renderer.clone();r.symbol.width=t.outlineWidth,i.renderer=r}),{passive:!0})},t.polygonOutlineWidthCreated=function(e){var i=t.view.map.findLayerById("sketch-polygons");e.addEventListener("calciteSliderChange",(function(e){t.outlineWidth=parseFloat(e.target.value);var r=i.renderer.clone();r.symbol.outline.width=t.outlineWidth,i.renderer=r}),{passive:!0})},t.pointSizeCreated=function(e){var i=t.view.map.findLayerById("sketch-points");e.addEventListener("calciteSliderChange",(function(e){var t=i.renderer.clone();t.symbol.size=parseFloat(e.target.value),i.renderer=t}),{passive:!0})},t.pointFillEnabledCreated=function(e){var i=t.view.map.findLayerById("sketch-points");e.addEventListener("calciteSwitchChange",(function(e){t.pointFillEnabled=e.detail.switched;var r,n=i.renderer.clone();t.pointFillEnabled?n.symbol.color.a=parseFloat(null===(r=document.getElementById("pointFillOpacity"))||void 0===r?void 0:r.getAttribute("value")):n.symbol.color.a=0;i.renderer=n}))},t.polygonFillEnabledCreated=function(e){var i=t.view.map.findLayerById("sketch-polygons");e.addEventListener("calciteSwitchChange",(function(e){t.polygonFillEnabled=e.detail.switched;var r=i.renderer.clone();t.polygonFillEnabled?r.symbol.style="solid":r.symbol.style="none",i.renderer=r}))},t}return t=c,(i=[{key:"init",value:function(e){var t=this,i=new b.default({listMode:"hide",opacity:0}),r=new v.default({labelExpressionInfo:{expression:"$feature.label"},symbol:{type:"text",color:"black",haloSize:1,haloColor:"white"}}),n=new m.default({source:[],fields:[{type:"oid",name:"OBJECTID"},{type:"string",name:"label"}],objectIdField:"OBJECTID",geometryType:"point",listMode:"hide",id:"sketch-points",renderer:{type:"simple",symbol:{type:"simple-marker",color:[255,255,255,1]}},labelingInfo:[r]}),l=new m.default({source:[],fields:[{type:"oid",name:"OBJECTID"},{type:"string",name:"label"}],objectIdField:"OBJECTID",geometryType:"polyline",listMode:"hide",id:"sketch-lines",labelingInfo:[r]}),o=new m.default({source:[],fields:[{type:"oid",name:"OBJECTID"},{type:"string",name:"label"}],objectIdField:"OBJECTID",geometryType:"polygon",listMode:"hide",id:"sketch-polygons",renderer:{type:"simple",symbol:{type:"simple-fill",color:[255,255,255,.5],outline:{type:"simple-line",color:[255,255,255,1]}}},labelingInfo:[r]});this.view.map.addMany([n,l,o,i]),this.sketch=new y.default({view:e,container:"sketchWidget",layer:i,creationMode:"single",defaultCreateOptions:{mode:"hybrid"},visibleElements:{undoRedoMenu:!1}}),this.sketch.watch("activeTool",(function(e){t.geometryType=e,["circle","rectangle"].includes(t.geometryType)&&(t.geometryType="polygon")})),this.sketch.on("create",(function(e){if("start"===e.state&&(t.view.popup.autoOpenEnabled=!1),"complete"===e.state){var i=e.graphic,r=g.default.fromHex(t.fill);r.a=t.fillOpacity;var a=g.default.fromHex(t.fill);a.a=t.outlineOpacity,"point"===i.geometry.type&&(i.symbol.color=r,i.symbol.outline.color=a,i.setAttribute("label",t.label),n.applyEdits({addFeatures:[i]}).then((function(){n.refresh()}))),"polyline"===i.geometry.type&&(i.setAttribute("label",t.label),i.symbol.color=a,l.applyEdits({addFeatures:[i]}).then((function(){l.refresh()}))),"polygon"===i.geometry.type&&(i.setAttribute("label",t.label),i.symbol.color=r,i.symbol.outline.color=a,o.applyEdits({addFeatures:[i]}).then((function(){o.refresh()}))),t.view.popup.autoOpenEnabled=!0}})),this.sketch.on("update",(function(e){"complete"===e.state&&("point"===e.graphics[0].geometry.type&&n.applyEdits({updateFeatures:e.graphics}).then((function(){n.refresh()})),"polyline"===e.graphics[0].geometry.type&&l.applyEdits({updateFeatures:e.graphics}).then((function(){l.refresh()})),"polygon"===e.graphics[0].geometry.type&&o.applyEdits({updateFeatures:e.graphics}).then((function(){o.refresh()})))})),this.sketch.on("delete",(function(e){var t=[],i=[],r=[];e.graphics.forEach((function(e){"point"===e.geometry.type&&t.push(e),"polyline"===e.geometry.type&&i.push(e),"polygon"===e.geometry.type&&r.push(e)})),n.applyEdits({deleteFeatures:t}).then((function(e){console.log(e),n.refresh()})),l.applyEdits({deleteFeatures:i}).then((function(e){console.log(e),l.refresh()})),o.applyEdits({deleteFeatures:r}).then((function(e){console.log(e),o.refresh()}))}))}}])&&r(t.prototype,i),o&&r(t,o),c}(h.default);u([d.property()],w.prototype,"view",void 0),u([d.property()],w.prototype,"label",void 0),u([d.property()],w.prototype,"fill",void 0),u([d.property()],w.prototype,"outline",void 0),u([d.property()],w.prototype,"fillOpacity",void 0),u([d.property()],w.prototype,"outlineOpacity",void 0),u([d.property()],w.prototype,"outlineWidth",void 0),u([d.property()],w.prototype,"geometryType",void 0),u([d.property()],w.prototype,"pointFillEnabled",void 0),u([d.property()],w.prototype,"polygonFillEnabled",void 0),w=u([d.subclass("app.widgets.Draw.DrawViewModel")],w),t.default=w},1820:(e,t,i)=>{"use strict";i.d(t,{Z:()=>a});var r=i(94015),n=i.n(r),l=i(23645),o=i.n(l)()(n());o.push([e.id,".draw-base{padding:0;overflow-x:hidden}.esri-widget{max-width:100%}calcite-input{margin:1em}","",{version:3,sources:["webpack://./src/widgets/Draw/styles/Draw.scss"],names:[],mappings:"AAAA,WACE,SAAA,CACA,iBAAA,CAGF,aACA,cAAA,CAGA,cACA,UAAA",sourcesContent:[".draw-base {\n  padding: 0;\n  overflow-x: hidden;\n}\n\n.esri-widget {\nmax-width: 100%;\n}\n\ncalcite-input {\nmargin: 1em;\n}"],sourceRoot:""}]);const a=o},21910:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>a});var r=i(93379),n=i.n(r),l=i(1820),o={insert:"head",singleton:!1};n()(l.Z,o);const a=l.Z.locals||{}}},0,[[21910,3666,3716,8484,1518,8834,4139,2673,8591,142,2551,8157,3347,6603,7333,2406,515,5798,6379,5666,9720,207,2200,905,5743,1731,5062,2412,7551,6758],[59750,3666,3716,8484,1518,8834,4139,2673,8591,142,2551,8157,3347,6603,7333,2406,515,5798,6379,5666,9720,207,2200,905,5743,1731,5062,2412,7551,6758],[58432,3666,3716,8484,1518,8834,4139,2673,8591,142,2551,8157,3347,6603,7333,2406,515,5798,6379,5666,9720,207,2200,905,5743,1731,5062,2412,7551,6758]]]);
//# sourceMappingURL=draw.js.map