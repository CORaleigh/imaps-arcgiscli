{"version":3,"sources":["webpack://imaps/./node_modules/@arcgis/core/core/number.js","webpack://imaps/./node_modules/@arcgis/core/portal/support/geometryServiceUtils.js","webpack://imaps/./node_modules/@arcgis/core/widgets/CoordinateConversion/support/Conversion.js","webpack://imaps/./node_modules/@arcgis/core/widgets/CoordinateConversion/support/coordinateConversionUtils.js","webpack://imaps/./node_modules/@arcgis/core/geometry/coordinateFormatter.js","webpack://imaps/./node_modules/@arcgis/core/widgets/CoordinateConversion/support/Format.js","webpack://imaps/./node_modules/@arcgis/core/widgets/CoordinateConversion/support/formatUtils.js","webpack://imaps/./node_modules/@arcgis/core/widgets/CoordinateConversion/CoordinateConversionViewModel.js","webpack://imaps/./node_modules/@arcgis/core/widgets/CoordinateConversion.js","webpack://imaps/./node_modules/@arcgis/core/widgets/Measurement/MeasurementViewModel.js","webpack://imaps/./node_modules/@arcgis/core/widgets/Measurement.js","webpack://imaps/./node_modules/@arcgis/core/widgets/support/commonProperties.js","webpack://imaps/./src/widgets/Measure.tsx","webpack://imaps/./src/widgets/Measure/MeasureViewModel.ts","webpack://imaps/./src/widgets/Measure/styles/Measure.scss","webpack://imaps/./src/widgets/Measure/styles/Measure.scss?91f1"],"names":["t","ar","bs","ca","cs","da","de","el","en","es","et","fi","fr","he","hi","hr","hu","id","it","ja","ko","lt","lv","mk","nb","nl","pl","pt","ro","ru","sk","sl","sr","sv","th","tr","uk","vi","zh","r","e","n","split","length","o","i","s","decimal","group","pattern","locale","customs","isNaN","Math","abs","l","indexOf","Error","c","a","match","fractional","places","replace","substring","round","Number","toFixed","String","lastIndexOf","padEnd","substr","pop","padStart","p","u","f","d","push","slice","reverse","join","regexp","signed","separator","strict","exponent","groupSize","groupSize2","test","eSigned","factor","RegExp","exec","NaN","Array","async","default","url","portal","load","signal","helperServices","geometry","geometries","outSpatialReference","project","isArray","super","this","format","position","coordinate","location","get","getDisplayCoordinate","readOnly","dependsOn","prototype","utm","conversionMode","addSpaces","usng","numOfDigits","rounding","mgrs","isFinite","x","y","spatialReference","isGeographic","h","M","wkid","wkt","v","R","conversionInfo","coordinateSegments","defaultPattern","name","viewModel","_get","_set","_viewSpatialReference","_clearOverride","_override","map","alias","currentPattern","point","then","_project","_getCoordinate","isWebMercator","isWGS84","_getSegmentMatches","_additionalCharactersPattern","searchPattern","trim","substitution","input","output","parseUserInput","z","hasZ","formatterAvailable","console","warn","geometryServicePromise","formatName","fromGeoCoordinateString","strings","conversionType","catch","notationResult","userInput","coordinates","toGeoCoordinateString","scale","m","projectionResult","type","N","S","E","W","window","pathname","A","V","_conversionPromise","_handles","_locationGraphic","_locale","_pointerCount","conversions","formats","messages","requestDelay","locationSymbol","width","height","view","_instanceNumber","_saveWidgetState","bind","_handleFormatChange","_handleConversionChange","_handleViewChange","_onClick","_onPointerMove","_onPointerDown","_onPointerUp","destroyed","addMany","abbreviatedDirections","north","south","east","west","b","description","_loadWidgetState","forEach","add","watch","on","error","find","getItemAt","removeAll","_cleanUpView","_updateConversions","currentLocation","_startCaptureMode","_startLiveMode","ready","convert","graphics","remove","clone","symbol","basemap","baseLayers","fullExtent","contains","callGoTo","target","cursor","_convertMany","displayCoordinate","mode","reverseConvert","client","concat","server","_clearConversions","reduce","getConversionStrategy","notifyChange","value","_debouncedConvert","added","removed","JSON","parse","localStorage","getItem","_setWidgetState","setLocation","button","toMap","normalize","pointerType","index","_toJSON","setItem","stringify","updateConversions","toArray","filter","findIndex","sort","C","T","j","B","H","J","X","te","re","ae","_popupMessage","_popupId","_coordinateInput","_badInput","_goToEnabled","_conversionFormat","_settingsFormat","_previewConversion","_expanded","_popupVisible","_settingsVisible","_inputVisible","goToOverride","label","messagesCommon","orientation","splice","key","noBasemap","_renderInputForm","_renderSettings","_renderConversionsView","_renderPopup","class","classes","options","selectedIndex","removeAt","reduceRight","hasDisplayProperties","clearTimeout","scheduleRender","currentTarget","clipboardData","setData","_showPopup","copySuccessMessage","preventDefault","_reverseConvert","resume","_onConvertComplete","invalidCoordinate","goToLocation","locationOffBasemap","_findSettingsFormat","previewConversion","_setPreviewConversion","setTimeout","_hidePopup","stopPropagation","conversionOutputSuffix","_renderFirstConversion","_renderTools","noLocation","role","tabindex","title","_renderOptions","selectFormat","onchange","_addConversion","selected","toUpperCase","copy","onclick","_copyCoordinateOutput","onkeydown","oncopy","_onCopy","captureMode","liveMode","collapse","expand","_renderCopyButton","multipleConversions","_toggleExpand","_toggleMode","back","_toggleInputVisibility","_renderBackIcon","inputCoordTitle","_setInputFormat","afterCreate","_processUserInput","placeholder","spellcheck","goTo","checked","_toggleGoTo","_renderPrimaryTools","_renderConversion","addConversion","disabled","includes","_toggleSettingsVisibility","settingsTitle","for","changeCoordinateDisplay","_setSettingsFormat","oninput","_updateCurrentPattern","_setDefaultPattern","preview","removeConversion","_removeConversion","document","body","getSelection","createRange","selectNodeContents","removeAllRanges","addRange","execCommand","pause","aliasOf","source","overridable","activeTool","activeViewModel","defaultUnit","state","_widgets","Map","activeWidget","areaUnit","iconClass","linearUnit","set","_getActiveWidget","own","visible","_updateWidgetUnits","_destroyWidgets","render","start","unit","destroy","clear","has","_createWidget","declaredClass","units","__decorate","decorators","desc","arguments","Object","getOwnPropertyDescriptor","Reflect","decorate","defineProperty","__importDefault","mod","__esModule","exports","decorators_1","require","widget_1","Widget_1","MeasureViewModel_1","CSS","Measure","properties","radioItemCreated","element","log","tsx","measureToggleCreated","icon","measureCreated","coordinateCreated","hidden","vmEvent","property","renderable","subclass","Measurement_1","CoordinateConversion_1","watchUtils_1","MeasureViewModel","params","whenDefinedOnce","init","container","addEventListener","hasAttribute","measurement","querySelector","setAttribute","toggleAttribute","emit","passive","___CSS_LOADER_EXPORT___","module"],"mappings":"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","file":"9218.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{escapeRegExpString as e}from\"./string.js\";import{getLocale as n}from\"../intl/locale.js\";const t={ar:[\".\",\",\"],bs:[\",\",\".\"],ca:[\",\",\".\"],cs:[\",\",\" \"],da:[\",\",\".\"],de:[\",\",\".\"],\"de-ch\":[\".\",\"’\"],el:[\",\",\".\"],en:[\".\",\",\"],\"en-au\":[\".\",\",\"],es:[\",\",\".\"],\"es-mx\":[\".\",\",\"],et:[\",\",\" \"],fi:[\",\",\" \"],fr:[\",\",\" \"],\"fr-ch\":[\",\",\" \"],he:[\".\",\",\"],hi:[\".\",\",\",\"#,##,##0.###\"],hr:[\",\",\".\"],hu:[\",\",\" \"],id:[\",\",\".\"],it:[\",\",\".\"],\"it-ch\":[\".\",\"’\"],ja:[\".\",\",\"],ko:[\".\",\",\"],lt:[\",\",\" \"],lv:[\",\",\" \"],mk:[\",\",\".\"],nb:[\",\",\" \"],nl:[\",\",\".\"],pl:[\",\",\" \"],pt:[\",\",\".\"],\"pt-pt\":[\",\",\" \"],ro:[\",\",\".\"],ru:[\",\",\" \"],sk:[\",\",\" \"],sl:[\",\",\".\"],sr:[\",\",\".\"],sv:[\",\",\" \"],th:[\".\",\",\"],tr:[\",\",\".\"],uk:[\",\",\" \"],vi:[\",\",\".\"],zh:[\".\",\",\"]};function r(e){e||(e=n());let r=e in t;if(!r){const n=e.split(\"-\");n.length>1&&n[0]in t&&(e=n[0],r=!0),r||(e=\"en\")}const[o,i,s=\"#,##0.###\"]=t[e];return{decimal:o,group:i,pattern:s}}function o(e,n){const t=r((n={...n}).locale);n.customs=t;const o=n.pattern||t.pattern;return isNaN(e)||Math.abs(e)===1/0?null:function(e,n,t){const r=(t=t||{}).customs.group,o=t.customs.decimal,s=n.split(\";\"),l=s[0];if(-1!==(n=s[e<0?1:0]||\"-\"+l).indexOf(\"%\"))e*=100;else if(-1!==n.indexOf(\"‰\"))e*=1e3;else{if(-1!==n.indexOf(\"¤\"))throw new Error(\"currency notation not supported\");if(-1!==n.indexOf(\"E\"))throw new Error(\"exponential notation not supported\")}const c=i,a=l.match(c);if(!a)throw new Error(\"unable to find a number expression in pattern: \"+n);!1===t.fractional&&(t.places=0);return n.replace(c,function(e,n,t){!0===(t=t||{}).places&&(t.places=0);t.places===1/0&&(t.places=6);const r=n.split(\".\"),o=\"string\"==typeof t.places&&t.places.indexOf(\",\");let i=t.places;o?i=t.places.substring(o+1):i>=0||(i=(r[1]||[]).length);t.round<0||(e=Number(e.toFixed(Number(i))));const s=String(Math.abs(e)).split(\".\"),l=s[1]||\"\";if(r[1]||t.places){o&&(t.places=t.places.substring(0,o));const e=void 0!==t.places?t.places:r[1]&&r[1].lastIndexOf(\"0\")+1;e>l.length&&(s[1]=l.padEnd(Number(e),\"0\")),i<l.length&&(s[1]=l.substr(0,Number(i)))}else s[1]&&s.pop();const c=r[0].replace(\",\",\"\");let a=c.indexOf(\"0\");-1!==a&&(a=c.length-a,a>s[0].length&&(s[0]=s[0].padStart(a,\"0\")),-1===c.indexOf(\"#\")&&(s[0]=s[0].substr(s[0].length-a)));let p,u,f=r[0].lastIndexOf(\",\");if(-1!==f){p=r[0].length-f-1;const e=r[0].substr(0,f);f=e.lastIndexOf(\",\"),-1!==f&&(u=e.length-f-1)}const d=[];for(let e=s[0];e;){const n=e.length-p;d.push(n>0?e.substr(n):e),e=n>0?e.slice(0,n):\"\",u&&(p=u,u=void 0)}return s[0]=d.reverse().join(t.group||\",\"),s.join(t.decimal||\".\")}(e,a[0],{decimal:o,group:r,places:t.places,round:t.round}))}(e,o,n)}const i=/[#0,]*[#0](?:\\.0*#*)?/;function s(e){return l(e).regexp}function l(n){const t=r((n=n||{}).locale),o=n.pattern||t.pattern,s=t.group,l=t.decimal;let c=1;if(-1!==o.indexOf(\"%\"))c/=100;else if(-1!==o.indexOf(\"‰\"))c/=1e3;else if(-1!==o.indexOf(\"¤\"))throw new Error(\"currency notation not supported\");const u=o.split(\";\");1===u.length&&u.push(\"-\"+u[0]);return{regexp:p(u,(function(t){return(t=\"(?:\"+e(t,\".\")+\")\").replace(i,(function(e){const t={signed:!1,separator:n.strict?s:[s,\"\"],fractional:n.fractional,decimal:l,exponent:!1},r=e.split(\".\");let o=n.places;1===r.length&&1!==c&&(r[1]=\"###\"),1===r.length||0===o?t.fractional=!1:(void 0===o&&(o=n.pattern?r[1].lastIndexOf(\"0\")+1:1/0),o&&null==n.fractional&&(t.fractional=!0),!n.places&&o<r[1].length&&(o+=\",\"+r[1].length),t.places=o);const i=r[0].split(\",\");return i.length>1&&(t.groupSize=i.pop().length,i.length>1&&(t.groupSize2=i.pop().length)),\"(\"+function(e){\"places\"in(e=e||{})||(e.places=1/0);\"string\"!=typeof e.decimal&&(e.decimal=\".\");\"fractional\"in e&&!/^0/.test(String(e.places))||(e.fractional=[!0,!1]);\"exponent\"in e||(e.exponent=[!0,!1]);\"eSigned\"in e||(e.eSigned=[!0,!1]);const n=a(e),t=p(e.fractional,(function(n){let t=\"\";return n&&0!==e.places&&(t=\"\\\\\"+e.decimal,e.places===1/0?t=\"(?:\"+t+\"\\\\d+)?\":t+=\"\\\\d{\"+e.places+\"}\"),t}),!0),r=p(e.exponent,(function(n){return n?\"([eE]\"+a({signed:e.eSigned})+\")\":\"\"}));let o=n+t;t&&(o=\"(?:(?:\"+o+\")|(?:\"+t+\"))\");return o+r}(t)+\")\"}))}),!0).replace(/[\\xa0 ]/g,\"[\\\\s\\\\xa0]\"),group:s,decimal:l,factor:c}}function c(e,n){const t=l(n),r=new RegExp(\"^\"+t.regexp+\"$\").exec(e);if(!r)return NaN;let o=r[1];if(!r[1]){if(!r[2])return NaN;o=r[2],t.factor*=-1}return o=o.replace(new RegExp(\"[\"+t.group+\"\\\\s\\\\xa0]\",\"g\"),\"\").replace(t.decimal,\".\"),Number(o)*t.factor}function a(n){\"signed\"in(n=n||{})||(n.signed=[!0,!1]),\"separator\"in n?\"groupSize\"in n||(n.groupSize=3):n.separator=\"\";return p(n.signed,(function(e){return e?\"[-+]\":\"\"}),!0)+p(n.separator,(function(t){if(!t)return\"(?:\\\\d+)\";\" \"===(t=e(t))?t=\"\\\\s\":\" \"===t&&(t=\"\\\\s\\\\xa0\");const r=n.groupSize,o=n.groupSize2;if(o){const e=\"(?:0|[1-9]\\\\d{0,\"+(o-1)+\"}(?:[\"+t+\"]\\\\d{\"+o+\"})*[\"+t+\"]\\\\d{\"+r+\"})\";return r-o>0?\"(?:\"+e+\"|(?:0|[1-9]\\\\d{0,\"+(r-1)+\"}))\":e}return\"(?:0|[1-9]\\\\d{0,\"+(r-1)+\"}(?:[\"+t+\"]\\\\d{\"+r+\"})*)\"}),!0)}const p=function(e,n,t){if(!(e instanceof Array))return n(e);const r=[];for(let t=0;t<e.length;t++)r.push(n(e[t]));return u(r.join(\"|\"),t)},u=function(e,n){return\"(\"+(n?\"?:\":\"\")+e+\")\"};export{l as _parseInfo,o as format,r as getCustoms,c as parse,s as regexp};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport e from\"../../config.js\";import r from\"../../core/Error.js\";import t from\"../Portal.js\";import o from\"../../tasks/support/ProjectParameters.js\";async function i(o=null,i){if(e.geometryServiceUrl){return new(0,(await import(\"../../tasks/GeometryService.js\")).default)({url:e.geometryServiceUrl})}if(!o)throw new r(\"internal:geometry-service-url-not-configured\");let n;if(n=\"portal\"in o?o.portal||t.getDefault():o,await n.load({signal:i}),n.helperServices&&n.helperServices.geometry&&n.helperServices.geometry.url){return new(0,(await import(\"../../tasks/GeometryService.js\")).default)({url:n.helperServices.geometry.url})}throw new r(\"internal:geometry-service-url-not-configured\")}async function n(e,t,n=null,a){const l=await i(n,a),s=new o;s.geometries=[e],s.outSpatialReference=t;const c=await l.project(s,{signal:a});if(c&&Array.isArray(c)&&1===c.length)return c[0];throw new r(\"internal:geometry-service-projection-failed\")}export{i as create,n as projectGeometry};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../chunks/tslib.es6.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import{subclass as t}from\"../../../core/accessorSupport/decorators/subclass.js\";import\"../../../core/urlUtils.js\";import\"../../../core/uuid.js\";import\"../../../portal/support/resourceExtension.js\";import s from\"../../../core/Accessor.js\";let e=class extends s{constructor(o){super(o),this.format=null,this.position={coordinate:null,location:null}}get displayCoordinate(){const o=this.get(\"format\");return o&&o.getDisplayCoordinate(this.get(\"position.coordinate\"))}};o([r({readOnly:!0,dependsOn:[\"position\",\"format.currentPattern\"]})],e.prototype,\"displayCoordinate\",null),o([r()],e.prototype,\"format\",void 0),o([r()],e.prototype,\"position\",void 0),e=o([t(\"esri.widgets.CoordinateConversion.support.Conversion\")],e);var i=e;export default i;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport e from\"../../../core/Error.js\";import{resolve as t}from\"../../../core/promiseUtils.js\";import o from\"../../../geometry/SpatialReference.js\";import{project as r}from\"../../../geometry/support/webMercatorUtils.js\";import n from\"../../../geometry/Point.js\";import\"../../../geometry.js\";import i from\"../../../tasks/support/ProjectParameters.js\";const c={utm:{conversionMode:\"utmDefault\",addSpaces:!0},usng:{numOfDigits:5,rounding:!1,addSpaces:!1},mgrs:{rounding:!1}},a=new Array(3);function s(e,t){const o=u(t);return[e[0].toFixed(o),e[1].toFixed(o)]}function u(e){return e>=500?6:e<500&&e>=50?7:e<50&&e>=5?8:9}function f(t){const{geometryServicePromise:o,coordinate:r,spatialReference:i,formatName:c}=t;return o.then((t=>t.fromGeoCoordinateString({strings:[r],sr:i,conversionType:c}).then((e=>{const t=new n({x:e[0][0],y:e[0][1],spatialReference:i});if(!p(t))throw e;return t})).catch((t=>{throw new e(\"coordinate-conversion:from-geo-coordinate-string-failed\",\"Failed to convert coordinate notation\",{notationResult:t})}))))}function m(e,t){const r=e.indexOf(\",\")>=0?\",\":\" \",[i,c,a]=e.split(r).map((e=>{const t=e.trim();return t?Number(t):null}));if(!d(i)||!d(c))return null;const s=new n({x:i,y:c,spatialReference:t||o.WGS84});return a&&(s.z=a,s.hasZ=!0),s}function d(e){return\"number\"==typeof e&&isFinite(e)}function p(e){return e&&d(e.x)&&d(e.y)}function l(e,t){if(e.spatialReference.isGeographic&&t){const[o,r]=s([e.x,e.y],t);return`${o}, ${r}`}return`${e.x.toFixed(3)}, ${e.y.toFixed(3)}`}function g(o,n){const{spatialReference:c,geometryServicePromise:s,location:u,scale:f}=o;if(!c||u.spatialReference.wkid===c.wkid)return t({location:u,coordinate:l(u,f)});if((u.spatialReference.isWGS84||u.spatialReference.isWebMercator)&&(c.isWGS84||c.isWebMercator))return t({location:r(u,c),coordinate:l(u,f)});if(a[0]===u&&a[1]===c.wkid)return a[2];a[0]=u,a[1]=c.wkid;const m=s.then((t=>t.project(new i({geometries:[u],outSpatialReference:c}),{signal:n}).then((e=>{if(!p(e[0]))throw e[0];return{location:e[0],coordinate:l(e[0],f)}})).catch((t=>{throw new e(\"coordinate-conversion:projection-failed\",\"Failed to project point\",{projectionResult:t})}))));return a[2]=m,m}function w(t){const{formatName:o,location:r,geometryServicePromise:n}=t,i=c[o]||{},a={coordinates:[[r.x,r.y]],sr:r.spatialReference,conversionType:o,...i};return n.then((t=>t.toGeoCoordinateString(a).then((e=>{const t=e[0];if(!t)throw e;return t})).catch((t=>{throw new e(\"coordinate-conversion:to-geo-coordinate-string-failed\",\"Failed to convert coordinate notation\",{notationResult:t})}))))}function h(e){return\"dd\"===e||\"dms\"===e||\"ddm\"===e||\"mgrs\"===e||\"usng\"===e||\"utm\"===e}export{s as clipLonLat,f as fromGeoCoordinateString,m as fromXY,u as getDegreePrecision,h as isSupportedNotation,p as isValidPoint,l as pointToCoordinate,g as project,w as toGeoCoordinateString};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport n from\"../core/Error.js\";import e from\"./SpatialReference.js\";import t from\"./Point.js\";import{i as o,a as r,l as i,P as a,b as s,c,d as l,e as _,f as u}from\"../chunks/pe.js\";function d(){return o()}function f(){return r()}function S(){return i()}function g(n,o){const r=[];n=n.replace(/\\u2032/g,\"'\");const i=M(o);return a.dms_to_geog(i,1,[n],r)?new t(r[0][0],r[0][1],o||e.WGS84):null}function w(n,o,r){const i=[],a=v(r);if(-1===a)return console.warn(`invalid conversionMode: ${r}`),null;const c=M(o);return s.mgrs_to_geog_extended(c,1,[n],a,i)?new t(i[0][0],i[0][1],o||e.WGS84):null}function E(n,o){const r=[];!o&&/\\(.+27/.test(n)&&(o=e.GCS_NAD_1927);const i=M(o);return c.usng_to_geog(i,1,[n],r)?new t(r[0][0],r[0][1],o||e.WGS84):null}function m(n,o,r){const i=[],a=R(r);if(-1===a)return console.warn(`invalid conversionMode: ${r}`),null;const s=M(o);return l.utm_to_geog(s,1,[n],a,i)?new t(i[0][0],i[0][1],o||e.WGS84):null}function P(n,e,t=0){const o=[[n.x,n.y]],r=[],i=M(n.spatialReference);let s=0;switch(e){case\"dd\":s=a.geog_to_dd(i,1,o,t,r);break;case\"ddm\":s=a.geog_to_ddm(i,1,o,t,r);break;case\"dms\":s=a.geog_to_dms(i,1,o,t,r);break;default:return console.warn(`invalid format: ${e}`),null}return s?r[0]:null}function k(n,e,t=0,o=!1){const r=[[n.x,n.y]],i=[],a=M(n.spatialReference);let c=v(e);if(-1===c)return console.warn(`invalid conversionMode: ${e}`),null;o&&(c|=s.PE_MGRS_ADD_SPACES);return s.geog_to_mgrs_extended(a,1,r,t,!1,c,i)?i[0]:null}function G(n,e=0,t=!1){const o=[[n.x,n.y]],r=[],i=M(n.spatialReference);return c.geog_to_usng(i,1,o,e,!1,t,r)?r[0]:null}function p(n,e,t=!1){const o=[[n.x,n.y]],r=[],i=M(n.spatialReference);let a=R(e);if(-1===a)return console.warn(`invalid conversionMode: ${e}`),null;t&&(a|=l.PE_UTM_OPTS_ADD_SPACES);return l.geog_to_utm(i,1,o,a,r)?r[0]:null}function M(t){let o=null;if(t||(t=e.WGS84),t.wkid){if(o=_.geogcs(t.wkid),!o)throw new n(\"coordinate-formatter:invalid-spatial-reference\",\"wkid is not valid\")}else{if(!t.wkt)throw new n(\"coordinate-formatter:invalid-spatial-reference\",\"wkid and wkt are missing\");if(o=_.fromString(u.PE_TYPE_GEOGCS,t.wkt),!o)throw new n(\"coordinate-formatter:invalid-spatial-reference\",\"wkt is not valid\")}return o}function v(n){let e=-1;switch(n){case\"automatic\":e=s.PE_MGRS_STYLE_AUTO;break;case\"new-180-in-zone-01\":e=s.PE_MGRS_STYLE_NEW|s.PE_MGRS_180_ZONE_1_PLUS;break;case\"new-180-in-zone-60\":e=s.PE_MGRS_STYLE_NEW;break;case\"old-180-in-zone-01\":e=s.PE_MGRS_STYLE_OLD|s.PE_MGRS_180_ZONE_1_PLUS;break;case\"old-180-in-zone-60\":e=s.PE_MGRS_STYLE_OLD}return e}function R(n){let e=-1;switch(n){case\"latitude-band-indicators\":e=l.PE_UTM_OPTS_NONE;break;case\"north-south-indicators\":e=l.PE_UTM_OPTS_NS}return e}export{g as fromLatitudeLongitude,w as fromMgrs,E as fromUsng,m as fromUtm,d as isLoaded,f as isSupported,S as load,P as toLatitudeLongitude,k as toMgrs,G as toUsng,p as toUtm};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import{property as t}from\"../../../core/accessorSupport/decorators/property.js\";import{subclass as r}from\"../../../core/accessorSupport/decorators/subclass.js\";import i from\"../../../core/Error.js\";import\"../../../core/urlUtils.js\";import\"../../../core/uuid.js\";import\"../../../portal/support/resourceExtension.js\";import{reject as o,resolve as s}from\"../../../core/promiseUtils.js\";import n from\"../../../core/Accessor.js\";import{equals as a}from\"../../../geometry/support/spatialReferenceUtils.js\";import c from\"../../../geometry/SpatialReference.js\";import{canProject as l,project as p}from\"../../../geometry/support/webMercatorUtils.js\";import\"../../../geometry.js\";import{isLoaded as m,project as u}from\"../../../geometry/projection.js\";import{fromUsng as d,fromUtm as h,fromMgrs as f,fromLatitudeLongitude as g,toUtm as v,toUsng as y,toMgrs as S,toLatitudeLongitude as w}from\"../../../geometry/coordinateFormatter.js\";import{isValidPoint as P,isSupportedNotation as R,fromXY as j,fromGeoCoordinateString as _,pointToCoordinate as b,toGeoCoordinateString as M,project as C,getDegreePrecision as I}from\"./coordinateConversionUtils.js\";let x=class extends n{constructor(e){super(e),this.conversionInfo=null,this.coordinateSegments=null,this.defaultPattern=null,this.name=null,this.viewModel=null}get currentPattern(){return this._get(\"currentPattern\")||this._get(\"defaultPattern\")}set currentPattern(e){this._set(\"currentPattern\",e)}get hasDisplayProperties(){return!(!this.defaultPattern||!this.coordinateSegments)}get spatialReference(){const e=this.get(\"conversionInfo.spatialReference\")||c.WGS84;return\"basemap\"===this.name?this._viewSpatialReference:e}set spatialReference(e){void 0===e&&this._clearOverride(\"spatialReference\"),this._override(\"spatialReference\",e)}get _viewSpatialReference(){return this.get(\"viewModel.view.spatialReference\")||c.WGS84}get _additionalCharactersPattern(){const e=this.get(\"coordinateSegments\");if(!e)return null;const t=e.map((e=>e.alias)),r=this.currentPattern.replace(new RegExp(`[\"nsew${t.join()}]`,\"gi\"),\"\").replace(/\\ /g,\"\");return new RegExp(`[${r}]`,\"g\")}convert(e,t){if(!P(e))return o(new i(\"format:invalid-point\",\"Could not convert invalid point.\",{point:e}));const r=this.get(\"conversionInfo.convert\");return r?s().then((()=>r(e))):this._project(e,this.spatialReference,t).then((e=>this._getCoordinate(e).then((t=>({location:e,coordinate:t})))))}getConversionStrategy(){const e=this._viewSpatialReference;return this.get(\"conversionInfo.convert\")||this.get(\"viewModel.formatterAvailable\")||\"xy\"===this.name&&(e.isWebMercator||e.isWGS84)||\"basemap\"===this.name?\"client\":\"server\"}getDisplayCoordinate(e){if(!e)return null;if(!this.coordinateSegments||!this.currentPattern)return e;let t=this.currentPattern;const r=this._getSegmentMatches(e,!1);for(let e=this.coordinateSegments.length-1;e>=0;e--){const i=this.coordinateSegments[e];t=t.replace(i.alias,r[e])}return t}parseUserInput(e){let t=this.defaultPattern.replace(this._additionalCharactersPattern,\"\");e=e.replace(this._additionalCharactersPattern,\"\");const r=this._getSegmentMatches(e,!0);for(let e=this.coordinateSegments.length-1;e>=0;e--){const i=this.coordinateSegments[e];t=t.replace(i.alias,r[e])}return t}_getSegmentMatches(e,t){const r=[];for(let i=0;i<this.coordinateSegments.length;i++){const o=this.coordinateSegments[i],s=e.match(o.searchPattern);if(!s){r.push(\"\");continue}let n=s[0];if(e=e.replace(n,\"\").trim(),o.substitution){const e=t?o.substitution.input(n):o.substitution.output(n);e&&(n=e)}r.push(n)}return r}reverseConvert(e){const t=this.parseUserInput(e),r=this.get(\"conversionInfo.reverseConvert\"),s=R(this.name);let n;if(r)n=r(t);else if(\"xy\"===this.name||\"basemap\"===this.name)n=j(t,this.spatialReference);else if(this.viewModel.formatterAvailable)switch(this.name){case\"dd\":case\"ddm\":case\"dms\":n=g(t,this.spatialReference);break;case\"mgrs\":{const e=\"automatic\";n=f(t,this.spatialReference,e);break}case\"utm\":{const e=\"latitude-band-indicators\";n=h(t,this.spatialReference,e);break}case\"usng\":n=d(t,this.spatialReference);break;default:n=null}else if(s)return _({coordinate:t,spatialReference:this.spatialReference,formatName:this.name,geometryServicePromise:this.get(\"viewModel.geometryServicePromise\")});return n?this._project(n,this._viewSpatialReference):o(new i(\"format:invalid-input\",\"Could not parse input into point.\",{userInput:e}))}_getCoordinate(e){const t=this.get(\"viewModel.view.scale\");if(!P(e))return o(new i(\"format:invalid-point\",\"Could not transform invalid point into coordinate.\",{point:e}));if(this.get(\"viewModel.formatterAvailable\")||\"basemap\"===this.name||\"xy\"===this.name)switch(this.name){case\"dd\":case\"ddm\":case\"dms\":{const r=I(t);return s(w(e,this.name,r))}case\"mgrs\":return s(S(e,\"automatic\",5,!1));case\"usng\":return s(y(e,5,!1));case\"utm\":return s(v(e,\"latitude-band-indicators\",!0));default:return s(b(e,t))}return R(this.name)?M({formatName:this.name,location:e,geometryServicePromise:this.get(\"viewModel.geometryServicePromise\")}):s(b(e,t))}_project(e,t,r){return a(e.spatialReference,t)||!t?s(e):this.get(\"viewModel.formatterAvailable\")&&m()?s(u(e,t)):this.get(\"viewModel.formatterAvailable\")?null:l(e,t)?s(p(e,t)):C({location:e,spatialReference:t,geometryServicePromise:this.get(\"viewModel.geometryServicePromise\"),scale:this.get(\"viewModel.view.scale\")},r).then((e=>e.location))}};e([t()],x.prototype,\"conversionInfo\",void 0),e([t()],x.prototype,\"coordinateSegments\",void 0),e([t()],x.prototype,\"currentPattern\",null),e([t()],x.prototype,\"defaultPattern\",void 0),e([t({readOnly:!0,dependsOn:[\"defaultPattern\",\"coordinateSegments\"]})],x.prototype,\"hasDisplayProperties\",null),e([t()],x.prototype,\"name\",void 0),e([t({dependsOn:[\"_viewSpatialReference\",\"name\"],type:c})],x.prototype,\"spatialReference\",null),e([t()],x.prototype,\"viewModel\",void 0),e([t({dependsOn:[\"viewModel.view.spatialReference\"],readOnly:!0})],x.prototype,\"_viewSpatialReference\",null),e([t({readOnly:!0,dependsOn:[\"currentPattern\"]})],x.prototype,\"_additionalCharactersPattern\",null),x=e([r(\"esri.widgets.CoordinateConversion.support.Format\")],x);var O=x;export default O;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{getCustoms as t,parse as e,format as i}from\"../../../core/number.js\";import n from\"./Format.js\";const a=t().decimal,s={N:\"north\",S:\"south\",E:\"east\",W:\"west\"},r=new RegExp(`-?\\\\d+[\\\\.|\\\\${a}]?\\\\d*`),o=/^[\\\\0]+(?=\\d)/;function d(t){const e=t.abbreviatedDirections.north,i=t.abbreviatedDirections.south,o=t.abbreviatedDirections.east,d=t.abbreviatedDirections.west,p={};p[e]=\"N\",p[i]=\"S\",p[o]=\"E\",p[d]=\"W\";const l=new RegExp(`N|S|${e}|${i}`,\"i\"),b=new RegExp(`E|W|${o}|${d}`,\"i\");return[new n({name:\"basemap\",coordinateSegments:[{alias:\"X\",description:\"easting\",searchPattern:r,substitution:{input:t=>c(t),output:t=>u(t)}},{alias:\"Y\",description:\"northing\",searchPattern:r,substitution:{input:t=>c(t),output:t=>u(t)}}],defaultPattern:\"X, Y\",viewModel:null}),new n({name:\"dd\",coordinateSegments:[{alias:\"Y\",description:\"degrees latitude\",searchPattern:new RegExp(`\\\\d{1,2}[\\\\.|\\\\${a}]?\\\\d*(?=\\\\D*?[N|S|${e}|${i}])`,\"i\"),substitution:{input:t=>c(t),output:t=>u(t)}},{alias:t.abbreviatedDirections.north,description:\"north/south indicator\",searchPattern:l,substitution:{input:t=>p[t],output:e=>t.abbreviatedDirections[s[e]]}},{alias:\"X\",description:\"degrees longitude\",searchPattern:new RegExp(`\\\\d{1,3}[\\\\.|\\\\${a}]?\\\\d*(?=\\\\D*?[E|W|${o}|${d}])`,\"i\"),substitution:{input:t=>c(t),output:t=>u(t)}},{alias:t.abbreviatedDirections.east,description:\"east/west indicator\",searchPattern:b,substitution:{input:t=>p[t],output:e=>t.abbreviatedDirections[s[e]]}}],defaultPattern:`Y°‎${t.abbreviatedDirections.north}, X°‎${t.abbreviatedDirections.east}`,viewModel:null}),new n({name:\"ddm\",coordinateSegments:[{alias:\"Y\",description:\"degrees latitude\",searchPattern:new RegExp(`\\\\d{1,2}(?=.*?\\\\s+.*?[N|S|${e}|${i}])`,\"i\"),substitution:{input:t=>c(t),output:t=>u(t)}},{alias:\"A\",description:\"minutes latitude\",searchPattern:new RegExp(`\\\\d{1,2}[\\\\.\\\\${a}]?\\\\d*(?=.*?[N|S|${e}||${i}])`,\"i\"),substitution:{input:t=>c(t),output:t=>u(t)}},{alias:t.abbreviatedDirections.north,description:\"north/south indicator\",searchPattern:l,substitution:{input:t=>p[t],output:e=>t.abbreviatedDirections[s[e]]}},{alias:\"X\",description:\"degrees longitude\",searchPattern:new RegExp(`\\\\d{1,3}(?=\\\\D*?\\\\s+.*?[E|W|${o}|${d}])`,\"i\"),substitution:{input:t=>c(t),output:t=>u(t)}},{alias:\"B\",description:\"minutes longitude\",searchPattern:new RegExp(`\\\\d{1,2}[\\\\.|\\\\|${a}]?\\\\d*(?=.*?[E|W|${o}|${d}])`,\"i\"),substitution:{input:t=>c(t),output:t=>u(t)}},{alias:t.abbreviatedDirections.east,description:\"east/west indicator\",searchPattern:b,substitution:{input:t=>p[t],output:e=>t.abbreviatedDirections[s[e]]}}],defaultPattern:`Y°‎ A'${t.abbreviatedDirections.north}, X°‎ B'${t.abbreviatedDirections.east}`,viewModel:null}),new n({name:\"dms\",coordinateSegments:[{alias:\"Y\",description:\"degrees latitude\",searchPattern:new RegExp(`\\\\d{1,2}(?=.*?\\\\s+.*?[N|S|${e}|${i}])`,\"i\"),substitution:{input:t=>c(t),output:t=>u(t)}},{alias:\"A\",description:\"minutes latitude\",searchPattern:new RegExp(`\\\\d{1,2}(?=.*?[N|S|${e}|${i}])`,\"i\"),substitution:{input:t=>c(t),output:t=>u(t)}},{alias:\"B\",description:\"seconds latitude\",searchPattern:new RegExp(`\\\\d{1,2}[\\\\.|\\\\${a}]?\\\\d*(?=.*?[N|S|${e}|${i}])`,\"i\"),substitution:{input:t=>c(t),output:t=>u(t)}},{alias:t.abbreviatedDirections.north,description:\"north/south indicator\",searchPattern:l,substitution:{input:t=>p[t],output:e=>t.abbreviatedDirections[s[e]]}},{alias:\"X\",description:\"degrees longitude\",searchPattern:new RegExp(`\\\\d{1,3}(?=.*?\\\\s+.*?[E|W|${o}|${d}])`,\"i\"),substitution:{input:t=>c(t),output:t=>u(t)}},{alias:\"C\",description:\"minutes longitude\",searchPattern:new RegExp(`\\\\d{1,2}(?=.*?[E|W|${o}|${d}])`,\"i\"),substitution:{input:t=>c(t),output:t=>u(t)}},{alias:\"D\",description:\"seconds longitude\",searchPattern:new RegExp(`\\\\d{1,2}[\\\\.|\\\\${a}]?\\\\d*(?=.*?[E|W|${o}|${d}])`,\"i\"),substitution:{input:t=>c(t),output:t=>u(t)}},{alias:t.abbreviatedDirections.east,description:\"east/west indicator\",searchPattern:b,substitution:{input:t=>p[t],output:e=>t.abbreviatedDirections[s[e]]}}],defaultPattern:`Y°‎ A' B\"${t.abbreviatedDirections.north}, X°‎ C' D\"${t.abbreviatedDirections.east}`,viewModel:null}),new n({name:\"xy\",coordinateSegments:[{alias:\"X\",description:\"longitude\",searchPattern:r,substitution:{input:t=>c(t),output:t=>u(t)}},{alias:\"Y\",description:\"latitude\",searchPattern:r,substitution:{input:t=>c(t),output:t=>u(t)}}],defaultPattern:\"X°‎, Y°‎\",viewModel:null}),new n({name:\"mgrs\",coordinateSegments:[{alias:\"Z\",description:\"grid zone\",searchPattern:/\\d{1,2}\\w|[abyz]/i},{alias:\"S\",description:\"grid square\",searchPattern:/\\w{2}/},{alias:\"X\",description:\"easting\",searchPattern:/^\\d{5}(?=.?\\d{5}$)|^\\d{4}(?=.?\\d{4}$)|^\\d{3}(?=.?\\d{3}$)|^\\d{2}(?=.?\\d{2}$)|^\\d(?=.?\\d$)/},{alias:\"Y\",description:\"northing\",searchPattern:/^\\d{1,5}/}],defaultPattern:\"Z S X Y\",viewModel:null}),new n({name:\"usng\",coordinateSegments:[{alias:\"Z\",description:\"grid zone\",searchPattern:/\\d{1,2}\\w|[abyz]/i},{alias:\"S\",description:\"grid square\",searchPattern:/\\w{2}/},{alias:\"X\",description:\"easting\",searchPattern:/^\\d{5}(?=.?\\d{5}$)|^\\d{4}(?=.?\\d{4}$)|^\\d{3}(?=.?\\d{3}$)|^\\d{2}(?=.?\\d{2}$)|^\\d(?=.?\\d$)/},{alias:\"Y\",description:\"northing\",searchPattern:/^\\d{1,5}/}],defaultPattern:\"Z S X Y\",viewModel:null}),new n({name:\"utm\",coordinateSegments:[{alias:\"Z\",description:\"zone number\",searchPattern:/\\d{1,2}|[abyz]/i},{alias:\"B\",description:\"latitude band\",searchPattern:/^\\D/},{alias:\"X\",description:\"easting\",searchPattern:/\\d{1,7}(?=\\s*\\d{7}$)/},{alias:\"Y\",description:\"northing\",searchPattern:/\\d{1,7}/}],defaultPattern:\"ZB X Y\",viewModel:null})]}function u(t){const e=t.match(o),n=e?e[0]:\"\",a=t.indexOf(\".\")>=0?t.split(\".\")[1].length:0;return n+i(Number(t),{pattern:\"###0.###\",places:a,round:-1})}function c(t){return e(t)}export{d as generateDefaultFormats};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import e from\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import{subclass as i}from\"../../core/accessorSupport/decorators/subclass.js\";import r from\"../../core/Error.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import{debounce as s,eachAlways as n,reject as a,resolve as h,all as c}from\"../../core/promiseUtils.js\";import l from\"../../geometry/Point.js\";import d from\"../../core/Evented.js\";import p from\"../../core/Collection.js\";import{getLocale as m}from\"../../intl/locale.js\";import{fetchMessageBundle as v}from\"../../intl/messages.js\";import{getAssetUrl as u}from\"../../assets.js\";import\"../../intl.js\";import _ from\"../../symbols/PictureMarkerSymbol.js\";import g from\"../../Graphic.js\";import w from\"../../core/Handles.js\";import{init as f}from\"../../core/watchUtils.js\";import{load as C}from\"../../geometry/projection.js\";import{GoToMixin as y}from\"../support/GoTo.js\";import{create as b}from\"../../portal/support/geometryServiceUtils.js\";import j from\"./support/Conversion.js\";import{isValidPoint as P,isSupportedNotation as S}from\"./support/coordinateConversionUtils.js\";import{generateDefaultFormats as L}from\"./support/formatUtils.js\";const M=\"default\",U=\"crosshair\",x=new l([0,0,500]),G=`${window.location.pathname}__coordinateConversionWidgetState`,A=e.getLogger(\"esri.widgets.CoordinateConversion.CoordinateConversionViewModel\"),E=\"conversions\",F=\"formats\",N=\"view\",W=\"view-change\";let O=0,V=[],k=class extends(y(d.EventedAccessor)){constructor(t){super(t),this._conversionPromise=null,this._handles=new w,this._locationGraphic=null,this._locale=m(),this._pointerCount=0,this.conversions=new p,this.formats=new p,this.formatterAvailable=!1,this.geometryServicePromise=null,this.messages=null,this.requestDelay=300,this.locationSymbol=new _({url:u(\"esri/images/search/search-symbol-32.png\"),width:24,height:24}),this.view=null,this._instanceNumber=O,O++,this._saveWidgetState=this._saveWidgetState.bind(this),this._handleFormatChange=this._handleFormatChange.bind(this),this._handleConversionChange=this._handleConversionChange.bind(this),this._handleViewChange=this._handleViewChange.bind(this),this._onClick=this._onClick.bind(this),this._onPointerMove=this._onPointerMove.bind(this),this._onPointerDown=this._onPointerDown.bind(this),this._onPointerUp=this._onPointerUp.bind(this)}initialize(){(async()=>this.messages=await v(\"esri/widgets/CoordinateConversion/t9n/CoordinateConversion\"))().then((()=>{if(!this.destroyed&&(this.formats.addMany(L(this.messages)),this._loadWidgetState(),this.formats.forEach((t=>{t.viewModel=this,this._handles.add(t.watch(\"currentPattern\",this._saveWidgetState),t.name)})),this._handles.add(this.conversions.on(\"change\",this._handleConversionChange),E),this._handles.add(this.formats.on(\"change\",this._handleFormatChange),F),this._handles.add(f(this,\"view.map\",(()=>{this.geometryServicePromise=b(this.get(\"view.map.portalItem\"))})),W),C().then((()=>{this.formatterAvailable=!0})).catch((t=>{A.error(new r(\"coordinate-conversion:projection-load-failed\",\"Failed to load the projection module.\",{error:t})),this.formatterAvailable=!1})).then((()=>this._handles.add(f(this,\"view\",this._handleViewChange),W))),0===this.conversions.length)){const t=this.formats.find((t=>\"xy\"===t.name))||this.formats.getItemAt(0);this.conversions.add(new j({format:t}))}}))}destroy(){this._handles.removeAll(),this._cleanUpView(this.view),this.view=null}set currentLocation(t){this._set(\"currentLocation\",t),this._updateConversions()}get currentLocation(){return this._get(\"currentLocation\")||null}set mode(t){switch(t){case\"capture\":this.currentLocation=null,this._startCaptureMode(),this._set(\"mode\",t);break;case\"live\":this._startLiveMode(),this._set(\"mode\",t)}}get mode(){return this._get(\"mode\")||\"live\"}get state(){const{messages:t,view:e}=this,o=null==e?void 0:e.ready;return t?o?\"ready\":e?\"loading\":\"disabled\":\"disabled\"}get waitingForConversions(){return null!=this._conversionPromise}get _debouncedConvert(){return s(((t,e,o)=>n(t.map((t=>t.convert(e,o))))),this.requestDelay)}setLocation(t){if(this.view.graphics.remove(this._locationGraphic),t){const e=t.clone();e.hasZ&&(e.z=void 0),this._locationGraphic=new g({geometry:e,symbol:this.get(\"locationSymbol\")}),this.view.graphics.add(this._locationGraphic)}}convert(t,e){return P(e)?h().then((()=>t.convert(e))):a(new r(\"coordinate-conversion:invalid-point\",\"Invalid point cannot be converted.\",{point:e}))}goToLocation(t){if(this.get(\"view.clippingArea\")||this.get(\"view.map.basemap.baseLayers.length\")>0){const e=this.get(\"view.clippingArea\")||this.view.map.basemap.baseLayers.getItemAt(0).fullExtent;return e?e.contains(t)?this.callGoTo({target:t}):a(new r(\"coordinate-conversion:go-to-failed\",\"Point outside basemap extent.\",{point:t})):this.callGoTo({target:t})}return this.callGoTo({target:t})}pause(){this.currentLocation=null,this._handles.remove(N),this.view&&(this.view.cursor=M,this.view.graphics.remove(this._locationGraphic))}previewConversion(t,e=this.currentLocation||x){return this._convertMany([t],e).then((()=>t.displayCoordinate))}resume(){\"capture\"===this.mode?this._startCaptureMode():this._startLiveMode()}reverseConvert(t,e){return e.reverseConvert(t)}async updateConversions(t,e){return e&&e.type&&\"point\"===e.type?this._convertMany(t,e).then((t=>t.client.concat(t.server))):(this._clearConversions(this.conversions),a(new r(\"coordinate-conversion:invalid-input-point\",\"Point is invalid, conversions cannot be updated.\",{point:e})))}_cleanUpView(t){t&&(t.graphics.remove(this._locationGraphic),this._handles.remove(N),t.cursor=M)}_clearConversions(t){t.forEach((t=>{t.position={location:null,coordinate:null}}))}_convertMany(t,e){const{client:o,server:i}=t.reduce(((t,e)=>(t[e.format.getConversionStrategy()].push(e),t)),{client:[],server:[]}),r=c(o.map((t=>t.format.convert(e).then((e=>(t.position=e,t))).catch((()=>{t.position=null}))))),s=t=>t?(this._conversionPromise=null,this.notifyChange(\"waitingForConversions\"),t.map(((t,e)=>{const o=i[e];return t.error?(o.position=null,o):(o.position=t.value,o)}))):[];return this._conversionPromise=i.length>0?this._debouncedConvert(i.map((t=>t.format)),e).then(s,s):h([]),this.notifyChange(\"waitingForConversions\"),c([r,this._conversionPromise]).then((t=>({client:t[0],server:t[1]})))}_handleConversionChange(t){t.added.forEach((t=>{const e=t.format;e.viewModel=this,this.currentLocation&&(this._set(\"waitingForConversions\",!0),this.convert(e,this.currentLocation).then((e=>{t.position=e,this._set(\"waitingForConversions\",!1)})))})),this._saveWidgetState()}_handleFormatChange(t){t.added.forEach((t=>{this._handles.add(t.watch(\"currentPattern\",this._saveWidgetState),t.name),t.viewModel=this})),t.removed.forEach((t=>{t.viewModel=null,this._handles.remove(t.name)}))}_loadWidgetState(){if(0===this._instanceNumber)try{const t=JSON.parse(localStorage.getItem(G));t&&(V=t)}catch(t){A.error(new r(\"coordinate-conversion:invalid-local-storage-json\",\"Could not read from localStorge.\",{error:t}))}this._setWidgetState()}_startCaptureMode(){this._handles.remove(N),this.view&&(this.view.cursor=U,this.currentLocation&&this.setLocation(this.currentLocation),this._handles.add(this.view.on(\"click\",this._onClick),N))}_startLiveMode(){this._pointerCount=0,this._handles.remove(N),this.view&&(this.view.cursor=M,this.view.graphics.remove(this._locationGraphic),this._handles.add([this.view.on(\"pointer-down\",this._onPointerDown),this.view.on(\"pointer-up\",this._onPointerUp),this.view.on(\"pointer-move\",this._onPointerMove)],N))}_handleViewChange(t,e){e&&e!==t&&this._cleanUpView(e),t&&(\"capture\"===this.mode&&this._startCaptureMode(),this._startLiveMode())}_onClick(t){if(0===t.button){const e=this.view.toMap(t),o=e&&e.normalize();this.setLocation(o),this.currentLocation=o}}_onPointerDown(t){const{pointerType:e}=t;if(this._pointerCount++,(\"touch\"===e||\"pen\"===e)&&1===this._pointerCount){const e=this.view.toMap(t);this.currentLocation=e&&e.normalize()}}_onPointerMove(t){const{pointerType:e}=t;if(\"mouse\"===e||1===this._pointerCount){const e=this.view.toMap(t);this.currentLocation=e&&e.normalize()}}_onPointerUp(){this._pointerCount--}_setWidgetState(){const t=V[this._instanceNumber];if(t)try{t.formats.forEach((e=>{const o=this.formats.find((t=>t.name===e.name));o&&t.locale===this._locale&&e.currentPattern&&(o.currentPattern=e.currentPattern),o&&e.index>=0&&this.conversions.add(new j({format:o}))}))}catch(t){A.warn(new r(\"coordinate-conversion:local-storage-read-error\",\"Could not get widget state from stored JSON.\",{error:t})),V[this._instanceNumber]={formats:[],locale:this._locale}}else V[this._instanceNumber]={formats:[],locale:this._locale}}_saveWidgetState(){const t=this._toJSON();V[this._instanceNumber]={formats:t,locale:this._locale};try{localStorage.setItem(G,JSON.stringify(V))}catch(t){A.error(new r(\"coordinate-conversion:local-storage-write-error\",\"Could not write to localStorage.\",{error:t}))}}async _updateConversions(){try{await this.updateConversions(this.conversions.toArray(),this.currentLocation)}catch{}}_toJSON(){return this.formats.filter((t=>{const e=t.name;return\"xy\"===e||\"basemap\"===e||S(e)})).map((t=>({name:t.name,currentPattern:t.currentPattern,defaultPattern:t.defaultPattern,index:this.conversions.findIndex((e=>e.format===t))}))).sort(((t,e)=>t.index-e.index)).toArray()}};t([o()],k.prototype,\"conversions\",void 0),t([o({type:l})],k.prototype,\"currentLocation\",null),t([o()],k.prototype,\"formats\",void 0),t([o()],k.prototype,\"messages\",void 0),t([o()],k.prototype,\"mode\",null),t([o()],k.prototype,\"requestDelay\",void 0),t([o({dependsOn:[\"messages\",\"view\",\"view.ready\"],readOnly:!0})],k.prototype,\"state\",null),t([o()],k.prototype,\"locationSymbol\",void 0),t([o({readOnly:!0})],k.prototype,\"waitingForConversions\",null),t([o()],k.prototype,\"view\",void 0),t([o({readOnly:!0,dependsOn:[\"requestDelay\"]})],k.prototype,\"_debouncedConvert\",null),k=t([i(\"esri.widgets.CoordinateConversion.CoordinateConversionViewModel\")],k);var D=k;export default D;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import t from\"../core/global.js\";import\"../core/has.js\";import i from\"../core/Logger.js\";import\"../core/accessorSupport/ensureType.js\";import{property as o}from\"../core/accessorSupport/decorators/property.js\";import{aliasOf as s}from\"../core/accessorSupport/decorators/aliasOf.js\";import{subclass as n}from\"../core/accessorSupport/decorators/subclass.js\";import\"../core/urlUtils.js\";import\"../core/uuid.js\";import\"../portal/support/resourceExtension.js\";import{eventKey as r}from\"../core/events.js\";import{storeNode as a,isRTL as l}from\"./support/widgetUtils.js\";import{accessibleHandler as d}from\"./support/decorators/accessibleHandler.js\";import{messageBundle as c}from\"./support/decorators/messageBundle.js\";import{renderable as p}from\"./support/decorators/renderable.js\";import{j as h}from\"../chunks/index.js\";import u from\"./Widget.js\";import _ from\"./CoordinateConversion/support/Conversion.js\";import v from\"./CoordinateConversion/CoordinateConversionViewModel.js\";const m=\"esri-coordinate-conversion esri-widget\",g=\"esri-coordinate-conversion--capture-mode\",b=\"esri-coordinate-conversion--no-basemap\",y=\"esri-coordinate-conversion__popup\",C=\"esri-coordinate-conversion__conversion-list\",w=\"esri-coordinate-conversion__row\",f=\"esri-coordinate-conversion__display\",x=\"esri-coordinate-conversion__conversions-view--expanded\",k=\"esri-coordinate-conversion__conversions-view--expand-down\",I=\"esri-coordinate-conversion__conversions-view--expand-up\",M=\"esri-coordinate-conversion__conversions-view\",V=\"esri-coordinate-conversion__select-primary\",P=\"esri-coordinate-conversion__select-row\",T=\"esri-coordinate-conversion__tools\",F=\"esri-coordinate-conversion__mode-toggle\",S=\"esri-coordinate-conversion__row-button\",j=\"esri-coordinate-conversion__back-button\",$=\"esri-coordinate-conversion__button\",D=\"esri-coordinate-conversion__input-coordinate\",O=\"esri-coordinate-conversion__input-form\",E=\"esri-coordinate-conversion__input-group\",L=\"esri-coordinate-conversion__input-coordinate--rejected\",B=\"esri-coordinate-conversion__heading\",A=\"esri-coordinate-conversion__pattern-input\",R=\"esri-coordinate__settings\",U=\"esri-coordinate-conversion__settings-group\",q=\"esri-coordinate-conversion__settings-group-horizontal\",G=\"esri-coordinate-conversion__preview-coordinate\",z=\"esri-disabled\",H=\"esri-input\",N=\"esri-button\",W=\"esri-widget__heading\",J=\"esri-widget--button\",K=\"esri-icon-left-arrow\",Q=\"esri-icon-right-arrow\",X=\"esri-icon-map-pin\",Y=\"esri-icon-up\",Z=\"esri-icon-duplicate\",ee=\"esri-icon-edit\",te=\"esri-select\",ie=\"esri-icon-down\",oe=\"esri-icon-refresh\",se=\"esri-icon-close\",ne=\"esri-icon-settings2\",re=i.getLogger(\"esri.widgets.CoordinateConversion\");let ae=class extends u{constructor(e,t){super(e,t),this._popupMessage=null,this._popupId=null,this._coordinateInput=null,this._badInput=!1,this._goToEnabled=!1,this._conversionFormat=null,this._settingsFormat=null,this._previewConversion=null,this._expanded=!1,this._popupVisible=!1,this._settingsVisible=!1,this._inputVisible=!1,this.conversions=null,this.currentLocation=null,this.formats=null,this.goToOverride=null,this.label=void 0,this.messages=null,this.messagesCommon=null,this.mode=null,this.orientation=\"auto\",this.requestDelay=null,this.view=null,this.viewModel=new v}set multipleConversions(e){!1===e&&(this._expanded=!1,this.conversions.splice(1,this.conversions.length-1)),this._set(\"multipleConversions\",e)}get multipleConversions(){const e=this._get(\"multipleConversions\");return\"boolean\"!=typeof e||e}reverseConvert(e,t){return this.viewModel.reverseConvert(e,t)}render(){const e=this.get(\"viewModel.state\"),t=\"disabled\"===e?h(\"div\",{key:\"esri-coordinate__no-basemap\"},this.messages.noBasemap):null,i=!t&&this._inputVisible?this._renderInputForm():null,o=!t&&this._settingsVisible?this._renderSettings():null,s=t||i||o?null:this._renderConversionsView(),n=this._popupVisible?this._renderPopup():null,r={[g]:\"capture\"===this.mode,[z]:\"loading\"===e,[b]:\"disabled\"===e};return h(\"div\",{class:this.classes(m,r)},n,t,s,o,i)}_addConversion(e){const t=e.target,i=t.options[t.options.selectedIndex][\"data-format\"],o=t[\"data-index\"],s=new _({format:i});t.options.selectedIndex=0,o>=0&&this.conversions.removeAt(o),this.conversions.add(s,o)}_findSettingsFormat(){return this._settingsFormat||this.conversions.reduceRight(((e,t)=>{const i=t.format;return i.get(\"hasDisplayProperties\")?i:e}),null)||this.formats.find((e=>e.hasDisplayProperties))}_hidePopup(){this._popupId&&(clearTimeout(this._popupId),this._popupId=null),this._popupVisible=!1,this._popupMessage=null,this.scheduleRender()}_onConvertComplete(){this._inputVisible=!1,this._coordinateInput.value=\"\"}_onCopy(e){const i=e.currentTarget[\"data-conversion\"].displayCoordinate;\"clipboardData\"in t?t.clipboardData.setData(\"text\",i):e.clipboardData.setData(\"text/plain\",i),this._showPopup(this.messages.copySuccessMessage),e.preventDefault()}_processUserInput(e){const t=r(e),i=this.viewModel;if(\"Enter\"!==t&&t)this._badInput&&(this._badInput=!1);else{const e=this._coordinateInput[\"data-format\"],t=this._coordinateInput.value;this._reverseConvert(t,e).then((e=>{\"capture\"===this.mode?i.resume():this.mode=\"capture\",this.currentLocation=e,i.setLocation(e),this._onConvertComplete()})).catch((e=>{re.error(e),this._showPopup(this.messages.invalidCoordinate),this._badInput=!0}))}}_reverseConvert(e,t){const i=this.viewModel;return t.reverseConvert(e).then((e=>(this._goToEnabled&&i.goToLocation(e).catch((e=>{re.warn(e),this._showPopup(this.messages.locationOffBasemap)})),e)))}_setInputFormat(e){const t=e.target,i=t[t.options.selectedIndex][\"data-format\"];this._conversionFormat=i}_setPreviewConversion(){const e=this._findSettingsFormat(),t=this.viewModel;if(e){const i=this.conversions.find((t=>t.format===e));this._previewConversion=new _({format:e,position:{location:this.currentLocation,coordinate:i&&i.position.coordinate}}),this._previewConversion.position.coordinate||t.previewConversion(this._previewConversion)}}_setSettingsFormat(e){const t=e.target,i=t[t.options.selectedIndex][\"data-format\"];this._settingsFormat=i,this._setPreviewConversion()}_showPopup(e,t=2500){this._popupMessage=e,this._popupVisible?clearTimeout(this._popupId):this._popupVisible=!0,this.scheduleRender(),this._popupId=setTimeout((()=>{this._popupId=null,this._hidePopup()}),t)}_toggleGoTo(){this._goToEnabled=!this._goToEnabled}_updateCurrentPattern(e){e.stopPropagation();const t=e.target,i=this._findSettingsFormat();i&&(i.currentPattern=t.value)}_renderConversion(e,t){const{messages:i}=this,o=`${this.id}__list-item-${t}`,s=`${e.format.name} ${i.conversionOutputSuffix}`,n=0===t,r=n||this._expanded,a=n?this._renderFirstConversion(e):this._renderTools(t,e,o),l=n&&!e.displayCoordinate?i.noLocation:e.displayCoordinate,d=h(\"div\",{\"aria-label\":l,class:f,\"data-conversion\":e,role:\"listitem\",tabindex:\"0\",title:l},l),c=this._renderOptions(this.formats.filter((t=>t!==e.format)));return r?h(\"li\",{\"aria-label\":s,class:w,id:o,key:e,role:\"group\",title:s,tabindex:\"0\"},h(\"select\",{\"aria-controls\":o,\"aria-label\":i.selectFormat,class:this.classes(te,P),bind:this,\"data-index\":t,onchange:this._addConversion,title:i.selectFormat},h(\"option\",{\"aria-label\":e.format.name,selected:!0,title:e.format.name},e.format.name.toUpperCase()),c),d,a):null}_renderCopyButton(e){return h(\"li\",{\"aria-label\":this.messagesCommon.copy,bind:this,class:this.classes(J,S),\"data-conversion\":e,onclick:this._copyCoordinateOutput,onkeydown:this._copyCoordinateOutput,oncopy:this._onCopy,role:\"button\",tabindex:\"0\",title:this.messagesCommon.copy},h(\"span\",{\"aria-hidden\":\"true\",class:Z}))}_renderFirstConversion(e){const t=this.id,i={[ie]:!this._expanded,[Y]:this._expanded},{messages:o,messagesCommon:s}=this,n=\"live\"===this.mode?o.captureMode:o.liveMode,r=this._expanded?s.collapse:s.expand,a=e.displayCoordinate&&\"capture\"===this.mode?this._renderCopyButton(e):null,l=this.multipleConversions?h(\"li\",{\"aria-controls\":`${t}__${C}`,\"aria-label\":r,bind:this,class:J,key:\"esri-coordinate-conversion__expand-button\",onclick:this._toggleExpand,onkeydown:this._toggleExpand,role:\"button\",tabindex:\"0\",title:r},h(\"span\",{\"aria-hidden\":\"true\",class:this.classes(i)})):h(\"li\",{\"aria-label\":n,bind:this,class:this.classes(J,F),key:\"esri-coordinate-conversion__mode-toggle\",onclick:this._toggleMode,onkeydown:this._toggleMode,role:\"button\",tabindex:\"0\",title:n},h(\"span\",{\"aria-hidden\":\"true\",class:X}));return h(\"ul\",{class:T},a,l)}_renderInputForm(){const e=this._conversionFormat||this.conversions.getItemAt(0).format,t=this.formats.findIndex((t=>t.name===e.name)),i=this.id,o=`${i}__${D}`,s=`${i}__${D}__header`,n=this._renderOptions(this.formats,!0,t),r={[L]:this._badInput},{messages:l,messagesCommon:d}=this;return h(\"div\",{\"aria-labelledby\":s,class:O,key:\"esri-coordinate-conversion__input-form\",role:\"search\"},h(\"div\",{class:B},h(\"div\",{\"aria-label\":d.back,bind:this,class:this.classes(J,j),onclick:this._toggleInputVisibility,onkeydown:this._toggleInputVisibility,role:\"button\",tabindex:\"0\",title:d.back},this._renderBackIcon()),h(\"h4\",{class:W,id:s},l.inputCoordTitle)),h(\"div\",{class:E},h(\"select\",{\"aria-controls\":o,\"aria-label\":l.selectFormat,bind:this,class:this.classes(te,P),onchange:this._setInputFormat,title:l.selectFormat},n),h(\"input\",{afterCreate:a,\"aria-labelledby\":s,\"aria-required\":\"true\",bind:this,class:this.classes(D,H,r),\"data-format\":e,\"data-node-ref\":\"_coordinateInput\",id:o,onkeydown:this._processUserInput,placeholder:l.inputCoordTitle,role:\"textbox\",spellcheck:!1,title:l.inputCoordTitle,type:\"text\"})),h(\"div\",{class:E},h(\"label\",{\"aria-label\":l.goTo},h(\"input\",{bind:this,checked:this._goToEnabled,onclick:this._toggleGoTo,title:l.goTo,type:\"checkbox\"}),l.goTo),h(\"button\",{\"aria-label\":l.convert,bind:this,class:this.classes($,N),onclick:this._processUserInput,title:l.convert,type:\"button\"},l.convert)))}_renderConversionsView(){const e=`${this.id}__${C}`,t=this._renderPrimaryTools(),i=this._renderOptions(this.formats),o=this.conversions.map(((e,t)=>this._renderConversion(e,t))).toArray(),{messages:s}=this,n=this._expanded?h(\"div\",{class:w},h(\"select\",{\"aria-controls\":e,\"aria-label\":s.addConversion,bind:this,class:this.classes(te,V),onchange:this._addConversion,title:s.addConversion},h(\"option\",{disabled:!0,selected:!0,value:\"\"},s.addConversion),i),t):null,r={[x]:this._expanded,[I]:\"expand-up\"===this.orientation,[k]:\"expand-down\"===this.orientation};return h(\"div\",{class:this.classes(M,r),key:\"esri-coordinate-conversion__main-view\"},h(\"ul\",{\"aria-expanded\":this._expanded?\"true\":\"false\",class:C,id:e},o),n)}_renderOptions(e,t,i){const o=this.conversions.getItemAt(0);return e.map(((e,s)=>{const n=!(t||!o)&&(o.format.name===e.name||this.conversions.map((e=>e.format.name)).includes(e.name));return h(\"option\",{\"aria-label\":e.name,\"data-format\":e,disabled:n,key:e.name,selected:s===i,value:e.name},e.name.toUpperCase())})).toArray()}_renderPopup(){return h(\"div\",{class:y,role:\"alert\"},this._popupMessage)}_renderPrimaryTools(){const{messages:e}=this,t=\"live\"===this.mode?e.captureMode:e.liveMode;return h(\"ul\",{class:T},h(\"li\",{bind:this,class:J,onclick:this._toggleInputVisibility,onkeydown:this._toggleInputVisibility,role:\"button\",tabindex:\"0\",title:e.inputCoordTitle},h(\"span\",{\"aria-hidden\":\"true\",class:ee})),h(\"li\",{bind:this,class:this.classes(J,F),onclick:this._toggleMode,onkeydown:this._toggleMode,role:\"button\",tabindex:\"0\",title:t},h(\"span\",{\"aria-hidden\":\"true\",class:X})),h(\"li\",{bind:this,class:J,onclick:this._toggleSettingsVisibility,onkeydown:this._toggleSettingsVisibility,role:\"button\",tabindex:\"0\",title:e.settingsTitle},h(\"span\",{\"aria-hidden\":\"true\",class:ne})))}_renderSettings(){const e=this.id,t=`${e}__${A}`,i=`${e}__${A}__header`,o=`${e}__${G}`,s=this.formats.filter((e=>e.hasDisplayProperties)),n=this._findSettingsFormat(),r=s.indexOf(n),a=this._renderOptions(s,!0,r),l=n.get(\"currentPattern\"),{messages:d,messagesCommon:c}=this;return h(\"div\",{\"aria-labelledby\":i,class:R,key:\"esri-coordinate-conversion__settings\"},h(\"div\",{class:B},h(\"div\",{bind:this,class:this.classes(J,j),onclick:this._toggleSettingsVisibility,onkeydown:this._toggleSettingsVisibility,role:\"button\",tabindex:\"0\",title:c.back},this._renderBackIcon()),h(\"h4\",{class:W,id:i},d.settingsTitle)),h(\"div\",{class:U},h(\"label\",{for:t},d.changeCoordinateDisplay),h(\"select\",{\"aria-label\":d.selectFormat,class:te,bind:this,onchange:this._setSettingsFormat,title:d.selectFormat},a),h(\"div\",{class:q},h(\"input\",{\"aria-controls\":o,bind:this,class:this.classes(A,H),id:t,oninput:this._updateCurrentPattern,spellcheck:!1,title:d.changeCoordinateDisplay,type:\"text\",value:l}),h(\"div\",{\"aria-controls\":t,bind:this,class:J,onclick:this._setDefaultPattern,onkeydown:this._setDefaultPattern,role:\"button\",tabindex:\"0\",title:d.defaultPattern},h(\"span\",{\"aria-hidden\":\"true\",class:oe})))),h(\"div\",{class:U},h(\"label\",null,c.preview,h(\"div\",{class:G,id:o,tabindex:\"0\"},this._previewConversion.displayCoordinate))))}_renderBackIcon(){return h(\"span\",{\"aria-hidden\":\"true\",class:l()?Q:K})}_renderTools(e,t,i){const o=t.displayCoordinate&&\"capture\"===this.mode?this._renderCopyButton(t):null,{messages:s}=this;return h(\"ul\",{class:T,role:\"listitem\"},o,h(\"li\",{\"aria-controls\":i,\"aria-label\":s.removeConversion,bind:this,class:this.classes(J,S),\"data-index\":e,key:`${i}__${J}`,onclick:this._removeConversion,onkeydown:this._removeConversion,tabindex:\"0\",role:\"button\",title:s.removeConversion},h(\"span\",{\"aria-hidden\":\"true\",class:se})))}_copyCoordinateOutput(e){const t=e.target;if(!(\"createTextRange\"in document.body)){const e=window.getSelection(),i=document.createRange();i.selectNodeContents(t),e.removeAllRanges(),e.addRange(i)}document.execCommand(\"copy\")}_removeConversion(e){const t=e.currentTarget[\"data-index\"];this.conversions.removeAt(t)}_setDefaultPattern(e){e.stopPropagation();const t=this._findSettingsFormat();t&&(t.currentPattern=t.get(\"defaultPattern\"))}_toggleExpand(){this._expanded=!this._expanded}_toggleInputVisibility(){this._inputVisible=!this._inputVisible,this._popupVisible&&this._hidePopup(),this._inputVisible?this.viewModel.pause():this.viewModel.resume()}_toggleMode(){this.mode=\"live\"===this.mode?\"capture\":\"live\"}_toggleSettingsVisibility(){this._settingsVisible=!this._settingsVisible,this._popupVisible&&this._hidePopup(),this._settingsVisible?(this._setPreviewConversion(),this.viewModel.pause()):this.viewModel.resume()}};e([s(\"viewModel.conversions\")],ae.prototype,\"conversions\",void 0),e([s(\"viewModel.currentLocation\"),p()],ae.prototype,\"currentLocation\",void 0),e([s(\"viewModel.formats\"),p()],ae.prototype,\"formats\",void 0),e([s(\"viewModel.goToOverride\")],ae.prototype,\"goToOverride\",void 0),e([o({aliasOf:{source:\"messages.widgetLabel\",overridable:!0}})],ae.prototype,\"label\",void 0),e([o(),p(),c(\"esri/widgets/CoordinateConversion/t9n/CoordinateConversion\")],ae.prototype,\"messages\",void 0),e([o(),p(),c(\"esri/t9n/common\")],ae.prototype,\"messagesCommon\",void 0),e([s(\"viewModel.mode\"),p()],ae.prototype,\"mode\",void 0),e([o(),p()],ae.prototype,\"orientation\",void 0),e([s(\"viewModel.requestDelay\")],ae.prototype,\"requestDelay\",void 0),e([o(),p()],ae.prototype,\"multipleConversions\",null),e([s(\"viewModel.locationSymbol\")],ae.prototype,\"locationSymbol\",void 0),e([s(\"viewModel.view\"),p()],ae.prototype,\"view\",void 0),e([o({type:v}),p([\"viewModel.state\",\"viewModel.waitingForConversions\"])],ae.prototype,\"viewModel\",void 0),e([d()],ae.prototype,\"_copyCoordinateOutput\",null),e([d()],ae.prototype,\"_removeConversion\",null),e([d()],ae.prototype,\"_setDefaultPattern\",null),e([d()],ae.prototype,\"_toggleExpand\",null),e([d()],ae.prototype,\"_toggleInputVisibility\",null),e([d()],ae.prototype,\"_toggleMode\",null),e([d()],ae.prototype,\"_toggleSettingsVisibility\",null),ae=e([n(\"esri.widgets.CoordinateConversion\")],ae);var le=ae;export default le;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as t}from\"../../core/accessorSupport/decorators/property.js\";import{subclass as r}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import o from\"../../core/Accessor.js\";import{measurementAreaUnits as i,measurementLengthUnits as s}from\"../../core/unitUtils.js\";import{defaultUnitPropertyMetadata as a}from\"../support/commonProperties.js\";let n=class extends o{constructor(e){super(e),this.activeTool=null,this.activeViewModel=null,this.view=null}get areaUnit(){return this.defaultUnit}set areaUnit(e){void 0!==e?this._override(\"areaUnit\",e):this._clearOverride(\"areaUnit\")}get linearUnit(){return this.defaultUnit}set linearUnit(e){void 0!==e?this._override(\"linearUnit\",e):this._clearOverride(\"linearUnit\")}get state(){const{activeViewModel:e}=this;return e?e.state:\"disabled\"}};e([t({type:[\"area\",\"distance\",\"direct-line\"]})],n.prototype,\"activeTool\",void 0),e([t()],n.prototype,\"activeViewModel\",void 0),e([t({type:i,dependsOn:[\"defaultUnit\"]})],n.prototype,\"areaUnit\",null),e([t(a)],n.prototype,\"defaultUnit\",void 0),e([t({type:s,dependsOn:[\"defaultUnit\"]})],n.prototype,\"linearUnit\",null),e([t({dependsOn:[\"activeViewModel\",\"activeViewModel.state\"],readOnly:!0})],n.prototype,\"state\",null),e([t()],n.prototype,\"view\",void 0),n=e([r(\"esri.widgets.Measurement.MeasurementViewModel\")],n);var p=n;export default p;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import\"../core/has.js\";import\"../core/Logger.js\";import\"../core/accessorSupport/ensureType.js\";import{property as t}from\"../core/accessorSupport/decorators/property.js\";import{aliasOf as i}from\"../core/accessorSupport/decorators/aliasOf.js\";import{subclass as s}from\"../core/accessorSupport/decorators/subclass.js\";import\"../core/urlUtils.js\";import\"../core/uuid.js\";import\"../portal/support/resourceExtension.js\";import{ignoreAbortErrors as r}from\"../core/promiseUtils.js\";import\"./support/widgetUtils.js\";import{messageBundle as o}from\"./support/decorators/messageBundle.js\";import{renderable as a}from\"./support/decorators/renderable.js\";import{j as n}from\"../chunks/index.js\";import l from\"./Widget.js\";import d from\"./Measurement/MeasurementViewModel.js\";const c=\"esri-measurement\",u=\"esri-icon-measure\";let p=class extends l{constructor(e,t){super(e,t),this._widgets=new Map,this.activeTool=null,this.activeWidget=null,this.areaUnit=null,this.iconClass=u,this.label=void 0,this.linearUnit=null,this.messages=null,this.view=null,this.viewModel=new d}initialize(){this.activeWidget&&this.viewModel.set(\"activeViewModel\",this.activeWidget.viewModel),this.view&&this.activeTool&&this._getActiveWidget().then((e=>{this._set(\"activeWidget\",e)})),this.own([this.watch([\"view\",\"activeTool\"],(()=>{this._getActiveWidget().then((e=>{this._set(\"activeWidget\",e)}))})),this.watch(\"activeWidget\",((e,t)=>{this.viewModel.set(\"activeViewModel\",e?e.viewModel:null),t&&(t.visible=!1)})),this.watch([\"areaUnit\",\"linearUnit\"],(()=>this._updateWidgetUnits()))])}destroy(){this._destroyWidgets()}render(){const{activeWidget:e}=this,t=e&&!e.destroyed?e.render():null;return n(\"div\",{class:c},t)}clear(){this.activeTool=null,this._destroyWidgets()}startMeasurement(){const{activeViewModel:e}=this.viewModel;e&&r(e.start())}async _createWidget(e){const{areaUnit:t,linearUnit:i,view:s}=this;switch(e){case\"area\":{const{type:e}=s;switch(e){case\"2d\":return new(0,(await import(\"./AreaMeasurement2D.js\")).default)({view:s,unit:t});case\"3d\":return new(0,(await import(\"./AreaMeasurement3D.js\")).default)({view:s,unit:t});default:return null}}case\"distance\":return new(0,(await import(\"./DistanceMeasurement2D.js\")).default)({view:s,unit:i});case\"direct-line\":return new(0,(await import(\"./DirectLineMeasurement3D.js\")).default)({view:s,unit:i});default:return null}}_destroyWidgets(){this._widgets.forEach((e=>e.destroy())),this._widgets.clear()}async _getActiveWidget(){const{activeTool:e,view:t}=this;if(!t||!e)return null;let i=null;if(this._widgets.has(e))i=this._widgets.get(e),i.visible=!0;else{if(i=await this._createWidget(e),!i)return null;await i.viewModel.start(),this._widgets.set(e,i)}return i}_updateWidgetUnits(){this._widgets.forEach((e=>{const{areaUnit:t,linearUnit:i}=this;e.unit=function(e){return e&&(\"esri.widgets.AreaMeasurement2D\"===e.declaredClass||\"esri.widgets.AreaMeasurement3D\"===e.declaredClass)}(e)?t:i}))}};e([i(\"viewModel.activeTool\")],p.prototype,\"activeTool\",void 0),e([t({readOnly:!0}),a()],p.prototype,\"activeWidget\",void 0),e([i(\"viewModel.areaUnit\")],p.prototype,\"areaUnit\",void 0),e([t()],p.prototype,\"iconClass\",void 0),e([t({aliasOf:{source:\"messages.widgetLabel\",overridable:!0}})],p.prototype,\"label\",void 0),e([i(\"viewModel.linearUnit\")],p.prototype,\"linearUnit\",void 0),e([t(),a(),o(\"esri/widgets/Measurement/t9n/Measurement\")],p.prototype,\"messages\",void 0),e([i(\"viewModel.view\"),a()],p.prototype,\"view\",void 0),e([t({type:d}),a([\"viewModel.state\"])],p.prototype,\"viewModel\",void 0),p=e([s(\"esri.widgets.Measurement\")],p);var v=p;export default v;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{getDefaultUnitSystem as e}from\"../../core/unitUtils.js\";const t={dependsOn:[\"view.map.portalItem?.portal.units\",\"view.map.portalItem?.portal.user.units\",\"view.spatialReference\"],readOnly:!0,get(){const t=\"metric\",{view:r}=this;if(!r)return t;const i=r.get(\"map.portalItem.portal\");if(i){switch(i.get(\"user.units\")||i.units){case t:return t;case\"english\":return\"imperial\"}}return e(r.spatialReference)||t}};export{t as defaultUnitPropertyMetadata};\n","\"use strict\";\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst decorators_1 = require(\"@arcgis/core/core/accessorSupport/decorators\");\nconst widget_1 = require(\"@arcgis/core/widgets/support/widget\");\nconst Widget_1 = __importDefault(require(\"@arcgis/core/widgets/Widget\"));\nconst MeasureViewModel_1 = __importDefault(require(\"./Measure/MeasureViewModel\"));\nrequire(\"./Measure/styles/Measure.scss\");\nconst CSS = {\n    base: 'esri-widget esri-component measure-base',\n};\nlet Measure = class Measure extends Widget_1.default {\n    constructor(properties) {\n        super(properties);\n        this.viewModel = new MeasureViewModel_1.default();\n        this.radioItemCreated = (element) => {\n            console.log(element);\n            // const observer: MutationObserver = new MutationObserver((mutations) => {\n            // \tmutations.forEach((mutation) => {\n            // \t\t(mutation.addedNodes[0] as HTMLElement)\n            // \t\t\t?.querySelector('calcite-icon')\n            // \t\t\t?.setAttribute('style', 'margin: 0 0 5px 0;');\n            // \t\t(mutation.addedNodes[0] as HTMLElement)?.setAttribute(\n            // \t\t\t'style',\n            // \t\t\t'display: flex;flex-direction: column;font-size: 12px;',\n            // \t\t);\n            // \t});\n            // \tobserver.disconnect();\n            // });\n            // observer.observe(element.shadowRoot as Node, { childList: true });\n        };\n    }\n    render() {\n        return (widget_1.tsx(\"div\", { class: CSS.base },\n            widget_1.tsx(\"calcite-radio-group\", { width: \"full\", afterCreate: this.viewModel.measureToggleCreated },\n                widget_1.tsx(\"calcite-radio-group-item\", { title: \"distance\", value: \"distance\", id: \"distanceItem\", icon: \"measure\", afterCreate: this.radioItemCreated }, \"Distance\"),\n                widget_1.tsx(\"calcite-radio-group-item\", { title: \"coordinates\", value: \"coordinates\", id: \"coordinateItem\", icon: \"pin\", afterCreate: this.radioItemCreated }, \"Coordinates\"),\n                widget_1.tsx(\"calcite-radio-group-item\", { title: \"area\", value: \"area\", id: \"areaItem\", icon: \"measure-area\", afterCreate: this.radioItemCreated }, \"Area\"),\n                widget_1.tsx(\"calcite-radio-group-item\", { title: \"clear\", value: \"clear\", id: \"clearItem\", icon: \"trash\", afterCreate: this.radioItemCreated }, \"Clear\")),\n            widget_1.tsx(\"div\", { afterCreate: this.viewModel.measureCreated, id: \"measureWidget\" }),\n            widget_1.tsx(\"div\", { id: \"coordinateWidget\", afterCreate: this.viewModel.coordinateCreated, hidden: true })));\n    }\n};\n__decorate([\n    decorators_1.aliasOf('viewModel.view')\n], Measure.prototype, \"view\", void 0);\n__decorate([\n    decorators_1.aliasOf('viewModel.state')\n], Measure.prototype, \"state\", void 0);\n__decorate([\n    widget_1.vmEvent(['activated']),\n    decorators_1.property({\n        type: MeasureViewModel_1.default,\n    }),\n    widget_1.renderable()\n], Measure.prototype, \"viewModel\", void 0);\nMeasure = __decorate([\n    decorators_1.subclass('app.widgets.Measure')\n], Measure);\nexports.default = Measure;\n","\"use strict\";\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst decorators_1 = require(\"@arcgis/core/core/accessorSupport/decorators\");\nconst Measurement_1 = __importDefault(require(\"@arcgis/core/widgets/Measurement\"));\nconst CoordinateConversion_1 = __importDefault(require(\"@arcgis/core/widgets/CoordinateConversion\"));\nconst watchUtils_1 = require(\"@arcgis/core/core/watchUtils\");\nconst Widget_1 = __importDefault(require(\"@arcgis/core/widgets/Widget\"));\nlet MeasureViewModel = class MeasureViewModel extends Widget_1.default {\n    constructor(params) {\n        super(params);\n        this.measureCreated = () => {\n            watchUtils_1.whenDefinedOnce(this, 'view', this.init.bind(this));\n        };\n        this.coordinateCreated = () => {\n            new CoordinateConversion_1.default({ view: this.view, container: 'coordinateWidget' });\n        };\n        this.measureToggleCreated = (element) => {\n            element?.addEventListener('calciteRadioGroupItemChange', (e) => {\n                if (!e.target.hasAttribute('checked')) {\n                    if (e.target?.title === 'clear') {\n                        this.measurement.clear();\n                        this.state = 'inactive';\n                        document.querySelector('#coordinateWidget')?.setAttribute('hidden', '');\n                    }\n                    else if (e.target?.title === 'coordinates') {\n                        document.querySelector('#coordinateWidget')?.toggleAttribute('hidden');\n                        this.state = 'inactive';\n                    }\n                    else {\n                        this.measurement.activeTool = e.target?.title;\n                        document.querySelector('#coordinateWidget')?.setAttribute('hidden', '');\n                        this.state = 'active';\n                    }\n                }\n                if (this.state === 'active') {\n                    this.emit('activated', null);\n                }\n            }, { passive: true });\n        };\n        watchUtils_1.whenDefinedOnce(this, 'view', this.init.bind(this));\n    }\n    init(view) {\n        this.measurement = new Measurement_1.default({ view: view, container: 'measureWidget' });\n        this.watch('state', (state) => {\n            if (state === 'inactive') {\n                this.measurement.clear();\n            }\n        });\n    }\n};\n__decorate([\n    decorators_1.property()\n], MeasureViewModel.prototype, \"view\", void 0);\n__decorate([\n    decorators_1.property()\n], MeasureViewModel.prototype, \"state\", void 0);\nMeasureViewModel = __decorate([\n    decorators_1.subclass('app.widgets.Measure.MeasureViewModel')\n], MeasureViewModel);\nexports.default = MeasureViewModel;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".measure-base{padding:0}calcite-radio-group{display:grid;grid-auto-flow:column;grid-gap:0;grid-template-rows:43px 43px;grid-template-columns:50%;padding:0}calcite-radio-group-item{border:1px solid var(--calcite-ui-border-1)}calcite-radio-group-item:nth-child(1){border-bottom-color:var(--calcite-ui-background);border-right-color:var(--calcite-ui-background)}calcite-radio-group-item:nth-child(2){border-right-color:var(--calcite-ui-background)}calcite-radio-group-item:nth-child(3){border-bottom-color:var(--calcite-ui-background)}.esri-coordinate-conversion{max-width:100%}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/widgets/Measure/styles/Measure.scss\"],\"names\":[],\"mappings\":\"AAAA,cACE,SAAA,CAGF,oBACE,YAAA,CACA,qBAAA,CACA,UAAA,CACA,4BAAA,CACA,yBAAA,CACA,SAAA,CAGF,yBACA,2CAAA,CAGA,sCACE,gDAAA,CACA,+CAAA,CAGF,sCACE,+CAAA,CAGF,sCACE,gDAAA,CAGF,4BACE,cAAA\",\"sourcesContent\":[\".measure-base {\\n  padding: 0;\\n}\\n\\ncalcite-radio-group {\\n  display: grid;\\n  grid-auto-flow: column;\\n  grid-gap: 0;\\n  grid-template-rows: 43px 43px;\\n  grid-template-columns: 50%;\\n  padding: 0;\\n}\\n\\ncalcite-radio-group-item {\\nborder: 1px solid var(--calcite-ui-border-1);\\n}\\n\\ncalcite-radio-group-item:nth-child(1) {\\n  border-bottom-color: var(--calcite-ui-background);\\n  border-right-color: var(--calcite-ui-background);\\n}\\n\\ncalcite-radio-group-item:nth-child(2){\\n  border-right-color: var(--calcite-ui-background);\\n}\\n\\ncalcite-radio-group-item:nth-child(3){\\n  border-bottom-color: var(--calcite-ui-background);\\n}\\n\\n.esri-coordinate-conversion {\\n  max-width: 100%;\\n}\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","import api from \"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[4].use[1]!../../../../node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[4].use[2]!./Measure.scss\";\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};"],"sourceRoot":""}