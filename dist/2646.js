/*! For license information please see 2646.js.LICENSE.txt */
(self.webpackChunkimaps=self.webpackChunkimaps||[]).push([[2646],{7081:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>ve});var n=i(56140),o=i(95830),r=i(36544),a=i(79881),l=i(51894),s=i(60263),c=i(87765),d=i(87566),u=(i(10923),i(57002),i(86035),i(10180)),h=i(83477),p=i(59691),f=i(80621),g=(i(40450),i(24258)),v=i(9200),m=i(90846),y=i(52243),b=i(19401),_=i(90806),w=i(51474);function C(e){if(e)return null!=e.listMode?e.listMode:void 0}function S(e){if(e)return"hide-children"===e.listMode||"wmts"===e.type?void 0:"group"===e.type?"layers":"sublayers"}function E(e,t){e&&e.sort(((e,i)=>{const n=t.indexOf(e.uid),o=t.indexOf(i.uid);return n>o?-1:n<o?1:0}))}function I(e){const t=null==e?void 0:e.layer;return t&&"group"===t.type?t.layers:null}function A(e,t){var i;const n=null==(i=e.layer)?void 0:i.uid;return n&&t.find((e=>{var t;return(null==(t=e.layer)?void 0:t.uid)===n}))}var O,L=i(82677),T=i(35326),D=i(89350),x=i(73186),M=i(59359),k=i(77204),P=i(41452);i(68055);let N=O=class extends D.Z{constructor(e){super(e),this.displayValueEnabled=!1,this.max=1,this.min=0,this.step=.1,this.type="slider",this.value=null}clone(){return new O({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,displayValueEnabled:this.displayValueEnabled,max:this.max,min:this.min,step:this.step,value:this.value})}};(0,n._)([(0,a.Cb)()],N.prototype,"displayValueEnabled",void 0),(0,n._)([(0,a.Cb)()],N.prototype,"max",void 0),(0,n._)([(0,a.Cb)()],N.prototype,"min",void 0),(0,n._)([(0,a.Cb)()],N.prototype,"step",void 0),(0,n._)([(0,a.Cb)()],N.prototype,"value",void 0),N=O=(0,n._)([(0,d.j)("esri.support.Action.ActionSlider")],N);const j=N;var R=i(73502);const V="esri-layer-list-panel__content";let B=class extends((0,T.I)(_.default)){constructor(e,t){super(e,t),this._legend=null,this._handles=new p.Z,this.content=null,this.image=null,this.listItem=null,this.open=!1,this.visible=!0}initialize(){this.own([(0,f.init)(this,"content",(e=>this._createLegend(e)))])}destroy(){const{_legend:e}=this;e&&e.destroy(),this._legend=null}get className(){const{image:e}=this,t=this._getFirstWidget();return this._get("className")||!e&&t?t.iconClass:""}set className(e){void 0!==e?this._override("className",e):this._clearOverride("className")}get title(){const e=this._getFirstWidget();return this._get("title")||e?e.label:""}set title(e){void 0!==e?this._override("title",e):this._clearOverride("title")}render(){return(0,b.j)("div",{class:"esri-layer-list-panel"},this._renderContents())}_renderContent(e){const{_legend:t,listItem:i}=this;return e?"legend"===e?i&&i.view&&i.layer&&t?(0,b.j)("div",{class:this.classes(V,"esri-layer-list-panel__content--legend"),key:t},t.render()):null:"string"==typeof e?(0,b.j)("div",{class:this.classes(V,"esri-layer-list-panel__content--string"),key:e,innerHTML:e}):(0,R.isWidget)(e)?(0,b.j)("div",{class:this.classes(V,"esri-layer-list-panel__content--widget"),key:e},e.render()):e instanceof HTMLElement?(0,b.j)("div",{class:this.classes(V,"esri-layer-list-panel__content--html-element"),key:e,bind:e,afterCreate:this._attachToNode}):null:null}_renderContents(){const{content:e}=this;return Array.isArray(e)?e.map((e=>this._renderContent(e))):this._renderContent(e)}_getLegendOptions(e){if(!e)return;const{layer:t,view:i}=e;return t&&i?{view:i,layerInfos:[{layer:t,title:""}]}:void 0}_createLegend(e){this._hasLegend(e)&&!this._legend&&Promise.all([i.e(2551),i.e(2406),i.e(5666),i.e(2696),i.e(6426),i.e(6018),i.e(9581)]).then(i.bind(i,16018)).then((({default:e})=>{const{_handles:t,listItem:i}=this,n=new e(this._getLegendOptions(i));this._legend=n,this.notifyChange("className"),this.notifyChange("title");const o=(0,f.init)(this,["listItem.view","listItem.layer"],(()=>this._updateLegend(n)));t.add(o,"legends"),this.scheduleRender()}))}_hasLegend(e){const t="legend";return e===t||!!Array.isArray(e)&&e.some((e=>e===t))}_attachToNode(e){e.appendChild(this)}_updateLegend(e){const{listItem:t}=this;if(!t)return;const{layer:i,view:n}=t;e.view=n,e.layerInfos=[{layer:i,title:null}],this.scheduleRender()}_getWidget(e){return"legend"===e?this._legend:(0,R.isWidget)(e)?e:null}_getFirstWidget(){const{content:e}=this;if(Array.isArray(e)){let t=null;return e.some((e=>{const i=this._getWidget(e);return i&&(t=i),!!i})),t}return this._getWidget(e)}};(0,n._)([(0,a.Cb)({dependsOn:["content","image"]})],B.prototype,"className",null),(0,n._)([(0,a.Cb)(),(0,m.G)()],B.prototype,"content",void 0),(0,n._)([(0,a.Cb)()],B.prototype,"image",void 0),(0,n._)([(0,a.Cb)()],B.prototype,"listItem",void 0),(0,n._)([(0,a.Cb)({dependsOn:["content"]})],B.prototype,"title",null),(0,n._)([(0,a.Cb)(),(0,m.G)()],B.prototype,"open",void 0),(0,n._)([(0,a.Cb)()],B.prototype,"visible",void 0),B=(0,n._)([(0,d.j)("esri.widgets.LayerList.ListItemPanel")],B);const F=B;var X;const Y=h.Z.ofType({key:"type",defaultKeyValue:"button",base:D.Z,typeMap:{button:x.Z,toggle:M.Z,slider:j}}),H=h.Z.ofType(Y);let U=X=class extends((0,T.I)((0,k.p)(L.default))){constructor(e){super(e),this.actionsSections=new H,this.actionsOpen=!1,this.children=new(h.Z.ofType(X)),this.childrenSortable=!0,this.error=null,this.layer=null,this.layerView=null,this.open=!1,this.panel=null,this.parent=null,this.sortable=!0,this.view=null,this.visible=null}initialize(){this.handles.add([(0,f.init)(this,"layer",(e=>this._watchLayerProperties(e))),(0,f.init)(this,"view",(e=>this._updateChildren(e))),(0,f.init)(this,"panel",(e=>this._setListItemOnPanel(e))),(0,f.init)(this,["layer","view"],(()=>this._getLayerView()))])}destroy(){this.view=null}castPanel(e){return this.get("panel.open")&&!e.hasOwnProperty("open")&&(e.open=!0),e?new F(e):null}get title(){const e=this.get("layer.layer");return(!e||e&&this.get("layer.layer.loaded"))&&this.get("layer.title")||""}set title(e){void 0!==e?this._override("title",e):this._clearOverride("title")}get updating(){const e=this.layerView;return e?e.updating:this._isLayerUpdating(this.layer)}get visibleAtCurrentScale(){return!function(e,t){if(!e||isNaN(t))return!1;const i=function(e){if(e)return null!=e.minScale?e.minScale:void 0}(e),n=function(e){if(e)return null!=e.maxScale?e.maxScale:void 0}(e),o=!isNaN(i)&&i>0&&t>i,r=!isNaN(n)&&n>0&&t<n;return o||r}(this.layer,this.get("view.scale"))}get visibilityMode(){return function(e){if(!e)return"inherited";const t=e.get("layer.capabilities.exportMap.supportsSublayerVisibility");if("boolean"==typeof t)return t?"independent":"inherited";const i=e.get("capabilities.exportMap.supportsSublayerVisibility");return"boolean"==typeof i?i?"independent":"inherited":null!=e.visibilityMode?e.visibilityMode:"independent"}(this.layer)}clone(){return new X({actionsSections:this.actionsSections.clone(),actionsOpen:this.actionsOpen,children:this.children.clone(),layer:this.layer,open:this.open,panel:this.panel,title:this.title,view:this.view,visible:this.visible})}_setListItemOnPanel(e){e&&(e.listItem=this)}_updateChildren(e){const t=this.children;t&&t.forEach((t=>t.view=e))}_addChildren(e){if(this.handles.remove("child-list-mode"),this.children.removeAll(),!e)return;e.forEach((t=>{this.handles.add((0,f.watch)(t,"listMode",(()=>this._addChildren(e))),"child-list-mode")}));const t=[];e.filter((e=>"hide"!==C(e))).forEach((e=>{if(function(e){return"hide"!==C(e)}(e)){const i=new X({layer:e,parent:this,view:this.view});t.unshift(i)}})),this.children.addMany(t)}_watchSublayerChanges(e){e&&this.handles.add(e.on("change",(()=>{this._addChildren(e)})),"layer")}_initializeChildLayers(e){this._addChildren(e),this._watchSublayerChanges(e)}_watchLayerProperties(e){if(!this.handles)return;if(this.handles.remove("layer"),this.handles.remove("child-list-mode"),!e)return;if(this.handles.add((0,f.watch)(e,"listMode",(()=>this._watchLayerProperties(e))),"layer"),"hide-children"===C(e))return void this.children.removeAll();const t=S(e);t&&this.handles.add((0,f.init)(e,t,(()=>{e.hasOwnProperty(t)&&this._initializeChildLayers(e[t])})),"layer")}async _getLayerView(){const{layer:e,view:t}=this;if(e&&t)try{const i=await t.whenLayerView(e);if(i.layer!==this.layer)return;this._set("layerView",i)}catch{}}_isLayerUpdating(e){return!(e instanceof P.Z)&&e&&"loading"===e.loadStatus}};(0,n._)([(0,a.Cb)({type:H})],U.prototype,"actionsSections",void 0),(0,n._)([(0,a.Cb)()],U.prototype,"actionsOpen",void 0),(0,n._)([(0,a.Cb)({type:h.Z})],U.prototype,"children",void 0),(0,n._)([(0,a.Cb)()],U.prototype,"childrenSortable",void 0),(0,n._)([(0,l.B)("layer.loadError?")],U.prototype,"error",void 0),(0,n._)([(0,a.Cb)()],U.prototype,"layer",void 0),(0,n._)([(0,a.Cb)({readOnly:!0})],U.prototype,"layerView",void 0),(0,n._)([(0,a.Cb)()],U.prototype,"open",void 0),(0,n._)([(0,a.Cb)({type:F})],U.prototype,"panel",void 0),(0,n._)([(0,s.p)("panel")],U.prototype,"castPanel",null),(0,n._)([(0,a.Cb)()],U.prototype,"parent",void 0),(0,n._)([(0,a.Cb)()],U.prototype,"sortable",void 0),(0,n._)([(0,a.Cb)({dependsOn:["layer.layer?.loaded","layer.title"]})],U.prototype,"title",null),(0,n._)([(0,a.Cb)({dependsOn:["layer.loadStatus?","layerView.updating"],readOnly:!0})],U.prototype,"updating",null),(0,n._)([(0,a.Cb)({value:null})],U.prototype,"view",void 0),(0,n._)([(0,l.B)("layer.visible")],U.prototype,"visible",void 0),(0,n._)([(0,a.Cb)({dependsOn:["layer.minScale?","layer.maxScale?","view.scale"],readOnly:!0})],U.prototype,"visibleAtCurrentScale",null),(0,n._)([(0,a.Cb)({dependsOn:["layer.visibilityMode?","layer.capabilities?.exportMap?.supportsSublayerVisibility","layer.layer?.capabilities?.exportMap?.supportsSublayerVisibility"],readOnly:!0})],U.prototype,"visibilityMode",null),U=X=(0,n._)([(0,d.j)("esri.widgets.LayerList.ListItem")],U);const W=U;var Z=i(35470);const $="view-layers",z="map-layers",G="layer-views",q="layer-list-mode",K=h.Z.ofType(W);let Q=class extends Z.Z.EventedAccessor{constructor(e){super(e),this._handles=new p.Z,this.listItemCreatedFunction=null,this.operationalItems=new K,this.view=null}initialize(){this._handles.add((0,f.init)(this,["view","view.ready"],(()=>this._viewHandles())),"view")}destroy(){this._handles.destroy(),this._handles=null,this.view=null,this.operationalItems.removeAll()}get state(){const e=this.get("view");return this.get("view.ready")?"ready":e?"loading":"disabled"}triggerAction(e,t){e&&!e.disabled&&this.emit("trigger-action",{action:e,item:t})}moveListItem(e,t,i,n){var o,r;const a=null==e?void 0:e.layer;if(!a)return;const l=null==(o=this.view)||null==(r=o.map)?void 0:r.layers,s=t?I(t):l,c=i?I(i):l;if(!s||!c)return;const{operationalItems:d}=this,u=(null==t?void 0:t.children)||d,h=(null==i?void 0:i.children)||d,p=c.length-n;e.parent=i||null,u.includes(e)&&u.remove(e),s.includes(a)&&s.remove(a),h.includes(e)||h.add(e,p),c.includes(a)||c.add(a,p)}_createLayerViewHandles(e){const{_handles:t}=this;t.remove(G),this._compileList(),e&&t.add(e.on("change",(()=>this._compileList())),G)}_createMapLayerHandles(e){const{_handles:t}=this;t.remove(z),this._compileList(),e&&t.add(e.on("change",(()=>this._compileList())),z)}_watchItemProperties(e){this._handles.add([e.children.on("change",(()=>{this._modifyListItemChildren(e.children)}))],`children-change-${e.uid}`)}_modifyListItemChildren(e){e.forEach((e=>this._modifyListItem(e)))}_modifyListItem(e){if("function"==typeof this.listItemCreatedFunction){const t={item:e};this.listItemCreatedFunction.call(null,t)}this._modifyListItemChildren(e.children)}_createListItem(e){const{view:t}=this,i=new W({layer:e,view:t});return this._watchItemProperties(i),i}_removeAllItems(){const{_handles:e,operationalItems:t}=this;t.forEach((t=>{e.remove(`children-change-${t.uid}`)})),t.removeAll()}_getViewableLayers(e){if(e)return e.filter((e=>"hide"!==C(e)))}_watchLayersListMode(e){const{_handles:t}=this;t.remove(q),e&&e.forEach((e=>{t.add((0,f.watch)(e,"listMode",(()=>this._compileList())),q)}))}_compileList(){const e=this.get("view.map.layers");this._watchLayersListMode(e);const t=this._getViewableLayers(e);t&&t.length?(this._createNewItems(t),this._modifyOrRemoveItems(t),this._sortItems(t)):this._removeAllItems()}_createNewItems(e){const{operationalItems:t}=this;e.forEach((e=>{t.find((t=>t.layer===e))||t.add(this._createListItem(e))}))}_modifyOrRemoveItems(e){const{_handles:t,operationalItems:i}=this,n=[];i.forEach((i=>{i&&e&&e.find((e=>i.layer===e))?this._modifyListItem(i):(t.remove(`children-change-${i.uid}`),n.push(i))})),i.removeMany(n)}_sortItems(e){const{operationalItems:t}=this;t.sort(((t,i)=>{const n=e.indexOf(t.layer),o=e.indexOf(i.layer);return n>o?-1:n<o?1:0}))}_viewHandles(){const{_handles:e,view:t}=this;e.remove([z,G,$]),this._compileList(),t&&t.ready&&e.add([(0,f.init)(this,"view.map.layers",(e=>this._createMapLayerHandles(e))),(0,f.init)(this,"view.layerViews",(e=>this._createLayerViewHandles(e))),(0,f.init)(this,"listItemCreatedFunction",(()=>this._compileList()))],$)}};(0,n._)([(0,a.Cb)()],Q.prototype,"listItemCreatedFunction",void 0),(0,n._)([(0,a.Cb)({type:K})],Q.prototype,"operationalItems",void 0),(0,n._)([(0,a.Cb)({dependsOn:["view.ready"],readOnly:!0})],Q.prototype,"state",null),(0,n._)([(0,a.Cb)()],Q.prototype,"view",void 0),Q=(0,n._)([(0,d.j)("esri.widgets.LayerList.LayerListViewModel")],Q);const J=Q;function ee(e,t,i){e.splice(i,0,e.splice(t,1)[0])}const te=h.Z.ofType(W),ie="esri-layer-list__list",ne="esri-layer-list__list--independent",oe="esri-layer-list__item",re="esri-layer-list__item-actions-menu-item",ae="esri-layer-list__item-actions-menu-item--active",le="esri-layer-list__item-action-image",se="esri-layer-list__item-label",ce="esri-layer-list__item-toggle",de="esri-icon-default-action",ue={exclusive:"exclusive",inherited:"inherited",independent:"independent"};function he(e){const{actionsOpen:t,children:i}=e;t&&(e.actionsOpen=!1),i.forEach((e=>he(e)))}const pe=r.Z.getLogger("esri.widgets.LayerList"),fe={statusIndicators:!0};let ge=class extends _.default{constructor(e,t){super(e,t),this._handles=new p.Z,this._sortableNodes=new Map,this._sortableMap=new Map,this._focusSortUid=null,this._newUI=(0,o.Z)("esri-layerlist-new-ui"),this.visibleItems=null,this.iconClass="esri-icon-layers",this.label=void 0,this.listItemCreatedFunction=null,this.messages=null,this.messagesCommon=null,this.multipleSelectionEnabled=!1,this.operationalItems=null,this.selectionEnabled=!1,this.selectedItems=new te,this.view=null,this.viewModel=new J,this.visibleElements={...fe},this._onSortableSort=({to:e,from:t,item:i,newIndex:n})=>{t&&e&&(t===e?this._sortLayers(this._sortableMap.get(t.dataset.group)):this._moveLayerFromChildList({to:e,from:t,item:i,newIndex:n}))},this._sortableCanPut=(e,t,i)=>{var n,o;const r=e.el.dataset.group,a=t.el.dataset.group,l=e.el["data-item"],s=i["data-item"],c=null==s||null==(n=s.layer)?void 0:n.type,d=null==l||null==(o=l.layer)?void 0:o.type;return r&&a&&c&&!("group"===d&&"group"===c)},this._sortableCanPull=(e,t,i)=>{var n;const o=e.el.dataset.group,r=t.el.dataset.group,a=i["data-item"],l=null==a||null==(n=a.layer)?void 0:n.type;return o&&r&&!!l},this._onSortableEnd=({oldIndex:e,from:t,to:i,item:n})=>{t!==i&&t.insertBefore(n,t.children[e])}}initialize(){const e=this.operationalItems;this._setVisibleItems(e),this.own((0,f.on)(this,"operationalItems","change",(()=>this._itemsChanged(e))),(0,f.init)(this,"selectionEnabled",(()=>this._toggleAllSorting())))}destroy(){this._destroySortables(),this._handles.destroy(),this._handles=null}set statusIndicatorsVisible(e){(0,c.Mr)(pe,"statusIndicatorsVisible",{replacement:"visibleElements.statusIndicators",version:"4.15"}),this.visibleElements={...this.visibleElements,statusIndicators:e}}castVisibleElements(e){return{...fe,...e}}triggerAction(e,t){this.viewModel.triggerAction(e,t)}render(){var e;const{visibleItems:t,_newUI:i}=this,n=null==(e=this.viewModel)?void 0:e.state,o={"esri-layer-list--new-ui":i,"esri-hidden":"loading"===n,"esri-disabled":"disabled"===n};return(0,b.j)("div",{class:this.classes("esri-layer-list esri-widget esri-widget--panel",o)},null!=t&&t.length?this.renderItems():this.renderNoItems())}renderNoItems(){return(0,b.j)("div",{class:"esri-layer-list__no-items"},this.messages.noItemsToDisplay)}renderItems(){const{visibleItems:e,selectionEnabled:t,messages:i}=this;return(0,b.j)("ul",{"aria-label":i.widgetLabel,role:t?"listbox":void 0,afterCreate:this._sortNodeCreated,afterUpdate:this._sortNodeCreated,afterRemoved:this._sortNodeRemoved,"data-group":"root",bind:this,class:this.classes(ie,"esri-layer-list__list--root",ne)},null==e?void 0:e.map((e=>this.renderItem(e,null))).toArray())}renderActionsMenuIcon(e,t){const{messages:i}=this,n={[ae]:e.actionsOpen},o=e.actionsOpen?i.closeActions:i.openActions;return(0,b.j)("div",{key:"actions-menu-toggle","data-item":e,bind:this,onclick:this._toggleActionsOpen,onkeydown:this._toggleActionsOpen,class:this.classes(re,n),tabindex:"0",role:"button","aria-controls":t,"aria-label":o,title:o},(0,b.j)("span",{"aria-hidden":"true",class:"esri-icon-handle-horizontal"}))}renderActionsMenu(e,t,i,n){const{panel:o}=e,r=o&&o.visible?this.renderPanelButton(o):null,a=1===i&&this._getSingleActionButton(t),l=a?this.renderAction({item:e,action:a,singleAction:!0}):null,s=!a&&i?this.renderActionsMenuIcon(e,n):null;return s||r||a?(0,b.j)("div",{key:"actions-menu",class:"esri-layer-list__item-actions-menu"},r,l,s):null}renderChildList(e,t){var i;const{selectionEnabled:n}=this,{visibilityMode:o,children:r}=e,a=!!e.error,l=!!r.length&&!a,s=!l&&n&&"group"===(null==(i=e.layer)?void 0:i.type),{exclusive:c,inherited:d}=ue,u={"esri-layer-list__list--exclusive":o===c,"esri-layer-list__list--inherited":o===d,[ne]:o!==d&&o!==c};return l||s?(0,b.j)("ul",{bind:this,key:"list-items",id:t,"data-group":e.uid,"data-item":e,afterCreate:this._sortNodeCreated,afterUpdate:this._sortNodeCreated,afterRemoved:this._sortNodeRemoved,class:this.classes(ie,u),"aria-expanded":e.open?"true":"false",role:n?"listbox":o===c?"radiogroup":"group",hidden:!e.open&&!s||null},null==r?void 0:r.map((t=>this.renderItem(t,e))).toArray()):null}renderChildrenToggle(e,t){const{messagesCommon:i}=this,{children:n}=e,o=!!e.error,r=!!n.length&&!o,a={"esri-layer-list__child-toggle--open":e.open},l=e.open?i.collapse:i.expand;return r?(0,b.j)("span",{onclick:this._toggleChildrenClick,onkeydown:this._toggleChildrenClick,"data-item":e,key:"toggle-children",class:this.classes("esri-layer-list__child-toggle",a),tabindex:"0",role:"button","aria-controls":t,"aria-label":l,title:l},(0,b.j)("span",{"aria-hidden":"true",class:this.classes("esri-layer-list__child-toggle-icon--closed","esri-icon-right-triangle-arrow")}),(0,b.j)("span",{"aria-hidden":"true",class:this.classes("esri-layer-list__child-toggle-icon--opened","esri-icon-down-arrow")}),(0,b.j)("span",{"aria-hidden":"true",class:this.classes("esri-layer-list__child-toggle-icon--closed-rtl","esri-icon-left-triangle-arrow")})):null}renderError(e){return e.error?(0,b.j)("div",{key:"esri-layer-list__error",class:"esri-layer-list__item-error-message",role:"alert"},(0,b.j)("span",null,this.messages.layerError)):null}renderItemContent(e,t,i){const{id:n}=this,o=`${n}_${e.uid}`,r=`${o}_actions`,a=`${o}__list`,{panel:l}=e,s=this._filterActions(e.actionsSections),c=this._countActions(s);return[(0,b.j)("div",{key:"list-item-container",class:"esri-layer-list__item-container"},this.renderChildrenToggle(e,a),this.renderLabel(e,t,i),this.renderActionsMenu(e,s,c,r)),this.renderError(e),c?this.renderActionsSections(e,s,r):null,l&&l.open?l.render():null,this.renderChildList(e,a)]}renderItem(e,t){const{_newUI:i,id:n,selectionEnabled:o,selectedItems:r,visibleElements:a}=this,{children:l}=e,s=`${n}_${e.uid}__title`,c=!!e.error,d={"esri-layer-list__item--has-children":!!l.length&&!c,"esri-layer-list__item--error":!!c,"esri-layer-list__item--updating":e.updating&&!t&&a.statusIndicators,"esri-layer-list__item--invisible":i&&!e.visible,"esri-layer-list__item--invisible-at-scale":!e.visibleAtCurrentScale,"esri-layer-list__item--selectable":o};if(o){var u;const i={"data-layer-uid":null==(u=e.layer)?void 0:u.uid,"data-sort-filter":(!e.sortable).toString()};return(0,b.j)("li",Object.assign({key:`item-with-selection-${e.uid}`,bind:this,afterCreate:this._focusListItem,afterUpdate:this._focusListItem,class:this.classes(oe,d),"aria-labelledby":s,onclick:this._toggleSelection,onkeydown:this._selectionKeydown,"data-item":e,"data-group":t?t.uid:"root",tabIndex:0,"aria-selected":A(e,r)?"true":"false",role:"option"},i),this.renderItemContent(e,t,s))}return(0,b.j)("li",{key:`item-no-selection-${e.uid}`,bind:this,afterCreate:this._focusListItem,afterUpdate:this._focusListItem,class:this.classes(oe,d),"aria-labelledby":s},this.renderItemContent(e,t,s))}renderItemTitle(e,t){const{messages:i}=this,n=e.title||i.untitledLayer,o=e.visibleAtCurrentScale?n:`${n} (${i.layerInvisibleAtScale})`;return(0,b.j)("span",{key:"layer-title-container",id:t,title:o,"aria-label":o,class:"esri-layer-list__item-title"},n)}renderItemToggleIcon(e,t){const{_newUI:i}=this,{exclusive:n}=ue,o=t&&t.visibilityMode,r={"esri-layer-list__item-toggle-icon":i,"esri-layer-list__item-toggle-icon":i&&o!==n,"esri-layer-list__item-radio-icon":i&&o===n,"esri-icon-radio-checked":o===n&&e.visible,"esri-icon-radio-unchecked":o===n&&!e.visible,"esri-icon-visible":o!==n&&e.visible,"esri-icon-non-visible":o!==n&&!e.visible};return(0,b.j)("span",{key:"item-toggle-icon",class:this.classes(r),"aria-hidden":"true"})}renderItemToggle(e,t,i){const{selectionEnabled:n}=this,{exclusive:o}=ue,r=t&&t.visibilityMode,a=r===o?"radio":"switch";return(0,b.j)("span",n?{key:"item-toggle-selection-enabled",class:ce,bind:this,onclick:this._toggleVisibility,onkeydown:this._toggleVisibility,"data-item":e,"data-parent-visibility":r,tabIndex:0,"aria-checked":e.visible?"true":"false",role:a,"aria-labelledby":i}:{key:"item-toggle",class:ce},this.renderItemToggleIcon(e,t))}renderItemError(e){return e.error?(0,b.j)("span",{key:"notice-triangle","aria-hidden":"true",class:"esri-icon-notice-triangle"}):null}renderLabel(e,t,i){const{selectionEnabled:n,_newUI:o}=this,{inherited:r,exclusive:a}=ue,l=null==t?void 0:t.visibilityMode,s=l===a?"radio":"switch",c=[this.renderItemToggle(e,t,i),this.renderItemTitle(e,i)];o&&c.reverse();const d=(0,b.j)("div",n?{key:`item-label-no-selection-${e.uid}`,class:se}:{key:`item-label-with-selection-${e.uid}`,class:se,bind:this,onclick:this._toggleVisibility,onkeydown:this._toggleVisibility,"data-item":e,"data-parent-visibility":l,tabIndex:0,"aria-checked":e.visible?"true":"false",role:s,"aria-labelledby":i},c);return l===r||e.error?(0,b.j)("div",{key:`item-label-container-${e.uid}`,class:se},this.renderItemError(e),this.renderItemTitle(e,i)):d}renderPanelButton(e){const{className:t,open:i,title:n,image:o}=e,r=o||t?t:de,a=this._getIconImageStyles(e),l={[ae]:i},s={[le]:!!a["background-image"]};return r&&(s[r]=!!r),(0,b.j)("div",{key:`panel-${e.uid}`,bind:this,"data-panel":e,onclick:this._triggerPanel,onkeydown:this._triggerPanel,class:this.classes(re,l),role:"button",tabindex:"0",title:n,"aria-label":n},(0,b.j)("span",{class:this.classes(s),styles:a}))}renderActionsSections(e,t,i){const n=t.toArray().map(((t,i)=>(0,b.j)("ul",{key:`${e}-action-section-${i}`,class:"esri-layer-list__item-actions-list"},this.renderActionSection(e,t))));return(0,b.j)("div",{role:"group","aria-expanded":e.actionsOpen?"true":"false",key:"actions-section",id:i,class:"esri-layer-list__item-actions",hidden:!e.actionsOpen||null},n)}renderActionSection(e,t){return(t&&t.toArray()).map((t=>this.renderAction({item:e,action:t})))}renderActionIcon(e){const{active:t,className:i}=e,n=this._getIconImageStyles(e),o="button"!==e.type||e.image||i?i:de,r={[le]:!t&&!!n["background-image"],"esri-icon-loading-indicator":t,"esri-rotating":t};return o&&!t&&(r[o]=!0),(0,b.j)("span",{key:"action-icon","aria-hidden":"true",class:this.classes("esri-layer-list__item-action-icon",r),styles:n})}renderActionTitle(e,t){return t?null:(0,b.j)("span",{key:"action-title",class:"esri-layer-list__item-action-title"},e)}renderAction(e){const{item:t,action:i,singleAction:n}=e,{active:o,disabled:r,title:a}=i,l={[re]:n&&"button"===i.type,"esri-layer-list__item-action":o||!n&&"toggle"!==i.type,"esri-layer-list__action-toggle":!o&&"toggle"===i.type,"esri-layer-list__action-toggle--on":!o&&"toggle"===i.type&&i.value,"esri-disabled-element":r},s=[this.renderActionIcon(i),this.renderActionTitle(a,n)];return n?(0,b.j)("div",{bind:this,"data-item":t,"data-action":i,role:"button",key:`single-action-${i.uid}`,onclick:this._triggerAction,onkeydown:this._triggerAction,classes:l,tabindex:"0",title:a,"aria-label":a},s):(0,b.j)("li",{bind:this,"data-item":t,"data-action":i,key:`action-${i.uid}`,onclick:this._triggerAction,onkeydown:this._triggerAction,classes:l,tabindex:"0",role:"button",title:a,"aria-label":a},s)}_sortNodeRemoved(e){const{_sortableMap:t}=this,i=e.dataset.group,n=t.get(i);n&&n.destroy(),t.delete(i)}_destroySortables(){const{_sortableMap:e,_sortableNodes:t}=this;e.forEach((e=>e&&e.destroy())),e.clear(),t.clear()}_moveLayerFromChildList({to:e,from:t,item:i,newIndex:n}){const o=i["data-item"],r=e["data-item"],a=t["data-item"];this.viewModel.moveListItem(o,a,r,n)}_sortLayers(e){if(!e)return;const t=e.el["data-item"],i=e.toArray();var n,o;t?function(e,t){const i=null==e?void 0:e.layer;if(!i)return;const n=S(i);n&&E(i.get(n),t)}(t,i):E(null==(n=this.view)||null==(o=n.map)?void 0:o.layers,i)}_toggleSorting(e,t){const{_sortableMap:i,selectionEnabled:n}=this,o=i.get(t),r=e["data-item"],a=("root"===t||r.childrenSortable&&function(e){const t=e&&(e.get("layer.layer")||e.layer);if(!t)return!1;const i=t.get("capabilities.exportMap.supportsSublayersChanges");return"boolean"!=typeof i||i}(r))&&n;if(o)o.option("disabled",!a);else if(a){const n=w.ZP.create(e,{dataIdAttr:"data-layer-uid",group:{name:t,pull:this._sortableCanPull,put:this._sortableCanPut},filter:'[data-sort-filter="true"]',fallbackTolerance:4,onSort:this._onSortableSort,onEnd:this._onSortableEnd,disabled:!a,chosenClass:"esri-layer-list--chosen"});i.set(t,n)}}_toggleAllSorting(){this._sortableNodes.forEach(((e,t)=>this._toggleSorting(e,t)))}_sortNodeCreated(e){const t=e.dataset.group;t&&(this._sortableNodes.set(t,e),this._toggleSorting(e,t))}_setVisibleItems(e){this.visibleItems=null==e?void 0:e.filter((e=>this.errorsVisible||!e.error))}_getSingleActionButton(e){return e.reduce((e=>e)).filter((e=>e&&"button"===e.type)).getItemAt(0)}_focusListItem(e){var t;const{_focusSortUid:i}=this;e&&i&&(null==(t=e["data-item"].layer)?void 0:t.uid)===i&&(e.focus(),this._focusSortUid=null)}_watchActionSectionChanges(e,t){const i="action-section"+t;this._handles.add(e.on("change",this.scheduleRender.bind(this)),i),e.forEach((e=>this._renderOnActionChanges(e,t)))}_renderOnActionChanges(e,t){const i="actions"+t;"toggle"!==e.type?"slider"!==e.type?this._handles.add([(0,f.init)(e,["className","image","id","title","visible"],(()=>this.scheduleRender()))],i):this._handles.add([(0,f.init)(e,["className","id","title","visible","value","displayValueEnabled","max","min","step"],(()=>this.scheduleRender()))],i):this._handles.add([(0,f.init)(e,["className","image","id","title","visible","value"],(()=>this.scheduleRender()))],i)}_renderOnItemChanges(e){const t=e.uid,i="items"+t;this._handles.add([(0,f.init)(e,["actionsOpen","visible","open","updating","title","visibleAtCurrentScale","error","visibilityMode","panel","panel.title","panel.content","panel.className","sortable","childrenSortable"],(()=>this.scheduleRender())),e.actionsSections.on("change",(()=>this.scheduleRender())),e.children.on("change",(()=>this.scheduleRender()))],i),e.children.forEach((e=>this._renderOnItemChanges(e))),e.actionsSections.forEach((e=>this._watchActionSectionChanges(e,t)))}_itemsChanged(e){this._handles.removeAll(),e.forEach((e=>this._renderOnItemChanges(e))),this._setVisibleItems(e),this.scheduleRender()}_filterActions(e){return e.map((e=>e.filter((e=>e.visible))))}_countActions(e){return e.reduce(((e,t)=>e+t.length),0)}_getIconImageStyles(e){const t="esri.widgets.LayerList.ListItemPanel"===e.declaredClass||"esri.support.Action.ActionButton"===e.declaredClass||"esri.support.Action.ActionToggle"===e.declaredClass?e.image:null;return{"background-image":t?`url("${t}")`:null}}_selectionKeydown(e){const t=(0,u.kK)(e);if(-1===["ArrowDown","ArrowUp"].indexOf(t))return void this._toggleSelection(e);e.stopPropagation();const i=e.currentTarget,n=i["data-item"],{_sortableMap:o,selectedItems:r}=this,a=i.dataset.group,l=o.get(a);if(!l)return;const s=A(n,r),c=l.toArray(),d=e.target,h=c.indexOf(d.dataset.layerUid);if(-1!==h){if("ArrowDown"===t){const e=h+1;if(e>=c.length)return;var p,f;s?(ee(c,h,e),l.sort(c),this._sortLayers(l),this._focusSortUid=null==(p=n.layer)?void 0:p.uid):(this._focusSortUid=null==(f=n.layer)?void 0:f.uid,this.scheduleRender())}if("ArrowUp"===t){const e=h-1;if(e<=-1)return;var g,v;s?(ee(c,h,e),l.sort(c),this._sortLayers(l),this._focusSortUid=null==(g=n.layer)?void 0:g.uid):(this._focusSortUid=null==(v=n.layer)?void 0:v.uid,this.scheduleRender())}}}_toggleActionsOpen(e){const t=e.currentTarget["data-item"],{actionsOpen:i}=t,n=!i;n&&this.operationalItems.forEach((e=>he(e))),t.actionsOpen=n,e.stopPropagation()}_triggerPanel(e){const t=e.currentTarget["data-panel"];t&&(t.open=!t.open),e.stopPropagation()}_triggerAction(e){const t=e.currentTarget,i=t["data-action"],n=t["data-item"];"toggle"===i.type&&(i.value=!i.value),this.triggerAction(i,n),e.stopPropagation()}_toggleVisibility(e){const t=e.currentTarget,i=t.getAttribute("data-parent-visibility"),n=t["data-item"];i===ue.exclusive&&n.visible||(n.visible=!n.visible),e.stopPropagation()}_toggleChildrenClick(e){const t=e.currentTarget["data-item"];t.open=!t.open,e.stopPropagation()}_toggleSelection(e){e.stopPropagation();const{multipleSelectionEnabled:t,selectedItems:i}=this,n=t&&(e.metaKey||e.ctrlKey),o=e.currentTarget["data-item"],r=A(o,i),{length:a}=i;if(!n)return!a||r&&1===a?void(r?i.remove(r):i.add(o)):(i.removeAll(),void i.add(o));r?i.remove(r):i.add(o)}};(0,n._)([(0,a.Cb)()],ge.prototype,"visibleItems",void 0),(0,n._)([(0,a.Cb)()],ge.prototype,"iconClass",void 0),(0,n._)([(0,a.Cb)(),(0,m.G)()],ge.prototype,"errorsVisible",void 0),(0,n._)([(0,a.Cb)({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],ge.prototype,"label",void 0),(0,n._)([(0,l.B)("viewModel.listItemCreatedFunction"),(0,m.G)()],ge.prototype,"listItemCreatedFunction",void 0),(0,n._)([(0,a.Cb)(),(0,m.G)(),(0,v.H)("esri/widgets/LayerList/t9n/LayerList")],ge.prototype,"messages",void 0),(0,n._)([(0,a.Cb)(),(0,m.G)(),(0,v.H)("esri/t9n/common")],ge.prototype,"messagesCommon",void 0),(0,n._)([(0,a.Cb)()],ge.prototype,"multipleSelectionEnabled",void 0),(0,n._)([(0,l.B)("viewModel.operationalItems"),(0,m.G)()],ge.prototype,"operationalItems",void 0),(0,n._)([(0,a.Cb)(),(0,m.G)()],ge.prototype,"selectionEnabled",void 0),(0,n._)([(0,a.Cb)(),(0,m.G)()],ge.prototype,"selectedItems",void 0),(0,n._)([(0,a.Cb)(),(0,m.G)()],ge.prototype,"statusIndicatorsVisible",null),(0,n._)([(0,l.B)("viewModel.view"),(0,m.G)()],ge.prototype,"view",void 0),(0,n._)([(0,y.s)("trigger-action"),(0,a.Cb)({type:J}),(0,m.G)("viewModel.state")],ge.prototype,"viewModel",void 0),(0,n._)([(0,a.Cb)(),(0,m.G)()],ge.prototype,"visibleElements",void 0),(0,n._)([(0,s.p)("visibleElements")],ge.prototype,"castVisibleElements",null),(0,n._)([(0,l.B)("viewModel.triggerAction")],ge.prototype,"triggerAction",null),(0,n._)([(0,g.h)()],ge.prototype,"_toggleActionsOpen",null),(0,n._)([(0,g.h)()],ge.prototype,"_triggerPanel",null),(0,n._)([(0,g.h)()],ge.prototype,"_triggerAction",null),(0,n._)([(0,g.h)()],ge.prototype,"_toggleVisibility",null),(0,n._)([(0,g.h)()],ge.prototype,"_toggleChildrenClick",null),(0,n._)([(0,g.h)()],ge.prototype,"_toggleSelection",null),ge=(0,n._)([(0,d.j)("esri.widgets.LayerList")],ge);const ve=ge},52646:function(e,t,i){"use strict";function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function r(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var i,n=l(e);if(t){var o=l(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return a(this,i)}}function a(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var c=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===("undefined"==typeof Reflect?"undefined":s(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(a=(r<3?o(a):r>3?o(t,i,a):o(t,i))||a);return r>3&&a&&Object.defineProperty(t,i,a),a},d=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=i(83781),h=i(73502),p=d(i(90806)),f=d(i(13538));i(45829);var g="esri-widget layers-base",v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(s,e);var t,i,a,l=r(s);function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=l.call(this,e)).viewModel=new f.default,t.filterLayers=function(e){t.layerList.operationalItems.forEach((function(t){if("group"===t.layer.type){var i,n,o,r,a=!1;if(t.layer.layers.forEach((function(t){t.title.toLowerCase().includes(e.toLowerCase())?(t.listMode="show",a=!0):t.listMode="hide"})),e.length)if(a){var l,s,c,d;t.open=!0,null===(l=document.querySelector("#layerListDiv_".concat(t.uid,"__title")))||void 0===l||null===(s=l.parentElement)||void 0===s||null===(c=s.parentElement)||void 0===c||null===(d=c.parentElement)||void 0===d||d.removeAttribute("hidden")}else{var u,h,p,f;t.open=!1,null===(u=document.querySelector("#layerListDiv_".concat(t.uid,"__title")))||void 0===u||null===(h=u.parentElement)||void 0===h||null===(p=h.parentElement)||void 0===p||null===(f=p.parentElement)||void 0===f||f.setAttribute("hidden","")}else t.open=!1,null===(i=document.querySelector("#layerListDiv_".concat(t.uid,"__title")))||void 0===i||null===(n=i.parentElement)||void 0===n||null===(o=n.parentElement)||void 0===o||null===(r=o.parentElement)||void 0===r||r.removeAttribute("hidden")}}))},t._createSearch=function(e){e.addEventListener("input",(function(i){var n;t.filterLayers(i.target.value),null===(n=e.querySelector(".calcite-input-clear-button"))||void 0===n||n.addEventListener("click",t.clearClick,{passive:!0})}),{passive:!0})},t.clearClick=function(){var e;t.filterLayers(""),null===(e=document.querySelector("#layerSearch .calcite-input-clear-button"))||void 0===e||e.removeEventListener("click",t.clearClick)},t._reset=function(){},t}return t=s,(i=[{key:"render",value:function(){return h.tsx("div",{class:g},h.tsx("div",{class:"flex sticky"},h.tsx("calcite-input",{clearable:!0,placeholder:"Filter by layer name",scale:"s",afterCreate:this._createSearch,id:"layerSearch"}),h.tsx("calcite-button",{"icon-start":"viewHide",scale:"s",color:"light",bind:this,onclick:this._reset})),h.tsx("div",{id:"layerListDiv",afterCreate:this.viewModel.layerListDivCreated}))}}])&&n(t.prototype,i),a&&n(t,a),s}(p.default);c([u.aliasOf("viewModel.view")],v.prototype,"view",void 0),c([u.aliasOf("viewModel.layerList")],v.prototype,"layerList",void 0),c([u.property({type:f.default}),h.renderable()],v.prototype,"viewModel",void 0),v=c([u.subclass("app.widgets.Layers")],v),t.default=v},13538:function(e,t,i){"use strict";function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function r(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var i,n=s(e);if(t){var o=s(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return a(this,i)}}function a(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?l(e):t}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var d=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===("undefined"==typeof Reflect?"undefined":c(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(a=(r<3?o(a):r>3?o(t,i,a):o(t,i))||a);return r>3&&a&&Object.defineProperty(t,i,a),a},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var h=u(i(82677)),p=u(i(7081)),f=i(83781),g=i(80621),v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(c,e);var t,i,a,s=r(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=s.call(this,e)).opacityChanged=function(e,i){t.view.map.findLayerById(i).opacity=e},t.layerListDivCreated=function(){g.whenDefinedOnce(l(t),"view",t.init.bind(l(t)))},t}return t=c,(i=[{key:"init",value:function(e){this.layerList=new p.default({view:e,container:"layerListDiv",selectionEnabled:!0,multipleSelectionEnabled:!1,listItemCreatedFunction:function(t){var i=t.item;if("group"!=i.layer.type){var n=document.createElement("calcite-slider");n.setAttribute("min","0"),n.setAttribute("max","100"),n.setAttribute("min-label","0%"),n.setAttribute("max-label","100%"),n.setAttribute("label-handles",""),n.setAttribute("value",Math.round(100*(null==i?void 0:i.layer.opacity)).toString()),n.setAttribute("data",i.layer.id),n.addEventListener("calciteSliderUpdate",(function(t){var i;e.map.findLayerById(t.target.getAttribute("data")).opacity=Math.round(parseInt(null==t||null===(i=t.target)||void 0===i?void 0:i.getAttribute("value")))/100}),{passive:!0}),i.panel={content:[n,"legend"],open:i.layer.visible}}}})}}])&&n(t.prototype,i),a&&n(t,a),c}(h.default);d([f.property()],v.prototype,"view",void 0),d([f.property()],v.prototype,"layerList",void 0),v=d([f.subclass("app.widgets.Layers.LayersViewModel")],v),t.default=v},17004:(e,t,i)=>{"use strict";i.d(t,{Z:()=>l});var n=i(94015),o=i.n(n),r=i(23645),a=i.n(r)()(o());a.push([e.id,".layers-base{padding:1rem}","",{version:3,sources:["webpack://./src/widgets/Layers/styles/Layers.scss"],names:[],mappings:"AAAA,aACE,YAAA",sourcesContent:[".layers-base {\n  padding: 1rem;\n}"],sourceRoot:""}]);const l=a},51474:(e,t,i)=>{"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function a(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{},n=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(i).filter((function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable})))),n.forEach((function(t){o(e,t,i[t])}))}return e}function l(e,t){if(null==e)return{};var i,n,o=function(e,t){if(null==e)return{};var i,n,o={},r=Object.keys(e);for(n=0;n<r.length;n++)i=r[n],t.indexOf(i)>=0||(o[i]=e[i]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)i=r[n],t.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(e,i)&&(o[i]=e[i])}return o}i.d(t,{ZP:()=>ot});function s(e){if("undefined"!=typeof window&&window.navigator)return!!navigator.userAgent.match(e)}var c=s(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),d=s(/Edge/i),u=s(/firefox/i),h=s(/safari/i)&&!s(/chrome/i)&&!s(/android/i),p=s(/iP(ad|od|hone)/i),f=s(/chrome/i)&&s(/android/i),g={capture:!1,passive:!1};function v(e,t,i){e.addEventListener(t,i,!c&&g)}function m(e,t,i){e.removeEventListener(t,i,!c&&g)}function y(e,t){if(t){if(">"===t[0]&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch(e){return!1}return!1}}function b(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function _(e,t,i,n){if(e){i=i||document;do{if(null!=t&&(">"===t[0]?e.parentNode===i&&y(e,t):y(e,t))||n&&e===i)return e;if(e===i)break}while(e=b(e))}return null}var w,C=/\s+/g;function S(e,t,i){if(e&&t)if(e.classList)e.classList[i?"add":"remove"](t);else{var n=(" "+e.className+" ").replace(C," ").replace(" "+t+" "," ");e.className=(n+(i?" "+t:"")).replace(C," ")}}function E(e,t,i){var n=e&&e.style;if(n){if(void 0===i)return document.defaultView&&document.defaultView.getComputedStyle?i=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(i=e.currentStyle),void 0===t?i:i[t];t in n||-1!==t.indexOf("webkit")||(t="-webkit-"+t),n[t]=i+("string"==typeof i?"":"px")}}function I(e,t){var i="";if("string"==typeof e)i=e;else do{var n=E(e,"transform");n&&"none"!==n&&(i=n+" "+i)}while(!t&&(e=e.parentNode));var o=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return o&&new o(i)}function A(e,t,i){if(e){var n=e.getElementsByTagName(t),o=0,r=n.length;if(i)for(;o<r;o++)i(n[o],o);return n}return[]}function O(){var e=document.scrollingElement;return e||document.documentElement}function L(e,t,i,n,o){if(e.getBoundingClientRect||e===window){var r,a,l,s,d,u,h;if(e!==window&&e!==O()?(a=(r=e.getBoundingClientRect()).top,l=r.left,s=r.bottom,d=r.right,u=r.height,h=r.width):(a=0,l=0,s=window.innerHeight,d=window.innerWidth,u=window.innerHeight,h=window.innerWidth),(t||i)&&e!==window&&(o=o||e.parentNode,!c))do{if(o&&o.getBoundingClientRect&&("none"!==E(o,"transform")||i&&"static"!==E(o,"position"))){var p=o.getBoundingClientRect();a-=p.top+parseInt(E(o,"border-top-width")),l-=p.left+parseInt(E(o,"border-left-width")),s=a+r.height,d=l+r.width;break}}while(o=o.parentNode);if(n&&e!==window){var f=I(o||e),g=f&&f.a,v=f&&f.d;f&&(s=(a/=v)+(u/=v),d=(l/=g)+(h/=g))}return{top:a,left:l,bottom:s,right:d,width:h,height:u}}}function T(e,t,i){for(var n=P(e,!0),o=L(e)[t];n;){var r=L(n)[i];if(!("top"===i||"left"===i?o>=r:o<=r))return n;if(n===O())break;n=P(n,!1)}return!1}function D(e,t,i){for(var n=0,o=0,r=e.children;o<r.length;){if("none"!==r[o].style.display&&r[o]!==Re.ghost&&r[o]!==Re.dragged&&_(r[o],i.draggable,e,!1)){if(n===t)return r[o];n++}o++}return null}function x(e,t){for(var i=e.lastElementChild;i&&(i===Re.ghost||"none"===E(i,"display")||t&&!y(i,t));)i=i.previousElementSibling;return i||null}function M(e,t){var i=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)"TEMPLATE"===e.nodeName.toUpperCase()||e===Re.clone||t&&!y(e,t)||i++;return i}function k(e){var t=0,i=0,n=O();if(e)do{var o=I(e),r=o.a,a=o.d;t+=e.scrollLeft*r,i+=e.scrollTop*a}while(e!==n&&(e=e.parentNode));return[t,i]}function P(e,t){if(!e||!e.getBoundingClientRect)return O();var i=e,n=!1;do{if(i.clientWidth<i.scrollWidth||i.clientHeight<i.scrollHeight){var o=E(i);if(i.clientWidth<i.scrollWidth&&("auto"==o.overflowX||"scroll"==o.overflowX)||i.clientHeight<i.scrollHeight&&("auto"==o.overflowY||"scroll"==o.overflowY)){if(!i.getBoundingClientRect||i===document.body)return O();if(n||t)return i;n=!0}}}while(i=i.parentNode);return O()}function N(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}function j(e,t){return function(){if(!w){var i=arguments,n=this;1===i.length?e.call(n,i[0]):e.apply(n,i),w=setTimeout((function(){w=void 0}),t)}}}function R(e,t,i){e.scrollLeft+=t,e.scrollTop+=i}function V(e){var t=window.Polymer,i=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):i?i(e).clone(!0)[0]:e.cloneNode(!0)}var B="Sortable"+(new Date).getTime();function F(){var e,t=[];return{captureAnimationState:function(){(t=[],this.options.animation)&&[].slice.call(this.el.children).forEach((function(e){if("none"!==E(e,"display")&&e!==Re.ghost){t.push({target:e,rect:L(e)});var i=a({},t[t.length-1].rect);if(e.thisAnimationDuration){var n=I(e,!0);n&&(i.top-=n.f,i.left-=n.e)}e.fromRect=i}}))},addAnimationState:function(e){t.push(e)},removeAnimationState:function(e){t.splice(function(e,t){for(var i in e)if(e.hasOwnProperty(i))for(var n in t)if(t.hasOwnProperty(n)&&t[n]===e[i][n])return Number(i);return-1}(t,{target:e}),1)},animateAll:function(i){var n=this;if(!this.options.animation)return clearTimeout(e),void("function"==typeof i&&i());var o=!1,r=0;t.forEach((function(e){var t=0,i=e.target,a=i.fromRect,l=L(i),s=i.prevFromRect,c=i.prevToRect,d=e.rect,u=I(i,!0);u&&(l.top-=u.f,l.left-=u.e),i.toRect=l,i.thisAnimationDuration&&N(s,l)&&!N(a,l)&&(d.top-l.top)/(d.left-l.left)==(a.top-l.top)/(a.left-l.left)&&(t=function(e,t,i,n){return Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))/Math.sqrt(Math.pow(t.top-i.top,2)+Math.pow(t.left-i.left,2))*n.animation}(d,s,c,n.options)),N(l,a)||(i.prevFromRect=a,i.prevToRect=l,t||(t=n.options.animation),n.animate(i,d,l,t)),t&&(o=!0,r=Math.max(r,t),clearTimeout(i.animationResetTimer),i.animationResetTimer=setTimeout((function(){i.animationTime=0,i.prevFromRect=null,i.fromRect=null,i.prevToRect=null,i.thisAnimationDuration=null}),t),i.thisAnimationDuration=t)})),clearTimeout(e),o?e=setTimeout((function(){"function"==typeof i&&i()}),r):"function"==typeof i&&i(),t=[]},animate:function(e,t,i,n){if(n){E(e,"transition",""),E(e,"transform","");var o=I(this.el),r=o&&o.a,a=o&&o.d,l=(t.left-i.left)/(r||1),s=(t.top-i.top)/(a||1);e.animatingX=!!l,e.animatingY=!!s,E(e,"transform","translate3d("+l+"px,"+s+"px,0)"),function(e){e.offsetWidth}(e),E(e,"transition","transform "+n+"ms"+(this.options.easing?" "+this.options.easing:"")),E(e,"transform","translate3d(0,0,0)"),"number"==typeof e.animated&&clearTimeout(e.animated),e.animated=setTimeout((function(){E(e,"transition",""),E(e,"transform",""),e.animated=!1,e.animatingX=!1,e.animatingY=!1}),n)}}}}var X=[],Y={initializeByDefault:!0},H={mount:function(e){for(var t in Y)Y.hasOwnProperty(t)&&!(t in e)&&(e[t]=Y[t]);X.push(e)},pluginEvent:function(e,t,i){var n=this;this.eventCanceled=!1,i.cancel=function(){n.eventCanceled=!0};var o=e+"Global";X.forEach((function(n){t[n.pluginName]&&(t[n.pluginName][o]&&t[n.pluginName][o](a({sortable:t},i)),t.options[n.pluginName]&&t[n.pluginName][e]&&t[n.pluginName][e](a({sortable:t},i)))}))},initializePlugins:function(e,t,i,n){for(var o in X.forEach((function(n){var o=n.pluginName;if(e.options[o]||n.initializeByDefault){var a=new n(e,t,e.options);a.sortable=e,a.options=e.options,e[o]=a,r(i,a.defaults)}})),e.options)if(e.options.hasOwnProperty(o)){var a=this.modifyOption(e,o,e.options[o]);void 0!==a&&(e.options[o]=a)}},getEventProperties:function(e,t){var i={};return X.forEach((function(n){"function"==typeof n.eventProperties&&r(i,n.eventProperties.call(t[n.pluginName],e))})),i},modifyOption:function(e,t,i){var n;return X.forEach((function(o){e[o.pluginName]&&o.optionListeners&&"function"==typeof o.optionListeners[t]&&(n=o.optionListeners[t].call(e[o.pluginName],i))})),n}};function U(e){var t=e.sortable,i=e.rootEl,n=e.name,o=e.targetEl,r=e.cloneEl,l=e.toEl,s=e.fromEl,u=e.oldIndex,h=e.newIndex,p=e.oldDraggableIndex,f=e.newDraggableIndex,g=e.originalEvent,v=e.putSortable,m=e.extraEventProperties;if(t=t||i&&i[B]){var y,b=t.options,_="on"+n.charAt(0).toUpperCase()+n.substr(1);!window.CustomEvent||c||d?(y=document.createEvent("Event")).initEvent(n,!0,!0):y=new CustomEvent(n,{bubbles:!0,cancelable:!0}),y.to=l||i,y.from=s||i,y.item=o||i,y.clone=r,y.oldIndex=u,y.newIndex=h,y.oldDraggableIndex=p,y.newDraggableIndex=f,y.originalEvent=g,y.pullMode=v?v.lastPutMode:void 0;var w=a({},m,H.getEventProperties(n,t));for(var C in w)y[C]=w[C];i&&i.dispatchEvent(y),b[_]&&b[_].call(t,y)}}var W=function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=i.evt,o=l(i,["evt"]);H.pluginEvent.bind(Re)(e,t,a({dragEl:$,parentEl:z,ghostEl:G,rootEl:q,nextEl:K,lastDownEl:Q,cloneEl:J,cloneHidden:ee,dragStarted:pe,putSortable:ae,activeSortable:Re.active,originalEvent:n,oldIndex:te,oldDraggableIndex:ne,newIndex:ie,newDraggableIndex:oe,hideGhostForTarget:ke,unhideGhostForTarget:Pe,cloneNowHidden:function(){ee=!0},cloneNowShown:function(){ee=!1},dispatchSortableEvent:function(e){Z({sortable:t,name:e,originalEvent:n})}},o))};function Z(e){U(a({putSortable:ae,cloneEl:J,targetEl:$,rootEl:q,oldIndex:te,oldDraggableIndex:ne,newIndex:ie,newDraggableIndex:oe},e))}var $,z,G,q,K,Q,J,ee,te,ie,ne,oe,re,ae,le,se,ce,de,ue,he,pe,fe,ge,ve,me,ye=!1,be=!1,_e=[],we=!1,Ce=!1,Se=[],Ee=!1,Ie=[],Ae="undefined"!=typeof document,Oe=p,Le=d||c?"cssFloat":"float",Te=Ae&&!f&&!p&&"draggable"in document.createElement("div"),De=function(){if(Ae){if(c)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto","auto"===e.style.pointerEvents}}(),xe=function(e,t){var i=E(e),n=parseInt(i.width)-parseInt(i.paddingLeft)-parseInt(i.paddingRight)-parseInt(i.borderLeftWidth)-parseInt(i.borderRightWidth),o=D(e,0,t),r=D(e,1,t),a=o&&E(o),l=r&&E(r),s=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+L(o).width,c=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+L(r).width;if("flex"===i.display)return"column"===i.flexDirection||"column-reverse"===i.flexDirection?"vertical":"horizontal";if("grid"===i.display)return i.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(o&&a.float&&"none"!==a.float){var d="left"===a.float?"left":"right";return!r||"both"!==l.clear&&l.clear!==d?"horizontal":"vertical"}return o&&("block"===a.display||"flex"===a.display||"table"===a.display||"grid"===a.display||s>=n&&"none"===i[Le]||r&&"none"===i[Le]&&s+c>n)?"vertical":"horizontal"},Me=function(e){function t(e,i){return function(n,o,r,a){var l=n.options.group.name&&o.options.group.name&&n.options.group.name===o.options.group.name;if(null==e&&(i||l))return!0;if(null==e||!1===e)return!1;if(i&&"clone"===e)return e;if("function"==typeof e)return t(e(n,o,r,a),i)(n,o,r,a);var s=(i?n:o).options.group.name;return!0===e||"string"==typeof e&&e===s||e.join&&e.indexOf(s)>-1}}var i={},o=e.group;o&&"object"==n(o)||(o={name:o}),i.name=o.name,i.checkPull=t(o.pull,!0),i.checkPut=t(o.put),i.revertClone=o.revertClone,e.group=i},ke=function(){!De&&G&&E(G,"display","none")},Pe=function(){!De&&G&&E(G,"display","")};Ae&&document.addEventListener("click",(function(e){if(be)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),be=!1,!1}),!0);var Ne=function(e){if($){e=e.touches?e.touches[0]:e;var t=(o=e.clientX,r=e.clientY,_e.some((function(e){if(!x(e)){var t=L(e),i=e[B].options.emptyInsertThreshold,n=o>=t.left-i&&o<=t.right+i,l=r>=t.top-i&&r<=t.bottom+i;return i&&n&&l?a=e:void 0}})),a);if(t){var i={};for(var n in e)e.hasOwnProperty(n)&&(i[n]=e[n]);i.target=i.rootEl=t,i.preventDefault=void 0,i.stopPropagation=void 0,t[B]._onDragOver(i)}}var o,r,a},je=function(e){$&&$.parentNode[B]._isOutsideThisEl(e.target)};function Re(e,t){if(!e||!e.nodeType||1!==e.nodeType)throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=t=r({},t),e[B]=this;var i={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return xe(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(e,t){e.setData("Text",t.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==Re.supportPointer&&"PointerEvent"in window,emptyInsertThreshold:5};for(var n in H.initializePlugins(this,e,i),i)!(n in t)&&(t[n]=i[n]);for(var o in Me(t),this)"_"===o.charAt(0)&&"function"==typeof this[o]&&(this[o]=this[o].bind(this));this.nativeDraggable=!t.forceFallback&&Te,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?v(e,"pointerdown",this._onTapStart):(v(e,"mousedown",this._onTapStart),v(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(v(e,"dragover",this),v(e,"dragenter",this)),_e.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),r(this,F())}function Ve(e,t,i,n,o,r,a,l){var s,u,h=e[B],p=h.options.onMove;return!window.CustomEvent||c||d?(s=document.createEvent("Event")).initEvent("move",!0,!0):s=new CustomEvent("move",{bubbles:!0,cancelable:!0}),s.to=t,s.from=e,s.dragged=i,s.draggedRect=n,s.related=o||t,s.relatedRect=r||L(t),s.willInsertAfter=l,s.originalEvent=a,e.dispatchEvent(s),p&&(u=p.call(h,s,a)),u}function Be(e){e.draggable=!1}function Fe(){Ee=!1}function Xe(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,i=t.length,n=0;i--;)n+=t.charCodeAt(i);return n.toString(36)}function Ye(e){return setTimeout(e,0)}function He(e){return clearTimeout(e)}Re.prototype={constructor:Re,_isOutsideThisEl:function(e){this.el.contains(e)||e===this.el||(fe=null)},_getDirection:function(e,t){return"function"==typeof this.options.direction?this.options.direction.call(this,e,t,$):this.options.direction},_onTapStart:function(e){if(e.cancelable){var t=this,i=this.el,n=this.options,o=n.preventOnFilter,r=e.type,a=e.touches&&e.touches[0]||e.pointerType&&"touch"===e.pointerType&&e,l=(a||e).target,s=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||l,c=n.filter;if(function(e){Ie.length=0;var t=e.getElementsByTagName("input"),i=t.length;for(;i--;){var n=t[i];n.checked&&Ie.push(n)}}(i),!$&&!(/mousedown|pointerdown/.test(r)&&0!==e.button||n.disabled||s.isContentEditable||(l=_(l,n.draggable,i,!1))&&l.animated||Q===l)){if(te=M(l),ne=M(l,n.draggable),"function"==typeof c){if(c.call(this,e,l,this))return Z({sortable:t,rootEl:s,name:"filter",targetEl:l,toEl:i,fromEl:i}),W("filter",t,{evt:e}),void(o&&e.cancelable&&e.preventDefault())}else if(c&&(c=c.split(",").some((function(n){if(n=_(s,n.trim(),i,!1))return Z({sortable:t,rootEl:n,name:"filter",targetEl:l,fromEl:i,toEl:i}),W("filter",t,{evt:e}),!0}))))return void(o&&e.cancelable&&e.preventDefault());n.handle&&!_(s,n.handle,i,!1)||this._prepareDragStart(e,a,l)}}},_prepareDragStart:function(e,t,i){var n,o=this,r=o.el,a=o.options,l=r.ownerDocument;if(i&&!$&&i.parentNode===r){var s=L(i);if(q=r,z=($=i).parentNode,K=$.nextSibling,Q=i,re=a.group,Re.dragged=$,le={target:$,clientX:(t||e).clientX,clientY:(t||e).clientY},ue=le.clientX-s.left,he=le.clientY-s.top,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,$.style["will-change"]="all",n=function(){W("delayEnded",o,{evt:e}),Re.eventCanceled?o._onDrop():(o._disableDelayedDragEvents(),!u&&o.nativeDraggable&&($.draggable=!0),o._triggerDragStart(e,t),Z({sortable:o,name:"choose",originalEvent:e}),S($,a.chosenClass,!0))},a.ignore.split(",").forEach((function(e){A($,e.trim(),Be)})),v(l,"dragover",Ne),v(l,"mousemove",Ne),v(l,"touchmove",Ne),v(l,"mouseup",o._onDrop),v(l,"touchend",o._onDrop),v(l,"touchcancel",o._onDrop),u&&this.nativeDraggable&&(this.options.touchStartThreshold=4,$.draggable=!0),W("delayStart",this,{evt:e}),!a.delay||a.delayOnTouchOnly&&!t||this.nativeDraggable&&(d||c))n();else{if(Re.eventCanceled)return void this._onDrop();v(l,"mouseup",o._disableDelayedDrag),v(l,"touchend",o._disableDelayedDrag),v(l,"touchcancel",o._disableDelayedDrag),v(l,"mousemove",o._delayedDragTouchMoveHandler),v(l,"touchmove",o._delayedDragTouchMoveHandler),a.supportPointer&&v(l,"pointermove",o._delayedDragTouchMoveHandler),o._dragStartTimer=setTimeout(n,a.delay)}}},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){$&&Be($),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;m(e,"mouseup",this._disableDelayedDrag),m(e,"touchend",this._disableDelayedDrag),m(e,"touchcancel",this._disableDelayedDrag),m(e,"mousemove",this._delayedDragTouchMoveHandler),m(e,"touchmove",this._delayedDragTouchMoveHandler),m(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||"touch"==e.pointerType&&e,!this.nativeDraggable||t?this.options.supportPointer?v(document,"pointermove",this._onTouchMove):v(document,t?"touchmove":"mousemove",this._onTouchMove):(v($,"dragend",this),v(q,"dragstart",this._onDragStart));try{document.selection?Ye((function(){document.selection.empty()})):window.getSelection().removeAllRanges()}catch(e){}},_dragStarted:function(e,t){if(ye=!1,q&&$){W("dragStarted",this,{evt:t}),this.nativeDraggable&&v(document,"dragover",je);var i=this.options;!e&&S($,i.dragClass,!1),S($,i.ghostClass,!0),Re.active=this,e&&this._appendGhost(),Z({sortable:this,name:"start",originalEvent:t})}else this._nulling()},_emulateDragOver:function(){if(se){this._lastX=se.clientX,this._lastY=se.clientY,ke();for(var e=document.elementFromPoint(se.clientX,se.clientY),t=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(se.clientX,se.clientY))!==t;)t=e;if($.parentNode[B]._isOutsideThisEl(e),t)do{if(t[B]){if(t[B]._onDragOver({clientX:se.clientX,clientY:se.clientY,target:e,rootEl:t})&&!this.options.dragoverBubble)break}e=t}while(t=t.parentNode);Pe()}},_onTouchMove:function(e){if(le){var t=this.options,i=t.fallbackTolerance,n=t.fallbackOffset,o=e.touches?e.touches[0]:e,r=G&&I(G,!0),a=G&&r&&r.a,l=G&&r&&r.d,s=Oe&&me&&k(me),c=(o.clientX-le.clientX+n.x)/(a||1)+(s?s[0]-Se[0]:0)/(a||1),d=(o.clientY-le.clientY+n.y)/(l||1)+(s?s[1]-Se[1]:0)/(l||1);if(!Re.active&&!ye){if(i&&Math.max(Math.abs(o.clientX-this._lastX),Math.abs(o.clientY-this._lastY))<i)return;this._onDragStart(e,!0)}if(G){r?(r.e+=c-(ce||0),r.f+=d-(de||0)):r={a:1,b:0,c:0,d:1,e:c,f:d};var u="matrix(".concat(r.a,",").concat(r.b,",").concat(r.c,",").concat(r.d,",").concat(r.e,",").concat(r.f,")");E(G,"webkitTransform",u),E(G,"mozTransform",u),E(G,"msTransform",u),E(G,"transform",u),ce=c,de=d,se=o}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!G){var e=this.options.fallbackOnBody?document.body:q,t=L($,!0,Oe,!0,e),i=this.options;if(Oe){for(me=e;"static"===E(me,"position")&&"none"===E(me,"transform")&&me!==document;)me=me.parentNode;me!==document.body&&me!==document.documentElement?(me===document&&(me=O()),t.top+=me.scrollTop,t.left+=me.scrollLeft):me=O(),Se=k(me)}S(G=$.cloneNode(!0),i.ghostClass,!1),S(G,i.fallbackClass,!0),S(G,i.dragClass,!0),E(G,"transition",""),E(G,"transform",""),E(G,"box-sizing","border-box"),E(G,"margin",0),E(G,"top",t.top),E(G,"left",t.left),E(G,"width",t.width),E(G,"height",t.height),E(G,"opacity","0.8"),E(G,"position",Oe?"absolute":"fixed"),E(G,"zIndex","100000"),E(G,"pointerEvents","none"),Re.ghost=G,e.appendChild(G),E(G,"transform-origin",ue/parseInt(G.style.width)*100+"% "+he/parseInt(G.style.height)*100+"%")}},_onDragStart:function(e,t){var i=this,n=e.dataTransfer,o=i.options;W("dragStart",this,{evt:e}),Re.eventCanceled?this._onDrop():(W("setupClone",this),Re.eventCanceled||((J=V($)).draggable=!1,J.style["will-change"]="",this._hideClone(),S(J,this.options.chosenClass,!1),Re.clone=J),i.cloneId=Ye((function(){W("clone",i),Re.eventCanceled||(i.options.removeCloneOnHide||q.insertBefore(J,$),i._hideClone(),Z({sortable:i,name:"clone"}))})),!t&&S($,o.dragClass,!0),t?(be=!0,i._loopId=setInterval(i._emulateDragOver,50)):(m(document,"mouseup",i._onDrop),m(document,"touchend",i._onDrop),m(document,"touchcancel",i._onDrop),n&&(n.effectAllowed="move",o.setData&&o.setData.call(i,n,$)),v(document,"drop",i),E($,"transform","translateZ(0)")),ye=!0,i._dragStartId=Ye(i._dragStarted.bind(i,t,e)),v(document,"selectstart",i),pe=!0,h&&E(document.body,"user-select","none"))},_onDragOver:function(e){var t,i,n,o,r=this.el,l=e.target,s=this.options,c=s.group,d=Re.active,u=re===c,h=s.sort,p=ae||d,f=this,g=!1;if(!Ee){if(void 0!==e.preventDefault&&e.cancelable&&e.preventDefault(),l=_(l,s.draggable,r,!0),j("dragOver"),Re.eventCanceled)return g;if($.contains(e.target)||l.animated&&l.animatingX&&l.animatingY||f._ignoreWhileAnimating===l)return F(!1);if(be=!1,d&&!s.disabled&&(u?h||(n=!q.contains($)):ae===this||(this.lastPutMode=re.checkPull(this,d,$,e))&&c.checkPut(this,d,$,e))){if(o="vertical"===this._getDirection(e,l),t=L($),j("dragOverValid"),Re.eventCanceled)return g;if(n)return z=q,V(),this._hideClone(),j("revert"),Re.eventCanceled||(K?q.insertBefore($,K):q.appendChild($)),F(!0);var v=x(r,s.draggable);if(!v||function(e,t,i){var n=L(x(i.el,i.options.draggable)),o=10;return t?e.clientX>n.right+o||e.clientX<=n.right&&e.clientY>n.bottom&&e.clientX>=n.left:e.clientX>n.right&&e.clientY>n.top||e.clientX<=n.right&&e.clientY>n.bottom+o}(e,o,this)&&!v.animated){if(v===$)return F(!1);if(v&&r===e.target&&(l=v),l&&(i=L(l)),!1!==Ve(q,r,$,t,l,i,e,!!l))return V(),r.appendChild($),z=r,X(),F(!0)}else if(l.parentNode===r){i=L(l);var m,y,b,w=$.parentNode!==r,C=!function(e,t,i){var n=i?e.left:e.top,o=i?e.right:e.bottom,r=i?e.width:e.height,a=i?t.left:t.top,l=i?t.right:t.bottom,s=i?t.width:t.height;return n===a||o===l||n+r/2===a+s/2}($.animated&&$.toRect||t,l.animated&&l.toRect||i,o),I=o?"top":"left",A=T(l,"top","top")||T($,"top","top"),O=A?A.scrollTop:void 0;if(fe!==l&&(y=i[I],we=!1,Ce=!C&&s.invertSwap||w),0!==(m=function(e,t,i,n,o,r,a,l){var s=n?e.clientY:e.clientX,c=n?i.height:i.width,d=n?i.top:i.left,u=n?i.bottom:i.right,h=!1;if(!a)if(l&&ve<c*o){if(!we&&(1===ge?s>d+c*r/2:s<u-c*r/2)&&(we=!0),we)h=!0;else if(1===ge?s<d+ve:s>u-ve)return-ge}else if(s>d+c*(1-o)/2&&s<u-c*(1-o)/2)return function(e){return M($)<M(e)?1:-1}(t);if((h=h||a)&&(s<d+c*r/2||s>u-c*r/2))return s>d+c/2?1:-1;return 0}(e,l,i,o,C?1:s.swapThreshold,null==s.invertedSwapThreshold?s.swapThreshold:s.invertedSwapThreshold,Ce,fe===l))){var D=M($);do{D-=m,b=z.children[D]}while(b&&("none"===E(b,"display")||b===G))}if(0===m||b===l)return F(!1);fe=l,ge=m;var k=l.nextElementSibling,P=!1,N=Ve(q,r,$,t,l,i,e,P=1===m);if(!1!==N)return 1!==N&&-1!==N||(P=1===N),Ee=!0,setTimeout(Fe,30),V(),P&&!k?r.appendChild($):l.parentNode.insertBefore($,P?k:l),A&&R(A,0,O-A.scrollTop),z=$.parentNode,void 0===y||Ce||(ve=Math.abs(y-L(l)[I])),X(),F(!0)}if(r.contains($))return F(!1)}return!1}function j(s,c){W(s,f,a({evt:e,isOwner:u,axis:o?"vertical":"horizontal",revert:n,dragRect:t,targetRect:i,canSort:h,fromSortable:p,target:l,completed:F,onMove:function(i,n){return Ve(q,r,$,t,i,L(i),e,n)},changed:X},c))}function V(){j("dragOverAnimationCapture"),f.captureAnimationState(),f!==p&&p.captureAnimationState()}function F(t){return j("dragOverCompleted",{insertion:t}),t&&(u?d._hideClone():d._showClone(f),f!==p&&(S($,ae?ae.options.ghostClass:d.options.ghostClass,!1),S($,s.ghostClass,!0)),ae!==f&&f!==Re.active?ae=f:f===Re.active&&ae&&(ae=null),p===f&&(f._ignoreWhileAnimating=l),f.animateAll((function(){j("dragOverAnimationComplete"),f._ignoreWhileAnimating=null})),f!==p&&(p.animateAll(),p._ignoreWhileAnimating=null)),(l===$&&!$.animated||l===r&&!l.animated)&&(fe=null),s.dragoverBubble||e.rootEl||l===document||($.parentNode[B]._isOutsideThisEl(e.target),!t&&Ne(e)),!s.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),g=!0}function X(){ie=M($),oe=M($,s.draggable),Z({sortable:f,name:"change",toEl:r,newIndex:ie,newDraggableIndex:oe,originalEvent:e})}},_ignoreWhileAnimating:null,_offMoveEvents:function(){m(document,"mousemove",this._onTouchMove),m(document,"touchmove",this._onTouchMove),m(document,"pointermove",this._onTouchMove),m(document,"dragover",Ne),m(document,"mousemove",Ne),m(document,"touchmove",Ne)},_offUpEvents:function(){var e=this.el.ownerDocument;m(e,"mouseup",this._onDrop),m(e,"touchend",this._onDrop),m(e,"pointerup",this._onDrop),m(e,"touchcancel",this._onDrop),m(document,"selectstart",this)},_onDrop:function(e){var t=this.el,i=this.options;ie=M($),oe=M($,i.draggable),W("drop",this,{evt:e}),z=$&&$.parentNode,ie=M($),oe=M($,i.draggable),Re.eventCanceled||(ye=!1,Ce=!1,we=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),He(this.cloneId),He(this._dragStartId),this.nativeDraggable&&(m(document,"drop",this),m(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),h&&E(document.body,"user-select",""),E($,"transform",""),e&&(pe&&(e.cancelable&&e.preventDefault(),!i.dropBubble&&e.stopPropagation()),G&&G.parentNode&&G.parentNode.removeChild(G),(q===z||ae&&"clone"!==ae.lastPutMode)&&J&&J.parentNode&&J.parentNode.removeChild(J),$&&(this.nativeDraggable&&m($,"dragend",this),Be($),$.style["will-change"]="",pe&&!ye&&S($,ae?ae.options.ghostClass:this.options.ghostClass,!1),S($,this.options.chosenClass,!1),Z({sortable:this,name:"unchoose",toEl:z,newIndex:null,newDraggableIndex:null,originalEvent:e}),q!==z?(ie>=0&&(Z({rootEl:z,name:"add",toEl:z,fromEl:q,originalEvent:e}),Z({sortable:this,name:"remove",toEl:z,originalEvent:e}),Z({rootEl:z,name:"sort",toEl:z,fromEl:q,originalEvent:e}),Z({sortable:this,name:"sort",toEl:z,originalEvent:e})),ae&&ae.save()):ie!==te&&ie>=0&&(Z({sortable:this,name:"update",toEl:z,originalEvent:e}),Z({sortable:this,name:"sort",toEl:z,originalEvent:e})),Re.active&&(null!=ie&&-1!==ie||(ie=te,oe=ne),Z({sortable:this,name:"end",toEl:z,originalEvent:e}),this.save())))),this._nulling()},_nulling:function(){W("nulling",this),q=$=z=G=K=J=Q=ee=le=se=pe=ie=oe=te=ne=fe=ge=ae=re=Re.dragged=Re.ghost=Re.clone=Re.active=null,Ie.forEach((function(e){e.checked=!0})),Ie.length=ce=de=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":$&&(this._onDragOver(e),function(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move");e.cancelable&&e.preventDefault()}(e));break;case"selectstart":e.preventDefault()}},toArray:function(){for(var e,t=[],i=this.el.children,n=0,o=i.length,r=this.options;n<o;n++)_(e=i[n],r.draggable,this.el,!1)&&t.push(e.getAttribute(r.dataIdAttr)||Xe(e));return t},sort:function(e){var t={},i=this.el;this.toArray().forEach((function(e,n){var o=i.children[n];_(o,this.options.draggable,i,!1)&&(t[e]=o)}),this),e.forEach((function(e){t[e]&&(i.removeChild(t[e]),i.appendChild(t[e]))}))},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return _(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var i=this.options;if(void 0===t)return i[e];var n=H.modifyOption(this,e,t);i[e]=void 0!==n?n:t,"group"===e&&Me(i)},destroy:function(){W("destroy",this);var e=this.el;e[B]=null,m(e,"mousedown",this._onTapStart),m(e,"touchstart",this._onTapStart),m(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(m(e,"dragover",this),m(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),(function(e){e.removeAttribute("draggable")})),this._onDrop(),this._disableDelayedDragEvents(),_e.splice(_e.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!ee){if(W("hideClone",this),Re.eventCanceled)return;E(J,"display","none"),this.options.removeCloneOnHide&&J.parentNode&&J.parentNode.removeChild(J),ee=!0}},_showClone:function(e){if("clone"===e.lastPutMode){if(ee){if(W("showClone",this),Re.eventCanceled)return;q.contains($)&&!this.options.group.revertClone?q.insertBefore(J,$):K?q.insertBefore(J,K):q.appendChild(J),this.options.group.revertClone&&this.animate($,J),E(J,"display",""),ee=!1}}else this._hideClone()}},Ae&&v(document,"touchmove",(function(e){(Re.active||ye)&&e.cancelable&&e.preventDefault()})),Re.utils={on:v,off:m,css:E,find:A,is:function(e,t){return!!_(e,t,e,!1)},extend:function(e,t){if(e&&t)for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return e},throttle:j,closest:_,toggleClass:S,clone:V,index:M,nextTick:Ye,cancelNextTick:He,detectDirection:xe,getChild:D},Re.get=function(e){return e[B]},Re.mount=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];t[0].constructor===Array&&(t=t[0]),t.forEach((function(e){if(!e.prototype||!e.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(e));e.utils&&(Re.utils=a({},Re.utils,e.utils)),H.mount(e)}))},Re.create=function(e,t){return new Re(e,t)},Re.version="1.10.2";var Ue,We,Ze,$e,ze,Ge,qe=[],Ke=!1;function Qe(){qe.forEach((function(e){clearInterval(e.pid)})),qe=[]}function Je(){clearInterval(Ge)}var et=j((function(e,t,i,n){if(t.scroll){var o,r=(e.touches?e.touches[0]:e).clientX,a=(e.touches?e.touches[0]:e).clientY,l=t.scrollSensitivity,s=t.scrollSpeed,c=O(),d=!1;We!==i&&(We=i,Qe(),Ue=t.scroll,o=t.scrollFn,!0===Ue&&(Ue=P(i,!0)));var u=0,h=Ue;do{var p=h,f=L(p),g=f.top,v=f.bottom,m=f.left,y=f.right,b=f.width,_=f.height,w=void 0,C=void 0,S=p.scrollWidth,I=p.scrollHeight,A=E(p),T=p.scrollLeft,D=p.scrollTop;p===c?(w=b<S&&("auto"===A.overflowX||"scroll"===A.overflowX||"visible"===A.overflowX),C=_<I&&("auto"===A.overflowY||"scroll"===A.overflowY||"visible"===A.overflowY)):(w=b<S&&("auto"===A.overflowX||"scroll"===A.overflowX),C=_<I&&("auto"===A.overflowY||"scroll"===A.overflowY));var x=w&&(Math.abs(y-r)<=l&&T+b<S)-(Math.abs(m-r)<=l&&!!T),M=C&&(Math.abs(v-a)<=l&&D+_<I)-(Math.abs(g-a)<=l&&!!D);if(!qe[u])for(var k=0;k<=u;k++)qe[k]||(qe[k]={});qe[u].vx==x&&qe[u].vy==M&&qe[u].el===p||(qe[u].el=p,qe[u].vx=x,qe[u].vy=M,clearInterval(qe[u].pid),0==x&&0==M||(d=!0,qe[u].pid=setInterval(function(){n&&0===this.layer&&Re.active._onTouchMove(ze);var t=qe[this.layer].vy?qe[this.layer].vy*s:0,i=qe[this.layer].vx?qe[this.layer].vx*s:0;"function"==typeof o&&"continue"!==o.call(Re.dragged.parentNode[B],i,t,e,ze,qe[this.layer].el)||R(qe[this.layer].el,i,t)}.bind({layer:u}),24))),u++}while(t.bubbleScroll&&h!==c&&(h=P(h,!1)));Ke=d}}),30),tt=function(e){var t=e.originalEvent,i=e.putSortable,n=e.dragEl,o=e.activeSortable,r=e.dispatchSortableEvent,a=e.hideGhostForTarget,l=e.unhideGhostForTarget;if(t){var s=i||o;a();var c=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,d=document.elementFromPoint(c.clientX,c.clientY);l(),s&&!s.el.contains(d)&&(r("spill"),this.onSpill({dragEl:n,putSortable:i}))}};function it(){}function nt(){}it.prototype={startIndex:null,dragStart:function(e){var t=e.oldDraggableIndex;this.startIndex=t},onSpill:function(e){var t=e.dragEl,i=e.putSortable;this.sortable.captureAnimationState(),i&&i.captureAnimationState();var n=D(this.sortable.el,this.startIndex,this.options);n?this.sortable.el.insertBefore(t,n):this.sortable.el.appendChild(t),this.sortable.animateAll(),i&&i.animateAll()},drop:tt},r(it,{pluginName:"revertOnSpill"}),nt.prototype={onSpill:function(e){var t=e.dragEl,i=e.putSortable||this.sortable;i.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),i.animateAll()},drop:tt},r(nt,{pluginName:"removeOnSpill"});Re.mount(new function(){function e(){for(var e in this.defaults={scroll:!0,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0},this)"_"===e.charAt(0)&&"function"==typeof this[e]&&(this[e]=this[e].bind(this))}return e.prototype={dragStarted:function(e){var t=e.originalEvent;this.sortable.nativeDraggable?v(document,"dragover",this._handleAutoScroll):this.options.supportPointer?v(document,"pointermove",this._handleFallbackAutoScroll):t.touches?v(document,"touchmove",this._handleFallbackAutoScroll):v(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(e){var t=e.originalEvent;this.options.dragOverBubble||t.rootEl||this._handleAutoScroll(t)},drop:function(){this.sortable.nativeDraggable?m(document,"dragover",this._handleAutoScroll):(m(document,"pointermove",this._handleFallbackAutoScroll),m(document,"touchmove",this._handleFallbackAutoScroll),m(document,"mousemove",this._handleFallbackAutoScroll)),Je(),Qe(),clearTimeout(w),w=void 0},nulling:function(){ze=We=Ue=Ke=Ge=Ze=$e=null,qe.length=0},_handleFallbackAutoScroll:function(e){this._handleAutoScroll(e,!0)},_handleAutoScroll:function(e,t){var i=this,n=(e.touches?e.touches[0]:e).clientX,o=(e.touches?e.touches[0]:e).clientY,r=document.elementFromPoint(n,o);if(ze=e,t||d||c||h){et(e,this.options,r,t);var a=P(r,!0);!Ke||Ge&&n===Ze&&o===$e||(Ge&&Je(),Ge=setInterval((function(){var r=P(document.elementFromPoint(n,o),!0);r!==a&&(a=r,Qe()),et(e,i.options,r,t)}),10),Ze=n,$e=o)}else{if(!this.options.bubbleScroll||P(r,!0)===O())return void Qe();et(e,this.options,P(r,!1),!1)}}},r(e,{pluginName:"scroll",initializeByDefault:!0})}),Re.mount(nt,it);const ot=Re},45829:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>l});var n=i(93379),o=i.n(n),r=i(17004),a={insert:"head",singleton:!1};o()(r.Z,a);const l=r.Z.locals||{}}}]);
//# sourceMappingURL=2646.js.map