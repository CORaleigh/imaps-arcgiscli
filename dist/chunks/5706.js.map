{"version":3,"sources":["webpack://imaps/./node_modules/@arcgis/core/layers/graphics/contains.js","webpack://imaps/./node_modules/@arcgis/core/chunks/spatialQuerySupport.js","webpack://imaps/./node_modules/@arcgis/core/layers/graphics/data/attributeSupport.js","webpack://imaps/./node_modules/@arcgis/core/core/sql/WhereClauseCache.js","webpack://imaps/./node_modules/@arcgis/core/layers/graphics/data/AttributesBuilder.js","webpack://imaps/./node_modules/@arcgis/core/layers/graphics/data/QueryEngineResult.js","webpack://imaps/./node_modules/@arcgis/core/layers/graphics/data/QueryEngine.js","webpack://imaps/./node_modules/@arcgis/core/layers/graphics/data/QueryEngineCapabilities.js","webpack://imaps/./node_modules/@arcgis/core/layers/graphics/data/timeSupport.js","webpack://imaps/./node_modules/@arcgis/core/layers/graphics/sources/support/clientSideDefaults.js"],"names":["n","t","r","e","c","u","f","s","coords","i","lengths","l","length","o","d","g","E","esriSRUnit_Meter","esriSRUnit_Kilometer","esriSRUnit_Foot","esriSRUnit_StatuteMile","esriSRUnit_NauticalMile","esriSRUnit_USNauticalMile","N","Object","freeze","_","b","x","J","esriGeometryPoint","esriGeometryPolyline","esriGeometryPolygon","esriGeometryMultipoint","Z","hasZ","hasM","a","B","p","geometry","async","T","outFields","orderByFields","groupByFieldsForStatistics","outStatistics","trim","onStatisticField","outSR","spatialReference","W","where","test","distance","units","fromJSON","then","L","geodesicBuffer","spatialRel","toJSON","k","A","JSON","parse","stringify","K","Q","esriSpatialRelIntersects","esriSpatialRelContains","esriSpatialRelCrosses","esriSpatialRelDisjoint","esriSpatialRelEnvelopeIntersects","esriSpatialRelIndexIntersects","esriSpatialRelOverlaps","esriSpatialRelTouches","esriSpatialRelWithin","esriSpatialRelRelation","V","$","esriGeometryEnvelope","H","Y","bind","ee","query","te","rings","this","_cache","_invalidCache","uid","get","put","Set","has","isStandardized","clause","fieldNames","details","missingFields","push","split","type","_fieldDataCache","Map","_returnDistinctMap","returnDistinctValues","fieldsIndex","featureAdapter","indexOf","name","set","alias","forEach","getAttributes","size","_processAttributesForOutFields","_processAttributesForDistinctValues","getAttribute","calculateValue","testFeature","testSet","join","substr","y","I","Date","getTime","isNaN","toUpperCase","items","queryGeometry","definitionExpression","geometryType","objectIdField","timeInfo","aggregateAdapter","countDistinctValues","having","statisticType","_getAttributeValues","_calculateUniqueValues","data","validateItems","add","some","_createExceedsLimitQueryResponse","_createStatisticsQueryResponse","_createFeatureQueryResponse","returnQueryGeometry","TypeError","aggregateIds","getFeatureObjectIds","getObjectId","filter","objectIds","timeExtent","trackIdField","startTimeField","endTimeField","Array","from","values","map","getGeometry","cloneWithGeometry","reverse","toLowerCase","sort","quantizationParameters","resultRecordCount","h","resultOffset","returnZ","m","returnM","fields","exceededTransferLimit","features","_createFeatures","objectIdFieldName","transform","returnGeometry","returnCentroid","maxAllowableOffset","F","_sortFeatures","getFieldValue","attributes","centroid","getCentroid","S","slice","Math","min","Number","POSITIVE_INFINITY","maxPointCount","maxRecordCount","maxVertexCount","reduce","sqlType","domain","defaultValue","exceedslimit","outStatisticFieldName","count","itemPositions","_getPercentileValue","_getStatisticValue","_calculateStatistics","statisticParameters","value","orderBy","_calculatePercentile","NEGATIVE_INFINITY","max","pow","sqrt","avg","stddev","sum","variance","floor","q","G","M","P","v","capabilities","featureStore","_changeHandle","events","on","clearCache","cacheSpatialQueries","_geometryQueryCache","scheduler","task","_frameQueue","_frameTask","registerTask","_update","remove","cancelAll","destroy","fullBounds","xmin","ymin","xmax","ymax","_timeExtent","clear","_allItems","_schedule","_reschedule","_checkQuerySupport","_executeGeometryQuery","executeAggregateIdsQuery","executeObjectIdsQuery","executeTimeQuery","executeAttributesQuery","createQueryResponse","createQueryResponseForCount","extent","forEachBounds","isFinite","zmin","zmax","executeQueryForIdSet","filterLatest","unshift","_budget","done","process","madeProgress","spatialRelationship","outSpatialReference","project","_getAll","_searchFeatures","_getQueryBBoxes","_runSpatialFilter","_canExecuteSoloPass","forEachInBounds","geometryPrecision","multipatchOption","pixelSize","relationParam","text","_checkAttributesQuerySupport","_checkStatisticsQuerySupport","isAggregate","getExpressions","every","aggregateType","field","definition","supportsStatistics","supportsPercentileStatistics","supportsCentroid","supportsCacheHint","supportsDistance","supportsDistinct","supportsExtent","supportsGeometryProperties","supportsHavingClause","supportsOrderBy","supportsPagination","supportsQuantization","supportsQuantizationEditMode","supportsQueryGeometry","supportsResultType","supportsSqlExpression","supportsMaxRecordCountFactor","supportsStandardizedQueriesOnly","supportsQueryByOthers","supportsHistoricMoment","supportsFormatPBF","supportsDisjointSpatialRelationship","maxRecordCountFactor","standardMaxRecordCount","tileMaxRecordCount","start","end","renderer","symbol","Function","description","prototype"],"mappings":"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","file":"chunks/5706.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nfunction n(n,t){return n?t?4:3:t?3:2}function t(n,t,r,e){return o(n,t,r,e.coords[0],e.coords[1])}function r(t,r,e,c,u,f){const s=n(u,f),{coords:i,lengths:l}=c;if(!l)return!1;for(let n=0,c=0;n<l.length;n++,c+=s)if(!o(t,r,e,i[c],i[c+1]))return!1;return!0}function o(t,r,o,c,u){if(!t)return!1;const f=n(r,o),{coords:s,lengths:i}=t;let l=!1,d=0;for(const n of i)l=e(l,s,f,d,n,c,u),d+=n*f;return l}function e(n,t,r,o,e,c,u){let f=n,s=o;for(let n=o,i=o+e*r;n<i;n+=r){s=n+r,s===i&&(s=o);const e=t[n],l=t[n+1],d=t[s],g=t[s+1];(l<u&&g>=u||g<u&&l>=u)&&e+(u-l)/(g-l)*(d-e)<c&&(f=!f)}return f}export{o as polygonContainsCoords,r as polygonContainsMultipoint,t as polygonContainsPoint};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{isNone as e}from\"../core/maybe.js\";import{JSONMap as t}from\"../core/jsonMap.js\";import r from\"../core/Error.js\";import{resolve as i}from\"../core/promiseUtils.js\";import{isGeographic as s,isWebMercator as n,WGS84 as o,isValid as a}from\"../geometry/support/spatialReferenceUtils.js\";import{extentContainsPoint as l,extentContainsMultipoint as p}from\"../geometry/support/contains.js\";import{getExtentIntersector as u}from\"../geometry/support/intersects.js\";import{getGeometryExtent as c}from\"../geometry/support/extentUtils.js\";import{fromJSON as m,isPolygon as f,isExtent as y,getJsonType as R}from\"../geometry/support/jsonUtils.js\";import{getUnitString as S}from\"../core/unitUtils.js\";import{normalizeCentralMeridian as g}from\"../geometry/support/normalizeUtils.js\";import h from\"../layers/graphics/OptimizedGeometry.js\";import{quantizeOptimizedGeometry as d,convertToPoint as j,generalizeOptimizedGeometry as w,removeZMValues as G,convertToPolyline as U,convertToPolygon as M,convertToMultipoint as P,convertFromPolygon as I}from\"../layers/graphics/featureConversionUtils.js\";import{getCentroidOptimizedGeometry as v}from\"../layers/graphics/centroid.js\";import{checkProjectionSupport as C,project as O}from\"../layers/graphics/data/projectionSupport.js\";import{polygonContainsPoint as q,polygonContainsMultipoint as F}from\"../layers/graphics/contains.js\";const E=new t({esriSRUnit_Meter:\"meters\",esriSRUnit_Kilometer:\"kilometers\",esriSRUnit_Foot:\"feet\",esriSRUnit_StatuteMile:\"miles\",esriSRUnit_NauticalMile:\"nautical-miles\",esriSRUnit_USNauticalMile:\"us-nautical-miles\"}),N=Object.freeze({}),_=new h,b=new h,x=new h,J={esriGeometryPoint:j,esriGeometryPolyline:U,esriGeometryPolygon:M,esriGeometryMultipoint:P};function Z(e,t,r,i=e.hasZ,s=e.hasM){const n=e.hasZ&&i,o=e.hasM&&s;if(r){const a=d(x,t,e.hasZ,e.hasM,\"esriGeometryPoint\",r,i,s);return j(a,n,o)}return j(t,n,o)}function z(e,t,r){return\"esriGeometryPolygon\"===e.geometryType&&t&&(t.centroid||t.geometry)?(t.centroid||(t.centroid=v(new h,t.geometry,e.hasZ,e.hasM)),Z(e,t.centroid,r)):null}function B(e,t,r,i,s,n,o=t,a=r){const l=t&&o,p=r&&a,u=i?\"coords\"in i?i:i.geometry:null;if(!u)return null;if(s){let i=w(b,u,t,r,e,s,o,a);return n&&(i=d(x,i,l,p,e,n)),J[e](i,l,p)}if(n){const i=d(x,u,t,r,e,n,o,a);return J[e](i,l,p)}return G(_,u,t,r,o,a),J[e](_,l,p)}async function T(e,t,r){const{outFields:i,orderByFields:s,groupByFieldsForStatistics:n,outStatistics:o}=e;if(i)for(let e=0;e<i.length;e++)i[e]=i[e].trim();if(s)for(let e=0;e<s.length;e++)s[e]=s[e].trim();if(n)for(let e=0;e<n.length;e++)n[e]=n[e].trim();if(o)for(let e=0;e<o.length;e++)o[e].onStatisticField&&(o[e].onStatisticField=o[e].onStatisticField.trim());return e.geometry&&!e.outSR&&(e.outSR=e.geometry.spatialReference),W(e,t,r)}async function D(e,t,r){return W(e,t,r)}async function W(t,r,i){if(!t)return null;let{where:a}=t;if(t.where=a=a&&a.trim(),(!a||/^1 *= *1$/.test(a)||r&&r===a)&&(t.where=null),!t.geometry)return t;let l=await async function(e){const{geometry:t,distance:r,units:i}=e;if(null==r||\"vertexAttributes\"in t)return t;const a=t.spatialReference,l=i?E.fromJSON(i):S(a),p=a&&(s(a)||n(a))?t:await C(a,o).then((()=>O(t,o)));return(await X())(p.spatialReference,p,r,l)}(t);if(t.distance=0,t.units=null,\"esriSpatialRelEnvelopeIntersects\"===t.spatialRel){const{spatialReference:e}=t.geometry;l=c(l),l.spatialReference=e}t.geometry=l,await C(l.spatialReference,i);const p=(await g(m(l)))[0];if(e(p))throw N;const u=p.toJSON(),f=await O(u,u.spatialReference,i);if(!f)throw N;return f.spatialReference=i,t.geometry=f,t}function k(e){return e&&A in e?JSON.parse(JSON.stringify(e,K)):e}const A=\"_geVersion\",K=(e,t)=>e!==A?t:void 0,Q={esriSpatialRelIntersects:\"intersects\",esriSpatialRelContains:\"contains\",esriSpatialRelCrosses:\"crosses\",esriSpatialRelDisjoint:\"disjoint\",esriSpatialRelEnvelopeIntersects:\"intersects\",esriSpatialRelIndexIntersects:null,esriSpatialRelOverlaps:\"overlaps\",esriSpatialRelTouches:\"touches\",esriSpatialRelWithin:\"within\",esriSpatialRelRelation:null},V={esriSpatialRelIntersects:!0,esriSpatialRelContains:!0,esriSpatialRelWithin:!0,esriSpatialRelCrosses:!0,esriSpatialRelDisjoint:!0,esriSpatialRelTouches:!0,esriSpatialRelOverlaps:!0,esriSpatialRelEnvelopeIntersects:!0,esriSpatialRelIndexIntersects:!1,esriSpatialRelRelation:!1},$={esriGeometryPoint:!0,esriGeometryMultipoint:!0,esriGeometryPolyline:!0,esriGeometryPolygon:!0,esriGeometryEnvelope:!0},H={esriGeometryPoint:!0,esriGeometryMultipoint:!0,esriGeometryPolyline:!0,esriGeometryPolygon:!0,esriGeometryEnvelope:!1};function L(){return import(\"../geometry/geometryEngineJSON.js\")}function X(){return L().then((e=>e.geodesicBuffer))}function Y(e,t,r,s,n){if(f(t)&&\"esriGeometryPoint\"===r&&(\"esriSpatialRelIntersects\"===e||\"esriSpatialRelContains\"===e)){const e=I(new h,t,!1,!1);return i((t=>q(e,!1,!1,t)))}if(f(t)&&\"esriGeometryMultipoint\"===r){const r=I(new h,t,!1,!1);if(\"esriSpatialRelContains\"===e)return i((e=>F(r,!1,!1,e,s,n)))}if(y(t)&&\"esriGeometryPoint\"===r&&(\"esriSpatialRelIntersects\"===e||\"esriSpatialRelContains\"===e))return i((e=>l(t,B(r,s,n,e))));if(y(t)&&\"esriGeometryMultipoint\"===r&&\"esriSpatialRelContains\"===e)return i((e=>p(t,B(r,s,n,e))));if(y(t)&&\"esriSpatialRelIntersects\"===e){const e=u(r);return i((i=>e(t,B(r,s,n,i))))}return L().then((i=>{const o=i[Q[e]].bind(null,t.spatialReference,t);return e=>o(B(r,s,n,e))}))}async function ee(e,t,i){const{spatialRel:s,geometry:n}=e;if(n){if(!0!==V[s])throw new r(\"feature-store:unsupported-query\",\"Unsupported query spatial relationship\",{query:e});if(a(n.spatialReference)&&a(i)){if(!function(e){return!0===$[R(e)]}(n))throw new r(\"feature-store:unsupported-query\",\"Unsupported query geometry type\",{query:e});if(!function(e){return!0===H[e]}(t))throw new r(\"feature-store:unsupported-query\",\"Unsupported layer geometry type\",{query:e});if(e.outSR)return C(e.geometry&&e.geometry.spatialReference,e.outSR)}}}function te(e){if(y(e))return!0;if(f(e)){for(const t of e.rings){if(5!==t.length)return!1;if(t[0][0]!==t[1][0]||t[0][0]!==t[4][0]||t[2][0]!==t[3][0]||t[0][1]!==t[3][1]||t[0][1]!==t[4][1]||t[1][1]!==t[2][1])return!1}return!0}return!1}export{N as Q,T as a,te as b,k as c,ee as d,B as e,z as f,Y as g,D as h,L as i,X as j,W as n,Z as t};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport e from\"../../../core/Error.js\";import{WhereClauseCache as i}from\"../../../core/sql/WhereClauseCache.js\";const s=new i(50,500),n=\"feature-store:unsupported-query\",t=new Set([\"esriFieldTypeOID\",\"esriFieldTypeSmallInteger\",\"esriFieldTypeInteger\",\"esriFieldTypeSingle\",\"esriFieldTypeDouble\",\"esriFieldTypeLong\",\"esriFieldTypeDate\"]);function r(i,t){if(!t)return!0;const r=s.get(t,i);if(!r)throw new e(n,\"invalid SQL expression\",{where:t});if(!r.isStandardized)throw new e(n,\"where clause is not standard\",{where:t});return l(i,r.fieldNames,\"where clause contains missing fields\"),!0}function o(i,t,r){if(!t)return!0;const o=s.get(t,i);if(!o)throw new e(n,\"invalid SQL expression\",{having:t});if(!o.isAggregate)throw new e(n,\"having does not contain a valid aggregate function\",{having:t});const a=o.fieldNames;l(i,a,\"having contains missing fields\");if(!o.getExpressions().every((e=>{const{aggregateType:s,field:n}=e,t=i.has(n)&&i.get(n).name;return r.some((e=>{const{onStatisticField:n,statisticType:r}=e;return(i.has(n)&&i.get(n).name)===t&&r.toLowerCase().trim()===s}))})))throw new e(n,\"expressions in having should also exist in outStatistics\",{having:t});return!0}function a(e,i){return e?s.get(e,i):null}function l(i,s,t,r=!0){const o=[];for(const t of s)if(\"*\"!==t&&!i.has(t))if(r){const s=c(t);try{const t=a(s,i);if(!t)throw new e(n,\"invalid SQL expression\",{where:s});if(!t.isStandardized)throw new e(n,\"expression is not standard\",{clause:t});l(i,t.fieldNames,\"expression contains missing fields\")}catch(e){const i=e&&e.details;if(i&&(i.clause||i.where))throw e;i&&i.missingFields?o.push(...i.missingFields):o.push(t)}}else o.push(t);if(o.length)throw new e(n,t,{missingFields:o})}function c(e){return e.split(\" as \")[0]}function d(e){return e.split(\" as \")[1]}function u(e,i){const s=i.get(e);return!!s&&!t.has(s.type)}export{d as getAliasFromFieldName,c as getExpressionFromFieldName,a as getWhereClause,u as hasInvalidFieldType,l as validateFields,o as validateHaving,r as validateWhere};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport t from\"../ItemCache.js\";import{WhereClause as e}from\"./WhereClause.js\";class c{constructor(e,c){this._cache=new t(e),this._invalidCache=new t(c)}get(t,c){const i=`${c.uid}:${t}`,r=this._cache.get(i);if(r)return r;if(void 0!==this._invalidCache.get(i))return null;try{const r=e.create(t,c);return this._cache.put(i,r),r}catch{return this._invalidCache.put(i,null),null}}}export{c as WhereClauseCache};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{isNone as t}from\"../../../core/maybe.js\";import{getExpressionFromFieldName as e,getWhereClause as s,getAliasFromFieldName as i}from\"./attributeSupport.js\";export default class{constructor(t,a,r){this._fieldDataCache=new Map,this._returnDistinctMap=new Map,this.returnDistinctValues=t.returnDistinctValues,this.fieldsIndex=r,this.featureAdapter=a;const u=t.outFields;if(u&&-1===u.indexOf(\"*\")){this.outFields=u;let t=0;for(const a of u){const u=e(a),l=this.fieldsIndex.get(u),n=l?null:s(u,r),c=l?l.name:i(a)||\"FIELD_EXP_\"+t++;this._fieldDataCache.set(a,{alias:c,clause:n})}}}countDistinctValues(t){return this.returnDistinctValues?(t.forEach((t=>this.getAttributes(t))),this._returnDistinctMap.size):t.length}getAttributes(t){const e=this._processAttributesForOutFields(t);return this._processAttributesForDistinctValues(e)}getFieldValue(t,e,i){const a=i?i.name:e;let r=null;return this._fieldDataCache.has(a)?r=this._fieldDataCache.get(a).clause:i||(r=s(e,this.fieldsIndex),this._fieldDataCache.set(a,{alias:a,clause:r})),i?this.featureAdapter.getAttribute(t,a):r.calculateValue(t,this.featureAdapter)}validateItem(t,e){return this._fieldDataCache.has(e)||this._fieldDataCache.set(e,{alias:e,clause:s(e,this.fieldsIndex)}),this._fieldDataCache.get(e).clause.testFeature(t,this.featureAdapter)}validateItems(t,e){return this._fieldDataCache.has(e)||this._fieldDataCache.set(e,{alias:e,clause:s(e,this.fieldsIndex)}),this._fieldDataCache.get(e).clause.testSet(t,this.featureAdapter)}_processAttributesForOutFields(t){const e=this.outFields;if(!e||!e.length)return this.featureAdapter.getAttributes(t);const s={};for(const i of e){const{alias:e,clause:a}=this._fieldDataCache.get(i);s[e]=a?a.calculateValue(t,this.featureAdapter):this.featureAdapter.getAttribute(t,e)}return s}_processAttributesForDistinctValues(e){if(t(e)||!this.returnDistinctValues)return e;const s=this.outFields,i=[];if(s)for(const t of s){const{alias:s}=this._fieldDataCache.get(t);i.push(e[s])}else for(const t in e)i.push(e[t]);const a=`${(s||[\"*\"]).join(\",\")}=${i.join(\",\")}`;let r=this._returnDistinctMap.get(a)||0;return this._returnDistinctMap.set(a,++r),r>1?null:e}}\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{isNone as t,isSome as e}from\"../../../core/maybe.js\";import{resolve as s,reject as i}from\"../../../core/promiseUtils.js\";import{isValid as r,equals as n}from\"../../../geometry/support/spatialReferenceUtils.js\";import{convertFromGeometry as a}from\"../featureConversionUtils.js\";import{project as o,projectMany as u}from\"./projectionSupport.js\";import{toQuantizationTransform as l}from\"../../../geometry/support/quantizationUtils.js\";import{getWhereClause as c}from\"./attributeSupport.js\";import h from\"./AttributesBuilder.js\";import{c as f,e as d,t as m}from\"../../../chunks/spatialQuerySupport.js\";import{getTimeOperator as p}from\"./timeSupport.js\";function g(t){return t.substr(24,12)+t.substr(19,4)+t.substr(16,2)+t.substr(14,2)+t.substr(11,2)+t.substr(9,2)+t.substr(6,2)+t.substr(4,2)+t.substr(2,2)+t.substr(0,2)}function y(t,e,s){return(s?t>e:t<e)?-1:(s?t<e:t>e)?1:0}function I(t,e,s){return s?e-t:t-e}function b(t,e,s,i){if(s&&\"esriFieldTypeDate\"===s.type){const s=new Date(t).getTime(),r=new Date(e).getTime();if(!isNaN(s)&&!isNaN(r))return I(s,r,i)}if(\"number\"==typeof t&&\"number\"==typeof e)return I(t,e,i);if(\"string\"==typeof t&&\"string\"==typeof e){const r=t.toUpperCase(),n=e.toUpperCase();return!s||\"esriFieldTypeGUID\"!==s.type&&\"esriFieldTypeGlobalID\"!==s.type?y(r,n,i):y(g(r),g(n),i)}return i?1:-1}class x{constructor(t,e,s){this.items=t,this.queryGeometry=e,this.definitionExpression=s.definitionExpression,this.geometryType=s.geometryType,this.hasM=s.hasM,this.hasZ=s.hasZ,this.objectIdField=s.objectIdField,this.spatialReference=s.spatialReference,this.fieldsIndex=s.fieldsIndex,this.timeInfo=s.timeInfo,this.featureAdapter=s.featureAdapter,this.aggregateAdapter=s.aggregateAdapter}get size(){return this.items.length}createQueryResponseForCount(t){const e=new h(t,this.featureAdapter,this.fieldsIndex);if(!t.outStatistics)return e.countDistinctValues(this.items);const{groupByFieldsForStatistics:s,having:i}=t;if(!!!(null==s?void 0:s.length))return 1;const r=new Map,n=new Map,a=new Set,o=t.outStatistics;for(const t of o){const{statisticType:o}=t,u=\"exceedslimit\"!==o?t.onStatisticField:void 0;if(!n.has(u)){const t=[];for(const i of s){const s=this._getAttributeValues(e,i,r);t.push(s)}n.set(u,this._calculateUniqueValues(t))}const l=n.get(u);for(const t in l){const{data:s,items:r}=l[t],n=s.join(\",\");i&&!e.validateItems(r,i)||a.add(n)}}return a.size}createQueryResponse(t){let e;if(t.outStatistics){e=t.outStatistics.some((t=>\"exceedslimit\"===t.statisticType))?this._createExceedsLimitQueryResponse(t):this._createStatisticsQueryResponse(t)}else e=this._createFeatureQueryResponse(t);return t.returnQueryGeometry&&(r(t.outSR)&&!n(this.queryGeometry.spatialReference,t.outSR)?e.queryGeometry=f({spatialReference:t.outSR,...o(this.queryGeometry,this.queryGeometry.spatialReference,t.outSR)}):e.queryGeometry=f({spatialReference:t.outSR,...this.queryGeometry})),e}executeAttributesQuery(t){const e=c(t.where,this.fieldsIndex);if(!e)return s(this);if(e.isStandardized){let i=0;const r=[];for(const t of this.items)e.testFeature(t,this.featureAdapter)&&(r[i++]=t);const n=new x(r,this.queryGeometry,this);return n.definitionExpression=t.where,s(n)}return i(new TypeError(\"Where clause is not standardized\"))}executeAggregateIdsQuery(e){if(!e.aggregateIds||!e.aggregateIds.length||t(this.aggregateAdapter))return s(this);const i=new Set;for(const t of e.aggregateIds){this.aggregateAdapter.getFeatureObjectIds(t).forEach((t=>i.add(t)))}const r=this.featureAdapter.getObjectId;return s(new x(this.items.filter((t=>i.has(r(t)))),this.queryGeometry,this))}executeObjectIdsQuery(t){if(!t.objectIds||!t.objectIds.length)return s(this);const e=new Set(t.objectIds),i=this.featureAdapter.getObjectId;return s(new x(this.items.filter((t=>e.has(i(t)))),this.queryGeometry,this))}executeTimeQuery(t){const i=p(this.timeInfo,t.timeExtent,this.featureAdapter);if(!e(i))return s(this);const r=this.items.filter(i);return s(new x(r,this.queryGeometry,this))}filterLatest(){const{trackIdField:t,startTimeField:e,endTimeField:i}=this.timeInfo,r=i||e,n=new Map,a=this.featureAdapter.getAttribute;for(const e of this.items){const s=a(e,t),i=a(e,r),o=n.get(s);(!o||i>a(o,r))&&n.set(s,e)}const o=Array.from(n.values());return s(new x(o,this.queryGeometry,this))}async project(t){if(!t||n(this.spatialReference,t))return this;const e=this.featureAdapter,s=(await u(this.items.map((t=>d(this.geometryType,this.hasZ,this.hasM,e.getGeometry(t)))),this.spatialReference,t)).map(((t,s)=>e.cloneWithGeometry(this.items[s],a(t,this.hasZ,this.hasM))));return new x(s,this.queryGeometry,{definitionExpression:this.definitionExpression,geometryType:this.geometryType,hasM:this.hasM,hasZ:this.hasZ,objectIdField:this.objectIdField,spatialReference:t,fieldsIndex:this.fieldsIndex,timeInfo:this.timeInfo,featureAdapter:this.featureAdapter})}_sortFeatures(t,e,s){if(t.length>1&&e&&e.length)for(const i of e.reverse()){const e=i.split(\" \"),r=e[0],n=this.fieldsIndex.get(r),a=e[1]&&\"desc\"===e[1].toLowerCase();t.sort(((t,e)=>b(s(t,r,n),s(e,r,n),n,a)))}}_createFeatureQueryResponse(t){const e=this.items,{geometryType:s,hasM:i,hasZ:r,objectIdField:n,spatialReference:a}=this,{outFields:o,outSR:u,quantizationParameters:c,resultRecordCount:h,resultOffset:d,returnZ:m,returnM:p}=t,g=null!=h&&e.length>(d||0)+h,y=o&&(o.indexOf(\"*\")>-1?[...this.fieldsIndex.fields]:o.map((t=>this.fieldsIndex.get(t))));return{exceededTransferLimit:g,features:this._createFeatures(t,e),fields:y,geometryType:s,hasM:i&&p,hasZ:r&&m,objectIdFieldName:n,spatialReference:f(u||a),transform:c&&l(c)||null}}_createFeatures(t,e){const s=new h(t,this.featureAdapter,this.fieldsIndex),{hasM:i,hasZ:r}=this,{orderByFields:n,quantizationParameters:a,returnGeometry:o,returnCentroid:u,maxAllowableOffset:c,resultOffset:f,resultRecordCount:p,returnZ:g=!1,returnM:y=!1}=t,I=r&&g,b=i&&y;let x=[],F=0;const T=[...e];if(this._sortFeatures(T,n,((t,e,i)=>s.getFieldValue(t,e,i))),o||u){const t=l(a);if(o&&!u)for(const e of T)x[F++]={attributes:s.getAttributes(e),geometry:d(this.geometryType,this.hasZ,this.hasM,this.featureAdapter.getGeometry(e),c,t,I,b)};else if(!o&&u)for(const e of T)x[F++]={attributes:s.getAttributes(e),centroid:m(this,this.featureAdapter.getCentroid(e,this),t)};else for(const e of T)x[F++]={attributes:s.getAttributes(e),centroid:m(this,this.featureAdapter.getCentroid(e,this),t),geometry:d(this.geometryType,this.hasZ,this.hasM,this.featureAdapter.getGeometry(e),c,t,I,b)}}else for(const t of T){const e=s.getAttributes(t);e&&(x[F++]={attributes:e})}const S=f||0;if(null!=p){const t=S+p;x=x.slice(S,Math.min(x.length,t))}return x}_createExceedsLimitQueryResponse(t){let e=!1,s=Number.POSITIVE_INFINITY,i=Number.POSITIVE_INFINITY,r=Number.POSITIVE_INFINITY;for(const e of t.outStatistics)if(\"exceedslimit\"===e.statisticType){s=null!=e.maxPointCount?e.maxPointCount:Number.POSITIVE_INFINITY,i=null!=e.maxRecordCount?e.maxRecordCount:Number.POSITIVE_INFINITY,r=null!=e.maxVertexCount?e.maxVertexCount:Number.POSITIVE_INFINITY;break}if(\"esriGeometryPoint\"===this.geometryType)e=this.items.length>s;else if(this.items.length>i)e=!0;else{const t=this.hasZ?this.hasM?4:3:this.hasM?3:2,s=this.featureAdapter;e=this.items.reduce(((t,e)=>{const i=s.getGeometry(e);return t+(i&&i.coords.length||0)}),0)/t>r}return{fields:[{name:\"exceedslimit\",type:\"esriFieldTypeInteger\",alias:\"exceedslimit\",sqlType:\"sqlTypeInteger\",domain:null,defaultValue:null}],features:[{attributes:{exceedslimit:Number(e)}}]}}_createStatisticsQueryResponse(t){const e={attributes:{}},s=[],i=new Map,r=new Map,n=new Map,a=new Map,o=new h(t,this.featureAdapter,this.fieldsIndex),u=t.outStatistics,{groupByFieldsForStatistics:l,having:c,orderByFields:f}=t,d=l&&l.length,m=!!d,p=m&&l[0],g=m&&!this.fieldsIndex.get(p);for(const t of u){const{outStatisticFieldName:u,statisticType:h}=t,f=t,y=\"exceedslimit\"!==h?t.onStatisticField:void 0,I=\"percentile_disc\"===h||\"percentile_cont\"===h,b=m&&1===d&&(y===p||g)&&\"count\"===h;if(m){if(!n.has(y)){const t=[];for(const e of l){const s=this._getAttributeValues(o,e,i);t.push(s)}n.set(y,this._calculateUniqueValues(t))}const t=n.get(y);for(const e in t){const{count:s,data:r,items:n,itemPositions:h}=t[e],d=r.join(\",\");if(!c||o.validateItems(n,c)){const t=a.get(d)||{attributes:{}};let e=null;if(b)e=s;else{const t=this._getAttributeValues(o,y,i),s=h.map((e=>t[e]));e=I&&\"statisticParameters\"in f?this._getPercentileValue(f,s):this._getStatisticValue(f,s)}t.attributes[u]=e,l.forEach(((e,s)=>t.attributes[this.fieldsIndex.get(e)?e:`EXPR_${s+1}`]=r[s])),a.set(d,t)}}}else{const t=this._getAttributeValues(o,y,i);e.attributes[u]=I&&\"statisticParameters\"in f?this._getPercentileValue(f,t):this._getStatisticValue(f,t,r)}s.push({name:u,alias:u,type:\"esriFieldTypeDouble\"})}const y=m?Array.from(a.values()):[e];return this._sortFeatures(y,f,((t,e)=>t.attributes[e])),{fields:s,features:y}}_getStatisticValue(t,e,s){const{onStatisticField:i,statisticType:r}=t,n=s&&s.has(i)?s.get(i):this._calculateStatistics(e);s&&s.set(i,n);return n[\"var\"===r?\"variance\":r]}_getPercentileValue(t,e){const{onStatisticField:s,statisticParameters:i,statisticType:r}=t,{value:n,orderBy:a}=i,o=\"desc\"===a,u=this.fieldsIndex.get(s),l=[...e].filter((t=>null!=t)).sort(((t,e)=>b(t,e,u,o)));return this._calculatePercentile(l,n,\"percentile_disc\"===r)}_getAttributeValues(t,e,s){if(s.has(e))return s.get(e);const i=this.fieldsIndex.get(e),r=this.items.map((s=>t.getFieldValue(s,e,i)));return s.set(e,r),r}_calculateStatistics(t){let e=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY,i=null,r=null,n=null,a=null;const o=[];let u=0;for(const r of t)\"string\"==typeof r?u++:null==r||isNaN(r)||(i+=r,e=Math.min(e,r),s=Math.max(s,r),o.push(r),u++);if(u){r=i/u;let t=0;for(const e of o)t+=Math.pow(e-r,2);a=u>1?t/(u-1):0,n=Math.sqrt(a)}else e=null,s=null;return{avg:r,count:u,max:s,min:e,stddev:n,sum:i,variance:a}}_calculateUniqueValues(t){const e={},s=this.items,i=s.length;for(let r=0;r<i;r++){const i=s[r],n=[];for(const e of t)n.push(e[r]);const a=n.join(\",\");null==e[a]?e[a]={count:1,data:n,items:[i],itemPositions:[r]}:(e[a].count++,e[a].items.push(i),e[a].itemPositions.push(r))}return e}_calculatePercentile(t,e,s){if(0===t.length)return null;if(e<=0)return t[0];if(e>=1)return t[t.length-1];const i=(t.length-1)*e,r=Math.floor(i),n=r+1,a=i%1,o=t[r],u=t[n];return n>=t.length||s||\"string\"==typeof o||\"string\"==typeof u?o:o*(1-a)+u*a}}export default x;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{clone as e}from\"../../../core/lang.js\";import{isUndefined as t}from\"../../../core/maybe.js\";import s from\"../../../core/Error.js\";import{all as i}from\"../../../core/promiseUtils.js\";import{isValid as r,equals as a}from\"../../../geometry/support/spatialReferenceUtils.js\";import{getBoundsXY as u}from\"../../../geometry/support/boundsUtils.js\";import{isExtent as n,isPolygon as o}from\"../../../geometry/support/jsonUtils.js\";import{getMetersPerUnitForSR as h}from\"../../../core/unitUtils.js\";import{fromValues as c,create as l}from\"../../../geometry/support/aaBoundingRect.js\";import{MemCache as d,MemCacheStorage as f}from\"../../../core/MemCache.js\";import m from\"../../support/PromiseQueue.js\";import p from\"../../support/FieldsIndex.js\";import{queryCapabilities as y}from\"./QueryEngineCapabilities.js\";import{set as _,NEGATIVE_INFINITY as g,expandWithAABB as x,create as w}from\"../../../geometry/support/aaBoundingBox.js\";import{project as Q,checkProjectionSupport as S}from\"./projectionSupport.js\";import{validateFields as I,validateWhere as R,validateHaving as F,hasInvalidFieldType as j}from\"./attributeSupport.js\";import{c as b,a as A,Q as E,g as C,b as k,d as T}from\"../../../chunks/spatialQuerySupport.js\";import{getTimeExtent as B}from\"./timeSupport.js\";import z from\"./QueryEngineResult.js\";class O{constructor(e,t=null,s,i,r){this.attributes=e,this.geometry=s,this.centroid=i,this.filterFlags=r,this.groupId=-1,this.displayId=t}}const q=new Set,G=new f(2e6);let M=0;const P=w(),v=w();export default class{constructor(e){this.capabilities={query:y},this.geometryType=e.geometryType,this.hasM=e.hasM,this.hasZ=e.hasZ,this.objectIdField=e.objectIdField,this.spatialReference=e.spatialReference,this.definitionExpression=e.definitionExpression,this.featureStore=e.featureStore,this.aggregateAdapter=e.aggregateAdapter,this._changeHandle=this.featureStore.events.on(\"changed\",(()=>this.clearCache())),this.timeInfo=e.timeInfo,e.cacheSpatialQueries&&(this._geometryQueryCache=new d(M+++\"$$\",G)),this.fieldsIndex=new p(e.fields),e.scheduler&&e.task&&(this._frameQueue=new m,this._frameTask=e.scheduler.registerTask(e.task,(e=>this._update(e)),(()=>this._frameQueue.length>0)))}destroy(){this._frameTask&&(this._frameTask.remove(),this._frameTask=null,this._frameQueue.cancelAll(),this._frameQueue=null),this.clearCache(),this._geometryQueryCache&&this._geometryQueryCache.destroy(),this._changeHandle&&(this._changeHandle.remove(),this._changeHandle=null),this.fieldsIndex.destroy()}get featureAdapter(){return this.featureStore.featureAdapter}get fullExtent(){const e=this.featureStore.fullBounds;return e?{xmin:e[0],ymin:e[1],xmax:e[2],ymax:e[3],spatialReference:b(this.spatialReference)}:null}get timeExtent(){return this.timeInfo?(this._timeExtent||(this._timeExtent=B(this.timeInfo,this.featureStore)),this._timeExtent):null}clearCache(){this._geometryQueryCache&&this._geometryQueryCache.clear(),this._allItems=null,this._timeExtent=null}async executeQuery(t={},s){let i,r=e(t);try{r=await this._schedule((()=>A(r,this.definitionExpression,this.spatialReference)),s),r=await this._reschedule((()=>this._checkQuerySupport(r)),s),i=await this._reschedule((()=>this._executeGeometryQuery(r,s)),s),i=await this._reschedule((()=>i.executeAggregateIdsQuery(r)),s),i=await this._reschedule((()=>i.executeObjectIdsQuery(r)),s),i=await this._reschedule((()=>i.executeTimeQuery(r)),s),i=await this._reschedule((()=>i.executeAttributesQuery(r)),s)}catch(e){if(e!==E)throw e;i=new z([],null,this)}return i.createQueryResponse(r)}async executeQueryForCount(t={},s){let i,r=e(t);r.returnGeometry=!1,r.returnCentroid=!1,r.outSR=null;try{r=await this._schedule((()=>A(r,this.definitionExpression,this.spatialReference)),s),r=await this._reschedule((()=>this._checkQuerySupport(r)),s),i=await this._reschedule((()=>this._executeGeometryQuery(r,s)),s),i=await this._reschedule((()=>i.executeAggregateIdsQuery(r)),s),i=await this._reschedule((()=>i.executeObjectIdsQuery(r)),s),i=await this._reschedule((()=>i.executeTimeQuery(r)),s),i=await this._reschedule((()=>i.executeAttributesQuery(r)),s)}catch(e){if(e!==E)throw e;return 0}return i.createQueryResponseForCount(r)}async executeQueryForExtent(t={},s){let i,r=e(t);const a=r.outSR;try{r=await this._schedule((()=>A(r,this.definitionExpression,this.spatialReference)),s),r=await this._reschedule((()=>this._checkQuerySupport(r)),s),r.returnGeometry=!0,r.returnCentroid=!1,r.outSR=null,i=await this._reschedule((()=>this._executeGeometryQuery(r,s)),s),i=await this._reschedule((()=>i.executeAggregateIdsQuery(r)),s),i=await this._reschedule((()=>i.executeObjectIdsQuery(r)),s),i=await this._reschedule((()=>i.executeTimeQuery(r)),s),i=await this._reschedule((()=>i.executeAttributesQuery(r)),s);const e=i.size;if(!e)return{count:e,extent:null};_(v,g),this.featureStore.forEachBounds(i.items,(e=>x(v,e)),P);const t={xmin:v[0],ymin:v[1],xmax:v[3],ymax:v[4],spatialReference:b(this.spatialReference)};this.hasZ&&isFinite(v[2])&&isFinite(v[5])&&(t.zmin=v[2],t.zmax=v[5]);const u=Q(t,i.spatialReference,a);if(u.spatialReference=b(a||this.spatialReference),u.xmax-u.xmin==0){const e=h(u.spatialReference);u.xmin-=e,u.xmax+=e}if(u.ymax-u.ymin==0){const e=h(u.spatialReference);u.ymin-=e,u.ymax+=e}if(this.hasZ&&null!=u.zmin&&null!=u.zmax&&u.zmax-u.zmin==0){const e=h(u.spatialReference);u.zmin-=e,u.zmax+=e}return{count:e,extent:u}}catch(e){if(e===E)return{count:0,extent:null};throw e}}async executeQueryForIds(e={},t){return this.executeQueryForIdSet(e,t).then((e=>Array.from(e)))}async executeQueryForIdSet(t={},s){let i,r=e(t);r.returnGeometry=!1,r.returnCentroid=!1,r.outSR=null;try{r=await this._schedule((()=>A(r,this.definitionExpression,this.spatialReference)),s),r=await this._reschedule((()=>this._checkQuerySupport(r)),s),i=await this._reschedule((()=>this._executeGeometryQuery(r,s)),s),i=await this._reschedule((()=>i.executeAggregateIdsQuery(r)),s),i=await this._reschedule((()=>i.executeObjectIdsQuery(r)),s),i=await this._reschedule((()=>i.executeTimeQuery(r)),s),i=await this._reschedule((()=>i.executeAttributesQuery(r)),s);const e=i.items,t=new Set;return await this._reschedule((()=>{for(const s of e)t.add(i.featureAdapter.getObjectId(s))}),s),t}catch(e){if(e===E)return new Set;throw e}}async executeQueryForLatestObservations(t={},i){if(!this.timeInfo||!this.timeInfo.trackIdField)throw new s(\"feature-store:unsupported-query\",\"Missing timeInfo or timeInfo.trackIdField\",{query:t,timeInfo:this.timeInfo});let r,a=e(t);try{a=await this._schedule((()=>A(a,this.definitionExpression,this.spatialReference)),i),a=await this._reschedule((()=>this._checkQuerySupport(a)),i),r=await this._reschedule((()=>this._executeGeometryQuery(a,i)),i),r=await this._reschedule((()=>r.executeAggregateIdsQuery(a)),i),r=await this._reschedule((()=>r.executeObjectIdsQuery(a)),i),r=await this._reschedule((()=>r.executeTimeQuery(a)),i),r=await this._reschedule((()=>r.executeAttributesQuery(a)),i),r=await this._reschedule((()=>r.filterLatest()),i)}catch(e){if(e!==E)throw e;r=new z([],null,this)}return r.createQueryResponse(a)}async _schedule(e,t){return this._frameQueue?this._frameQueue.push(e,t):e()}async _reschedule(e,t){return this._frameQueue?this._frameQueue.unshift(e,t):e()}_update(e){for(this._budget=e;!e.done&&this._frameQueue&&this._frameQueue.process();)e.madeProgress();this._budget=null}_getAll(){if(!this._allItems){const e=[];this.featureStore.forEach((t=>e.push(t))),this._allItems=new z(e,null,this)}return this._allItems}async _executeGeometryQuery(e,s){const{geometry:i,outSR:u,spatialRel:n}=e,o=r(u)&&!a(this.spatialReference,u),h=this._geometryQueryCache?o?JSON.stringify({geometry:i,spatialRelationship:n,outSpatialReference:u}):JSON.stringify({geometry:i,spatialRelationship:n}):null;if(h){const e=this._geometryQueryCache.get(h);if(!t(e))return e}const c=async t=>{if(o&&(e.returnGeometry||e.returnCentroid)){const e=await t.project(u);return h&&this._geometryQueryCache.put(h,e,e.size||1),e}return h&&this._geometryQueryCache.put(h,t,t.size||1),t};if(!i)return c(this._getAll());const l=this.featureAdapter;if(\"esriSpatialRelDisjoint\"===n){const e=this._searchFeatures(this._getQueryBBoxes(i));if(!e.length)return c(this._getAll());let t,r;const a=new Set;for(const t of e)a.add(l.getObjectId(t));await this._reschedule((()=>{let e=0;t=new Array(a.size),this.featureStore.forEach((s=>t[e++]=s)),r=a}),s);return c(await this._reschedule((async()=>{const e=await C(n,i,this.geometryType,this.hasZ,this.hasM);return new z(await this._runSpatialFilter(t,(t=>!r.has(l.getObjectId(t))||e(l.getGeometry(t))),s),i,this)}),s))}const d=this._searchFeatures(this._getQueryBBoxes(i));if(!d.length){const e=new z([],i,this);return h&&this._geometryQueryCache.put(h,e,e.size||1),e}if(this._canExecuteSoloPass(i,e))return c(new z(d,i,this));const f=await C(n,i,this.geometryType,this.hasZ,this.hasM),m=await this._runSpatialFilter(d,(e=>f(l.getGeometry(e))),s);return c(new z(m,i,this))}async _runSpatialFilter(e,t,s){if(!t)return e;if(!this._budget)return e.filter((e=>t(e)));let i=0;const r=new Array,a=async()=>{for(;i<e.length;){const u=e[i];t(u)&&r.push(u),this._budget.done&&await this._reschedule((()=>a()),s),++i}};return this._reschedule((()=>a()),s).then((()=>r))}_canExecuteSoloPass(e,t){const{geometryType:s}=this,{spatialRel:i}=t;return k(e)&&(\"esriSpatialRelEnvelopeIntersects\"===i||\"esriGeometryPoint\"===s&&(\"esriSpatialRelIntersects\"===i||\"esriSpatialRelContains\"===i||\"esriSpatialRelWithin\"===i))}_getQueryBBoxes(e){if(k(e)){if(n(e))return[c(e.xmin,e.ymin,e.xmax,e.ymax)];if(o(e))return e.rings.map((e=>c(Math.min(e[0][0],e[2][0]),Math.min(e[0][1],e[2][1]),Math.max(e[0][0],e[2][0]),Math.max(e[0][1],e[2][1]))))}return[u(l(),e)]}_searchFeatures(e){for(const t of e)this.featureStore.forEachInBounds(t,(e=>{q.add(e)}));const t=new Array(q.size);let s=0;return q.forEach((e=>t[s++]=e)),q.clear(),t}async _checkQuerySupport(e){if(e.distance<0||null!=e.geometryPrecision||e.multipatchOption||e.pixelSize||e.relationParam||e.text)throw new s(\"feature-store:unsupported-query\",\"Unsupported query options\",{query:e});return i([this._checkAttributesQuerySupport(e),this._checkStatisticsQuerySupport(e),T(e,this.geometryType,this.spatialReference),S(this.spatialReference,e.outSR)]).then((()=>e))}_checkAttributesQuerySupport(e){const{outFields:t,orderByFields:i,returnDistinctValues:r,outStatistics:a}=e,u=a?a.map((e=>e.outStatisticFieldName&&e.outStatisticFieldName.toLowerCase())):[];if(i&&i.length>0){const e=\" asc\",t=\" desc\",s=i.map((s=>{const i=s.toLowerCase();return i.indexOf(e)>-1?i.split(e)[0]:i.indexOf(t)>-1?i.split(t)[0]:s})).filter((e=>-1===u.indexOf(e)));I(this.fieldsIndex,s,\"orderByFields contains missing fields\")}if(t&&t.length>0)I(this.fieldsIndex,t,\"outFields contains missing fields\");else if(r)throw new s(\"feature-store:unsupported-query\",\"outFields should be specified for returnDistinctValues\",{query:e});R(this.fieldsIndex,e.where)}async _checkStatisticsQuerySupport(e){const{outStatistics:t,groupByFieldsForStatistics:i,having:r}=e,a=i&&i.length,u=t&&t.length;if(r){if(!a||!u)throw new s(\"feature-store:unsupported-query\",\"outStatistics and groupByFieldsForStatistics should be specified with having\",{query:e});F(this.fieldsIndex,r,t)}if(u){if(!function(e){return e.every((e=>\"exceedslimit\"!==e.statisticType))}(t))return;const r=t.map((e=>e.onStatisticField));I(this.fieldsIndex,r,\"onStatisticFields contains missing fields\"),a&&I(this.fieldsIndex,i,\"groupByFieldsForStatistics contains missing fields\");for(const i of t){const{onStatisticField:t,statisticType:r}=i;if((\"percentile_disc\"===r||\"percentile_cont\"===r)&&\"statisticParameters\"in i){const{statisticParameters:t}=i;if(!t)throw new s(\"feature-store:unsupported-query\",\"statisticParamters should be set for percentile type\",{definition:i,query:e})}else if(\"count\"!==r&&t&&j(t,this.fieldsIndex))throw new s(\"feature-store:unsupported-query\",\"outStatistics contains non-numeric fields\",{definition:i,query:e})}}}}export{O as Feature};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nconst t={supportsStatistics:!0,supportsPercentileStatistics:!0,supportsCentroid:!0,supportsCacheHint:!1,supportsDistance:!0,supportsDistinct:!0,supportsExtent:!0,supportsGeometryProperties:!1,supportsHavingClause:!0,supportsOrderBy:!0,supportsPagination:!0,supportsQuantization:!0,supportsQuantizationEditMode:!1,supportsQueryGeometry:!0,supportsResultType:!1,supportsSqlExpression:!0,supportsMaxRecordCountFactor:!1,supportsStandardizedQueriesOnly:!0,supportsQueryByOthers:!0,supportsHistoricMoment:!1,supportsFormatPBF:!1,supportsDisjointSpatialRelationship:!0,maxRecordCountFactor:void 0,maxRecordCount:void 0,standardMaxRecordCount:void 0,tileMaxRecordCount:void 0};export{t as queryCapabilities};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nfunction t(t,n){if(!t)return null;const e=n.featureAdapter,{startTimeField:u,endTimeField:r}=t;let l=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;if(u&&r)n.forEach((t=>{const n=e.getAttribute(t,u),o=e.getAttribute(t,r);null==n||isNaN(n)||(l=Math.min(l,n)),null==o||isNaN(o)||(i=Math.max(i,o))}));else{const t=u||r;n.forEach((n=>{const u=e.getAttribute(n,t);null==u||isNaN(u)||(l=Math.min(l,u),i=Math.max(i,u))}))}return{start:l,end:i}}function n(t,n,e){if(!n||!t)return null;const{startTimeField:u,endTimeField:r}=t;if(!u&&!r)return null;const{start:l,end:i}=n;return null===l&&null===i?null:void 0===l&&void 0===i?()=>!1:u&&r?function(t,n,e,u,r){if(null!=u&&null!=r)return l=>{const i=t.getAttribute(l,n),o=t.getAttribute(l,e);return(null==i||i<=r)&&(null==o||o>=u)};if(null!=u)return n=>{const r=t.getAttribute(n,e);return null==r||r>=u};if(null!=r)return e=>{const u=t.getAttribute(e,n);return null==u||u<=r};return}(e,u,r,l,i):function(t,n,e,u){if(null!=e&&null!=u&&e===u)return u=>t.getAttribute(u,n)===e;if(null!=e&&null!=u)return r=>{const l=t.getAttribute(r,n);return l>=e&&l<=u};if(null!=e)return u=>t.getAttribute(u,n)>=e;if(null!=u)return e=>t.getAttribute(e,n)<=u;return}(e,u||r,l,i)}export{t as getTimeExtent,n as getTimeOperator};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport t from\"../../../../core/has.js\";import{clone as r}from\"../../../../core/lang.js\";import{defaultPointSymbolJSON as e,defaultPolylineSymbolJSON as n,defaultPolygonSymbolJSON as o}from\"../../../../symbols/support/defaultsJSON.js\";function i(t){return{renderer:{type:\"simple\",symbol:\"esriGeometryPoint\"===t||\"esriGeometryMultipoint\"===t?e:\"esriGeometryPolyline\"===t?n:o}}}function s(r,e){if(t(\"csp-restrictions\"))return()=>({[e]:null,...r});try{let t=`this.${e} = null;`;for(const e in r){t+=`this${e.indexOf(\".\")?`[\"${e}\"]`:`.${e}`} = ${JSON.stringify(r[e])};`}const n=new Function(t);return()=>new n}catch(t){return()=>({[e]:null,...r})}}function u(t={}){return[{name:\"New Feature\",description:\"\",prototype:{attributes:r(t)}}]}export{s as createDefaultAttributesFunction,u as createDefaultTemplate,i as createDrawingInfo};\n"],"sourceRoot":""}