{"version":3,"sources":["webpack://imaps/./node_modules/@arcgis/core/webdoc/support/saveUtils.js","webpack://imaps/./node_modules/@arcgis/core/layers/mixins/SceneService.js","webpack://imaps/./node_modules/@arcgis/core/layers/support/FetchAssociatedFeatureLayer.js","webpack://imaps/./node_modules/@arcgis/core/layers/support/I3SLayerDefinitions.js","webpack://imaps/./node_modules/@arcgis/core/layers/support/capabilities.js","webpack://imaps/./node_modules/@arcgis/core/portal/support/resourceUtils.js"],"names":["async","s","a","u","resources","h","portalItem","Set","paths","length","i","toKeep","map","r","resource","path","f","m","forEach","delete","push","toUpdate","has","o","content","t","finish","error","p","n","add","toAdd","e","resourceFromPath","removeResource","catch","l","d","filter","errors","addResource","ok","update","O","T","super","arguments","this","spatialReference","fullExtent","heightModelInfo","minScale","maxScale","version","major","Number","NaN","minor","versionString","copyright","sublayerTitleMode","title","layerId","_debouncedSaveOperations","_save","_saveAs","_readSpatialReference","store","indexCRS","geographicCRS","parseInt","substring","lastIndexOf","extent","Array","isArray","some","U","xmin","ymin","xmax","ymax","toString","split","url","name","_set","_get","_updateExtentFromRootPage","_fetchRootPage","_updateExtentFromRootNode","_fetchRootNode","Math","floor","rootIndex","nodesPerPage","parsedUrl","responseType","signal","data","nodes","obb","center","halfSize","sqrt","zmin","zmax","hasZ","mbs","rootNode","query","test","_fetchFirstLayerId","_fetchServiceLayer","layers","id","ssl","replace","read","origin","validateLayer","load","beforeSave","typeKeywords","getTypeKeywords","indexOf","A","clone","portal","_ensureLoadBeforeSave","type","P","messages","writtenProperties","blockedRelativeUrls","pendingOperations","write","_validateAgainstJSONSchema","_updateTypeKeywords","_signIn","user","addItem","item","folder","resourceReferences","itemUrl","message","details","validationOptions","ignoreUnsupported","enabled","E","validate","portalItemLayerType","join","failPolicy","concat","combined","json","origins","service","prototype","readOnly","source","String","target","isRequired","ignoreOrigin","dependsOn","c","rootDocument","match","urlParts","root","portalItemFromServiceItemId","loadFromUrl","findAndLoadRelatedPortalItem","loadFeatureLayerFromPortalItem","authMode","findServerInfo","owningSystemUrl","fetchRelatedItems","relationshipType","direction","find","findMatchingAssociatedSublayerUrl","fetchRootDocument","Error","min","serviceItemId","fetchServiceOwningPortalUrl","lodSelectionMetricType","factor","baseColorFactor","baseColorTexture","metallicRoughnessTexture","metallicFactor","roughnessFactor","alphaMode","alphaCutoff","doubleSided","cullFace","normalTexture","occlusionTexture","emissiveTexture","emissiveFactor","pbrMetallicRoughness","opaque","mask","blend","Boolean","none","back","front","reader","index","jpg","png","dds","atlas","y","Float32","UInt64","UInt32","UInt16","UInt8","draco","offset","triangle","attachment","supportsContentType","supportsExifInfo","supportsKeywords","supportsName","supportsSize","isVersioned","supportsAttachment","supportsM","supportsZ","editing","supportsDeleteByAnonymous","supportsDeleteByOthers","supportsGeometryUpdate","supportsGlobalId","supportsRollbackOnFailure","supportsUpdateByAnonymous","supportsUpdateByOthers","supportsUpdateWithoutM","supportsUploadWithItemId","metadata","supportsAdvancedFieldProperties","operations","supportsCalculate","supportsTruncate","supportsValidateSql","supportsAdd","supportsDelete","supportsEditing","supportsChangeTracking","supportsQuery","supportsQueryAttachments","supportsResizeAttachments","supportsSync","supportsUpdate","supportsExceedsLimitStatistics","queryRelated","supportsCount","supportsOrderBy","supportsPagination","maxRecordCount","maxRecordCountFactor","standardMaxRecordCount","supportsCacheHint","supportsCentroid","supportsDisjointSpatialRelationship","supportsDistance","supportsDistinct","supportsExtent","supportsFormatPBF","supportsGeometryProperties","supportsHavingClause","supportsHistoricMoment","supportsMaxRecordCountFactor","supportsPercentileStatistics","supportsQuantization","supportsQuantizationEditMode","supportsQueryByOthers","supportsQueryGeometry","supportsResultType","supportsSqlExpression","supportsStandardizedQueriesOnly","supportsStatistics","tileMaxRecordCount","start","num","sortOrder","sortField","_request","total","nextStart","created","size","Date","hasPath","userItemUrl","FormData","append","access","method","body","deleteAll","slice","Blob"],"mappings":"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","file":"chunks/8201.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport r from\"../../core/Error.js\";import{generateUUID as e}from\"../../core/uuid.js\";import{eachAlways as o,throwIfAborted as t}from\"../../core/promiseUtils.js\";import{result as s}from\"../../core/asyncUtils.js\";import{getSiblingOfSameTypeI as c}from\"../../portal/support/resourceUtils.js\";async function a(s,a,u){if(!a||!a.resources)return;const h=a.portalItem===s.portalItem?new Set(s.paths):new Set;s.paths.length=0,s.portalItem=a.portalItem;const i=new Set(a.resources.toKeep.map((r=>r.resource.path))),f=new Set,m=[];i.forEach((r=>{h.delete(r),s.paths.push(r)}));for(const r of a.resources.toUpdate)if(h.delete(r.resource.path),i.has(r.resource.path)||f.has(r.resource.path)){const{resource:o,content:t,finish:a,error:p}=r,h=c(o,e());s.paths.push(h.path),m.push(n({resource:h,content:t,finish:a,error:p},u))}else s.paths.push(r.resource.path),m.push(p(r,u)),f.add(r.resource.path);for(const r of a.resources.toAdd)m.push(n(r,u)),s.paths.push(r.resource.path);if(h.forEach((r=>{const e=a.portalItem.resourceFromPath(r);m.push(e.portalItem.removeResource(e).catch((()=>{})))})),0===m.length)return;const l=await o(m);t(u);const d=l.filter((r=>\"error\"in r)).map((r=>r.error));if(d.length>0)throw new r(\"save:resources\",\"Failed to save one or more resources\",{errors:d})}async function n(r,e){const o=await s(r.resource.portalItem.addResource(r.resource,r.content,e));if(!0!==o.ok)throw r.error&&r.error(o.error),o.error;r.finish&&r.finish(r.resource)}async function p(r,e){const o=await s(r.resource.update(r.content,e));if(!0!==o.ok)throw r.error(o.error),o.error;r.finish(r.resource)}export{a as saveResources};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import{isSome as t}from\"../../core/maybe.js\";import r from\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import{reader as i}from\"../../core/accessorSupport/decorators/reader.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";import{writer as a}from\"../../core/accessorSupport/decorators/writer.js\";import n from\"../../core/Error.js\";import{urlToObject as l,join as p}from\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import{debounce as d,reject as c,all as u}from\"../../core/promiseUtils.js\";import m from\"../../geometry/SpatialReference.js\";import y from\"../../geometry/Extent.js\";import h from\"../../request.js\";import f from\"../../portal/Portal.js\";import v from\"../../portal/PortalItem.js\";import{updateOrigins as g}from\"../../core/accessorSupport/originUtils.js\";import{titleFromUrlAndName as w,parse as S,cleanTitle as I,sanitizeUrlWithLayerId as x,writeUrlWithLayerId as b,isArcGISUrl as j}from\"../support/arcgisLayerUrl.js\";import _ from\"../../geometry/HeightModelInfo.js\";import{saveResources as R}from\"../../webdoc/support/saveUtils.js\";import{url as N}from\"../support/commonProperties.js\";const O=r.getLogger(\"esri.layers.mixins.SceneService\"),T=r=>{let T=class extends r{constructor(){super(...arguments),this.spatialReference=null,this.fullExtent=null,this.heightModelInfo=null,this.minScale=0,this.maxScale=0,this.version={major:Number.NaN,minor:Number.NaN,versionString:\"\"},this.copyright=null,this.sublayerTitleMode=\"item-title\",this.title=null,this.layerId=null,this._debouncedSaveOperations=d((async(e,t,r)=>{switch(e){case 0:return this._save(t);case 1:return this._saveAs(r,t)}}))}readSpatialReference(e,t){return this._readSpatialReference(t)}_readSpatialReference(e){if(null!=e.spatialReference)return m.fromJSON(e.spatialReference);{const t=e.store,r=t.indexCRS||t.geographicCRS,o=r&&parseInt(r.substring(r.lastIndexOf(\"/\")+1,r.length),10);return null!=o?new m(o):null}}readFullExtent(e,t){const r=t.store,o=this._readSpatialReference(t);return null==o||null==r||null==r.extent||!Array.isArray(r.extent)||r.extent.some((e=>e<U))?null:new y({xmin:r.extent[0],ymin:r.extent[1],xmax:r.extent[2],ymax:r.extent[3],spatialReference:o})}readVersion(e,t){const r=t.store,o=null!=r.version?r.version.toString():\"\",i={major:Number.NaN,minor:Number.NaN,versionString:o},s=o.split(\".\");return s.length>=2&&(i.major=parseInt(s[0],10),i.minor=parseInt(s[1],10)),i}readTitlePortalItem(e){return\"item-title\"!==this.sublayerTitleMode?void 0:e}readTitleService(e,r){const o=this.portalItem&&this.portalItem.title;if(\"item-title\"===this.sublayerTitleMode)return w(this.url,r.name);let i=r.name;if(!i&&this.url){const e=S(this.url);t(e)&&(i=e.title)}return\"item-title-and-service-name\"===this.sublayerTitleMode&&o&&(i=o+\" - \"+i),I(i)}set url(e){const t=x(this,e,O);this._set(\"url\",t.url),null!=t.layerId&&this._set(\"layerId\",t.layerId)}writeUrl(e,t,r,o){b(this,e,\"layers\",t,o)}get parsedUrl(){const e=this._get(\"url\");if(!e)return null;const t=l(e);return null!=this.layerId&&j(t.path)&&(t.path=`${t.path}/layers/${this.layerId}`),t}async _verifyRootNodeAndUpdateExtent(e,t){if(e)try{return this._updateExtentFromRootPage(e,await this._fetchRootPage(e,t))}catch(e){}return this._updateExtentFromRootNode(await this._fetchRootNode(t))}async _fetchRootPage(e,t){if(!e)return c();const r=Math.floor(e.rootIndex/e.nodesPerPage),o=`${this.parsedUrl.path}/nodepages/${r}`;return(await h(o,{responseType:\"json\",signal:t})).data}_updateExtentFromRootPage(e,t){if(null==t||null==t.nodes)throw new n(\"sceneservice:invalid-node-page\",\"Inavlid node page.\");const r=t.nodes[e.rootIndex%e.nodesPerPage];if(null==r||null==r.obb||null==r.obb.center||null==r.obb.halfSize)throw new n(\"sceneservice:invalid-node-page\",\"Inavlid node page.\");if(r.obb.center[0]<U)return;const o=r.obb.halfSize,i=r.obb.center[2],s=Math.sqrt(o[0]*o[0]+o[1]*o[1]+o[2]*o[2]);this.fullExtent.zmin=i-s,this.fullExtent.zmax=i+s}_updateExtentFromRootNode(e){if(null==e||null==this.fullExtent||this.fullExtent.hasZ)return;if(!Array.isArray(e.mbs)||4!==e.mbs.length||e.mbs[0]<U)return;const t=e.mbs[2],r=e.mbs[3];this.fullExtent.zmin=t-r,this.fullExtent.zmax=t+r}async _fetchRootNode(e){if(!this.rootNode)return;const t=p(this.parsedUrl.path,this.rootNode);try{return(await h(t,{query:{f:\"json\"},responseType:\"json\",signal:e})).data}catch(e){throw new n(\"sceneservice:root-node-missing\",\"Root node missing.\",{error:e,url:t})}}async _fetchService(e){if(null==this.layerId&&/SceneServer\\/*$/i.test(this.url)){const t=await this._fetchFirstLayerId(e);null!=t&&(this.layerId=t)}return this._fetchServiceLayer(e)}async _fetchFirstLayerId(e){const t=await h(this.url,{query:{f:\"json\"},responseType:\"json\",signal:e});if(t.data&&Array.isArray(t.data.layers)&&t.data.layers.length>0)return t.data.layers[0].id}async _fetchServiceLayer(e){const t=await h(this.parsedUrl.path,{query:{f:\"json\"},responseType:\"json\",signal:e});t.ssl&&(this.url=this.url.replace(/^http:/i,\"https:\"));const r=t.data;this.read(r,{origin:\"service\",url:this.parsedUrl}),this.validateLayer(r)}async _ensureLoadBeforeSave(){await this.load(),\"beforeSave\"in this&&\"function\"==typeof this.beforeSave&&await this.beforeSave()}validateLayer(e){}_updateTypeKeywords(e,t,r){e.typeKeywords||(e.typeKeywords=[]);const o=t.getTypeKeywords();for(const t of o)e.typeKeywords.push(t);e.typeKeywords&&(e.typeKeywords=e.typeKeywords.filter(((e,t,r)=>r.indexOf(e)===t)),1===r&&(e.typeKeywords=e.typeKeywords.filter((e=>\"Hosted Service\"!==e))))}async _saveAs(e,t){const r={...A,...t};let o=v.from(e);o||(O.error(\"_saveAs(): requires a portal item parameter\"),await c(new n(\"sceneservice:portal-item-required\",\"_saveAs() requires a portal item to save to\"))),o.id&&(o=o.clone(),o.id=null);const i=o.portal||f.getDefault();await this._ensureLoadBeforeSave(),o.type=P,o.portal=i;const s={origin:\"portal-item\",url:null,messages:[],portal:i,portalItem:o,writtenProperties:[],blockedRelativeUrls:[],resources:{toAdd:[],toUpdate:[],toKeep:[],pendingOperations:[]}},a={layers:[this.write(null,s)]};return await u(s.resources.pendingOperations),await this._validateAgainstJSONSchema(a,s,r),o.url=this.url,o.title||(o.title=this.title),this._updateTypeKeywords(o,r,1),await i._signIn(),await i.user.addItem({item:o,folder:r&&r.folder,data:a}),await R(this.resourceReferences,s,null),this.portalItem=o,g(s),s.portalItem=o,o}async _save(e){const t={...A,...e};this.portalItem||(O.error(\"_save(): requires the .portalItem property to be set\"),await c(new n(\"sceneservice:portal-item-not-set\",\"Portal item to save to has not been set on this SceneService\"))),this.portalItem.type!==P&&(O.error(\"_save(): Non-matching portal item type. Got \"+this.portalItem.type+\", expected \"+P),await c(new n(\"sceneservice:portal-item-wrong-type\",`Portal item needs to have type \"${P}\"`))),await this._ensureLoadBeforeSave();const r={origin:\"portal-item\",url:this.portalItem.itemUrl&&l(this.portalItem.itemUrl),messages:[],portal:this.portalItem.portal||f.getDefault(),portalItem:this.portalItem,writtenProperties:[],blockedRelativeUrls:[],resources:{toAdd:[],toUpdate:[],toKeep:[],pendingOperations:[]}},o={layers:[this.write(null,r)]};return await u(r.resources.pendingOperations),await this._validateAgainstJSONSchema(o,r,t),this.portalItem.url=this.url,this.portalItem.title||(this.portalItem.title=this.title),this._updateTypeKeywords(this.portalItem,t,0),await this.portalItem.update({data:o}),await R(this.resourceReferences,r,null),g(r),this.portalItem}async _validateAgainstJSONSchema(e,t,r){let o=t.messages.filter((e=>\"error\"===e.type)).map((e=>new n(e.name,e.message,e.details)));if(r&&r.validationOptions.ignoreUnsupported&&(o=o.filter((e=>\"layer:unsupported\"!==e.name&&\"symbol:unsupported\"!==e.name&&\"symbol-layer:unsupported\"!==e.name&&\"property:unsupported\"!==e.name&&\"url:unsupported\"!==e.name&&\"scenemodification:unsupported\"!==e.name))),r.validationOptions.enabled||E){const t=(await import(\"../support/schemaValidator.js\")).validate(e,r.portalItemLayerType);if(t.length>0){const e=`Layer item did not validate:\\n${t.join(\"\\n\")}`;if(O.error(`_validateAgainstJSONSchema(): ${e}`),\"throw\"===r.validationOptions.failPolicy){const e=t.map((e=>new n(\"sceneservice:schema-validation\",e))).concat(o);throw new n(\"sceneservice-validate:error\",\"Failed to save layer item due to schema validation, see `details.errors`.\",{combined:e})}}}if(o.length>0)throw new n(\"sceneservice:save\",\"Failed to save SceneService due to unsupported or invalid content. See 'details.errors' for more detailed information\",{errors:o})}};return e([o({json:{origins:{service:{read:!1},\"portal-item\":{read:!1}}}})],T.prototype,\"id\",void 0),e([o({type:m})],T.prototype,\"spatialReference\",void 0),e([i(\"spatialReference\",[\"spatialReference\",\"store.indexCRS\",\"store.geographicCRS\"])],T.prototype,\"readSpatialReference\",null),e([o({type:y})],T.prototype,\"fullExtent\",void 0),e([i(\"fullExtent\",[\"store.extent\",\"spatialReference\",\"store.indexCRS\",\"store.geographicCRS\"])],T.prototype,\"readFullExtent\",null),e([o({readOnly:!0,type:_})],T.prototype,\"heightModelInfo\",void 0),e([o({type:Number,json:{name:\"layerDefinition.minScale\",write:!0,origins:{service:{read:{source:\"minScale\"},write:!1}}}})],T.prototype,\"minScale\",void 0),e([o({type:Number,json:{name:\"layerDefinition.maxScale\",write:!0,origins:{service:{read:{source:\"maxScale\"},write:!1}}}})],T.prototype,\"maxScale\",void 0),e([o({readOnly:!0})],T.prototype,\"version\",void 0),e([i(\"version\",[\"store.version\"])],T.prototype,\"readVersion\",null),e([o({type:String,json:{read:{source:\"copyrightText\"}}})],T.prototype,\"copyright\",void 0),e([o({type:String,json:{read:!1}})],T.prototype,\"sublayerTitleMode\",void 0),e([o({type:String})],T.prototype,\"title\",void 0),e([i(\"portal-item\",\"title\")],T.prototype,\"readTitlePortalItem\",null),e([i(\"service\",\"title\",[\"name\"])],T.prototype,\"readTitleService\",null),e([o({type:Number,json:{origins:{service:{read:{source:\"id\"}},\"portal-item\":{write:{target:\"id\",isRequired:!0,ignoreOrigin:!0},read:!1}}}})],T.prototype,\"layerId\",void 0),e([o(N)],T.prototype,\"url\",null),e([a(\"url\")],T.prototype,\"writeUrl\",null),e([o({dependsOn:[\"layerId\"]})],T.prototype,\"parsedUrl\",null),e([o({readOnly:!0})],T.prototype,\"store\",void 0),e([o({type:String,readOnly:!0,json:{read:{source:\"store.rootNode\"}}})],T.prototype,\"rootNode\",void 0),T=e([s(\"esri.layers.mixins.SceneService\")],T),T},U=-1e38,E=!1,P=\"Scene Service\",A={getTypeKeywords:()=>[],portalItemLayerType:\"unknown\",validationOptions:{enabled:!0,ignoreUnsupported:!1,failPolicy:\"throw\"}};export{P as SCENE_SERVICE_ITEM_TYPE,T as SceneService};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{isNone as t,isSome as r}from\"../../core/maybe.js\";import{throwIfAbortError as e,all as a}from\"../../core/promiseUtils.js\";import{id as o}from\"../../kernel.js\";import s from\"../../request.js\";import n from\"../../portal/Portal.js\";import i from\"../../portal/PortalItem.js\";import l from\"../FeatureLayer.js\";class c{constructor(t,r,e){this.parsedUrl=t,this.portalItem=r,this.signal=e,this.rootDocument=null;const a=this.parsedUrl.path.match(/^(.*)\\/SceneServer\\/layers\\/([\\d]*)\\/?$/i);a&&(this.urlParts={root:a[1],layerId:parseInt(a[2],10)})}async fetch(){var r;if(!this.urlParts)return null;const e=null!=(r=this.portalItem)?r:await this.portalItemFromServiceItemId();if(t(e))return this.loadFromUrl();const a=await this.findAndLoadRelatedPortalItem(e);return t(a)?null:this.loadFeatureLayerFromPortalItem(a)}async fetchPortalItem(){var r;if(!this.urlParts)return null;const e=null!=(r=this.portalItem)?r:await this.portalItemFromServiceItemId();return t(e)?null:this.findAndLoadRelatedPortalItem(e)}async fetchRootDocument(){if(r(this.rootDocument))return this.rootDocument;if(t(this.urlParts))return this.rootDocument={},{};const e={query:{f:\"json\"},responseType:\"json\",authMode:\"no-prompt\",signal:this.signal},a=`${this.urlParts.root}/SceneServer`;try{const t=await s(a,e);this.rootDocument=t.data}catch{this.rootDocument={}}return this.rootDocument}async fetchServiceOwningPortalUrl(){var t;const r=null==(t=o)?void 0:t.findServerInfo(this.parsedUrl.path);if(null!=r&&r.owningSystemUrl)return r.owningSystemUrl;const a=this.parsedUrl.path.replace(/(.*\\/rest)\\/.*/i,\"$1\")+\"/info\";try{const t=(await s(a,{query:{f:\"json\"},responseType:\"json\",signal:this.signal})).data.owningSystemUrl;if(t)return t}catch(t){e(t)}return null}async findAndLoadRelatedPortalItem(t){try{return(await t.fetchRelatedItems({relationshipType:\"Service2Service\",direction:\"reverse\"},{signal:this.signal})).find((t=>\"Feature Service\"===t.type))||null}catch(t){return e(t),null}}async loadFeatureLayerFromPortalItem(t){await t.load({signal:this.signal});const r=await this.findMatchingAssociatedSublayerUrl(t.url);return new l({url:r,portalItem:t}).load({signal:this.signal})}async loadFromUrl(){const t=await this.findMatchingAssociatedSublayerUrl(`${this.urlParts.root}/FeatureServer`);return new l({url:t}).load({signal:this.signal})}async findMatchingAssociatedSublayerUrl(t){const r=t.replace(/^(.*FeatureServer)(\\/[\\d]*\\/?)?$/i,\"$1\"),e={query:{f:\"json\"},responseType:\"json\",authMode:\"no-prompt\",signal:this.signal},o=this.urlParts.layerId,n=this.fetchRootDocument(),i=s(r,e),[l,c]=await a([i,n]),u=c&&c.layers,h=l.data&&l.data.layers;if(!Array.isArray(h))throw new Error(\"expected layers array\");if(Array.isArray(u))for(let t=0;t<Math.min(u.length,h.length);t++){if(u[t].id===o)return`${r}/${h[t].id}`}else if(o<h.length)return`${r}/${h[o].id}`;throw new Error(\"could not find matching associated sublayer\")}async portalItemFromServiceItemId(){const t=(await this.fetchRootDocument()).serviceItemId;if(!t)return null;const a=new i({id:t}),o=await this.fetchServiceOwningPortalUrl();r(o)&&(a.portal=new n({url:o}));try{return a.load({signal:this.signal})}catch(t){return e(t),null}}}export{c as FetchAssociatedFeatureLayer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as t}from\"../../core/accessorSupport/decorators/property.js\";import{enumeration as o}from\"../../core/accessorSupport/decorators/enumeration.js\";import{subclass as r}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import{JSONSupport as p}from\"../../core/JSONSupport.js\";let s=class extends p{constructor(){super(...arguments),this.nodesPerPage=null,this.rootIndex=0,this.lodSelectionMetricType=null}};e([t({type:Number})],s.prototype,\"nodesPerPage\",void 0),e([t({type:Number})],s.prototype,\"rootIndex\",void 0),e([t({type:String})],s.prototype,\"lodSelectionMetricType\",void 0),s=e([r(\"esri.layer.support.I3SNodePageDefinition\")],s);let i=class extends p{constructor(){super(...arguments),this.factor=1}};e([t({type:Number,json:{read:{source:\"textureSetDefinitionId\"}}})],i.prototype,\"id\",void 0),e([t({type:Number})],i.prototype,\"factor\",void 0),i=e([r(\"esri.layer.support.I3SMaterialTexture\")],i);let l=class extends p{constructor(){super(...arguments),this.baseColorFactor=[1,1,1,1],this.baseColorTexture=null,this.metallicRoughnessTexture=null,this.metallicFactor=1,this.roughnessFactor=1}};e([t({type:[Number]})],l.prototype,\"baseColorFactor\",void 0),e([t({type:i})],l.prototype,\"baseColorTexture\",void 0),e([t({type:i})],l.prototype,\"metallicRoughnessTexture\",void 0),e([t({type:Number})],l.prototype,\"metallicFactor\",void 0),e([t({type:Number})],l.prototype,\"roughnessFactor\",void 0),l=e([r(\"esri.layer.support.I3SMaterialPBRMetallicRoughness\")],l);let a=class extends p{constructor(){super(...arguments),this.alphaMode=\"opaque\",this.alphaCutoff=.25,this.doubleSided=!1,this.cullFace=\"none\",this.normalTexture=null,this.occlusionTexture=null,this.emissiveTexture=null,this.emissiveFactor=null,this.pbrMetallicRoughness=null}};e([o({opaque:\"opaque\",mask:\"mask\",blend:\"blend\"})],a.prototype,\"alphaMode\",void 0),e([t({type:Number})],a.prototype,\"alphaCutoff\",void 0),e([t({type:Boolean})],a.prototype,\"doubleSided\",void 0),e([o({none:\"none\",back:\"back\",front:\"front\"})],a.prototype,\"cullFace\",void 0),e([t({type:i})],a.prototype,\"normalTexture\",void 0),e([t({type:i})],a.prototype,\"occlusionTexture\",void 0),e([t({type:i})],a.prototype,\"emissiveTexture\",void 0),e([t({type:[Number]})],a.prototype,\"emissiveFactor\",void 0),e([t({type:l})],a.prototype,\"pbrMetallicRoughness\",void 0),a=e([r(\"esri.layer.support.I3SMaterialDefinition\")],a);let n=class extends p{};e([t({type:String,json:{read:{source:[\"name\",\"index\"],reader:(e,t)=>null!=e?e:`${t.index}`}}})],n.prototype,\"name\",void 0),e([o({jpg:\"jpg\",png:\"png\",dds:\"dds\",\"ktx-etc2\":\"ktx-etc2\"})],n.prototype,\"format\",void 0),n=e([r(\"esri.layer.support.I3STextureFormat\")],n);let u=class extends p{constructor(){super(...arguments),this.atlas=!1}};e([t({type:[n]})],u.prototype,\"formats\",void 0),e([t({type:Boolean})],u.prototype,\"atlas\",void 0),u=e([r(\"esri.layer.support.I3STextureSetDefinition\")],u);let y=class extends p{};e([o({Float32:\"Float32\",UInt64:\"UInt64\",UInt32:\"UInt32\",UInt16:\"UInt16\",UInt8:\"UInt8\"})],y.prototype,\"type\",void 0),e([t({type:Number})],y.prototype,\"component\",void 0),y=e([r(\"esri.layer.support.I3SGeometryAttribute\")],y);let c=class extends p{};e([o({draco:\"draco\"})],c.prototype,\"encoding\",void 0),e([t({type:[String]})],c.prototype,\"attributes\",void 0),c=e([r(\"esri.layer.support.I3SGeometryCompressedAttributes\")],c);let d=class extends p{constructor(){super(...arguments),this.offset=0}};e([t({type:Number})],d.prototype,\"offset\",void 0),e([t({type:y})],d.prototype,\"position\",void 0),e([t({type:y})],d.prototype,\"normal\",void 0),e([t({type:y})],d.prototype,\"uv0\",void 0),e([t({type:y})],d.prototype,\"color\",void 0),e([t({type:y})],d.prototype,\"uvRegion\",void 0),e([t({type:y})],d.prototype,\"featureId\",void 0),e([t({type:y})],d.prototype,\"faceRange\",void 0),e([t({type:c})],d.prototype,\"compressedAttributes\",void 0),d=e([r(\"esri.layer.support.I3SGeometryBuffer\")],d);let m=class extends p{};e([o({triangle:\"triangle\"})],m.prototype,\"topology\",void 0),e([t()],m.prototype,\"geometryBuffers\",void 0),m=e([r(\"esri.layer.support.I3SGeometryDefinition\")],m);export{y as I3SGeometryAttribute,d as I3SGeometryBuffer,c as I3SGeometryCompressedAttributes,m as I3SGeometryDefinition,a as I3SMaterialDefinition,l as I3SMaterialPBRMetallicRoughness,i as I3SMaterialTexture,s as I3SNodePageDefinition,n as I3STextureFormat,u as I3STextureSetDefinition};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nconst s={attachment:{supportsContentType:!1,supportsExifInfo:!1,supportsKeywords:!1,supportsName:!1,supportsSize:!1},data:{isVersioned:!1,supportsAttachment:!1,supportsM:!1,supportsZ:!1},editing:{supportsDeleteByAnonymous:!1,supportsDeleteByOthers:!1,supportsGeometryUpdate:!1,supportsGlobalId:!1,supportsRollbackOnFailure:!1,supportsUpdateByAnonymous:!1,supportsUpdateByOthers:!1,supportsUpdateWithoutM:!1,supportsUploadWithItemId:!1},metadata:{supportsAdvancedFieldProperties:!1},operations:{supportsCalculate:!1,supportsTruncate:!1,supportsValidateSql:!1,supportsAdd:!1,supportsDelete:!1,supportsEditing:!1,supportsChangeTracking:!1,supportsQuery:!1,supportsQueryAttachments:!1,supportsResizeAttachments:!1,supportsSync:!1,supportsUpdate:!1,supportsExceedsLimitStatistics:!1},queryRelated:{supportsCount:!1,supportsOrderBy:!1,supportsPagination:!1},query:{maxRecordCount:0,maxRecordCountFactor:0,standardMaxRecordCount:0,supportsCacheHint:!1,supportsCentroid:!1,supportsDisjointSpatialRelationship:!1,supportsDistance:!1,supportsDistinct:!1,supportsExtent:!1,supportsFormatPBF:!1,supportsGeometryProperties:!1,supportsHavingClause:!1,supportsHistoricMoment:!1,supportsMaxRecordCountFactor:!1,supportsOrderBy:!1,supportsPagination:!1,supportsPercentileStatistics:!1,supportsQuantization:!1,supportsQuantizationEditMode:!1,supportsQueryByOthers:!1,supportsQueryGeometry:!1,supportsResultType:!1,supportsSqlExpression:!1,supportsStandardizedQueriesOnly:!1,supportsStatistics:!1,tileMaxRecordCount:0}};export{s as zeroCapabilities};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{get as e,isSome as t,isNone as r}from\"../../core/maybe.js\";import a from\"../../core/Error.js\";import{join as o,getPathExtension as s}from\"../../core/urlUtils.js\";import n from\"../../request.js\";async function u(t,r={},a){await t.load(a);const s=o(t.itemUrl,\"resources\"),{start:n=1,num:u=10,sortOrder:c=\"asc\",sortField:i=\"created\"}=r,l={query:{start:n,num:u,sortOrder:c,sortField:i},signal:e(a,\"signal\")},p=await t.portal._request(s,l);return{total:p.total,nextStart:p.nextStart,resources:p.resources.map((({created:e,size:r,resource:a})=>({created:new Date(e),size:r,resource:t.resourceFromPath(a)})))}}async function c(r,s,n,u){if(!r.hasPath())throw new a(`portal-item-resource-${s}:invalid-path`,\"Resource does not have a valid path\");await r.portalItem.load(u);const c=o(r.portalItem.userItemUrl,\"add\"===s?\"addResources\":\"updateResources\"),[i,l]=p(r.path),m=await d(n),h=new FormData;return i&&\".\"!==i&&h.append(\"resourcesPrefix\",i),h.append(\"fileName\",l),h.append(\"file\",m,l),h.append(\"f\",\"json\"),t(u)&&u.access&&h.append(\"access\",u.access),await r.portalItem.portal._request(c,{method:\"post\",body:h,signal:e(u,\"signal\")}),r}async function i(t,r,s){if(!r.hasPath())throw new a(\"portal-item-resources-remove:invalid-path\",\"Resource does not have a valid path\");await t.load(s);const n=o(t.userItemUrl,\"removeResources\");await t.portal._request(n,{method:\"post\",query:{resource:r.path},signal:e(s,\"signal\")}),r.portalItem=null}async function l(t,r){await t.load(r);const a=o(t.userItemUrl,\"removeResources\");return t.portal._request(a,{method:\"post\",query:{deleteAll:!0},signal:e(r,\"signal\")})}function p(e){const t=e.lastIndexOf(\"/\");return-1===t?[\".\",e]:[e.slice(0,t),e.slice(t+1)]}function m(e){const[t,a]=function(e){const t=s(e);if(r(t))return[e,\"\"];return[e.slice(0,e.length-t.length-1),`.${t}`]}(e),[o,n]=p(t);return[o,n,a]}async function d(e){if(e instanceof Blob)return e;return(await n(e.url,{responseType:\"blob\"})).data}function h(e,t){if(!e.hasPath())return null;const[r,,a]=m(e.path);return e.portalItem.resourceFromPath(o(r,t+a))}function f(e,t){if(!e.hasPath())return null;const[r,,a]=m(e.path);return e.portalItem.resourceFromPath(o(r,t+a))}export{c as addOrUpdateResource,d as contentToBlob,u as fetchResources,h as getSiblingOfSameType,f as getSiblingOfSameTypeI,l as removeAllResources,i as removeResource,m as splitPrefixFileNameAndExtension};\n"],"sourceRoot":""}