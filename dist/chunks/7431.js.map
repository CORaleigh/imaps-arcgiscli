{"version":3,"sources":["webpack://imaps/./node_modules/@arcgis/core/renderers/support/clickToleranceUtils.js","webpack://imaps/./node_modules/@arcgis/core/geometry/support/rotate.js","webpack://imaps/./node_modules/@arcgis/core/views/draw/support/Box.js","webpack://imaps/./node_modules/@arcgis/core/views/draw/support/input/GraphicMoverEvents.js","webpack://imaps/./node_modules/@arcgis/core/views/draw/support/GraphicMover.js","webpack://imaps/./node_modules/@arcgis/core/views/draw/support/settings.js","webpack://imaps/./node_modules/@arcgis/core/views/interactive/GraphicManipulator.js","webpack://imaps/./node_modules/@arcgis/core/views/support/drapedUtils.js"],"names":["t","e","xoffset","Math","max","abs","yoffset","stops","length","n","r","s","size","renderer","event","pointerType","o","filter","type","map","maxSize","minSize","f","floor","visualVariables","symbol","uniqueValueInfos","forEach","classBreakInfos","i","slice","push","x","y","l","a","c","spatialReference","PI","m","cos","sin","p","u","center","rings","xmin","ymin","ymax","xmax","extent","paths","h","reverse","g","z","points","R","this","graphics","mover","dx","dy","M","I","C","angle","E","O","j","xScale","yScale","L","B","Y","centerIndicator","style","color","fill","default","outline","outlineColor","join","width","active","stagedColor","handles","vertex","hover","hoverSize","hoverColor","hoverOutlineColor","rotator","rotatorLine","line","N","super","_activeHandleGraphic","_graphicAttributes","esriSketchTool","_handles","_mover","_rotateGraphicOffset","_angleOfRotation","_rotateLineGraphic","_startInfo","_totalDx","_totalDy","_xScale","_yScale","callbacks","centerGraphic","backgroundGraphic","enableMovement","enableRotation","enableScaling","handleGraphics","layer","preserveAspectRatio","rotateGraphic","showCenterGraphic","view","_getBounds","Number","POSITIVE_INFINITY","NEGATIVE_INFINITY","min","_setup","add","_scaleGraphic","_updateGraphics","_updateRotateGraphic","_updateRotateLineGraphic","refresh","_resetGraphics","_reset","removeAll","get","_set","concat","includes","geometry","_emitMoveStopEvent","_emitScaleStopEvent","_emitRotateStopEvent","state","_setupGraphics","_setupMover","_resetGraphicStateVars","destroy","cursor","removeMany","remove","enableMoveAllGraphics","onGraphicClick","_onGraphicClickCallback","onGraphicMoveStart","_onGraphicMoveStartCallback","onGraphicMove","_onGraphicMoveCallback","onGraphicMoveStop","_onGraphicMoveStopCallback","onGraphicPointerOver","_onGraphicPointerOverCallback","onGraphicPointerOut","_onGraphicPointerOutCallback","_getBoxBounds","height","centerX","centerY","startX","startY","graphicInfos","_getGraphicInfos","box","rotate","_getGraphicInfo","viewEvent","stopPropagation","emit","symbols","graphic","_hideGraphicsBeforeUpdate","_getStartInfo","_emitRotateStartEvent","_emitScaleStartEvent","_emitMoveStartEvent","_emitScaleEvent","_rotateGraphic","_emitRotateEvent","_moveGraphic","_emitMoveEvent","_showGraphicsAfterUpdate","rotation","index","resolution","transform","d","indexOf","_updateX","_updateY","_","v","_updateBackgroundGraphic","b","S","w","k","_hasExtentGraphic","addMany","_updateHandleGraphics","_updateCenterGraphic","visible","_getCoordinates","_updateXY","some","onMoveStart","onMove","onMoveStop","onRotateStart","onRotate","onRotateStop","onScaleStart","onScale","onScaleStop","prototype","readOnly","dependsOn","value","allGraphics","totalDx","totalDy","defaultPrevented","_activeGraphic","_dragEvent","_hoverGraphic","_initialDragGeometry","_viewHandles","_manipulators","_setUpManipulators","on","_clickHandler","_doubleClickHandler","_pointerDownHandler","_pointerMoveHandler","_pointerUpHandler","_dragHandler","_keyDownHandler","reset","set","_findTargetGraphic","onGraphicDoubleClick","onGraphicPointerDown","onGraphicPointerUp","action","origin","key","MAX_VALUE","intersectionDistance","main","selected","selectedOutline","hoverOutline","secondary","secondaryOutline","transparent","stagedOutlineColor","midpoint","reshapeGraphics","transformGraphics","interactive","selectable","grabbable","dragging","events","_circleCollisionCache","_graphicSymbolChangedHandle","_originalSymbol","attachSymbolChanged","error","elevationInfo","offset","mode","_get","_updateGraphicSymbol","detachSymbolChanged","_resetGraphicSymbol","_intersectDistance2D","_intersectDistance3D","watch","focusedSymbol","_focused","originalPoint","equals","clone","mapPoint","radiusPx","G","toScreen","toMap","include","renderSpatialReference","camera","eye","constructOnly","nonNullable","overlayPixelSizeInMapUnits","basemapSpatialReference","intersects"],"mappings":"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","file":"chunks/7431.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nfunction t(t,e){return e?\"xoffset\"in e&&e.xoffset?Math.max(t,Math.abs(e.xoffset)):\"yoffset\"in e&&e.yoffset?Math.max(t,Math.abs(e.yoffset||0)):t:t}function e(t,e){return\"number\"==typeof t?t:t&&t.stops&&t.stops.length?function(t){let e=0,n=0;for(let r=0;r<t.length;r++){const s=t[r].size;\"number\"==typeof s&&(e+=s,n++)}return e/n}(t.stops):e}function n(n){const r=n&&n.renderer,s=\"touch\"===(n&&n.event&&n.event.pointerType)?9:6;if(!r)return s;const o=\"visualVariables\"in r?function(t,n){if(!n)return t;const r=n.filter((t=>\"size\"===t.type)).map((n=>{const{maxSize:r,minSize:s}=n;return(e(r,t)+e(s,t))/2}));let s=0;const o=r.length;if(0===o)return t;for(let t=0;t<o;t++)s+=r[t];const f=Math.floor(s/o);return Math.max(f,t)}(s,r.visualVariables):s;if(\"simple\"===r.type)return t(o,r.symbol);if(\"unique-value\"===r.type){let e=o;return r.uniqueValueInfos.forEach((n=>{e=t(e,n.symbol)})),e}if(\"class-breaks\"===r.type){let e=o;return r.classBreakInfos.forEach((n=>{e=t(e,n.symbol)})),e}return r.type,o}export{n as calculateTolerance};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport n from\"../Point.js\";import e from\"../Multipoint.js\";import t from\"../Polygon.js\";import r from\"../Polyline.js\";import\"../../geometry.js\";function i(n){let e=0,t=0;const r=n.length;let i,o=n[t];for(t=0;t<r-1;t++)i=n[t+1],e+=(i[0]-o[0])*(i[1]+o[1]),o=i;return e>=0}function o(n,e,t,r){const i=[];for(const o of n){const n=o.slice(0);i.push(n);const s=e*(o[0]-r.x)-t*(o[1]-r.y)+r.x,l=t*(o[0]-r.x)+e*(o[1]-r.y)+r.y;n[0]=s,n[1]=l}return i}function s(s,l,a){const c=s.spatialReference,f=l*Math.PI/180,m=Math.cos(f),x=Math.sin(f);var p,u;\"xmin\"in s&&(a=null!=(p=a)?p:s.center,s=new t({spatialReference:c,rings:[[[s.xmin,s.ymin],[s.xmin,s.ymax],[s.xmax,s.ymax],[s.xmax,s.ymin],[s.xmin,s.ymin]]]}));if(\"paths\"in s){var y;a=null!=(y=a)?y:s.extent.center;const n=[];for(const e of s.paths)n.push(o(e,m,x,a));return new r({spatialReference:c,paths:n})}if(\"rings\"in s){var h;a=null!=(h=a)?h:s.extent.center;const n=[];for(const e of s.rings){const t=i(e),r=o(e,m,x,a);i(r)!==t&&r.reverse(),n.push(r)}return new t({spatialReference:c,rings:n})}if(\"x\"in s){var g;a=null!=(g=a)?g:s;const e=new n({x:m*(s.x-a.x)-x*(s.y-a.y)+a.x,y:x*(s.x-a.x)+m*(s.y-a.y)+a.y,spatialReference:c});return null!=s.z&&(e.z=s.z),null!=s.m&&(e.m=s.m),e}return\"points\"in s?(a=null!=(u=a)?u:s.extent.center,new e({points:o(s.points,m,x,a),spatialReference:c})):null}export default s;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../chunks/tslib.es6.js\";import\"../../../core/has.js\";import{isSome as e}from\"../../../core/maybe.js\";import\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import{property as i}from\"../../../core/accessorSupport/decorators/property.js\";import{subclass as s}from\"../../../core/accessorSupport/decorators/subclass.js\";import\"../../../core/urlUtils.js\";import\"../../../core/uuid.js\";import\"../../../portal/support/resourceExtension.js\";import r from\"../../../geometry/Point.js\";import{geometryToCoordinates as a}from\"../../../geometry/support/coordsUtils.js\";import{getRingsOrPathsBounds as o}from\"../../../geometry/support/boundsUtils.js\";import h from\"../../../geometry/Polygon.js\";import c from\"../../../geometry/Polyline.js\";import\"../../../geometry.js\";import n from\"../../../core/Evented.js\";import l from\"../../../symbols/SimpleLineSymbol.js\";import p from\"../../../symbols/SimpleFillSymbol.js\";import d from\"../../../symbols/SimpleMarkerSymbol.js\";import m from\"../../../Graphic.js\";import u from\"../../../core/Handles.js\";import{whenOnce as g,pausable as _}from\"../../../core/watchUtils.js\";import{create as v}from\"../../../geometry/support/aaBoundingRect.js\";import{cloneMove as G,scale as y,getScaleRatio as f,getRotationAngle as b}from\"./drawUtils.js\";import{addUniqueLayer as S}from\"./layerUtils.js\";import w from\"../../../geometry/support/rotate.js\";import k from\"./GraphicMover.js\";import{settings as x}from\"./settings.js\";class R{constructor(t,e,i,s){this.graphics=t,this.mover=e,this.dx=i,this.dy=s,this.type=\"move-start\"}}class M{constructor(t,e,i,s){this.graphics=t,this.mover=e,this.dx=i,this.dy=s,this.type=\"move\"}}class I{constructor(t,e,i,s){this.graphics=t,this.mover=e,this.dx=i,this.dy=s,this.type=\"move-stop\"}}class C{constructor(t,e,i){this.graphics=t,this.mover=e,this.angle=i,this.type=\"rotate-start\"}}class E{constructor(t,e,i){this.graphics=t,this.mover=e,this.angle=i,this.type=\"rotate\"}}class O{constructor(t,e,i){this.graphics=t,this.mover=e,this.angle=i,this.type=\"rotate-stop\"}}class j{constructor(t,e,i,s){this.graphics=t,this.mover=e,this.xScale=i,this.yScale=s,this.type=\"scale-start\"}}class L{constructor(t,e,i,s){this.graphics=t,this.mover=e,this.xScale=i,this.yScale=s,this.type=\"scale\"}}class z{constructor(t,e,i,s){this.graphics=t,this.mover=e,this.xScale=i,this.yScale=s,this.type=\"scale-stop\"}}const B=x.transformGraphics,Y={centerIndicator:new d({style:\"cross\",size:B.center.size,color:B.center.color}),fill:{default:new p({color:B.fill.color,outline:{color:B.fill.outlineColor,join:\"round\",width:1}}),active:new p({color:B.fill.stagedColor,outline:{color:B.fill.outlineColor,join:\"round\",style:\"dash\",width:1}})},handles:{default:new d({style:\"square\",size:B.vertex.size,color:B.vertex.color,outline:{color:B.vertex.outlineColor,width:1}}),hover:new d({style:\"square\",size:B.vertex.hoverSize,color:B.vertex.hoverColor,outline:{color:B.vertex.hoverOutlineColor,width:1}})},rotator:{default:new d({style:\"circle\",size:B.vertex.size,color:B.vertex.color,outline:{color:B.vertex.outlineColor,width:1}}),hover:new d({style:\"circle\",size:B.vertex.hoverSize,color:B.vertex.hoverColor,outline:{color:B.vertex.hoverOutlineColor,width:1}})},rotatorLine:new l({color:B.line.color,width:1})};let N=class extends n.EventedAccessor{constructor(t){super(t),this._activeHandleGraphic=null,this._graphicAttributes={esriSketchTool:\"box\"},this._handles=new u,this._mover=null,this._rotateGraphicOffset=20,this._angleOfRotation=0,this._rotateLineGraphic=null,this._startInfo=null,this._totalDx=0,this._totalDy=0,this._xScale=1,this._yScale=1,this.type=\"box\",this.callbacks={onMoveStart(){},onMove(){},onMoveStop(){},onScaleStart(){},onScale(){},onScaleStop(){},onRotateStart(){},onRotate(){},onRotateStop(){},onGraphicClick(){}},this.centerGraphic=null,this.backgroundGraphic=null,this.enableMovement=!0,this.enableRotation=!0,this.enableScaling=!0,this.graphics=[],this.handleGraphics=[],this.layer=null,this.preserveAspectRatio=!1,this.rotateGraphic=null,this.showCenterGraphic=!0,this.view=null,this._getBounds=(()=>{const t=v();return(e,i)=>{e[0]=Number.POSITIVE_INFINITY,e[1]=Number.POSITIVE_INFINITY,e[2]=Number.NEGATIVE_INFINITY,e[3]=Number.NEGATIVE_INFINITY;for(const s of i){if(!s)continue;let i,r,h,c;if(\"point\"===s.type)i=h=s.x,r=c=s.y;else if(\"multipoint\"===s.type){const e=a(s);[i,r,h,c]=o(t,[e])}else if(\"extent\"===s.type)[i,r,h,c]=[s.xmin,s.ymin,s.xmax,s.ymax];else{const e=a(s);[i,r,h,c]=o(t,e)}e[0]=Math.min(i,e[0]),e[1]=Math.min(r,e[1]),e[2]=Math.max(h,e[2]),e[3]=Math.max(c,e[3])}return e}})()}initialize(){this._setup(),this._handles.add([g(this,\"view.ready\",(()=>{const{layer:t,view:e}=this;S(e,t)})),_(this,\"preserveAspectRatio\",(()=>{this._activeHandleGraphic&&(this._scaleGraphic(this._activeHandleGraphic),this._updateGraphics())})),_(this,\"view.scale\",(()=>{this._updateRotateGraphic(),this._updateRotateLineGraphic()})),_(this,\"graphics\",(()=>this.refresh())),_(this,\"layer\",((t,e)=>{e&&this._resetGraphics(e),this.refresh()}))])}destroy(){this._reset(),this._handles&&(this._handles.removeAll(),this._handles=null)}get state(){const t=!!this.get(\"view.ready\"),e=!(!this.get(\"graphics.length\")||!this.get(\"layer\"));return t&&e?\"active\":t?\"ready\":\"disabled\"}set symbols(t){const{centerIndicator:e=Y.centerIndicator,fill:i=Y.fill,handles:s=Y.handles,rotator:r=Y.rotator,rotatorLine:a=Y.rotatorLine}=t||{};this._set(\"symbols\",{centerIndicator:e,fill:i,handles:s,rotator:r,rotatorLine:a})}isUIGraphic(t){let e=[];return this.handleGraphics.length&&(e=e.concat(this.handleGraphics)),this.backgroundGraphic&&e.push(this.backgroundGraphic),this.centerGraphic&&e.push(this.centerGraphic),this.rotateGraphic&&e.push(this.rotateGraphic),this._rotateLineGraphic&&e.push(this._rotateLineGraphic),e.length&&e.includes(t)}move(t,e){if(this._mover&&this.graphics.length){for(const i of this.graphics){const s=i.geometry,r=G(s,t,e,this.view);i.geometry=r}this.refresh(),this._emitMoveStopEvent(t,e,null)}}scale(t,e){if(this._mover&&this.graphics.length){for(const i of this.graphics){const s=i.geometry,r=y(s,t,e);i.geometry=r}this.refresh(),this._emitScaleStopEvent(t,e,null)}}rotate(t,e){if(this._mover&&this.graphics.length){if(!e){const t=this.handleGraphics[1].geometry.x,i=this.handleGraphics[3].geometry.y;e=new r(t,i,this.view.spatialReference)}for(const i of this.graphics){const s=i.geometry,r=w(s,t,e);i.geometry=r}this.refresh(),this._emitRotateStopEvent(t,null)}}refresh(){this._reset(),this._setup()}reset(){this.graphics=[]}_setup(){\"active\"===this.state&&(this._setupGraphics(),this._setupMover(),this._updateGraphics())}_reset(){this._resetGraphicStateVars(),this._resetGraphics(),this._mover&&this._mover.destroy(),this._mover=null,this.view.cursor=\"default\"}_resetGraphicStateVars(){this._startInfo=null,this._activeHandleGraphic=null,this._totalDx=0,this._totalDy=0,this._xScale=1,this._yScale=1,this._angleOfRotation=0}_resetGraphics(t){const e=t||this.layer;e&&(e.removeMany(this.handleGraphics),e.remove(this.backgroundGraphic),e.remove(this.centerGraphic),e.remove(this.rotateGraphic),e.remove(this._rotateLineGraphic));for(const t of this.handleGraphics)t.destroy();this._set(\"handleGraphics\",[]),this.backgroundGraphic&&(this.backgroundGraphic.destroy(),this._set(\"backgroundGraphic\",null)),this.centerGraphic&&(this.centerGraphic.destroy(),this._set(\"centerGraphic\",null)),this.rotateGraphic&&(this.rotateGraphic.destroy(),this._set(\"rotateGraphic\",null)),this._rotateLineGraphic&&(this._rotateLineGraphic.destroy(),this._rotateLineGraphic=null)}_setupMover(){let t=[].concat(this.handleGraphics);this.enableMovement&&(t=t.concat(this.graphics,this.backgroundGraphic)),this.enableRotation&&t.push(this.rotateGraphic),this.showCenterGraphic&&t.push(this.centerGraphic),this._mover=new k({enableMoveAllGraphics:!1,view:this.view,graphics:t,callbacks:{onGraphicClick:t=>this._onGraphicClickCallback(t),onGraphicMoveStart:t=>this._onGraphicMoveStartCallback(t),onGraphicMove:t=>this._onGraphicMoveCallback(t),onGraphicMoveStop:t=>this._onGraphicMoveStopCallback(t),onGraphicPointerOver:t=>this._onGraphicPointerOverCallback(t),onGraphicPointerOut:t=>this._onGraphicPointerOutCallback(t)}})}_getStartInfo(t){const[e,i,s,r]=this._getBoxBounds(v()),a=Math.abs(s-e),o=Math.abs(r-i),h=(s+e)/2,c=(r+i)/2,{x:n,y:l}=t.geometry;return{width:a,height:o,centerX:h,centerY:c,startX:n,startY:l,graphicInfos:this._getGraphicInfos(),box:this.backgroundGraphic.geometry,rotate:this.rotateGraphic.geometry}}_getGraphicInfos(){return this.graphics.map((t=>this._getGraphicInfo(t)))}_getGraphicInfo(t){const e=t.geometry,[i,s,r,a]=this._getBounds(v(),[e]);return{width:Math.abs(r-i),height:Math.abs(a-s),centerX:(r+i)/2,centerY:(a+s)/2,geometry:e}}_onGraphicClickCallback(t){t.viewEvent.stopPropagation(),this.emit(\"graphic-click\",t),this.callbacks.onGraphicClick&&this.callbacks.onGraphicClick(t)}_onGraphicMoveStartCallback(t){const{_angleOfRotation:e,_xScale:i,_yScale:s,backgroundGraphic:r,handleGraphics:a,rotateGraphic:o,symbols:h}=this,c=t.graphic;this._resetGraphicStateVars(),this._hideGraphicsBeforeUpdate(),r.symbol=h.fill.active,this._startInfo=this._getStartInfo(c),c===o?(this.view.cursor=\"grabbing\",this._emitRotateStartEvent(e,c)):a.includes(c)?(this._activeHandleGraphic=c,this._emitScaleStartEvent(i,s,c)):this._emitMoveStartEvent(t.dx,t.dy,c)}_onGraphicMoveCallback(t){const e=t.graphic;if(this._startInfo)if(this.handleGraphics.includes(e))this._scaleGraphic(e),this._emitScaleEvent(this._xScale,this._yScale,e);else if(e===this.rotateGraphic)this._rotateGraphic(e),this._emitRotateEvent(this._angleOfRotation,e);else{const i=t.dx,s=t.dy;this._totalDx+=i,this._totalDy+=s,this._moveGraphic(e,i,s),this._emitMoveEvent(i,s,e)}}_onGraphicMoveStopCallback(t){const e=t.graphic;if(!this._startInfo)return void this.refresh();const{_angleOfRotation:i,_totalDx:s,_totalDy:r,_xScale:a,_yScale:o,backgroundGraphic:h,handleGraphics:c,rotateGraphic:n,symbols:l}=this;this._updateGraphics(),this._showGraphicsAfterUpdate(),h.symbol=l.fill.default,e===n?(this.view.cursor=\"pointer\",this._emitRotateStopEvent(i,e)):c.includes(e)?this._emitScaleStopEvent(a,o,e):this._emitMoveStopEvent(s,r,e),this._resetGraphicStateVars()}_onGraphicPointerOverCallback(t){const{backgroundGraphic:e,handleGraphics:i,graphics:s,rotateGraphic:r,symbols:a,view:o}=this,h=t.graphic;if(h===r)return r.symbol=a.rotator.hover,void(o.cursor=\"pointer\");if(s.includes(h)||h===e)return void(o.cursor=\"move\");if(!i.includes(h))return void(o.cursor=\"pointer\");t.graphic.symbol=a.handles.hover;const c=o.rotation;let n,l=t.index;switch(l<8&&(c>=0&&c<45?l%=8:l=c>=45&&c<90?(l+1)%8:c>=90&&c<135?(l+2)%8:c>=135&&c<180?(l+3)%8:c>=180&&c<225?(l+4)%8:c>=225&&c<270?(l+5)%8:c>=270&&c<315?(l+6)%8:(l+7)%8),l){case 0:n=\"nwse-resize\";break;case 1:n=\"ns-resize\";break;case 2:n=\"nesw-resize\";break;case 3:n=\"ew-resize\";break;case 4:n=\"nwse-resize\";break;case 5:n=\"ns-resize\";break;case 6:n=\"nesw-resize\";break;case 7:n=\"ew-resize\";break;default:n=\"pointer\"}o.cursor=n}_onGraphicPointerOutCallback(t){const{handleGraphics:e,rotateGraphic:i,symbols:s,view:r}=this;t.graphic===i?i.symbol=s.rotator.default:e.includes(t.graphic)&&(t.graphic.symbol=s.handles.default),r.cursor=\"default\"}_scaleGraphic(t){const{_startInfo:e,handleGraphics:i,preserveAspectRatio:s,view:a}=this,{centerX:o,centerY:h,startX:c,startY:n}=e,{resolution:l,transform:p}=a.state,d=i.indexOf(t);1!==d&&5!==d||this._updateX(t,o),3!==d&&7!==d||this._updateY(t,h);const{x:m,y:u}=t.geometry,g=p[0]*m+p[2]*u+p[4],_=p[1]*m+p[3]*u+p[5],v=e.graphicInfos.map((t=>t.geometry));if(s){const t=p[0]*o+p[2]*h+p[4],e=p[1]*o+p[3]*h+p[5],i=p[0]*c+p[2]*n+p[4],s=p[1]*c+p[3]*n+p[5];this._xScale=this._yScale=f(t,e,i,s,g,_);for(const t of v){const e=v.indexOf(t);this.graphics[e].geometry=y(t,this._xScale,this._yScale,[o,h])}this._updateBackgroundGraphic()}else{const{width:t,height:i}=e;let s=m-c,p=n-u;if(1===d||5===d?s=0:3!==d&&7!==d||(p=0),0===s&&0===p)return;const g=t+(c>o?s:-1*s),_=i+(n<h?p:-1*p),f=o+s/2,b=h+p/2;this._xScale=g/t||1,this._yScale=_/i||1,1===d||5===d?this._xScale=1:3!==d&&7!==d||(this._yScale=1);const S=(f-o)/l,w=(b-h)/l,k=y(e.box,this._xScale,this._yScale);this.backgroundGraphic.geometry=G(k,S,w,a,!0);const{centerX:x,centerY:R}=this._getGraphicInfo(this.backgroundGraphic),M=(x-o)/l,I=-1*(R-h)/l;for(const t of v){const e=v.indexOf(t),i=y(t,this._xScale,this._yScale,[o,h]);this.graphics[e].geometry=G(i,M,I,a,!0)}this.centerGraphic.geometry=new r(x,R,a.spatialReference)}}_rotateGraphic(t){const{centerX:e,centerY:i,startX:s,startY:a,box:o,rotate:h}=this._startInfo,{x:c,y:n}=t.geometry,l=new r(e,i,this.view.spatialReference);this._angleOfRotation=b(e,i,s,a,c,n);const p=this._startInfo.graphicInfos.map((t=>t.geometry));for(const t of p){const e=p.indexOf(t),i=w(t,this._angleOfRotation,l);this.graphics[e].geometry=i}this.backgroundGraphic.geometry=w(o,this._angleOfRotation,l),this.rotateGraphic.geometry=w(h,this._angleOfRotation,l)}_moveGraphic(t,e,i){if(this.graphics.includes(t)){const s=this.backgroundGraphic.geometry;this.backgroundGraphic.geometry=G(s,e,i,this.view);for(const s of this.graphics)s!==t&&(s.geometry=G(s.geometry,e,i,this.view))}else if(t===this.centerGraphic){const t=this.backgroundGraphic.geometry;this.backgroundGraphic.geometry=G(t,e,i,this.view)}if(t===this.backgroundGraphic||t===this.centerGraphic)for(const t of this.graphics)t.geometry=G(t.geometry,e,i,this.view)}_setupGraphics(){const{_graphicAttributes:t,symbols:e}=this;this._set(\"centerGraphic\",new m(null,e.centerIndicator,t)),this.showCenterGraphic&&this.layer.add(this.centerGraphic),this._set(\"backgroundGraphic\",new m(null,e.fill.default,t)),this.layer.add(this.backgroundGraphic),this._rotateLineGraphic=new m(null,e.rotatorLine,t),this._set(\"rotateGraphic\",new m(null,e.rotator.default,t)),this.enableRotation&&!this._hasExtentGraphic()&&(this.layer.add(this._rotateLineGraphic),this.layer.add(this.rotateGraphic));for(let i=0;i<8;i++)this.handleGraphics.push(new m(null,e.handles.default,t));this.enableScaling&&this.layer.addMany(this.handleGraphics)}_updateGraphics(){this._updateBackgroundGraphic(),this._updateHandleGraphics(),this._updateCenterGraphic(),this._updateRotateGraphic(),this._updateRotateLineGraphic()}_hideGraphicsBeforeUpdate(){this.centerGraphic.visible=!1,this.rotateGraphic.visible=!1,this._rotateLineGraphic.visible=!1,this.handleGraphics.forEach((t=>t.visible=!1))}_showGraphicsAfterUpdate(){this.enableRotation&&(this._rotateLineGraphic.visible=!0,this.rotateGraphic.visible=!0),this.showCenterGraphic&&(this.centerGraphic.visible=!0),this.enableScaling&&this.handleGraphics.forEach((t=>t.visible=!0))}_updateHandleGraphics(){const t=this._getCoordinates(!0);this.handleGraphics.forEach(((e,i)=>{const[s,r]=t[i];this._updateXY(e,s,r)}))}_updateBackgroundGraphic(){const t=this._getCoordinates();this.backgroundGraphic.geometry=new h({rings:t,spatialReference:this.view.spatialReference})}_updateCenterGraphic(){const[t,e,i,s]=this._getBoxBounds(v()),a=(i+t)/2,o=(s+e)/2;this.centerGraphic.geometry=new r(a,o,this.view.spatialReference)}_updateRotateGraphic(){if(!this.handleGraphics.length)return;const{x:t,y:e}=this.handleGraphics[1].geometry,i=e+this.view.state.resolution*this._rotateGraphicOffset;this.rotateGraphic.geometry=new r(t,i,this.view.spatialReference)}_updateRotateLineGraphic(){if(!this.handleGraphics.length||!this.rotateGraphic||!this.rotateGraphic.geometry)return;const t=this.handleGraphics[1].geometry,e=this.rotateGraphic.geometry;this._rotateLineGraphic.geometry=new c({paths:[[t.x,t.y],[e.x,e.y]],spatialReference:this.view.spatialReference})}_updateXY(t,e,i){t.geometry=new r(e,i,this.view.spatialReference)}_updateX(t,e){const i=t.geometry.y;t.geometry=new r(e,i,this.view.spatialReference)}_updateY(t,e){const i=t.geometry.x;t.geometry=new r(i,e,this.view.spatialReference)}_hasExtentGraphic(){return this.graphics.some((t=>t&&e(t.geometry)&&\"extent\"===t.geometry.type))}_getBoxBounds(t){const e=this.graphics.map((t=>t.geometry));return this._getBounds(t,e)}_getCoordinates(t){const[e,i,s,r]=this._getBoxBounds(v());if(t){const t=(e+s)/2,a=(r+i)/2;return[[e,r],[t,r],[s,r],[s,a],[s,i],[t,i],[e,i],[e,a]]}return[[e,r],[s,r],[s,i],[e,i]]}_emitMoveStartEvent(t,e,i){const s=new R(this.graphics,i,t,e);this.emit(\"move-start\",s),this.callbacks.onMoveStart&&this.callbacks.onMoveStart(s)}_emitMoveEvent(t,e,i){const s=new M(this.graphics,i,t,e);this.emit(\"move\",s),this.callbacks.onMove&&this.callbacks.onMove(s)}_emitMoveStopEvent(t,e,i){const s=new I(this.graphics,i,t,e);this.emit(\"move-stop\",s),this.callbacks.onMoveStop&&this.callbacks.onMoveStop(s)}_emitRotateStartEvent(t,e){const i=new C(this.graphics,e,t);this.emit(\"rotate-start\",i),this.callbacks.onRotateStart&&this.callbacks.onRotateStart(i)}_emitRotateEvent(t,e){const i=new E(this.graphics,e,t);this.emit(\"rotate\",i),this.callbacks.onRotate&&this.callbacks.onRotate(i)}_emitRotateStopEvent(t,e){const i=new O(this.graphics,e,t);this.emit(\"rotate-stop\",i),this.callbacks.onRotateStop&&this.callbacks.onRotateStop(i)}_emitScaleStartEvent(t,e,i){const s=new j(this.graphics,i,t,e);this.emit(\"scale-start\",s),this.callbacks.onScaleStart&&this.callbacks.onScaleStart(s)}_emitScaleEvent(t,e,i){const s=new L(this.graphics,i,t,e);this.emit(\"scale\",s),this.callbacks.onScale&&this.callbacks.onScale(s)}_emitScaleStopEvent(t,e,i){const s=new z(this.graphics,i,t,e);this.emit(\"scale-stop\",s),this.callbacks.onScaleStop&&this.callbacks.onScaleStop(s)}};t([i()],N.prototype,\"_rotateLineGraphic\",void 0),t([i({readOnly:!0})],N.prototype,\"type\",void 0),t([i()],N.prototype,\"callbacks\",void 0),t([i({readOnly:!0})],N.prototype,\"centerGraphic\",void 0),t([i({readOnly:!0})],N.prototype,\"backgroundGraphic\",void 0),t([i()],N.prototype,\"enableMovement\",void 0),t([i()],N.prototype,\"enableRotation\",void 0),t([i()],N.prototype,\"enableScaling\",void 0),t([i()],N.prototype,\"graphics\",void 0),t([i({readOnly:!0})],N.prototype,\"handleGraphics\",void 0),t([i()],N.prototype,\"layer\",void 0),t([i()],N.prototype,\"preserveAspectRatio\",void 0),t([i({readOnly:!0})],N.prototype,\"rotateGraphic\",void 0),t([i()],N.prototype,\"showCenterGraphic\",void 0),t([i({dependsOn:[\"view.ready\",\"graphics.length\",\"layer\"],readOnly:!0})],N.prototype,\"state\",null),t([i({value:Y})],N.prototype,\"symbols\",null),t([i()],N.prototype,\"view\",void 0),N=t([s(\"esri.views.draw.support.Box\")],N);var A=N;export default A;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nclass t{constructor(t,i,s,h,e){this.graphic=t,this.index=i,this.x=s,this.y=h,this.viewEvent=e,this.type=\"graphic-click\"}}class i{constructor(t,i,s,h,e){this.graphic=t,this.index=i,this.x=s,this.y=h,this.viewEvent=e,this.type=\"graphic-double-click\"}}class s{constructor(t,i,s,h,e,r,c,a,n,p){this.graphic=t,this.allGraphics=i,this.index=s,this.x=h,this.y=e,this.dx=r,this.dy=c,this.totalDx=a,this.totalDy=n,this.viewEvent=p,this.defaultPrevented=!1,this.type=\"graphic-move-start\"}preventDefault(){this.defaultPrevented=!0}}class h{constructor(t,i,s,h,e,r,c,a,n,p){this.graphic=t,this.allGraphics=i,this.index=s,this.x=h,this.y=e,this.dx=r,this.dy=c,this.totalDx=a,this.totalDy=n,this.viewEvent=p,this.defaultPrevented=!1,this.type=\"graphic-move\"}preventDefault(){this.defaultPrevented=!0}}class e{constructor(t,i,s,h,e,r,c,a,n,p){this.graphic=t,this.allGraphics=i,this.index=s,this.x=h,this.y=e,this.dx=r,this.dy=c,this.totalDx=a,this.totalDy=n,this.viewEvent=p,this.defaultPrevented=!1,this.type=\"graphic-move-stop\"}preventDefault(){this.defaultPrevented=!0}}class r{constructor(t,i,s,h,e){this.graphic=t,this.index=i,this.x=s,this.y=h,this.viewEvent=e,this.type=\"graphic-pointer-over\"}}class c{constructor(t,i,s,h,e){this.graphic=t,this.index=i,this.x=s,this.y=h,this.viewEvent=e,this.type=\"graphic-pointer-out\"}}class a{constructor(t,i,s,h,e){this.graphic=t,this.index=i,this.x=s,this.y=h,this.viewEvent=e,this.type=\"graphic-pointer-down\"}}class n{constructor(t,i,s,h,e){this.graphic=t,this.index=i,this.x=s,this.y=h,this.viewEvent=e,this.type=\"graphic-pointer-up\"}}export{t as GraphicClickEvent,i as GraphicDoubleClickEvent,h as GraphicMoveEvent,s as GraphicMoveStartEvent,e as GraphicMoveStopEvent,a as GraphicPointerDownEvent,c as GraphicPointerOutEvent,r as GraphicPointerOverEvent,n as GraphicPointerUpEvent};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as i}from\"../../../chunks/tslib.es6.js\";import\"../../../core/has.js\";import{clone as t}from\"../../../core/lang.js\";import{isSome as e}from\"../../../core/maybe.js\";import\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import{subclass as s}from\"../../../core/accessorSupport/decorators/subclass.js\";import\"../../../core/urlUtils.js\";import\"../../../core/uuid.js\";import\"../../../portal/support/resourceExtension.js\";import a from\"../../../core/Evented.js\";import o from\"../../../core/Handles.js\";import{watch as h,whenOnce as c}from\"../../../core/watchUtils.js\";import{ViewEventPriorities as n}from\"../../input/InputManager.js\";import{createScreenPointFromEvent as p}from\"../../support/screenUtils.js\";import{cloneMove as l}from\"./drawUtils.js\";import{GraphicManipulator as v}from\"../../interactive/GraphicManipulator.js\";import{GraphicClickEvent as d,GraphicDoubleClickEvent as g,GraphicPointerDownEvent as _,GraphicPointerUpEvent as G,GraphicPointerOutEvent as m,GraphicMoveStartEvent as u,GraphicMoveEvent as y,GraphicMoveStopEvent as f,GraphicPointerOverEvent as w}from\"./input/GraphicMoverEvents.js\";let k=class extends a.EventedAccessor{constructor(i){super(i),this._activeGraphic=null,this._dragEvent=null,this._handles=new o,this._hoverGraphic=null,this._initialDragGeometry=null,this._viewHandles=new o,this._manipulators=[],this.type=\"graphic-mover\",this.callbacks={onGraphicClick(){},onGraphicDoubleClick(){},onGraphicMoveStart(){},onGraphicMove(){},onGraphicMoveStop(){},onGraphicPointerOver(){},onGraphicPointerOut(){},onGraphicPointerDown(){},onGraphicPointerUp(){}},this.enableMoveAllGraphics=!1,this.graphics=[],this.view=null}initialize(){this._setUpManipulators(),this._handles.add([h(this,[\"graphics\",\"graphics.length\"],(()=>{this._setUpManipulators()})),c(this,\"view.ready\",(()=>{this._viewHandles.add([this.view.on(\"immediate-click\",(i=>this._clickHandler(i)),n.TOOL),this.view.on(\"double-click\",(i=>this._doubleClickHandler(i)),n.TOOL),this.view.on(\"pointer-down\",(i=>this._pointerDownHandler(i)),n.TOOL),this.view.on(\"pointer-move\",(i=>this._pointerMoveHandler(i)),n.TOOL),this.view.on(\"pointer-up\",(i=>this._pointerUpHandler(i)),n.TOOL),this.view.on(\"drag\",(i=>this._dragHandler(i)),n.TOOL),this.view.on(\"key-down\",(i=>this._keyDownHandler(i)),n.TOOL)])}))])}destroy(){this.reset(),this._manipulators.forEach((i=>i.destroy())),this._manipulators=null,this._viewHandles.removeAll(),this._handles.removeAll()}get state(){const i=!!this.get(\"view.ready\"),t=!!this.get(\"graphics.length\"),e=this._activeGraphic;return i&&t?e?\"moving\":\"active\":i?\"ready\":\"disabled\"}reset(){this._activeGraphic=null,this._hoverGraphic=null,this._dragEvent=null}updateGeometry(i,t){const e=this.graphics[i];e&&e.set(\"geometry\",t)}_clickHandler(i){const t=this._findTargetGraphic(p(i));if(t){const e=new d(t,this.graphics.indexOf(t),i.x,i.y,i);this.emit(\"graphic-click\",e),this.callbacks.onGraphicClick&&this.callbacks.onGraphicClick(e)}}_doubleClickHandler(i){const t=this._findTargetGraphic(p(i));if(t){const e=new g(t,this.graphics.indexOf(t),i.x,i.y,i);this.emit(\"graphic-double-click\",e),this.callbacks.onGraphicDoubleClick&&this.callbacks.onGraphicDoubleClick(e)}}_pointerDownHandler(i){const t=this._findTargetGraphic(p(i));if(t){this._activeGraphic=t;const{x:e,y:r}=i,s=new _(t,this.graphics.indexOf(t),e,r,i);this.emit(\"graphic-pointer-down\",s),this.callbacks.onGraphicPointerDown&&this.callbacks.onGraphicPointerDown(s)}else this._activeGraphic=null}_pointerUpHandler(i){if(this._activeGraphic){const{x:t,y:e}=i,r=this.graphics.indexOf(this._activeGraphic),s=new G(this._activeGraphic,r,t,e,i);this.emit(\"graphic-pointer-up\",s),this.callbacks.onGraphicPointerUp&&this.callbacks.onGraphicPointerUp(s)}}_pointerMoveHandler(i){if(this._dragEvent)return;const t=this._findTargetGraphic(p(i));if(t){const{x:e,y:r}=i;if(this._hoverGraphic){if(this._hoverGraphic===t)return;const s=this.graphics.indexOf(this._hoverGraphic),a=new m(this.graphics[s],s,e,r,i);this._hoverGraphic=null,this.emit(\"graphic-pointer-out\",a),this.callbacks.onGraphicPointerOut&&this.callbacks.onGraphicPointerOut(a)}const s=this.graphics.indexOf(t),a=new w(t,s,e,r,i);return this._hoverGraphic=t,this.emit(\"graphic-pointer-over\",a),void(this.callbacks.onGraphicPointerOver&&this.callbacks.onGraphicPointerOver(a))}if(this._hoverGraphic){const{x:t,y:e}=i,r=this.graphics.indexOf(this._hoverGraphic),s=new m(this.graphics[r],r,t,e,i);this._hoverGraphic=null,this.emit(\"graphic-pointer-out\",s),this.callbacks.onGraphicPointerOut&&this.callbacks.onGraphicPointerOut(s)}}_dragHandler(i){if(\"start\"!==i.action&&!this._dragEvent||!this._activeGraphic||!this._activeGraphic.geometry)return;i.stopPropagation();const{action:e,x:r,y:s}=i,a=this.graphics.indexOf(this._activeGraphic),o=this._activeGraphic.geometry,h=this._dragEvent?r-this._dragEvent.x:0,c=this._dragEvent?s-this._dragEvent.y:0,n=r-i.origin.x,p=s-i.origin.y;if(this._activeGraphic.geometry=l(o,h,c,this.view),this.enableMoveAllGraphics&&this.graphics.forEach((i=>{i!==this._activeGraphic&&(i.geometry=l(i.geometry,h,c,this.view))})),this._dragEvent=i,\"start\"===e){this._initialDragGeometry=t(o);const e=new u(this._activeGraphic,this.graphics,a,r,s,h,c,n,p,i);this.emit(\"graphic-move-start\",e),this.callbacks.onGraphicMoveStart&&this.callbacks.onGraphicMoveStart(e),e.defaultPrevented&&this._activeGraphic.set(\"geometry\",o)}else if(\"update\"===e){const t=new y(this._activeGraphic,this.graphics,a,r,s,h,c,n,p,i);this.emit(\"graphic-move\",t),this.callbacks.onGraphicMove&&this.callbacks.onGraphicMove(t),t.defaultPrevented&&this._activeGraphic.set(\"geometry\",o)}else{const t=new f(this._activeGraphic,this.graphics,a,r,s,h,c,n,p,i);this._dragEvent=null,this._activeGraphic=null,this.emit(\"graphic-move-stop\",t),this.callbacks.onGraphicMoveStop&&this.callbacks.onGraphicMoveStop(t),t.defaultPrevented&&this.graphics[a].set(\"geometry\",this._initialDragGeometry),this._initialDragGeometry=null}}_keyDownHandler(i){\"a\"!==i.key&&\"d\"!==i.key&&\"n\"!==i.key||\"moving\"!==this.state||i.stopPropagation()}_findTargetGraphic(i){let t=null,r=Number.MAX_VALUE;return this._manipulators.forEach((s=>{const a=s.intersectionDistance(i);e(a)&&a<r&&(r=a,t=s.graphic)})),t}_setUpManipulators(){const{graphics:i,view:t}=this;this._manipulators.forEach((i=>i.destroy())),this._manipulators=null!=i&&i.length?i.map((i=>new v({graphic:i,view:t}))):[]}};i([r()],k.prototype,\"_activeGraphic\",void 0),i([r({readOnly:!0})],k.prototype,\"type\",void 0),i([r()],k.prototype,\"callbacks\",void 0),i([r()],k.prototype,\"enableMoveAllGraphics\",void 0),i([r()],k.prototype,\"graphics\",void 0),i([r({dependsOn:[\"view.ready\",\"graphics.length\",\"_activeGraphic\"],readOnly:!0})],k.prototype,\"state\",null),i([r()],k.prototype,\"view\",void 0),k=i([s(\"esri.views.draw.support.GraphicMover\")],k);var b=k;export default b;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport e from\"../../../Color.js\";const o={main:new e([255,127,0]),selected:new e([255,255,255]),outline:new e([0,0,0,.5]),selectedOutline:new e([255,255,255]),hoverOutline:new e([255,255,255]),secondary:new e([255,255,255]),secondaryOutline:new e([100,100,100]),transparent:new e([0,0,0,0])};function t(e,o){if(o)for(const t in o)e[t]=o[t]}class s{constructor(e){this.size=8,this.hoverSize=10,this.color=o.main,this.hoverColor=o.main,this.outlineColor=o.outline,this.hoverOutlineColor=o.hoverOutline,t(this,e)}}class n{constructor(e){this.color=o.secondary,this.hoverColor=o.main,t(this,e)}}class r{constructor(e){this.color=o.transparent,this.hoverColor=o.transparent,this.outlineColor=o.main,this.hoverOutlineColor=o.main,this.stagedColor=o.transparent,this.stagedOutlineColor=o.secondary,t(this,e)}}class i{constructor(e){this.vertex=new s,this.midpoint=new s({color:o.secondary,outlineColor:o.secondaryOutline,size:6}),this.selected=new s({color:o.selected,hoverColor:o.selected,hoverOutlineColor:o.hoverOutline}),t(this,e)}}class l{constructor(e){this.center=new s({color:o.secondaryOutline}),this.fill=new r,this.line=new n,this.vertex=new s({color:o.selected,outlineColor:o.main,hoverColor:o.selected,hoverOutlineColor:o.secondaryOutline}),t(this,e)}}const c=new class{constructor(e){this.reshapeGraphics=new i,this.transformGraphics=new l,t(this,e)}};export{o as colors,c as settings};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import{get as t,isSome as i,isNone as o}from\"../../core/maybe.js\";import s from\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import{subclass as l}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import a from\"../../core/Accessor.js\";import n from\"../../core/Evented.js\";import{pt2px as c,screenPointObjectToArray as h,createScreenPointArray as p}from\"../../core/screenUtils.js\";import{c as m}from\"../../chunks/vec3f64.js\";import{k as u}from\"../../chunks/vec3.js\";import{canProjectWithoutEngine as g,project as y,projectPointToVector as d}from\"../../geometry/projection.js\";import b from\"../../symbols/support/ElevationInfo.js\";import{getDefaultSymbol2D as f}from\"../../symbols/support/defaults.js\";import{j as _}from\"../../chunks/vec2.js\";import{getGraphicEffectiveElevationMode as v}from\"../../support/elevationInfoUtils.js\";import{intersectsDrapedGeometry as S}from\"../support/drapedUtils.js\";const j=s.getLogger(\"esri.views.interactive.GraphicManipulator\");let C=class extends a{constructor(e){super(e),this.layer=null,this.interactive=!0,this.selectable=!1,this.grabbable=!0,this.dragging=!1,this.cursor=null,this.events=new n.EventEmitter,this._circleCollisionCache=null,this._graphicSymbolChangedHandle=null,this._originalSymbol=null}set graphic(e){\"mesh\"!==t(e.geometry,\"type\")?(this._circleCollisionCache=null,this._originalSymbol=e.symbol,this._set(\"graphic\",e),this.attachSymbolChanged()):j.error(\"Mesh geometries are not supported\")}get elevationInfo(){const e=\"elevationInfo\"in this.graphic.layer&&this.graphic.layer.elevationInfo,t=v(this.graphic),i=e?e.offset:0;return new b({mode:t,offset:i})}set focusedSymbol(e){e!==this._get(\"focusedSymbol\")&&(this._set(\"focusedSymbol\",e),this._updateGraphicSymbol(),this._circleCollisionCache=null)}grabbableForEvent(){return!0}set grabbing(e){e!==this._get(\"grabbing\")&&(this._set(\"grabbing\",e),this._updateGraphicSymbol())}set hovering(e){e!==this._get(\"hovering\")&&(this._set(\"hovering\",e),this._updateGraphicSymbol())}set selected(e){e!==this._get(\"selected\")&&(this._set(\"selected\",e),this._updateGraphicSymbol(),this.events.emit(\"select-changed\",{action:e?\"select\":\"deselect\"}))}get _focused(){return this._get(\"hovering\")||this._get(\"grabbing\")}destroy(){this.detachSymbolChanged(),this._resetGraphicSymbol(),this._set(\"view\",null)}intersectionDistance(e){const t=this._get(\"graphic\");if(!1===t.visible)return null;const s=this._get(\"focusedSymbol\"),r=i(s)?s:t.symbol,l=t.geometry;return o(l)?null:\"2d\"===this.view.type?this._intersectDistance2D(this.view,e,l,r):this._intersectDistance3D(this.view,e,t)}attach(){this.attachSymbolChanged(),i(this.layer)&&this.layer.add(this.graphic)}detach(){this.detachSymbolChanged(),this._resetGraphicSymbol(),i(this.layer)&&this.layer.remove(this.graphic)}attachSymbolChanged(){this.detachSymbolChanged(),this._graphicSymbolChangedHandle=this.graphic.watch(\"symbol\",(e=>{i(e)&&e!==this.focusedSymbol&&e!==this._originalSymbol&&(this._originalSymbol=e,this._focused&&i(this.focusedSymbol)&&(this.graphic.symbol=this.focusedSymbol))}),!0)}detachSymbolChanged(){i(this._graphicSymbolChangedHandle)&&(this._graphicSymbolChangedHandle.remove(),this._graphicSymbolChangedHandle=null)}_updateGraphicSymbol(){this.graphic.symbol=this._focused&&i(this.focusedSymbol)?this.focusedSymbol:this._originalSymbol}_resetGraphicSymbol(){this.graphic.symbol=this._originalSymbol}_intersectDistance2D(e,t,s,r){if(r=r||f(s),o(r))return null;let l=this._circleCollisionCache;if(\"point\"!==s.type||\"simple-marker\"!==r.type)return S(t,s,e)?1:null;if(o(l)||!l.originalPoint.equals(s)){const t=s,i=e.spatialReference;if(g(t.spatialReference,i)){const e=y(t,i);l={originalPoint:t.clone(),mapPoint:e,radiusPx:c(r.size)},this._circleCollisionCache=l}}if(i(l)){const i=h(t,G),o=e.toScreen(l.mapPoint),s=l.radiusPx,a=o.x+c(r.xoffset),n=o.y-c(r.yoffset);return _(i,[a,n])<s*s?1:null}return null}_intersectDistance3D(e,t,i){const o=e.toMap(t,{include:[i]});return o&&d(o,w,e.renderSpatialReference)?u(w,e.state.camera.eye):null}};e([r({constructOnly:!0,nonNullable:!0})],C.prototype,\"graphic\",null),e([r({readOnly:!0,dependsOn:[\"graphic\"]})],C.prototype,\"elevationInfo\",null),e([r({constructOnly:!0,nonNullable:!0})],C.prototype,\"view\",void 0),e([r({value:null})],C.prototype,\"focusedSymbol\",null),e([r({constructOnly:!0})],C.prototype,\"layer\",void 0),e([r()],C.prototype,\"interactive\",void 0),e([r()],C.prototype,\"selectable\",void 0),e([r()],C.prototype,\"grabbable\",void 0),e([r({value:!1})],C.prototype,\"grabbing\",null),e([r()],C.prototype,\"dragging\",void 0),e([r()],C.prototype,\"hovering\",null),e([r({value:!1})],C.prototype,\"selected\",null),e([r()],C.prototype,\"cursor\",void 0),C=e([l(\"esri.views.interactive.GraphicManipulator\")],C);const w=m(),G=p();export{C as GraphicManipulator};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{isSome as e,isNone as t}from\"../../core/maybe.js\";import r from\"../../geometry/Extent.js\";import\"../../geometry.js\";import{getMetersPerUnitForSR as n}from\"../../core/unitUtils.js\";import{calculateTolerance as i}from\"../../renderers/support/clickToleranceUtils.js\";function a(t,i,a,o=new r){let s;if(\"2d\"===a.type)s=i*a.resolution;else if(\"3d\"===a.type){const r=a.overlayPixelSizeInMapUnits(t),o=a.basemapSpatialReference;s=e(o)&&!o.equals(a.spatialReference)?n(o)/n(a.spatialReference):i*r}const m=t.x-s,p=t.y-s,c=t.x+s,l=t.y+s,{spatialReference:f}=a;return o.xmin=Math.min(m,c),o.ymin=Math.min(p,l),o.xmax=Math.max(m,c),o.ymax=Math.max(p,l),o.spatialReference=f,o}function o(e,r,n){const o=n.toMap(e);if(t(o))return!1;return a(o,i(),n,s).intersects(r)}const s=new r;export{a as createQueryGeometry,o as intersectsDrapedGeometry};\n"],"sourceRoot":""}