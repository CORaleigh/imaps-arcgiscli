{"version":3,"sources":["webpack://imaps/./node_modules/@arcgis/core/tasks/geometry/simplify.js","webpack://imaps/./node_modules/@arcgis/core/geometry/support/normalizeUtils.js","webpack://imaps/./node_modules/@arcgis/core/tasks/geometry/cut.js","webpack://imaps/./node_modules/@arcgis/core/layers/graphics/OptimizedFeature.js","webpack://imaps/./node_modules/@arcgis/core/layers/graphics/OptimizedFeatureSet.js","webpack://imaps/./node_modules/@arcgis/core/layers/graphics/OptimizedGeometry.js","webpack://imaps/./node_modules/@arcgis/core/layers/graphics/featureConversionUtils.js","webpack://imaps/./node_modules/@arcgis/core/layers/graphics/sources/FeatureLayerSource.js","webpack://imaps/./node_modules/@arcgis/core/layers/graphics/sources/support/clientSideDefaults.js","webpack://imaps/./node_modules/@arcgis/core/tasks/Task.js"],"names":["async","i","n","f","m","p","spatialReference","a","u","query","sr","wkid","JSON","stringify","geometries","r","geometryType","map","toJSON","t","o","fromJSON","path","data","g","102100","maxX","minX","plus180Line","paths","minus180Line","4326","x","e","type","y","w","rings","R","Math","ceil","d","M","error","s","push","length","l","sqrt","c","floor","L","b","Array","isArray","clone","offset","P","url","j","X","U","W","k","A","S","v","isWebMercator","points","_normalize","extent","xmin","intersects","xmax","z","G","I","q","addPath","cutIndexes","some","Number","toFixed","getPoint","setPoint","addRing","target","cutter","shift","D","valid","h","this","displayId","geohashIndexed","geohashX","geohashY","geometry","attributes","centroid","objectId","coords","objectIdFieldName","globalIdFieldName","geohashFieldName","geometryProperties","hasZ","hasM","features","fields","transform","exceededTransferLimit","uniqueIdField","queryGeometryType","queryGeometry","lengths","hasIndeterminateRingOrder","slice","esriGeometryPoint","esriGeometryPolyline","esriGeometryPolygon","esriGeometryMultipoint","scale","translate","round","Z","T","N","F","E","V","Y","_","O","$","C","B","H","insertAfter","groupId","J","K","Q","ee","ne","weakClone","oe","re","ce","se","le","POSITIVE_INFINITY","NEGATIVE_INFINITY","min","max","ie","fe","ae","ge","abs","me","Set","super","arguments","signal","addResolvingPromise","_fetchService","capabilities","supportsFormatPBF","parsedUrl","dynamicDataSource","gdbVersion","fieldsIndex","layer","format","sourceSpatialReference","load","objectIdField","_getLayerRequestOptions","_getFormDataForAttachment","body","_createFeatureEditResult","addAttachmentResult","_createAttachmentErrorResult","attachmentId","updateAttachmentResult","addFeatures","_serializeFeature","updateFeatures","_getFeatureIds","deleteFeatures","deleteAttachments","addAttachments","_serializeAttachment","updateAttachments","adds","updates","deletes","method","join","rollbackOnFailure","rollbackOnFailureEnabled","useGlobalIds","globalIdUsed","attachments","_createEditsResult","attachmentIds","deleteAttachmentResults","then","returnUpdates","layerId","id","fullExtent","timeExtent","start","end","get","objectIds","parentObjectId","attachmentInfos","queryTask","executeAttachmentQuery","execute","customParameters","executeJSON","executeForIds","executeForCount","executeForExtent","executeRelationshipQuery","executeRelationshipQueryForCount","sourceJSON","returnAdvancedSymbols","_patchServiceJSON","has","drawingInfo","renderer","defaultSymbol","feature","attachment","globalId","name","contentType","uploadId","parentGlobalId","globalIdField","FileReader","readAsDataURL","onload","result","onerror","mediaType","File","_getIdsFromFeatureIdentifier","_getIdsFromFeatures","addFeatureResults","addResults","updateFeatureResults","updateResults","deleteFeatureResults","deleteResults","addAttachmentResults","updateAttachmentResults","success","code","description","details","messages","message","httpStatus","messageCode","FormData","elements","set","append","source","responseType","prototype","constructOnly","readOnly","dependsOn","symbol","indexOf","Function","requestOptions","_parseUrl","_encode","String"],"mappings":"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","file":"chunks/8173.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{urlToObject as r}from\"../../core/urlUtils.js\";import{getJsonType as t,getGeometryType as e}from\"../../geometry/support/jsonUtils.js\";import o from\"../../request.js\";async function i(i,n,f){const m=\"string\"==typeof i?r(i):i,p=n[0].spatialReference,a=t(n[0]),u={...f,query:{...m.query,f:\"json\",sr:p.wkid?p.wkid:JSON.stringify(p),geometries:JSON.stringify(s(n))}};return function(r,t,o){const i=e(t);return r.map((r=>{const t=i.fromJSON(r);return t.spatialReference=o,t}))}((await o(m.path+\"/simplify\",u)).data,a,p)}function s(r){return{geometryType:t(r[0]),geometries:r.map((r=>r.toJSON()))}}export{i as simplify};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport e from\"../../config.js\";import{isNone as t,isSome as n}from\"../../core/maybe.js\";import s from\"../../core/Logger.js\";import o from\"../../core/Error.js\";import{resolve as r}from\"../../core/promiseUtils.js\";import{getInfo as i}from\"./spatialReferenceUtils.js\";import f from\"../SpatialReference.js\";import{geographicToWebMercator as l,webMercatorToGeographic as c}from\"./webMercatorUtils.js\";import p from\"../Polygon.js\";import a from\"../Polyline.js\";import{cut as u}from\"../../tasks/geometry/cut.js\";import{simplify as h}from\"../../tasks/geometry/simplify.js\";const m=s.getLogger(\"esri.geometry.support.normalizeUtils\"),g={102100:{maxX:20037508.342788905,minX:-20037508.342788905,plus180Line:new a({paths:[[[20037508.342788905,-20037508.342788905],[20037508.342788905,20037508.342788905]]],spatialReference:f.WebMercator}),minus180Line:new a({paths:[[[-20037508.342788905,-20037508.342788905],[-20037508.342788905,20037508.342788905]]],spatialReference:f.WebMercator})},4326:{maxX:180,minX:-180,plus180Line:new a({paths:[[[180,-180],[180,180]]],spatialReference:f.WGS84}),minus180Line:new a({paths:[[[-180,-180],[-180,180]]],spatialReference:f.WGS84})}};function x(e){return\"polygon\"===e.type}function y(e){return\"polyline\"===e[0].type}function w(e){return x(e)?e.rings:e.paths}function R(e,t){return Math.ceil((e-t)/(2*t))}function d(e,t){const n=w(e);for(const e of n)for(const n of e)n[0]+=t;return e}function j(e){const t=[];let n=0,s=0;for(let o=0;o<e.length;o++){const r=e[o];let i=null;for(let e=0;e<r.length;e++)i=r[e],t.push(i),0===e?(n=i[0],s=n):(n=Math.min(n,i[0]),s=Math.max(s,i[0]));i&&t.push([(n+s)/2,0])}return t}function M(e,t){if(!(e instanceof a||e instanceof p)){const e=\"straightLineDensify: the input geometry is neither polyline nor polygon\";throw m.error(e),new o(e)}const n=w(e),s=[];for(const e of n){const n=[];s.push(n),n.push([e[0][0],e[0][1]]);for(let s=0;s<e.length-1;s++){const o=e[s][0],r=e[s][1],i=e[s+1][0],f=e[s+1][1],l=Math.sqrt((i-o)*(i-o)+(f-r)*(f-r)),c=(f-r)/l,p=(i-o)/l,a=l/t;if(a>1){for(let e=1;e<=a-1;e++){const s=e*t,i=p*s+o,f=c*s+r;n.push([i,f])}const e=(l+Math.floor(a-1)*t)/2,s=p*e+o,i=c*e+r;n.push([s,i])}n.push([i,f])}}return x(e)?new p({rings:s,spatialReference:e.spatialReference}):new a({paths:s,spatialReference:e.spatialReference})}function L(e,t,n){if(t){const t=M(e,1e6);e=c(t,!0)}return n&&(e=d(e,n)),e}function b(e,t,n){if(Array.isArray(e)){const s=e[0];if(s>t){const n=R(s,t);e[0]=s+n*(-2*t)}else if(s<n){const t=R(s,n);e[0]=s+t*(-2*n)}}else{const s=e.x;if(s>t){const n=R(s,t);e=e.clone().offset(n*(-2*t),0)}else if(s<n){const t=R(s,n);e=e.clone().offset(t*(-2*n),0)}}return e}async function P(s,o,f){if(!Array.isArray(s))return P([s],o);const c=o?o.url:e.geometryServiceUrl;let m,x,j,M,X,U,W,k,A=0;const S=[],v=[];for(const e of s)if(t(e))v.push(e);else if(m||(m=e.spatialReference,x=i(m),j=m.isWebMercator,U=j?102100:4326,M=g[U].maxX,X=g[U].minX,W=g[U].plus180Line,k=g[U].minus180Line),x)if(\"mesh\"===e.type)v.push(e);else if(\"point\"===e.type)v.push(b(e.clone(),M,X));else if(\"multipoint\"===e.type){const t=e.clone();t.points=t.points.map((e=>b(e,M,X))),v.push(t)}else if(\"extent\"===e.type){const t=e.clone()._normalize(!1,!1,x);v.push(t.rings?new p(t):t)}else if(e.extent){const t=e.extent,n=R(t.xmin,X)*(2*M);let s=0===n?e.clone():d(e.clone(),n);t.offset(n,0),t.intersects(W)&&t.xmax!==M?(A=t.xmax>A?t.xmax:A,s=L(s,j),S.push(s),v.push(\"cut\")):t.intersects(k)&&t.xmin!==X?(A=t.xmax*(2*M)>A?t.xmax*(2*M):A,s=L(s,j,360),S.push(s),v.push(\"cut\")):v.push(s)}else v.push(e.clone());else v.push(e);let z=R(A,M),G=-90;const I=z,q=new a;for(;z>0;){const e=360*z-180;q.addPath([[e,G],[e,-1*G]]),G*=-1,z--}if(S.length>0&&I>0){const e=function(e,t){let n=-1;for(let s=0;s<t.cutIndexes.length;s++){const o=t.cutIndexes[s],r=t.geometries[s],i=w(r);for(let e=0;e<i.length;e++){const t=i[e];t.some((n=>{if(n[0]<180)return!0;{let n=0;for(let e=0;e<t.length;e++){const s=t[e][0];n=s>n?s:n}n=Number(n.toFixed(9));const s=-360*R(n,180);for(let n=0;n<t.length;n++){const t=r.getPoint(e,n);r.setPoint(e,n,t.clone().offset(s,0))}return!0}}))}if(o===n){if(\"polygon\"===e[0].type)for(const t of w(r))e[o]=e[o].addRing(t);else if(y(e))for(const t of w(r))e[o]=e[o].addPath(t)}else n=o,e[o]=r}return e}(S,await u(c,S,q,f)),t=[],o=[];for(let r=0;r<v.length;r++){const i=v[r];if(\"cut\"!==i)o.push(i);else{const i=e.shift(),f=s[r];n(f)&&\"polygon\"===f.type&&f.rings&&f.rings.length>1&&i.rings.length>=f.rings.length?(t.push(i),o.push(\"simplify\")):o.push(j?l(i):i)}}if(!t.length)return o;const r=await h(c,t,f),i=[];for(let e=0;e<o.length;e++){const t=o[e];\"simplify\"!==t?i.push(t):i.push(j?l(r.shift()):r.shift())}return i}const D=[];for(let e=0;e<v.length;e++){const t=v[e];if(\"cut\"!==t)D.push(t);else{const e=S.shift();D.push(!0===j?l(e):e)}}return r(D)}function X(e){if(!e)return null;const t=e.extent;if(!t)return null;const n=e.spatialReference&&i(e.spatialReference);if(!n)return t;const[s,o]=n.valid,r=2*o,{width:f}=t;let l,{xmin:c,xmax:p}=t;if([c,p]=[p,c],\"extent\"===e.type||0===f||f<=o||f>r||c<s||p>o)return t;switch(e.type){case\"polygon\":if(!(e.rings.length>1))return t;l=j(e.rings);break;case\"polyline\":if(!(e.paths.length>1))return t;l=j(e.paths);break;case\"multipoint\":l=e.points}const a=t.clone();for(let e=0;e<l.length;e++){let t=l[e][0];t<0?(t+=o,p=Math.max(t,p)):(t-=o,c=Math.min(t,c))}return a.xmin=c,a.xmax=p,a.width<f?(a.xmin-=o,a.xmax-=o,a):t}function U(e,t){const n=i(t);if(n){const[t,s]=n.valid,o=s-t;if(e<t)for(;e<t;)e+=o;if(e>s)for(;e>s;)e-=o}return e}export{X as getDenormalizedExtent,P as normalizeCentralMeridian,U as normalizeMapX,M as straightLineDensify};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{urlToObject as e}from\"../../core/urlUtils.js\";import{getJsonType as t,fromJSON as r}from\"../../geometry/support/jsonUtils.js\";import\"../../geometry.js\";import s from\"../../request.js\";async function o(o,i,n,m){const p=\"string\"==typeof o?e(o):o,a=i[0].spatialReference,u={...m,query:{...p.query,f:\"json\",sr:JSON.stringify(a),target:JSON.stringify({geometryType:t(i[0]),geometries:i}),cutter:JSON.stringify(n)}},c=await s(p.path+\"/cut\",u),{cutIndexes:f,geometries:g=[]}=c.data;return{cutIndexes:f,geometries:g.map((e=>{const t=r(e);return t.spatialReference=a,t}))}}export{o as cut};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nclass t{constructor(t=null,e={},s,h){this.displayId=0,this.geohashIndexed=!1,this.geohashX=0,this.geohashY=0,this.geometry=t,e&&(this.attributes=e),s&&(this.centroid=s),null!=h&&(this.objectId=h)}get hasGeometry(){return!(!this.geometry||!this.geometry.coords||!this.geometry.coords.length)}weakClone(){const e=new t(this.geometry,this.attributes,this.centroid,this.objectId);return e.displayId=this.displayId,e.geohashIndexed=this.geohashIndexed,e.geohashX=this.geohashX,e.geohashY=this.geohashY,e}}export default t;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nclass e{constructor(){this.objectIdFieldName=null,this.globalIdFieldName=null,this.geohashFieldName=null,this.geometryProperties=null,this.geometryType=null,this.spatialReference=null,this.hasZ=!1,this.hasM=!1,this.features=[],this.fields=[],this.transform=null,this.exceededTransferLimit=!1,this.uniqueIdField=null,this.queryGeometryType=null,this.queryGeometry=null}weakClone(){const t=new e;return t.objectIdFieldName=this.objectIdFieldName,t.globalIdFieldName=this.globalIdFieldName,t.geohashFieldName=this.geohashFieldName,t.geometryProperties=this.geometryProperties,t.geometryType=this.geometryType,t.spatialReference=this.spatialReference,t.hasZ=this.hasZ,t.hasM=this.hasM,t.features=this.features,t.fields=this.fields,t.transform=this.transform,t.exceededTransferLimit=this.exceededTransferLimit,t.uniqueIdField=this.uniqueIdField,t.queryGeometry=this.queryGeometry,t.queryGeometryType=this.queryGeometryType,t}}export default e;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nclass t{constructor(t=[],s=[],e=!1){this.lengths=null!=t?t:[],this.coords=null!=s?s:[],this.hasIndeterminateRingOrder=e}get isPoint(){return 0===this.lengths.length}forEachVertex(t){let s=0;this.lengths.length||t(this.coords[0],this.coords[1]);for(let e=0;e<this.lengths.length;e++){const h=this.lengths[e];for(let e=0;e<h;e++){t(this.coords[2*(e+s)],this.coords[2*(e+s)+1])}s+=h}}clone(){return new t(this.lengths.slice(),this.coords.slice(),this.hasIndeterminateRingOrder)}}export default t;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport e from\"../../core/Logger.js\";import t from\"../../core/Error.js\";import{isPoint as n,isPolygon as o,isPolyline as r,isMultipoint as s}from\"../../geometry/support/jsonUtils.js\";import c from\"./OptimizedFeature.js\";import l from\"./OptimizedFeatureSet.js\";import u from\"./OptimizedGeometry.js\";function i(e,t){return e?t?4:3:t?3:2}const f=e.getLogger(\"esri.tasks.support.optimizedFeatureSet\"),h={esriGeometryPoint:0,esriGeometryPolyline:2,esriGeometryPolygon:3,esriGeometryMultipoint:0},a=(e,t,n,o,r,s)=>{e[n]=r,e[n+1]=s},g=(e,t,n,o,r,s)=>{e[n]=r,e[n+1]=s,e[n+2]=t[o+2]},d=(e,t,n,o,r,s)=>{e[n]=r,e[n+1]=s,e[n+2]=t[o+3]},m=(e,t,n,o,r,s)=>{e[n]=r,e[n+1]=s,e[n+2]=t[o+2],e[n+3]=t[o+3]};function y(e,t,n,o){if(e){if(n)return t&&o?m:g;if(t&&o)return d}else if(t&&o)return g;return a}function p({scale:e,translate:t},n){return Math.round((n-t[0])/e[0])}function I({scale:e,translate:t},n){return Math.round((t[1]-n)/e[1])}function b({scale:e,translate:t},n){return n*e[0]+t[0]}function M({scale:e,translate:t},n){return t[1]-n*e[1]}function w(e,t,n){return e?t?n?Z(e):T(e):n?P(e):N(e):null}function N(e){const t=e.coords;return{x:t[0],y:t[1]}}function G(e,t){return e.coords[0]=t.x,e.coords[1]=t.y,e}function T(e){const t=e.coords;return{x:t[0],y:t[1],z:t[2]}}function F(e,t){return e.coords[0]=t.x,e.coords[1]=t.y,e.coords[2]=t.z,e}function P(e){const t=e.coords;return{x:t[0],y:t[1],m:t[2]}}function x(e,t){return e.coords[0]=t.x,e.coords[1]=t.y,e.coords[2]=t.m,e}function Z(e){const t=e.coords;return{x:t[0],y:t[1],z:t[2],m:t[3]}}function k(e,t){return e.coords[0]=t.x,e.coords[1]=t.y,e.coords[2]=t.z,e.coords[3]=t.m,e}function j(e,t){return e&&t?k:e?F:t?x:G}function E(e,t,n,o,r){const s=j(n,o);for(const n of t){const{geometry:t,attributes:o}=n;let l;t&&(l=s(new u,t)),e.push(new c(l,o,null,o[r]))}return e}function z(e,t,n=j(null!=t.z,null!=t.m)){return n(e,t)}function S(e,t,n,o){for(const r of t){const{geometry:t,attributes:s}=r;let c;t&&(c=v(t,n,o)),e.push({attributes:s,geometry:c})}return e}function v(e,t,n){if(!e)return null;const o=i(t,n),r=[];for(let t=0;t<e.coords.length;t+=o){const n=[];for(let r=0;r<o;r++)n.push(e.coords[t+r]);r.push(n)}return t?n?{points:r,hasZ:t,hasM:n}:{points:r,hasZ:t}:n?{points:r,hasM:n}:{points:r}}function V(e,t,n,o,r){const s=i(n,o);for(const n of t){const t=n.geometry,o=n.attributes;let l;t&&(l=Y(new u,t,s)),e.push(new c(l,o,null,o[r]))}return e}function Y(e,t,n=i(t.hasZ,t.hasM)){e.lengths[0]=t.points.length;const o=e.coords;let r=0;for(const e of t.points)for(let t=0;t<n;t++)o[r++]=e[t];return e}function _(e,t,n){if(!e)return null;const o=i(t,n),{coords:r,lengths:s}=e,c=[];let l=0;for(const e of s){const t=[];for(let n=0;n<e;n++){const e=[];for(let t=0;t<o;t++)e.push(r[l++]);t.push(e)}c.push(t)}return t?n?{paths:c,hasZ:t,hasM:n}:{paths:c,hasZ:t}:n?{paths:c,hasM:n}:{paths:c}}function O(e,t,n,o,r){const s=i(n,o);for(const n of t){const t=n.geometry,o=n.attributes;let l;t&&(l=A(new u,t,s)),e.push(new c(l,o,null,o[r]))}return e}function A(e,t,n=i(t.hasZ,t.hasM)){const{lengths:o,coords:r}=e;let s=0;for(const e of t.paths){for(const t of e)for(let e=0;e<n;e++)r[s++]=t[e];o.push(e.length)}return e}function L(e,t,n){if(!e)return null;const o=i(t,n),{coords:r,lengths:s}=e,c=[];let l=0;for(const e of s){const t=[];for(let n=0;n<e;n++){const e=[];for(let t=0;t<o;t++)e.push(r[l++]);t.push(e)}c.push(t)}return t?n?{rings:c,hasZ:t,hasM:n}:{rings:c,hasZ:t}:n?{rings:c,hasM:n}:{rings:c}}function U(e,t,n,o,r){for(const s of t){const t=s.geometry,l=s.centroid,i=s.attributes;let f;t&&(f=q(new u,t,n,o)),l?e.push(new c(f,i,G(new u,l),i[r])):e.push(new c(f,i,null,i[r]))}return e}function q(e,t,n=t.hasZ,o=t.hasM){return $(e,t.rings,n,o),e}function $(e,t,n,o){const r=i(n,o),{lengths:s,coords:c}=e;let l=0;s.length=c.length=0;for(const e of t){for(const t of e)for(let e=0;e<r;e++)c[l++]=t[e];s.push(e.length)}return e}const R=[],C=[];function B(e,t,n,o,r){R[0]=e;const[s]=D(C,R,t,n,o,r);return R.length=C.length=0,s}function D(e,n,o,r,s,l){if(e.length=0,!o){for(const t of n){const n=t.attributes[l];e.push(new c(null,t.attributes,null,n))}return e}switch(o){case\"esriGeometryPoint\":return E(e,n,r,s,l);case\"esriGeometryMultipoint\":return V(e,n,r,s,l);case\"esriGeometryPolyline\":return O(e,n,r,s,l);case\"esriGeometryPolygon\":return U(e,n,r,s,l);default:f.error(\"convertToFeatureSet:unknown-geometry\",new t(`Unable to parse unknown geometry type '${o}'`)),e.length=0}return e}function H(e,n,o,r,s,c){const l=e.length;switch(o){case\"esriGeometryPoint\":E(e,n,r,s,c);break;case\"esriGeometryMultipoint\":V(e,n,r,s,c);break;case\"esriGeometryPolyline\":O(e,n,r,s,c);break;case\"esriGeometryPolygon\":U(e,n,r,s,c);break;default:f.error(\"convertToFeatureSet:unknown-geometry\",new t(`Unable to parse unknown geometry type '${o}'`))}for(let t=0;t<n.length;t++)e[t+l].geometryType=o,e[t+l].insertAfter=n[t].insertAfter,e[t+l].groupId=n[t].groupId;return e}function J(e,t,n,o){C[0]=e,W(R,C,t,n,o);const r=R[0];return R.length=C.length=0,r}function K(e,c,l){if(!e)return null;const h=new u;if(\"hasZ\"in e&&null==c&&(c=e.hasZ),\"hasM\"in e&&null==l&&(l=e.hasM),n(e)){return j(null!=c?c:null!=e.z,null!=l?l:null!=e.m)(h,e)}return o(e)?q(h,e,c,l):r(e)?A(h,e,i(c,l)):s(e)?Y(h,e,i(c,l)):void f.error(\"convertFromGeometry:unknown-geometry\",new t(`Unable to parse unknown geometry type '${e}'`))}function Q(e,n,o,r){const s=e&&(\"coords\"in e?e:e.geometry);if(!s)return null;switch(n){case\"esriGeometryPoint\":{let e=N;return o&&r?e=Z:o?e=T:r&&(e=P),e(s)}case\"esriGeometryMultipoint\":return v(s,o,r);case\"esriGeometryPolyline\":return _(s,o,r);case\"esriGeometryPolygon\":return L(s,o,r);default:return void f.error(\"convertToGeometry:unknown-geometry\",new t(`Unable to parse unknown geometry type '${n}'`))}}function W(e,n,o,r,s){switch(e.length=0,o){case\"esriGeometryPoint\":return function(e,t,n,o){let r=N;n&&o?r=Z:n?r=T:o&&(r=P);for(const n of t){const{geometry:t,attributes:o}=n,s=t?r(t):null;e.push({attributes:o,geometry:s})}return e}(e,n,r,s);case\"esriGeometryMultipoint\":return S(e,n,r,s);case\"esriGeometryPolyline\":return function(e,t,n,o){for(const r of t){const{geometry:t,attributes:s}=r;let c;t&&(c=_(t,n,o)),e.push({attributes:s,geometry:c})}return e}(e,n,r,s);case\"esriGeometryPolygon\":return function(e,t,n,o){for(const r of t){const{geometry:t,attributes:s,centroid:c}=r;let l;if(t&&(l=L(t,n,o)),c){const t=N(c);e.push({attributes:s,centroid:t,geometry:l})}else e.push({attributes:s,geometry:l})}return e}(e,n,r,s);default:f.error(\"convertToFeatureSet:unknown-geometry\",new t(`Unable to parse unknown geometry type '${o}'`))}return e}function X(e){const{objectIdFieldName:t,spatialReference:n,transform:o,fields:r,hasM:s,hasZ:c,features:l,geometryType:u,exceededTransferLimit:i,uniqueIdField:f,queryGeometry:h,queryGeometryType:a}=e,g={features:W([],l,u,c,s),fields:r,geometryType:u,objectIdFieldName:t,spatialReference:n,uniqueIdField:f,queryGeometry:Q(h,a,!1,!1)};return o&&(g.transform=o),i&&(g.exceededTransferLimit=i),s&&(g.hasM=s),c&&(g.hasZ=c),g}function ee(e,n){const o=new l,{hasM:r,hasZ:s,features:c,objectIdFieldName:u,spatialReference:i,geometryType:h,exceededTransferLimit:a,transform:g,fields:d}=e;return d&&(o.fields=d),o.geometryType=h,o.objectIdFieldName=u||n,o.spatialReference=i,o.objectIdFieldName?(c&&D(o.features,c,h,s,r,o.objectIdFieldName),a&&(o.exceededTransferLimit=a),r&&(o.hasM=r),s&&(o.hasZ=s),g&&(o.transform=g),o):(f.error(new t(\"optimized-features:invalid-objectIdFieldName\",\"objectIdFieldName is missing\")),o)}function te(e){const{transform:t,features:n,hasM:o,hasZ:r}=e;if(!t)return e;for(const e of n)e.geometry&&ie(e.geometry,e.geometry,o,r,t),e.centroid&&ie(e.centroid,e.centroid,o,r,t);return e.transform=null,e}function ne(e,t){const{geometryType:n,features:o,hasM:r,hasZ:s}=t;if(!e)return t;for(let t=0;t<o.length;t++){const c=o[t],l=c.weakClone();l.geometry=new u,oe(l.geometry,c.geometry,r,s,n,e),c.centroid&&(l.centroid=new u,oe(l.centroid,c.centroid,r,s,\"esriGeometryPoint\",e)),o[t]=l}return t.transform=e,t}function oe(e,t,n,o,r,s,c=n,l=o){if(e.lengths.length&&(e.lengths.length=0),e.coords.length&&(e.coords.length=0),!t||!t.coords.length)return null;const u=h[r],{coords:f,lengths:a}=t,g=i(n,o),d=i(n&&c,o&&l),m=y(n,o,c,l);if(!a.length)return m(e.coords,f,0,0,p(s,f[0]),I(s,f[1])),e.lengths.length&&(e.lengths.length=0),e.coords.length=g,e;let b,M,w,N,G=0,T=0,F=T;for(const t of a){if(t<u)continue;let n=0;T=F,w=b=p(s,f[G]),N=M=I(s,f[G+1]),m(e.coords,f,T,G,w,N),n++,G+=g,T+=d;for(let o=1;o<t;o++,G+=g)w=p(s,f[G]),N=I(s,f[G+1]),w===b&&N===M||(m(e.coords,f,T,G,w-b,N-M),T+=d,n++,b=w,M=N);n>=u&&(e.lengths.push(n),F=T)}return e.coords.length=F,e.coords.length?e:null}function re(e,t,n,o,r,s,c=n,l=o){if(e.lengths.length&&(e.lengths.length=0),e.coords.length&&(e.coords.length=0),!t||!t.coords.length)return null;const u=h[r],{coords:f,lengths:a}=t,g=i(n,o),d=i(n&&c,o&&l),m=y(n,o,c,l);if(!a.length)return m(e.coords,f,0,0,f[0],f[1]),e.lengths.length&&(e.lengths.length=0),e.coords.length=g,e;let p=0;const I=s*s;for(const t of a){if(t<u){p+=t*g;continue}const n=e.coords.length/d,o=p,r=p+(t-1)*g;m(e.coords,f,e.coords.length,o,f[o],f[o+1]),ce(e.coords,f,g,I,m,o,r),m(e.coords,f,e.coords.length,r,f[r],f[r+1]);const s=e.coords.length/d-n;s>=u?e.lengths.push(s):e.coords.length=n*d,p+=t*g}return e.coords.length?e:null}function se(e,t,n,o){const r=e[t],s=e[t+1],c=e[n],l=e[n+1],u=e[o],i=e[o+1];let f=c,h=l,a=u-f,g=i-h;if(0!==a||0!==g){const e=((r-f)*a+(s-h)*g)/(a*a+g*g);e>1?(f=u,h=i):e>0&&(f+=a*e,h+=g*e)}return a=r-f,g=s-h,a*a+g*g}function ce(e,t,n,o,r,s,c){let l,u=o,i=0;for(let e=s+n;e<c;e+=n)l=se(t,e,s,c),l>u&&(i=e,u=l);u>o&&(i-s>n&&ce(e,t,n,o,r,s,i),r(e,t,e.length,i,t[i],t[i+1]),c-i>n&&ce(e,t,n,o,r,i,c))}function le(e,t,n,o){if(!t||!t.coords||!t.coords.length)return null;const r=i(n,o);let s=Number.POSITIVE_INFINITY,c=Number.POSITIVE_INFINITY,l=Number.NEGATIVE_INFINITY,u=Number.NEGATIVE_INFINITY;if(t&&t.coords){const e=t.coords;for(let t=0;t<e.length;t+=r){const n=e[t],o=e[t+1];s=Math.min(s,n),l=Math.max(l,n),c=Math.min(c,o),u=Math.max(u,o)}}return e[0]=s,e[1]=c,e[2]=l,e[3]=u,e}function ue(e,t,n,o){const r=i(n,o),{lengths:s,coords:c}=t;let l=Number.POSITIVE_INFINITY,u=Number.POSITIVE_INFINITY,f=Number.NEGATIVE_INFINITY,h=Number.NEGATIVE_INFINITY,a=0;for(const e of s){let t=c[a],n=c[a+1];l=Math.min(t,l),u=Math.min(n,u),f=Math.max(t,f),h=Math.max(n,h),a+=r;for(let o=1;o<e;o++,a+=r){const e=c[a],o=c[a+1];t+=e,n+=o,e<0&&(l=Math.min(l,t)),e>0&&(f=Math.max(f,t)),o<0?u=Math.min(u,n):o>0&&(h=Math.max(h,n))}}return e[0]=l,e[1]=u,e[2]=f,e[3]=h,e}function ie(e,t,n,o,r){const{coords:s,lengths:c}=t,l=n?o?m:g:o?g:a,u=i(n,o);if(!s.length)return e!==t&&(e.lengths.length=0,e.coords.length=0),e;if(!c.length)return l(e.coords,s,0,0,b(r,s[0]),M(r,s[1])),e!==t&&(e.lengths.length=0,e.coords.length=u),e;const[f,h]=r.scale;let d=0;for(let t=0;t<c.length;t++){const n=c[t];e.lengths[t]=n;let o=b(r,s[d]),i=M(r,s[d+1]);l(e.coords,s,d,d,o,i),d+=u;for(let t=1;t<n;t++,d+=u)o+=s[d]*f,i-=s[d+1]*h,l(e.coords,s,d,d,o,i)}return e!==t&&(e.lengths.length=c.length,e.coords.length=s.length),e}function fe(e,t,n,o,r,s){const c=i(n,o),l=y(n,o,r,s),u=t.coords;e.coords.length=0,e.lengths.length=0,e.lengths.push(...t.lengths);for(let t=0;t<u.length;t+=c)l(e.coords,u,e.coords.length,t,u[t],u[t+1]);return e}function he(e,t,n,o,r){if(!t||!t.coords||!t.coords.length)return null;const s=h[n],{coords:c,lengths:l}=t,u=y(o,r,o,r),f=i(o,r);let a=0,g=0,d=0,m=0;for(const t of l){g=m,u(e.coords,c,g,a,c[a],c[a+1]),a+=f;let n=c[a],o=c[a+1],r=n,l=o,i=o/n;g+=f,u(e.coords,c,g,a,r,l),a+=f;for(let s=2;s<t;s++){n=c[a],o=c[a+1];const t=o/n,s=i===t||!isFinite(i)&&!isFinite(t),h=s&&isFinite(t)?i>=0&&t>=0||i<=0&&t<=0:l>=0&&o>=0||l<=0&&o<=0;s&&h?(r+=n,l+=o):(r=n,l=o,g+=f),u(e.coords,c,g,a,r,l),a+=f,i=t}g+=f;const h=(g-m)/f;h>=s&&(e.lengths[d]=h,m=g,d++)}return e.coords.length>m&&(e.coords.length=m),e.lengths.length>d&&(e.lengths.length=d),e.coords.length&&e.lengths.length?e:null}function ae(e,t,n,o){let r=0,s=e[o*t],c=e[o*(t+1)];for(let l=1;l<n;l++){const n=s+e[o*(t+l)],u=c+e[o*(t+l)+1],i=(n-s)*(u+c);s=n,c=u,r+=i}return.5*r}function ge(e,t){const{coords:n,lengths:o}=e;let r=0,s=0;for(let e=0;e<o.length;e++){s+=ae(n,r,o[e],t),r+=e}return Math.abs(s)}function de(e,t){const n=e.clone(),o=e.coords,r=e.lengths;let s=0;for(let e=0;e<r.length;e++){const c=r[e];let l=o[t*s],u=o[t*s+1];for(let e=1;e<c;e++){const r=o[t*(s+e)],c=o[t*(s+e)+1],i=r-l,f=c-u;n.coords[t*(s+e)]=i,n.coords[t*(s+e)+1]=f,l=r,u=c}s+=c}return n}function me(e,t){const n=e.clone(),o=e.coords,r=e.lengths;let s=0;for(let e=0;e<r.length;e++){const c=r[e];let l=o[t*s],u=o[t*s+1];for(let e=1;e<c;e++){const r=l+o[t*(s+e)],c=u+o[t*(s+e)+1];n.coords[t*(s+e)]=r,n.coords[t*(s+e)+1]=c,l=r,u=c}s+=c}return n}export{B as convertFromFeature,ee as convertFromFeatureSet,D as convertFromFeatures,K as convertFromGeometry,H as convertFromGraphics,Y as convertFromMultipoint,V as convertFromMultipointFeatures,$ as convertFromNestedArray,z as convertFromPoint,E as convertFromPointFeatures,q as convertFromPolygon,A as convertFromPolyline,O as convertFromPolylineFeatures,J as convertToFeature,X as convertToFeatureSet,W as convertToFeatures,Q as convertToGeometry,v as convertToMultipoint,S as convertToMultipointFeatures,w as convertToPoint,L as convertToPolygon,_ as convertToPolyline,me as deltaDecodeGeometry,de as deltaEncodeGeometry,re as generalizeOptimizedGeometry,le as getBoundsOptimizedGeometry,ge as getQuantizedArea,ue as getQuantizedBoundsOptimizedGeometry,ae as getSignedQuantizedRingArea,ne as quantizeOptimizedFeatureSet,oe as quantizeOptimizedGeometry,p as quantizeX,I as quantizeY,he as removeCollinearVectices,fe as removeZMValues,te as unquantizeOptimizedFeatureSet,ie as unquantizeOptimizedGeometry,b as unquantizeX,M as unquantizeY};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../core/has.js\";import{fixJson as r}from\"../../../core/lang.js\";import{setDeepValue as a}from\"../../../core/object.js\";import{isSome as s,isNone as o}from\"../../../core/maybe.js\";import\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import{property as i}from\"../../../core/accessorSupport/decorators/property.js\";import{subclass as u}from\"../../../core/accessorSupport/decorators/subclass.js\";import n from\"../../../core/Error.js\";import{dataComponents as l}from\"../../../core/urlUtils.js\";import\"../../../core/uuid.js\";import\"../../../portal/support/resourceExtension.js\";import{resolve as d,all as c,create as h}from\"../../../core/promiseUtils.js\";import y from\"../../../geometry/Extent.js\";import p from\"../../../request.js\";import m from\"../../../core/Loadable.js\";import f from\"../../../TimeExtent.js\";import{unapplyEditsZUnitScaling as g}from\"../../../tasks/operations/zscale.js\";import{processAttachmentQueryResult as b}from\"../../../tasks/operations/queryAttachments.js\";import F from\"../../../tasks/QueryTask.js\";import{createDrawingInfo as R}from\"./support/clientSideDefaults.js\";const q=new Set([\"Feature Layer\",\"Table\"]);let I=class extends m{constructor(){super(...arguments),this.type=\"feature-layer\"}load(e){const t=s(e)?e.signal:null;return this.addResolvingPromise(this._fetchService(t)),d(this)}get queryTask(){const{capabilities:{query:{supportsFormatPBF:e}},parsedUrl:r,dynamicDataSource:a,gdbVersion:s,spatialReference:o,fieldsIndex:i}=this.layer,u=t(\"featurelayer-pbf\")&&e?\"pbf\":\"json\";return new F({url:r.path,format:u,fieldsIndex:i,dynamicDataSource:a,gdbVersion:s,sourceSpatialReference:o})}async addAttachment(e,t){await this.load();const r=e.attributes[this.layer.objectIdField],a=this.layer.parsedUrl.path+\"/\"+r+\"/addAttachment\",s=this._getLayerRequestOptions(),o=this._getFormDataForAttachment(t,s.query);try{const e=await p(a,{body:o});return this._createFeatureEditResult(e.data.addAttachmentResult)}catch(e){throw this._createAttachmentErrorResult(r,e)}}async updateAttachment(e,t,r){await this.load();const a=e.attributes[this.layer.objectIdField],s=this.layer.parsedUrl.path+\"/\"+a+\"/updateAttachment\",o=this._getLayerRequestOptions({query:{attachmentId:t}}),i=this._getFormDataForAttachment(r,o.query);try{const e=await p(s,{body:i});return this._createFeatureEditResult(e.data.updateAttachmentResult)}catch(e){throw this._createAttachmentErrorResult(a,e)}}async applyEdits(e,t){await this.load();const r=e.addFeatures.map(this._serializeFeature,this),a=e.updateFeatures.map(this._serializeFeature,this),s=this._getFeatureIds(e.deleteFeatures);g(r,a,this.layer.spatialReference);const o=[],i=[],u=[...e.deleteAttachments];for(const t of e.addAttachments)o.push(await this._serializeAttachment(t));for(const t of e.updateAttachments)i.push(await this._serializeAttachment(t));const n=o.length||i.length||u.length?{adds:o,updates:i,deletes:u}:null,l=this._getLayerRequestOptions({method:\"post\",query:{adds:r.length?JSON.stringify(r):null,updates:a.length?JSON.stringify(a):null,deletes:s.length?s.join(\",\"):null,gdbVersion:null==t?void 0:t.gdbVersion,rollbackOnFailure:null==t?void 0:t.rollbackOnFailureEnabled,useGlobalIds:null==t?void 0:t.globalIdUsed,attachments:n&&JSON.stringify(n)}}),d=await p(this.layer.parsedUrl.path+\"/applyEdits\",l);return this._createEditsResult(d)}async deleteAttachments(e,t){await this.load();const r=e.attributes[this.layer.objectIdField],a=this.layer.parsedUrl.path+\"/\"+r+\"/deleteAttachments\";try{return(await p(a,this._getLayerRequestOptions({query:{attachmentIds:t.join(\",\")},method:\"post\"}))).data.deleteAttachmentResults.map(this._createFeatureEditResult)}catch(e){throw this._createAttachmentErrorResult(r,e)}}fetchRecomputedExtents(e={}){const t=e.signal;return this.load({signal:t}).then((async()=>{const t=this._getLayerRequestOptions({...e,query:{returnUpdates:!0}}),{layerId:r,url:a}=this.layer,{data:s}=await p(`${a}/${r}`,t),{id:o,extent:i,fullExtent:u,timeExtent:n}=s,l=i||u;return{id:o,fullExtent:l&&y.fromJSON(l),timeExtent:n&&f.fromJSON({start:n[0],end:n[1]})}}))}async queryAttachments(e,t={}){const{parsedUrl:r}=this.layer,a=r.path;await this.load();const s=this._getLayerRequestOptions(t);if(!this.layer.get(\"capabilities.operations.supportsQueryAttachments\")){const{objectIds:t}=e,r=[];for(const e of t){const t=a+\"/\"+e+\"/attachments\";r.push(p(t,s))}return c(r).then((e=>t.map(((t,r)=>({parentObjectId:t,attachmentInfos:e[r].data.attachmentInfos}))))).then((e=>b(e,a)))}return this.queryTask.executeAttachmentQuery(e,s)}async queryFeatures(e,t){return await this.load(),this.queryTask.execute(e,{...t,query:{...this.layer.customParameters,...null==t?void 0:t.query}})}async queryFeaturesJSON(e,t){return await this.load(),this.queryTask.executeJSON(e,{...t,query:{...this.layer.customParameters,...null==t?void 0:t.query}})}async queryObjectIds(e,t){return await this.load(),this.queryTask.executeForIds(e,{...t,query:{...this.layer.customParameters,...null==t?void 0:t.query}})}async queryFeatureCount(e,t){return await this.load(),this.queryTask.executeForCount(e,{...t,query:{...this.layer.customParameters,...null==t?void 0:t.query}})}async queryExtent(e,t){return await this.load(),this.queryTask.executeForExtent(e,{...t,query:{...this.layer.customParameters,...null==t?void 0:t.query}})}async queryRelatedFeatures(e,t){return await this.load(),this.queryTask.executeRelationshipQuery(e,{...t,query:{...this.layer.customParameters,...null==t?void 0:t.query}})}async queryRelatedFeaturesCount(e,t){return await this.load(),this.queryTask.executeRelationshipQueryForCount(e,{...t,query:{...this.layer.customParameters,...null==t?void 0:t.query}})}async _fetchService(e){let r=this.layer.sourceJSON;if(!r){const{data:a}=await p(this.layer.parsedUrl.path,this._getLayerRequestOptions({query:t(\"featurelayer-advanced-symbols\")?{returnAdvancedSymbols:!0}:{},signal:e}));r=a}this.sourceJSON=this._patchServiceJSON(r);const a=r.type;if(!q.has(a))throw new n(\"feature-layer-source:unsupported-type\",`Source type \"${a}\" is not supported`)}_patchServiceJSON(e){var t;if(\"Table\"!==e.type&&e.geometryType&&(null==e||null==(t=e.drawingInfo)||!t.renderer)&&!e.defaultSymbol){const t=R(e.geometryType).renderer;a(\"drawingInfo.renderer\",t,e)}return e}_serializeFeature(e){const{geometry:t,attributes:r}=e;return o(t)?{attributes:r}:\"mesh\"===t.type||\"extent\"===t.type?null:{geometry:t.toJSON(),attributes:r}}async _serializeAttachment(e){const{feature:t,attachment:r}=e,{globalId:a,name:s,contentType:o,data:i,uploadId:u}=r,n={globalId:a,parentGlobalId:null,contentType:null,name:null,uploadId:null,data:null};if(t&&(n.parentGlobalId=\"attributes\"in t?t.attributes&&t.attributes[this.layer.globalIdField]:t.globalId),u)n.uploadId=u;else if(i){const e=await async function(e){if(\"string\"==typeof e){return l(e)||{data:e}}return h(((t,r)=>{const a=new FileReader;a.readAsDataURL(e),a.onload=()=>t(l(a.result)),a.onerror=e=>r(e)}))}(i);n.contentType=e.mediaType,n.data=e.data,i instanceof File&&(n.name=i.name)}return s&&(n.name=s),o&&(n.contentType=o),n}_getFeatureIds(e){const t=e[0];return t?\"objectId\"in t?this._getIdsFromFeatureIdentifier(e):this._getIdsFromFeatures(e):[]}_getIdsFromFeatures(e){const t=this.layer.objectIdField;return e.map((e=>e.attributes&&e.attributes[t]))}_getIdsFromFeatureIdentifier(e){return e.map((e=>e.objectId))}_createEditsResult(e){const t=e.data,r=e.data&&e.data.attachments;return{addFeatureResults:t.addResults?t.addResults.map(this._createFeatureEditResult,this):[],updateFeatureResults:t.updateResults?t.updateResults.map(this._createFeatureEditResult,this):[],deleteFeatureResults:t.deleteResults?t.deleteResults.map(this._createFeatureEditResult,this):[],addAttachmentResults:r&&r.addResults?r.addResults.map(this._createFeatureEditResult,this):[],updateAttachmentResults:r&&r.updateResults?r.updateResults.map(this._createFeatureEditResult,this):[],deleteAttachmentResults:r&&r.deleteResults?r.deleteResults.map(this._createFeatureEditResult,this):[]}}_createFeatureEditResult(e){const t=!0===e.success?null:e.error||{code:void 0,description:void 0};return{objectId:e.objectId,globalId:e.globalId,error:t?new n(\"feature-layer-source:edit-failure\",t.description,{code:t.code}):null}}_createAttachmentErrorResult(e,t){const r=t.details.messages&&t.details.messages[0]||t.message,a=t.details.httpStatus||t.details.messageCode;return{objectId:e,globalId:null,error:new n(\"feature-layer-source:attachment-failure\",r,{code:a})}}_getFormDataForAttachment(e,t){const r=e instanceof FormData?e:e&&e.elements?new FormData(e):null;if(r)for(const e in t){const a=t[e];null!=a&&(r.set?r.set(e,a):r.append(e,a))}return r}_getLayerRequestOptions(e={}){const{parsedUrl:t,gdbVersion:a,dynamicDataSource:s}=this.layer;return{...e,query:r({gdbVersion:a,layer:s?JSON.stringify({source:s}):void 0,...t.query,f:\"json\",...this.layer.customParameters,...null==e?void 0:e.query}),responseType:\"json\"}}};e([i()],I.prototype,\"type\",void 0),e([i({constructOnly:!0})],I.prototype,\"layer\",void 0),e([i({readOnly:!0,dependsOn:[\"layer.parsedUrl\",\"layer.gdbVersion\",\"layer.dynamicDataSource\",\"layer.fieldsIndex\"]})],I.prototype,\"queryTask\",null),I=e([u(\"esri.layers.graphics.sources.FeatureLayerSource\")],I);var _=I;export default _;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport t from\"../../../../core/has.js\";import{clone as r}from\"../../../../core/lang.js\";import{defaultPointSymbolJSON as e,defaultPolylineSymbolJSON as n,defaultPolygonSymbolJSON as o}from\"../../../../symbols/support/defaultsJSON.js\";function i(t){return{renderer:{type:\"simple\",symbol:\"esriGeometryPoint\"===t||\"esriGeometryMultipoint\"===t?e:\"esriGeometryPolyline\"===t?n:o}}}function s(r,e){if(t(\"csp-restrictions\"))return()=>({[e]:null,...r});try{let t=`this.${e} = null;`;for(const e in r){t+=`this${e.indexOf(\".\")?`[\"${e}\"]`:`.${e}`} = ${JSON.stringify(r[e])};`}const n=new Function(t);return()=>new n}catch(t){return()=>({[e]:null,...r})}}function u(t={}){return[{name:\"New Feature\",description:\"\",prototype:{attributes:r(t)}}]}export{s as createDefaultAttributesFunction,u as createDefaultTemplate,i as createDrawingInfo};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../chunks/tslib.es6.js\";import\"../core/has.js\";import\"../core/Logger.js\";import\"../core/accessorSupport/ensureType.js\";import{property as o}from\"../core/accessorSupport/decorators/property.js\";import{subclass as e}from\"../core/accessorSupport/decorators/subclass.js\";import{urlToObject as s}from\"../core/urlUtils.js\";import\"../core/uuid.js\";import\"../portal/support/resourceExtension.js\";import t from\"../core/Accessor.js\";let p=class extends t{constructor(...r){super(...r),this.requestOptions=null,this.url=null}normalizeCtorArgs(r,o){return\"string\"!=typeof r?r:{url:r,...o}}get parsedUrl(){return this._parseUrl(this.url)}_parseUrl(r){return r?s(r):null}_encode(r,o,e){const s={};for(const t in r){if(\"declaredClass\"===t)continue;const p=r[t];if(null!=p&&\"function\"!=typeof p)if(Array.isArray(p)){s[t]=[];for(let r=0;r<p.length;r++)s[t][r]=this._encode(p[r])}else if(\"object\"==typeof p)if(p.toJSON){const r=p.toJSON(e&&e[t]);s[t]=o?r:JSON.stringify(r)}else s[t]=o?p:JSON.stringify(p);else s[t]=p}return s}};r([o({readOnly:!0,dependsOn:[\"url\"]})],p.prototype,\"parsedUrl\",null),r([o()],p.prototype,\"requestOptions\",void 0),r([o({type:String})],p.prototype,\"url\",void 0),p=r([e(\"esri.tasks.Task\")],p);var i=p;export default i;\n"],"sourceRoot":""}