{"version":3,"sources":["webpack://imaps/./node_modules/@arcgis/core/layers/support/arcgisLayerUrl.js","webpack://imaps/./node_modules/@arcgis/core/tasks/operations/queryZScale.js","webpack://imaps/./node_modules/@arcgis/core/tasks/operations/zscale.js","webpack://imaps/./node_modules/@arcgis/core/tasks/support/FeatureSet.js"],"names":["l","a","RegExp","join","c","f","e","test","p","t","n","path","match","s","i","o","u","indexOf","title","m","slice","serverType","sublayer","parseInt","url","replace","toUpperCase","d","r","push","length","toLowerCase","v","x","h","layerId","y","toString","O","S","authority","features","hasZ","geometryType","outSpatialReference","geometry","vcsWkid","z","paths","rings","points","hasM","spatialReference","esriGeometryPoint","esriGeometryMultipoint","esriGeometryPolyline","esriGeometryPolygon","esriGeometryEnvelope","mesh","super","this","displayFieldName","exceededTransferLimit","fields","queryGeometry","write","type","toJSON","Array","isArray","scale","translate","_getQuantizationFunction","Math","round","splice","transform","_getHydrationFunction","_quantizePoints","xmin","ymin","xmax","ymax","String","json","prototype","Boolean","overridePolicy","enabled","read","reader","types","isDefaultToJSON"],"mappings":"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","file":"chunks/6801.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../core/maybe.js\";import{urlToObject as r,removeTrailingSlash as t,removeQueryParameters as n,join as s,Url as i,makeAbsolute as o}from\"../../core/urlUtils.js\";import{w as u}from\"../../chunks/persistableUrlUtils.js\";const l=[\"MapServer\",\"ImageServer\",\"FeatureServer\",\"SceneServer\",\"StreamServer\",\"VectorTileServer\"],a=new RegExp(`^((?:https?:)?\\\\/\\\\/\\\\S+?\\\\/rest\\\\/services\\\\/(.+?)\\\\/(${l.join(\"|\")}))(?:\\\\/(?:layers\\\\/)?(\\\\d+))?`,\"i\"),c=new RegExp(`^((?:https?:)?\\\\/\\\\/\\\\S+?\\\\/([^\\\\/\\\\n]+)\\\\/(${l.join(\"|\")}))(?:\\\\/(?:layers\\\\/)?(\\\\d+))?`,\"i\");function f(e){return!!a.test(e)}function p(e){const t=r(e),n=t.path.match(a)||t.path.match(c);if(!n)return null;const[,s,i,o,u]=n,l=i.indexOf(\"/\");return{title:m(-1!==l?i.slice(l+1):i),serverType:o,sublayer:null!=u&&\"\"!==u?parseInt(u,10):null,url:{path:s}}}function m(e){return(e=e.replace(/\\s*[/_]+\\s*/g,\" \"))[0].toUpperCase()+e.slice(1)}function d(r,t){const n=[];if(r){const t=p(r);e(t)&&t.title&&n.push(t.title)}if(t){const e=m(t);n.push(e)}if(2===n.length){if(-1!==n[0].toLowerCase().indexOf(n[1].toLowerCase()))return n[0];if(-1!==n[1].toLowerCase().indexOf(n[0].toLowerCase()))return n[1]}return n.join(\" - \")}function v(e){if(!e)return!1;const r=-1!==(e=e.toLowerCase()).indexOf(\".arcgis.com/\"),t=-1!==e.indexOf(\"//services\")||-1!==e.indexOf(\"//tiles\")||-1!==e.indexOf(\"//features\");return r&&t}function w(e,r){return r&&e&&-1!==e.toLowerCase().indexOf(r.toLowerCase())}function x(e,r){return e?t(n(e,r)):e}function h(s,i,o){if(!i)return{url:i};i=n(i,o);const u=p(r(i).path);let l;return e(u)&&(null!=u.sublayer&&null==s.layerId&&(l=u.sublayer),i=u.url.path),{url:t(i),layerId:l}}function y(e,r,t,n,i){u(r,n,\"url\",i),n.url&&null!=e.layerId&&(n.url=s(n.url,t,e.layerId.toString()))}function O(e){if(!e)return!1;const r=e.toLowerCase(),t=-1!==r.indexOf(\"/services/\"),n=-1!==r.indexOf(\"/mapserver/wmsserver\"),s=-1!==r.indexOf(\"/imageserver/wmsserver\"),i=-1!==r.indexOf(\"/wmsserver\");return t&&(n||s||i)}function S(e){if(!e)return!1;const r=new i(o(e)).authority.toLowerCase();return\"server.arcgisonline.com\"===r||\"services.arcgisonline.com\"===r}export{m as cleanTitle,f as isArcGISUrl,v as isHostedAgolService,w as isHostedSecuredProxyService,S as isServerOrServicesAGOLUrl,O as isWmsServer,p as parse,x as sanitizeUrl,h as sanitizeUrlWithLayerId,l as serverTypes,d as titleFromUrlAndName,y as writeUrlWithLayerId};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{getGeometryZScaler as e}from\"./zscale.js\";function t(t,o,r){if(!r||!r.features||!r.hasZ)return;const f=e(r.geometryType,o,t.outSpatialReference);if(f)for(const e of r.features)f(e.geometry)}export{t as applyFeatureSetZUnitScaling};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{isNone as n}from\"../../core/maybe.js\";import{equals as e}from\"../../geometry/support/spatialReferenceUtils.js\";import{getMetersPerVerticalUnitForSR as t}from\"../../core/unitUtils.js\";function o(o,r,i){if(n(r)||n(i)||i.vcsWkid||e(r,i))return null;const s=t(r)/t(i);if(1===s)return null;switch(o){case\"point\":case\"esriGeometryPoint\":return n=>{return t=s,void((e=n)&&null!=e.z&&(e.z*=t));var e,t};case\"polyline\":case\"esriGeometryPolyline\":return n=>function(n,e){if(!n)return;for(const t of n.paths)for(const n of t)n.length>2&&(n[2]*=e)}(n,s);case\"polygon\":case\"esriGeometryPolygon\":return n=>function(n,e){if(!n)return;for(const t of n.rings)for(const n of t)n.length>2&&(n[2]*=e)}(n,s);case\"multipoint\":case\"esriGeometryMultipoint\":return n=>function(n,e){if(!n)return;for(const t of n.points)t.length>2&&(t[2]*=e)}(n,s);default:return null}}function r(n,e,t){if(null==n.hasM||n.hasZ)for(const n of e)for(const e of n)e.length>2&&(e[2]*=t)}function i(n,e,o){if(!n&&!e||!o)return;const r=t(o);s(n,o,r),s(e,o,r)}function s(n,e,t){if(n)for(const o of n)f(o.geometry,e,t)}function f(n,o,i){if(!n||!n.spatialReference||e(n.spatialReference,o))return;const s=t(n.spatialReference)/i;if(1!==s)if(\"x\"in n)null!=n.z&&(n.z*=s);else if(\"rings\"in n)r(n,n.rings,s);else if(\"paths\"in n)r(n,n.paths,s);else if(\"points\"in n&&(null==n.hasM||n.hasZ))for(const e of n.points)e.length>2&&(e[2]*=s)}export{o as getGeometryZScaler,i as unapplyEditsZUnitScaling};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import{isSome as t,unwrap as r}from\"../../core/maybe.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import{JSONMap as s}from\"../../core/jsonMap.js\";import{reader as i}from\"../../core/accessorSupport/decorators/reader.js\";import{subclass as n}from\"../../core/accessorSupport/decorators/subclass.js\";import{writer as p}from\"../../core/accessorSupport/decorators/writer.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import{JSONSupport as l}from\"../../core/JSONSupport.js\";import a from\"../../geometry/SpatialReference.js\";import{fromJSON as y,isPolygon as u}from\"../../geometry/support/jsonUtils.js\";import{geometryTypes as m}from\"../../geometry.js\";import c from\"../../Graphic.js\";import f from\"../../layers/support/Field.js\";const h=new s({esriGeometryPoint:\"point\",esriGeometryMultipoint:\"multipoint\",esriGeometryPolyline:\"polyline\",esriGeometryPolygon:\"polygon\",esriGeometryEnvelope:\"extent\",mesh:\"mesh\",\"\":null});let d=class extends l{constructor(e){super(e),this.displayFieldName=null,this.exceededTransferLimit=!1,this.features=[],this.fields=null,this.geometryType=null,this.hasM=!1,this.hasZ=!1,this.queryGeometry=null,this.spatialReference=null}readFeatures(e,r){const o=a.fromJSON(r.spatialReference),s=[];for(let r=0;r<e.length;r++){const i=e[r],n=c.fromJSON(i),p=i.geometry&&i.geometry.spatialReference;t(n.geometry)&&!p&&(n.geometry.spatialReference=o),s.push(n)}return s}writeGeometryType(e,r,o,s){if(e)return void h.write(e,r,o,s);const{features:i}=this;if(i)for(const e of i)if(e&&t(e.geometry))return void h.write(e.geometry.type,r,o,s)}readQueryGeometry(e,t){if(!e)return null;const r=!!e.spatialReference,o=y(e);return!r&&t.spatialReference&&(o.spatialReference=a.fromJSON(t.spatialReference)),o}writeSpatialReference(e,r){if(e)return void(r.spatialReference=e.toJSON());const{features:o}=this;if(o)for(const e of o)e&&t(e.geometry)&&e.geometry.spatialReference&&(r.spatialReference=e.geometry.spatialReference.toJSON())}toJSON(e){const t=this.write(null);if(t.features&&Array.isArray(e)&&e.length>0)for(let r=0;r<t.features.length;r++){const o=t.features[r];if(o.geometry){const t=e&&e[r];o.geometry=t&&t.toJSON()||o.geometry}}return t}quantize(e){const{scale:[t,o],translate:[s,i]}=e,n=this.features,p=this._getQuantizationFunction(this.geometryType,(e=>Math.round((e-s)/t)),(e=>Math.round((i-e)/o)));for(let e=0,t=n.length;e<t;e++)p(r(n[e].geometry))||(n.splice(e,1),e--,t--);return this.transform=e,this}unquantize(){const{geometryType:e,features:r,transform:o}=this;if(!o)return this;const{translate:[s,i],scale:[n,p]}=o,l=this._getHydrationFunction(e,(e=>e*n+s),(e=>i-e*p));for(const{geometry:e}of r)t(e)&&l(e);return this.transform=null,this}_quantizePoints(e,t,r){let o,s;const i=[];for(let n=0,p=e.length;n<p;n++){const p=e[n];if(n>0){const e=t(p[0]),n=r(p[1]);e===o&&n===s||(i.push([e-o,n-s]),o=e,s=n)}else o=t(p[0]),s=r(p[1]),i.push([o,s])}return i.length>0?i:null}_getQuantizationFunction(e,t,r){return\"point\"===e?e=>(e.x=t(e.x),e.y=r(e.y),e):\"polyline\"===e||\"polygon\"===e?e=>{const o=u(e)?e.rings:e.paths,s=[];for(let e=0,i=o.length;e<i;e++){const i=o[e],n=this._quantizePoints(i,t,r);n&&s.push(n)}return s.length>0?(u(e)?e.rings=s:e.paths=s,e):null}:\"multipoint\"===e?e=>{let o;return o=this._quantizePoints(e.points,t,r),o.length>0?(e.points=o,e):null}:\"extent\"===e?e=>e:null}_getHydrationFunction(e,t,r){return\"point\"===e?e=>{e.x=t(e.x),e.y=r(e.y)}:\"polyline\"===e||\"polygon\"===e?e=>{const o=u(e)?e.rings:e.paths;let s,i;for(let e=0,n=o.length;e<n;e++){const n=o[e];for(let e=0,o=n.length;e<o;e++){const o=n[e];e>0?(s+=o[0],i+=o[1]):(s=o[0],i=o[1]),o[0]=t(s),o[1]=r(i)}}}:\"extent\"===e?e=>{e.xmin=t(e.xmin),e.ymin=r(e.ymin),e.xmax=t(e.xmax),e.ymax=r(e.ymax)}:\"multipoint\"===e?e=>{const o=e.points;let s,i;for(let e=0,n=o.length;e<n;e++){const n=o[e];e>0?(s+=n[0],i+=n[1]):(s=n[0],i=n[1]),n[0]=t(s),n[1]=r(i)}}:void 0}};e([o({type:String,json:{write:!0}})],d.prototype,\"displayFieldName\",void 0),e([o({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],d.prototype,\"exceededTransferLimit\",void 0),e([o({type:[c],json:{write:!0}})],d.prototype,\"features\",void 0),e([i(\"features\")],d.prototype,\"readFeatures\",null),e([o({type:[f],json:{write:!0}})],d.prototype,\"fields\",void 0),e([o({type:[\"point\",\"multipoint\",\"polyline\",\"polygon\",\"extent\",\"mesh\"],json:{read:{reader:h.read}}})],d.prototype,\"geometryType\",void 0),e([p(\"geometryType\")],d.prototype,\"writeGeometryType\",null),e([o({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],d.prototype,\"hasM\",void 0),e([o({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],d.prototype,\"hasZ\",void 0),e([o({types:m,json:{write:!0}})],d.prototype,\"queryGeometry\",void 0),e([i(\"queryGeometry\")],d.prototype,\"readQueryGeometry\",null),e([o({type:a,json:{write:!0}})],d.prototype,\"spatialReference\",void 0),e([p(\"spatialReference\")],d.prototype,\"writeSpatialReference\",null),e([o({json:{write:!0}})],d.prototype,\"transform\",void 0),d=e([n(\"esri.tasks.support.FeatureSet\")],d),d.prototype.toJSON.isDefaultToJSON=!0,d||(d={});var g=d;export default g;\n"],"sourceRoot":""}