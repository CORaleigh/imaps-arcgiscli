{"version":3,"sources":["webpack://imaps/./node_modules/@arcgis/core/renderers/support/clickToleranceUtils.js","webpack://imaps/./node_modules/@arcgis/core/symbols/support/defaults.js","webpack://imaps/./node_modules/@arcgis/core/symbols/support/defaultsJSON.js","webpack://imaps/./node_modules/@arcgis/core/views/draw/support/input/GraphicMoverEvents.js","webpack://imaps/./node_modules/@arcgis/core/views/draw/support/GraphicMover.js","webpack://imaps/./node_modules/@arcgis/core/views/interactive/GraphicManipulator.js","webpack://imaps/./node_modules/@arcgis/core/views/support/drapedUtils.js"],"names":["t","e","xoffset","Math","max","abs","yoffset","stops","length","n","r","s","size","renderer","event","pointerType","o","filter","type","map","maxSize","minSize","f","floor","visualVariables","symbol","uniqueValueInfos","forEach","classBreakInfos","c","u","a","y","J","N","O","j","style","color","outline","width","S","font","family","weight","horizontalAlignment","kerning","haloColor","haloSize","rotated","text","angle","i","h","this","graphic","index","x","viewEvent","p","allGraphics","dx","dy","totalDx","totalDy","defaultPrevented","k","super","_activeGraphic","_dragEvent","_handles","_hoverGraphic","_initialDragGeometry","_viewHandles","_manipulators","callbacks","enableMoveAllGraphics","graphics","view","_setUpManipulators","add","on","_clickHandler","_doubleClickHandler","_pointerDownHandler","_pointerMoveHandler","_pointerUpHandler","_dragHandler","_keyDownHandler","reset","destroy","removeAll","get","set","_findTargetGraphic","indexOf","emit","onGraphicClick","onGraphicDoubleClick","onGraphicPointerDown","onGraphicPointerUp","onGraphicPointerOut","onGraphicPointerOver","action","geometry","stopPropagation","origin","onGraphicMoveStart","onGraphicMove","onGraphicMoveStop","key","state","Number","MAX_VALUE","intersectionDistance","prototype","readOnly","dependsOn","C","layer","interactive","selectable","grabbable","dragging","cursor","events","_circleCollisionCache","_graphicSymbolChangedHandle","_originalSymbol","_set","attachSymbolChanged","error","elevationInfo","offset","mode","_get","_updateGraphicSymbol","detachSymbolChanged","_resetGraphicSymbol","visible","l","_intersectDistance2D","_intersectDistance3D","remove","watch","focusedSymbol","_focused","originalPoint","equals","spatialReference","clone","mapPoint","radiusPx","G","toScreen","toMap","include","w","renderSpatialReference","camera","eye","constructOnly","nonNullable","value","resolution","overlayPixelSizeInMapUnits","basemapSpatialReference","m","xmin","min","ymin","xmax","ymax","intersects"],"mappings":"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","file":"chunks/2756.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nfunction t(t,e){return e?\"xoffset\"in e&&e.xoffset?Math.max(t,Math.abs(e.xoffset)):\"yoffset\"in e&&e.yoffset?Math.max(t,Math.abs(e.yoffset||0)):t:t}function e(t,e){return\"number\"==typeof t?t:t&&t.stops&&t.stops.length?function(t){let e=0,n=0;for(let r=0;r<t.length;r++){const s=t[r].size;\"number\"==typeof s&&(e+=s,n++)}return e/n}(t.stops):e}function n(n){const r=n&&n.renderer,s=\"touch\"===(n&&n.event&&n.event.pointerType)?9:6;if(!r)return s;const o=\"visualVariables\"in r?function(t,n){if(!n)return t;const r=n.filter((t=>\"size\"===t.type)).map((n=>{const{maxSize:r,minSize:s}=n;return(e(r,t)+e(s,t))/2}));let s=0;const o=r.length;if(0===o)return t;for(let t=0;t<o;t++)s+=r[t];const f=Math.floor(s/o);return Math.max(f,t)}(s,r.visualVariables):s;if(\"simple\"===r.type)return t(o,r.symbol);if(\"unique-value\"===r.type){let e=o;return r.uniqueValueInfos.forEach((n=>{e=t(e,n.symbol)})),e}if(\"class-breaks\"===r.type){let e=o;return r.classBreakInfos.forEach((n=>{e=t(e,n.symbol)})),e}return r.type,o}export{n as calculateTolerance};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport\"../../core/has.js\";import{isNone as r}from\"../../core/maybe.js\";import o from\"../SimpleLineSymbol.js\";import m from\"../SimpleFillSymbol.js\";import e from\"../SimpleMarkerSymbol.js\";import t from\"../TextSymbol.js\";import{defaultPointSymbolJSON as l,defaultPolylineSymbolJSON as i,defaultPolygonSymbolJSON as n,defaultTextSymbolJSON as s,errorPointSymbolJSON as f,errorPolylineSymbolJSON as p,errorPolygonSymbolJSON as S}from\"./defaultsJSON.js\";const c=e.fromJSON(l),u=o.fromJSON(i),a=m.fromJSON(n),y=t.fromJSON(s);function J(o){if(r(o))return null;switch(o.type){case\"mesh\":return null;case\"point\":case\"multipoint\":return c;case\"polyline\":return u;case\"polygon\":case\"extent\":return a}return null}const N=e.fromJSON(f),O=o.fromJSON(p),j=m.fromJSON(S);export{c as defaultPointSymbol2D,a as defaultPolygonSymbol2D,u as defaultPolylineSymbol2D,y as defaultTextSymbol2D,N as errorPointSymbol2D,j as errorPolygonSymbol2D,O as errorPolylineSymbol2D,J as getDefaultSymbol2D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nconst e=[252,146,31,255],i=[153,153,153,255],l={type:\"esriSMS\",style:\"esriSMSCircle\",size:6,color:e,outline:{type:\"esriSLS\",style:\"esriSLSSolid\",width:.75,color:[153,153,153,255]}},o={type:\"esriSLS\",style:\"esriSLSSolid\",width:.75,color:e},S={type:\"esriSFS\",style:\"esriSFSSolid\",color:[252,146,31,196],outline:{type:\"esriSLS\",style:\"esriSLSSolid\",width:.75,color:[255,255,255,191]}},t={type:\"esriTS\",color:[255,255,255,255],font:{family:\"arial-unicode-ms\",size:10,weight:\"bold\"},horizontalAlignment:\"center\",kerning:!0,haloColor:[0,0,0,255],haloSize:1,rotated:!1,text:\"\",xoffset:0,yoffset:0,angle:0},r={type:\"esriSMS\",style:\"esriSMSCircle\",color:[0,0,0,255],outline:null,size:10.5},s={type:\"esriSLS\",style:\"esriSLSSolid\",color:[0,0,0,255],width:1.5},y={type:\"esriSFS\",style:\"esriSFSSolid\",color:[0,0,0,255],outline:null};export{e as defaultColor,i as defaultOutlineColor,l as defaultPointSymbolJSON,S as defaultPolygonSymbolJSON,o as defaultPolylineSymbolJSON,t as defaultTextSymbolJSON,r as errorPointSymbolJSON,y as errorPolygonSymbolJSON,s as errorPolylineSymbolJSON};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nclass t{constructor(t,i,s,h,e){this.graphic=t,this.index=i,this.x=s,this.y=h,this.viewEvent=e,this.type=\"graphic-click\"}}class i{constructor(t,i,s,h,e){this.graphic=t,this.index=i,this.x=s,this.y=h,this.viewEvent=e,this.type=\"graphic-double-click\"}}class s{constructor(t,i,s,h,e,r,c,a,n,p){this.graphic=t,this.allGraphics=i,this.index=s,this.x=h,this.y=e,this.dx=r,this.dy=c,this.totalDx=a,this.totalDy=n,this.viewEvent=p,this.defaultPrevented=!1,this.type=\"graphic-move-start\"}preventDefault(){this.defaultPrevented=!0}}class h{constructor(t,i,s,h,e,r,c,a,n,p){this.graphic=t,this.allGraphics=i,this.index=s,this.x=h,this.y=e,this.dx=r,this.dy=c,this.totalDx=a,this.totalDy=n,this.viewEvent=p,this.defaultPrevented=!1,this.type=\"graphic-move\"}preventDefault(){this.defaultPrevented=!0}}class e{constructor(t,i,s,h,e,r,c,a,n,p){this.graphic=t,this.allGraphics=i,this.index=s,this.x=h,this.y=e,this.dx=r,this.dy=c,this.totalDx=a,this.totalDy=n,this.viewEvent=p,this.defaultPrevented=!1,this.type=\"graphic-move-stop\"}preventDefault(){this.defaultPrevented=!0}}class r{constructor(t,i,s,h,e){this.graphic=t,this.index=i,this.x=s,this.y=h,this.viewEvent=e,this.type=\"graphic-pointer-over\"}}class c{constructor(t,i,s,h,e){this.graphic=t,this.index=i,this.x=s,this.y=h,this.viewEvent=e,this.type=\"graphic-pointer-out\"}}class a{constructor(t,i,s,h,e){this.graphic=t,this.index=i,this.x=s,this.y=h,this.viewEvent=e,this.type=\"graphic-pointer-down\"}}class n{constructor(t,i,s,h,e){this.graphic=t,this.index=i,this.x=s,this.y=h,this.viewEvent=e,this.type=\"graphic-pointer-up\"}}export{t as GraphicClickEvent,i as GraphicDoubleClickEvent,h as GraphicMoveEvent,s as GraphicMoveStartEvent,e as GraphicMoveStopEvent,a as GraphicPointerDownEvent,c as GraphicPointerOutEvent,r as GraphicPointerOverEvent,n as GraphicPointerUpEvent};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as i}from\"../../../chunks/tslib.es6.js\";import\"../../../core/has.js\";import{clone as t}from\"../../../core/lang.js\";import{isSome as e}from\"../../../core/maybe.js\";import\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import{subclass as s}from\"../../../core/accessorSupport/decorators/subclass.js\";import\"../../../core/urlUtils.js\";import\"../../../core/uuid.js\";import\"../../../portal/support/resourceExtension.js\";import a from\"../../../core/Evented.js\";import o from\"../../../core/Handles.js\";import{watch as h,whenOnce as c}from\"../../../core/watchUtils.js\";import{ViewEventPriorities as n}from\"../../input/InputManager.js\";import{createScreenPointFromEvent as p}from\"../../support/screenUtils.js\";import{cloneMove as l}from\"./drawUtils.js\";import{GraphicManipulator as v}from\"../../interactive/GraphicManipulator.js\";import{GraphicClickEvent as d,GraphicDoubleClickEvent as g,GraphicPointerDownEvent as _,GraphicPointerUpEvent as G,GraphicPointerOutEvent as m,GraphicMoveStartEvent as u,GraphicMoveEvent as y,GraphicMoveStopEvent as f,GraphicPointerOverEvent as w}from\"./input/GraphicMoverEvents.js\";let k=class extends a.EventedAccessor{constructor(i){super(i),this._activeGraphic=null,this._dragEvent=null,this._handles=new o,this._hoverGraphic=null,this._initialDragGeometry=null,this._viewHandles=new o,this._manipulators=[],this.type=\"graphic-mover\",this.callbacks={onGraphicClick(){},onGraphicDoubleClick(){},onGraphicMoveStart(){},onGraphicMove(){},onGraphicMoveStop(){},onGraphicPointerOver(){},onGraphicPointerOut(){},onGraphicPointerDown(){},onGraphicPointerUp(){}},this.enableMoveAllGraphics=!1,this.graphics=[],this.view=null}initialize(){this._setUpManipulators(),this._handles.add([h(this,[\"graphics\",\"graphics.length\"],(()=>{this._setUpManipulators()})),c(this,\"view.ready\",(()=>{this._viewHandles.add([this.view.on(\"immediate-click\",(i=>this._clickHandler(i)),n.TOOL),this.view.on(\"double-click\",(i=>this._doubleClickHandler(i)),n.TOOL),this.view.on(\"pointer-down\",(i=>this._pointerDownHandler(i)),n.TOOL),this.view.on(\"pointer-move\",(i=>this._pointerMoveHandler(i)),n.TOOL),this.view.on(\"pointer-up\",(i=>this._pointerUpHandler(i)),n.TOOL),this.view.on(\"drag\",(i=>this._dragHandler(i)),n.TOOL),this.view.on(\"key-down\",(i=>this._keyDownHandler(i)),n.TOOL)])}))])}destroy(){this.reset(),this._manipulators.forEach((i=>i.destroy())),this._manipulators=null,this._viewHandles.removeAll(),this._handles.removeAll()}get state(){const i=!!this.get(\"view.ready\"),t=!!this.get(\"graphics.length\"),e=this._activeGraphic;return i&&t?e?\"moving\":\"active\":i?\"ready\":\"disabled\"}reset(){this._activeGraphic=null,this._hoverGraphic=null,this._dragEvent=null}updateGeometry(i,t){const e=this.graphics[i];e&&e.set(\"geometry\",t)}_clickHandler(i){const t=this._findTargetGraphic(p(i));if(t){const e=new d(t,this.graphics.indexOf(t),i.x,i.y,i);this.emit(\"graphic-click\",e),this.callbacks.onGraphicClick&&this.callbacks.onGraphicClick(e)}}_doubleClickHandler(i){const t=this._findTargetGraphic(p(i));if(t){const e=new g(t,this.graphics.indexOf(t),i.x,i.y,i);this.emit(\"graphic-double-click\",e),this.callbacks.onGraphicDoubleClick&&this.callbacks.onGraphicDoubleClick(e)}}_pointerDownHandler(i){const t=this._findTargetGraphic(p(i));if(t){this._activeGraphic=t;const{x:e,y:r}=i,s=new _(t,this.graphics.indexOf(t),e,r,i);this.emit(\"graphic-pointer-down\",s),this.callbacks.onGraphicPointerDown&&this.callbacks.onGraphicPointerDown(s)}else this._activeGraphic=null}_pointerUpHandler(i){if(this._activeGraphic){const{x:t,y:e}=i,r=this.graphics.indexOf(this._activeGraphic),s=new G(this._activeGraphic,r,t,e,i);this.emit(\"graphic-pointer-up\",s),this.callbacks.onGraphicPointerUp&&this.callbacks.onGraphicPointerUp(s)}}_pointerMoveHandler(i){if(this._dragEvent)return;const t=this._findTargetGraphic(p(i));if(t){const{x:e,y:r}=i;if(this._hoverGraphic){if(this._hoverGraphic===t)return;const s=this.graphics.indexOf(this._hoverGraphic),a=new m(this.graphics[s],s,e,r,i);this._hoverGraphic=null,this.emit(\"graphic-pointer-out\",a),this.callbacks.onGraphicPointerOut&&this.callbacks.onGraphicPointerOut(a)}const s=this.graphics.indexOf(t),a=new w(t,s,e,r,i);return this._hoverGraphic=t,this.emit(\"graphic-pointer-over\",a),void(this.callbacks.onGraphicPointerOver&&this.callbacks.onGraphicPointerOver(a))}if(this._hoverGraphic){const{x:t,y:e}=i,r=this.graphics.indexOf(this._hoverGraphic),s=new m(this.graphics[r],r,t,e,i);this._hoverGraphic=null,this.emit(\"graphic-pointer-out\",s),this.callbacks.onGraphicPointerOut&&this.callbacks.onGraphicPointerOut(s)}}_dragHandler(i){if(\"start\"!==i.action&&!this._dragEvent||!this._activeGraphic||!this._activeGraphic.geometry)return;i.stopPropagation();const{action:e,x:r,y:s}=i,a=this.graphics.indexOf(this._activeGraphic),o=this._activeGraphic.geometry,h=this._dragEvent?r-this._dragEvent.x:0,c=this._dragEvent?s-this._dragEvent.y:0,n=r-i.origin.x,p=s-i.origin.y;if(this._activeGraphic.geometry=l(o,h,c,this.view),this.enableMoveAllGraphics&&this.graphics.forEach((i=>{i!==this._activeGraphic&&(i.geometry=l(i.geometry,h,c,this.view))})),this._dragEvent=i,\"start\"===e){this._initialDragGeometry=t(o);const e=new u(this._activeGraphic,this.graphics,a,r,s,h,c,n,p,i);this.emit(\"graphic-move-start\",e),this.callbacks.onGraphicMoveStart&&this.callbacks.onGraphicMoveStart(e),e.defaultPrevented&&this._activeGraphic.set(\"geometry\",o)}else if(\"update\"===e){const t=new y(this._activeGraphic,this.graphics,a,r,s,h,c,n,p,i);this.emit(\"graphic-move\",t),this.callbacks.onGraphicMove&&this.callbacks.onGraphicMove(t),t.defaultPrevented&&this._activeGraphic.set(\"geometry\",o)}else{const t=new f(this._activeGraphic,this.graphics,a,r,s,h,c,n,p,i);this._dragEvent=null,this._activeGraphic=null,this.emit(\"graphic-move-stop\",t),this.callbacks.onGraphicMoveStop&&this.callbacks.onGraphicMoveStop(t),t.defaultPrevented&&this.graphics[a].set(\"geometry\",this._initialDragGeometry),this._initialDragGeometry=null}}_keyDownHandler(i){\"a\"!==i.key&&\"d\"!==i.key&&\"n\"!==i.key||\"moving\"!==this.state||i.stopPropagation()}_findTargetGraphic(i){let t=null,r=Number.MAX_VALUE;return this._manipulators.forEach((s=>{const a=s.intersectionDistance(i);e(a)&&a<r&&(r=a,t=s.graphic)})),t}_setUpManipulators(){const{graphics:i,view:t}=this;this._manipulators.forEach((i=>i.destroy())),this._manipulators=null!=i&&i.length?i.map((i=>new v({graphic:i,view:t}))):[]}};i([r()],k.prototype,\"_activeGraphic\",void 0),i([r({readOnly:!0})],k.prototype,\"type\",void 0),i([r()],k.prototype,\"callbacks\",void 0),i([r()],k.prototype,\"enableMoveAllGraphics\",void 0),i([r()],k.prototype,\"graphics\",void 0),i([r({dependsOn:[\"view.ready\",\"graphics.length\",\"_activeGraphic\"],readOnly:!0})],k.prototype,\"state\",null),i([r()],k.prototype,\"view\",void 0),k=i([s(\"esri.views.draw.support.GraphicMover\")],k);var b=k;export default b;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import{get as t,isSome as i,isNone as o}from\"../../core/maybe.js\";import s from\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import{subclass as l}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import a from\"../../core/Accessor.js\";import n from\"../../core/Evented.js\";import{pt2px as c,screenPointObjectToArray as h,createScreenPointArray as p}from\"../../core/screenUtils.js\";import{c as m}from\"../../chunks/vec3f64.js\";import{k as u}from\"../../chunks/vec3.js\";import{canProjectWithoutEngine as g,project as y,projectPointToVector as d}from\"../../geometry/projection.js\";import b from\"../../symbols/support/ElevationInfo.js\";import{getDefaultSymbol2D as f}from\"../../symbols/support/defaults.js\";import{j as _}from\"../../chunks/vec2.js\";import{getGraphicEffectiveElevationMode as v}from\"../../support/elevationInfoUtils.js\";import{intersectsDrapedGeometry as S}from\"../support/drapedUtils.js\";const j=s.getLogger(\"esri.views.interactive.GraphicManipulator\");let C=class extends a{constructor(e){super(e),this.layer=null,this.interactive=!0,this.selectable=!1,this.grabbable=!0,this.dragging=!1,this.cursor=null,this.events=new n.EventEmitter,this._circleCollisionCache=null,this._graphicSymbolChangedHandle=null,this._originalSymbol=null}set graphic(e){\"mesh\"!==t(e.geometry,\"type\")?(this._circleCollisionCache=null,this._originalSymbol=e.symbol,this._set(\"graphic\",e),this.attachSymbolChanged()):j.error(\"Mesh geometries are not supported\")}get elevationInfo(){const e=\"elevationInfo\"in this.graphic.layer&&this.graphic.layer.elevationInfo,t=v(this.graphic),i=e?e.offset:0;return new b({mode:t,offset:i})}set focusedSymbol(e){e!==this._get(\"focusedSymbol\")&&(this._set(\"focusedSymbol\",e),this._updateGraphicSymbol(),this._circleCollisionCache=null)}grabbableForEvent(){return!0}set grabbing(e){e!==this._get(\"grabbing\")&&(this._set(\"grabbing\",e),this._updateGraphicSymbol())}set hovering(e){e!==this._get(\"hovering\")&&(this._set(\"hovering\",e),this._updateGraphicSymbol())}set selected(e){e!==this._get(\"selected\")&&(this._set(\"selected\",e),this._updateGraphicSymbol(),this.events.emit(\"select-changed\",{action:e?\"select\":\"deselect\"}))}get _focused(){return this._get(\"hovering\")||this._get(\"grabbing\")}destroy(){this.detachSymbolChanged(),this._resetGraphicSymbol(),this._set(\"view\",null)}intersectionDistance(e){const t=this._get(\"graphic\");if(!1===t.visible)return null;const s=this._get(\"focusedSymbol\"),r=i(s)?s:t.symbol,l=t.geometry;return o(l)?null:\"2d\"===this.view.type?this._intersectDistance2D(this.view,e,l,r):this._intersectDistance3D(this.view,e,t)}attach(){this.attachSymbolChanged(),i(this.layer)&&this.layer.add(this.graphic)}detach(){this.detachSymbolChanged(),this._resetGraphicSymbol(),i(this.layer)&&this.layer.remove(this.graphic)}attachSymbolChanged(){this.detachSymbolChanged(),this._graphicSymbolChangedHandle=this.graphic.watch(\"symbol\",(e=>{i(e)&&e!==this.focusedSymbol&&e!==this._originalSymbol&&(this._originalSymbol=e,this._focused&&i(this.focusedSymbol)&&(this.graphic.symbol=this.focusedSymbol))}),!0)}detachSymbolChanged(){i(this._graphicSymbolChangedHandle)&&(this._graphicSymbolChangedHandle.remove(),this._graphicSymbolChangedHandle=null)}_updateGraphicSymbol(){this.graphic.symbol=this._focused&&i(this.focusedSymbol)?this.focusedSymbol:this._originalSymbol}_resetGraphicSymbol(){this.graphic.symbol=this._originalSymbol}_intersectDistance2D(e,t,s,r){if(r=r||f(s),o(r))return null;let l=this._circleCollisionCache;if(\"point\"!==s.type||\"simple-marker\"!==r.type)return S(t,s,e)?1:null;if(o(l)||!l.originalPoint.equals(s)){const t=s,i=e.spatialReference;if(g(t.spatialReference,i)){const e=y(t,i);l={originalPoint:t.clone(),mapPoint:e,radiusPx:c(r.size)},this._circleCollisionCache=l}}if(i(l)){const i=h(t,G),o=e.toScreen(l.mapPoint),s=l.radiusPx,a=o.x+c(r.xoffset),n=o.y-c(r.yoffset);return _(i,[a,n])<s*s?1:null}return null}_intersectDistance3D(e,t,i){const o=e.toMap(t,{include:[i]});return o&&d(o,w,e.renderSpatialReference)?u(w,e.state.camera.eye):null}};e([r({constructOnly:!0,nonNullable:!0})],C.prototype,\"graphic\",null),e([r({readOnly:!0,dependsOn:[\"graphic\"]})],C.prototype,\"elevationInfo\",null),e([r({constructOnly:!0,nonNullable:!0})],C.prototype,\"view\",void 0),e([r({value:null})],C.prototype,\"focusedSymbol\",null),e([r({constructOnly:!0})],C.prototype,\"layer\",void 0),e([r()],C.prototype,\"interactive\",void 0),e([r()],C.prototype,\"selectable\",void 0),e([r()],C.prototype,\"grabbable\",void 0),e([r({value:!1})],C.prototype,\"grabbing\",null),e([r()],C.prototype,\"dragging\",void 0),e([r()],C.prototype,\"hovering\",null),e([r({value:!1})],C.prototype,\"selected\",null),e([r()],C.prototype,\"cursor\",void 0),C=e([l(\"esri.views.interactive.GraphicManipulator\")],C);const w=m(),G=p();export{C as GraphicManipulator};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{isSome as e,isNone as t}from\"../../core/maybe.js\";import r from\"../../geometry/Extent.js\";import\"../../geometry.js\";import{getMetersPerUnitForSR as n}from\"../../core/unitUtils.js\";import{calculateTolerance as i}from\"../../renderers/support/clickToleranceUtils.js\";function a(t,i,a,o=new r){let s;if(\"2d\"===a.type)s=i*a.resolution;else if(\"3d\"===a.type){const r=a.overlayPixelSizeInMapUnits(t),o=a.basemapSpatialReference;s=e(o)&&!o.equals(a.spatialReference)?n(o)/n(a.spatialReference):i*r}const m=t.x-s,p=t.y-s,c=t.x+s,l=t.y+s,{spatialReference:f}=a;return o.xmin=Math.min(m,c),o.ymin=Math.min(p,l),o.xmax=Math.max(m,c),o.ymax=Math.max(p,l),o.spatialReference=f,o}function o(e,r,n){const o=n.toMap(e);if(t(o))return!1;return a(o,i(),n,s).intersects(r)}const s=new r;export{a as createQueryGeometry,o as intersectsDrapedGeometry};\n"],"sourceRoot":""}