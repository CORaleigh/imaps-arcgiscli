{"version":3,"sources":["webpack://imaps/./node_modules/@arcgis/core/core/colorUtils.js","webpack://imaps/./node_modules/@arcgis/core/renderers/support/clickToleranceUtils.js","webpack://imaps/./node_modules/@arcgis/core/symbols/support/defaults.js","webpack://imaps/./node_modules/@arcgis/core/symbols/support/defaultsJSON.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/interactive/editingTools/settings.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/webgl-engine/lib/RenderGeometry.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/interactive/visualElements/DrapedVisualElementResources.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/interactive/visualElements/OutlineVisualElement.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/layers/graphics/pointUtils.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/interactive/visualElements/VerticesVisualElement.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/interactive/editingTools/draw/DrawGraphicTool.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/interactive/editingTools/manipulatorUtils.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/layers/graphics/GraphicState.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/interactive/editingTools/ManipulatorState.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/interactive/editingTools/lineGraphicVisualElementUtils.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/interactive/editingTools/pointGraphicVisualElementUtils.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/interactive/editingTools/visualElementUtils.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/interactive/editingTools/manipulations/config.js","webpack://imaps/./node_modules/@arcgis/core/chunks/mat2.js","webpack://imaps/./node_modules/@arcgis/core/chunks/mat2f64.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/interactive/editingTools/manipulations/moveUtils.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/interactive/editingTools/manipulations/Manipulation.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/interactive/editingTools/manipulations/MoveXYAxisManipulation.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/interactive/editingTools/snapping/SnapToScene.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/interactive/editingTools/manipulations/MoveXYDiscManipulation.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/interactive/editingTools/manipulations/MoveZManipulation.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/interactive/editingTools/manipulations/MoveManipulation.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/interactive/editingTools/manipulations/MoveXYGraphicManipulation.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/interactive/editingTools/moveGraphic/GraphicMoveTool.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/interactive/editingTools/reshapeGraphic/ReshapeOperation.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/interactive/editingTools/reshapeGraphic/GraphicReshapeTool.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/interactive/editingTools/transformGraphic/GraphicScaleRotateTransform.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/interactive/editingTools/transformGraphic/GraphicTransformTool.js","webpack://imaps/./node_modules/@arcgis/core/views/interactive/GraphicManipulator.js","webpack://imaps/./node_modules/@arcgis/core/views/support/drapedUtils.js"],"names":["n","t","r","o","u","a","e","length","c","push","g","b","map","Math","pow","x","y","z","i","min","max","round","h","l","s","f","cos","sin","v","abs","floor","p","m","xoffset","yoffset","stops","size","renderer","event","pointerType","filter","type","maxSize","minSize","visualVariables","symbol","uniqueValueInfos","forEach","classBreakInfos","J","N","O","j","style","color","outline","width","S","font","family","weight","horizontalAlignment","kerning","haloColor","haloSize","rotated","text","angle","main","selected","staged","selectedOutline","clone","this","height","coneHeight","coneWidth","renderOccluded","outlineSize","collisionPadding","outlineColor","hoverOutlineColor","setParameterValues","W","transparent","d","vertex","edge","stipplePattern","stippleOffColor","falloff","innerWidth","innerColor","shape","primitive","w","glowColor","glowWidth","glowFalloff","globalAlpha","globalAlphaContrastBoost","radius","heightFillColor","intersectsLineRadius","laserlineStyle","shadowStyle","C","super","extensionType","lineGraphics","pointGraphics","heightPlane","heightBox","zVerticalLine","laserlineAlphaMultiplier","heightPlaneAngleCutoff","visualElements","reshapeManipulators","zManipulator","uniqueName","shaderTransformationDirty","data","toRenderData","boundingInfo","material","origin","center","bsRadius","transformation","calculateShaderTransformation","updateTransformation","castShadow","instanceParameters","highlights","occludees","visible","getBoundingSphere","getCenter","getBSRadius","shaderTransformation","computeAttachmentOrigin","getIndices","getAttribute","indices","vertexAttr","resourceFactory","_resources","_visible","_attached","_destroyResources","external","_syncGeometriesToRenderer","_createOrDestroyResources","attached","_createResources","recreateGeometry","ensureRenderGeometriesRemoved","recreate","createResources","layerView","view","geometriesAdded","basemapTerrain","overlayManager","registerDrapeSource","unregisterDrapeSource","ensureRenderGeometriesAdded","removeGeometries","geometries","addGeometries","drapeSourceType","constructOnly","prototype","readOnly","G","_attachmentOrigin","_attachmentOriginDirty","events","_isDraped","_geometry","_width","_color","_innerWidth","_innerColor","_stipplePattern","_stippleOffColor","_falloff","_elevationInfo","_laserlineStyle","_laserlineEnabled","_renderOccluded","resources","spatialReference","drapedResources","createDrapedResources","createRenderGeometriesDraped","attachmentOriginChanged","_laserline","console","error","destroy","updateAttached","laserlineAttached","isDraped","laserlineEnabled","updateMaterial","I","isClosed","M","renderCoordsHelper","fromRenderCoords","materialParameters","geometry","join","stippleIntegerRepeats","polygonOffset","normalizedRenderOccluded","createRenderGeometries","addGeometry","emit","position","lines","attributeData","removeDuplicateStartEnd","A","sqrt","Float64Array","elevationProvider","elevationInfo","mapPosition","pathVerticalPlane","_vertices","_spatialReference","_size","_outlineColor","_outlineSize","applyProps","updateOutlineMaterial","screenSize","vertexMaterial","vertexMaterialParameters","vertexOutlineMaterial","vertexOutlineMaterialParameters","vertices","numVertices","projectionSuccess","sampledElevation","vertexGeometry","vertexOutlineGeometry","writeDepth","cullFace","screenSizeEnabled","shadingEnabled","attributes","uv","Uint32Array","indexCount","vertexAttributes","from","offsetIdx","strideIdx","drawOperation","_createGraphic","_outlineVisualElement","_verticesVisualElement","_stagedVerticesVisualElement","hasZ","defaultZ","snapToScene","snappingOptions","mode","geometryType","offset","_internalGraphicsLayer","layers","add","manipulators","drawingMode","snapToSceneEnabled","snappingDrawSurface","hasM","on","onVertexAdd","onVertexRemove","onVertexUpdate","onCursorUpdate","onComplete","_destroyAllVisualisations","remove","_set","onInputEvent","hasStagedVertex","slice","splice","regularVertices","stagedVertices","full","viewingMode","coordinateHelper","createPointFromArray","makeMapPoint","resolution","forceUniformSize","centered","rings","_destroyCreateGraphic","_destroyOutlineVisualElement","_destroyVerticesVisualElement","_destroyStagedVerticesVisualElement","_getCreateGeometry","createGraphicSymbol","maskOccludee","notifyChange","interactive","_updateCreateGraphic","canRedo","redo","canUndo","undo","complete","isCompleted","cancel","vertexIndex","graphic","nonNullable","value","tracking","displaying","grabbingState","firstSelected","numSelected","firstGrabbedXY","forEachManipulator","grabbing","E","watch","visualElement","writeDepthEnabled","L","D","angleCutoff","V","k","update","setStartEndFromWorldDownAtLocation","renderLocation","heightManifoldTarget","attachmentOrigin","toRenderCoords","onManipulatorsChanged","trackGraphicState","extent","intersectsLineInfinite","R","U","intersectsWorldUpAtLocation","P","calculateMapBounds","ceil","PI","_","Object","freeze","__proto__","copy","identity","set","transpose","invert","adjoint","determinant","multiply","rotate","scale","fromRotation","fromScaling","str","frob","LDU","subtract","exactEquals","equals","multiplyScalar","multiplyScalarAndAdd","mul","sub","create","fromValues","createView","action","dxScreen","screenDeltaX","dyScreen","screenDeltaY","next","translationX","translationY","translationZ","atan2","sort","Number","POSITIVE_INFINITY","_available","forEachManipulator3D","location","elevationAlignedLocation","available","someManipulator","dragging","_handles","_arrowManipulatorInfos","Array","_opaqueMaterial","createMaterial","_transparentMaterial","_angle","_scale","_radius","_updateAfterDrag","_tool","tool","_view","_createManipulators","manipulator","removeAll","createDragPipeline","manipulatorType","_updateManipulatorTransform","_updateManipulators","_updateArrowManipulator","transform","renderObjects","stateMask","_createArrowManipulator","displayScale","modelTransform","autoScaleRenderObjects","worldOriented","focusMultiplier","touchMultiplier","collisionType","direction","arrowManipulators","lastDragEvent","_enabled","mapEnd","snap","screenEnd","mapStart","screenStart","execute","toMap","exclude","_snapToScene","_discMaterial","_createMaterial","_discMaterialTransparent","_createManipulator","_manipulator","enabled","_updateManipulator","createDragEventPipelineStep","worldSized","discManipulator","createManipulator","updateManipulator","paths","selectable","cursor","collisionPriority","applyObjectTransform","state","camera","eye","computeRenderPixelSizeAtDist","worldUpAtPosition","fullWidth","_angleDeferred","_interactive","xyManipulation","xyAxisManipulation","zManipulation","xyAvailable","xyAxisAvailable","zAvailable","autoHideXYAxis","updateManipulatorInteractivity","createGraphicDragPipeline","xyAxisVisible","focused","inputManager","latestPointerType","disableDisplay","symbolLayers","some","_graphicState","graphicState","allGraphics","dx","dy","graphics","enableZ","_toolHandles","_refreshManipulators","_moveManipulation","toArray","createManipulators","createVisualElements","updateMoveManipulation","manipulationXY","stopPropagation","buildDragEventPipeline","createMoveManipulation","hasManipulator","getItemAt","updateMoveManipulationAngle","geometryRepresentation","angleDeferred","destroyed","toScreen","_vertexManipulatorMaterial","_vertexManipulatorOutlineMaterial","_vertexManipulatorHoverOutlineMaterial","_edgeManipulatorMaterial","_edgeManipulatorOutlineMaterial","_selectedManipulatorMaterial","_selectedManipulatorOutlineMaterial","_selectedManipulatorHoverOutlineMaterial","_selectedIndex","_vertexManipulatorGeometry","_vertexManipulatorOutlineGeometry","_edgeManipulatorGeometry","_edgeManipulatorOutlineGeometry","_manipulatorHandles","_manipulatorInfos","_reshapeHelper","_graphicMoveManipulation","_numGrabbing","_numDragging","_reshapeEventState","outputGeometry","_vertexLaserLineVisualElement","snappingEngine","_clear","_recreateManipulators","enableMoveGraphic","handle","_removeVertices","inputGeometry","Y","components","_createPerVertexManipulator","edges","_createGraphicMoveManipulators","moveVertices","mapDeltaX","mapDeltaY","mapDeltaZ","pos","_updateManipulatorPosition","_updateEventState","mover","F","info","_trackNumDragging","_perGraphicManipulatorDragAction","_cancelDragOperation","grabbable","_watchAndUpdateGrabState","_clearSelection","doneSnapping","_updateMoveManipulationPosition","X","Vertex","Edge","layer","_setTypeSpecificManipulatorSettings","locationUpdateHandle","selectedIndex","_getManipulatorInfoFromHandle","left","right","_splitEdgeManipulator","_snapDrag","_perVertexManipulatorDragAction","_manipulatorClickCallback","isMultiVertexSelection","context","originalPos","createDehydratedPoint","_updateSelection","indexOf","toPoint","splitEdge","createdVertex","component","coordinates","componentIndex","index","added","orthogonalAvailable","Z","canRemoveVertex","_removeManipulator","removeVertices","removedVertices","createdEdge","removed","shiftKey","button","_dirty","toPolyline","toPolygon","_reshapeOperation","_internalGeometryUpdate","_updateGeometry","manipulatorSelectionChanged","_onReshapeGeometryChanged","_updateGraphic","key","removeSelectedVertices","rt","ScaleIn","ScaleOut","RotateLeft","RotateRight","Unlocked","DelayedFocused","TouchInput","nt","_scaleRotateDragData","_activeAnimation","getFocused","ringManipulator","getScale","updateDragState","updateManipulatorTransform","frameTask","cancelActiveAnimation","start","deltaTime","createRingManipulator","allLayerViews","find","heading","getSymbolLayerSize","startAngle","symbolRotationAngle","angleDir","scaleDir","startSymbolData","plane","renderStart","renderEnd","onScaleChanged","lt","applySymbolData","startAnimation","ct","updateDelayedFocusedState","updateStateEnabled","concat","enforceNonZeroSize","depth","computeRenderPixelSizeAt","projectToRenderScreen","ht","renderToScreen","gt","enableRotation","enableScaling","handles","scaleRotate","moveManipulation","updateMoveAngle","onGeometryChanged","hideManipulatorsForGraphicState","test","_circleCollisionCache","_graphicSymbolChangedHandle","_originalSymbol","attachSymbolChanged","_get","_updateGraphicSymbol","detachSymbolChanged","_resetGraphicSymbol","_intersectDistance2D","_intersectDistance3D","focusedSymbol","_focused","originalPoint","mapPoint","radiusPx","include","renderSpatialReference","dependsOn","overlayPixelSizeInMapUnits","basemapSpatialReference","xmin","ymin","xmax","ymax","intersects"],"mappings":"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","file":"chunks/8458.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nfunction n(n){return\"h\"in n&&\"s\"in n&&\"v\"in n}function t(n){return\"l\"in n&&\"a\"in n&&\"b\"in n}function r(n){return\"l\"in n&&\"c\"in n&&\"h\"in n}function o(n){return\"x\"in n&&\"y\"in n&&\"z\"in n}const u=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],a=[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]];function e(n,t){const r=[];let o,u;if(n[0].length!==t.length)throw\"dimensions do not match\";const a=n.length,e=n[0].length;let c=0;for(o=0;o<a;o++){for(c=0,u=0;u<e;u++)c+=n[o][u]*t[u];r.push(c)}return r}function c(n){const t=[n.r/255,n.g/255,n.b/255].map((n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4))),r=e(u,t);return{x:100*r[0],y:100*r[1],z:100*r[2]}}function i(n){const t=e(a,[n.x/100,n.y/100,n.z/100]).map((n=>{const t=n<=.0031308?12.92*n:1.055*Math.pow(n,1/2.4)-.055;return Math.min(1,Math.max(t,0))}));return{r:Math.round(255*t[0]),g:Math.round(255*t[1]),b:Math.round(255*t[2])}}function h(n){const t=[n.x/95.047,n.y/100,n.z/108.883].map((n=>n>Math.pow(6/29,3)?Math.pow(n,1/3):1/3*Math.pow(29/6,2)*n+4/29));return{l:116*t[1]-16,a:500*(t[0]-t[1]),b:200*(t[1]-t[2])}}function s(n){const t=n.l,r=[(t+16)/116+n.a/500,(t+16)/116,(t+16)/116-n.b/200].map((n=>n>6/29?Math.pow(n,3):3*Math.pow(6/29,2)*(n-4/29)));return{x:95.047*r[0],y:100*r[1],z:108.883*r[2]}}function f(n){return h(c(n))}function b(n){return i(s(n))}function M(n){return function(n){const t=n.l,r=n.a,o=n.b,u=Math.sqrt(r*r+o*o);let a=Math.atan2(o,r);return a=a>0?a:a+2*Math.PI,{l:t,c:u,h:a}}(h(c(n)))}function l(n){return i(s(function(n){const t=n.l,r=n.c,o=n.h;return{l:t,a:r*Math.cos(o),b:r*Math.sin(o)}}(n)))}function g(u){return function(n){return\"r\"in n&&\"g\"in n&&\"b\"in n}(u)?u:r(u)?l(u):t(u)?b(u):o(u)?i(u):n(u)?function(n){const t=(n.h+360)%360/60,r=n.s/100,o=n.v/100*255,u=o*r,a=u*(1-Math.abs(t%2-1));let e;switch(Math.floor(t)){case 0:e={r:u,g:a,b:0};break;case 1:e={r:a,g:u,b:0};break;case 2:e={r:0,g:u,b:a};break;case 3:e={r:0,g:a,b:u};break;case 4:e={r:a,g:0,b:u};break;case 5:case 6:e={r:u,g:0,b:a};break;default:e={r:0,g:0,b:0}}return e.r=Math.round(e.r+o-u),e.g=Math.round(e.g+o-u),e.b=Math.round(e.b+o-u),e}(u):u}function p(t){if(n(t))return t;return function(n){const t=n.r,r=n.g,o=n.b,u=Math.max(t,r,o),a=u-Math.min(t,r,o);let e=u,c=0===a?0:u===t?(r-o)/a%6:u===r?(o-t)/a+2:(t-r)/a+4,i=0===a?0:a/e;return c<0&&(c+=6),c*=60,i*=100,e*=100/255,{h:c,s:i,v:e}}(g(t))}function m(n){return t(n)?n:f(g(n))}function d(n){return r(n)?n:M(g(n))}function w(n){return o(n)?n:c(g(n))}function x(n,t){const r=f(n);return r.l*=1-t,b(r)}export{x as darken,p as toHSV,m as toLAB,d as toLCH,g as toRGB,w as toXYZ};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nfunction t(t,e){return e?\"xoffset\"in e&&e.xoffset?Math.max(t,Math.abs(e.xoffset)):\"yoffset\"in e&&e.yoffset?Math.max(t,Math.abs(e.yoffset||0)):t:t}function e(t,e){return\"number\"==typeof t?t:t&&t.stops&&t.stops.length?function(t){let e=0,n=0;for(let r=0;r<t.length;r++){const s=t[r].size;\"number\"==typeof s&&(e+=s,n++)}return e/n}(t.stops):e}function n(n){const r=n&&n.renderer,s=\"touch\"===(n&&n.event&&n.event.pointerType)?9:6;if(!r)return s;const o=\"visualVariables\"in r?function(t,n){if(!n)return t;const r=n.filter((t=>\"size\"===t.type)).map((n=>{const{maxSize:r,minSize:s}=n;return(e(r,t)+e(s,t))/2}));let s=0;const o=r.length;if(0===o)return t;for(let t=0;t<o;t++)s+=r[t];const f=Math.floor(s/o);return Math.max(f,t)}(s,r.visualVariables):s;if(\"simple\"===r.type)return t(o,r.symbol);if(\"unique-value\"===r.type){let e=o;return r.uniqueValueInfos.forEach((n=>{e=t(e,n.symbol)})),e}if(\"class-breaks\"===r.type){let e=o;return r.classBreakInfos.forEach((n=>{e=t(e,n.symbol)})),e}return r.type,o}export{n as calculateTolerance};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport\"../../core/has.js\";import{isNone as r}from\"../../core/maybe.js\";import o from\"../SimpleLineSymbol.js\";import m from\"../SimpleFillSymbol.js\";import e from\"../SimpleMarkerSymbol.js\";import t from\"../TextSymbol.js\";import{defaultPointSymbolJSON as l,defaultPolylineSymbolJSON as i,defaultPolygonSymbolJSON as n,defaultTextSymbolJSON as s,errorPointSymbolJSON as f,errorPolylineSymbolJSON as p,errorPolygonSymbolJSON as S}from\"./defaultsJSON.js\";const c=e.fromJSON(l),u=o.fromJSON(i),a=m.fromJSON(n),y=t.fromJSON(s);function J(o){if(r(o))return null;switch(o.type){case\"mesh\":return null;case\"point\":case\"multipoint\":return c;case\"polyline\":return u;case\"polygon\":case\"extent\":return a}return null}const N=e.fromJSON(f),O=o.fromJSON(p),j=m.fromJSON(S);export{c as defaultPointSymbol2D,a as defaultPolygonSymbol2D,u as defaultPolylineSymbol2D,y as defaultTextSymbol2D,N as errorPointSymbol2D,j as errorPolygonSymbol2D,O as errorPolylineSymbol2D,J as getDefaultSymbol2D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nconst e=[252,146,31,255],i=[153,153,153,255],l={type:\"esriSMS\",style:\"esriSMSCircle\",size:6,color:e,outline:{type:\"esriSLS\",style:\"esriSLSSolid\",width:.75,color:[153,153,153,255]}},o={type:\"esriSLS\",style:\"esriSLSSolid\",width:.75,color:e},S={type:\"esriSFS\",style:\"esriSFSSolid\",color:[252,146,31,196],outline:{type:\"esriSLS\",style:\"esriSLSSolid\",width:.75,color:[255,255,255,191]}},t={type:\"esriTS\",color:[255,255,255,255],font:{family:\"arial-unicode-ms\",size:10,weight:\"bold\"},horizontalAlignment:\"center\",kerning:!0,haloColor:[0,0,0,255],haloSize:1,rotated:!1,text:\"\",xoffset:0,yoffset:0,angle:0},r={type:\"esriSMS\",style:\"esriSMSCircle\",color:[0,0,0,255],outline:null,size:10.5},s={type:\"esriSLS\",style:\"esriSLSSolid\",color:[0,0,0,255],width:1.5},y={type:\"esriSFS\",style:\"esriSFSSolid\",color:[0,0,0,255],outline:null};export{e as defaultColor,i as defaultOutlineColor,l as defaultPointSymbolJSON,S as defaultPolygonSymbolJSON,o as defaultPolylineSymbolJSON,t as defaultTextSymbolJSON,r as errorPointSymbolJSON,y as errorPolygonSymbolJSON,s as errorPolylineSymbolJSON};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport t from\"../../../../Color.js\";import{toHSV as i,toRGB as e}from\"../../../../core/colorUtils.js\";import{f as o}from\"../../../../chunks/vec4f64.js\";import{createStipplePattern as l}from\"../../webgl-engine/materials/lineStippleUtils.js\";const s={main:new t([255,127,0]),selected:new t([255,255,255]),staged:new t([12,207,255]),outline:new t([0,0,0,.5]),selectedOutline:new t([255,255,255])};function n(t,i){const e=t.clone();return e.a*=i,e}function r(t,o){const l=t.clone(),s=i(l);s.s*=o;const n=e(s);return l.r=n.r,l.g=n.g,l.b=n.b,l}function h(t,i){if(i)for(const e in i)t[e]=i[e]}class c{constructor(t){this.color=s.main,this.height=90,this.coneHeight=40,this.coneWidth=23,this.width=3,this.renderOccluded=16,h(this,t)}}class a{constructor(t){this.size=11,this.outlineSize=1,this.collisionPadding=9,this.color=s.main,this.outlineColor=s.outline,this.renderOccluded=16,this.hoverOutlineColor=s.selectedOutline,h(this,t)}apply(t,i){const e=this[t];i.setParameterValues({color:W(e),transparent:\"color\"!==t||e.a<1,renderOccluded:this.renderOccluded})}}class d{constructor(t){this.vertex=new a({color:s.main,outlineColor:s.outline}),this.edge=new a({color:r(n(s.main,2/3),.5),outlineColor:n(s.outline,.5),size:8,collisionPadding:8}),this.selected=new a({color:s.selected,outlineColor:s.outline}),h(this,t)}}class u{constructor(t){this.color=s.selected,this.width=1.5,this.stipplePattern=l([5,5]),this.stippleOffColor=s.outline,this.falloff=0,this.innerWidth=1.5,this.innerColor=s.selected,this.renderOccluded=4,h(this,t)}apply(t){t.color=W(this.color),t.width=this.width,t.stipplePattern=this.stipplePattern,t.stippleOffColor=W(this.stippleOffColor),t.falloff=this.falloff,t.innerWidth=this.innerWidth,t.innerColor=W(this.innerColor),t.renderOccluded=this.renderOccluded}}class p{constructor(t){this.color=s.selected,this.size=4,this.outlineSize=1,this.outlineColor=s.outline,this.shape=\"square\",h(this,t)}apply(t){t.color=W(this.color),t.size=this.size,t.outlineSize=this.outlineSize,t.outlineColor=W(this.outlineColor),t.primitive=this.shape}}class w{constructor(t){this.innerColor=s.selected,this.innerWidth=1,this.glowColor=s.main,this.glowWidth=8,this.glowFalloff=8,this.globalAlpha=.3,this.globalAlphaContrastBoost=1.5,this.radius=3,this.heightFillColor=s.main,h(this,t)}apply(i,e=1){const o={glowColor:t.toUnitRGB(this.glowColor),glowFalloff:this.glowFalloff,glowWidth:this.glowWidth,innerColor:t.toUnitRGB(this.innerColor),innerWidth:this.innerWidth,globalAlpha:this.globalAlpha*e,globalAlphaContrastBoost:this.globalAlphaContrastBoost,intersectsLineRadius:this.radius};\"style\"in i?i.style=o:i.laserlineStyle=o}}class f{constructor(t){this.outline=new u({color:s.outline,renderOccluded:8,stippleOffColor:s.selected,stipplePattern:l([5,5]),width:1.5,innerWidth:0}),this.staged=new u({color:s.selected,renderOccluded:8,innerColor:s.staged,stippleOffColor:s.outline,stipplePattern:l([5,5]),width:1.5}),this.shadowStyle=new w({globalAlpha:.3,glowColor:s.main,glowFalloff:8,glowWidth:8,innerColor:s.selected,innerWidth:1}),h(this,t)}}class g{constructor(t){this.outline=new p({color:s.selected,outlineColor:s.outline,outlineSize:1,shape:\"circle\",size:4}),this.shadowStyle=new w({globalAlpha:.3,glowColor:s.main,glowFalloff:1.5,glowWidth:6,innerColor:s.selected,innerWidth:1,radius:2}),h(this,t)}}class C extends u{constructor(t){super(),this.extensionType=2,h(this,t)}}class m{constructor(t){this.lineGraphics=new f,this.pointGraphics=new g,this.heightPlane=new w({globalAlpha:.3,glowColor:s.main,glowFalloff:8,glowWidth:8,innerColor:s.selected,innerWidth:1}),this.heightBox=new w({globalAlpha:.3,glowColor:s.main,glowFalloff:8,glowWidth:8,innerColor:s.selected,innerWidth:0,heightFillColor:s.main}),this.zVerticalLine=new C({color:n(s.main,.5),falloff:2,innerColor:n(s.selected,0),renderOccluded:4,stipplePattern:null,width:5,extensionType:2}),this.laserlineAlphaMultiplier=1.5,this.heightPlaneAngleCutoff=20,h(this,t)}}function W(i){return o(t.toUnitRGBA(i))}const O=new class{constructor(t){this.visualElements=new m,this.reshapeManipulators=new d,this.zManipulator=new c,h(this,t)}colorToVec4(t){return W(t)}};export{s as colors,O as settings};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{unwrapOr as t,isSome as r}from\"../../../../core/maybe.js\";import{c as i}from\"../../../../chunks/vec3f64.js\";import{i as s}from\"../../../../chunks/vec3.js\";import{maxScale as a}from\"../../support/mathUtils.js\";import{c as n}from\"../../../../chunks/mat4.js\";import{I as e,a as o}from\"../../../../chunks/mat4f64.js\";import{computeAttachmentOriginTriangles as h}from\"./geometryDataUtils.js\";import{VertexAttrConstants as m}from\"./Util.js\";import{generateObject3DStateId as u}from\"./Object3DStateSet.js\";import{addObject3DStateID as d,removeObject3DStateID as f}from\"../materials/renderers/utils.js\";export default class{constructor(t,r,s,a,n,e,o){this.uniqueName=null,this.shaderTransformationDirty=!0,this.data=t.toRenderData(),this.boundingInfo=r,this.material=s,this.origin=null,this.center=i(),this.bsRadius=0,this.transformation=null,this.calculateShaderTransformation=n,a&&this.updateTransformation(a,e),this.castShadow=o,this.instanceParameters={highlights:null,occludees:null,visible:!0}}updateTransformation(t,r){this.transformation=t,this.shaderTransformationDirty=!0,this.bsRadius=this.getBoundingSphere(t,r,this.center)}shaderTransformationChanged(){this.shaderTransformationDirty=!0}getBoundingSphere(t,r,i){return r=r||a(t),s(i,this.boundingInfo.getCenter(),t),this.boundingInfo.getBSRadius()*r}get hasShaderTransformation(){return!!this.calculateShaderTransformation}getShaderTransformation(){return this.calculateShaderTransformation?(this.shaderTransformationDirty&&(this.shaderTransformation||(this.shaderTransformation=o()),n(this.shaderTransformation,this.calculateShaderTransformation(t(this.transformation,e))),this.shaderTransformationDirty=!1),this.shaderTransformation):t(this.transformation,e)}computeAttachmentOrigin(t){if(this.material.computeAttachmentOrigin)return!!this.material.computeAttachmentOrigin(this,t)&&(r(this.transformation)&&s(t,t,this.transformation),!0);const i=this.getIndices(m.POSITION),a=this.getAttribute(m.POSITION);return!!h(a,i,t)&&(r(this.transformation)&&s(t,t,this.transformation),!0)}getIndices(t){return\"indices\"in this.data?this.data.indices[t]:null}getAttribute(t){return\"vertexAttr\"in this.data?this.data.vertexAttr[t]:null}addHighlight(){const t=u(0),r=this.instanceParameters;return r.highlights=d(r.highlights,t),t}removeHighlight(t){const r=this.instanceParameters;r.highlights=f(r.highlights,t)}}\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import\"../../../../core/has.js\";import{isSome as r,isNone as s}from\"../../../../core/maybe.js\";import\"../../../../core/Logger.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{property as t}from\"../../../../core/accessorSupport/decorators/property.js\";import{subclass as o}from\"../../../../core/accessorSupport/decorators/subclass.js\";import\"../../../../core/urlUtils.js\";import\"../../../../core/uuid.js\";import\"../../../../portal/support/resourceExtension.js\";import i from\"../../../../core/Accessor.js\";import{IdentifiableMixin as c}from\"../../../../core/Identifiable.js\";class a{constructor(e){this.resourceFactory=e,this._resources=null,this._visible=!0,this._attached=!1}destroy(){this._destroyResources()}get resources(){return r(this._resources)?this._resources.external:null}get visible(){return this._visible}set visible(e){e!==this._visible&&(this._visible=e,this._syncGeometriesToRenderer())}get attached(){return this._attached}set attached(e){e!==this._attached&&(this._attached=e,this._createOrDestroyResources())}recreate(){this.attached&&this._createResources()}recreateGeometry(){this.resourceFactory.recreateGeometry?s(this._resources)||(this.ensureRenderGeometriesRemoved(),this.resourceFactory.recreateGeometry(this._resources.external),this._syncGeometriesToRenderer()):this.recreate()}_createOrDestroyResources(){this._attached?s(this._resources)&&this._createResources():this._destroyResources()}_createResources(){var e;this._destroyResources();const r=this.resourceFactory.createResources();this._resources={layerView:new u({view:this.resourceFactory.view}),external:r,geometriesAdded:!1},this._syncGeometriesToRenderer();const s=null==(e=this.resourceFactory.view.basemapTerrain)?void 0:e.overlayManager;s&&s.registerDrapeSource(this._resources.layerView)}_destroyResources(){var e;if(s(this._resources))return;this.ensureRenderGeometriesRemoved();const r=null==(e=this.resourceFactory.view.basemapTerrain)?void 0:e.overlayManager;r&&r.unregisterDrapeSource(this._resources.layerView),this._resources=null}_syncGeometriesToRenderer(){this._visible?this.ensureRenderGeometriesAdded():this.ensureRenderGeometriesRemoved()}ensureRenderGeometriesRemoved(){var e;if(s(this._resources)||null==(e=this.resourceFactory.view)||!e.basemapTerrain)return;if(!this._resources.geometriesAdded)return;this.resourceFactory.view.basemapTerrain.overlayManager.renderer.removeGeometries(this._resources.external.geometries,this._resources.layerView,2),this._resources.geometriesAdded=!1}ensureRenderGeometriesAdded(){if(s(this._resources))return;if(this._resources.geometriesAdded)return;this.resourceFactory.view.basemapTerrain.overlayManager.renderer.addGeometries(this._resources.external.geometries,this._resources.layerView,2),this._resources.geometriesAdded=!0}}let u=class extends(c(i)){constructor(e){super(e),this.drapeSourceType=1}};e([t({constructOnly:!0})],u.prototype,\"view\",void 0),e([t({readOnly:!0})],u.prototype,\"drapeSourceType\",void 0),u=e([o(\"DrapedVisualElementLayerView\")],u);export{a as DrapedVisualElementResources};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{isSome as e,unwrap as t,isNone as r}from\"../../../../core/maybe.js\";import s from\"../../../../core/Evented.js\";import{c as i}from\"../../../../chunks/vec3f64.js\";import{s as a,b as n,a as o}from\"../../../../chunks/vec3.js\";import{projectBuffer as l}from\"../../../../geometry/projection.js\";import{g as h,c}from\"../../../../chunks/vec4.js\";import{empty as d,expandWithBuffer as u,create as m}from\"../../../../geometry/support/aaBoundingBox.js\";import{makeDehydratedPoint as p}from\"../../../../layers/graphics/dehydratedFeatures.js\";import{computeAttachmentOriginLines as f}from\"../../webgl-engine/lib/geometryDataUtils.js\";import{ElevationContext as g}from\"../../layers/graphics/ElevationContext.js\";import _ from\"../../webgl-engine/lib/Geometry.js\";import{RibbonVertexAttributeConstants as y}from\"../../webgl-engine/shaders/RibbonLineTechnique.js\";import{RibbonLineMaterial as v}from\"../../webgl-engine/materials/RibbonLineMaterial.js\";import O from\"../../webgl-engine/lib/RenderGeometry.js\";import{geometryToRenderInfoDraped as w,createGeometryData as R,geometryToRenderInfo as b}from\"../../layers/graphics/lineUtils.js\";import{f as C,a as D}from\"../../../../chunks/vec4f32.js\";import{LaserlineVisualElement as j}from\"./LaserlineVisualElement.js\";import{VisualElementResources as E}from\"./VisualElementResources.js\";import{DrapedVisualElementResources as P}from\"./DrapedVisualElementResources.js\";class G{constructor(e){this.view=null,this._attachmentOrigin=p(0,0,0,null),this._attachmentOriginDirty=!0,this.events=new s,this._isDraped=!1,this._geometry=null,this._width=1,this._color=C(1,0,1,1),this._innerWidth=0,this._innerColor=C(1,1,1,1),this._stipplePattern=null,this._stippleOffColor=null,this._falloff=0,this._elevationInfo=null,this._laserlineStyle=null,this._laserlineEnabled=!1,this._renderOccluded=8,this.resources=new E({view:e.view,createResources:e=>this.createResources(e),recreateGeometry:(e,t)=>(e.geometries.length=0,this.recreateGeometry(t,e.material,e.geometries),e.geometries)}),this._attachmentOrigin.spatialReference=e.view.spatialReference,this.drapedResources=new P({view:e.view,createResources:()=>this.createDrapedResources(),recreateGeometry:e=>{e.geometries=this.createRenderGeometriesDraped(e.material),this.attachmentOriginChanged()}});let t=!0;this._laserline=new j({view:e.view});for(const r in e)r in this?\"attached\"===r?t=e[r]:this[r]=e[r]:console.error(\"Cannot set unknown property\",r);this.attached=t}destroy(){this.resources.destroy(),this.drapedResources.destroy(),this._laserline.destroy()}get isDraped(){return this._isDraped}set isDraped(e){e!==this._isDraped&&(this._isDraped=e,this.updateAttached(this.attached),this._laserline.attached=this.laserlineAttached)}get laserlineAttached(){return this.attached&&this.visible&&e(this._laserlineStyle)&&!this.isDraped&&this.laserlineEnabled}get visible(){return this.resources.visible}set visible(e){this.resources.visible=e,this.drapedResources.visible=e,this._laserline.attached=this.laserlineAttached}get attached(){return this.resources.attached||this.drapedResources.attached}set attached(e){this.updateAttached(e)}updateAttached(e){this.resources.attached=!this.isDraped&&e,this.drapedResources.attached=this.isDraped&&e,this._laserline.attached=this.laserlineAttached,this.attached&&this.attachmentOriginChanged()}get geometry(){return this._geometry}set geometry(e){this._geometry=e,this.resources.recreateGeometry(),this.drapedResources.recreateGeometry()}get width(){return this._width}set width(e){e!==this._width&&(this._width=e,this.updateMaterial())}get color(){return this._color}set color(e){h(e,this._color)||(c(this._color,e),this.updateMaterial())}get innerWidth(){return this._innerWidth}set innerWidth(e){e!==this._innerWidth&&(this._innerWidth=e,this.updateMaterial())}get innerColor(){return this._innerColor}set innerColor(e){h(e,this._innerColor)||(c(this._innerColor,e),this.updateMaterial())}get stipplePattern(){return this._stipplePattern}set stipplePattern(t){const r=e(t)!==e(this._stipplePattern);this._stipplePattern=t,r?this.resources.recreate():this.updateMaterial()}get stippleOffColor(){return this._stippleOffColor}set stippleOffColor(e){e&&this._stippleOffColor&&h(e,this._stippleOffColor)||(this._stippleOffColor=e?D(e):null,this.updateMaterial())}get falloff(){return this._falloff}set falloff(e){e!==this._falloff&&(this._falloff=e,this.updateMaterial())}get elevationInfo(){return this._elevationInfo}set elevationInfo(e){this._elevationInfo=e,this.resources.recreateGeometry()}get laserlineStyle(){return this._laserlineStyle}set laserlineStyle(t){this._laserlineStyle=t,this._laserline.attached=this.laserlineAttached,e(t)&&(this._laserline.style=t)}get laserlineEnabled(){return this._laserlineEnabled}set laserlineEnabled(e){this._laserlineEnabled!==e&&(this._laserlineEnabled=e,this._laserline.attached=this.laserlineAttached)}get renderOccluded(){return this._renderOccluded}set renderOccluded(e){e!==this._renderOccluded&&(this._renderOccluded=e,this.updateMaterial())}get attachmentOrigin(){if(!this._attachmentOriginDirty)return this._attachmentOrigin;const r=e(this.resources.resources)?this.resources.resources.geometries:null;if(!r||0===r.length)return null;a(I,0,0,0);const s=y.POSITION;let i=0;for(const e of r){const r=e.getAttribute(s),a=e.getIndices(s),o=t(this.resources.resources).material.isClosed(r.data,a);f(r,a,o,M)&&(n(I,I,M),i++)}return 0===i?null:(o(I,I,1/i),this.view.renderCoordsHelper.fromRenderCoords(I,this._attachmentOrigin),this._attachmentOriginDirty=!1,this._attachmentOrigin)}updateMaterial(){e(this.resources.resources)&&this.resources.resources.material.setParameterValues(this.materialParameters),e(this.drapedResources.resources)&&this.drapedResources.resources.material.setParameterValues(this.materialParameters)}get isClosed(){return e(this.geometry)&&\"polygon\"===this.geometry.type}get materialParameters(){return{width:this._width,color:this._color,stippleOffColor:this._stippleOffColor,stipplePattern:this._stipplePattern,isClosed:this.isClosed,falloff:this._falloff,innerColor:this._innerColor,innerWidth:this._innerWidth,join:\"round\",stippleIntegerRepeats:!0,polygonOffset:!0,renderOccluded:this.normalizedRenderOccluded}}get normalizedRenderOccluded(){return this.isDraped&&8===this._renderOccluded?4:this._renderOccluded}recreateGeometry(e,t,r){const s=this.createRenderGeometries();for(const i of s)e.addGeometry(i,t),r.push(i);this.attachmentOriginChanged()}attachmentOriginChanged(){this._attachmentOriginDirty=!0,this.events.emit(\"attachment-origin-changed\")}createResources(e){const t=new v(this.materialParameters,\"lineVisualElement\"),r=[];return this.recreateGeometry(e,t,r),{material:t,geometries:r,forEach:e=>{e(t),r.forEach(e)}}}createDrapedResources(){const e=new v(this.materialParameters,\"lineVisualElement\");return{material:e,geometries:this.createRenderGeometriesDraped(e)}}createRenderGeometriesDraped(e){const t=this.geometry;if(r(t))return[];const s=w(t,this.view.basemapTerrain.spatialReference),i=[];for(const{position:t}of s.lines){const r={attributeData:{position:t},removeDuplicateStartEnd:this.isClosed?1:0},s=new O(R(r));s.material=e;const n=d(A);u(n,t),a(s.center,.5*(n[0]+n[3]),.5*(n[1]+n[4]),0),s.bsRadius=.5*Math.sqrt((n[3]-n[0])*(n[3]-n[0])+(n[4]-n[1])*(n[4]-n[1])),i.push(s)}return i}calculateMapBounds(e){if(r(this.resources.resources))return!1;const t=this.view.renderCoordsHelper;for(const r of this.resources.resources.geometries){const s=r.data.getAttribute(\"position\"),i=s.data,a=new Float64Array(i.length);l(s.data,t.spatialReference,0,a,this.view.spatialReference,0,i.length/3),u(e,a)}return!0}createRenderGeometries(){const e=this.geometry;if(r(e))return[];const t=b(e,this.view.elevationProvider,this.view.renderCoordsHelper,g.fromElevationInfo(this.elevationInfo)),s=[],i=[];for(const{position:e,mapPosition:r}of t.lines){const t={attributeData:{position:e,mapPosition:r},removeDuplicateStartEnd:this.isClosed?1:0},a=R(t);s.push(new _(a,\"geometryOutlineVisualElement\")),i.push(e)}return this._laserline.pathVerticalPlane=i,s}}const A=m(),M=i(),I=i();export{G as OutlineVisualElement};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../../../core/maybe.js\";import{getPointOnPath as t,getPathLength as r}from\"../../../../geometry/support/coordsUtils.js\";import{c as n}from\"../../../../chunks/vec3f64.js\";import{projectPointToVector as o}from\"../../../../geometry/projection.js\";import{I as i}from\"../../../../chunks/mat4f64.js\";import{containsPoint as s}from\"../../../../geometry/support/aaBoundingBox.js\";import{makeDehydratedPoint as a}from\"../../../../layers/graphics/dehydratedFeatures.js\";import c from\"../../webgl-engine/lib/Object3D.js\";import{computeCentroid as l}from\"./graphicUtils.js\";import{applyElevationAlignmentForHUD as p,applyPerVertexElevationAlignment as m}from\"./elevationAlignmentUtils.js\";const u=n();function f(t,r,n,a,l,m,f,g,d,h,j){const y=n?n.length:0,v=t.clippingExtent;if(o(r,u,t.elevationProvider.spatialReference),e(v)&&!s(v,u))return null;const w=t.renderCoordsHelper.spatialReference;o(r,u,w);const x=t.localOriginFactory.getOrigin(u),b=new c({castShadow:!1,metadata:{layerUid:d,graphicUid:h,usesVerticalDistanceToGround:!0},idHint:g});for(let e=0;e<y;e++){const t=l?l[e]:i;b.addGeometry(n[e],a[e],t,m,x,j)}return{object:b,sampledElevation:p(b,r,t.elevationProvider,t.renderCoordsHelper,f)}}function g(e,t,r){const n=e.elevationContext,i=r.spatialReference;o(t,u,i),n.centerPointInElevationSR=a(u[0],u[1],t.hasZ?u[2]:0,i)}function d(e){switch(e.type){case\"point\":return e;case\"polygon\":case\"extent\":return l(e);case\"polyline\":{const n=e.paths[0];if(!n||0===n.length)return null;const o=t(n,r(n)/2);return a(o[0],o[1],o[2],e.spatialReference)}case\"mesh\":return e.extent.center}return null}function h(e,t,r,n,o){const i=new Float64Array(3*e.length),s=new Float64Array(i.length);e.forEach(((e,t)=>{i[3*t+0]=e[0],i[3*t+1]=e[1],i[3*t+2]=e.length>2?e[2]:0}));const a=m(i,t,0,s,0,i,0,i.length/3,r,n,o),c=null!=a;return{numVertices:e.length,position:i,mapPosition:s,projectionSuccess:c,sampledElevation:a}}export{f as createStageObjectForHUD,g as extendPointGraphicElevationContext,h as geometryToRenderInfo,d as placePointOnGeometry};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{isNone as e}from\"../../../../core/maybe.js\";import{c as t}from\"../../../../chunks/vec3f64.js\";import{s as r}from\"../../../../chunks/vec3.js\";import{g as i,c as s}from\"../../../../chunks/vec4.js\";import a from\"../../webgl-engine/lib/GeometryUtil.js\";import{ElevationContext as o}from\"../../layers/graphics/ElevationContext.js\";import l from\"../../webgl-engine/lib/Geometry.js\";import{geometryToRenderInfo as n}from\"../../layers/graphics/pointUtils.js\";import{Object3DVisualElement as u}from\"./Object3DVisualElement.js\";import{ShadedColorMaterialVertexAttrConstants as c}from\"../../webgl-engine/shaders/ShadedColorMaterialTechnique.js\";import{ShadedColorMaterial as h}from\"../../webgl-engine/materials/ShadedColorMaterial.js\";import{settings as d}from\"../editingTools/settings.js\";class m extends u{constructor(e){super(e),this.view=null,this._renderOccluded=4,this._vertices=null,this._spatialReference=null,this._color=d.colorToVec4(d.reshapeManipulators.vertex.color),this._size=d.reshapeManipulators.vertex.size,this._outlineColor=d.colorToVec4(d.reshapeManipulators.vertex.outlineColor),this._outlineSize=d.reshapeManipulators.vertex.outlineSize,this._elevationInfo=null,this.applyProps(e)}get renderOccluded(){return this._renderOccluded}set renderOccluded(e){e!==this._renderOccluded&&(this._renderOccluded=e,this.updateMaterial(),this.updateOutlineMaterial())}get vertices(){return this._vertices}set vertices(e){this._vertices=e,this.recreateGeometry()}get spatialReference(){return this._spatialReference}set spatialReference(e){this._spatialReference=e,this.recreateGeometry()}get color(){return this._color}set color(e){i(e,this._color)||(s(this._color,e),this.updateMaterial())}get size(){return this._size}set size(e){e!==this._size&&(this._size=e,this.updateMaterial())}get outlineColor(){return this._outlineColor}set outlineColor(e){i(e,this._outlineColor)||(s(this._outlineColor,e),this.updateOutlineMaterial())}get outlineSize(){return this._outlineSize}set outlineSize(e){e!==this._outlineSize&&(this._outlineSize=e,this.updateOutlineMaterial())}get elevationInfo(){return this._elevationInfo}set elevationInfo(e){this._elevationInfo=e,this.recreateGeometry()}get vertexMaterialParameters(){return{color:this._color,transparent:this._color[3]<1,screenSize:this.size,renderOccluded:this._renderOccluded}}get vertexOutlineMaterialParameters(){return{color:this._outlineColor,transparent:this._outlineColor[3]<1,screenSize:this.size+2*this.outlineSize,renderOccluded:this._renderOccluded}}updateMaterial(){this.attached&&this.vertexMaterial.setParameterValues(this.vertexMaterialParameters)}updateOutlineMaterial(){this.attached&&this.vertexOutlineMaterial.setParameterValues(this.vertexOutlineMaterialParameters)}createRenderGeometries(){const t=this.vertices;if(e(t)||0===t.length)return[];const i=n(t,this.spatialReference,this.view.elevationProvider,this.view.renderCoordsHelper,o.fromElevationInfo(this.elevationInfo)),s=[],a=i.numVertices,u=i.position;for(let e=0;e<a;++e){const t=r(p,u[3*e+0],u[3*e+1],u[3*e+2]),i=new l(v(.5,16,16,t),\"VerticesVisualElement-vertex\"),a=new l(v(.5,16,16,t),\"VerticesVisualElement-vertexOutline\");s.push({vertexGeometry:i,vertexOutlineGeometry:a})}return s}createGeometries(e){const t=this.createRenderGeometries();for(const{vertexGeometry:r,vertexOutlineGeometry:i}of t)e.addGeometry(r,this.vertexMaterial),e.addGeometry(i,this.vertexOutlineMaterial)}createExternalResources(){this.vertexMaterial=new h({...this.vertexMaterialParameters,writeDepth:!0,cullFace:2,screenSizeEnabled:!0},\"manipulator\"),this.vertexOutlineMaterial=new h({...this.vertexOutlineMaterialParameters,transparent:!0,writeDepth:!0,cullFace:1,screenSizeEnabled:!0,shadingEnabled:!1},\"manipulator-outline\")}destroyExternalResources(){this.vertexMaterial=null,this.vertexOutlineMaterial=null}forEachExternalResource(e){e(this.vertexMaterial),e(this.vertexOutlineMaterial)}}const p=t();function v(e,t,r,i){const s=a.createSphereGeometry(e,t,r,{attributes:{position:c.OFFSET,uv:null}});return s.indices[c.POSITION]=new Uint32Array(s.indexCount),s.vertexAttributes[c.POSITION]={size:3,data:Float64Array.from(i),offsetIdx:0,strideIdx:3},s}export{m as VerticesVisualElement};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import\"../../../../../core/has.js\";import{unwrapOr as t,isSome as i,isNone as r,unwrap as s}from\"../../../../../core/maybe.js\";import\"../../../../../core/Logger.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import{property as a}from\"../../../../../core/accessorSupport/decorators/property.js\";import{subclass as n}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import\"../../../../../core/urlUtils.js\";import\"../../../../../core/uuid.js\";import\"../../../../../portal/support/resourceExtension.js\";import o from\"../../../../../core/Evented.js\";import l from\"../../../../../Graphic.js\";import c from\"../../../../../layers/GraphicsLayer.js\";import{getEffectiveElevationMode as h}from\"../../../../../support/elevationInfoUtils.js\";import{SceneDrawSurface as p}from\"./drawSurfaces.js\";import{DrawOperation as u}from\"./DrawOperation.js\";import{InteractiveToolBase as d}from\"../../../../interactive/InteractiveToolBase.js\";import{SnappingOptions as m}from\"../../../../interactive/snapping/SnappingOptions.js\";import{createViewAlignedCoordinateSystem as y,createSquare as v,createRectangle as g,createCircle as V,createEllipse as _,createPolygon as f,createPolyline as w}from\"../../../../draw/support/createUtils.js\";import{settings as E}from\"../settings.js\";import{OutlineVisualElement as O}from\"../../visualElements/OutlineVisualElement.js\";import{VerticesVisualElement as G}from\"../../visualElements/VerticesVisualElement.js\";let b=class extends(o.EventedMixin(d)){constructor(e){super(e),this.drawOperation=null,this._createGraphic=null,this._outlineVisualElement=null,this._verticesVisualElement=null,this._stagedVerticesVisualElement=null,this.hasZ=!0,this.defaultZ=0,this.elevationInfo=null,this.snapToScene=!1,this.snappingOptions=new m,this.mode=null,this.geometryType=null,this.type=\"draw-3d\"}initialize(){const e=t(this.elevationInfo,{mode:this.hasZ?\"absolute-height\":\"on-the-ground\",offset:0});this._internalGraphicsLayer=new c({elevationInfo:e}),this.view.map.layers.add(this._internalGraphicsLayer),this.drawOperation=new u({view:this.view,manipulators:this.manipulators,geometryType:C(this.geometryType),drawingMode:this.mode,hasZ:this.hasZ,defaultZ:this.defaultZ,snapToSceneEnabled:this.snapToScene,snappingDrawSurface:new p(this.view,e,[this._internalGraphicsLayer]),hasM:!1,elevationInfo:e,snappingOptions:this.snappingOptions}),this.drawOperation.on(\"vertex-add\",(e=>this.onVertexAdd(e))),this.drawOperation.on(\"vertex-remove\",(e=>this.onVertexRemove(e))),this.drawOperation.on(\"vertex-update\",(e=>this.onVertexUpdate(e))),this.drawOperation.on(\"cursor-update\",(e=>this.onCursorUpdate(e))),this.drawOperation.on(\"complete\",(e=>this.onComplete(e)))}destroy(){this.drawOperation.destroy(),this.drawOperation=null,this._destroyAllVisualisations(),this.view.map.remove(this._internalGraphicsLayer),this._set(\"view\",null)}onInputEvent(e){this.drawOperation.onInputEvent(e)}_getCreateGeometry(e,t=!1){if(null==this.drawOperation)return null;const r=i(e)?e:this.drawOperation.hasStagedVertex?this.drawOperation.numVertices-1:null,s=this.drawOperation.vertices;if(0===s.length)return null;const a=this.drawOperation.spatialReference,n=s,o=n.slice(),l=[];i(r)&&(o.splice(r,1),l.push(n[r]));const c={regularVertices:null,stagedVertices:null,full:null,outline:null},h=\"3d\"===this.view.type&&\"global\"===this.view.viewingMode;switch(this.geometryType){case\"point\":c.regularVertices=o,c.stagedVertices=l,c.full=this.drawOperation.coordinateHelper.createPointFromArray(s[0]);break;case\"polyline\":c.regularVertices=o,c.stagedVertices=l,n.length>0&&(c.full=w([n],a,h));break;case\"polygon\":c.regularVertices=o,c.stagedVertices=l,n.length>0&&(c.full=f([n],a,h,!0));break;case\"circle\":if(n.length>0){const e=y(this.view,s[0]);if(1===n.length&&t){const t=n[0],i=e.makeMapPoint(t[0]+S*this.view.resolution,t[1]);c.full=V([t,i],e,!0)}else 2===n.length&&(c.full=this.forceUniformSize?V(s,e,this.centered):_(s,e,this.centered))}break;case\"rectangle\":if(n.length>0){const e=y(this.view,s[0]);if(1===n.length&&t){const t=n[0],i=e.makeMapPoint(t[0]+S*this.view.resolution,t[1]);c.full=v([t,i],e,!0)}else 2===n.length&&(c.full=this.forceUniformSize?v(s,e,this.centered):g(s,e,this.centered))}break;default:return null}switch(this.geometryType){case\"point\":break;case\"polyline\":n.length>1&&(c.outline=w([n],a,h));break;case\"polygon\":n.length>1&&(c.outline=f([n],a,h));break;case\"circle\":case\"rectangle\":i(c.full)&&\"polygon\"===c.full.type&&(c.outline=f(c.full.rings,a,h))}return c}_destroyAllVisualisations(){this._destroyCreateGraphic(),this._destroyOutlineVisualElement(),this._destroyVerticesVisualElement(),this._destroyStagedVerticesVisualElement()}_destroyCreateGraphic(){i(this._createGraphic)&&(this._internalGraphicsLayer.remove(this._createGraphic),this._createGraphic.destroy(),this._createGraphic=null)}_destroyOutlineVisualElement(){i(this._outlineVisualElement)&&(this._outlineVisualElement.destroy(),this._outlineVisualElement=null)}_destroyVerticesVisualElement(){i(this._verticesVisualElement)&&(this._verticesVisualElement.destroy(),this._verticesVisualElement=null)}_destroyStagedVerticesVisualElement(){i(this._stagedVerticesVisualElement)&&(this._stagedVerticesVisualElement.destroy(),this._stagedVerticesVisualElement=null)}_updateCreateGraphic(e=null){const t=this._getCreateGeometry(e);if(r(t))return void this._destroyAllVisualisations();const a=this._internalGraphicsLayer.elevationInfo,n=\"on-the-ground\"===h(this.hasZ,a);i(t.outline)?r(this._outlineVisualElement)?(this._outlineVisualElement=new O({view:this.view,geometry:t.outline,elevationInfo:s(a),isDraped:n,attached:!1}),E.visualElements.lineGraphics.outline.apply(this._outlineVisualElement),E.visualElements.lineGraphics.shadowStyle.apply(this._outlineVisualElement),this._outlineVisualElement.attached=!0,this._outlineVisualElement.laserlineEnabled=!0):this._outlineVisualElement.geometry=t.outline:this._destroyOutlineVisualElement(),i(t.regularVertices)?r(this._verticesVisualElement)?(this._verticesVisualElement=new G({view:this.view,spatialReference:this.view.spatialReference,vertices:t.regularVertices,elevationInfo:s(this._internalGraphicsLayer.elevationInfo),renderOccluded:E.reshapeManipulators.vertex.renderOccluded,attached:!1}),this._verticesVisualElement.attached=!0):this._verticesVisualElement.vertices=t.regularVertices:this._destroyVerticesVisualElement(),i(t.stagedVertices)?r(this._stagedVerticesVisualElement)?(this._stagedVerticesVisualElement=new G({view:this.view,spatialReference:this.view.spatialReference,vertices:t.stagedVertices,elevationInfo:s(this._internalGraphicsLayer.elevationInfo),renderOccluded:E.reshapeManipulators.vertex.renderOccluded,attached:!1}),this._stagedVerticesVisualElement.color=E.colorToVec4(E.reshapeManipulators.selected.color),this._stagedVerticesVisualElement.attached=!0):this._stagedVerticesVisualElement.vertices=t.stagedVertices:this._destroyStagedVerticesVisualElement(),i(t.full)?r(this._createGraphic)?(this._createGraphic=new l({geometry:t.full,symbol:this.createGraphicSymbol}),this._internalGraphicsLayer.add(this._createGraphic),this.view.maskOccludee(this._createGraphic),this.notifyChange(\"createGraphic\")):this._createGraphic.geometry=t.full:this._destroyCreateGraphic()}get createGraphic(){return this._createGraphic}set enabled(e){this.drawOperation.interactive=e,this._set(\"enabled\",e)}set centered(e){this._set(\"centered\",e),this._updateCreateGraphic()}set forceUniformSize(e){this._set(\"forceUniformSize\",e),this._updateCreateGraphic()}reset(){}get canRedo(){return this.drawOperation.canRedo}redo(){this.drawOperation.redo()}get canUndo(){return this.drawOperation.canUndo}undo(){this.drawOperation.undo()}completeCreateOperation(){this.drawOperation.complete()}activate(){}deactivate(){this.drawOperation.isCompleted||this.drawOperation.cancel()}getVertexCoords(){return this.drawOperation.vertices}onVertexAdd(e){this._updateCreateGraphic(),this.emit(\"vertex-add\",e)}onVertexRemove(e){this._updateCreateGraphic(),this.emit(\"vertex-remove\",e)}onVertexUpdate(e){this._updateCreateGraphic(),this.emit(\"vertex-update\",e)}onCursorUpdate(e){this._updateCreateGraphic(1===e.vertices.length?e.vertices[0].vertexIndex:null),this.emit(\"cursor-update\",e)}onComplete(e){this._updateCreateGraphic();let t=null;if(this.drawOperation.isCompleted){const e=this._getCreateGeometry(null,!0);i(e)&&(t=new l({geometry:e.full,symbol:this.createGraphicSymbol}))}this.emit(\"complete\",{graphic:t,...e})}};function C(e){switch(e){case\"point\":case\"polyline\":case\"polygon\":return e;case\"circle\":case\"rectangle\":return\"segment\";default:return null}}e([a({constructOnly:!0,nonNullable:!0})],b.prototype,\"view\",void 0),e([a()],b.prototype,\"createGraphicSymbol\",void 0),e([a()],b.prototype,\"createGraphic\",null),e([a({value:!0})],b.prototype,\"enabled\",null),e([a({value:!0})],b.prototype,\"centered\",null),e([a({value:!0})],b.prototype,\"forceUniformSize\",null),e([a({constructOnly:!0})],b.prototype,\"hasZ\",void 0),e([a({nonNullable:!0})],b.prototype,\"defaultZ\",void 0),e([a({constructOnly:!0})],b.prototype,\"elevationInfo\",void 0),e([a()],b.prototype,\"snapToScene\",void 0),e([a()],b.prototype,\"snappingOptions\",void 0),e([a({constructOnly:!0})],b.prototype,\"mode\",void 0),e([a({constructOnly:!0})],b.prototype,\"geometryType\",void 0),e([a({readOnly:!0})],b.prototype,\"type\",void 0),b=e([n(\"esri.views.3d.interactive.editingTools.draw3D.DrawTool\")],b);const S=48;export{b as DrawGraphicTool};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{isNone as e,isSome as o}from\"../../../../core/maybe.js\";import{getGraphicEffectiveElevationInfo as r}from\"../../../../support/elevationInfoUtils.js\";function t(o,t=r(o)){return\"on-the-ground\"!==t.mode&&!(e(o.geometry)||!o.geometry.hasZ)}function n(e,r){let t=null;const n=e.events.on(\"grab-changed\",(n=>{o(t)&&(t.remove(),t=null),\"start\"===n.action?(t=e.disableDisplay(),r&&r(n)):r&&r(n)}));return{remove(){o(t)&&t.remove(),n.remove()}}}export{t as canMoveZ,n as disableDisplayOnGrab};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../../chunks/tslib.es6.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{property as o}from\"../../../../core/accessorSupport/decorators/property.js\";import{subclass as s}from\"../../../../core/accessorSupport/decorators/subclass.js\";import\"../../../../core/urlUtils.js\";import\"../../../../core/uuid.js\";import\"../../../../portal/support/resourceExtension.js\";import t from\"../../../../core/Evented.js\";let e=class extends t.EventedAccessor{constructor(r){super(r),this.tracking=!1,this.displaying=!1,this.isDraped=!1}};r([o({constructOnly:!0})],e.prototype,\"graphic\",void 0),r([o()],e.prototype,\"tracking\",void 0),r([o()],e.prototype,\"displaying\",void 0),r([o()],e.prototype,\"isDraped\",void 0),e=r([s(\"esri.views.3d.layers.graphics.GraphicState\")],e);export{e as GraphicState};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{isNone as t}from\"../../../../core/maybe.js\";import{Manipulator3D as i}from\"../Manipulator3D.js\";class e{constructor(){this.grabbingState=0,this.zManipulator=null,this.firstSelected=null,this.numSelected=0,this.firstGrabbedXY=null}update(e){this.grabbingState=0,this.zManipulator=null,this.numSelected=0,this.firstSelected=null,this.firstGrabbedXY=null,e.forEachManipulator(((e,s)=>{if(0===s&&(this.zManipulator=e),e instanceof i&&(e.selected&&(0===this.numSelected&&(this.firstSelected=e),this.numSelected++),t(this.firstGrabbedXY)&&e.grabbing&&1===s&&(this.firstGrabbedXY=e)),e.grabbing)switch(this.grabbingState|=1,s){case 0:this.grabbingState|=2;break;case 1:this.grabbingState|=4}}))}}export{e as ManipulatorState};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../../../core/maybe.js\";import{handlesGroup as t,destroyHandle as a,refHandle as n}from\"../../../../core/handleUtils.js\";import{deg2rad as i}from\"../../../../core/mathUtils.js\";import{c as l}from\"../../../../chunks/vec3f64.js\";import{s,b as o,a as r}from\"../../../../chunks/vec3.js\";import{getGraphicEffectiveElevationInfo as c}from\"../../../../support/elevationInfoUtils.js\";import{LaserlineVisualElement as p}from\"../visualElements/LaserlineVisualElement.js\";import{ExtendedLineVisualElement as m}from\"../visualElements/ExtendedLineVisualElement.js\";import{Manipulator3D as h}from\"../Manipulator3D.js\";import{settings as u}from\"./settings.js\";import{OutlineVisualElement as d}from\"../visualElements/OutlineVisualElement.js\";import{ManipulatorState as g}from\"./ManipulatorState.js\";import{GraphicState as f}from\"../../layers/graphics/GraphicState.js\";function v(l){const{view:d,graphic:v}=l,b=new f({graphic:v}),S=y(l,b),j=[S,function(l,d,f){const{graphic:v,view:y}=l,b=[],S=c(v),j=\"on-the-ground\"===S.mode||!S.offset&&\"absolute-height\"!==S.mode,M=new g,G=new m({view:y,extensionType:u.visualElements.zVerticalLine.extensionType,innerWidth:1,attached:!1,writeDepthEnabled:!1,renderOccluded:4});u.visualElements.pointGraphics.shadowStyle.apply(G);const L=i(u.visualElements.heightPlaneAngleCutoff),D=new p({view:y,attached:!1,angleCutoff:L});u.visualElements.heightPlane.apply(D);let C=1,V=1;const k=()=>{if(M.update(l),!f.displaying||j&&(f.isDraped||!E(v)||!v.geometry.hasZ))return d.laserlineEnabled=!1,G.attached=!1,void(D.attached=!1);d.laserlineEnabled=!0;{const e=4&M.grabbingState?u.visualElements.laserlineAlphaMultiplier:1;e!==C&&(C=e,u.visualElements.lineGraphics.shadowStyle.apply(d,e),u.visualElements.pointGraphics.shadowStyle.apply(G,e))}{const e=2&M.grabbingState?u.visualElements.laserlineAlphaMultiplier:1;e!==V&&(V=e,u.visualElements.heightPlane.apply(D,e))}!function(t,a){const n=1===a.numSelected?a.firstSelected:a.numSelected>1&&e(a.firstGrabbedXY)?a.firstGrabbedXY:null;e(n)?(t.setStartEndFromWorldDownAtLocation(n.renderLocation),t.attached=!0):t.attached=!1}(G,M),function(t,a,n,i){if(i.numSelected>0){s(w,0,0,0);let e=0;t.forEachManipulator(((t,a)=>{1===a&&t.selected&&t instanceof h&&(o(w,w,t.renderLocation),e++)})),e>0?(n.heightManifoldTarget=r(w,w,1/e),n.attached=!0):n.attached=!1}else{const i=a.attachmentOrigin;e(i)&&t.view.renderCoordsHelper.toRenderCoords(i,w)?(n.heightManifoldTarget=w,n.attached=!0):n.attached=!1}}(l,d,D,M)};u.visualElements.zVerticalLine.apply(G),b.push(f.on(\"changed\",k),f.watch(\"displaying\",k),d.events.on(\"attachment-origin-changed\",k),a(G),a(D));const x=[],A=()=>{t(x).remove(),x.length=0,l.forEachManipulator((e=>x.push(e.events.on(\"grab-changed\",k)))),l.forEachManipulator((e=>x.push(e.events.on(\"select-changed\",k)))),k()};return A(),b.push(l.onManipulatorsChanged(A),n((()=>t(x)))),t(b)}(l,S.visualElement,b),d.maskOccludee(v),d.trackGraphicState(b)];return{visualElement:S.visualElement,remove:()=>t(j).remove()}}function y(e,n){const{view:i,graphic:l}=e,s=new d({view:i,geometry:E(l)?l.geometry:null,elevationInfo:c(l),attached:!1});u.visualElements.lineGraphics.shadowStyle.apply(s);const o=()=>{s.attached=n.displaying};u.visualElements.lineGraphics.outline.apply(s);const r=[n.watch(\"displaying\",o),n.watch(\"isDraped\",(e=>s.isDraped=e)),n.on(\"changed\",(()=>s.geometry=E(l)?l.geometry:null)),a(s)];return o(),{visualElement:s,remove:()=>t(r).remove()}}function E(t){return e(t.geometry)&&(\"polygon\"===t.geometry.type||\"polyline\"===t.geometry.type)}const w=l();export{y as createGeometryRepresentationVisualElement,v as createVisualElements};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../../../core/maybe.js\";import{handlesGroup as t,destroyHandle as n,refHandle as o}from\"../../../../core/handleUtils.js\";import{deg2rad as i}from\"../../../../core/mathUtils.js\";import{c as r}from\"../../../../chunks/vec3f64.js\";import{s as a}from\"../../../../chunks/vec3.js\";import{init as s}from\"../../../../core/watchUtils.js\";import{containsXY as l}from\"../../../../geometry/support/aaBoundingRect.js\";import{projectVectorToVector as p,projectPointToVector as c}from\"../../../../geometry/projection.js\";import{create as m,empty as h,getMin as u}from\"../../../../geometry/support/aaBoundingBox.js\";import{getGraphicEffectiveElevationInfo as g}from\"../../../../support/elevationInfoUtils.js\";import{evaluateElevationAlignmentAtPoint as d}from\"../../layers/graphics/elevationAlignmentUtils.js\";import{ElevationContext as f}from\"../../layers/graphics/ElevationContext.js\";import{LaserlineVisualElement as v}from\"../visualElements/LaserlineVisualElement.js\";import{ExtendedLineVisualElement as y}from\"../visualElements/ExtendedLineVisualElement.js\";import{PointVisualElement as E}from\"../visualElements/PointVisualElement.js\";import{settings as w}from\"./settings.js\";import{ManipulatorState as j}from\"./ManipulatorState.js\";import{GraphicState as b}from\"../../layers/graphics/GraphicState.js\";function x(r){const{view:m,graphic:x}=r,A=new b({graphic:x}),C=[],M=function(t,i,r){const{view:a,graphic:p}=t,m=new E({view:a,geometry:S(p)?p.geometry:null,elevationInfo:g(p),attached:!1});return function(t,n,i,r){const a=()=>n.attached=i.displaying;(function(t,n,i,r){const{view:a,graphic:s}=t;let p=null;const m=()=>{e(p)&&(p.remove(),p=null),i.isDraped&&S(s)&&(p=function(e,t,n){const o=e.elevationProvider.spatialReference;c(t,L,o);const i=L[0],r=L[1];return e.elevationProvider.on(\"elevation-change\",(e=>{l(e.extent,i,r)&&n()}))}(a,s.geometry,(()=>{n.geometry=s.geometry})))},h=()=>{m(),n.geometry=S(s)?s.geometry:null};r.push(i.on(\"changed\",h),o((()=>p))),h()})(t,n,i,r),w.visualElements.pointGraphics.outline.apply(n),r.push(s(i,\"displaying\",a))}(t,m,i,r),r.push(n(m)),m}(r,A,C);return function(e,t,o,r){const{view:s,graphic:l}=e,c=new y({view:s,extensionType:w.visualElements.zVerticalLine.extensionType,innerWidth:1,attached:!1,writeDepthEnabled:!1,renderOccluded:4});w.visualElements.zVerticalLine.apply(c);const m=new v({view:s,intersectsLineInfinite:!0,attached:!1});w.visualElements.pointGraphics.shadowStyle.apply(m);const E=i(w.visualElements.heightPlaneAngleCutoff),b=new v({view:s,attached:!1,angleCutoff:E});w.visualElements.heightPlane.apply(b);const x=g(e.graphic),A=f.fromElevationInfo(x),C=\"on-the-ground\"===x.mode||!x.offset&&\"absolute-height\"!==x.mode,M=new j;let R=1,U=1;const D=()=>{M.update(e);const n=C&&(t.isDraped||!S(l)||!l.geometry.hasZ);let o=!0;if(!n&&S(l)){const e=l.geometry,t=d(l.geometry,s.elevationProvider,A,s.renderCoordsHelper);a(L,e.x,e.y,t),p(L,e.spatialReference,L,s.renderCoordsHelper.spatialReference),c.setStartEndFromWorldDownAtLocation(L),m.intersectsWorldUpAtLocation=L}else o=!1;{const e=2&M.grabbingState?w.visualElements.laserlineAlphaMultiplier:1;e!==R&&(R=e,w.visualElements.heightPlane.apply(b,e))}{const e=h(P);!n&&t.displaying&&r.calculateMapBounds(e)&&p(u(e,L),s.spatialReference,L,s.renderCoordsHelper.spatialReference)?(b.heightManifoldTarget=L,b.attached=!0):b.attached=!1}{const e=4&M.grabbingState?w.visualElements.laserlineAlphaMultiplier:1;e!==U&&(U=e,w.visualElements.pointGraphics.shadowStyle.apply(m,e))}const i=o&&t.displaying&&!n;m.attached=i,c.attached=i};o.push(t.watch([\"displaying\",\"isDraped\"],D),t.on(\"changed\",D)),e.forEachManipulator((e=>{o.push(e.events.on(\"grab-changed\",D))})),o.push(n(m)),o.push(n(c)),o.push(n(b)),D()}(r,A,C,M),C.push(m.trackGraphicState(A)),{visualElement:M,remove(){t(C).remove()}}}function S(t){return e(t.geometry)&&\"point\"===t.geometry.type}const L=r(),P=m();export{x as createVisualElements};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{unwrap as e}from\"../../../../core/maybe.js\";import{createVisualElements as t}from\"./lineGraphicVisualElementUtils.js\";import{createVisualElements as r}from\"./pointGraphicVisualElementUtils.js\";function i(i){switch(e(i.graphic.geometry).type){case\"point\":return r(i);case\"polygon\":case\"polyline\":return t(i);default:return null}}export{i as createVisualElements};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nconst t=[1,.5,0],a=128,e=70,h=80,M=.02,c=54,o=100,I=Math.ceil(70/3*2),P=160,i=.5,l=24,n=9,p=190,r=213,s=60,x=23,b=5*Math.PI/12,d=1*Math.PI/3,f=10,g=.2,j=30,k=53,m=.2,q=.3,u=200,v=3,w=1e6;export{w as ALIGN_ARROWS_SCALE_THRESHOLD,h as DISC_COLLISION_RADIUS,M as DISC_HEIGHT,e as DISC_RADIUS,I as DISC_RADIUS_SMALL,o as DISC_TRANSLATE_ARROW_OFFSET,c as DISC_TRANSLATE_ARROW_SIZE,f as DRAG_THRESHOLD_PX,a as GEOMETRY_SEGMENTS,t as HANDLE_COLOR,n as INDICATOR_THICKNESS,p as INNER_INDICATOR_RADIUS,r as OUTER_INDICATOR_RADIUS,i as RING_HEIGHT,u as RING_INDICATOR_DELAY_MS,P as RING_RADIUS,v as RING_RESET_ANIMATION_SPEED_FACTOR,l as RING_THICKNESS,b as ROTATE_INDICATOR_ARC_LENGTH,g as ROTATE_INDICATOR_ARROW_PLACEMENT_PERCENTAGE,s as ROTATE_INDICATOR_ARROW_TIP_LENGTH,x as ROTATE_INDICATOR_ARROW_TIP_RADIUS,q as ROTATE_INDICATOR_DIRECTION_BUFFER,d as SCALE_INDICATOR_ARC_LENGTH,m as SCALE_INDICATOR_DIRECTION_BUFFER,j as SCALE_INDICATOR_OFFSET1,k as SCALE_INDICATOR_OFFSET2};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{E as t}from\"./common.js\";function n(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t}function a(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t}function s(t,n,a,s,r){return t[0]=n,t[1]=a,t[2]=s,t[3]=r,t}function r(t,n){if(t===n){const a=n[1];t[1]=n[2],t[2]=a}else t[0]=n[0],t[1]=n[2],t[2]=n[1],t[3]=n[3];return t}function u(t,n){const a=n[0],s=n[1],r=n[2],u=n[3];let o=a*u-r*s;return o?(o=1/o,t[0]=u*o,t[1]=-s*o,t[2]=-r*o,t[3]=a*o,t):null}function o(t,n){const a=n[0];return t[0]=n[3],t[1]=-n[1],t[2]=-n[2],t[3]=a,t}function c(t){return t[0]*t[3]-t[2]*t[1]}function e(t,n,a){const s=n[0],r=n[1],u=n[2],o=n[3],c=a[0],e=a[1],i=a[2],f=a[3];return t[0]=s*c+u*e,t[1]=r*c+o*e,t[2]=s*i+u*f,t[3]=r*i+o*f,t}function i(t,n,a){const s=n[0],r=n[1],u=n[2],o=n[3],c=Math.sin(a),e=Math.cos(a);return t[0]=s*e+u*c,t[1]=r*e+o*c,t[2]=s*-c+u*e,t[3]=r*-c+o*e,t}function f(t,n,a){const s=n[0],r=n[1],u=n[2],o=n[3],c=a[0],e=a[1];return t[0]=s*c,t[1]=r*c,t[2]=u*e,t[3]=o*e,t}function h(t,n){const a=Math.sin(n),s=Math.cos(n);return t[0]=s,t[1]=a,t[2]=-a,t[3]=s,t}function M(t,n){return t[0]=n[0],t[1]=0,t[2]=0,t[3]=n[1],t}function l(t){return\"mat2(\"+t[0]+\", \"+t[1]+\", \"+t[2]+\", \"+t[3]+\")\"}function b(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2))}function m(t,n,a,s){return t[2]=s[2]/s[0],a[0]=s[0],a[1]=s[1],a[3]=s[3]-t[2]*a[1],[t,n,a]}function p(t,n,a){return t[0]=n[0]+a[0],t[1]=n[1]+a[1],t[2]=n[2]+a[2],t[3]=n[3]+a[3],t}function d(t,n,a){return t[0]=n[0]-a[0],t[1]=n[1]-a[1],t[2]=n[2]-a[2],t[3]=n[3]-a[3],t}function x(t,n){return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]&&t[3]===n[3]}function w(n,a){const s=n[0],r=n[1],u=n[2],o=n[3],c=a[0],e=a[1],i=a[2],f=a[3];return Math.abs(s-c)<=t*Math.max(1,Math.abs(s),Math.abs(c))&&Math.abs(r-e)<=t*Math.max(1,Math.abs(r),Math.abs(e))&&Math.abs(u-i)<=t*Math.max(1,Math.abs(u),Math.abs(i))&&Math.abs(o-f)<=t*Math.max(1,Math.abs(o),Math.abs(f))}function y(t,n,a){return t[0]=n[0]*a,t[1]=n[1]*a,t[2]=n[2]*a,t[3]=n[3]*a,t}function j(t,n,a,s){return t[0]=n[0]+a[0]*s,t[1]=n[1]+a[1]*s,t[2]=n[2]+a[2]*s,t[3]=n[3]+a[3]*s,t}let q=e,_=d;var v=Object.freeze({__proto__:null,copy:n,identity:a,set:s,transpose:r,invert:u,adjoint:o,determinant:c,multiply:e,rotate:i,scale:f,fromRotation:h,fromScaling:M,str:l,frob:b,LDU:m,add:p,subtract:d,exactEquals:x,equals:w,multiplyScalar:y,multiplyScalarAndAdd:j,mul:q,sub:_});export{m as L,u as a,o as b,n as c,c as d,e,h as f,f as g,M as h,a as i,l as j,b as k,p as l,v as m,d as n,x as o,w as p,y as q,i as r,s,r as t,j as u,q as v,_ as w};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nfunction e(){return[1,0,0,1]}function r(e){return[e[0],e[1],e[2],e[3]]}function n(e,r,n,t){return[e,r,n,t]}function t(e,r){return new Float64Array(e,r,4)}var a=Object.freeze({__proto__:null,create:e,clone:r,fromValues:n,createView:t});export{r as a,t as b,e as c,n as f,a as m};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{isNone as t}from\"../../../../../core/maybe.js\";import{cyclical2PI as n}from\"../../../support/mathUtils.js\";import{empty as e,expandPointInPlace as r,area as o,create as s}from\"../../../../../geometry/support/aaBoundingRect.js\";import{a}from\"../../../../../chunks/vec2f64.js\";import{o as c}from\"../../../../../chunks/vec2.js\";import{convexHull as i}from\"../../../../../geometry/geometryEngine.js\";import{f as m}from\"../../../../../chunks/mat2.js\";import{c as f}from\"../../../../../chunks/mat2f64.js\";import{dragGraphic as p,resetGraphic as l}from\"../../../../interactive/dragEventPipeline.js\";function u(t,n,e){const r=t.graphic,o=(t,e)=>n({action:t,graphic:r,dxScreen:e.screenDeltaX,dyScreen:e.screenDeltaY});return e(((t,n,e)=>{n.next((t=>(\"start\"===t.action&&o(\"start\",t),t))).next(p(r)).next((t=>{switch(t.action){case\"start\":case\"update\":(t.translationX||t.translationY||t.translationZ)&&o(\"update\",t);break;case\"end\":o(\"end\",t)}return t})),e.next(l(r)).next((()=>{o(\"end\",{screenDeltaX:0,screenDeltaY:0})}))}))}function h(s){if(t(s)||\"polyline\"!==s.type&&\"polygon\"!==s.type)return 0;const a=i(s),f=a&&a.rings&&a.rings[0];if(!f)return 0;!function(t){let n=0,e=0;for(const r of t)n+=r[0],e+=r[1];n/=t.length,e/=t.length;for(const r of t)r[0]-=n,r[1]-=e}(f);const p=[];for(let t=0;t<f.length-1;t++){const e=Math.atan2(f[t+1][1]-f[t][1],f[t+1][0]-f[t][0]),r=n.normalize(e)%(Math.PI/2);p.push(r)}const l=p.sort(((t,n)=>t-n));let u=null,h=0,y=Number.POSITIVE_INFINITY,x=0;for(const t of l){if(t===u)continue;u=t,m(g,t),e(d);for(const t of f)c(j,t,g),r(d,j);const n=o(d);((n>y?y/n:n/y)>=.99&&t<h||n<y)&&(h=t,y=n),x=Math.max(x,n)}return y/x>=.95?0:h}const g=f(),d=s(),j=a();export{u as createGraphicMoveDragPipeline,h as primaryShapeOrientation};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{Manipulator3D as a}from\"../../Manipulator3D.js\";class t{constructor(){this._available=!0}set location(a){this.forEachManipulator3D((t=>t.location=a))}set elevationAlignedLocation(a){this.forEachManipulator3D((t=>t.elevationAlignedLocation=a))}set elevationInfo(a){this.forEachManipulator3D((t=>t.elevationInfo=a))}get available(){return this._available}set available(a){this._available=a,this.forEachManipulator3D((t=>t.available=a))}get grabbing(){return this.someManipulator((a=>a.grabbing))}get dragging(){return this.someManipulator((a=>a.dragging))}hasManipulator(a){return this.someManipulator((t=>t===a))}someManipulator(a){let t=!1;return this.forEachManipulator((i=>{!t&&a(i)&&(t=!0)})),t}forEachManipulator3D(t){this.forEachManipulator(((i,o)=>{i instanceof a&&t(i,o)}))}}export{t as Manipulation};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{unwrap as t}from\"../../../../../core/maybe.js\";import{handlesGroup as a}from\"../../../../../core/handleUtils.js\";import r from\"../../../../../core/Evented.js\";import e from\"../../../../../Color.js\";import{f as i}from\"../../../../../chunks/vec3f64.js\";import{s as o}from\"../../../../../chunks/vec3.js\";import s from\"../../../../../core/Handles.js\";import{w as n,i as l,x as p,m as u,r as h,p as m}from\"../../../../../chunks/mat4.js\";import{a as c}from\"../../../../../chunks/mat4f64.js\";import{getGraphicEffectiveElevationInfo as d}from\"../../../../../support/elevationInfoUtils.js\";import{sv3d as f,sm4d as _}from\"../../../support/stack.js\";import g from\"../../../webgl-engine/lib/GeometryUtil.js\";import M from\"../../../webgl-engine/lib/Geometry.js\";import{ColorMaterial as w}from\"../../../webgl-engine/materials/ColorMaterial.js\";import{createManipulatorDragEventPipeline as v,dragAtLocation as j,constrainToMapAxis as y,addScreenDelta as A}from\"../../../../interactive/dragEventPipeline.js\";import{screenToMapXYAtLocation as I}from\"../dragEventPipeline3D.js\";import{Manipulator3D as b}from\"../../Manipulator3D.js\";import{colors as x}from\"../settings.js\";import{DISC_RADIUS as T,DISC_HEIGHT as D,DISC_TRANSLATE_ARROW_OFFSET as P,DISC_TRANSLATE_ARROW_SIZE as k}from\"./config.js\";import{Manipulation as E}from\"./Manipulation.js\";import{createGraphicMoveDragPipeline as S}from\"./moveUtils.js\";class U extends E{constructor(t){super(),this._handles=new s,this._arrowManipulatorInfos=new Array,this._opaqueMaterial=this.createMaterial(),this._transparentMaterial=this.createMaterial(.5),this._angle=0,this._scale=1,this._radius=T,this._updateAfterDrag=!1,this.events=new r,this._tool=t.tool,this._view=t.view,null!=t.radius&&(this._radius=t.radius),this._createManipulators(),this.forEachManipulator((t=>this._tool.manipulators.add(t)))}set orthogonalAvailable(t){this._arrowManipulatorInfos[1].manipulator.available=t,this._arrowManipulatorInfos[3].manipulator.available=t}destroy(){this.forEachManipulator((t=>{this._tool.manipulators.remove(t),t.destroy()})),this._handles.removeAll(),this._tool=null,this._view=null,this._arrowManipulatorInfos.length=0}forEachManipulator(t){this._arrowManipulatorInfos.map((({manipulator:a})=>t(a,1)))}createGraphicDragPipeline(a,r){const e=a.graphic,i=d(e),o=t(e.geometry).spatialReference;return S(a,r,(t=>this.createDragPipeline(t,i,o)))}createDragPipeline(t,r,e){return a(this._arrowManipulatorInfos.map((({manipulator:a},i)=>v(a,((a,o,s,n,l)=>{const p=o.next((t=>({...t,manipulatorType:1}))).next(j(this._view,a.elevationAlignedLocation)).next(I(this._view,a.elevationAlignedLocation,r,e)).next(y(a.location,this.angle+(i+1)*Math.PI*.5)).next(A());t(a,p,s,n,l)})))))}get angle(){return this._angle}set angle(t){this._angle=t,this.dragging?this._updateAfterDrag=!0:this._updateManipulatorTransform()}get displayScale(){return this._scale}set displayScale(t){this._scale=t,this._updateManipulatorTransform()}get radius(){return this._radius}set radius(t){this._radius!==t&&(this._radius=t,this._updateManipulators())}_updateManipulators(){for(let t=0;t<this._arrowManipulatorInfos.length;t++)this._updateArrowManipulator(this._arrowManipulatorInfos[t],t);this._updateManipulatorTransform()}_updateArrowManipulator({manipulator:t,transform:a},r){const e=this._radius/T,i=k*e,s=Math.sqrt(i*i*3/4),h=g.createExtrudedTriangle(s,i/2,i/2,D);g.transformInPlace(h,n(_.get(),o(f.get(),0,-s/3,0)));const m=new M(h,\"move-xy-axis-arrow\");t.renderObjects=[{geometry:m,material:this._opaqueMaterial,stateMask:2},{geometry:m,material:this._transparentMaterial,stateMask:1}],t.radius=s/3*2*1.2;const c=l(_.get());p(c,r*Math.PI/2);const d=l(_.get());n(d,o(f.get(),0,P*e,0)),u(a,c,d)}_createManipulators(){for(let t=0;t<4;t++){const a=this._createArrowManipulator(t);this._arrowManipulatorInfos.push(a)}this._updateManipulatorTransform()}_updateManipulatorTransform(){const t=this.angle,a=l(_.get());h(a,a,t,i(0,0,1));const r=m(_.get(),o(f.get(),this.displayScale,this.displayScale,this.displayScale)),e=l(_.get());u(e,r,a);for(const t of this._arrowManipulatorInfos){const a=u(_.get(),e,t.transform);t.manipulator.modelTransform=a}}_createArrowManipulator(t){const a=new b({view:this._view,autoScaleRenderObjects:!1,worldOriented:!0,focusMultiplier:1,touchMultiplier:1,collisionType:{type:\"disc\",direction:i(0,0,1)}}),r={manipulator:a,transform:c()};return this._updateArrowManipulator(r,t),this._handles.add(a.events.on(\"drag\",(t=>{this._updateAfterDrag&&\"end\"===t.action&&!this.dragging&&(this._updateManipulatorTransform(),this._updateAfterDrag=!1)}))),r}createMaterial(t=1){const a=e.toUnitRGBA(x.main);return a[3]*=t,new w({color:a,transparent:1!==t,cullFace:2,renderOccluded:2},\"graphic-transform\")}get test(){return{arrowManipulators:this._arrowManipulatorInfos.map((({manipulator:t})=>t))}}}export{U as MoveXYAxisManipulation};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{isSome as t}from\"../../../../../core/maybe.js\";import{getZForElevationMode as e}from\"../../../../../support/elevationInfoUtils.js\";import{EventPipeline as n}from\"../../../../interactive/dragEventPipeline.js\";class a{constructor(){this.view=null,this.elevationInfo=null,this.lastDragEvent=null,this.next=new n,this._enabled=!1}get enabled(){return this._enabled}set enabled(e){if(this._enabled!==e&&t(this.lastDragEvent)){const n=this.lastDragEvent.mapEnd,a=this.snap(this.lastDragEvent.screenEnd);if(t(a)){const t={action:\"update\",mapStart:this.lastDragEvent.mapStart,mapEnd:!0===e?a:n,screenStart:this.lastDragEvent.screenEnd,screenEnd:this.lastDragEvent.screenEnd};this.next.execute(t)}}this._enabled=e}snap(n){const a=t(this.view)?this.view.toMap(n,{exclude:[]}):null;return t(a)&&t(this.view)&&(a.z=e(a,this.view,this.elevationInfo)),a}createDragEventPipelineStep(e,n){return this.view=e,this.elevationInfo=n,this.lastDragEvent=null,e=>{if(this.lastDragEvent=\"end\"!==e.action?{...e}:null,this._enabled){const n=this.snap(e.screenEnd);return t(n)?{action:e.action,mapStart:e.mapStart,mapEnd:n,screenStart:e.screenStart,screenEnd:e.screenEnd}:null}return{action:e.action,mapStart:e.mapStart,mapEnd:e.mapEnd,screenStart:e.screenStart,screenEnd:e.screenEnd}}}}export{a as SnapToScene};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{unwrap as t}from\"../../../../../core/maybe.js\";import e from\"../../../../../Color.js\";import{f as i}from\"../../../../../chunks/vec3f64.js\";import{s as a}from\"../../../../../chunks/vec3.js\";import r from\"../../../../../core/Handles.js\";import{p as s}from\"../../../../../chunks/mat4.js\";import{a as o}from\"../../../../../chunks/mat4f64.js\";import{getGraphicEffectiveElevationInfo as n}from\"../../../../../support/elevationInfoUtils.js\";import{sv3d as l,sm4d as p}from\"../../../support/stack.js\";import c from\"../../../webgl-engine/lib/GeometryUtil.js\";import m from\"../../../webgl-engine/lib/Geometry.js\";import{ColorMaterial as u}from\"../../../webgl-engine/materials/ColorMaterial.js\";import{createManipulatorDragEventPipeline as h,dragAtLocation as d,addScreenDelta as _}from\"../../../../interactive/dragEventPipeline.js\";import{screenToMapXYAtLocation as f}from\"../dragEventPipeline3D.js\";import{Manipulator3D as g}from\"../../Manipulator3D.js\";import{colors as M}from\"../settings.js\";import{DISC_RADIUS as j,DISC_HEIGHT as y,GEOMETRY_SEGMENTS as S,DISC_COLLISION_RADIUS as v}from\"./config.js\";import{Manipulation as T}from\"./Manipulation.js\";import{createGraphicMoveDragPipeline as w}from\"./moveUtils.js\";import{SnapToScene as b}from\"../snapping/SnapToScene.js\";class x extends T{constructor(t){super(),this._handles=new r,this._snapToScene=new b,this._discMaterial=this._createMaterial(),this._discMaterialTransparent=this._createMaterial(.5),this._scale=1,this._radius=j,this._view=t.view,this._tool=t.tool,null!=t.snapToScene&&(this.snapToScene=t.snapToScene),null!=t.radius&&(this._radius=t.radius),this._createManipulator(),this.forEachManipulator((t=>this._tool.manipulators.add(t)))}destroy(){this._handles.destroy(),this.forEachManipulator((t=>{this._tool.manipulators.remove(t),t.destroy()})),this._tool=null,this._view=null,this._manipulator=null}forEachManipulator(t){t(this._manipulator,1)}get displayScale(){return this._scale}set displayScale(t){this._scale=t,this._updateManipulatorTransform()}get snapToScene(){return this._snapToScene.enabled}set snapToScene(t){this._snapToScene.enabled=t}get radius(){return this._radius}set radius(t){t!==this._radius&&(this._radius=t,this._updateManipulator())}createGraphicDragPipeline(e,i){const a=e.graphic,r=n(a),s=t(a.geometry).spatialReference;return w(e,i,(t=>this.createDragPipeline(t,r,s)))}createDragPipeline(t,e,i){const a=this._view;return h(this._manipulator,((r,s,o,n,l)=>{const p=s.next(d(a,r.elevationAlignedLocation)).next(f(a,r.elevationAlignedLocation,e,i)).next(this._snapToScene.createDragEventPipelineStep(a,e),this._snapToScene.next).next((t=>({...t,manipulatorType:1}))).next(_());t(r,p,o,n,l)}))}_updateManipulatorTransform(){const t=s(p.get(),a(l.get(),this.displayScale,this.displayScale,this.displayScale));this._manipulator.modelTransform=t}_createManipulator(){const t=this._view;this._manipulator=new g({view:t,worldSized:!1,autoScaleRenderObjects:!1,focusMultiplier:1,touchMultiplier:1,collisionType:{type:\"disc\",direction:i(0,0,1)},worldOriented:!0}),this._updateManipulator()}_updateManipulator(){const t=new m(c.createCylinderGeometry(y,1,S,i(0,0,1),i(0,0,0)),\"graphic-transform-disc\"),e=s(o(),i(this._radius,this._radius,this._radius));this._manipulator.renderObjects=[{geometry:t,material:this._discMaterial,transform:e,stateMask:2},{geometry:t,material:this._discMaterialTransparent,transform:e,stateMask:1}],this._manipulator.radius=v*(this._radius/j)}_createMaterial(t=1){const i=e.toUnitRGBA(M.main);return i[3]*=t,new u({color:i,transparent:1!==t,cullFace:2,renderOccluded:2},\"move-xy-disc\")}get test(){return{discManipulator:this._manipulator}}}export{x as MoveXYDiscManipulation};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{unwrap as t}from\"../../../../../core/maybe.js\";import e from\"../../../../../core/Evented.js\";import{clamp as r}from\"../../../../../core/mathUtils.js\";import{c as a,f as i}from\"../../../../../chunks/vec3f64.js\";import{w as o,f as s,n,d as l,c as m,a as p}from\"../../../../../chunks/vec3.js\";import c from\"../../../../../core/Handles.js\";import{t as u,e as h,s as d}from\"../../../../../chunks/mat4.js\";import{darken as f}from\"../../../../../core/colorUtils.js\";import{a as M}from\"../../../../../chunks/mat4f64.js\";import g from\"../../../webgl-engine/lib/GeometryUtil.js\";import _ from\"../../../webgl-engine/lib/Geometry.js\";import{createManipulatorDragEventPipeline as y,addScreenDelta as j}from\"../../../../interactive/dragEventPipeline.js\";import{screenToZConstrained as v}from\"../dragEventPipeline3D.js\";import{Manipulator3D as w}from\"../../Manipulator3D.js\";import{createManipulatorMaterial as z}from\"../../manipulatorUtils.js\";import{settings as b}from\"../settings.js\";import{DISC_RADIUS as k}from\"./config.js\";import{Manipulation as P}from\"./Manipulation.js\";import{createGraphicMoveDragPipeline as x}from\"./moveUtils.js\";class D extends P{constructor(t){super(),this._handles=new c,this._radius=k,this.events=new e,this._tool=t.tool,this._view=t.view,null!=t.radius&&(this._radius=t.radius),this.createManipulator(),this.forEachManipulator((t=>this._tool.manipulators.add(t)))}destroy(){this._handles.destroy(),this.forEachManipulator((t=>{this._tool.manipulators.remove(t),t.destroy()}))}forEachManipulator(t){t(this._manipulator,0)}createGraphicDragPipeline(e,r){const a=t(e.graphic.geometry).spatialReference;return x(e,r,(t=>this.createDragPipeline(t,a)))}createDragPipeline(t,e){const r=this._view;return y(this._manipulator,((a,i,o,s,n)=>{const l=i.next((t=>({...t,manipulatorType:0}))).next(v(r,a.renderLocation,e)).next(j());t(a,l,o,s,n)}))}get radius(){return this._radius}set radius(t){t!==this._radius&&(this._radius=t,this.updateManipulator())}updateManipulator(){const t=this._radius/k,e=b.zManipulator.height*t,r=b.zManipulator.coneHeight*t,a=b.zManipulator.coneWidth*t,o=b.zManipulator.width*t,s=[i(0,0,0),i(0,0,e)],n=new _(g.createTubeGeometry(s,o/2,16,!1),\"move-z\"),l=g.createConeGeometry(r,a/2,16,!1),m=new _(l),p=[i(0,0,0),i(0,0,e+r)],c=(t=>{const r=M();if(u(r,r,[0,0,e]),h(r,r,Math.PI/2),t){const e=1+2*t/a;d(r,r,[e,e,e])}return r})(0),y=(t,e)=>{const r=f(b.zManipulator.color,e);return[r.r/255,r.g/255,r.b/255,b.zManipulator.color.a*t]},j=z(y(1,.25),1),v=z(y(1,0),1),w=z(y(.7,0),b.zManipulator.renderOccluded),P=z(y(.85,0),b.zManipulator.renderOccluded);this._manipulator.renderObjects=[{geometry:m,transform:c,material:j,stateMask:1},{geometry:n,material:j,stateMask:1},{geometry:m,transform:c,material:v,stateMask:2},{geometry:n,material:v,stateMask:2},{geometry:m,transform:c,material:w,stateMask:1},{geometry:n,material:w,stateMask:1},{geometry:m,transform:c,material:P,stateMask:2},{geometry:n,material:P,stateMask:2}],this._manipulator.radius=o/2+2,this._manipulator.collisionType={type:\"line\",paths:[p]}}createManipulator(){const t=new w({view:this._view,autoScaleRenderObjects:!1,worldSized:!1,selectable:!1,cursor:\"ns-resize\",elevationInfo:this.elevationInfo,worldOriented:!0,collisionPriority:1.6});t.applyObjectTransform=t=>{const e=this._view.state.camera,a=E;this._view.renderCoordsHelper.toRenderCoords(this._manipulator.elevationAlignedLocation,a);const i=o(e.eye,a),c=e.computeRenderPixelSizeAtDist(i),u=s(O,a,e.eye);n(u,u);const h=U;this._view.renderCoordsHelper.worldUpAtPosition(E,h);const d=Math.abs(l(u,h)),f=m(O,u,h),M=m(O,f,h),g=r(d,.01,1),_=1-Math.sqrt(1-g*g)/g/e.fullWidth,y=this._radius/k,j=b.zManipulator.width*y;p(M,n(M,M),(1/_-1)*i+c*j),t[12]-=O[0],t[13]-=O[1],t[14]-=O[2]},this._manipulator=t,this.updateManipulator()}}const E=a(),O=a(),U=a();export{D as MoveZManipulation};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport i from\"../../../../../core/has.js\";import{isSome as a}from\"../../../../../core/maybe.js\";import{handlesGroup as t}from\"../../../../../core/handleUtils.js\";import e from\"../../../../../core/Handles.js\";import{DISC_RADIUS_SMALL as n,DISC_RADIUS as s}from\"./config.js\";import{Manipulation as o}from\"./Manipulation.js\";import{MoveXYAxisManipulation as r}from\"./MoveXYAxisManipulation.js\";import{MoveXYDiscManipulation as l}from\"./MoveXYDiscManipulation.js\";import{MoveZManipulation as p}from\"./MoveZManipulation.js\";class h extends o{constructor(i){super(),this._handles=new e,this._angleDeferred=null,this._interactive=!0;const{tool:a,view:t,snapToScene:n,radius:s}=i;this._view=t,this.xyManipulation=new l({tool:a,view:t,snapToScene:n,radius:s}),this.xyAxisManipulation=new r({tool:a,view:t,radius:s}),this.zManipulation=new p({tool:a,view:t,radius:s}),this.xyManipulation.available=i.xyAvailable,this.xyAxisManipulation.available=i.xyAxisAvailable,this.zManipulation.available=i.zAvailable,this.autoHideXYAxis(),this.forEachManipulator((i=>{this._handles.add(i.events.on(\"grab-changed\",(()=>this.updateManipulatorInteractivity())))}))}destroy(){this._handles.destroy(),this.xyManipulation.destroy(),this.xyAxisManipulation.destroy(),this.zManipulation.destroy()}createGraphicDragPipeline(i,a){return t([this.xyManipulation.createGraphicDragPipeline(i,a),this.xyAxisManipulation.createGraphicDragPipeline(i,a),this.zManipulation.createGraphicDragPipeline(i,a)])}createDragPipeline(i,a,e){return t([this.xyManipulation.createDragPipeline(i,a,e),this.xyAxisManipulation.createDragPipeline(i,a,e),this.zManipulation.createDragPipeline(i,e)])}set snapToScene(i){this.xyManipulation.snapToScene=i}set angle(i){this._angleDeferred=null,this.xyAxisManipulation.angle=i}set angleDeferred(i){this.xyAxisVisible?this.angle=i():this._angleDeferred=i}set interactive(i){this._interactive!==i&&(this._interactive=i,this.updateManipulatorInteractivity())}set radius(i){this.xyAxisManipulation.radius=i,this.xyManipulation.radius=i,this.zManipulation.radius=i}set displayScale(i){this.xyManipulation.displayScale=i,this.xyAxisManipulation.displayScale=i}forEachManipulator(i){this.xyManipulation.forEachManipulator((a=>i(a,1))),this.xyAxisManipulation.forEachManipulator((a=>i(a,1))),this.zManipulation.forEachManipulator((a=>i(a,0)))}get xyAxisVisible(){const i=this.xyManipulation.someManipulator((i=>i.focused))||this.xyAxisManipulation.someManipulator((i=>i.focused));return this._view.inputManager&&\"touch\"===this._view.inputManager.latestPointerType||i}autoHideXYAxis(){const t=this.xyAxisManipulation,e=this.xyManipulation;if(i(\"esri-mobile\"))return;const n=[];e.forEachManipulator((i=>n.push(i))),t.forEachManipulator((i=>n.push(i)));const s=()=>{const i=[];this.xyAxisVisible?a(this._angleDeferred)&&(this.angle=this._angleDeferred()):t.forEachManipulator((a=>i.push(a.disableDisplay()))),this._handles.remove(u),this._handles.add(i,u)};for(const i of n)this._handles.add(i.events.on(\"focus-changed\",s));this._view.inputManager&&this._handles.add(this._view.inputManager.watch(\"latestPointerType\",s)),s()}updateManipulatorInteractivity(){const i=this.grabbing;this.forEachManipulator((a=>{a.interactive=!i&&this._interactive||a.grabbing}))}static radiusForSymbol(i){const t=a(i)&&\"point-3d\"===i.type&&i.symbolLayers;return!!t&&t.length>0&&t.some((i=>\"icon\"===i.type))?n:s}}const u=\"disable-xy-axis-display\";export{h as MoveManipulation};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{isSome as t}from\"../../../../../core/maybe.js\";import i from\"../../../../../core/Handles.js\";import{createManipulatorDragEventPipeline as e,addMapDelta as r,addScreenDelta as a}from\"../../../../interactive/dragEventPipeline.js\";import{GraphicManipulator as o}from\"../../../../interactive/GraphicManipulator.js\";import{screenToMapXYForGraphic as s}from\"../dragEventPipeline3D.js\";import{Manipulation as n}from\"./Manipulation.js\";import{createGraphicMoveDragPipeline as l}from\"./moveUtils.js\";class h extends n{constructor(t){super(),this._handles=new i,this._view=t.view,this._tool=t.tool,this._graphicState=t.graphicState,this._createManipulator(),this.forEachManipulator((t=>this._tool.manipulators.add(t)))}destroy(){this._handles.destroy(),this.forEachManipulator((t=>{this._tool.manipulators.remove(t),t.destroy()})),this._tool=null,this._view=null,this._manipulator=null,this._graphicState=null}forEachManipulator(t){t(this._manipulator,1)}createGraphicDragPipeline(t){return l(this._graphicState,t,(t=>this.createDragPipeline(t)))}createDragPipeline(i){const o=this._view,n=this._graphicState.graphic,l=t(n.geometry)?n.geometry.spatialReference:null;return e(this._manipulator,((t,e,h,p,c)=>{const m=e.next(s(c,o,n,l)).next(r()).next(a());i(t,m,h,p,c)}))}_createManipulator(){const t=this._view,i=this._graphicState.graphic;this._manipulator=new o({graphic:i,view:t,selectable:!0,cursor:\"move\"})}}export{h as MoveXYGraphicManipulation};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../../chunks/tslib.es6.js\";import\"../../../../../core/has.js\";import{unwrap as e,isSome as i}from\"../../../../../core/maybe.js\";import\"../../../../../core/Logger.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import{makeHandle as a}from\"../../../../../core/handleUtils.js\";import{property as o}from\"../../../../../core/accessorSupport/decorators/property.js\";import{subclass as s}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import\"../../../../../core/urlUtils.js\";import\"../../../../../core/uuid.js\";import\"../../../../../portal/support/resourceExtension.js\";import n from\"../../../../../core/Evented.js\";import r from\"../../../../../core/Collection.js\";import l from\"../../../../../core/Handles.js\";import{getGraphicEffectiveElevationInfo as p}from\"../../../../../support/elevationInfoUtils.js\";import{makeDehydratedPoint as h}from\"../../../../../layers/graphics/dehydratedFeatures.js\";import{dragGraphicMany as c,resetGraphicMany as m}from\"../../../../interactive/dragEventPipeline.js\";import{InteractiveToolBase as u}from\"../../../../interactive/InteractiveToolBase.js\";import{getGraphicAttachmentOrigin as d}from\"../../manipulatorUtils.js\";import{isSupportedGraphic as g}from\"./isSupportedGraphic.js\";import{canMoveZ as v}from\"../manipulatorUtils.js\";import{OutlineVisualElement as f}from\"../../visualElements/OutlineVisualElement.js\";import{GraphicState as M}from\"../../../layers/graphics/GraphicState.js\";import{createVisualElements as y}from\"../visualElementUtils.js\";import{DISC_RADIUS as _}from\"../manipulations/config.js\";import{primaryShapeOrientation as j}from\"../manipulations/moveUtils.js\";import{MoveManipulation as w}from\"../manipulations/MoveManipulation.js\";import{MoveXYGraphicManipulation as b}from\"../manipulations/MoveXYGraphicManipulation.js\";class x{constructor(t){this.allGraphics=t,this.type=\"graphic-move-start\"}}class E{constructor(t,e,i){this.dx=t,this.dy=e,this.allGraphics=i,this.type=\"graphic-move\"}}class A{constructor(t){this.allGraphics=t,this.type=\"graphic-move-stop\"}}let S=class extends(n.EventedMixin(u)){constructor(t){super(t),this.graphics=new r,this.enableZ=!0,this.type=\"move-3d\",this._toolHandles=new l,this._handles=new l}initialize(){this._toolHandles.add([this.graphics.on(\"change\",(()=>this._refreshManipulators()))]),this._refreshManipulators()}destroy(){this._handles.destroy(),this._handles=null,this._toolHandles.destroy(),this._toolHandles=null,this.graphics.removeAll(),this._set(\"view\",null)}reset(){}_refreshManipulators(){this._handles.removeAll(),this._moveManipulation&&this._moveManipulation.destroy(),this.manipulators.removeAll();const t=this.graphics.toArray().filter((t=>0===g(t))).map((t=>new D(t)));t.length&&(this.createManipulators(t),this.createVisualElements(t),this._handles.add(t.map((t=>this.view.trackGraphicState(t.state)))),this.updateMoveManipulation(t))}createManipulators(t){for(const e of t){const i=e.state;e.manipulationXY=new b({tool:this,view:this.view,graphicState:i}),e.manipulationXY.forEachManipulator((t=>this._handles.add(t.events.on(\"immediate-click\",(t=>{this.emit(\"immediate-click\",{...t,graphic:i.graphic}),t.stopPropagation()}))))),this._handles.add(e.manipulationXY.createDragPipeline(((e,i,a)=>this.buildDragEventPipeline(e,i,a,t))))}this.createMoveManipulation(t)}createMoveManipulation(t){const i=new w({tool:this,view:this.view,snapToScene:!1,xyAvailable:!0,xyAxisAvailable:!0,zAvailable:!0,radius:1===t.length?w.radiusForSymbol(t[0].graphic.symbol):_});this._moveManipulation=i,i.elevationInfo={mode:\"absolute-height\",offset:0},i.forEachManipulator((t=>{this._handles.add(t.events.on(\"immediate-click\",(e=>{i.zManipulation.hasManipulator(t)||1!==this.graphics.length||this.emit(\"immediate-click\",{...e,graphic:this.graphics.getItemAt(0)}),e.stopPropagation()})))}));const a=()=>this.updateMoveManipulation(t);for(const e of t)this._handles.add([e.state.on(\"changed\",a),e.state.watch(\"displaying\",a)]);const o=t[t.length-1];this._handles.add(o.state.on(\"changed\",(()=>this.updateMoveManipulationAngle(o)))),this._handles.add(i.createDragPipeline(((e,i,a)=>{this.buildDragEventPipeline(e,i,a,t)}),p(o.graphic),e(o.graphic.geometry).spatialReference)),this.updateMoveManipulationAngle(o)}createVisualElements(t){for(const e of t){const i=e.graphic,o=y({view:this.view,graphic:i,forEachManipulator:t=>{e.manipulationXY.forEachManipulator(t),this._moveManipulation.forEachManipulator(t)},onManipulatorsChanged:()=>a()});e.geometryRepresentation=o.visualElement,e.geometryRepresentation instanceof f&&this._handles.add([e.geometryRepresentation.events.on(\"attachment-origin-changed\",(()=>{e.state.isDraped||this.updateMoveManipulation(t)})),e.state.watch(\"isDraped\",(()=>this.updateMoveManipulation(t)))]),this._handles.add(o)}}updateMoveManipulationAngle(t){this._moveManipulation.angleDeferred=()=>j(t.graphic.geometry)}updateMoveManipulation(t){const e=h(0,0,0,this.view.spatialReference);let a=0,o=!1;const s=this._moveManipulation;for(const s of t){if(!s.state.displaying)continue;const t=s.state.graphic;this.enableZ&&v(t)&&(o=!0);const n=s.geometryRepresentation instanceof f&&!s.state.isDraped?s.geometryRepresentation.attachmentOrigin:d(this.view,t);i(n)&&(e.x+=n.x,e.y+=n.y,e.z+=n.z,a++)}a>0?(e.x/=a,e.y/=a,e.z/=a,s.location=e,s.xyManipulation.available=!0,s.xyAxisManipulation.available=!0,s.zManipulation.available=o):s.available=!1}buildDragEventPipeline(t,e,i,a){const o=[],s=[];let n=null,r=null;const l=()=>{for(const t of o)t.dragging=!1;o.length=0,s.length=0,n=null,r=null,this._moveManipulation.interactive=!0};e.next((e=>{if(\"start\"===e.action){o.length=0,s.length=0;for(const e of a)e.dragging||!e.manipulationXY.hasManipulator(t)&&e.manipulationXY.grabbing||(o.push(e),s.push(e.graphic),e.dragging=!0);if(0!==s.length&&(this._moveManipulation.interactive=!1,n=c(s),r=m(s),this.emit(\"graphic-move-start\",new x(s)),this.destroyed))return null}return 0!==s.length?e:null})).next((t=>n(t))).next((t=>{switch(t.action){case\"start\":case\"update\":if(t.translationX||t.translationY||t.translationZ){const e=this.view.toScreen(t.mapStart),i=this.view.toScreen(t.mapEnd),a=i.x-e.x,o=i.y-e.y;if(this.emit(\"graphic-move\",new E(a,o,s)),this.destroyed)return null}break;case\"end\":if(this.emit(\"graphic-move-stop\",new A(s)),this.destroyed)return null;l()}})),i.next((t=>r(t))).next((()=>{if(this.emit(\"graphic-move-stop\",new A(s)),this.destroyed)return null;l()}))}};t([o({constructOnly:!0,nonNullable:!0})],S.prototype,\"view\",void 0),t([o({readOnly:!0})],S.prototype,\"graphics\",void 0),t([o({constructOnly:!0,nonNullable:!0})],S.prototype,\"enableZ\",void 0),t([o({readOnly:!0})],S.prototype,\"type\",void 0),S=t([s(\"esri.views.3d.interactive.editingTools.graphicMove3D.GraphicMoveTool\")],S);class D{constructor(t){this.state=null,this.geometryRepresentation=null,this.manipulationXY=null,this.dragging=!1,this.state=new M({graphic:t})}get graphic(){return this.state.graphic}}export{E as GraphicMoveEvent,x as GraphicMoveStartEvent,A as GraphicMoveStopEvent,S as GraphicMoveTool};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import\"../../../../../core/has.js\";import{isSome as t,destroyMaybe as i,isNone as a,unwrap as o}from\"../../../../../core/maybe.js\";import\"../../../../../core/Logger.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import{handlesGroup as n}from\"../../../../../core/handleUtils.js\";import{property as r}from\"../../../../../core/accessorSupport/decorators/property.js\";import{subclass as s}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import\"../../../../../core/urlUtils.js\";import\"../../../../../core/uuid.js\";import\"../../../../../portal/support/resourceExtension.js\";import l from\"../../../../../core/Evented.js\";import{s as p,b as h,a as u}from\"../../../../../chunks/vec3.js\";import c from\"../../../../../core/Handles.js\";import{init as d}from\"../../../../../core/watchUtils.js\";import{getGraphicEffectiveElevationInfo as m}from\"../../../../../support/elevationInfoUtils.js\";import{makeDehydratedPoint as g}from\"../../../../../layers/graphics/dehydratedFeatures.js\";import{sv3d as _}from\"../../../support/stack.js\";import v from\"../../../webgl-engine/lib/GeometryUtil.js\";import M from\"../../../webgl-engine/lib/Geometry.js\";import{EditGeometry as y}from\"../editGeometry/EditGeometry.js\";import{EditGeometryHelper as f}from\"../editGeometry/EditGeometryHelper.js\";import{addMapDelta as x,createManipulatorDragEventPipeline as b,dragAtLocation as S}from\"../../../../interactive/dragEventPipeline.js\";import{SnappingContext as E}from\"../../../../interactive/snapping/SnappingAlgorithm.js\";import{SnappingEngine as G}from\"../../../../interactive/snapping/SnappingEngine.js\";import{screenToMapXYForGraphicAtLocation as w}from\"../dragEventPipeline3D.js\";import{Manipulator3D as H}from\"../../Manipulator3D.js\";import{createManipulatorMaterial as I,createManipulatorOutlineMaterial as O,placeAtGraphic as P}from\"../../manipulatorUtils.js\";import{canMoveZ as V}from\"../manipulatorUtils.js\";import{settings as D}from\"../settings.js\";import{OutlineVisualElement as j}from\"../../visualElements/OutlineVisualElement.js\";import{GraphicState as k}from\"../../../layers/graphics/GraphicState.js\";import{createVisualElements as A}from\"../visualElementUtils.js\";import{DISC_RADIUS_SMALL as U}from\"../manipulations/config.js\";import{primaryShapeOrientation as L}from\"../manipulations/moveUtils.js\";import{MoveManipulation as T}from\"../manipulations/MoveManipulation.js\";import{MoveXYGraphicManipulation as z}from\"../manipulations/MoveXYGraphicManipulation.js\";let C=class extends l.EventedAccessor{constructor(e){super(e),this._vertexManipulatorMaterial=I(D.colorToVec4(D.reshapeManipulators.vertex.color),D.reshapeManipulators.vertex.renderOccluded),this._vertexManipulatorOutlineMaterial=O(D.colorToVec4(D.reshapeManipulators.vertex.outlineColor),D.reshapeManipulators.vertex.renderOccluded),this._vertexManipulatorHoverOutlineMaterial=O(D.colorToVec4(D.reshapeManipulators.vertex.hoverOutlineColor),D.reshapeManipulators.vertex.renderOccluded),this._edgeManipulatorMaterial=I(D.colorToVec4(D.reshapeManipulators.edge.color),D.reshapeManipulators.edge.renderOccluded),this._edgeManipulatorOutlineMaterial=O(D.colorToVec4(D.reshapeManipulators.edge.outlineColor),D.reshapeManipulators.edge.renderOccluded),this._selectedManipulatorMaterial=I(D.colorToVec4(D.reshapeManipulators.selected.color),D.reshapeManipulators.selected.renderOccluded),this._selectedManipulatorOutlineMaterial=O(D.colorToVec4(D.reshapeManipulators.selected.outlineColor),D.reshapeManipulators.selected.renderOccluded),this._selectedManipulatorHoverOutlineMaterial=O(D.colorToVec4(D.reshapeManipulators.selected.hoverOutlineColor),D.reshapeManipulators.selected.renderOccluded),this._selectedIndex=0,this._vertexManipulatorGeometry=null,this._vertexManipulatorOutlineGeometry=null,this._edgeManipulatorGeometry=null,this._edgeManipulatorOutlineGeometry=null,this._handles=new c,this._manipulatorHandles=new c,this._manipulatorInfos=[],this._reshapeHelper=null,this._graphicMoveManipulation=null,this._moveManipulation=null,this._numGrabbing=0,this._numDragging=0,this._reshapeEventState=0,this._outlineVisualElement=null,this.tool=null,this.outputGeometry=null,this._vertexLaserLineVisualElement=null,this.snappingEngine=new G(e.tool.snappingOptions)}initialize(){const e=new k({graphic:this.graphic});this._graphicState=e,this._handles.add([e.watch(\"displaying\",(e=>{for(const t of this._manipulatorInfos)t.manipulator.available=e})),this.view.trackGraphicState(e)])}destroy(){this._clear(),this._handles.destroy(),this.snappingEngine.destroy()}get inputGeometry(){return t(this._reshapeHelper)?this._reshapeHelper.geometry:null}set inputGeometry(e){this._recreateManipulators(e)}get manipulators(){return this.tool.manipulators}get view(){return this.tool.view}get graphic(){return this.tool.graphic}get enableZ(){return this.tool.enableZ}get enableMoveGraphic(){return this.tool.enableMoveGraphic}removeSelectedVertices(){const e=this._manipulatorInfos.filter((e=>e.manipulator.selected&&\"vertex\"===e.handle.type));this._removeVertices(e)}manipulatorSelectionChanged(){this.emit(\"manipulators-changed\")}_clear(){this._moveManipulation=i(this._moveManipulation),this._graphicMoveManipulation=i(this._graphicMoveManipulation),this._manipulatorHandles.removeAll(),this.manipulators.removeAll(),this._manipulatorInfos=[],this._reshapeHelper=null,this._numGrabbing=0,this._numDragging=0}_recreateManipulators(e=this.inputGeometry){if(this._clear(),a(e))return;this._reshapeHelper=new Y(y.fromGeometry(e,this.view.viewingMode),e.type);const t=m(this.graphic);for(const e of this._reshapeHelper.data.components){for(const i of e.vertices)this._createPerVertexManipulator(i,t);for(const i of e.edges)this._createPerVertexManipulator(i,t)}this._createGraphicMoveManipulators(t)}_perGraphicManipulatorDragAction(e,t){if(\"end\"===t.action)return;const i=[],a=this._manipulatorInfos.some((e=>\"vertex\"===e.handle.type&&e.manipulator.selected)),n=1===e&&a,r=o(this._reshapeHelper);for(const e of this._manipulatorInfos)\"vertex\"===e.handle.type&&(e.manipulator.grabbing||n&&!e.manipulator.selected||(o(r).moveVertices([e.handle],t.mapDeltaX,t.mapDeltaY,t.mapDeltaZ),i.push(e.handle.pos),this._updateManipulatorPosition(e)));if(0===i.length)return;let s=0;for(const e of this._manipulatorInfos)\"vertex\"===e.handle.type&&s++;this.outputGeometry=r.geometry;if(i.length===s){if(this._updateEventState(1),this.destroyed)return;if(this.emit(\"move\",{type:\"move\",dx:t.screenDeltaX,dy:t.screenDeltaY,mover:this.graphic}),this.destroyed)return}else{if(this._updateEventState(2),this.destroyed)return;if(this.emit(\"reshape\",{type:\"reshape\",mover:this.graphic}),this.destroyed)return}}isMultiVertexSelection(){let e=0;for(const t of this._manipulatorInfos)F(t)&&t.manipulator.selected&&e++;return e>1}_perVertexManipulatorDragAction(e){if(this._updateEventState(2),this.destroyed)return;const t=e.mapDeltaX,i=e.mapDeltaY,a=e.mapDeltaZ;if(!t&&!i&&!a)return;const n=[];for(const t of this._manipulatorInfos)F(t)&&(t.manipulator.selected&&!t.manipulator.grabbing||t===e.info)&&n.push(t);const r=o(this._reshapeHelper);for(const e of n)r.moveVertices([e.handle],t,i,a);this.outputGeometry=r.geometry;for(const e of n)this._updateManipulatorPosition(e);this.emit(\"reshape\",{type:\"reshape\",mover:this.graphic})}_updateEventState(e){if(e===this._reshapeEventState)return!1;switch(e){case 0:if(0!==this._numGrabbing||0!==this._numDragging)return!1;switch(this._reshapeEventState){case 1:this.emit(\"move\",{type:\"move-stop\",dx:0,dy:0,mover:this.graphic});break;case 2:this.emit(\"reshape\",{type:\"reshape-stop\",mover:this.graphic})}break;case 1:switch(this._reshapeEventState){case 0:this.emit(\"move\",{type:\"move-start\",dx:0,dy:0,mover:this.graphic});break;case 2:this.emit(\"reshape\",{type:\"reshape-stop\",mover:this.graphic}),this.destroyed||this.emit(\"move\",{type:\"move-start\",dx:0,dy:0,mover:this.graphic})}break;case 2:switch(this._reshapeEventState){case 0:this.emit(\"reshape\",{type:\"reshape-start\",mover:this.graphic});break;case 1:this.emit(\"move\",{type:\"move-stop\",dx:0,dy:0,mover:this.graphic}),this.destroyed||this.emit(\"reshape\",{type:\"reshape-start\",mover:this.graphic})}}if(this.destroyed)return!1;const t=this._reshapeEventState!==e;return this._reshapeEventState=e,t}_createGraphicMoveManipulators(e){this._graphicMoveManipulation=new z({tool:this.tool,view:this.view,graphicState:this._graphicState}),this.enableMoveGraphic?this._manipulatorHandles.add(this._graphicMoveManipulation.createDragPipeline(((e,t,i)=>{t.next((e=>this._trackNumDragging(e))).next((e=>{this._perGraphicManipulatorDragAction(0,e)})),i.next(this._cancelDragOperation())}))):this._graphicMoveManipulation.forEachManipulator((e=>{e.grabbable=!1,e.cursor=null})),this._graphicMoveManipulation.forEachManipulator((e=>this._manipulatorHandles.add([this._watchAndUpdateGrabState(e,!1),e.events.on(\"immediate-click\",(e=>{this._manipulatorInfos.some((e=>e.manipulator.selected))?this._clearSelection():this.emit(\"immediate-click\"),e.stopPropagation()}))]))),this._moveManipulation=new T({tool:this.tool,view:this.view,xyAvailable:!0,xyAxisAvailable:!0,zAvailable:this.enableZ&&V(this.graphic),snapToScene:!1,radius:T.radiusForSymbol(this.graphic.symbol)}),this._moveManipulation.forEachManipulator((e=>{this._handles.add([this._watchAndUpdateGrabState(e,!1),e.events.on(\"immediate-click\",(t=>{this._moveManipulation.zManipulation.hasManipulator(e)||this._manipulatorInfos.some((e=>e.manipulator.selected))||this.emit(\"immediate-click\"),t.stopPropagation()}))])})),this._moveManipulation.elevationInfo={mode:\"absolute-height\",offset:0};const i=o(this.graphic.geometry).spatialReference;let a=null;this._handles.add([this._moveManipulation.createDragPipeline(((i,n,r,s)=>{n.next((e=>this._trackNumDragging(e))).next((i=>{if(\"start\"===i.action){const t=this._manipulatorInfos.filter((e=>F(e)&&e.manipulator.selected));if(1===i.manipulatorType&&1===t.length){const i=t[0].handle;a=new E(o(this._reshapeHelper),this.view,e,s,i)}}return t(a)&&(i.mapEnd=this.snappingEngine.snap(i.mapEnd,a)),\"end\"===i.action&&(this.snappingEngine.doneSnapping(),a=null),i})).next(x()).next((e=>{this._perGraphicManipulatorDragAction(1,e)})),r.next(this._cancelDragOperation())}),e,i),d(this._graphicState,\"displaying\",(()=>{this._updateMoveManipulationPosition()})),this._graphicState.on(\"changed\",(()=>this._updateMoveManipulationPosition())),d(this._graphicState,\"isDraped\",(()=>{const e=\"align-move-manipulation\";this._graphicState.isDraped?this._handles.add(this.view.elevationProvider.on(\"elevation-change\",(()=>this._updateMoveManipulationPosition())),e):this._handles.remove(e)}))]),this._updateMoveManipulationPosition();const n=A({view:this.view,graphic:this.graphic,forEachManipulator:e=>{if(!this.destroyed){t(this._graphicMoveManipulation)&&this._graphicMoveManipulation.forEachManipulator(e);for(const t of this._manipulatorInfos)e(t.manipulator,1);this._moveManipulation.forEachManipulator(e)}},onManipulatorsChanged:e=>this.on(\"manipulators-changed\",e)});this._outlineVisualElement=n.visualElement instanceof j?n.visualElement:null,t(this._outlineVisualElement)&&this._manipulatorHandles.add([this._outlineVisualElement.events.on(\"attachment-origin-changed\",(()=>{this._graphicState.isDraped||this._updateMoveManipulationPosition()})),this._graphicState.watch(\"isDraped\",(()=>this._updateMoveManipulationPosition()))]),this._manipulatorHandles.add(n)}_createPerVertexManipulator(e,t=m(this.graphic)){if(a(this._vertexManipulatorGeometry)||a(this._vertexManipulatorOutlineGeometry)){const e=D.reshapeManipulators.vertex,t=e.size/2,i=t+e.collisionPadding,a=t/i;this._vertexManipulatorGeometry=new M(v.createSphereGeometry(a,16,16),\"reshape-manipulator\");const o=(t+e.outlineSize)/i;this._vertexManipulatorOutlineGeometry=new M(v.createSphereGeometry(o,16,16),\"reshape-manipulator-outline\")}if(a(this._edgeManipulatorGeometry)||a(this._edgeManipulatorOutlineGeometry)){const e=D.reshapeManipulators.edge,t=e.size/2,i=t+e.collisionPadding,a=t/i;this._edgeManipulatorGeometry=new M(v.createSphereGeometry(a,16,16),\"reshape-manipulator\");const o=(t+e.outlineSize)/i;this._edgeManipulatorOutlineGeometry=new M(v.createSphereGeometry(o,16,16),\"reshape-manipulator-outline\")}const i=new H({view:this.view,renderObjects:[{geometry:this._vertexManipulatorGeometry,material:this._vertexManipulatorMaterial,stateMask:4|X.Vertex},{geometry:this._vertexManipulatorOutlineGeometry,material:this._vertexManipulatorOutlineMaterial,stateMask:5|X.Vertex},{geometry:this._vertexManipulatorOutlineGeometry,material:this._vertexManipulatorHoverOutlineMaterial,stateMask:6|X.Vertex},{geometry:this._edgeManipulatorGeometry,material:this._vertexManipulatorMaterial,stateMask:6|X.Edge},{geometry:this._vertexManipulatorOutlineGeometry,material:this._vertexManipulatorHoverOutlineMaterial,stateMask:6|X.Edge},{geometry:this._edgeManipulatorGeometry,material:this._edgeManipulatorMaterial,stateMask:5|X.Edge},{geometry:this._edgeManipulatorOutlineGeometry,material:this._edgeManipulatorOutlineMaterial,stateMask:5|X.Edge},{geometry:this._vertexManipulatorGeometry,material:this._selectedManipulatorMaterial,stateMask:8},{geometry:this._vertexManipulatorOutlineGeometry,material:this._selectedManipulatorOutlineMaterial,stateMask:9},{geometry:this._vertexManipulatorOutlineGeometry,material:this._selectedManipulatorHoverOutlineMaterial,stateMask:10}],elevationInfo:t,focusMultiplier:1,touchMultiplier:1,available:!(!this.graphic.visible||!this.graphic.layer.visible)});this._setTypeSpecificManipulatorSettings(i,e,t);const o=\"edge\"===e.type?{manipulator:i,handle:e,locationUpdateHandle:null,type:\"edge\",selectedIndex:0}:{manipulator:i,handle:e,type:\"vertex\",selectedIndex:0};if(this._manipulatorInfos.push(o),this.manipulators.add(i),this._updateManipulatorPosition(o),\"edge\"===o.type){const e=this._getManipulatorInfoFromHandle(o.handle.left).manipulator.events.on(\"location-update\",(()=>this._updateManipulatorPosition(o))),t=this._getManipulatorInfoFromHandle(o.handle.right).manipulator.events.on(\"location-update\",(()=>this._updateManipulatorPosition(o)));o.locationUpdateHandle=n([e,t]),this._manipulatorHandles.add(o.locationUpdateHandle,i)}this._manipulatorHandles.add(this._watchAndUpdateGrabState(i,!0),i);const r=b(i,((e,i,a,n)=>{i.next((e=>this._trackNumDragging(e))).next((e=>R(o)?{...e,info:this._splitEdgeManipulator(o)}:{...e,info:o})).next(S(this.view,e.elevationAlignedLocation)).next(w(this.view,this.graphic,e.elevationAlignedLocation,e.location.spatialReference)).next(this._snapDrag(t,n)).next(x()).next((e=>{this._perVertexManipulatorDragAction(e)})),a.next(this._cancelDragOperation())}));return this._manipulatorHandles.add(r,i),this._manipulatorHandles.add([i.events.on(\"immediate-click\",(e=>this._manipulatorClickCallback(e,o))),i.events.on(\"select-changed\",(()=>{o.selectedIndex=++this._selectedIndex,this._updateMoveManipulationPosition()}))]),this.emit(\"manipulators-changed\"),i}_snapDrag(e,i){let a=null;const n=o(this._reshapeHelper);return o=>{if(\"start\"===o.action&&(this.isMultiVertexSelection()||(a={context:new E(n,this.view,e,i,o.info.handle),originalPos:n.data.coordinateHelper.createDehydratedPoint(o.info.handle.pos)})),t(a)){const e={...a.originalPos};e.x+=o.mapEnd.x-o.mapStart.x,e.y+=o.mapEnd.y-o.mapStart.y;const t=this.snappingEngine.snap(e,a.context);o.mapEnd.x=t.x+(o.mapStart.x-a.originalPos.x),o.mapEnd.y=t.y+(o.mapStart.y-a.originalPos.y)}return\"end\"===o.action&&(this.snappingEngine.doneSnapping(),a=null),o}}_trackNumDragging(e){switch(e.action){case\"start\":this._numDragging++;break;case\"end\":this._numDragging--}return e}_cancelDragOperation(){const e=t(this._reshapeHelper)?this._reshapeHelper.geometry.clone():null;return()=>{switch(this._numDragging--,this.inputGeometry=e,this.outputGeometry=e,this.snappingEngine.doneSnapping(),this._reshapeEventState){case 0:break;case 1:this.emit(\"move\",{type:\"move\",dx:0,dy:0,mover:this.graphic});break;case 2:this.emit(\"reshape\",{type:\"reshape\",mover:this.graphic})}this.destroyed||this._updateEventState(0)}}_setTypeSpecificManipulatorSettings(e,t,i){switch(t.type){case\"vertex\":e.state=X.Vertex,e.selectable=!0,e.cursor=\"move\",e.collisionPriority=2,e.radius=D.reshapeManipulators.vertex.size/2+D.reshapeManipulators.vertex.collisionPadding,e.elevationInfo=i;break;case\"edge\":e.state=X.Edge,e.selectable=!1,e.cursor=\"copy\",e.collisionPriority=-1,e.radius=D.reshapeManipulators.edge.size/2+D.reshapeManipulators.edge.collisionPadding,e.elevationInfo=\"on-the-ground\"===i.mode?i:{mode:\"absolute-height\",offset:0}}}_watchAndUpdateGrabState(e,t){return e.events.on(\"grab-changed\",(i=>{if(\"start\"===i.action)t&&this._updateSelection(e),this._numGrabbing++;else if(this._numGrabbing--,this._updateEventState(0),this.destroyed)return;this._moveManipulation.interactive=!this._numGrabbing}))}_clearSelection(){for(const e of this._manipulatorInfos)e.manipulator.grabbing||(e.manipulator.selected=!1)}_updateSelection(e){e.grabbing&&!e.selected&&e.selectable&&(this._clearSelection(),e.selected=!0,this.emit(\"manipulators-changed\"))}_removeManipulator(e){e&&(this._manipulatorHandles.remove(e.manipulator),this._manipulatorInfos.splice(this._manipulatorInfos.indexOf(e),1),this.manipulators.remove(e.manipulator),this.emit(\"manipulators-changed\"))}_getManipulatorInfoFromHandle(e){if(e)for(const t of this._manipulatorInfos)if(e===t.handle)return t;return null}_updateManipulatorPosition(e){if(!e)return;const i=o(this._reshapeHelper);if(\"vertex\"===e.handle.type)e.manipulator.location=i.data.coordinateHelper.toPoint(e.handle.pos,N),e.manipulator.grabbing&&t(this._vertexLaserLineVisualElement)&&(this._vertexLaserLineVisualElement.visualElement.intersectsWorldUpAtLocation=e.manipulator.renderLocation);else if(\"edge\"===e.handle.type){const a=this._getManipulatorInfoFromHandle(e.handle.left).manipulator,o=this._getManipulatorInfoFromHandle(e.handle.right).manipulator;if(t(e.manipulator.elevationInfo)&&\"on-the-ground\"===e.manipulator.elevationInfo.mode){const t=a.location,n=o.location,r=.5,s=t.x+r*(n.x-t.x),l=t.y+r*(n.y-t.y),p=t.hasZ&&n.hasZ?0:void 0;e.manipulator.location=g(s,l,p,i.geometry.spatialReference)}else{const t=a.elevationAlignedLocation,n=o.elevationAlignedLocation,r=.5,s=t.x+r*(n.x-t.x),l=t.y+r*(n.y-t.y),p=t.hasZ&&n.hasZ?t.z+r*(n.z-t.z):void 0;e.manipulator.elevationAlignedLocation=g(s,l,p,i.geometry.spatialReference)}}}_splitEdgeManipulator(e){const t=o(this._reshapeHelper),i=o(t.splitEdge(e.handle,.5).createdVertex);e.locationUpdateHandle.remove(),e.locationUpdateHandle=void 0;const a=e;a.handle=i,a.type=\"vertex\";const n=m(this.graphic);this._setTypeSpecificManipulatorSettings(e.manipulator,e.handle,n),i.left&&this._createPerVertexManipulator(i.left),i.right&&this._createPerVertexManipulator(i.right),this.outputGeometry=t.geometry,this._updateManipulatorPosition(a),this._updateSelection(e.manipulator);const r=this._updateEventState(2),s=t.data.coordinateHelper.toArray(a.handle.pos),l=t.data.components.indexOf(i.component);return this.emit(\"vertex-add\",{type:\"vertex-add\",vertices:[{coordinates:s,componentIndex:l,vertexIndex:o(i.index)}],added:s}),r&&this._updateEventState(0),a}_updateMoveManipulationPosition(){const e=_.get();p(e,0,0,0);let i=0,n=!1,r=null,s=null;for(const t of this._manipulatorInfos)F(t)&&(t.manipulator.selected?(i++,h(e,e,t.manipulator.renderLocation),a(r)||t.selectedIndex>r.selectedIndex?(s=r,r=t):(a(s)||t.selectedIndex>s.selectedIndex)&&(s=t)):n=!0);if(0!==i){const e=this._graphicState.displaying;this._moveManipulation.xyManipulation.available=e,this._moveManipulation.xyAxisManipulation.available=e,this._moveManipulation.zManipulation.available=e&&this.enableZ&&V(this.graphic),this._moveManipulation.xyAxisManipulation.orthogonalAvailable=e&&1!==i}else{const e=this._graphicState.displaying&&this.enableMoveGraphic;this._moveManipulation.xyManipulation.available=e,this._moveManipulation.xyAxisManipulation.available=e,this._moveManipulation.xyAxisManipulation.orthogonalAvailable=e,this._moveManipulation.zManipulation.available=e&&this.enableZ&&V(this.graphic)}if(0!==i){let e=0;if(t(r)){const i=r.handle.pos,a=t(s)?s.handle.pos:r.handle.left&&r.handle.left.left?r.handle.left.left.pos:null,o=!t(s)&&r.handle.right&&r.handle.right.right?r.handle.right.right.pos:null;a&&o?this._moveManipulation.xyAxisManipulation.available=!1:a?e=Z(a,i):o&&(e=Z(i,o))}this._moveManipulation.angle=e,this._moveManipulation.radius=U}else this._moveManipulation.angleDeferred=()=>L(o(this.graphic.geometry)),this._moveManipulation.radius=T.radiusForSymbol(this.graphic.symbol);0!==i&&n?(u(e,e,1/i),N.spatialReference=o(this._reshapeHelper).geometry.spatialReference,N.hasZ=!0,this.view.renderCoordsHelper.fromRenderCoords(e,N),this._moveManipulation.elevationAlignedLocation=N):t(this._outlineVisualElement)&&!this._graphicState.isDraped&&t(this._outlineVisualElement.attachmentOrigin)?this._moveManipulation.elevationAlignedLocation=this._outlineVisualElement.attachmentOrigin:P(this.view,this._moveManipulation,this.graphic)}_removeVertices(e){const t=[],i=o(this._reshapeHelper);for(const a of e)if(\"vertex\"===a.handle.type&&i.canRemoveVertex()){t.push(a.handle),this._removeManipulator(a),this._removeManipulator(this._getManipulatorInfoFromHandle(a.handle.left)),this._removeManipulator(this._getManipulatorInfoFromHandle(a.handle.right));const e=o(i.removeVertices([a.handle]).removedVertices[0].createdEdge);e&&this._createPerVertexManipulator(e)}if(t.length>0){const e=t.map((e=>{const t=i.data.components.indexOf(e.component);return{coordinates:i.data.coordinateHelper.toArray(e.pos),componentIndex:t,vertexIndex:o(e.index)}}));this.outputGeometry=i.geometry;const a=this._updateEventState(2);if(this.destroyed)return;if(this.emit(\"vertex-remove\",{type:\"vertex-remove\",removed:e.map((e=>e.coordinates)),vertices:e}),this.destroyed)return;if(a&&(this._updateEventState(0),this.destroyed))return;this._updateMoveManipulationPosition()}}_manipulatorClickCallback(e,t){e.shiftKey||this._clearSelection(),\"vertex\"===t.handle.type&&(t.manipulator.selected=!t.manipulator.selected),\"vertex\"===t.handle.type&&2===e.button&&this._removeVertices([t]),R(t)&&0===e.button&&this._splitEdgeManipulator(t),e.stopPropagation()}};function Z(e,t){return Math.atan2(t[1]-e[1],t[0]-e[0])+Math.PI/2}function F(e){return\"vertex\"===e.handle.type}function R(e){return\"edge\"===e.handle.type}e([r({constructOnly:!0})],C.prototype,\"tool\",void 0),e([r()],C.prototype,\"inputGeometry\",null),e([r()],C.prototype,\"outputGeometry\",void 0),C=e([s(\"esri.views.3d.interactive.editingTools.graphicReshape3D.ReshapeOperation\")],C);const N=g(0,0,null,null);var X;!function(e){e.Vertex=16,e.Edge=32}(X||(X={}));class Y extends f{constructor(e,t){super(e,t),this.type=t,this._geometry=null}get geometry(){if(this._dirty){switch(this.type){case\"polyline\":this._geometry=this.data.toPolyline();break;case\"polygon\":this._geometry=this.data.toPolygon()}this._dirty=!1}return this._geometry}}export{Y as ReshapeGeometryHelper,C as ReshapeOperation};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import\"../../../../../core/has.js\";import{isSome as t,isNone as r}from\"../../../../../core/maybe.js\";import\"../../../../../core/Logger.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import{property as o}from\"../../../../../core/accessorSupport/decorators/property.js\";import{subclass as i}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import\"../../../../../core/urlUtils.js\";import\"../../../../../core/uuid.js\";import\"../../../../../portal/support/resourceExtension.js\";import s from\"../../../../../core/Evented.js\";import p from\"../../../../../core/Handles.js\";import{init as a}from\"../../../../../core/watchUtils.js\";import{InteractiveToolBase as n}from\"../../../../interactive/InteractiveToolBase.js\";import{SnappingOptions as h}from\"../../../../interactive/snapping/SnappingOptions.js\";import{isSupportedGraphic as c}from\"./isSupportedGraphic.js\";import{ReshapeOperation as m}from\"./ReshapeOperation.js\";let l=class extends(s.EventedMixin(n)){constructor(e){super(e),this._handles=new p,this._reshapeOperation=null,this._internalGeometryUpdate=!1,this.enableZ=!0,this.enableMoveGraphic=!0,this.type=\"reshape-3d\",this.snappingOptions=new h}destroy(){this._handles.removeAll(),this._reshapeOperation&&(this._reshapeOperation.destroy(),this._reshapeOperation=null),this._set(\"view\",null),this._set(\"graphic\",null)}get selectionManagementDisabled(){return!0}_updateGeometry(){const e=this.graphic.geometry;0!==c(this.graphic)||!t(e)||\"polygon\"!==e.type&&\"polyline\"!==e.type?this._reshapeOperation.inputGeometry=null:this._reshapeOperation.inputGeometry=e.clone()}_updateGraphic(){if(this._handles.remove(\"onGraphicGeometryChange\"),this._updateGeometry(),0!==c(this.graphic))return;const e=this.watch(\"graphic.geometry\",(()=>{!1===this._internalGeometryUpdate&&this._updateGeometry()}),!0);this._handles.add(e,\"onGraphicGeometryChange\")}manipulatorSelectionChanged(){this._reshapeOperation&&this._reshapeOperation.manipulatorSelectionChanged()}_onReshapeGeometryChanged(){r(this.graphic)||(this._internalGeometryUpdate=!0,this.graphic.geometry=this._reshapeOperation.outputGeometry.clone(),this._internalGeometryUpdate=!1)}initialize(){this._reshapeOperation=new m({tool:this}),this._handles.add([this._reshapeOperation.on(\"reshape\",(e=>{\"reshape\"===e.type&&this._onReshapeGeometryChanged(),this.emit(\"reshape\",e)})),this._reshapeOperation.on(\"move\",(e=>{\"move\"===e.type&&this._onReshapeGeometryChanged(),this.emit(\"move\",e)})),this._reshapeOperation.on(\"vertex-add\",(e=>{this._onReshapeGeometryChanged(),this.emit(\"vertex-add\",e)})),this._reshapeOperation.on(\"vertex-remove\",(e=>{this._onReshapeGeometryChanged(),this.emit(\"vertex-remove\",e)})),this._reshapeOperation.on(\"immediate-click\",(()=>this.emit(\"immediate-click\"))),a(this,\"graphic\",(()=>{this._updateGraphic()}),!0)])}beforeUndo(){this._reshapeOperation.snappingEngine.doneSnapping()}onInputEvent(e){\"key-down\"!==e.type||\"Delete\"!==e.key&&\"Backspace\"!==e.key||this._reshapeOperation.removeSelectedVertices()}reset(){}};e([o({constructOnly:!0,nonNullable:!0})],l.prototype,\"view\",void 0),e([o({constructOnly:!0})],l.prototype,\"graphic\",void 0),e([o({constructOnly:!0,nonNullable:!0})],l.prototype,\"enableZ\",void 0),e([o({constructOnly:!0,nonNullable:!0})],l.prototype,\"enableMoveGraphic\",void 0),e([o({readOnly:!0})],l.prototype,\"type\",void 0),e([o()],l.prototype,\"snappingOptions\",void 0),l=e([i(\"esri.views.3d.interactive.editingTools.graphicReshape3D.GraphicReshapeTool\")],l);export{l as GraphicReshapeTool};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{isSome as t,isNone as e}from\"../../../../../core/maybe.js\";import{addFrameTask as a}from\"../../../../../core/scheduling.js\";import i from\"../../../../../core/Evented.js\";import{clamp as o}from\"../../../../../core/mathUtils.js\";import{castRenderScreenPointArray as s,createScreenPointArray as r}from\"../../../../../core/screenUtils.js\";import{b as n,f as l,c}from\"../../../../../chunks/vec3f64.js\";import{a as h}from\"../../../../../chunks/common.js\";import{s as g,f as d,l as m,h as u,c as p,b as f}from\"../../../../../chunks/vec3.js\";import{cyclicalPI as D}from\"../../../support/mathUtils.js\";import M from\"../../../../../core/Handles.js\";import{init as y}from\"../../../../../core/watchUtils.js\";import{i as S,r as b,p as R,m as v,s as w}from\"../../../../../chunks/mat4.js\";import{a as k}from\"../../../../../chunks/mat4f64.js\";import{getGraphicEffectiveElevationInfo as _}from\"../../../../../support/elevationInfoUtils.js\";import{sv3d as j,sm4d as A}from\"../../../support/stack.js\";import{plane as F,ray as I}from\"../../../support/geometryUtils.js\";import E from\"../../../webgl-engine/lib/GeometryUtil.js\";import P from\"../../../webgl-engine/lib/Geometry.js\";import{ColorMaterial as L}from\"../../../webgl-engine/materials/ColorMaterial.js\";import{createManipulatorDragEventPipeline as T,resetSymbol as U}from\"../../../../interactive/dragEventPipeline.js\";import{screenToRenderPlane as O}from\"../dragEventPipeline3D.js\";import{Manipulator3D as x}from\"../../Manipulator3D.js\";import{calculateInputRotationTransform as z,placeAtGraphic as C}from\"../../manipulatorUtils.js\";import{ROTATE_INDICATOR_DIRECTION_BUFFER as N,SCALE_INDICATOR_DIRECTION_BUFFER as Z,RING_HEIGHT as G,ROTATE_INDICATOR_ARROW_TIP_LENGTH as H,ROTATE_INDICATOR_ARROW_TIP_RADIUS as V,RING_THICKNESS as q,DRAG_THRESHOLD_PX as B,RING_RESET_ANIMATION_SPEED_FACTOR as J,RING_INDICATOR_DELAY_MS as K,INDICATOR_THICKNESS as Q,ROTATE_INDICATOR_ARROW_PLACEMENT_PERCENTAGE as W,HANDLE_COLOR as X,RING_RADIUS as Y,ROTATE_INDICATOR_ARC_LENGTH as $,INNER_INDICATOR_RADIUS as tt,OUTER_INDICATOR_RADIUS as et,SCALE_INDICATOR_OFFSET1 as at,SCALE_INDICATOR_OFFSET2 as it,GEOMETRY_SEGMENTS as ot,SCALE_INDICATOR_ARC_LENGTH as st}from\"../manipulations/config.js\";var rt;!function(t){t.ScaleIn=32,t.ScaleOut=64,t.RotateLeft=128,t.RotateRight=256,t.Unlocked=1024,t.DelayedFocused=2048,t.TouchInput=32768}(rt||(rt={}));class nt{constructor(e){this.mode=null,this._handles=new M,this._scaleRotateDragData=null,this._activeAnimation=null,this.events=new i,this.getFocused=()=>this.ringManipulator.focused,this.getScale=()=>t(this._scaleRotateDragData)&&\"scale\"===this._scaleRotateDragData.mode?this._scaleRotateDragData.scale:1,this.tool=e.tool,this.mode=e.mode,this.createManipulator(),this.updateDragState(),this.updateManipulatorTransform()}destroy(){t(this._activeAnimation)&&(this._activeAnimation.frameTask.remove(),this._activeAnimation=null),this._handles.removeAll(),this.tool.manipulators.remove(this.ringManipulator),this.ringManipulator=null}startAnimation(t){this.cancelActiveAnimation(),t.start();const e=a({update:({deltaTime:e})=>{t.update(e)&&this.cancelActiveAnimation()}});this._activeAnimation={...t,frameTask:e}}cancelActiveAnimation(){t(this._activeAnimation)&&(this._activeAnimation.frameTask.remove(),this._activeAnimation.destroy(),this._activeAnimation=null)}forEachManipulator(t){t(this.ringManipulator,2)}createManipulator(){this.ringManipulator=this.createRingManipulator(),this.tool.manipulators.add(this.ringManipulator);const a=this.ringManipulator,i=this.tool.graphicState.graphic,s=T(a,((a,s,r)=>{this._scaleRotateDragData=null;const l=function(t,a){const i=t.allLayerViews.find((t=>t.layer===a.layer));if(e(a.symbol))return null;const o=a.symbol;return{symbolLayers:o.symbolLayers.map((t=>{let e=null,a=null;return\"object\"===t.type&&(e=t.heading),a=i.getSymbolLayerSize(o,t),{heading:e,size:a}})).toArray()}}(this.tool.view,i);if(e(l))return this.updateDragState(),null;const c={mode:\"none\",origin:n(a.renderLocation),angle:0,startAngle:this.tool.symbolRotationAngle,angleDir:0,scale:1,scaleDir:0,startSymbolData:l};this._scaleRotateDragData=c,this.updateDragState();const h=j.get();this.tool.view.renderCoordsHelper.worldUpAtPosition(a.renderLocation,h),s.next(O(this.tool.view,F.fromPositionAndNormal(a.renderLocation,h))).next((e=>{const a=F.normal(e.plane),s=z(e.renderStart,e.renderEnd,c.origin,a),r=D.shortestSignedDiff(c.angle,s);c.angleDir=o(c.angleDir+r,-N,N),c.angle=s;const n=function(t,e){const a=d(j.get(),e.renderStart,t.origin),i=d(j.get(),e.renderEnd,t.origin),o=m(a),s=m(i);if(0===o)return 0;return s/o}(c,e),l=n-c.scale;if(c.scaleDir=o(c.scaleDir+l,-Z,Z),c.scale=n,this.onScaleChanged(),\"none\"===c.mode){const a=this.mode||function(t,e,a,i){const{renderStart:o,renderEnd:s}=t,r=lt(o,i,j.get()),n=lt(s,i,j.get());if(u(r,n)<B*B)return null;const l=d(j.get(),o,a),c=p(j.get(),l,e),h=o,g=f(j.get(),h,c),m=lt(a,i,j.get()),D=r,M=lt(g,i,j.get()),y=d(j.get(),M,D),S=d(j.get(),r,m),b=I.wrap(D,y),R=I.wrap(m,S);if(I.distance2(b,n)<I.distance2(R,n))return\"rotate\";return\"scale\"}(e,e.plane,c.origin,this.tool.view.state.camera);if(t(a)){switch(a){case\"rotate\":this.tool.emit(\"graphic-rotate-start\",{graphic:i,angle:c.angle});break;case\"scale\":this.tool.emit(\"graphic-scale-start\",{graphic:i,scale:c.scale})}c.mode=a}}if(this.updateDragState(),t(i.symbol)){const t=i.symbol.clone();let e=0,a=1;switch(c.mode){default:case\"none\":break;case\"scale\":a=c.scale;break;case\"rotate\":e=c.angle}this.applySymbolData(t,c.startSymbolData,e,a),i.symbol=t,this.updateManipulatorTransform()}switch(e.action){case\"start\":case\"update\":switch(c.mode){case\"rotate\":this.tool.emit(\"graphic-rotate\",{graphic:i,angle:c.angle});break;case\"scale\":this.tool.emit(\"graphic-scale\",{graphic:i,scale:c.scale})}break;case\"end\":switch(c.mode){case\"rotate\":this.tool.emit(\"graphic-rotate-stop\",{graphic:i,angle:c.angle});break;case\"scale\":this.tool.emit(\"graphic-scale-stop\",{graphic:i,scale:c.scale});break;default:case\"none\":}}\"end\"===e.action&&(this.startAnimation(ct(this,(()=>this.onScaleChanged()))),this._scaleRotateDragData=null,this.updateDragState())})),r.next(U(i)).next((()=>{if(t(this._scaleRotateDragData)){switch(this._scaleRotateDragData.mode){case\"none\":break;case\"rotate\":this.tool.emit(\"graphic-rotate-stop\",{graphic:i,angle:this._scaleRotateDragData.startAngle});break;case\"scale\":this.tool.emit(\"graphic-scale-stop\",{graphic:i,scale:1})}this.startAnimation(ct(this,(()=>this.onScaleChanged()))),this._scaleRotateDragData=null}}))}));this._handles.add(s),this._handles.add([this.ringManipulator.events.on(\"focus-changed\",(t=>{\"focus\"===t.action?this.startAnimation(function(t,e){let a=0,i=null;const o=()=>!1;return{start:()=>{i=t.getFocused,t.getFocused=o,a=0,e()},update:t=>(a+=t,!i()||a>K?1:0),destroy:()=>{t.getFocused=i,e()}}}(this,(()=>this.updateDelayedFocusedState()))):this.updateDelayedFocusedState()})),this.ringManipulator.events.on(\"immediate-click\",(t=>{t.stopPropagation()})),y(this.tool.graphicState,\"displaying\",(t=>this.ringManipulator.available=t)),this.tool.graphicState.on(\"changed\",(()=>C(this.tool.view,this.ringManipulator,i)))]),C(this.tool.view,this.ringManipulator,i)}onScaleChanged(){this.events.emit(\"scale-changed\"),this.updateManipulatorTransform()}updateDelayedFocusedState(){this.ringManipulator.updateStateEnabled(rt.DelayedFocused,this.getFocused())}updateDragState(){if(this.ringManipulator.updateStateEnabled(rt.Unlocked,!(t(this._scaleRotateDragData)&&\"none\"!==this._scaleRotateDragData.mode)),t(this._scaleRotateDragData))switch(this._scaleRotateDragData.mode){case\"rotate\":this.ringManipulator.updateStateEnabled(rt.ScaleIn|rt.ScaleOut,!1),this.ringManipulator.updateStateEnabled(rt.RotateLeft,this._scaleRotateDragData.angleDir<0),this.ringManipulator.updateStateEnabled(rt.RotateRight,this._scaleRotateDragData.angleDir>=0);break;case\"scale\":this.ringManipulator.updateStateEnabled(rt.RotateLeft|rt.RotateRight,!1),this.ringManipulator.updateStateEnabled(rt.ScaleIn,this._scaleRotateDragData.scaleDir<0),this.ringManipulator.updateStateEnabled(rt.ScaleOut,this._scaleRotateDragData.scaleDir>=0)}else this.ringManipulator.updateStateEnabled(rt.ScaleIn|rt.ScaleOut|rt.RotateLeft|rt.RotateRight,!1)}updateManipulatorTransform(){const t=S(A.get()),e=this.tool.symbolRotationAngle;b(t,t,e,l(0,0,1));const a=this.getScale(),i=R(A.get(),g(j.get(),a,a,a)),o=S(A.get());v(o,i,t),this.ringManipulator.modelTransform=o}createRingManipulator(){const t=(t,e,a)=>{const i=[],o=Math.ceil(ot*(e-t)/(2*Math.PI));for(let s=0;s<o+1;s++){const r=t+s*(e-t)/o;i.push(l(a*Math.cos(r),a*Math.sin(r),0))}return i},e=e=>t(0,2*Math.PI,e),a=(t,e)=>new P(E.createPathExtrusionGeometry((t=>[[-t/2,0],[t/2,0],[t/2,G/2],[-t/2,G/2]])(e),t,[],[],!1),\"graphic-transform-ring\"),i=e(Y),o=a(i,q),s={left:[],right:[]},r=[];for(let e=0;e<2;e++){const i=e*Math.PI-Math.PI/4,o=Math.PI/2-$,n=i+o,l=i+Math.PI/2-o,c=t(n,l,tt),h=a(c,Q);r.push(c),r.push(t(n,l,et-q/2)),s.left.push(h),s.right.push(h);for(let t=0;t<2;t++){const e=0===t,a=k();if(e){w(a,a,[1,-1,1]),b(a,a,-n,[0,0,1]);const t=Math.round(W*(c.length-1));a[12]=c[t][0],a[13]=c[t][1],a[14]=c[t][2]}else{b(a,a,l,[0,0,1]);const t=Math.round((1-W)*(c.length-1));a[12]=c[t][0],a[13]=c[t][1],a[14]=c[t][2]}const i=E.createExtrudedTriangle(H,0,V,G);E.transformInPlace(i,a);const o=new P(i,\"graphic-transform-ring-rotate\");(e?s.left:s.right).push(o)}}const n=[];for(let e=0;e<2;e++){const i=e*Math.PI-Math.PI/4,o=Math.PI/2-st,s=i+o,r=i+Math.PI/2-o,l=t(s,r,et);n.push(a(l,Q))}const c=e(Y+at),h=e(Y+it),g=a(c,Q),d=a(h,Q),m=e(Y-at),u=e(Y-it),p=a(m,Q),f=a(u,Q),D=this.createMaterial(),M=this.createMaterial(.66),y=this.createMaterial(.5),S=this.createMaterial(.33);let R=[{geometry:o,material:D,stateMask:rt.DelayedFocused},{geometry:o,material:y,stateMask:0}];this.mode&&\"scale\"!==this.mode||(R=R.concat([{geometry:n,material:D,stateMask:rt.DelayedFocused|rt.Unlocked},{geometry:g,material:M,stateMask:rt.DelayedFocused|rt.ScaleIn},{geometry:d,material:S,stateMask:rt.DelayedFocused|rt.ScaleIn},{geometry:p,material:M,stateMask:rt.DelayedFocused|rt.ScaleOut},{geometry:f,material:S,stateMask:rt.DelayedFocused|rt.ScaleOut}])),this.mode&&\"rotate\"!==this.mode||(R=R.concat([{geometry:s.right,material:D,stateMask:rt.DelayedFocused|rt.Unlocked},{geometry:s.left,material:D,stateMask:rt.DelayedFocused|rt.RotateLeft},{geometry:s.right,material:D,stateMask:rt.DelayedFocused|rt.RotateRight}]));const v=[i,...r];return new x({view:this.tool.view,renderObjects:R,autoScaleRenderObjects:!1,worldOriented:!0,radius:q,focusMultiplier:1,touchMultiplier:1.5,elevationInfo:_(this.tool.graphicState.graphic),collisionType:{type:\"ribbon\",paths:v,direction:l(0,0,1)}})}createMaterial(t=1){const e=[...X,t];return new L({color:e,transparent:1!==t,cullFace:2,renderOccluded:2},\"graphic-transform\")}applySymbolData(e,a,i,o){e.symbolLayers.forEach(((e,s)=>{const{heading:r,size:n}=a.symbolLayers[s];\"object\"===e.type&&(e.heading=(t(r)?r:0)-h(i),t(n)&&\"width\"in n&&(n.width=this.enforceNonZeroSize(n.width),n.height=this.enforceNonZeroSize(n.height),n.depth=this.enforceNonZeroSize(n.depth),e.width=n.width*o,e.depth=n.depth*o,e.height=n.height*o))}))}enforceNonZeroSize(t){return t||this.tool.view.state.camera.computeRenderPixelSizeAt(this.ringManipulator.renderLocation)}get test(){return{ringManipulator:this.ringManipulator}}}function lt(t,e,a){const i=e.projectToRenderScreen(t,s(ht)),o=e.renderToScreen(i,gt);return g(a,o[0],o[1],0)}function ct(t,e){let a=null,i=1;const o=()=>i;return{start:()=>{i=t.getScale(),a=t.getScale,t.getScale=o,e()},update:t=>(i+=((i+1)/2-i)*Math.min(t*J,1),e(),Math.abs(i-1)<.01?1:0),destroy:()=>{t.getScale=a,e()}}}const ht=c(),gt=r();export{nt as GraphicScaleRotateTransform};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../../chunks/tslib.es6.js\";import\"../../../../../core/has.js\";import{isSome as a,isNone as i}from\"../../../../../core/maybe.js\";import\"../../../../../core/Logger.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import{makeHandle as e}from\"../../../../../core/handleUtils.js\";import{property as o}from\"../../../../../core/accessorSupport/decorators/property.js\";import{subclass as s}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import\"../../../../../core/urlUtils.js\";import\"../../../../../core/uuid.js\";import\"../../../../../portal/support/resourceExtension.js\";import n from\"../../../../../core/Evented.js\";import{t as r}from\"../../../../../chunks/common.js\";import l from\"../../../../../core/Handles.js\";import{getGraphicEffectiveElevationInfo as h}from\"../../../../../support/elevationInfoUtils.js\";import{InteractiveToolBase as c}from\"../../../../interactive/InteractiveToolBase.js\";import{placeAtGraphic as p}from\"../../manipulatorUtils.js\";import{canMoveZ as m}from\"../manipulatorUtils.js\";import{GraphicState as u}from\"../../../layers/graphics/GraphicState.js\";import{createVisualElements as d}from\"../visualElementUtils.js\";import{ALIGN_ARROWS_SCALE_THRESHOLD as g}from\"../manipulations/config.js\";import{MoveManipulation as v}from\"../manipulations/MoveManipulation.js\";import{GraphicScaleRotateTransform as y}from\"./GraphicScaleRotateTransform.js\";let M=class extends(n.EventedMixin(c)){constructor(t){super(t),this.enableZ=!0,this.enableRotation=!0,this.enableScaling=!0,this.type=\"transform-3d\",this.handles=new l,this.scaleRotate=null}initialize(){if(this.graphicState=new u({graphic:this.graphic}),this.moveManipulation=new v({tool:this,view:this.view,snapToScene:this.snapToScene,xyAvailable:!0,xyAxisAvailable:!0,zAvailable:this.enableZ&&m(this.graphic),radius:v.radiusForSymbol(this.graphic.symbol)}),this.moveManipulation.forEachManipulator((t=>this.handles.add(t.events.on(\"immediate-click\",(t=>t.stopPropagation()))))),this.moveManipulation.elevationInfo=h(this.graphic),this.moveManipulation.createGraphicDragPipeline(this.graphicState,(t=>{const{action:a,graphic:i,dxScreen:e,dyScreen:o}=t,s={graphic:i,dxScreen:e,dyScreen:o};switch(a){case\"start\":this.emit(\"graphic-translate-start\",s);break;case\"update\":this.emit(\"graphic-translate\",s);break;case\"end\":this.emit(\"graphic-translate-stop\",s)}})),this.moveManipulation.angle=this.symbolRotationAngle,this.enableScaling||this.enableRotation){const t=this.enableScaling&&this.enableRotation?null:this.enableScaling?\"scale\":\"rotate\";this.scaleRotate=new y({tool:this,mode:t}),this.handles.add(this.scaleRotate.events.on(\"scale-changed\",(()=>this.onScaleChanged())))}this.handles.add([d({view:this.view,graphic:this.graphic,forEachManipulator:t=>this.forEachManipulator(t),onManipulatorsChanged:()=>e()}),this.graphic.watch(\"symbol\",(()=>this.updateMoveAngle())),this.graphicState.on(\"changed\",(()=>this.onGeometryChanged())),this.hideManipulatorsForGraphicState(),this.view.watch(\"scale\",(()=>this.updateMoveAngle()))]),this.handles.add(this.view.trackGraphicState(this.graphicState)),this.onGeometryChanged()}forEachManipulator(t){this.moveManipulation.forEachManipulator(t),a(this.scaleRotate)&&this.scaleRotate.forEachManipulator(t)}hideManipulatorsForGraphicState(){return this.graphicState.watch(\"displaying\",(t=>{this.forEachManipulator((a=>a.available=t)),this.moveManipulation.zManipulation.available=t&&this.enableZ&&m(this.graphic)}))}destroy(){this.handles.destroy(),this.moveManipulation.destroy(),a(this.scaleRotate)&&(this.scaleRotate.destroy(),this.scaleRotate=null),this._set(\"view\",null),this._set(\"graphic\",null)}set snapToScene(t){this.moveManipulation&&(this.moveManipulation.snapToScene=t),this._set(\"snapToScene\",t)}get symbolRotationAngle(){const t=this.graphic.symbol;if(t){const a=t.symbolLayers.find((t=>\"object\"===t.type)),i=a&&a.heading||0;return r(-i)}return 0}reset(){}onDetach(){a(this.scaleRotate)&&this.scaleRotate.cancelActiveAnimation()}onHide(){a(this.scaleRotate)&&this.scaleRotate.cancelActiveAnimation()}onScaleChanged(){if(i(this.scaleRotate))return;const t=this.scaleRotate.getScale();this.moveManipulation.displayScale=t}updateMoveAngle(){\"local\"===this.view.viewingMode||this.view.scale<g?this.moveManipulation.angle=this.symbolRotationAngle:this.moveManipulation.angle=0}onGeometryChanged(){p(this.view,this.moveManipulation,this.graphic)}get test(){return{discManipulator:this.moveManipulation.xyManipulation.test.discManipulator,ringManipulator:a(this.scaleRotate)?this.scaleRotate.test.ringManipulator:null,arrowManipulators:this.moveManipulation.xyAxisManipulation.test.arrowManipulators}}};t([o({constructOnly:!0,nonNullable:!0})],M.prototype,\"view\",void 0),t([o({constructOnly:!0,nonNullable:!0})],M.prototype,\"graphic\",void 0),t([o({constructOnly:!0,nonNullable:!0})],M.prototype,\"enableZ\",void 0),t([o()],M.prototype,\"enableRotation\",void 0),t([o()],M.prototype,\"enableScaling\",void 0),t([o({value:!1})],M.prototype,\"snapToScene\",null),t([o({readOnly:!0})],M.prototype,\"type\",void 0),M=t([s(\"esri.views.3d.interactive.editingTools.graphicTransform3D.GraphicTransformTool\")],M);export{M as GraphicTransformTool};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import{get as t,isSome as i,isNone as o}from\"../../core/maybe.js\";import s from\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import{subclass as l}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import a from\"../../core/Accessor.js\";import n from\"../../core/Evented.js\";import{pt2px as c,screenPointObjectToArray as h,createScreenPointArray as p}from\"../../core/screenUtils.js\";import{c as m}from\"../../chunks/vec3f64.js\";import{k as u}from\"../../chunks/vec3.js\";import{canProjectWithoutEngine as g,project as y,projectPointToVector as d}from\"../../geometry/projection.js\";import b from\"../../symbols/support/ElevationInfo.js\";import{getDefaultSymbol2D as f}from\"../../symbols/support/defaults.js\";import{j as _}from\"../../chunks/vec2.js\";import{getGraphicEffectiveElevationMode as v}from\"../../support/elevationInfoUtils.js\";import{intersectsDrapedGeometry as S}from\"../support/drapedUtils.js\";const j=s.getLogger(\"esri.views.interactive.GraphicManipulator\");let C=class extends a{constructor(e){super(e),this.layer=null,this.interactive=!0,this.selectable=!1,this.grabbable=!0,this.dragging=!1,this.cursor=null,this.events=new n.EventEmitter,this._circleCollisionCache=null,this._graphicSymbolChangedHandle=null,this._originalSymbol=null}set graphic(e){\"mesh\"!==t(e.geometry,\"type\")?(this._circleCollisionCache=null,this._originalSymbol=e.symbol,this._set(\"graphic\",e),this.attachSymbolChanged()):j.error(\"Mesh geometries are not supported\")}get elevationInfo(){const e=\"elevationInfo\"in this.graphic.layer&&this.graphic.layer.elevationInfo,t=v(this.graphic),i=e?e.offset:0;return new b({mode:t,offset:i})}set focusedSymbol(e){e!==this._get(\"focusedSymbol\")&&(this._set(\"focusedSymbol\",e),this._updateGraphicSymbol(),this._circleCollisionCache=null)}grabbableForEvent(){return!0}set grabbing(e){e!==this._get(\"grabbing\")&&(this._set(\"grabbing\",e),this._updateGraphicSymbol())}set hovering(e){e!==this._get(\"hovering\")&&(this._set(\"hovering\",e),this._updateGraphicSymbol())}set selected(e){e!==this._get(\"selected\")&&(this._set(\"selected\",e),this._updateGraphicSymbol(),this.events.emit(\"select-changed\",{action:e?\"select\":\"deselect\"}))}get _focused(){return this._get(\"hovering\")||this._get(\"grabbing\")}destroy(){this.detachSymbolChanged(),this._resetGraphicSymbol(),this._set(\"view\",null)}intersectionDistance(e){const t=this._get(\"graphic\");if(!1===t.visible)return null;const s=this._get(\"focusedSymbol\"),r=i(s)?s:t.symbol,l=t.geometry;return o(l)?null:\"2d\"===this.view.type?this._intersectDistance2D(this.view,e,l,r):this._intersectDistance3D(this.view,e,t)}attach(){this.attachSymbolChanged(),i(this.layer)&&this.layer.add(this.graphic)}detach(){this.detachSymbolChanged(),this._resetGraphicSymbol(),i(this.layer)&&this.layer.remove(this.graphic)}attachSymbolChanged(){this.detachSymbolChanged(),this._graphicSymbolChangedHandle=this.graphic.watch(\"symbol\",(e=>{i(e)&&e!==this.focusedSymbol&&e!==this._originalSymbol&&(this._originalSymbol=e,this._focused&&i(this.focusedSymbol)&&(this.graphic.symbol=this.focusedSymbol))}),!0)}detachSymbolChanged(){i(this._graphicSymbolChangedHandle)&&(this._graphicSymbolChangedHandle.remove(),this._graphicSymbolChangedHandle=null)}_updateGraphicSymbol(){this.graphic.symbol=this._focused&&i(this.focusedSymbol)?this.focusedSymbol:this._originalSymbol}_resetGraphicSymbol(){this.graphic.symbol=this._originalSymbol}_intersectDistance2D(e,t,s,r){if(r=r||f(s),o(r))return null;let l=this._circleCollisionCache;if(\"point\"!==s.type||\"simple-marker\"!==r.type)return S(t,s,e)?1:null;if(o(l)||!l.originalPoint.equals(s)){const t=s,i=e.spatialReference;if(g(t.spatialReference,i)){const e=y(t,i);l={originalPoint:t.clone(),mapPoint:e,radiusPx:c(r.size)},this._circleCollisionCache=l}}if(i(l)){const i=h(t,G),o=e.toScreen(l.mapPoint),s=l.radiusPx,a=o.x+c(r.xoffset),n=o.y-c(r.yoffset);return _(i,[a,n])<s*s?1:null}return null}_intersectDistance3D(e,t,i){const o=e.toMap(t,{include:[i]});return o&&d(o,w,e.renderSpatialReference)?u(w,e.state.camera.eye):null}};e([r({constructOnly:!0,nonNullable:!0})],C.prototype,\"graphic\",null),e([r({readOnly:!0,dependsOn:[\"graphic\"]})],C.prototype,\"elevationInfo\",null),e([r({constructOnly:!0,nonNullable:!0})],C.prototype,\"view\",void 0),e([r({value:null})],C.prototype,\"focusedSymbol\",null),e([r({constructOnly:!0})],C.prototype,\"layer\",void 0),e([r()],C.prototype,\"interactive\",void 0),e([r()],C.prototype,\"selectable\",void 0),e([r()],C.prototype,\"grabbable\",void 0),e([r({value:!1})],C.prototype,\"grabbing\",null),e([r()],C.prototype,\"dragging\",void 0),e([r()],C.prototype,\"hovering\",null),e([r({value:!1})],C.prototype,\"selected\",null),e([r()],C.prototype,\"cursor\",void 0),C=e([l(\"esri.views.interactive.GraphicManipulator\")],C);const w=m(),G=p();export{C as GraphicManipulator};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{isSome as e,isNone as t}from\"../../core/maybe.js\";import r from\"../../geometry/Extent.js\";import\"../../geometry.js\";import{getMetersPerUnitForSR as n}from\"../../core/unitUtils.js\";import{calculateTolerance as i}from\"../../renderers/support/clickToleranceUtils.js\";function a(t,i,a,o=new r){let s;if(\"2d\"===a.type)s=i*a.resolution;else if(\"3d\"===a.type){const r=a.overlayPixelSizeInMapUnits(t),o=a.basemapSpatialReference;s=e(o)&&!o.equals(a.spatialReference)?n(o)/n(a.spatialReference):i*r}const m=t.x-s,p=t.y-s,c=t.x+s,l=t.y+s,{spatialReference:f}=a;return o.xmin=Math.min(m,c),o.ymin=Math.min(p,l),o.xmax=Math.max(m,c),o.ymax=Math.max(p,l),o.spatialReference=f,o}function o(e,r,n){const o=n.toMap(e);if(t(o))return!1;return a(o,i(),n,s).intersects(r)}const s=new r;export{a as createQueryGeometry,o as intersectsDrapedGeometry};\n"],"sourceRoot":""}