{"version":3,"sources":["webpack://imaps/./node_modules/@arcgis/core/renderers/support/clickToleranceUtils.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/interactive/editingTools/settings.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/webgl-engine/lib/RenderGeometry.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/interactive/visualElements/DrapedVisualElementResources.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/interactive/visualElements/OutlineVisualElement.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/layers/graphics/pointUtils.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/interactive/visualElements/VerticesVisualElement.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/interactive/editingTools/draw/DrawGraphicTool.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/interactive/editingTools/manipulatorUtils.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/layers/graphics/GraphicState.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/interactive/editingTools/ManipulatorState.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/interactive/editingTools/lineGraphicVisualElementUtils.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/interactive/editingTools/pointGraphicVisualElementUtils.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/interactive/editingTools/visualElementUtils.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/interactive/editingTools/manipulations/config.js","webpack://imaps/./node_modules/@arcgis/core/chunks/mat2.js","webpack://imaps/./node_modules/@arcgis/core/chunks/mat2f64.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/interactive/editingTools/manipulations/moveUtils.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/interactive/editingTools/manipulations/Manipulation.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/interactive/editingTools/manipulations/MoveXYAxisManipulation.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/interactive/editingTools/snapping/SnapToScene.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/interactive/editingTools/manipulations/MoveXYDiscManipulation.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/interactive/editingTools/manipulations/MoveZManipulation.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/interactive/editingTools/manipulations/MoveManipulation.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/interactive/editingTools/manipulations/MoveXYGraphicManipulation.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/interactive/editingTools/moveGraphic/GraphicMoveTool.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/interactive/editingTools/reshapeGraphic/ReshapeOperation.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/interactive/editingTools/reshapeGraphic/GraphicReshapeTool.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/interactive/editingTools/transformGraphic/GraphicScaleRotateTransform.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/interactive/editingTools/transformGraphic/GraphicTransformTool.js","webpack://imaps/./node_modules/@arcgis/core/views/interactive/GraphicManipulator.js","webpack://imaps/./node_modules/@arcgis/core/views/support/drapedUtils.js"],"names":["t","e","xoffset","Math","max","abs","yoffset","stops","length","n","r","s","size","renderer","event","pointerType","o","filter","type","map","maxSize","minSize","f","floor","visualVariables","symbol","uniqueValueInfos","forEach","classBreakInfos","main","selected","staged","outline","selectedOutline","i","clone","a","l","g","b","h","this","color","height","coneHeight","coneWidth","width","renderOccluded","outlineSize","collisionPadding","outlineColor","hoverOutlineColor","setParameterValues","W","transparent","d","vertex","edge","u","stipplePattern","stippleOffColor","falloff","innerWidth","innerColor","shape","primitive","w","glowColor","glowWidth","glowFalloff","globalAlpha","globalAlphaContrastBoost","radius","heightFillColor","intersectsLineRadius","style","laserlineStyle","shadowStyle","C","super","extensionType","m","lineGraphics","pointGraphics","heightPlane","heightBox","zVerticalLine","laserlineAlphaMultiplier","heightPlaneAngleCutoff","O","visualElements","reshapeManipulators","zManipulator","uniqueName","shaderTransformationDirty","data","toRenderData","boundingInfo","material","origin","center","bsRadius","transformation","calculateShaderTransformation","updateTransformation","castShadow","instanceParameters","highlights","occludees","visible","getBoundingSphere","getCenter","getBSRadius","shaderTransformation","computeAttachmentOrigin","getIndices","getAttribute","indices","vertexAttr","resourceFactory","_resources","_visible","_attached","_destroyResources","external","_syncGeometriesToRenderer","_createOrDestroyResources","attached","_createResources","recreateGeometry","ensureRenderGeometriesRemoved","recreate","createResources","layerView","view","geometriesAdded","basemapTerrain","overlayManager","registerDrapeSource","unregisterDrapeSource","ensureRenderGeometriesAdded","removeGeometries","geometries","addGeometries","drapeSourceType","constructOnly","prototype","readOnly","G","_attachmentOrigin","_attachmentOriginDirty","events","_isDraped","_geometry","_width","_color","_innerWidth","_innerColor","_stipplePattern","_stippleOffColor","_falloff","_elevationInfo","_laserlineStyle","_laserlineEnabled","_renderOccluded","resources","spatialReference","drapedResources","createDrapedResources","createRenderGeometriesDraped","attachmentOriginChanged","_laserline","console","error","destroy","updateAttached","laserlineAttached","isDraped","laserlineEnabled","updateMaterial","c","I","isClosed","M","renderCoordsHelper","fromRenderCoords","materialParameters","geometry","join","stippleIntegerRepeats","polygonOffset","normalizedRenderOccluded","createRenderGeometries","addGeometry","push","emit","position","lines","attributeData","removeDuplicateStartEnd","A","sqrt","Float64Array","elevationProvider","elevationInfo","mapPosition","pathVerticalPlane","_vertices","_spatialReference","_size","_outlineColor","_outlineSize","applyProps","updateOutlineMaterial","screenSize","vertexMaterial","vertexMaterialParameters","vertexOutlineMaterial","vertexOutlineMaterialParameters","vertices","numVertices","projectionSuccess","sampledElevation","v","vertexGeometry","vertexOutlineGeometry","writeDepth","cullFace","screenSizeEnabled","shadingEnabled","attributes","uv","Uint32Array","indexCount","vertexAttributes","from","offsetIdx","strideIdx","drawOperation","_createGraphic","_outlineVisualElement","_verticesVisualElement","_stagedVerticesVisualElement","hasZ","defaultZ","snapToScene","snappingOptions","mode","geometryType","offset","_internalGraphicsLayer","layers","add","manipulators","drawingMode","snapToSceneEnabled","snappingDrawSurface","hasM","on","onVertexAdd","onVertexRemove","onVertexUpdate","onCursorUpdate","onComplete","_destroyAllVisualisations","remove","_set","onInputEvent","hasStagedVertex","slice","splice","regularVertices","stagedVertices","full","viewingMode","coordinateHelper","createPointFromArray","makeMapPoint","S","resolution","forceUniformSize","centered","rings","_destroyCreateGraphic","_destroyOutlineVisualElement","_destroyVerticesVisualElement","_destroyStagedVerticesVisualElement","_getCreateGeometry","createGraphicSymbol","maskOccludee","notifyChange","interactive","_updateCreateGraphic","canRedo","redo","canUndo","undo","complete","isCompleted","cancel","vertexIndex","graphic","nonNullable","value","tracking","displaying","grabbingState","firstSelected","numSelected","firstGrabbedXY","forEachManipulator","grabbing","E","watch","visualElement","y","j","writeDepthEnabled","L","D","angleCutoff","V","k","update","setStartEndFromWorldDownAtLocation","renderLocation","heightManifoldTarget","attachmentOrigin","toRenderCoords","x","onManipulatorsChanged","trackGraphicState","p","extent","intersectsLineInfinite","R","U","intersectsWorldUpAtLocation","P","calculateMapBounds","ceil","PI","sin","cos","_","Object","freeze","__proto__","copy","identity","set","transpose","invert","adjoint","determinant","multiply","rotate","scale","fromRotation","fromScaling","str","frob","pow","LDU","subtract","exactEquals","equals","multiplyScalar","multiplyScalarAndAdd","mul","sub","create","fromValues","createView","action","dxScreen","screenDeltaX","dyScreen","screenDeltaY","next","translationX","translationY","translationZ","atan2","sort","Number","POSITIVE_INFINITY","_available","forEachManipulator3D","location","elevationAlignedLocation","available","someManipulator","dragging","_handles","_arrowManipulatorInfos","Array","_opaqueMaterial","createMaterial","_transparentMaterial","_angle","_scale","_radius","_updateAfterDrag","_tool","tool","_view","_createManipulators","manipulator","removeAll","createDragPipeline","manipulatorType","angle","_updateManipulatorTransform","_updateManipulators","_updateArrowManipulator","transform","renderObjects","stateMask","_createArrowManipulator","displayScale","modelTransform","autoScaleRenderObjects","worldOriented","focusMultiplier","touchMultiplier","collisionType","direction","arrowManipulators","lastDragEvent","_enabled","mapEnd","snap","screenEnd","mapStart","screenStart","execute","toMap","exclude","z","_snapToScene","_discMaterial","_createMaterial","_discMaterialTransparent","_createManipulator","_manipulator","enabled","_updateManipulator","createDragEventPipelineStep","worldSized","discManipulator","createManipulator","updateManipulator","paths","selectable","cursor","collisionPriority","applyObjectTransform","state","camera","eye","computeRenderPixelSizeAtDist","worldUpAtPosition","fullWidth","_angleDeferred","_interactive","xyManipulation","xyAxisManipulation","zManipulation","xyAvailable","xyAxisAvailable","zAvailable","autoHideXYAxis","updateManipulatorInteractivity","createGraphicDragPipeline","xyAxisVisible","focused","inputManager","latestPointerType","disableDisplay","symbolLayers","some","_graphicState","graphicState","allGraphics","dx","dy","graphics","enableZ","_toolHandles","_refreshManipulators","_moveManipulation","toArray","createManipulators","createVisualElements","updateMoveManipulation","manipulationXY","stopPropagation","buildDragEventPipeline","createMoveManipulation","hasManipulator","getItemAt","updateMoveManipulationAngle","geometryRepresentation","angleDeferred","destroyed","toScreen","_vertexManipulatorMaterial","_vertexManipulatorOutlineMaterial","_vertexManipulatorHoverOutlineMaterial","_edgeManipulatorMaterial","_edgeManipulatorOutlineMaterial","_selectedManipulatorMaterial","_selectedManipulatorOutlineMaterial","_selectedManipulatorHoverOutlineMaterial","_selectedIndex","_vertexManipulatorGeometry","_vertexManipulatorOutlineGeometry","_edgeManipulatorGeometry","_edgeManipulatorOutlineGeometry","_manipulatorHandles","_manipulatorInfos","_reshapeHelper","_graphicMoveManipulation","_numGrabbing","_numDragging","_reshapeEventState","outputGeometry","_vertexLaserLineVisualElement","snappingEngine","_clear","_recreateManipulators","enableMoveGraphic","handle","_removeVertices","inputGeometry","Y","components","_createPerVertexManipulator","edges","_createGraphicMoveManipulators","moveVertices","mapDeltaX","mapDeltaY","mapDeltaZ","pos","_updateManipulatorPosition","_updateEventState","mover","F","info","_trackNumDragging","_perGraphicManipulatorDragAction","_cancelDragOperation","grabbable","_watchAndUpdateGrabState","_clearSelection","doneSnapping","_updateMoveManipulationPosition","X","Vertex","Edge","layer","_setTypeSpecificManipulatorSettings","locationUpdateHandle","selectedIndex","_getManipulatorInfoFromHandle","left","right","_splitEdgeManipulator","_snapDrag","_perVertexManipulatorDragAction","_manipulatorClickCallback","isMultiVertexSelection","context","originalPos","createDehydratedPoint","_updateSelection","indexOf","toPoint","N","splitEdge","createdVertex","component","coordinates","componentIndex","index","added","orthogonalAvailable","Z","canRemoveVertex","_removeManipulator","removeVertices","removedVertices","createdEdge","removed","shiftKey","button","_dirty","toPolyline","toPolygon","_reshapeOperation","_internalGeometryUpdate","_updateGeometry","manipulatorSelectionChanged","_onReshapeGeometryChanged","_updateGraphic","key","removeSelectedVertices","rt","ScaleIn","ScaleOut","RotateLeft","RotateRight","Unlocked","DelayedFocused","TouchInput","nt","_scaleRotateDragData","_activeAnimation","getFocused","ringManipulator","getScale","updateDragState","updateManipulatorTransform","frameTask","cancelActiveAnimation","start","deltaTime","createRingManipulator","allLayerViews","find","heading","getSymbolLayerSize","startAngle","symbolRotationAngle","angleDir","scaleDir","startSymbolData","plane","renderStart","renderEnd","onScaleChanged","lt","applySymbolData","startAnimation","ct","updateDelayedFocusedState","updateStateEnabled","round","concat","enforceNonZeroSize","depth","computeRenderPixelSizeAt","projectToRenderScreen","ht","renderToScreen","gt","min","enableRotation","enableScaling","handles","scaleRotate","moveManipulation","updateMoveAngle","onGeometryChanged","hideManipulatorsForGraphicState","test","_circleCollisionCache","_graphicSymbolChangedHandle","_originalSymbol","attachSymbolChanged","_get","_updateGraphicSymbol","detachSymbolChanged","_resetGraphicSymbol","_intersectDistance2D","_intersectDistance3D","focusedSymbol","_focused","originalPoint","mapPoint","radiusPx","include","renderSpatialReference","dependsOn","overlayPixelSizeInMapUnits","basemapSpatialReference","xmin","ymin","xmax","ymax","intersects"],"mappings":"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","file":"chunks/8458.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nfunction t(t,e){return e?\"xoffset\"in e&&e.xoffset?Math.max(t,Math.abs(e.xoffset)):\"yoffset\"in e&&e.yoffset?Math.max(t,Math.abs(e.yoffset||0)):t:t}function e(t,e){return\"number\"==typeof t?t:t&&t.stops&&t.stops.length?function(t){let e=0,n=0;for(let r=0;r<t.length;r++){const s=t[r].size;\"number\"==typeof s&&(e+=s,n++)}return e/n}(t.stops):e}function n(n){const r=n&&n.renderer,s=\"touch\"===(n&&n.event&&n.event.pointerType)?9:6;if(!r)return s;const o=\"visualVariables\"in r?function(t,n){if(!n)return t;const r=n.filter((t=>\"size\"===t.type)).map((n=>{const{maxSize:r,minSize:s}=n;return(e(r,t)+e(s,t))/2}));let s=0;const o=r.length;if(0===o)return t;for(let t=0;t<o;t++)s+=r[t];const f=Math.floor(s/o);return Math.max(f,t)}(s,r.visualVariables):s;if(\"simple\"===r.type)return t(o,r.symbol);if(\"unique-value\"===r.type){let e=o;return r.uniqueValueInfos.forEach((n=>{e=t(e,n.symbol)})),e}if(\"class-breaks\"===r.type){let e=o;return r.classBreakInfos.forEach((n=>{e=t(e,n.symbol)})),e}return r.type,o}export{n as calculateTolerance};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport t from\"../../../../Color.js\";import{toHSV as i,toRGB as e}from\"../../../../core/colorUtils.js\";import{f as o}from\"../../../../chunks/vec4f64.js\";import{createStipplePattern as l}from\"../../webgl-engine/materials/lineStippleUtils.js\";const s={main:new t([255,127,0]),selected:new t([255,255,255]),staged:new t([12,207,255]),outline:new t([0,0,0,.5]),selectedOutline:new t([255,255,255])};function n(t,i){const e=t.clone();return e.a*=i,e}function r(t,o){const l=t.clone(),s=i(l);s.s*=o;const n=e(s);return l.r=n.r,l.g=n.g,l.b=n.b,l}function h(t,i){if(i)for(const e in i)t[e]=i[e]}class c{constructor(t){this.color=s.main,this.height=90,this.coneHeight=40,this.coneWidth=23,this.width=3,this.renderOccluded=16,h(this,t)}}class a{constructor(t){this.size=11,this.outlineSize=1,this.collisionPadding=9,this.color=s.main,this.outlineColor=s.outline,this.renderOccluded=16,this.hoverOutlineColor=s.selectedOutline,h(this,t)}apply(t,i){const e=this[t];i.setParameterValues({color:W(e),transparent:\"color\"!==t||e.a<1,renderOccluded:this.renderOccluded})}}class d{constructor(t){this.vertex=new a({color:s.main,outlineColor:s.outline}),this.edge=new a({color:r(n(s.main,2/3),.5),outlineColor:n(s.outline,.5),size:8,collisionPadding:8}),this.selected=new a({color:s.selected,outlineColor:s.outline}),h(this,t)}}class u{constructor(t){this.color=s.selected,this.width=1.5,this.stipplePattern=l([5,5]),this.stippleOffColor=s.outline,this.falloff=0,this.innerWidth=1.5,this.innerColor=s.selected,this.renderOccluded=4,h(this,t)}apply(t){t.color=W(this.color),t.width=this.width,t.stipplePattern=this.stipplePattern,t.stippleOffColor=W(this.stippleOffColor),t.falloff=this.falloff,t.innerWidth=this.innerWidth,t.innerColor=W(this.innerColor),t.renderOccluded=this.renderOccluded}}class p{constructor(t){this.color=s.selected,this.size=4,this.outlineSize=1,this.outlineColor=s.outline,this.shape=\"square\",h(this,t)}apply(t){t.color=W(this.color),t.size=this.size,t.outlineSize=this.outlineSize,t.outlineColor=W(this.outlineColor),t.primitive=this.shape}}class w{constructor(t){this.innerColor=s.selected,this.innerWidth=1,this.glowColor=s.main,this.glowWidth=8,this.glowFalloff=8,this.globalAlpha=.3,this.globalAlphaContrastBoost=1.5,this.radius=3,this.heightFillColor=s.main,h(this,t)}apply(i,e=1){const o={glowColor:t.toUnitRGB(this.glowColor),glowFalloff:this.glowFalloff,glowWidth:this.glowWidth,innerColor:t.toUnitRGB(this.innerColor),innerWidth:this.innerWidth,globalAlpha:this.globalAlpha*e,globalAlphaContrastBoost:this.globalAlphaContrastBoost,intersectsLineRadius:this.radius};\"style\"in i?i.style=o:i.laserlineStyle=o}}class f{constructor(t){this.outline=new u({color:s.outline,renderOccluded:8,stippleOffColor:s.selected,stipplePattern:l([5,5]),width:1.5,innerWidth:0}),this.staged=new u({color:s.selected,renderOccluded:8,innerColor:s.staged,stippleOffColor:s.outline,stipplePattern:l([5,5]),width:1.5}),this.shadowStyle=new w({globalAlpha:.3,glowColor:s.main,glowFalloff:8,glowWidth:8,innerColor:s.selected,innerWidth:1}),h(this,t)}}class g{constructor(t){this.outline=new p({color:s.selected,outlineColor:s.outline,outlineSize:1,shape:\"circle\",size:4}),this.shadowStyle=new w({globalAlpha:.3,glowColor:s.main,glowFalloff:1.5,glowWidth:6,innerColor:s.selected,innerWidth:1,radius:2}),h(this,t)}}class C extends u{constructor(t){super(),this.extensionType=2,h(this,t)}}class m{constructor(t){this.lineGraphics=new f,this.pointGraphics=new g,this.heightPlane=new w({globalAlpha:.3,glowColor:s.main,glowFalloff:8,glowWidth:8,innerColor:s.selected,innerWidth:1}),this.heightBox=new w({globalAlpha:.3,glowColor:s.main,glowFalloff:8,glowWidth:8,innerColor:s.selected,innerWidth:0,heightFillColor:s.main}),this.zVerticalLine=new C({color:n(s.main,.5),falloff:2,innerColor:n(s.selected,0),renderOccluded:4,stipplePattern:null,width:5,extensionType:2}),this.laserlineAlphaMultiplier=1.5,this.heightPlaneAngleCutoff=20,h(this,t)}}function W(i){return o(t.toUnitRGBA(i))}const O=new class{constructor(t){this.visualElements=new m,this.reshapeManipulators=new d,this.zManipulator=new c,h(this,t)}colorToVec4(t){return W(t)}};export{s as colors,O as settings};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{unwrapOr as t,isSome as r}from\"../../../../core/maybe.js\";import{c as i}from\"../../../../chunks/vec3f64.js\";import{i as s}from\"../../../../chunks/vec3.js\";import{maxScale as a}from\"../../support/mathUtils.js\";import{c as n}from\"../../../../chunks/mat4.js\";import{I as e,a as o}from\"../../../../chunks/mat4f64.js\";import{computeAttachmentOriginTriangles as h}from\"./geometryDataUtils.js\";import{VertexAttrConstants as m}from\"./Util.js\";import{generateObject3DStateId as u}from\"./Object3DStateSet.js\";import{addObject3DStateID as d,removeObject3DStateID as f}from\"../materials/renderers/utils.js\";export default class{constructor(t,r,s,a,n,e,o){this.uniqueName=null,this.shaderTransformationDirty=!0,this.data=t.toRenderData(),this.boundingInfo=r,this.material=s,this.origin=null,this.center=i(),this.bsRadius=0,this.transformation=null,this.calculateShaderTransformation=n,a&&this.updateTransformation(a,e),this.castShadow=o,this.instanceParameters={highlights:null,occludees:null,visible:!0}}updateTransformation(t,r){this.transformation=t,this.shaderTransformationDirty=!0,this.bsRadius=this.getBoundingSphere(t,r,this.center)}shaderTransformationChanged(){this.shaderTransformationDirty=!0}getBoundingSphere(t,r,i){return r=r||a(t),s(i,this.boundingInfo.getCenter(),t),this.boundingInfo.getBSRadius()*r}get hasShaderTransformation(){return!!this.calculateShaderTransformation}getShaderTransformation(){return this.calculateShaderTransformation?(this.shaderTransformationDirty&&(this.shaderTransformation||(this.shaderTransformation=o()),n(this.shaderTransformation,this.calculateShaderTransformation(t(this.transformation,e))),this.shaderTransformationDirty=!1),this.shaderTransformation):t(this.transformation,e)}computeAttachmentOrigin(t){if(this.material.computeAttachmentOrigin)return!!this.material.computeAttachmentOrigin(this,t)&&(r(this.transformation)&&s(t,t,this.transformation),!0);const i=this.getIndices(m.POSITION),a=this.getAttribute(m.POSITION);return!!h(a,i,t)&&(r(this.transformation)&&s(t,t,this.transformation),!0)}getIndices(t){return\"indices\"in this.data?this.data.indices[t]:null}getAttribute(t){return\"vertexAttr\"in this.data?this.data.vertexAttr[t]:null}addHighlight(){const t=u(0),r=this.instanceParameters;return r.highlights=d(r.highlights,t),t}removeHighlight(t){const r=this.instanceParameters;r.highlights=f(r.highlights,t)}}\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import\"../../../../core/has.js\";import{isSome as r,isNone as s}from\"../../../../core/maybe.js\";import\"../../../../core/Logger.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{property as t}from\"../../../../core/accessorSupport/decorators/property.js\";import{subclass as o}from\"../../../../core/accessorSupport/decorators/subclass.js\";import\"../../../../core/urlUtils.js\";import\"../../../../core/uuid.js\";import\"../../../../portal/support/resourceExtension.js\";import i from\"../../../../core/Accessor.js\";import{IdentifiableMixin as c}from\"../../../../core/Identifiable.js\";class a{constructor(e){this.resourceFactory=e,this._resources=null,this._visible=!0,this._attached=!1}destroy(){this._destroyResources()}get resources(){return r(this._resources)?this._resources.external:null}get visible(){return this._visible}set visible(e){e!==this._visible&&(this._visible=e,this._syncGeometriesToRenderer())}get attached(){return this._attached}set attached(e){e!==this._attached&&(this._attached=e,this._createOrDestroyResources())}recreate(){this.attached&&this._createResources()}recreateGeometry(){this.resourceFactory.recreateGeometry?s(this._resources)||(this.ensureRenderGeometriesRemoved(),this.resourceFactory.recreateGeometry(this._resources.external),this._syncGeometriesToRenderer()):this.recreate()}_createOrDestroyResources(){this._attached?s(this._resources)&&this._createResources():this._destroyResources()}_createResources(){var e;this._destroyResources();const r=this.resourceFactory.createResources();this._resources={layerView:new u({view:this.resourceFactory.view}),external:r,geometriesAdded:!1},this._syncGeometriesToRenderer();const s=null==(e=this.resourceFactory.view.basemapTerrain)?void 0:e.overlayManager;s&&s.registerDrapeSource(this._resources.layerView)}_destroyResources(){var e;if(s(this._resources))return;this.ensureRenderGeometriesRemoved();const r=null==(e=this.resourceFactory.view.basemapTerrain)?void 0:e.overlayManager;r&&r.unregisterDrapeSource(this._resources.layerView),this._resources=null}_syncGeometriesToRenderer(){this._visible?this.ensureRenderGeometriesAdded():this.ensureRenderGeometriesRemoved()}ensureRenderGeometriesRemoved(){var e;if(s(this._resources)||null==(e=this.resourceFactory.view)||!e.basemapTerrain)return;if(!this._resources.geometriesAdded)return;this.resourceFactory.view.basemapTerrain.overlayManager.renderer.removeGeometries(this._resources.external.geometries,this._resources.layerView,2),this._resources.geometriesAdded=!1}ensureRenderGeometriesAdded(){if(s(this._resources))return;if(this._resources.geometriesAdded)return;this.resourceFactory.view.basemapTerrain.overlayManager.renderer.addGeometries(this._resources.external.geometries,this._resources.layerView,2),this._resources.geometriesAdded=!0}}let u=class extends(c(i)){constructor(e){super(e),this.drapeSourceType=1}};e([t({constructOnly:!0})],u.prototype,\"view\",void 0),e([t({readOnly:!0})],u.prototype,\"drapeSourceType\",void 0),u=e([o(\"DrapedVisualElementLayerView\")],u);export{a as DrapedVisualElementResources};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{isSome as e,unwrap as t,isNone as r}from\"../../../../core/maybe.js\";import s from\"../../../../core/Evented.js\";import{c as i}from\"../../../../chunks/vec3f64.js\";import{s as a,b as n,a as o}from\"../../../../chunks/vec3.js\";import{projectBuffer as l}from\"../../../../geometry/projection.js\";import{g as h,c}from\"../../../../chunks/vec4.js\";import{empty as d,expandWithBuffer as u,create as m}from\"../../../../geometry/support/aaBoundingBox.js\";import{makeDehydratedPoint as p}from\"../../../../layers/graphics/dehydratedFeatures.js\";import{computeAttachmentOriginLines as f}from\"../../webgl-engine/lib/geometryDataUtils.js\";import{ElevationContext as g}from\"../../layers/graphics/ElevationContext.js\";import _ from\"../../webgl-engine/lib/Geometry.js\";import{RibbonVertexAttributeConstants as y}from\"../../webgl-engine/shaders/RibbonLineTechnique.js\";import{RibbonLineMaterial as v}from\"../../webgl-engine/materials/RibbonLineMaterial.js\";import O from\"../../webgl-engine/lib/RenderGeometry.js\";import{geometryToRenderInfoDraped as w,createGeometryData as R,geometryToRenderInfo as b}from\"../../layers/graphics/lineUtils.js\";import{f as C,a as D}from\"../../../../chunks/vec4f32.js\";import{LaserlineVisualElement as j}from\"./LaserlineVisualElement.js\";import{VisualElementResources as E}from\"./VisualElementResources.js\";import{DrapedVisualElementResources as P}from\"./DrapedVisualElementResources.js\";class G{constructor(e){this.view=null,this._attachmentOrigin=p(0,0,0,null),this._attachmentOriginDirty=!0,this.events=new s,this._isDraped=!1,this._geometry=null,this._width=1,this._color=C(1,0,1,1),this._innerWidth=0,this._innerColor=C(1,1,1,1),this._stipplePattern=null,this._stippleOffColor=null,this._falloff=0,this._elevationInfo=null,this._laserlineStyle=null,this._laserlineEnabled=!1,this._renderOccluded=8,this.resources=new E({view:e.view,createResources:e=>this.createResources(e),recreateGeometry:(e,t)=>(e.geometries.length=0,this.recreateGeometry(t,e.material,e.geometries),e.geometries)}),this._attachmentOrigin.spatialReference=e.view.spatialReference,this.drapedResources=new P({view:e.view,createResources:()=>this.createDrapedResources(),recreateGeometry:e=>{e.geometries=this.createRenderGeometriesDraped(e.material),this.attachmentOriginChanged()}});let t=!0;this._laserline=new j({view:e.view});for(const r in e)r in this?\"attached\"===r?t=e[r]:this[r]=e[r]:console.error(\"Cannot set unknown property\",r);this.attached=t}destroy(){this.resources.destroy(),this.drapedResources.destroy(),this._laserline.destroy()}get isDraped(){return this._isDraped}set isDraped(e){e!==this._isDraped&&(this._isDraped=e,this.updateAttached(this.attached),this._laserline.attached=this.laserlineAttached)}get laserlineAttached(){return this.attached&&this.visible&&e(this._laserlineStyle)&&!this.isDraped&&this.laserlineEnabled}get visible(){return this.resources.visible}set visible(e){this.resources.visible=e,this.drapedResources.visible=e,this._laserline.attached=this.laserlineAttached}get attached(){return this.resources.attached||this.drapedResources.attached}set attached(e){this.updateAttached(e)}updateAttached(e){this.resources.attached=!this.isDraped&&e,this.drapedResources.attached=this.isDraped&&e,this._laserline.attached=this.laserlineAttached,this.attached&&this.attachmentOriginChanged()}get geometry(){return this._geometry}set geometry(e){this._geometry=e,this.resources.recreateGeometry(),this.drapedResources.recreateGeometry()}get width(){return this._width}set width(e){e!==this._width&&(this._width=e,this.updateMaterial())}get color(){return this._color}set color(e){h(e,this._color)||(c(this._color,e),this.updateMaterial())}get innerWidth(){return this._innerWidth}set innerWidth(e){e!==this._innerWidth&&(this._innerWidth=e,this.updateMaterial())}get innerColor(){return this._innerColor}set innerColor(e){h(e,this._innerColor)||(c(this._innerColor,e),this.updateMaterial())}get stipplePattern(){return this._stipplePattern}set stipplePattern(t){const r=e(t)!==e(this._stipplePattern);this._stipplePattern=t,r?this.resources.recreate():this.updateMaterial()}get stippleOffColor(){return this._stippleOffColor}set stippleOffColor(e){e&&this._stippleOffColor&&h(e,this._stippleOffColor)||(this._stippleOffColor=e?D(e):null,this.updateMaterial())}get falloff(){return this._falloff}set falloff(e){e!==this._falloff&&(this._falloff=e,this.updateMaterial())}get elevationInfo(){return this._elevationInfo}set elevationInfo(e){this._elevationInfo=e,this.resources.recreateGeometry()}get laserlineStyle(){return this._laserlineStyle}set laserlineStyle(t){this._laserlineStyle=t,this._laserline.attached=this.laserlineAttached,e(t)&&(this._laserline.style=t)}get laserlineEnabled(){return this._laserlineEnabled}set laserlineEnabled(e){this._laserlineEnabled!==e&&(this._laserlineEnabled=e,this._laserline.attached=this.laserlineAttached)}get renderOccluded(){return this._renderOccluded}set renderOccluded(e){e!==this._renderOccluded&&(this._renderOccluded=e,this.updateMaterial())}get attachmentOrigin(){if(!this._attachmentOriginDirty)return this._attachmentOrigin;const r=e(this.resources.resources)?this.resources.resources.geometries:null;if(!r||0===r.length)return null;a(I,0,0,0);const s=y.POSITION;let i=0;for(const e of r){const r=e.getAttribute(s),a=e.getIndices(s),o=t(this.resources.resources).material.isClosed(r.data,a);f(r,a,o,M)&&(n(I,I,M),i++)}return 0===i?null:(o(I,I,1/i),this.view.renderCoordsHelper.fromRenderCoords(I,this._attachmentOrigin),this._attachmentOriginDirty=!1,this._attachmentOrigin)}updateMaterial(){e(this.resources.resources)&&this.resources.resources.material.setParameterValues(this.materialParameters),e(this.drapedResources.resources)&&this.drapedResources.resources.material.setParameterValues(this.materialParameters)}get isClosed(){return e(this.geometry)&&\"polygon\"===this.geometry.type}get materialParameters(){return{width:this._width,color:this._color,stippleOffColor:this._stippleOffColor,stipplePattern:this._stipplePattern,isClosed:this.isClosed,falloff:this._falloff,innerColor:this._innerColor,innerWidth:this._innerWidth,join:\"round\",stippleIntegerRepeats:!0,polygonOffset:!0,renderOccluded:this.normalizedRenderOccluded}}get normalizedRenderOccluded(){return this.isDraped&&8===this._renderOccluded?4:this._renderOccluded}recreateGeometry(e,t,r){const s=this.createRenderGeometries();for(const i of s)e.addGeometry(i,t),r.push(i);this.attachmentOriginChanged()}attachmentOriginChanged(){this._attachmentOriginDirty=!0,this.events.emit(\"attachment-origin-changed\")}createResources(e){const t=new v(this.materialParameters,\"lineVisualElement\"),r=[];return this.recreateGeometry(e,t,r),{material:t,geometries:r,forEach:e=>{e(t),r.forEach(e)}}}createDrapedResources(){const e=new v(this.materialParameters,\"lineVisualElement\");return{material:e,geometries:this.createRenderGeometriesDraped(e)}}createRenderGeometriesDraped(e){const t=this.geometry;if(r(t))return[];const s=w(t,this.view.basemapTerrain.spatialReference),i=[];for(const{position:t}of s.lines){const r={attributeData:{position:t},removeDuplicateStartEnd:this.isClosed?1:0},s=new O(R(r));s.material=e;const n=d(A);u(n,t),a(s.center,.5*(n[0]+n[3]),.5*(n[1]+n[4]),0),s.bsRadius=.5*Math.sqrt((n[3]-n[0])*(n[3]-n[0])+(n[4]-n[1])*(n[4]-n[1])),i.push(s)}return i}calculateMapBounds(e){if(r(this.resources.resources))return!1;const t=this.view.renderCoordsHelper;for(const r of this.resources.resources.geometries){const s=r.data.getAttribute(\"position\"),i=s.data,a=new Float64Array(i.length);l(s.data,t.spatialReference,0,a,this.view.spatialReference,0,i.length/3),u(e,a)}return!0}createRenderGeometries(){const e=this.geometry;if(r(e))return[];const t=b(e,this.view.elevationProvider,this.view.renderCoordsHelper,g.fromElevationInfo(this.elevationInfo)),s=[],i=[];for(const{position:e,mapPosition:r}of t.lines){const t={attributeData:{position:e,mapPosition:r},removeDuplicateStartEnd:this.isClosed?1:0},a=R(t);s.push(new _(a,\"geometryOutlineVisualElement\")),i.push(e)}return this._laserline.pathVerticalPlane=i,s}}const A=m(),M=i(),I=i();export{G as OutlineVisualElement};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../../../core/maybe.js\";import{getPointOnPath as t,getPathLength as r}from\"../../../../geometry/support/coordsUtils.js\";import{c as n}from\"../../../../chunks/vec3f64.js\";import{projectPointToVector as o}from\"../../../../geometry/projection.js\";import{I as i}from\"../../../../chunks/mat4f64.js\";import{containsPoint as s}from\"../../../../geometry/support/aaBoundingBox.js\";import{makeDehydratedPoint as a}from\"../../../../layers/graphics/dehydratedFeatures.js\";import c from\"../../webgl-engine/lib/Object3D.js\";import{computeCentroid as l}from\"./graphicUtils.js\";import{applyElevationAlignmentForHUD as p,applyPerVertexElevationAlignment as m}from\"./elevationAlignmentUtils.js\";const u=n();function f(t,r,n,a,l,m,f,g,d,h,j){const y=n?n.length:0,v=t.clippingExtent;if(o(r,u,t.elevationProvider.spatialReference),e(v)&&!s(v,u))return null;const w=t.renderCoordsHelper.spatialReference;o(r,u,w);const x=t.localOriginFactory.getOrigin(u),b=new c({castShadow:!1,metadata:{layerUid:d,graphicUid:h,usesVerticalDistanceToGround:!0},idHint:g});for(let e=0;e<y;e++){const t=l?l[e]:i;b.addGeometry(n[e],a[e],t,m,x,j)}return{object:b,sampledElevation:p(b,r,t.elevationProvider,t.renderCoordsHelper,f)}}function g(e,t,r){const n=e.elevationContext,i=r.spatialReference;o(t,u,i),n.centerPointInElevationSR=a(u[0],u[1],t.hasZ?u[2]:0,i)}function d(e){switch(e.type){case\"point\":return e;case\"polygon\":case\"extent\":return l(e);case\"polyline\":{const n=e.paths[0];if(!n||0===n.length)return null;const o=t(n,r(n)/2);return a(o[0],o[1],o[2],e.spatialReference)}case\"mesh\":return e.extent.center}return null}function h(e,t,r,n,o){const i=new Float64Array(3*e.length),s=new Float64Array(i.length);e.forEach(((e,t)=>{i[3*t+0]=e[0],i[3*t+1]=e[1],i[3*t+2]=e.length>2?e[2]:0}));const a=m(i,t,0,s,0,i,0,i.length/3,r,n,o),c=null!=a;return{numVertices:e.length,position:i,mapPosition:s,projectionSuccess:c,sampledElevation:a}}export{f as createStageObjectForHUD,g as extendPointGraphicElevationContext,h as geometryToRenderInfo,d as placePointOnGeometry};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{isNone as e}from\"../../../../core/maybe.js\";import{c as t}from\"../../../../chunks/vec3f64.js\";import{s as r}from\"../../../../chunks/vec3.js\";import{g as i,c as s}from\"../../../../chunks/vec4.js\";import a from\"../../webgl-engine/lib/GeometryUtil.js\";import{ElevationContext as o}from\"../../layers/graphics/ElevationContext.js\";import l from\"../../webgl-engine/lib/Geometry.js\";import{geometryToRenderInfo as n}from\"../../layers/graphics/pointUtils.js\";import{Object3DVisualElement as u}from\"./Object3DVisualElement.js\";import{ShadedColorMaterialVertexAttrConstants as c}from\"../../webgl-engine/shaders/ShadedColorMaterialTechnique.js\";import{ShadedColorMaterial as h}from\"../../webgl-engine/materials/ShadedColorMaterial.js\";import{settings as d}from\"../editingTools/settings.js\";class m extends u{constructor(e){super(e),this.view=null,this._renderOccluded=4,this._vertices=null,this._spatialReference=null,this._color=d.colorToVec4(d.reshapeManipulators.vertex.color),this._size=d.reshapeManipulators.vertex.size,this._outlineColor=d.colorToVec4(d.reshapeManipulators.vertex.outlineColor),this._outlineSize=d.reshapeManipulators.vertex.outlineSize,this._elevationInfo=null,this.applyProps(e)}get renderOccluded(){return this._renderOccluded}set renderOccluded(e){e!==this._renderOccluded&&(this._renderOccluded=e,this.updateMaterial(),this.updateOutlineMaterial())}get vertices(){return this._vertices}set vertices(e){this._vertices=e,this.recreateGeometry()}get spatialReference(){return this._spatialReference}set spatialReference(e){this._spatialReference=e,this.recreateGeometry()}get color(){return this._color}set color(e){i(e,this._color)||(s(this._color,e),this.updateMaterial())}get size(){return this._size}set size(e){e!==this._size&&(this._size=e,this.updateMaterial())}get outlineColor(){return this._outlineColor}set outlineColor(e){i(e,this._outlineColor)||(s(this._outlineColor,e),this.updateOutlineMaterial())}get outlineSize(){return this._outlineSize}set outlineSize(e){e!==this._outlineSize&&(this._outlineSize=e,this.updateOutlineMaterial())}get elevationInfo(){return this._elevationInfo}set elevationInfo(e){this._elevationInfo=e,this.recreateGeometry()}get vertexMaterialParameters(){return{color:this._color,transparent:this._color[3]<1,screenSize:this.size,renderOccluded:this._renderOccluded}}get vertexOutlineMaterialParameters(){return{color:this._outlineColor,transparent:this._outlineColor[3]<1,screenSize:this.size+2*this.outlineSize,renderOccluded:this._renderOccluded}}updateMaterial(){this.attached&&this.vertexMaterial.setParameterValues(this.vertexMaterialParameters)}updateOutlineMaterial(){this.attached&&this.vertexOutlineMaterial.setParameterValues(this.vertexOutlineMaterialParameters)}createRenderGeometries(){const t=this.vertices;if(e(t)||0===t.length)return[];const i=n(t,this.spatialReference,this.view.elevationProvider,this.view.renderCoordsHelper,o.fromElevationInfo(this.elevationInfo)),s=[],a=i.numVertices,u=i.position;for(let e=0;e<a;++e){const t=r(p,u[3*e+0],u[3*e+1],u[3*e+2]),i=new l(v(.5,16,16,t),\"VerticesVisualElement-vertex\"),a=new l(v(.5,16,16,t),\"VerticesVisualElement-vertexOutline\");s.push({vertexGeometry:i,vertexOutlineGeometry:a})}return s}createGeometries(e){const t=this.createRenderGeometries();for(const{vertexGeometry:r,vertexOutlineGeometry:i}of t)e.addGeometry(r,this.vertexMaterial),e.addGeometry(i,this.vertexOutlineMaterial)}createExternalResources(){this.vertexMaterial=new h({...this.vertexMaterialParameters,writeDepth:!0,cullFace:2,screenSizeEnabled:!0},\"manipulator\"),this.vertexOutlineMaterial=new h({...this.vertexOutlineMaterialParameters,transparent:!0,writeDepth:!0,cullFace:1,screenSizeEnabled:!0,shadingEnabled:!1},\"manipulator-outline\")}destroyExternalResources(){this.vertexMaterial=null,this.vertexOutlineMaterial=null}forEachExternalResource(e){e(this.vertexMaterial),e(this.vertexOutlineMaterial)}}const p=t();function v(e,t,r,i){const s=a.createSphereGeometry(e,t,r,{attributes:{position:c.OFFSET,uv:null}});return s.indices[c.POSITION]=new Uint32Array(s.indexCount),s.vertexAttributes[c.POSITION]={size:3,data:Float64Array.from(i),offsetIdx:0,strideIdx:3},s}export{m as VerticesVisualElement};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import\"../../../../../core/has.js\";import{unwrapOr as t,isSome as i,isNone as r,unwrap as s}from\"../../../../../core/maybe.js\";import\"../../../../../core/Logger.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import{property as a}from\"../../../../../core/accessorSupport/decorators/property.js\";import{subclass as n}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import\"../../../../../core/urlUtils.js\";import\"../../../../../core/uuid.js\";import\"../../../../../portal/support/resourceExtension.js\";import o from\"../../../../../core/Evented.js\";import l from\"../../../../../Graphic.js\";import c from\"../../../../../layers/GraphicsLayer.js\";import{getEffectiveElevationMode as h}from\"../../../../../support/elevationInfoUtils.js\";import{SceneDrawSurface as p}from\"./drawSurfaces.js\";import{DrawOperation as u}from\"./DrawOperation.js\";import{InteractiveToolBase as d}from\"../../../../interactive/InteractiveToolBase.js\";import{SnappingOptions as m}from\"../../../../interactive/snapping/SnappingOptions.js\";import{createViewAlignedCoordinateSystem as y,createSquare as v,createRectangle as g,createCircle as V,createEllipse as _,createPolygon as f,createPolyline as w}from\"../../../../draw/support/createUtils.js\";import{settings as E}from\"../settings.js\";import{OutlineVisualElement as O}from\"../../visualElements/OutlineVisualElement.js\";import{VerticesVisualElement as G}from\"../../visualElements/VerticesVisualElement.js\";let b=class extends(o.EventedMixin(d)){constructor(e){super(e),this.drawOperation=null,this._createGraphic=null,this._outlineVisualElement=null,this._verticesVisualElement=null,this._stagedVerticesVisualElement=null,this.hasZ=!0,this.defaultZ=0,this.elevationInfo=null,this.snapToScene=!1,this.snappingOptions=new m,this.mode=null,this.geometryType=null,this.type=\"draw-3d\"}initialize(){const e=t(this.elevationInfo,{mode:this.hasZ?\"absolute-height\":\"on-the-ground\",offset:0});this._internalGraphicsLayer=new c({elevationInfo:e}),this.view.map.layers.add(this._internalGraphicsLayer),this.drawOperation=new u({view:this.view,manipulators:this.manipulators,geometryType:C(this.geometryType),drawingMode:this.mode,hasZ:this.hasZ,defaultZ:this.defaultZ,snapToSceneEnabled:this.snapToScene,snappingDrawSurface:new p(this.view,e,[this._internalGraphicsLayer]),hasM:!1,elevationInfo:e,snappingOptions:this.snappingOptions}),this.drawOperation.on(\"vertex-add\",(e=>this.onVertexAdd(e))),this.drawOperation.on(\"vertex-remove\",(e=>this.onVertexRemove(e))),this.drawOperation.on(\"vertex-update\",(e=>this.onVertexUpdate(e))),this.drawOperation.on(\"cursor-update\",(e=>this.onCursorUpdate(e))),this.drawOperation.on(\"complete\",(e=>this.onComplete(e)))}destroy(){this.drawOperation.destroy(),this.drawOperation=null,this._destroyAllVisualisations(),this.view.map.remove(this._internalGraphicsLayer),this._set(\"view\",null)}onInputEvent(e){this.drawOperation.onInputEvent(e)}_getCreateGeometry(e,t=!1){if(null==this.drawOperation)return null;const r=i(e)?e:this.drawOperation.hasStagedVertex?this.drawOperation.numVertices-1:null,s=this.drawOperation.vertices;if(0===s.length)return null;const a=this.drawOperation.spatialReference,n=s,o=n.slice(),l=[];i(r)&&(o.splice(r,1),l.push(n[r]));const c={regularVertices:null,stagedVertices:null,full:null,outline:null},h=\"3d\"===this.view.type&&\"global\"===this.view.viewingMode;switch(this.geometryType){case\"point\":c.regularVertices=o,c.stagedVertices=l,c.full=this.drawOperation.coordinateHelper.createPointFromArray(s[0]);break;case\"polyline\":c.regularVertices=o,c.stagedVertices=l,n.length>0&&(c.full=w([n],a,h));break;case\"polygon\":c.regularVertices=o,c.stagedVertices=l,n.length>0&&(c.full=f([n],a,h,!0));break;case\"circle\":if(n.length>0){const e=y(this.view,s[0]);if(1===n.length&&t){const t=n[0],i=e.makeMapPoint(t[0]+S*this.view.resolution,t[1]);c.full=V([t,i],e,!0)}else 2===n.length&&(c.full=this.forceUniformSize?V(s,e,this.centered):_(s,e,this.centered))}break;case\"rectangle\":if(n.length>0){const e=y(this.view,s[0]);if(1===n.length&&t){const t=n[0],i=e.makeMapPoint(t[0]+S*this.view.resolution,t[1]);c.full=v([t,i],e,!0)}else 2===n.length&&(c.full=this.forceUniformSize?v(s,e,this.centered):g(s,e,this.centered))}break;default:return null}switch(this.geometryType){case\"point\":break;case\"polyline\":n.length>1&&(c.outline=w([n],a,h));break;case\"polygon\":n.length>1&&(c.outline=f([n],a,h));break;case\"circle\":case\"rectangle\":i(c.full)&&\"polygon\"===c.full.type&&(c.outline=f(c.full.rings,a,h))}return c}_destroyAllVisualisations(){this._destroyCreateGraphic(),this._destroyOutlineVisualElement(),this._destroyVerticesVisualElement(),this._destroyStagedVerticesVisualElement()}_destroyCreateGraphic(){i(this._createGraphic)&&(this._internalGraphicsLayer.remove(this._createGraphic),this._createGraphic.destroy(),this._createGraphic=null)}_destroyOutlineVisualElement(){i(this._outlineVisualElement)&&(this._outlineVisualElement.destroy(),this._outlineVisualElement=null)}_destroyVerticesVisualElement(){i(this._verticesVisualElement)&&(this._verticesVisualElement.destroy(),this._verticesVisualElement=null)}_destroyStagedVerticesVisualElement(){i(this._stagedVerticesVisualElement)&&(this._stagedVerticesVisualElement.destroy(),this._stagedVerticesVisualElement=null)}_updateCreateGraphic(e=null){const t=this._getCreateGeometry(e);if(r(t))return void this._destroyAllVisualisations();const a=this._internalGraphicsLayer.elevationInfo,n=\"on-the-ground\"===h(this.hasZ,a);i(t.outline)?r(this._outlineVisualElement)?(this._outlineVisualElement=new O({view:this.view,geometry:t.outline,elevationInfo:s(a),isDraped:n,attached:!1}),E.visualElements.lineGraphics.outline.apply(this._outlineVisualElement),E.visualElements.lineGraphics.shadowStyle.apply(this._outlineVisualElement),this._outlineVisualElement.attached=!0,this._outlineVisualElement.laserlineEnabled=!0):this._outlineVisualElement.geometry=t.outline:this._destroyOutlineVisualElement(),i(t.regularVertices)?r(this._verticesVisualElement)?(this._verticesVisualElement=new G({view:this.view,spatialReference:this.view.spatialReference,vertices:t.regularVertices,elevationInfo:s(this._internalGraphicsLayer.elevationInfo),renderOccluded:E.reshapeManipulators.vertex.renderOccluded,attached:!1}),this._verticesVisualElement.attached=!0):this._verticesVisualElement.vertices=t.regularVertices:this._destroyVerticesVisualElement(),i(t.stagedVertices)?r(this._stagedVerticesVisualElement)?(this._stagedVerticesVisualElement=new G({view:this.view,spatialReference:this.view.spatialReference,vertices:t.stagedVertices,elevationInfo:s(this._internalGraphicsLayer.elevationInfo),renderOccluded:E.reshapeManipulators.vertex.renderOccluded,attached:!1}),this._stagedVerticesVisualElement.color=E.colorToVec4(E.reshapeManipulators.selected.color),this._stagedVerticesVisualElement.attached=!0):this._stagedVerticesVisualElement.vertices=t.stagedVertices:this._destroyStagedVerticesVisualElement(),i(t.full)?r(this._createGraphic)?(this._createGraphic=new l({geometry:t.full,symbol:this.createGraphicSymbol}),this._internalGraphicsLayer.add(this._createGraphic),this.view.maskOccludee(this._createGraphic),this.notifyChange(\"createGraphic\")):this._createGraphic.geometry=t.full:this._destroyCreateGraphic()}get createGraphic(){return this._createGraphic}set enabled(e){this.drawOperation.interactive=e,this._set(\"enabled\",e)}set centered(e){this._set(\"centered\",e),this._updateCreateGraphic()}set forceUniformSize(e){this._set(\"forceUniformSize\",e),this._updateCreateGraphic()}reset(){}get canRedo(){return this.drawOperation.canRedo}redo(){this.drawOperation.redo()}get canUndo(){return this.drawOperation.canUndo}undo(){this.drawOperation.undo()}completeCreateOperation(){this.drawOperation.complete()}activate(){}deactivate(){this.drawOperation.isCompleted||this.drawOperation.cancel()}getVertexCoords(){return this.drawOperation.vertices}onVertexAdd(e){this._updateCreateGraphic(),this.emit(\"vertex-add\",e)}onVertexRemove(e){this._updateCreateGraphic(),this.emit(\"vertex-remove\",e)}onVertexUpdate(e){this._updateCreateGraphic(),this.emit(\"vertex-update\",e)}onCursorUpdate(e){this._updateCreateGraphic(1===e.vertices.length?e.vertices[0].vertexIndex:null),this.emit(\"cursor-update\",e)}onComplete(e){this._updateCreateGraphic();let t=null;if(this.drawOperation.isCompleted){const e=this._getCreateGeometry(null,!0);i(e)&&(t=new l({geometry:e.full,symbol:this.createGraphicSymbol}))}this.emit(\"complete\",{graphic:t,...e})}};function C(e){switch(e){case\"point\":case\"polyline\":case\"polygon\":return e;case\"circle\":case\"rectangle\":return\"segment\";default:return null}}e([a({constructOnly:!0,nonNullable:!0})],b.prototype,\"view\",void 0),e([a()],b.prototype,\"createGraphicSymbol\",void 0),e([a()],b.prototype,\"createGraphic\",null),e([a({value:!0})],b.prototype,\"enabled\",null),e([a({value:!0})],b.prototype,\"centered\",null),e([a({value:!0})],b.prototype,\"forceUniformSize\",null),e([a({constructOnly:!0})],b.prototype,\"hasZ\",void 0),e([a({nonNullable:!0})],b.prototype,\"defaultZ\",void 0),e([a({constructOnly:!0})],b.prototype,\"elevationInfo\",void 0),e([a()],b.prototype,\"snapToScene\",void 0),e([a()],b.prototype,\"snappingOptions\",void 0),e([a({constructOnly:!0})],b.prototype,\"mode\",void 0),e([a({constructOnly:!0})],b.prototype,\"geometryType\",void 0),e([a({readOnly:!0})],b.prototype,\"type\",void 0),b=e([n(\"esri.views.3d.interactive.editingTools.draw3D.DrawTool\")],b);const S=48;export{b as DrawGraphicTool};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{isNone as e,isSome as o}from\"../../../../core/maybe.js\";import{getGraphicEffectiveElevationInfo as r}from\"../../../../support/elevationInfoUtils.js\";function t(o,t=r(o)){return\"on-the-ground\"!==t.mode&&!(e(o.geometry)||!o.geometry.hasZ)}function n(e,r){let t=null;const n=e.events.on(\"grab-changed\",(n=>{o(t)&&(t.remove(),t=null),\"start\"===n.action?(t=e.disableDisplay(),r&&r(n)):r&&r(n)}));return{remove(){o(t)&&t.remove(),n.remove()}}}export{t as canMoveZ,n as disableDisplayOnGrab};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../../chunks/tslib.es6.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{property as o}from\"../../../../core/accessorSupport/decorators/property.js\";import{subclass as s}from\"../../../../core/accessorSupport/decorators/subclass.js\";import\"../../../../core/urlUtils.js\";import\"../../../../core/uuid.js\";import\"../../../../portal/support/resourceExtension.js\";import t from\"../../../../core/Evented.js\";let e=class extends t.EventedAccessor{constructor(r){super(r),this.tracking=!1,this.displaying=!1,this.isDraped=!1}};r([o({constructOnly:!0})],e.prototype,\"graphic\",void 0),r([o()],e.prototype,\"tracking\",void 0),r([o()],e.prototype,\"displaying\",void 0),r([o()],e.prototype,\"isDraped\",void 0),e=r([s(\"esri.views.3d.layers.graphics.GraphicState\")],e);export{e as GraphicState};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{isNone as t}from\"../../../../core/maybe.js\";import{Manipulator3D as i}from\"../Manipulator3D.js\";class e{constructor(){this.grabbingState=0,this.zManipulator=null,this.firstSelected=null,this.numSelected=0,this.firstGrabbedXY=null}update(e){this.grabbingState=0,this.zManipulator=null,this.numSelected=0,this.firstSelected=null,this.firstGrabbedXY=null,e.forEachManipulator(((e,s)=>{if(0===s&&(this.zManipulator=e),e instanceof i&&(e.selected&&(0===this.numSelected&&(this.firstSelected=e),this.numSelected++),t(this.firstGrabbedXY)&&e.grabbing&&1===s&&(this.firstGrabbedXY=e)),e.grabbing)switch(this.grabbingState|=1,s){case 0:this.grabbingState|=2;break;case 1:this.grabbingState|=4}}))}}export{e as ManipulatorState};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../../../core/maybe.js\";import{handlesGroup as t,destroyHandle as a,refHandle as n}from\"../../../../core/handleUtils.js\";import{deg2rad as i}from\"../../../../core/mathUtils.js\";import{c as l}from\"../../../../chunks/vec3f64.js\";import{s,b as o,a as r}from\"../../../../chunks/vec3.js\";import{getGraphicEffectiveElevationInfo as c}from\"../../../../support/elevationInfoUtils.js\";import{LaserlineVisualElement as p}from\"../visualElements/LaserlineVisualElement.js\";import{ExtendedLineVisualElement as m}from\"../visualElements/ExtendedLineVisualElement.js\";import{Manipulator3D as h}from\"../Manipulator3D.js\";import{settings as u}from\"./settings.js\";import{OutlineVisualElement as d}from\"../visualElements/OutlineVisualElement.js\";import{ManipulatorState as g}from\"./ManipulatorState.js\";import{GraphicState as f}from\"../../layers/graphics/GraphicState.js\";function v(l){const{view:d,graphic:v}=l,b=new f({graphic:v}),S=y(l,b),j=[S,function(l,d,f){const{graphic:v,view:y}=l,b=[],S=c(v),j=\"on-the-ground\"===S.mode||!S.offset&&\"absolute-height\"!==S.mode,M=new g,G=new m({view:y,extensionType:u.visualElements.zVerticalLine.extensionType,innerWidth:1,attached:!1,writeDepthEnabled:!1,renderOccluded:4});u.visualElements.pointGraphics.shadowStyle.apply(G);const L=i(u.visualElements.heightPlaneAngleCutoff),D=new p({view:y,attached:!1,angleCutoff:L});u.visualElements.heightPlane.apply(D);let C=1,V=1;const k=()=>{if(M.update(l),!f.displaying||j&&(f.isDraped||!E(v)||!v.geometry.hasZ))return d.laserlineEnabled=!1,G.attached=!1,void(D.attached=!1);d.laserlineEnabled=!0;{const e=4&M.grabbingState?u.visualElements.laserlineAlphaMultiplier:1;e!==C&&(C=e,u.visualElements.lineGraphics.shadowStyle.apply(d,e),u.visualElements.pointGraphics.shadowStyle.apply(G,e))}{const e=2&M.grabbingState?u.visualElements.laserlineAlphaMultiplier:1;e!==V&&(V=e,u.visualElements.heightPlane.apply(D,e))}!function(t,a){const n=1===a.numSelected?a.firstSelected:a.numSelected>1&&e(a.firstGrabbedXY)?a.firstGrabbedXY:null;e(n)?(t.setStartEndFromWorldDownAtLocation(n.renderLocation),t.attached=!0):t.attached=!1}(G,M),function(t,a,n,i){if(i.numSelected>0){s(w,0,0,0);let e=0;t.forEachManipulator(((t,a)=>{1===a&&t.selected&&t instanceof h&&(o(w,w,t.renderLocation),e++)})),e>0?(n.heightManifoldTarget=r(w,w,1/e),n.attached=!0):n.attached=!1}else{const i=a.attachmentOrigin;e(i)&&t.view.renderCoordsHelper.toRenderCoords(i,w)?(n.heightManifoldTarget=w,n.attached=!0):n.attached=!1}}(l,d,D,M)};u.visualElements.zVerticalLine.apply(G),b.push(f.on(\"changed\",k),f.watch(\"displaying\",k),d.events.on(\"attachment-origin-changed\",k),a(G),a(D));const x=[],A=()=>{t(x).remove(),x.length=0,l.forEachManipulator((e=>x.push(e.events.on(\"grab-changed\",k)))),l.forEachManipulator((e=>x.push(e.events.on(\"select-changed\",k)))),k()};return A(),b.push(l.onManipulatorsChanged(A),n((()=>t(x)))),t(b)}(l,S.visualElement,b),d.maskOccludee(v),d.trackGraphicState(b)];return{visualElement:S.visualElement,remove:()=>t(j).remove()}}function y(e,n){const{view:i,graphic:l}=e,s=new d({view:i,geometry:E(l)?l.geometry:null,elevationInfo:c(l),attached:!1});u.visualElements.lineGraphics.shadowStyle.apply(s);const o=()=>{s.attached=n.displaying};u.visualElements.lineGraphics.outline.apply(s);const r=[n.watch(\"displaying\",o),n.watch(\"isDraped\",(e=>s.isDraped=e)),n.on(\"changed\",(()=>s.geometry=E(l)?l.geometry:null)),a(s)];return o(),{visualElement:s,remove:()=>t(r).remove()}}function E(t){return e(t.geometry)&&(\"polygon\"===t.geometry.type||\"polyline\"===t.geometry.type)}const w=l();export{y as createGeometryRepresentationVisualElement,v as createVisualElements};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../../../core/maybe.js\";import{handlesGroup as t,destroyHandle as n,refHandle as o}from\"../../../../core/handleUtils.js\";import{deg2rad as i}from\"../../../../core/mathUtils.js\";import{c as r}from\"../../../../chunks/vec3f64.js\";import{s as a}from\"../../../../chunks/vec3.js\";import{init as s}from\"../../../../core/watchUtils.js\";import{containsXY as l}from\"../../../../geometry/support/aaBoundingRect.js\";import{projectVectorToVector as p,projectPointToVector as c}from\"../../../../geometry/projection.js\";import{create as m,empty as h,getMin as u}from\"../../../../geometry/support/aaBoundingBox.js\";import{getGraphicEffectiveElevationInfo as g}from\"../../../../support/elevationInfoUtils.js\";import{evaluateElevationAlignmentAtPoint as d}from\"../../layers/graphics/elevationAlignmentUtils.js\";import{ElevationContext as f}from\"../../layers/graphics/ElevationContext.js\";import{LaserlineVisualElement as v}from\"../visualElements/LaserlineVisualElement.js\";import{ExtendedLineVisualElement as y}from\"../visualElements/ExtendedLineVisualElement.js\";import{PointVisualElement as E}from\"../visualElements/PointVisualElement.js\";import{settings as w}from\"./settings.js\";import{ManipulatorState as j}from\"./ManipulatorState.js\";import{GraphicState as b}from\"../../layers/graphics/GraphicState.js\";function x(r){const{view:m,graphic:x}=r,A=new b({graphic:x}),C=[],M=function(t,i,r){const{view:a,graphic:p}=t,m=new E({view:a,geometry:S(p)?p.geometry:null,elevationInfo:g(p),attached:!1});return function(t,n,i,r){const a=()=>n.attached=i.displaying;(function(t,n,i,r){const{view:a,graphic:s}=t;let p=null;const m=()=>{e(p)&&(p.remove(),p=null),i.isDraped&&S(s)&&(p=function(e,t,n){const o=e.elevationProvider.spatialReference;c(t,L,o);const i=L[0],r=L[1];return e.elevationProvider.on(\"elevation-change\",(e=>{l(e.extent,i,r)&&n()}))}(a,s.geometry,(()=>{n.geometry=s.geometry})))},h=()=>{m(),n.geometry=S(s)?s.geometry:null};r.push(i.on(\"changed\",h),o((()=>p))),h()})(t,n,i,r),w.visualElements.pointGraphics.outline.apply(n),r.push(s(i,\"displaying\",a))}(t,m,i,r),r.push(n(m)),m}(r,A,C);return function(e,t,o,r){const{view:s,graphic:l}=e,c=new y({view:s,extensionType:w.visualElements.zVerticalLine.extensionType,innerWidth:1,attached:!1,writeDepthEnabled:!1,renderOccluded:4});w.visualElements.zVerticalLine.apply(c);const m=new v({view:s,intersectsLineInfinite:!0,attached:!1});w.visualElements.pointGraphics.shadowStyle.apply(m);const E=i(w.visualElements.heightPlaneAngleCutoff),b=new v({view:s,attached:!1,angleCutoff:E});w.visualElements.heightPlane.apply(b);const x=g(e.graphic),A=f.fromElevationInfo(x),C=\"on-the-ground\"===x.mode||!x.offset&&\"absolute-height\"!==x.mode,M=new j;let R=1,U=1;const D=()=>{M.update(e);const n=C&&(t.isDraped||!S(l)||!l.geometry.hasZ);let o=!0;if(!n&&S(l)){const e=l.geometry,t=d(l.geometry,s.elevationProvider,A,s.renderCoordsHelper);a(L,e.x,e.y,t),p(L,e.spatialReference,L,s.renderCoordsHelper.spatialReference),c.setStartEndFromWorldDownAtLocation(L),m.intersectsWorldUpAtLocation=L}else o=!1;{const e=2&M.grabbingState?w.visualElements.laserlineAlphaMultiplier:1;e!==R&&(R=e,w.visualElements.heightPlane.apply(b,e))}{const e=h(P);!n&&t.displaying&&r.calculateMapBounds(e)&&p(u(e,L),s.spatialReference,L,s.renderCoordsHelper.spatialReference)?(b.heightManifoldTarget=L,b.attached=!0):b.attached=!1}{const e=4&M.grabbingState?w.visualElements.laserlineAlphaMultiplier:1;e!==U&&(U=e,w.visualElements.pointGraphics.shadowStyle.apply(m,e))}const i=o&&t.displaying&&!n;m.attached=i,c.attached=i};o.push(t.watch([\"displaying\",\"isDraped\"],D),t.on(\"changed\",D)),e.forEachManipulator((e=>{o.push(e.events.on(\"grab-changed\",D))})),o.push(n(m)),o.push(n(c)),o.push(n(b)),D()}(r,A,C,M),C.push(m.trackGraphicState(A)),{visualElement:M,remove(){t(C).remove()}}}function S(t){return e(t.geometry)&&\"point\"===t.geometry.type}const L=r(),P=m();export{x as createVisualElements};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{unwrap as e}from\"../../../../core/maybe.js\";import{createVisualElements as t}from\"./lineGraphicVisualElementUtils.js\";import{createVisualElements as r}from\"./pointGraphicVisualElementUtils.js\";function i(i){switch(e(i.graphic.geometry).type){case\"point\":return r(i);case\"polygon\":case\"polyline\":return t(i);default:return null}}export{i as createVisualElements};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nconst t=[1,.5,0],a=128,e=70,h=80,M=.02,c=54,o=100,I=Math.ceil(70/3*2),P=160,i=.5,l=24,n=9,p=190,r=213,s=60,x=23,b=5*Math.PI/12,d=1*Math.PI/3,f=10,g=.2,j=30,k=53,m=.2,q=.3,u=200,v=3,w=1e6;export{w as ALIGN_ARROWS_SCALE_THRESHOLD,h as DISC_COLLISION_RADIUS,M as DISC_HEIGHT,e as DISC_RADIUS,I as DISC_RADIUS_SMALL,o as DISC_TRANSLATE_ARROW_OFFSET,c as DISC_TRANSLATE_ARROW_SIZE,f as DRAG_THRESHOLD_PX,a as GEOMETRY_SEGMENTS,t as HANDLE_COLOR,n as INDICATOR_THICKNESS,p as INNER_INDICATOR_RADIUS,r as OUTER_INDICATOR_RADIUS,i as RING_HEIGHT,u as RING_INDICATOR_DELAY_MS,P as RING_RADIUS,v as RING_RESET_ANIMATION_SPEED_FACTOR,l as RING_THICKNESS,b as ROTATE_INDICATOR_ARC_LENGTH,g as ROTATE_INDICATOR_ARROW_PLACEMENT_PERCENTAGE,s as ROTATE_INDICATOR_ARROW_TIP_LENGTH,x as ROTATE_INDICATOR_ARROW_TIP_RADIUS,q as ROTATE_INDICATOR_DIRECTION_BUFFER,d as SCALE_INDICATOR_ARC_LENGTH,m as SCALE_INDICATOR_DIRECTION_BUFFER,j as SCALE_INDICATOR_OFFSET1,k as SCALE_INDICATOR_OFFSET2};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{E as t}from\"./common.js\";function n(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t}function a(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t}function s(t,n,a,s,r){return t[0]=n,t[1]=a,t[2]=s,t[3]=r,t}function r(t,n){if(t===n){const a=n[1];t[1]=n[2],t[2]=a}else t[0]=n[0],t[1]=n[2],t[2]=n[1],t[3]=n[3];return t}function u(t,n){const a=n[0],s=n[1],r=n[2],u=n[3];let o=a*u-r*s;return o?(o=1/o,t[0]=u*o,t[1]=-s*o,t[2]=-r*o,t[3]=a*o,t):null}function o(t,n){const a=n[0];return t[0]=n[3],t[1]=-n[1],t[2]=-n[2],t[3]=a,t}function c(t){return t[0]*t[3]-t[2]*t[1]}function e(t,n,a){const s=n[0],r=n[1],u=n[2],o=n[3],c=a[0],e=a[1],i=a[2],f=a[3];return t[0]=s*c+u*e,t[1]=r*c+o*e,t[2]=s*i+u*f,t[3]=r*i+o*f,t}function i(t,n,a){const s=n[0],r=n[1],u=n[2],o=n[3],c=Math.sin(a),e=Math.cos(a);return t[0]=s*e+u*c,t[1]=r*e+o*c,t[2]=s*-c+u*e,t[3]=r*-c+o*e,t}function f(t,n,a){const s=n[0],r=n[1],u=n[2],o=n[3],c=a[0],e=a[1];return t[0]=s*c,t[1]=r*c,t[2]=u*e,t[3]=o*e,t}function h(t,n){const a=Math.sin(n),s=Math.cos(n);return t[0]=s,t[1]=a,t[2]=-a,t[3]=s,t}function M(t,n){return t[0]=n[0],t[1]=0,t[2]=0,t[3]=n[1],t}function l(t){return\"mat2(\"+t[0]+\", \"+t[1]+\", \"+t[2]+\", \"+t[3]+\")\"}function b(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2))}function m(t,n,a,s){return t[2]=s[2]/s[0],a[0]=s[0],a[1]=s[1],a[3]=s[3]-t[2]*a[1],[t,n,a]}function p(t,n,a){return t[0]=n[0]+a[0],t[1]=n[1]+a[1],t[2]=n[2]+a[2],t[3]=n[3]+a[3],t}function d(t,n,a){return t[0]=n[0]-a[0],t[1]=n[1]-a[1],t[2]=n[2]-a[2],t[3]=n[3]-a[3],t}function x(t,n){return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]&&t[3]===n[3]}function w(n,a){const s=n[0],r=n[1],u=n[2],o=n[3],c=a[0],e=a[1],i=a[2],f=a[3];return Math.abs(s-c)<=t*Math.max(1,Math.abs(s),Math.abs(c))&&Math.abs(r-e)<=t*Math.max(1,Math.abs(r),Math.abs(e))&&Math.abs(u-i)<=t*Math.max(1,Math.abs(u),Math.abs(i))&&Math.abs(o-f)<=t*Math.max(1,Math.abs(o),Math.abs(f))}function y(t,n,a){return t[0]=n[0]*a,t[1]=n[1]*a,t[2]=n[2]*a,t[3]=n[3]*a,t}function j(t,n,a,s){return t[0]=n[0]+a[0]*s,t[1]=n[1]+a[1]*s,t[2]=n[2]+a[2]*s,t[3]=n[3]+a[3]*s,t}let q=e,_=d;var v=Object.freeze({__proto__:null,copy:n,identity:a,set:s,transpose:r,invert:u,adjoint:o,determinant:c,multiply:e,rotate:i,scale:f,fromRotation:h,fromScaling:M,str:l,frob:b,LDU:m,add:p,subtract:d,exactEquals:x,equals:w,multiplyScalar:y,multiplyScalarAndAdd:j,mul:q,sub:_});export{m as L,u as a,o as b,n as c,c as d,e,h as f,f as g,M as h,a as i,l as j,b as k,p as l,v as m,d as n,x as o,w as p,y as q,i as r,s,r as t,j as u,q as v,_ as w};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nfunction e(){return[1,0,0,1]}function r(e){return[e[0],e[1],e[2],e[3]]}function n(e,r,n,t){return[e,r,n,t]}function t(e,r){return new Float64Array(e,r,4)}var a=Object.freeze({__proto__:null,create:e,clone:r,fromValues:n,createView:t});export{r as a,t as b,e as c,n as f,a as m};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{isNone as t}from\"../../../../../core/maybe.js\";import{cyclical2PI as n}from\"../../../support/mathUtils.js\";import{empty as e,expandPointInPlace as r,area as o,create as s}from\"../../../../../geometry/support/aaBoundingRect.js\";import{a}from\"../../../../../chunks/vec2f64.js\";import{o as c}from\"../../../../../chunks/vec2.js\";import{convexHull as i}from\"../../../../../geometry/geometryEngine.js\";import{f as m}from\"../../../../../chunks/mat2.js\";import{c as f}from\"../../../../../chunks/mat2f64.js\";import{dragGraphic as p,resetGraphic as l}from\"../../../../interactive/dragEventPipeline.js\";function u(t,n,e){const r=t.graphic,o=(t,e)=>n({action:t,graphic:r,dxScreen:e.screenDeltaX,dyScreen:e.screenDeltaY});return e(((t,n,e)=>{n.next((t=>(\"start\"===t.action&&o(\"start\",t),t))).next(p(r)).next((t=>{switch(t.action){case\"start\":case\"update\":(t.translationX||t.translationY||t.translationZ)&&o(\"update\",t);break;case\"end\":o(\"end\",t)}return t})),e.next(l(r)).next((()=>{o(\"end\",{screenDeltaX:0,screenDeltaY:0})}))}))}function h(s){if(t(s)||\"polyline\"!==s.type&&\"polygon\"!==s.type)return 0;const a=i(s),f=a&&a.rings&&a.rings[0];if(!f)return 0;!function(t){let n=0,e=0;for(const r of t)n+=r[0],e+=r[1];n/=t.length,e/=t.length;for(const r of t)r[0]-=n,r[1]-=e}(f);const p=[];for(let t=0;t<f.length-1;t++){const e=Math.atan2(f[t+1][1]-f[t][1],f[t+1][0]-f[t][0]),r=n.normalize(e)%(Math.PI/2);p.push(r)}const l=p.sort(((t,n)=>t-n));let u=null,h=0,y=Number.POSITIVE_INFINITY,x=0;for(const t of l){if(t===u)continue;u=t,m(g,t),e(d);for(const t of f)c(j,t,g),r(d,j);const n=o(d);((n>y?y/n:n/y)>=.99&&t<h||n<y)&&(h=t,y=n),x=Math.max(x,n)}return y/x>=.95?0:h}const g=f(),d=s(),j=a();export{u as createGraphicMoveDragPipeline,h as primaryShapeOrientation};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{Manipulator3D as a}from\"../../Manipulator3D.js\";class t{constructor(){this._available=!0}set location(a){this.forEachManipulator3D((t=>t.location=a))}set elevationAlignedLocation(a){this.forEachManipulator3D((t=>t.elevationAlignedLocation=a))}set elevationInfo(a){this.forEachManipulator3D((t=>t.elevationInfo=a))}get available(){return this._available}set available(a){this._available=a,this.forEachManipulator3D((t=>t.available=a))}get grabbing(){return this.someManipulator((a=>a.grabbing))}get dragging(){return this.someManipulator((a=>a.dragging))}hasManipulator(a){return this.someManipulator((t=>t===a))}someManipulator(a){let t=!1;return this.forEachManipulator((i=>{!t&&a(i)&&(t=!0)})),t}forEachManipulator3D(t){this.forEachManipulator(((i,o)=>{i instanceof a&&t(i,o)}))}}export{t as Manipulation};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{unwrap as t}from\"../../../../../core/maybe.js\";import{handlesGroup as a}from\"../../../../../core/handleUtils.js\";import r from\"../../../../../core/Evented.js\";import e from\"../../../../../Color.js\";import{f as i}from\"../../../../../chunks/vec3f64.js\";import{s as o}from\"../../../../../chunks/vec3.js\";import s from\"../../../../../core/Handles.js\";import{w as n,i as l,x as p,m as u,r as h,p as m}from\"../../../../../chunks/mat4.js\";import{a as c}from\"../../../../../chunks/mat4f64.js\";import{getGraphicEffectiveElevationInfo as d}from\"../../../../../support/elevationInfoUtils.js\";import{sv3d as f,sm4d as _}from\"../../../support/stack.js\";import g from\"../../../webgl-engine/lib/GeometryUtil.js\";import M from\"../../../webgl-engine/lib/Geometry.js\";import{ColorMaterial as w}from\"../../../webgl-engine/materials/ColorMaterial.js\";import{createManipulatorDragEventPipeline as v,dragAtLocation as j,constrainToMapAxis as y,addScreenDelta as A}from\"../../../../interactive/dragEventPipeline.js\";import{screenToMapXYAtLocation as I}from\"../dragEventPipeline3D.js\";import{Manipulator3D as b}from\"../../Manipulator3D.js\";import{colors as x}from\"../settings.js\";import{DISC_RADIUS as T,DISC_HEIGHT as D,DISC_TRANSLATE_ARROW_OFFSET as P,DISC_TRANSLATE_ARROW_SIZE as k}from\"./config.js\";import{Manipulation as E}from\"./Manipulation.js\";import{createGraphicMoveDragPipeline as S}from\"./moveUtils.js\";class U extends E{constructor(t){super(),this._handles=new s,this._arrowManipulatorInfos=new Array,this._opaqueMaterial=this.createMaterial(),this._transparentMaterial=this.createMaterial(.5),this._angle=0,this._scale=1,this._radius=T,this._updateAfterDrag=!1,this.events=new r,this._tool=t.tool,this._view=t.view,null!=t.radius&&(this._radius=t.radius),this._createManipulators(),this.forEachManipulator((t=>this._tool.manipulators.add(t)))}set orthogonalAvailable(t){this._arrowManipulatorInfos[1].manipulator.available=t,this._arrowManipulatorInfos[3].manipulator.available=t}destroy(){this.forEachManipulator((t=>{this._tool.manipulators.remove(t),t.destroy()})),this._handles.removeAll(),this._tool=null,this._view=null,this._arrowManipulatorInfos.length=0}forEachManipulator(t){this._arrowManipulatorInfos.map((({manipulator:a})=>t(a,1)))}createGraphicDragPipeline(a,r){const e=a.graphic,i=d(e),o=t(e.geometry).spatialReference;return S(a,r,(t=>this.createDragPipeline(t,i,o)))}createDragPipeline(t,r,e){return a(this._arrowManipulatorInfos.map((({manipulator:a},i)=>v(a,((a,o,s,n,l)=>{const p=o.next((t=>({...t,manipulatorType:1}))).next(j(this._view,a.elevationAlignedLocation)).next(I(this._view,a.elevationAlignedLocation,r,e)).next(y(a.location,this.angle+(i+1)*Math.PI*.5)).next(A());t(a,p,s,n,l)})))))}get angle(){return this._angle}set angle(t){this._angle=t,this.dragging?this._updateAfterDrag=!0:this._updateManipulatorTransform()}get displayScale(){return this._scale}set displayScale(t){this._scale=t,this._updateManipulatorTransform()}get radius(){return this._radius}set radius(t){this._radius!==t&&(this._radius=t,this._updateManipulators())}_updateManipulators(){for(let t=0;t<this._arrowManipulatorInfos.length;t++)this._updateArrowManipulator(this._arrowManipulatorInfos[t],t);this._updateManipulatorTransform()}_updateArrowManipulator({manipulator:t,transform:a},r){const e=this._radius/T,i=k*e,s=Math.sqrt(i*i*3/4),h=g.createExtrudedTriangle(s,i/2,i/2,D);g.transformInPlace(h,n(_.get(),o(f.get(),0,-s/3,0)));const m=new M(h,\"move-xy-axis-arrow\");t.renderObjects=[{geometry:m,material:this._opaqueMaterial,stateMask:2},{geometry:m,material:this._transparentMaterial,stateMask:1}],t.radius=s/3*2*1.2;const c=l(_.get());p(c,r*Math.PI/2);const d=l(_.get());n(d,o(f.get(),0,P*e,0)),u(a,c,d)}_createManipulators(){for(let t=0;t<4;t++){const a=this._createArrowManipulator(t);this._arrowManipulatorInfos.push(a)}this._updateManipulatorTransform()}_updateManipulatorTransform(){const t=this.angle,a=l(_.get());h(a,a,t,i(0,0,1));const r=m(_.get(),o(f.get(),this.displayScale,this.displayScale,this.displayScale)),e=l(_.get());u(e,r,a);for(const t of this._arrowManipulatorInfos){const a=u(_.get(),e,t.transform);t.manipulator.modelTransform=a}}_createArrowManipulator(t){const a=new b({view:this._view,autoScaleRenderObjects:!1,worldOriented:!0,focusMultiplier:1,touchMultiplier:1,collisionType:{type:\"disc\",direction:i(0,0,1)}}),r={manipulator:a,transform:c()};return this._updateArrowManipulator(r,t),this._handles.add(a.events.on(\"drag\",(t=>{this._updateAfterDrag&&\"end\"===t.action&&!this.dragging&&(this._updateManipulatorTransform(),this._updateAfterDrag=!1)}))),r}createMaterial(t=1){const a=e.toUnitRGBA(x.main);return a[3]*=t,new w({color:a,transparent:1!==t,cullFace:2,renderOccluded:2},\"graphic-transform\")}get test(){return{arrowManipulators:this._arrowManipulatorInfos.map((({manipulator:t})=>t))}}}export{U as MoveXYAxisManipulation};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{isSome as t}from\"../../../../../core/maybe.js\";import{getZForElevationMode as e}from\"../../../../../support/elevationInfoUtils.js\";import{EventPipeline as n}from\"../../../../interactive/dragEventPipeline.js\";class a{constructor(){this.view=null,this.elevationInfo=null,this.lastDragEvent=null,this.next=new n,this._enabled=!1}get enabled(){return this._enabled}set enabled(e){if(this._enabled!==e&&t(this.lastDragEvent)){const n=this.lastDragEvent.mapEnd,a=this.snap(this.lastDragEvent.screenEnd);if(t(a)){const t={action:\"update\",mapStart:this.lastDragEvent.mapStart,mapEnd:!0===e?a:n,screenStart:this.lastDragEvent.screenEnd,screenEnd:this.lastDragEvent.screenEnd};this.next.execute(t)}}this._enabled=e}snap(n){const a=t(this.view)?this.view.toMap(n,{exclude:[]}):null;return t(a)&&t(this.view)&&(a.z=e(a,this.view,this.elevationInfo)),a}createDragEventPipelineStep(e,n){return this.view=e,this.elevationInfo=n,this.lastDragEvent=null,e=>{if(this.lastDragEvent=\"end\"!==e.action?{...e}:null,this._enabled){const n=this.snap(e.screenEnd);return t(n)?{action:e.action,mapStart:e.mapStart,mapEnd:n,screenStart:e.screenStart,screenEnd:e.screenEnd}:null}return{action:e.action,mapStart:e.mapStart,mapEnd:e.mapEnd,screenStart:e.screenStart,screenEnd:e.screenEnd}}}}export{a as SnapToScene};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{unwrap as t}from\"../../../../../core/maybe.js\";import e from\"../../../../../Color.js\";import{f as i}from\"../../../../../chunks/vec3f64.js\";import{s as a}from\"../../../../../chunks/vec3.js\";import r from\"../../../../../core/Handles.js\";import{p as s}from\"../../../../../chunks/mat4.js\";import{a as o}from\"../../../../../chunks/mat4f64.js\";import{getGraphicEffectiveElevationInfo as n}from\"../../../../../support/elevationInfoUtils.js\";import{sv3d as l,sm4d as p}from\"../../../support/stack.js\";import c from\"../../../webgl-engine/lib/GeometryUtil.js\";import m from\"../../../webgl-engine/lib/Geometry.js\";import{ColorMaterial as u}from\"../../../webgl-engine/materials/ColorMaterial.js\";import{createManipulatorDragEventPipeline as h,dragAtLocation as d,addScreenDelta as _}from\"../../../../interactive/dragEventPipeline.js\";import{screenToMapXYAtLocation as f}from\"../dragEventPipeline3D.js\";import{Manipulator3D as g}from\"../../Manipulator3D.js\";import{colors as M}from\"../settings.js\";import{DISC_RADIUS as j,DISC_HEIGHT as y,GEOMETRY_SEGMENTS as S,DISC_COLLISION_RADIUS as v}from\"./config.js\";import{Manipulation as T}from\"./Manipulation.js\";import{createGraphicMoveDragPipeline as w}from\"./moveUtils.js\";import{SnapToScene as b}from\"../snapping/SnapToScene.js\";class x extends T{constructor(t){super(),this._handles=new r,this._snapToScene=new b,this._discMaterial=this._createMaterial(),this._discMaterialTransparent=this._createMaterial(.5),this._scale=1,this._radius=j,this._view=t.view,this._tool=t.tool,null!=t.snapToScene&&(this.snapToScene=t.snapToScene),null!=t.radius&&(this._radius=t.radius),this._createManipulator(),this.forEachManipulator((t=>this._tool.manipulators.add(t)))}destroy(){this._handles.destroy(),this.forEachManipulator((t=>{this._tool.manipulators.remove(t),t.destroy()})),this._tool=null,this._view=null,this._manipulator=null}forEachManipulator(t){t(this._manipulator,1)}get displayScale(){return this._scale}set displayScale(t){this._scale=t,this._updateManipulatorTransform()}get snapToScene(){return this._snapToScene.enabled}set snapToScene(t){this._snapToScene.enabled=t}get radius(){return this._radius}set radius(t){t!==this._radius&&(this._radius=t,this._updateManipulator())}createGraphicDragPipeline(e,i){const a=e.graphic,r=n(a),s=t(a.geometry).spatialReference;return w(e,i,(t=>this.createDragPipeline(t,r,s)))}createDragPipeline(t,e,i){const a=this._view;return h(this._manipulator,((r,s,o,n,l)=>{const p=s.next(d(a,r.elevationAlignedLocation)).next(f(a,r.elevationAlignedLocation,e,i)).next(this._snapToScene.createDragEventPipelineStep(a,e),this._snapToScene.next).next((t=>({...t,manipulatorType:1}))).next(_());t(r,p,o,n,l)}))}_updateManipulatorTransform(){const t=s(p.get(),a(l.get(),this.displayScale,this.displayScale,this.displayScale));this._manipulator.modelTransform=t}_createManipulator(){const t=this._view;this._manipulator=new g({view:t,worldSized:!1,autoScaleRenderObjects:!1,focusMultiplier:1,touchMultiplier:1,collisionType:{type:\"disc\",direction:i(0,0,1)},worldOriented:!0}),this._updateManipulator()}_updateManipulator(){const t=new m(c.createCylinderGeometry(y,1,S,i(0,0,1),i(0,0,0)),\"graphic-transform-disc\"),e=s(o(),i(this._radius,this._radius,this._radius));this._manipulator.renderObjects=[{geometry:t,material:this._discMaterial,transform:e,stateMask:2},{geometry:t,material:this._discMaterialTransparent,transform:e,stateMask:1}],this._manipulator.radius=v*(this._radius/j)}_createMaterial(t=1){const i=e.toUnitRGBA(M.main);return i[3]*=t,new u({color:i,transparent:1!==t,cullFace:2,renderOccluded:2},\"move-xy-disc\")}get test(){return{discManipulator:this._manipulator}}}export{x as MoveXYDiscManipulation};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{unwrap as t}from\"../../../../../core/maybe.js\";import e from\"../../../../../core/Evented.js\";import{clamp as r}from\"../../../../../core/mathUtils.js\";import{c as a,f as i}from\"../../../../../chunks/vec3f64.js\";import{w as o,f as s,n,d as l,c as m,a as p}from\"../../../../../chunks/vec3.js\";import c from\"../../../../../core/Handles.js\";import{t as u,e as h,s as d}from\"../../../../../chunks/mat4.js\";import{darken as f}from\"../../../../../core/colorUtils.js\";import{a as M}from\"../../../../../chunks/mat4f64.js\";import g from\"../../../webgl-engine/lib/GeometryUtil.js\";import _ from\"../../../webgl-engine/lib/Geometry.js\";import{createManipulatorDragEventPipeline as y,addScreenDelta as j}from\"../../../../interactive/dragEventPipeline.js\";import{screenToZConstrained as v}from\"../dragEventPipeline3D.js\";import{Manipulator3D as w}from\"../../Manipulator3D.js\";import{createManipulatorMaterial as z}from\"../../manipulatorUtils.js\";import{settings as b}from\"../settings.js\";import{DISC_RADIUS as k}from\"./config.js\";import{Manipulation as P}from\"./Manipulation.js\";import{createGraphicMoveDragPipeline as x}from\"./moveUtils.js\";class D extends P{constructor(t){super(),this._handles=new c,this._radius=k,this.events=new e,this._tool=t.tool,this._view=t.view,null!=t.radius&&(this._radius=t.radius),this.createManipulator(),this.forEachManipulator((t=>this._tool.manipulators.add(t)))}destroy(){this._handles.destroy(),this.forEachManipulator((t=>{this._tool.manipulators.remove(t),t.destroy()}))}forEachManipulator(t){t(this._manipulator,0)}createGraphicDragPipeline(e,r){const a=t(e.graphic.geometry).spatialReference;return x(e,r,(t=>this.createDragPipeline(t,a)))}createDragPipeline(t,e){const r=this._view;return y(this._manipulator,((a,i,o,s,n)=>{const l=i.next((t=>({...t,manipulatorType:0}))).next(v(r,a.renderLocation,e)).next(j());t(a,l,o,s,n)}))}get radius(){return this._radius}set radius(t){t!==this._radius&&(this._radius=t,this.updateManipulator())}updateManipulator(){const t=this._radius/k,e=b.zManipulator.height*t,r=b.zManipulator.coneHeight*t,a=b.zManipulator.coneWidth*t,o=b.zManipulator.width*t,s=[i(0,0,0),i(0,0,e)],n=new _(g.createTubeGeometry(s,o/2,16,!1),\"move-z\"),l=g.createConeGeometry(r,a/2,16,!1),m=new _(l),p=[i(0,0,0),i(0,0,e+r)],c=(t=>{const r=M();if(u(r,r,[0,0,e]),h(r,r,Math.PI/2),t){const e=1+2*t/a;d(r,r,[e,e,e])}return r})(0),y=(t,e)=>{const r=f(b.zManipulator.color,e);return[r.r/255,r.g/255,r.b/255,b.zManipulator.color.a*t]},j=z(y(1,.25),1),v=z(y(1,0),1),w=z(y(.7,0),b.zManipulator.renderOccluded),P=z(y(.85,0),b.zManipulator.renderOccluded);this._manipulator.renderObjects=[{geometry:m,transform:c,material:j,stateMask:1},{geometry:n,material:j,stateMask:1},{geometry:m,transform:c,material:v,stateMask:2},{geometry:n,material:v,stateMask:2},{geometry:m,transform:c,material:w,stateMask:1},{geometry:n,material:w,stateMask:1},{geometry:m,transform:c,material:P,stateMask:2},{geometry:n,material:P,stateMask:2}],this._manipulator.radius=o/2+2,this._manipulator.collisionType={type:\"line\",paths:[p]}}createManipulator(){const t=new w({view:this._view,autoScaleRenderObjects:!1,worldSized:!1,selectable:!1,cursor:\"ns-resize\",elevationInfo:this.elevationInfo,worldOriented:!0,collisionPriority:1.6});t.applyObjectTransform=t=>{const e=this._view.state.camera,a=E;this._view.renderCoordsHelper.toRenderCoords(this._manipulator.elevationAlignedLocation,a);const i=o(e.eye,a),c=e.computeRenderPixelSizeAtDist(i),u=s(O,a,e.eye);n(u,u);const h=U;this._view.renderCoordsHelper.worldUpAtPosition(E,h);const d=Math.abs(l(u,h)),f=m(O,u,h),M=m(O,f,h),g=r(d,.01,1),_=1-Math.sqrt(1-g*g)/g/e.fullWidth,y=this._radius/k,j=b.zManipulator.width*y;p(M,n(M,M),(1/_-1)*i+c*j),t[12]-=O[0],t[13]-=O[1],t[14]-=O[2]},this._manipulator=t,this.updateManipulator()}}const E=a(),O=a(),U=a();export{D as MoveZManipulation};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport i from\"../../../../../core/has.js\";import{isSome as a}from\"../../../../../core/maybe.js\";import{handlesGroup as t}from\"../../../../../core/handleUtils.js\";import e from\"../../../../../core/Handles.js\";import{DISC_RADIUS_SMALL as n,DISC_RADIUS as s}from\"./config.js\";import{Manipulation as o}from\"./Manipulation.js\";import{MoveXYAxisManipulation as r}from\"./MoveXYAxisManipulation.js\";import{MoveXYDiscManipulation as l}from\"./MoveXYDiscManipulation.js\";import{MoveZManipulation as p}from\"./MoveZManipulation.js\";class h extends o{constructor(i){super(),this._handles=new e,this._angleDeferred=null,this._interactive=!0;const{tool:a,view:t,snapToScene:n,radius:s}=i;this._view=t,this.xyManipulation=new l({tool:a,view:t,snapToScene:n,radius:s}),this.xyAxisManipulation=new r({tool:a,view:t,radius:s}),this.zManipulation=new p({tool:a,view:t,radius:s}),this.xyManipulation.available=i.xyAvailable,this.xyAxisManipulation.available=i.xyAxisAvailable,this.zManipulation.available=i.zAvailable,this.autoHideXYAxis(),this.forEachManipulator((i=>{this._handles.add(i.events.on(\"grab-changed\",(()=>this.updateManipulatorInteractivity())))}))}destroy(){this._handles.destroy(),this.xyManipulation.destroy(),this.xyAxisManipulation.destroy(),this.zManipulation.destroy()}createGraphicDragPipeline(i,a){return t([this.xyManipulation.createGraphicDragPipeline(i,a),this.xyAxisManipulation.createGraphicDragPipeline(i,a),this.zManipulation.createGraphicDragPipeline(i,a)])}createDragPipeline(i,a,e){return t([this.xyManipulation.createDragPipeline(i,a,e),this.xyAxisManipulation.createDragPipeline(i,a,e),this.zManipulation.createDragPipeline(i,e)])}set snapToScene(i){this.xyManipulation.snapToScene=i}set angle(i){this._angleDeferred=null,this.xyAxisManipulation.angle=i}set angleDeferred(i){this.xyAxisVisible?this.angle=i():this._angleDeferred=i}set interactive(i){this._interactive!==i&&(this._interactive=i,this.updateManipulatorInteractivity())}set radius(i){this.xyAxisManipulation.radius=i,this.xyManipulation.radius=i,this.zManipulation.radius=i}set displayScale(i){this.xyManipulation.displayScale=i,this.xyAxisManipulation.displayScale=i}forEachManipulator(i){this.xyManipulation.forEachManipulator((a=>i(a,1))),this.xyAxisManipulation.forEachManipulator((a=>i(a,1))),this.zManipulation.forEachManipulator((a=>i(a,0)))}get xyAxisVisible(){const i=this.xyManipulation.someManipulator((i=>i.focused))||this.xyAxisManipulation.someManipulator((i=>i.focused));return this._view.inputManager&&\"touch\"===this._view.inputManager.latestPointerType||i}autoHideXYAxis(){const t=this.xyAxisManipulation,e=this.xyManipulation;if(i(\"esri-mobile\"))return;const n=[];e.forEachManipulator((i=>n.push(i))),t.forEachManipulator((i=>n.push(i)));const s=()=>{const i=[];this.xyAxisVisible?a(this._angleDeferred)&&(this.angle=this._angleDeferred()):t.forEachManipulator((a=>i.push(a.disableDisplay()))),this._handles.remove(u),this._handles.add(i,u)};for(const i of n)this._handles.add(i.events.on(\"focus-changed\",s));this._view.inputManager&&this._handles.add(this._view.inputManager.watch(\"latestPointerType\",s)),s()}updateManipulatorInteractivity(){const i=this.grabbing;this.forEachManipulator((a=>{a.interactive=!i&&this._interactive||a.grabbing}))}static radiusForSymbol(i){const t=a(i)&&\"point-3d\"===i.type&&i.symbolLayers;return!!t&&t.length>0&&t.some((i=>\"icon\"===i.type))?n:s}}const u=\"disable-xy-axis-display\";export{h as MoveManipulation};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{isSome as t}from\"../../../../../core/maybe.js\";import i from\"../../../../../core/Handles.js\";import{createManipulatorDragEventPipeline as e,addMapDelta as r,addScreenDelta as a}from\"../../../../interactive/dragEventPipeline.js\";import{GraphicManipulator as o}from\"../../../../interactive/GraphicManipulator.js\";import{screenToMapXYForGraphic as s}from\"../dragEventPipeline3D.js\";import{Manipulation as n}from\"./Manipulation.js\";import{createGraphicMoveDragPipeline as l}from\"./moveUtils.js\";class h extends n{constructor(t){super(),this._handles=new i,this._view=t.view,this._tool=t.tool,this._graphicState=t.graphicState,this._createManipulator(),this.forEachManipulator((t=>this._tool.manipulators.add(t)))}destroy(){this._handles.destroy(),this.forEachManipulator((t=>{this._tool.manipulators.remove(t),t.destroy()})),this._tool=null,this._view=null,this._manipulator=null,this._graphicState=null}forEachManipulator(t){t(this._manipulator,1)}createGraphicDragPipeline(t){return l(this._graphicState,t,(t=>this.createDragPipeline(t)))}createDragPipeline(i){const o=this._view,n=this._graphicState.graphic,l=t(n.geometry)?n.geometry.spatialReference:null;return e(this._manipulator,((t,e,h,p,c)=>{const m=e.next(s(c,o,n,l)).next(r()).next(a());i(t,m,h,p,c)}))}_createManipulator(){const t=this._view,i=this._graphicState.graphic;this._manipulator=new o({graphic:i,view:t,selectable:!0,cursor:\"move\"})}}export{h as MoveXYGraphicManipulation};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../../chunks/tslib.es6.js\";import\"../../../../../core/has.js\";import{unwrap as e,isSome as i}from\"../../../../../core/maybe.js\";import\"../../../../../core/Logger.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import{makeHandle as a}from\"../../../../../core/handleUtils.js\";import{property as o}from\"../../../../../core/accessorSupport/decorators/property.js\";import{subclass as s}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import\"../../../../../core/urlUtils.js\";import\"../../../../../core/uuid.js\";import\"../../../../../portal/support/resourceExtension.js\";import n from\"../../../../../core/Evented.js\";import r from\"../../../../../core/Collection.js\";import l from\"../../../../../core/Handles.js\";import{getGraphicEffectiveElevationInfo as p}from\"../../../../../support/elevationInfoUtils.js\";import{makeDehydratedPoint as h}from\"../../../../../layers/graphics/dehydratedFeatures.js\";import{dragGraphicMany as c,resetGraphicMany as m}from\"../../../../interactive/dragEventPipeline.js\";import{InteractiveToolBase as u}from\"../../../../interactive/InteractiveToolBase.js\";import{getGraphicAttachmentOrigin as d}from\"../../manipulatorUtils.js\";import{isSupportedGraphic as g}from\"./isSupportedGraphic.js\";import{canMoveZ as v}from\"../manipulatorUtils.js\";import{OutlineVisualElement as f}from\"../../visualElements/OutlineVisualElement.js\";import{GraphicState as M}from\"../../../layers/graphics/GraphicState.js\";import{createVisualElements as y}from\"../visualElementUtils.js\";import{DISC_RADIUS as _}from\"../manipulations/config.js\";import{primaryShapeOrientation as j}from\"../manipulations/moveUtils.js\";import{MoveManipulation as w}from\"../manipulations/MoveManipulation.js\";import{MoveXYGraphicManipulation as b}from\"../manipulations/MoveXYGraphicManipulation.js\";class x{constructor(t){this.allGraphics=t,this.type=\"graphic-move-start\"}}class E{constructor(t,e,i){this.dx=t,this.dy=e,this.allGraphics=i,this.type=\"graphic-move\"}}class A{constructor(t){this.allGraphics=t,this.type=\"graphic-move-stop\"}}let S=class extends(n.EventedMixin(u)){constructor(t){super(t),this.graphics=new r,this.enableZ=!0,this.type=\"move-3d\",this._toolHandles=new l,this._handles=new l}initialize(){this._toolHandles.add([this.graphics.on(\"change\",(()=>this._refreshManipulators()))]),this._refreshManipulators()}destroy(){this._handles.destroy(),this._handles=null,this._toolHandles.destroy(),this._toolHandles=null,this.graphics.removeAll(),this._set(\"view\",null)}reset(){}_refreshManipulators(){this._handles.removeAll(),this._moveManipulation&&this._moveManipulation.destroy(),this.manipulators.removeAll();const t=this.graphics.toArray().filter((t=>0===g(t))).map((t=>new D(t)));t.length&&(this.createManipulators(t),this.createVisualElements(t),this._handles.add(t.map((t=>this.view.trackGraphicState(t.state)))),this.updateMoveManipulation(t))}createManipulators(t){for(const e of t){const i=e.state;e.manipulationXY=new b({tool:this,view:this.view,graphicState:i}),e.manipulationXY.forEachManipulator((t=>this._handles.add(t.events.on(\"immediate-click\",(t=>{this.emit(\"immediate-click\",{...t,graphic:i.graphic}),t.stopPropagation()}))))),this._handles.add(e.manipulationXY.createDragPipeline(((e,i,a)=>this.buildDragEventPipeline(e,i,a,t))))}this.createMoveManipulation(t)}createMoveManipulation(t){const i=new w({tool:this,view:this.view,snapToScene:!1,xyAvailable:!0,xyAxisAvailable:!0,zAvailable:!0,radius:1===t.length?w.radiusForSymbol(t[0].graphic.symbol):_});this._moveManipulation=i,i.elevationInfo={mode:\"absolute-height\",offset:0},i.forEachManipulator((t=>{this._handles.add(t.events.on(\"immediate-click\",(e=>{i.zManipulation.hasManipulator(t)||1!==this.graphics.length||this.emit(\"immediate-click\",{...e,graphic:this.graphics.getItemAt(0)}),e.stopPropagation()})))}));const a=()=>this.updateMoveManipulation(t);for(const e of t)this._handles.add([e.state.on(\"changed\",a),e.state.watch(\"displaying\",a)]);const o=t[t.length-1];this._handles.add(o.state.on(\"changed\",(()=>this.updateMoveManipulationAngle(o)))),this._handles.add(i.createDragPipeline(((e,i,a)=>{this.buildDragEventPipeline(e,i,a,t)}),p(o.graphic),e(o.graphic.geometry).spatialReference)),this.updateMoveManipulationAngle(o)}createVisualElements(t){for(const e of t){const i=e.graphic,o=y({view:this.view,graphic:i,forEachManipulator:t=>{e.manipulationXY.forEachManipulator(t),this._moveManipulation.forEachManipulator(t)},onManipulatorsChanged:()=>a()});e.geometryRepresentation=o.visualElement,e.geometryRepresentation instanceof f&&this._handles.add([e.geometryRepresentation.events.on(\"attachment-origin-changed\",(()=>{e.state.isDraped||this.updateMoveManipulation(t)})),e.state.watch(\"isDraped\",(()=>this.updateMoveManipulation(t)))]),this._handles.add(o)}}updateMoveManipulationAngle(t){this._moveManipulation.angleDeferred=()=>j(t.graphic.geometry)}updateMoveManipulation(t){const e=h(0,0,0,this.view.spatialReference);let a=0,o=!1;const s=this._moveManipulation;for(const s of t){if(!s.state.displaying)continue;const t=s.state.graphic;this.enableZ&&v(t)&&(o=!0);const n=s.geometryRepresentation instanceof f&&!s.state.isDraped?s.geometryRepresentation.attachmentOrigin:d(this.view,t);i(n)&&(e.x+=n.x,e.y+=n.y,e.z+=n.z,a++)}a>0?(e.x/=a,e.y/=a,e.z/=a,s.location=e,s.xyManipulation.available=!0,s.xyAxisManipulation.available=!0,s.zManipulation.available=o):s.available=!1}buildDragEventPipeline(t,e,i,a){const o=[],s=[];let n=null,r=null;const l=()=>{for(const t of o)t.dragging=!1;o.length=0,s.length=0,n=null,r=null,this._moveManipulation.interactive=!0};e.next((e=>{if(\"start\"===e.action){o.length=0,s.length=0;for(const e of a)e.dragging||!e.manipulationXY.hasManipulator(t)&&e.manipulationXY.grabbing||(o.push(e),s.push(e.graphic),e.dragging=!0);if(0!==s.length&&(this._moveManipulation.interactive=!1,n=c(s),r=m(s),this.emit(\"graphic-move-start\",new x(s)),this.destroyed))return null}return 0!==s.length?e:null})).next((t=>n(t))).next((t=>{switch(t.action){case\"start\":case\"update\":if(t.translationX||t.translationY||t.translationZ){const e=this.view.toScreen(t.mapStart),i=this.view.toScreen(t.mapEnd),a=i.x-e.x,o=i.y-e.y;if(this.emit(\"graphic-move\",new E(a,o,s)),this.destroyed)return null}break;case\"end\":if(this.emit(\"graphic-move-stop\",new A(s)),this.destroyed)return null;l()}})),i.next((t=>r(t))).next((()=>{if(this.emit(\"graphic-move-stop\",new A(s)),this.destroyed)return null;l()}))}};t([o({constructOnly:!0,nonNullable:!0})],S.prototype,\"view\",void 0),t([o({readOnly:!0})],S.prototype,\"graphics\",void 0),t([o({constructOnly:!0,nonNullable:!0})],S.prototype,\"enableZ\",void 0),t([o({readOnly:!0})],S.prototype,\"type\",void 0),S=t([s(\"esri.views.3d.interactive.editingTools.graphicMove3D.GraphicMoveTool\")],S);class D{constructor(t){this.state=null,this.geometryRepresentation=null,this.manipulationXY=null,this.dragging=!1,this.state=new M({graphic:t})}get graphic(){return this.state.graphic}}export{E as GraphicMoveEvent,x as GraphicMoveStartEvent,A as GraphicMoveStopEvent,S as GraphicMoveTool};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import\"../../../../../core/has.js\";import{isSome as t,destroyMaybe as i,isNone as a,unwrap as o}from\"../../../../../core/maybe.js\";import\"../../../../../core/Logger.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import{handlesGroup as n}from\"../../../../../core/handleUtils.js\";import{property as r}from\"../../../../../core/accessorSupport/decorators/property.js\";import{subclass as s}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import\"../../../../../core/urlUtils.js\";import\"../../../../../core/uuid.js\";import\"../../../../../portal/support/resourceExtension.js\";import l from\"../../../../../core/Evented.js\";import{s as p,b as h,a as u}from\"../../../../../chunks/vec3.js\";import c from\"../../../../../core/Handles.js\";import{init as d}from\"../../../../../core/watchUtils.js\";import{getGraphicEffectiveElevationInfo as m}from\"../../../../../support/elevationInfoUtils.js\";import{makeDehydratedPoint as g}from\"../../../../../layers/graphics/dehydratedFeatures.js\";import{sv3d as _}from\"../../../support/stack.js\";import v from\"../../../webgl-engine/lib/GeometryUtil.js\";import M from\"../../../webgl-engine/lib/Geometry.js\";import{EditGeometry as y}from\"../editGeometry/EditGeometry.js\";import{EditGeometryHelper as f}from\"../editGeometry/EditGeometryHelper.js\";import{addMapDelta as x,createManipulatorDragEventPipeline as b,dragAtLocation as S}from\"../../../../interactive/dragEventPipeline.js\";import{SnappingContext as E}from\"../../../../interactive/snapping/SnappingAlgorithm.js\";import{SnappingEngine as G}from\"../../../../interactive/snapping/SnappingEngine.js\";import{screenToMapXYForGraphicAtLocation as w}from\"../dragEventPipeline3D.js\";import{Manipulator3D as H}from\"../../Manipulator3D.js\";import{createManipulatorMaterial as I,createManipulatorOutlineMaterial as O,placeAtGraphic as P}from\"../../manipulatorUtils.js\";import{canMoveZ as V}from\"../manipulatorUtils.js\";import{settings as D}from\"../settings.js\";import{OutlineVisualElement as j}from\"../../visualElements/OutlineVisualElement.js\";import{GraphicState as k}from\"../../../layers/graphics/GraphicState.js\";import{createVisualElements as A}from\"../visualElementUtils.js\";import{DISC_RADIUS_SMALL as U}from\"../manipulations/config.js\";import{primaryShapeOrientation as L}from\"../manipulations/moveUtils.js\";import{MoveManipulation as T}from\"../manipulations/MoveManipulation.js\";import{MoveXYGraphicManipulation as z}from\"../manipulations/MoveXYGraphicManipulation.js\";let C=class extends l.EventedAccessor{constructor(e){super(e),this._vertexManipulatorMaterial=I(D.colorToVec4(D.reshapeManipulators.vertex.color),D.reshapeManipulators.vertex.renderOccluded),this._vertexManipulatorOutlineMaterial=O(D.colorToVec4(D.reshapeManipulators.vertex.outlineColor),D.reshapeManipulators.vertex.renderOccluded),this._vertexManipulatorHoverOutlineMaterial=O(D.colorToVec4(D.reshapeManipulators.vertex.hoverOutlineColor),D.reshapeManipulators.vertex.renderOccluded),this._edgeManipulatorMaterial=I(D.colorToVec4(D.reshapeManipulators.edge.color),D.reshapeManipulators.edge.renderOccluded),this._edgeManipulatorOutlineMaterial=O(D.colorToVec4(D.reshapeManipulators.edge.outlineColor),D.reshapeManipulators.edge.renderOccluded),this._selectedManipulatorMaterial=I(D.colorToVec4(D.reshapeManipulators.selected.color),D.reshapeManipulators.selected.renderOccluded),this._selectedManipulatorOutlineMaterial=O(D.colorToVec4(D.reshapeManipulators.selected.outlineColor),D.reshapeManipulators.selected.renderOccluded),this._selectedManipulatorHoverOutlineMaterial=O(D.colorToVec4(D.reshapeManipulators.selected.hoverOutlineColor),D.reshapeManipulators.selected.renderOccluded),this._selectedIndex=0,this._vertexManipulatorGeometry=null,this._vertexManipulatorOutlineGeometry=null,this._edgeManipulatorGeometry=null,this._edgeManipulatorOutlineGeometry=null,this._handles=new c,this._manipulatorHandles=new c,this._manipulatorInfos=[],this._reshapeHelper=null,this._graphicMoveManipulation=null,this._moveManipulation=null,this._numGrabbing=0,this._numDragging=0,this._reshapeEventState=0,this._outlineVisualElement=null,this.tool=null,this.outputGeometry=null,this._vertexLaserLineVisualElement=null,this.snappingEngine=new G(e.tool.snappingOptions)}initialize(){const e=new k({graphic:this.graphic});this._graphicState=e,this._handles.add([e.watch(\"displaying\",(e=>{for(const t of this._manipulatorInfos)t.manipulator.available=e})),this.view.trackGraphicState(e)])}destroy(){this._clear(),this._handles.destroy(),this.snappingEngine.destroy()}get inputGeometry(){return t(this._reshapeHelper)?this._reshapeHelper.geometry:null}set inputGeometry(e){this._recreateManipulators(e)}get manipulators(){return this.tool.manipulators}get view(){return this.tool.view}get graphic(){return this.tool.graphic}get enableZ(){return this.tool.enableZ}get enableMoveGraphic(){return this.tool.enableMoveGraphic}removeSelectedVertices(){const e=this._manipulatorInfos.filter((e=>e.manipulator.selected&&\"vertex\"===e.handle.type));this._removeVertices(e)}manipulatorSelectionChanged(){this.emit(\"manipulators-changed\")}_clear(){this._moveManipulation=i(this._moveManipulation),this._graphicMoveManipulation=i(this._graphicMoveManipulation),this._manipulatorHandles.removeAll(),this.manipulators.removeAll(),this._manipulatorInfos=[],this._reshapeHelper=null,this._numGrabbing=0,this._numDragging=0}_recreateManipulators(e=this.inputGeometry){if(this._clear(),a(e))return;this._reshapeHelper=new Y(y.fromGeometry(e,this.view.viewingMode),e.type);const t=m(this.graphic);for(const e of this._reshapeHelper.data.components){for(const i of e.vertices)this._createPerVertexManipulator(i,t);for(const i of e.edges)this._createPerVertexManipulator(i,t)}this._createGraphicMoveManipulators(t)}_perGraphicManipulatorDragAction(e,t){if(\"end\"===t.action)return;const i=[],a=this._manipulatorInfos.some((e=>\"vertex\"===e.handle.type&&e.manipulator.selected)),n=1===e&&a,r=o(this._reshapeHelper);for(const e of this._manipulatorInfos)\"vertex\"===e.handle.type&&(e.manipulator.grabbing||n&&!e.manipulator.selected||(o(r).moveVertices([e.handle],t.mapDeltaX,t.mapDeltaY,t.mapDeltaZ),i.push(e.handle.pos),this._updateManipulatorPosition(e)));if(0===i.length)return;let s=0;for(const e of this._manipulatorInfos)\"vertex\"===e.handle.type&&s++;this.outputGeometry=r.geometry;if(i.length===s){if(this._updateEventState(1),this.destroyed)return;if(this.emit(\"move\",{type:\"move\",dx:t.screenDeltaX,dy:t.screenDeltaY,mover:this.graphic}),this.destroyed)return}else{if(this._updateEventState(2),this.destroyed)return;if(this.emit(\"reshape\",{type:\"reshape\",mover:this.graphic}),this.destroyed)return}}isMultiVertexSelection(){let e=0;for(const t of this._manipulatorInfos)F(t)&&t.manipulator.selected&&e++;return e>1}_perVertexManipulatorDragAction(e){if(this._updateEventState(2),this.destroyed)return;const t=e.mapDeltaX,i=e.mapDeltaY,a=e.mapDeltaZ;if(!t&&!i&&!a)return;const n=[];for(const t of this._manipulatorInfos)F(t)&&(t.manipulator.selected&&!t.manipulator.grabbing||t===e.info)&&n.push(t);const r=o(this._reshapeHelper);for(const e of n)r.moveVertices([e.handle],t,i,a);this.outputGeometry=r.geometry;for(const e of n)this._updateManipulatorPosition(e);this.emit(\"reshape\",{type:\"reshape\",mover:this.graphic})}_updateEventState(e){if(e===this._reshapeEventState)return!1;switch(e){case 0:if(0!==this._numGrabbing||0!==this._numDragging)return!1;switch(this._reshapeEventState){case 1:this.emit(\"move\",{type:\"move-stop\",dx:0,dy:0,mover:this.graphic});break;case 2:this.emit(\"reshape\",{type:\"reshape-stop\",mover:this.graphic})}break;case 1:switch(this._reshapeEventState){case 0:this.emit(\"move\",{type:\"move-start\",dx:0,dy:0,mover:this.graphic});break;case 2:this.emit(\"reshape\",{type:\"reshape-stop\",mover:this.graphic}),this.destroyed||this.emit(\"move\",{type:\"move-start\",dx:0,dy:0,mover:this.graphic})}break;case 2:switch(this._reshapeEventState){case 0:this.emit(\"reshape\",{type:\"reshape-start\",mover:this.graphic});break;case 1:this.emit(\"move\",{type:\"move-stop\",dx:0,dy:0,mover:this.graphic}),this.destroyed||this.emit(\"reshape\",{type:\"reshape-start\",mover:this.graphic})}}if(this.destroyed)return!1;const t=this._reshapeEventState!==e;return this._reshapeEventState=e,t}_createGraphicMoveManipulators(e){this._graphicMoveManipulation=new z({tool:this.tool,view:this.view,graphicState:this._graphicState}),this.enableMoveGraphic?this._manipulatorHandles.add(this._graphicMoveManipulation.createDragPipeline(((e,t,i)=>{t.next((e=>this._trackNumDragging(e))).next((e=>{this._perGraphicManipulatorDragAction(0,e)})),i.next(this._cancelDragOperation())}))):this._graphicMoveManipulation.forEachManipulator((e=>{e.grabbable=!1,e.cursor=null})),this._graphicMoveManipulation.forEachManipulator((e=>this._manipulatorHandles.add([this._watchAndUpdateGrabState(e,!1),e.events.on(\"immediate-click\",(e=>{this._manipulatorInfos.some((e=>e.manipulator.selected))?this._clearSelection():this.emit(\"immediate-click\"),e.stopPropagation()}))]))),this._moveManipulation=new T({tool:this.tool,view:this.view,xyAvailable:!0,xyAxisAvailable:!0,zAvailable:this.enableZ&&V(this.graphic),snapToScene:!1,radius:T.radiusForSymbol(this.graphic.symbol)}),this._moveManipulation.forEachManipulator((e=>{this._handles.add([this._watchAndUpdateGrabState(e,!1),e.events.on(\"immediate-click\",(t=>{this._moveManipulation.zManipulation.hasManipulator(e)||this._manipulatorInfos.some((e=>e.manipulator.selected))||this.emit(\"immediate-click\"),t.stopPropagation()}))])})),this._moveManipulation.elevationInfo={mode:\"absolute-height\",offset:0};const i=o(this.graphic.geometry).spatialReference;let a=null;this._handles.add([this._moveManipulation.createDragPipeline(((i,n,r,s)=>{n.next((e=>this._trackNumDragging(e))).next((i=>{if(\"start\"===i.action){const t=this._manipulatorInfos.filter((e=>F(e)&&e.manipulator.selected));if(1===i.manipulatorType&&1===t.length){const i=t[0].handle;a=new E(o(this._reshapeHelper),this.view,e,s,i)}}return t(a)&&(i.mapEnd=this.snappingEngine.snap(i.mapEnd,a)),\"end\"===i.action&&(this.snappingEngine.doneSnapping(),a=null),i})).next(x()).next((e=>{this._perGraphicManipulatorDragAction(1,e)})),r.next(this._cancelDragOperation())}),e,i),d(this._graphicState,\"displaying\",(()=>{this._updateMoveManipulationPosition()})),this._graphicState.on(\"changed\",(()=>this._updateMoveManipulationPosition())),d(this._graphicState,\"isDraped\",(()=>{const e=\"align-move-manipulation\";this._graphicState.isDraped?this._handles.add(this.view.elevationProvider.on(\"elevation-change\",(()=>this._updateMoveManipulationPosition())),e):this._handles.remove(e)}))]),this._updateMoveManipulationPosition();const n=A({view:this.view,graphic:this.graphic,forEachManipulator:e=>{if(!this.destroyed){t(this._graphicMoveManipulation)&&this._graphicMoveManipulation.forEachManipulator(e);for(const t of this._manipulatorInfos)e(t.manipulator,1);this._moveManipulation.forEachManipulator(e)}},onManipulatorsChanged:e=>this.on(\"manipulators-changed\",e)});this._outlineVisualElement=n.visualElement instanceof j?n.visualElement:null,t(this._outlineVisualElement)&&this._manipulatorHandles.add([this._outlineVisualElement.events.on(\"attachment-origin-changed\",(()=>{this._graphicState.isDraped||this._updateMoveManipulationPosition()})),this._graphicState.watch(\"isDraped\",(()=>this._updateMoveManipulationPosition()))]),this._manipulatorHandles.add(n)}_createPerVertexManipulator(e,t=m(this.graphic)){if(a(this._vertexManipulatorGeometry)||a(this._vertexManipulatorOutlineGeometry)){const e=D.reshapeManipulators.vertex,t=e.size/2,i=t+e.collisionPadding,a=t/i;this._vertexManipulatorGeometry=new M(v.createSphereGeometry(a,16,16),\"reshape-manipulator\");const o=(t+e.outlineSize)/i;this._vertexManipulatorOutlineGeometry=new M(v.createSphereGeometry(o,16,16),\"reshape-manipulator-outline\")}if(a(this._edgeManipulatorGeometry)||a(this._edgeManipulatorOutlineGeometry)){const e=D.reshapeManipulators.edge,t=e.size/2,i=t+e.collisionPadding,a=t/i;this._edgeManipulatorGeometry=new M(v.createSphereGeometry(a,16,16),\"reshape-manipulator\");const o=(t+e.outlineSize)/i;this._edgeManipulatorOutlineGeometry=new M(v.createSphereGeometry(o,16,16),\"reshape-manipulator-outline\")}const i=new H({view:this.view,renderObjects:[{geometry:this._vertexManipulatorGeometry,material:this._vertexManipulatorMaterial,stateMask:4|X.Vertex},{geometry:this._vertexManipulatorOutlineGeometry,material:this._vertexManipulatorOutlineMaterial,stateMask:5|X.Vertex},{geometry:this._vertexManipulatorOutlineGeometry,material:this._vertexManipulatorHoverOutlineMaterial,stateMask:6|X.Vertex},{geometry:this._edgeManipulatorGeometry,material:this._vertexManipulatorMaterial,stateMask:6|X.Edge},{geometry:this._vertexManipulatorOutlineGeometry,material:this._vertexManipulatorHoverOutlineMaterial,stateMask:6|X.Edge},{geometry:this._edgeManipulatorGeometry,material:this._edgeManipulatorMaterial,stateMask:5|X.Edge},{geometry:this._edgeManipulatorOutlineGeometry,material:this._edgeManipulatorOutlineMaterial,stateMask:5|X.Edge},{geometry:this._vertexManipulatorGeometry,material:this._selectedManipulatorMaterial,stateMask:8},{geometry:this._vertexManipulatorOutlineGeometry,material:this._selectedManipulatorOutlineMaterial,stateMask:9},{geometry:this._vertexManipulatorOutlineGeometry,material:this._selectedManipulatorHoverOutlineMaterial,stateMask:10}],elevationInfo:t,focusMultiplier:1,touchMultiplier:1,available:!(!this.graphic.visible||!this.graphic.layer.visible)});this._setTypeSpecificManipulatorSettings(i,e,t);const o=\"edge\"===e.type?{manipulator:i,handle:e,locationUpdateHandle:null,type:\"edge\",selectedIndex:0}:{manipulator:i,handle:e,type:\"vertex\",selectedIndex:0};if(this._manipulatorInfos.push(o),this.manipulators.add(i),this._updateManipulatorPosition(o),\"edge\"===o.type){const e=this._getManipulatorInfoFromHandle(o.handle.left).manipulator.events.on(\"location-update\",(()=>this._updateManipulatorPosition(o))),t=this._getManipulatorInfoFromHandle(o.handle.right).manipulator.events.on(\"location-update\",(()=>this._updateManipulatorPosition(o)));o.locationUpdateHandle=n([e,t]),this._manipulatorHandles.add(o.locationUpdateHandle,i)}this._manipulatorHandles.add(this._watchAndUpdateGrabState(i,!0),i);const r=b(i,((e,i,a,n)=>{i.next((e=>this._trackNumDragging(e))).next((e=>R(o)?{...e,info:this._splitEdgeManipulator(o)}:{...e,info:o})).next(S(this.view,e.elevationAlignedLocation)).next(w(this.view,this.graphic,e.elevationAlignedLocation,e.location.spatialReference)).next(this._snapDrag(t,n)).next(x()).next((e=>{this._perVertexManipulatorDragAction(e)})),a.next(this._cancelDragOperation())}));return this._manipulatorHandles.add(r,i),this._manipulatorHandles.add([i.events.on(\"immediate-click\",(e=>this._manipulatorClickCallback(e,o))),i.events.on(\"select-changed\",(()=>{o.selectedIndex=++this._selectedIndex,this._updateMoveManipulationPosition()}))]),this.emit(\"manipulators-changed\"),i}_snapDrag(e,i){let a=null;const n=o(this._reshapeHelper);return o=>{if(\"start\"===o.action&&(this.isMultiVertexSelection()||(a={context:new E(n,this.view,e,i,o.info.handle),originalPos:n.data.coordinateHelper.createDehydratedPoint(o.info.handle.pos)})),t(a)){const e={...a.originalPos};e.x+=o.mapEnd.x-o.mapStart.x,e.y+=o.mapEnd.y-o.mapStart.y;const t=this.snappingEngine.snap(e,a.context);o.mapEnd.x=t.x+(o.mapStart.x-a.originalPos.x),o.mapEnd.y=t.y+(o.mapStart.y-a.originalPos.y)}return\"end\"===o.action&&(this.snappingEngine.doneSnapping(),a=null),o}}_trackNumDragging(e){switch(e.action){case\"start\":this._numDragging++;break;case\"end\":this._numDragging--}return e}_cancelDragOperation(){const e=t(this._reshapeHelper)?this._reshapeHelper.geometry.clone():null;return()=>{switch(this._numDragging--,this.inputGeometry=e,this.outputGeometry=e,this.snappingEngine.doneSnapping(),this._reshapeEventState){case 0:break;case 1:this.emit(\"move\",{type:\"move\",dx:0,dy:0,mover:this.graphic});break;case 2:this.emit(\"reshape\",{type:\"reshape\",mover:this.graphic})}this.destroyed||this._updateEventState(0)}}_setTypeSpecificManipulatorSettings(e,t,i){switch(t.type){case\"vertex\":e.state=X.Vertex,e.selectable=!0,e.cursor=\"move\",e.collisionPriority=2,e.radius=D.reshapeManipulators.vertex.size/2+D.reshapeManipulators.vertex.collisionPadding,e.elevationInfo=i;break;case\"edge\":e.state=X.Edge,e.selectable=!1,e.cursor=\"copy\",e.collisionPriority=-1,e.radius=D.reshapeManipulators.edge.size/2+D.reshapeManipulators.edge.collisionPadding,e.elevationInfo=\"on-the-ground\"===i.mode?i:{mode:\"absolute-height\",offset:0}}}_watchAndUpdateGrabState(e,t){return e.events.on(\"grab-changed\",(i=>{if(\"start\"===i.action)t&&this._updateSelection(e),this._numGrabbing++;else if(this._numGrabbing--,this._updateEventState(0),this.destroyed)return;this._moveManipulation.interactive=!this._numGrabbing}))}_clearSelection(){for(const e of this._manipulatorInfos)e.manipulator.grabbing||(e.manipulator.selected=!1)}_updateSelection(e){e.grabbing&&!e.selected&&e.selectable&&(this._clearSelection(),e.selected=!0,this.emit(\"manipulators-changed\"))}_removeManipulator(e){e&&(this._manipulatorHandles.remove(e.manipulator),this._manipulatorInfos.splice(this._manipulatorInfos.indexOf(e),1),this.manipulators.remove(e.manipulator),this.emit(\"manipulators-changed\"))}_getManipulatorInfoFromHandle(e){if(e)for(const t of this._manipulatorInfos)if(e===t.handle)return t;return null}_updateManipulatorPosition(e){if(!e)return;const i=o(this._reshapeHelper);if(\"vertex\"===e.handle.type)e.manipulator.location=i.data.coordinateHelper.toPoint(e.handle.pos,N),e.manipulator.grabbing&&t(this._vertexLaserLineVisualElement)&&(this._vertexLaserLineVisualElement.visualElement.intersectsWorldUpAtLocation=e.manipulator.renderLocation);else if(\"edge\"===e.handle.type){const a=this._getManipulatorInfoFromHandle(e.handle.left).manipulator,o=this._getManipulatorInfoFromHandle(e.handle.right).manipulator;if(t(e.manipulator.elevationInfo)&&\"on-the-ground\"===e.manipulator.elevationInfo.mode){const t=a.location,n=o.location,r=.5,s=t.x+r*(n.x-t.x),l=t.y+r*(n.y-t.y),p=t.hasZ&&n.hasZ?0:void 0;e.manipulator.location=g(s,l,p,i.geometry.spatialReference)}else{const t=a.elevationAlignedLocation,n=o.elevationAlignedLocation,r=.5,s=t.x+r*(n.x-t.x),l=t.y+r*(n.y-t.y),p=t.hasZ&&n.hasZ?t.z+r*(n.z-t.z):void 0;e.manipulator.elevationAlignedLocation=g(s,l,p,i.geometry.spatialReference)}}}_splitEdgeManipulator(e){const t=o(this._reshapeHelper),i=o(t.splitEdge(e.handle,.5).createdVertex);e.locationUpdateHandle.remove(),e.locationUpdateHandle=void 0;const a=e;a.handle=i,a.type=\"vertex\";const n=m(this.graphic);this._setTypeSpecificManipulatorSettings(e.manipulator,e.handle,n),i.left&&this._createPerVertexManipulator(i.left),i.right&&this._createPerVertexManipulator(i.right),this.outputGeometry=t.geometry,this._updateManipulatorPosition(a),this._updateSelection(e.manipulator);const r=this._updateEventState(2),s=t.data.coordinateHelper.toArray(a.handle.pos),l=t.data.components.indexOf(i.component);return this.emit(\"vertex-add\",{type:\"vertex-add\",vertices:[{coordinates:s,componentIndex:l,vertexIndex:o(i.index)}],added:s}),r&&this._updateEventState(0),a}_updateMoveManipulationPosition(){const e=_.get();p(e,0,0,0);let i=0,n=!1,r=null,s=null;for(const t of this._manipulatorInfos)F(t)&&(t.manipulator.selected?(i++,h(e,e,t.manipulator.renderLocation),a(r)||t.selectedIndex>r.selectedIndex?(s=r,r=t):(a(s)||t.selectedIndex>s.selectedIndex)&&(s=t)):n=!0);if(0!==i){const e=this._graphicState.displaying;this._moveManipulation.xyManipulation.available=e,this._moveManipulation.xyAxisManipulation.available=e,this._moveManipulation.zManipulation.available=e&&this.enableZ&&V(this.graphic),this._moveManipulation.xyAxisManipulation.orthogonalAvailable=e&&1!==i}else{const e=this._graphicState.displaying&&this.enableMoveGraphic;this._moveManipulation.xyManipulation.available=e,this._moveManipulation.xyAxisManipulation.available=e,this._moveManipulation.xyAxisManipulation.orthogonalAvailable=e,this._moveManipulation.zManipulation.available=e&&this.enableZ&&V(this.graphic)}if(0!==i){let e=0;if(t(r)){const i=r.handle.pos,a=t(s)?s.handle.pos:r.handle.left&&r.handle.left.left?r.handle.left.left.pos:null,o=!t(s)&&r.handle.right&&r.handle.right.right?r.handle.right.right.pos:null;a&&o?this._moveManipulation.xyAxisManipulation.available=!1:a?e=Z(a,i):o&&(e=Z(i,o))}this._moveManipulation.angle=e,this._moveManipulation.radius=U}else this._moveManipulation.angleDeferred=()=>L(o(this.graphic.geometry)),this._moveManipulation.radius=T.radiusForSymbol(this.graphic.symbol);0!==i&&n?(u(e,e,1/i),N.spatialReference=o(this._reshapeHelper).geometry.spatialReference,N.hasZ=!0,this.view.renderCoordsHelper.fromRenderCoords(e,N),this._moveManipulation.elevationAlignedLocation=N):t(this._outlineVisualElement)&&!this._graphicState.isDraped&&t(this._outlineVisualElement.attachmentOrigin)?this._moveManipulation.elevationAlignedLocation=this._outlineVisualElement.attachmentOrigin:P(this.view,this._moveManipulation,this.graphic)}_removeVertices(e){const t=[],i=o(this._reshapeHelper);for(const a of e)if(\"vertex\"===a.handle.type&&i.canRemoveVertex()){t.push(a.handle),this._removeManipulator(a),this._removeManipulator(this._getManipulatorInfoFromHandle(a.handle.left)),this._removeManipulator(this._getManipulatorInfoFromHandle(a.handle.right));const e=o(i.removeVertices([a.handle]).removedVertices[0].createdEdge);e&&this._createPerVertexManipulator(e)}if(t.length>0){const e=t.map((e=>{const t=i.data.components.indexOf(e.component);return{coordinates:i.data.coordinateHelper.toArray(e.pos),componentIndex:t,vertexIndex:o(e.index)}}));this.outputGeometry=i.geometry;const a=this._updateEventState(2);if(this.destroyed)return;if(this.emit(\"vertex-remove\",{type:\"vertex-remove\",removed:e.map((e=>e.coordinates)),vertices:e}),this.destroyed)return;if(a&&(this._updateEventState(0),this.destroyed))return;this._updateMoveManipulationPosition()}}_manipulatorClickCallback(e,t){e.shiftKey||this._clearSelection(),\"vertex\"===t.handle.type&&(t.manipulator.selected=!t.manipulator.selected),\"vertex\"===t.handle.type&&2===e.button&&this._removeVertices([t]),R(t)&&0===e.button&&this._splitEdgeManipulator(t),e.stopPropagation()}};function Z(e,t){return Math.atan2(t[1]-e[1],t[0]-e[0])+Math.PI/2}function F(e){return\"vertex\"===e.handle.type}function R(e){return\"edge\"===e.handle.type}e([r({constructOnly:!0})],C.prototype,\"tool\",void 0),e([r()],C.prototype,\"inputGeometry\",null),e([r()],C.prototype,\"outputGeometry\",void 0),C=e([s(\"esri.views.3d.interactive.editingTools.graphicReshape3D.ReshapeOperation\")],C);const N=g(0,0,null,null);var X;!function(e){e.Vertex=16,e.Edge=32}(X||(X={}));class Y extends f{constructor(e,t){super(e,t),this.type=t,this._geometry=null}get geometry(){if(this._dirty){switch(this.type){case\"polyline\":this._geometry=this.data.toPolyline();break;case\"polygon\":this._geometry=this.data.toPolygon()}this._dirty=!1}return this._geometry}}export{Y as ReshapeGeometryHelper,C as ReshapeOperation};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import\"../../../../../core/has.js\";import{isSome as t,isNone as r}from\"../../../../../core/maybe.js\";import\"../../../../../core/Logger.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import{property as o}from\"../../../../../core/accessorSupport/decorators/property.js\";import{subclass as i}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import\"../../../../../core/urlUtils.js\";import\"../../../../../core/uuid.js\";import\"../../../../../portal/support/resourceExtension.js\";import s from\"../../../../../core/Evented.js\";import p from\"../../../../../core/Handles.js\";import{init as a}from\"../../../../../core/watchUtils.js\";import{InteractiveToolBase as n}from\"../../../../interactive/InteractiveToolBase.js\";import{SnappingOptions as h}from\"../../../../interactive/snapping/SnappingOptions.js\";import{isSupportedGraphic as c}from\"./isSupportedGraphic.js\";import{ReshapeOperation as m}from\"./ReshapeOperation.js\";let l=class extends(s.EventedMixin(n)){constructor(e){super(e),this._handles=new p,this._reshapeOperation=null,this._internalGeometryUpdate=!1,this.enableZ=!0,this.enableMoveGraphic=!0,this.type=\"reshape-3d\",this.snappingOptions=new h}destroy(){this._handles.removeAll(),this._reshapeOperation&&(this._reshapeOperation.destroy(),this._reshapeOperation=null),this._set(\"view\",null),this._set(\"graphic\",null)}get selectionManagementDisabled(){return!0}_updateGeometry(){const e=this.graphic.geometry;0!==c(this.graphic)||!t(e)||\"polygon\"!==e.type&&\"polyline\"!==e.type?this._reshapeOperation.inputGeometry=null:this._reshapeOperation.inputGeometry=e.clone()}_updateGraphic(){if(this._handles.remove(\"onGraphicGeometryChange\"),this._updateGeometry(),0!==c(this.graphic))return;const e=this.watch(\"graphic.geometry\",(()=>{!1===this._internalGeometryUpdate&&this._updateGeometry()}),!0);this._handles.add(e,\"onGraphicGeometryChange\")}manipulatorSelectionChanged(){this._reshapeOperation&&this._reshapeOperation.manipulatorSelectionChanged()}_onReshapeGeometryChanged(){r(this.graphic)||(this._internalGeometryUpdate=!0,this.graphic.geometry=this._reshapeOperation.outputGeometry.clone(),this._internalGeometryUpdate=!1)}initialize(){this._reshapeOperation=new m({tool:this}),this._handles.add([this._reshapeOperation.on(\"reshape\",(e=>{\"reshape\"===e.type&&this._onReshapeGeometryChanged(),this.emit(\"reshape\",e)})),this._reshapeOperation.on(\"move\",(e=>{\"move\"===e.type&&this._onReshapeGeometryChanged(),this.emit(\"move\",e)})),this._reshapeOperation.on(\"vertex-add\",(e=>{this._onReshapeGeometryChanged(),this.emit(\"vertex-add\",e)})),this._reshapeOperation.on(\"vertex-remove\",(e=>{this._onReshapeGeometryChanged(),this.emit(\"vertex-remove\",e)})),this._reshapeOperation.on(\"immediate-click\",(()=>this.emit(\"immediate-click\"))),a(this,\"graphic\",(()=>{this._updateGraphic()}),!0)])}beforeUndo(){this._reshapeOperation.snappingEngine.doneSnapping()}onInputEvent(e){\"key-down\"!==e.type||\"Delete\"!==e.key&&\"Backspace\"!==e.key||this._reshapeOperation.removeSelectedVertices()}reset(){}};e([o({constructOnly:!0,nonNullable:!0})],l.prototype,\"view\",void 0),e([o({constructOnly:!0})],l.prototype,\"graphic\",void 0),e([o({constructOnly:!0,nonNullable:!0})],l.prototype,\"enableZ\",void 0),e([o({constructOnly:!0,nonNullable:!0})],l.prototype,\"enableMoveGraphic\",void 0),e([o({readOnly:!0})],l.prototype,\"type\",void 0),e([o()],l.prototype,\"snappingOptions\",void 0),l=e([i(\"esri.views.3d.interactive.editingTools.graphicReshape3D.GraphicReshapeTool\")],l);export{l as GraphicReshapeTool};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{isSome as t,isNone as e}from\"../../../../../core/maybe.js\";import{addFrameTask as a}from\"../../../../../core/scheduling.js\";import i from\"../../../../../core/Evented.js\";import{clamp as o}from\"../../../../../core/mathUtils.js\";import{castRenderScreenPointArray as s,createScreenPointArray as r}from\"../../../../../core/screenUtils.js\";import{b as n,f as l,c}from\"../../../../../chunks/vec3f64.js\";import{a as h}from\"../../../../../chunks/common.js\";import{s as g,f as d,l as m,h as u,c as p,b as f}from\"../../../../../chunks/vec3.js\";import{cyclicalPI as D}from\"../../../support/mathUtils.js\";import M from\"../../../../../core/Handles.js\";import{init as y}from\"../../../../../core/watchUtils.js\";import{i as S,r as b,p as R,m as v,s as w}from\"../../../../../chunks/mat4.js\";import{a as k}from\"../../../../../chunks/mat4f64.js\";import{getGraphicEffectiveElevationInfo as _}from\"../../../../../support/elevationInfoUtils.js\";import{sv3d as j,sm4d as A}from\"../../../support/stack.js\";import{plane as F,ray as I}from\"../../../support/geometryUtils.js\";import E from\"../../../webgl-engine/lib/GeometryUtil.js\";import P from\"../../../webgl-engine/lib/Geometry.js\";import{ColorMaterial as L}from\"../../../webgl-engine/materials/ColorMaterial.js\";import{createManipulatorDragEventPipeline as T,resetSymbol as U}from\"../../../../interactive/dragEventPipeline.js\";import{screenToRenderPlane as O}from\"../dragEventPipeline3D.js\";import{Manipulator3D as x}from\"../../Manipulator3D.js\";import{calculateInputRotationTransform as z,placeAtGraphic as C}from\"../../manipulatorUtils.js\";import{ROTATE_INDICATOR_DIRECTION_BUFFER as N,SCALE_INDICATOR_DIRECTION_BUFFER as Z,RING_HEIGHT as G,ROTATE_INDICATOR_ARROW_TIP_LENGTH as H,ROTATE_INDICATOR_ARROW_TIP_RADIUS as V,RING_THICKNESS as q,DRAG_THRESHOLD_PX as B,RING_RESET_ANIMATION_SPEED_FACTOR as J,RING_INDICATOR_DELAY_MS as K,INDICATOR_THICKNESS as Q,ROTATE_INDICATOR_ARROW_PLACEMENT_PERCENTAGE as W,HANDLE_COLOR as X,RING_RADIUS as Y,ROTATE_INDICATOR_ARC_LENGTH as $,INNER_INDICATOR_RADIUS as tt,OUTER_INDICATOR_RADIUS as et,SCALE_INDICATOR_OFFSET1 as at,SCALE_INDICATOR_OFFSET2 as it,GEOMETRY_SEGMENTS as ot,SCALE_INDICATOR_ARC_LENGTH as st}from\"../manipulations/config.js\";var rt;!function(t){t.ScaleIn=32,t.ScaleOut=64,t.RotateLeft=128,t.RotateRight=256,t.Unlocked=1024,t.DelayedFocused=2048,t.TouchInput=32768}(rt||(rt={}));class nt{constructor(e){this.mode=null,this._handles=new M,this._scaleRotateDragData=null,this._activeAnimation=null,this.events=new i,this.getFocused=()=>this.ringManipulator.focused,this.getScale=()=>t(this._scaleRotateDragData)&&\"scale\"===this._scaleRotateDragData.mode?this._scaleRotateDragData.scale:1,this.tool=e.tool,this.mode=e.mode,this.createManipulator(),this.updateDragState(),this.updateManipulatorTransform()}destroy(){t(this._activeAnimation)&&(this._activeAnimation.frameTask.remove(),this._activeAnimation=null),this._handles.removeAll(),this.tool.manipulators.remove(this.ringManipulator),this.ringManipulator=null}startAnimation(t){this.cancelActiveAnimation(),t.start();const e=a({update:({deltaTime:e})=>{t.update(e)&&this.cancelActiveAnimation()}});this._activeAnimation={...t,frameTask:e}}cancelActiveAnimation(){t(this._activeAnimation)&&(this._activeAnimation.frameTask.remove(),this._activeAnimation.destroy(),this._activeAnimation=null)}forEachManipulator(t){t(this.ringManipulator,2)}createManipulator(){this.ringManipulator=this.createRingManipulator(),this.tool.manipulators.add(this.ringManipulator);const a=this.ringManipulator,i=this.tool.graphicState.graphic,s=T(a,((a,s,r)=>{this._scaleRotateDragData=null;const l=function(t,a){const i=t.allLayerViews.find((t=>t.layer===a.layer));if(e(a.symbol))return null;const o=a.symbol;return{symbolLayers:o.symbolLayers.map((t=>{let e=null,a=null;return\"object\"===t.type&&(e=t.heading),a=i.getSymbolLayerSize(o,t),{heading:e,size:a}})).toArray()}}(this.tool.view,i);if(e(l))return this.updateDragState(),null;const c={mode:\"none\",origin:n(a.renderLocation),angle:0,startAngle:this.tool.symbolRotationAngle,angleDir:0,scale:1,scaleDir:0,startSymbolData:l};this._scaleRotateDragData=c,this.updateDragState();const h=j.get();this.tool.view.renderCoordsHelper.worldUpAtPosition(a.renderLocation,h),s.next(O(this.tool.view,F.fromPositionAndNormal(a.renderLocation,h))).next((e=>{const a=F.normal(e.plane),s=z(e.renderStart,e.renderEnd,c.origin,a),r=D.shortestSignedDiff(c.angle,s);c.angleDir=o(c.angleDir+r,-N,N),c.angle=s;const n=function(t,e){const a=d(j.get(),e.renderStart,t.origin),i=d(j.get(),e.renderEnd,t.origin),o=m(a),s=m(i);if(0===o)return 0;return s/o}(c,e),l=n-c.scale;if(c.scaleDir=o(c.scaleDir+l,-Z,Z),c.scale=n,this.onScaleChanged(),\"none\"===c.mode){const a=this.mode||function(t,e,a,i){const{renderStart:o,renderEnd:s}=t,r=lt(o,i,j.get()),n=lt(s,i,j.get());if(u(r,n)<B*B)return null;const l=d(j.get(),o,a),c=p(j.get(),l,e),h=o,g=f(j.get(),h,c),m=lt(a,i,j.get()),D=r,M=lt(g,i,j.get()),y=d(j.get(),M,D),S=d(j.get(),r,m),b=I.wrap(D,y),R=I.wrap(m,S);if(I.distance2(b,n)<I.distance2(R,n))return\"rotate\";return\"scale\"}(e,e.plane,c.origin,this.tool.view.state.camera);if(t(a)){switch(a){case\"rotate\":this.tool.emit(\"graphic-rotate-start\",{graphic:i,angle:c.angle});break;case\"scale\":this.tool.emit(\"graphic-scale-start\",{graphic:i,scale:c.scale})}c.mode=a}}if(this.updateDragState(),t(i.symbol)){const t=i.symbol.clone();let e=0,a=1;switch(c.mode){default:case\"none\":break;case\"scale\":a=c.scale;break;case\"rotate\":e=c.angle}this.applySymbolData(t,c.startSymbolData,e,a),i.symbol=t,this.updateManipulatorTransform()}switch(e.action){case\"start\":case\"update\":switch(c.mode){case\"rotate\":this.tool.emit(\"graphic-rotate\",{graphic:i,angle:c.angle});break;case\"scale\":this.tool.emit(\"graphic-scale\",{graphic:i,scale:c.scale})}break;case\"end\":switch(c.mode){case\"rotate\":this.tool.emit(\"graphic-rotate-stop\",{graphic:i,angle:c.angle});break;case\"scale\":this.tool.emit(\"graphic-scale-stop\",{graphic:i,scale:c.scale});break;default:case\"none\":}}\"end\"===e.action&&(this.startAnimation(ct(this,(()=>this.onScaleChanged()))),this._scaleRotateDragData=null,this.updateDragState())})),r.next(U(i)).next((()=>{if(t(this._scaleRotateDragData)){switch(this._scaleRotateDragData.mode){case\"none\":break;case\"rotate\":this.tool.emit(\"graphic-rotate-stop\",{graphic:i,angle:this._scaleRotateDragData.startAngle});break;case\"scale\":this.tool.emit(\"graphic-scale-stop\",{graphic:i,scale:1})}this.startAnimation(ct(this,(()=>this.onScaleChanged()))),this._scaleRotateDragData=null}}))}));this._handles.add(s),this._handles.add([this.ringManipulator.events.on(\"focus-changed\",(t=>{\"focus\"===t.action?this.startAnimation(function(t,e){let a=0,i=null;const o=()=>!1;return{start:()=>{i=t.getFocused,t.getFocused=o,a=0,e()},update:t=>(a+=t,!i()||a>K?1:0),destroy:()=>{t.getFocused=i,e()}}}(this,(()=>this.updateDelayedFocusedState()))):this.updateDelayedFocusedState()})),this.ringManipulator.events.on(\"immediate-click\",(t=>{t.stopPropagation()})),y(this.tool.graphicState,\"displaying\",(t=>this.ringManipulator.available=t)),this.tool.graphicState.on(\"changed\",(()=>C(this.tool.view,this.ringManipulator,i)))]),C(this.tool.view,this.ringManipulator,i)}onScaleChanged(){this.events.emit(\"scale-changed\"),this.updateManipulatorTransform()}updateDelayedFocusedState(){this.ringManipulator.updateStateEnabled(rt.DelayedFocused,this.getFocused())}updateDragState(){if(this.ringManipulator.updateStateEnabled(rt.Unlocked,!(t(this._scaleRotateDragData)&&\"none\"!==this._scaleRotateDragData.mode)),t(this._scaleRotateDragData))switch(this._scaleRotateDragData.mode){case\"rotate\":this.ringManipulator.updateStateEnabled(rt.ScaleIn|rt.ScaleOut,!1),this.ringManipulator.updateStateEnabled(rt.RotateLeft,this._scaleRotateDragData.angleDir<0),this.ringManipulator.updateStateEnabled(rt.RotateRight,this._scaleRotateDragData.angleDir>=0);break;case\"scale\":this.ringManipulator.updateStateEnabled(rt.RotateLeft|rt.RotateRight,!1),this.ringManipulator.updateStateEnabled(rt.ScaleIn,this._scaleRotateDragData.scaleDir<0),this.ringManipulator.updateStateEnabled(rt.ScaleOut,this._scaleRotateDragData.scaleDir>=0)}else this.ringManipulator.updateStateEnabled(rt.ScaleIn|rt.ScaleOut|rt.RotateLeft|rt.RotateRight,!1)}updateManipulatorTransform(){const t=S(A.get()),e=this.tool.symbolRotationAngle;b(t,t,e,l(0,0,1));const a=this.getScale(),i=R(A.get(),g(j.get(),a,a,a)),o=S(A.get());v(o,i,t),this.ringManipulator.modelTransform=o}createRingManipulator(){const t=(t,e,a)=>{const i=[],o=Math.ceil(ot*(e-t)/(2*Math.PI));for(let s=0;s<o+1;s++){const r=t+s*(e-t)/o;i.push(l(a*Math.cos(r),a*Math.sin(r),0))}return i},e=e=>t(0,2*Math.PI,e),a=(t,e)=>new P(E.createPathExtrusionGeometry((t=>[[-t/2,0],[t/2,0],[t/2,G/2],[-t/2,G/2]])(e),t,[],[],!1),\"graphic-transform-ring\"),i=e(Y),o=a(i,q),s={left:[],right:[]},r=[];for(let e=0;e<2;e++){const i=e*Math.PI-Math.PI/4,o=Math.PI/2-$,n=i+o,l=i+Math.PI/2-o,c=t(n,l,tt),h=a(c,Q);r.push(c),r.push(t(n,l,et-q/2)),s.left.push(h),s.right.push(h);for(let t=0;t<2;t++){const e=0===t,a=k();if(e){w(a,a,[1,-1,1]),b(a,a,-n,[0,0,1]);const t=Math.round(W*(c.length-1));a[12]=c[t][0],a[13]=c[t][1],a[14]=c[t][2]}else{b(a,a,l,[0,0,1]);const t=Math.round((1-W)*(c.length-1));a[12]=c[t][0],a[13]=c[t][1],a[14]=c[t][2]}const i=E.createExtrudedTriangle(H,0,V,G);E.transformInPlace(i,a);const o=new P(i,\"graphic-transform-ring-rotate\");(e?s.left:s.right).push(o)}}const n=[];for(let e=0;e<2;e++){const i=e*Math.PI-Math.PI/4,o=Math.PI/2-st,s=i+o,r=i+Math.PI/2-o,l=t(s,r,et);n.push(a(l,Q))}const c=e(Y+at),h=e(Y+it),g=a(c,Q),d=a(h,Q),m=e(Y-at),u=e(Y-it),p=a(m,Q),f=a(u,Q),D=this.createMaterial(),M=this.createMaterial(.66),y=this.createMaterial(.5),S=this.createMaterial(.33);let R=[{geometry:o,material:D,stateMask:rt.DelayedFocused},{geometry:o,material:y,stateMask:0}];this.mode&&\"scale\"!==this.mode||(R=R.concat([{geometry:n,material:D,stateMask:rt.DelayedFocused|rt.Unlocked},{geometry:g,material:M,stateMask:rt.DelayedFocused|rt.ScaleIn},{geometry:d,material:S,stateMask:rt.DelayedFocused|rt.ScaleIn},{geometry:p,material:M,stateMask:rt.DelayedFocused|rt.ScaleOut},{geometry:f,material:S,stateMask:rt.DelayedFocused|rt.ScaleOut}])),this.mode&&\"rotate\"!==this.mode||(R=R.concat([{geometry:s.right,material:D,stateMask:rt.DelayedFocused|rt.Unlocked},{geometry:s.left,material:D,stateMask:rt.DelayedFocused|rt.RotateLeft},{geometry:s.right,material:D,stateMask:rt.DelayedFocused|rt.RotateRight}]));const v=[i,...r];return new x({view:this.tool.view,renderObjects:R,autoScaleRenderObjects:!1,worldOriented:!0,radius:q,focusMultiplier:1,touchMultiplier:1.5,elevationInfo:_(this.tool.graphicState.graphic),collisionType:{type:\"ribbon\",paths:v,direction:l(0,0,1)}})}createMaterial(t=1){const e=[...X,t];return new L({color:e,transparent:1!==t,cullFace:2,renderOccluded:2},\"graphic-transform\")}applySymbolData(e,a,i,o){e.symbolLayers.forEach(((e,s)=>{const{heading:r,size:n}=a.symbolLayers[s];\"object\"===e.type&&(e.heading=(t(r)?r:0)-h(i),t(n)&&\"width\"in n&&(n.width=this.enforceNonZeroSize(n.width),n.height=this.enforceNonZeroSize(n.height),n.depth=this.enforceNonZeroSize(n.depth),e.width=n.width*o,e.depth=n.depth*o,e.height=n.height*o))}))}enforceNonZeroSize(t){return t||this.tool.view.state.camera.computeRenderPixelSizeAt(this.ringManipulator.renderLocation)}get test(){return{ringManipulator:this.ringManipulator}}}function lt(t,e,a){const i=e.projectToRenderScreen(t,s(ht)),o=e.renderToScreen(i,gt);return g(a,o[0],o[1],0)}function ct(t,e){let a=null,i=1;const o=()=>i;return{start:()=>{i=t.getScale(),a=t.getScale,t.getScale=o,e()},update:t=>(i+=((i+1)/2-i)*Math.min(t*J,1),e(),Math.abs(i-1)<.01?1:0),destroy:()=>{t.getScale=a,e()}}}const ht=c(),gt=r();export{nt as GraphicScaleRotateTransform};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../../chunks/tslib.es6.js\";import\"../../../../../core/has.js\";import{isSome as a,isNone as i}from\"../../../../../core/maybe.js\";import\"../../../../../core/Logger.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import{makeHandle as e}from\"../../../../../core/handleUtils.js\";import{property as o}from\"../../../../../core/accessorSupport/decorators/property.js\";import{subclass as s}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import\"../../../../../core/urlUtils.js\";import\"../../../../../core/uuid.js\";import\"../../../../../portal/support/resourceExtension.js\";import n from\"../../../../../core/Evented.js\";import{t as r}from\"../../../../../chunks/common.js\";import l from\"../../../../../core/Handles.js\";import{getGraphicEffectiveElevationInfo as h}from\"../../../../../support/elevationInfoUtils.js\";import{InteractiveToolBase as c}from\"../../../../interactive/InteractiveToolBase.js\";import{placeAtGraphic as p}from\"../../manipulatorUtils.js\";import{canMoveZ as m}from\"../manipulatorUtils.js\";import{GraphicState as u}from\"../../../layers/graphics/GraphicState.js\";import{createVisualElements as d}from\"../visualElementUtils.js\";import{ALIGN_ARROWS_SCALE_THRESHOLD as g}from\"../manipulations/config.js\";import{MoveManipulation as v}from\"../manipulations/MoveManipulation.js\";import{GraphicScaleRotateTransform as y}from\"./GraphicScaleRotateTransform.js\";let M=class extends(n.EventedMixin(c)){constructor(t){super(t),this.enableZ=!0,this.enableRotation=!0,this.enableScaling=!0,this.type=\"transform-3d\",this.handles=new l,this.scaleRotate=null}initialize(){if(this.graphicState=new u({graphic:this.graphic}),this.moveManipulation=new v({tool:this,view:this.view,snapToScene:this.snapToScene,xyAvailable:!0,xyAxisAvailable:!0,zAvailable:this.enableZ&&m(this.graphic),radius:v.radiusForSymbol(this.graphic.symbol)}),this.moveManipulation.forEachManipulator((t=>this.handles.add(t.events.on(\"immediate-click\",(t=>t.stopPropagation()))))),this.moveManipulation.elevationInfo=h(this.graphic),this.moveManipulation.createGraphicDragPipeline(this.graphicState,(t=>{const{action:a,graphic:i,dxScreen:e,dyScreen:o}=t,s={graphic:i,dxScreen:e,dyScreen:o};switch(a){case\"start\":this.emit(\"graphic-translate-start\",s);break;case\"update\":this.emit(\"graphic-translate\",s);break;case\"end\":this.emit(\"graphic-translate-stop\",s)}})),this.moveManipulation.angle=this.symbolRotationAngle,this.enableScaling||this.enableRotation){const t=this.enableScaling&&this.enableRotation?null:this.enableScaling?\"scale\":\"rotate\";this.scaleRotate=new y({tool:this,mode:t}),this.handles.add(this.scaleRotate.events.on(\"scale-changed\",(()=>this.onScaleChanged())))}this.handles.add([d({view:this.view,graphic:this.graphic,forEachManipulator:t=>this.forEachManipulator(t),onManipulatorsChanged:()=>e()}),this.graphic.watch(\"symbol\",(()=>this.updateMoveAngle())),this.graphicState.on(\"changed\",(()=>this.onGeometryChanged())),this.hideManipulatorsForGraphicState(),this.view.watch(\"scale\",(()=>this.updateMoveAngle()))]),this.handles.add(this.view.trackGraphicState(this.graphicState)),this.onGeometryChanged()}forEachManipulator(t){this.moveManipulation.forEachManipulator(t),a(this.scaleRotate)&&this.scaleRotate.forEachManipulator(t)}hideManipulatorsForGraphicState(){return this.graphicState.watch(\"displaying\",(t=>{this.forEachManipulator((a=>a.available=t)),this.moveManipulation.zManipulation.available=t&&this.enableZ&&m(this.graphic)}))}destroy(){this.handles.destroy(),this.moveManipulation.destroy(),a(this.scaleRotate)&&(this.scaleRotate.destroy(),this.scaleRotate=null),this._set(\"view\",null),this._set(\"graphic\",null)}set snapToScene(t){this.moveManipulation&&(this.moveManipulation.snapToScene=t),this._set(\"snapToScene\",t)}get symbolRotationAngle(){const t=this.graphic.symbol;if(t){const a=t.symbolLayers.find((t=>\"object\"===t.type)),i=a&&a.heading||0;return r(-i)}return 0}reset(){}onDetach(){a(this.scaleRotate)&&this.scaleRotate.cancelActiveAnimation()}onHide(){a(this.scaleRotate)&&this.scaleRotate.cancelActiveAnimation()}onScaleChanged(){if(i(this.scaleRotate))return;const t=this.scaleRotate.getScale();this.moveManipulation.displayScale=t}updateMoveAngle(){\"local\"===this.view.viewingMode||this.view.scale<g?this.moveManipulation.angle=this.symbolRotationAngle:this.moveManipulation.angle=0}onGeometryChanged(){p(this.view,this.moveManipulation,this.graphic)}get test(){return{discManipulator:this.moveManipulation.xyManipulation.test.discManipulator,ringManipulator:a(this.scaleRotate)?this.scaleRotate.test.ringManipulator:null,arrowManipulators:this.moveManipulation.xyAxisManipulation.test.arrowManipulators}}};t([o({constructOnly:!0,nonNullable:!0})],M.prototype,\"view\",void 0),t([o({constructOnly:!0,nonNullable:!0})],M.prototype,\"graphic\",void 0),t([o({constructOnly:!0,nonNullable:!0})],M.prototype,\"enableZ\",void 0),t([o()],M.prototype,\"enableRotation\",void 0),t([o()],M.prototype,\"enableScaling\",void 0),t([o({value:!1})],M.prototype,\"snapToScene\",null),t([o({readOnly:!0})],M.prototype,\"type\",void 0),M=t([s(\"esri.views.3d.interactive.editingTools.graphicTransform3D.GraphicTransformTool\")],M);export{M as GraphicTransformTool};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import{get as t,isSome as i,isNone as o}from\"../../core/maybe.js\";import s from\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import{subclass as l}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import a from\"../../core/Accessor.js\";import n from\"../../core/Evented.js\";import{pt2px as c,screenPointObjectToArray as h,createScreenPointArray as p}from\"../../core/screenUtils.js\";import{c as m}from\"../../chunks/vec3f64.js\";import{k as u}from\"../../chunks/vec3.js\";import{canProjectWithoutEngine as g,project as y,projectPointToVector as d}from\"../../geometry/projection.js\";import b from\"../../symbols/support/ElevationInfo.js\";import{getDefaultSymbol2D as f}from\"../../symbols/support/defaults.js\";import{j as _}from\"../../chunks/vec2.js\";import{getGraphicEffectiveElevationMode as v}from\"../../support/elevationInfoUtils.js\";import{intersectsDrapedGeometry as S}from\"../support/drapedUtils.js\";const j=s.getLogger(\"esri.views.interactive.GraphicManipulator\");let C=class extends a{constructor(e){super(e),this.layer=null,this.interactive=!0,this.selectable=!1,this.grabbable=!0,this.dragging=!1,this.cursor=null,this.events=new n.EventEmitter,this._circleCollisionCache=null,this._graphicSymbolChangedHandle=null,this._originalSymbol=null}set graphic(e){\"mesh\"!==t(e.geometry,\"type\")?(this._circleCollisionCache=null,this._originalSymbol=e.symbol,this._set(\"graphic\",e),this.attachSymbolChanged()):j.error(\"Mesh geometries are not supported\")}get elevationInfo(){const e=\"elevationInfo\"in this.graphic.layer&&this.graphic.layer.elevationInfo,t=v(this.graphic),i=e?e.offset:0;return new b({mode:t,offset:i})}set focusedSymbol(e){e!==this._get(\"focusedSymbol\")&&(this._set(\"focusedSymbol\",e),this._updateGraphicSymbol(),this._circleCollisionCache=null)}grabbableForEvent(){return!0}set grabbing(e){e!==this._get(\"grabbing\")&&(this._set(\"grabbing\",e),this._updateGraphicSymbol())}set hovering(e){e!==this._get(\"hovering\")&&(this._set(\"hovering\",e),this._updateGraphicSymbol())}set selected(e){e!==this._get(\"selected\")&&(this._set(\"selected\",e),this._updateGraphicSymbol(),this.events.emit(\"select-changed\",{action:e?\"select\":\"deselect\"}))}get _focused(){return this._get(\"hovering\")||this._get(\"grabbing\")}destroy(){this.detachSymbolChanged(),this._resetGraphicSymbol(),this._set(\"view\",null)}intersectionDistance(e){const t=this._get(\"graphic\");if(!1===t.visible)return null;const s=this._get(\"focusedSymbol\"),r=i(s)?s:t.symbol,l=t.geometry;return o(l)?null:\"2d\"===this.view.type?this._intersectDistance2D(this.view,e,l,r):this._intersectDistance3D(this.view,e,t)}attach(){this.attachSymbolChanged(),i(this.layer)&&this.layer.add(this.graphic)}detach(){this.detachSymbolChanged(),this._resetGraphicSymbol(),i(this.layer)&&this.layer.remove(this.graphic)}attachSymbolChanged(){this.detachSymbolChanged(),this._graphicSymbolChangedHandle=this.graphic.watch(\"symbol\",(e=>{i(e)&&e!==this.focusedSymbol&&e!==this._originalSymbol&&(this._originalSymbol=e,this._focused&&i(this.focusedSymbol)&&(this.graphic.symbol=this.focusedSymbol))}),!0)}detachSymbolChanged(){i(this._graphicSymbolChangedHandle)&&(this._graphicSymbolChangedHandle.remove(),this._graphicSymbolChangedHandle=null)}_updateGraphicSymbol(){this.graphic.symbol=this._focused&&i(this.focusedSymbol)?this.focusedSymbol:this._originalSymbol}_resetGraphicSymbol(){this.graphic.symbol=this._originalSymbol}_intersectDistance2D(e,t,s,r){if(r=r||f(s),o(r))return null;let l=this._circleCollisionCache;if(\"point\"!==s.type||\"simple-marker\"!==r.type)return S(t,s,e)?1:null;if(o(l)||!l.originalPoint.equals(s)){const t=s,i=e.spatialReference;if(g(t.spatialReference,i)){const e=y(t,i);l={originalPoint:t.clone(),mapPoint:e,radiusPx:c(r.size)},this._circleCollisionCache=l}}if(i(l)){const i=h(t,G),o=e.toScreen(l.mapPoint),s=l.radiusPx,a=o.x+c(r.xoffset),n=o.y-c(r.yoffset);return _(i,[a,n])<s*s?1:null}return null}_intersectDistance3D(e,t,i){const o=e.toMap(t,{include:[i]});return o&&d(o,w,e.renderSpatialReference)?u(w,e.state.camera.eye):null}};e([r({constructOnly:!0,nonNullable:!0})],C.prototype,\"graphic\",null),e([r({readOnly:!0,dependsOn:[\"graphic\"]})],C.prototype,\"elevationInfo\",null),e([r({constructOnly:!0,nonNullable:!0})],C.prototype,\"view\",void 0),e([r({value:null})],C.prototype,\"focusedSymbol\",null),e([r({constructOnly:!0})],C.prototype,\"layer\",void 0),e([r()],C.prototype,\"interactive\",void 0),e([r()],C.prototype,\"selectable\",void 0),e([r()],C.prototype,\"grabbable\",void 0),e([r({value:!1})],C.prototype,\"grabbing\",null),e([r()],C.prototype,\"dragging\",void 0),e([r()],C.prototype,\"hovering\",null),e([r({value:!1})],C.prototype,\"selected\",null),e([r()],C.prototype,\"cursor\",void 0),C=e([l(\"esri.views.interactive.GraphicManipulator\")],C);const w=m(),G=p();export{C as GraphicManipulator};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{isSome as e,isNone as t}from\"../../core/maybe.js\";import r from\"../../geometry/Extent.js\";import\"../../geometry.js\";import{getMetersPerUnitForSR as n}from\"../../core/unitUtils.js\";import{calculateTolerance as i}from\"../../renderers/support/clickToleranceUtils.js\";function a(t,i,a,o=new r){let s;if(\"2d\"===a.type)s=i*a.resolution;else if(\"3d\"===a.type){const r=a.overlayPixelSizeInMapUnits(t),o=a.basemapSpatialReference;s=e(o)&&!o.equals(a.spatialReference)?n(o)/n(a.spatialReference):i*r}const m=t.x-s,p=t.y-s,c=t.x+s,l=t.y+s,{spatialReference:f}=a;return o.xmin=Math.min(m,c),o.ymin=Math.min(p,l),o.xmax=Math.max(m,c),o.ymax=Math.max(p,l),o.spatialReference=f,o}function o(e,r,n){const o=n.toMap(e);if(t(o))return!1;return a(o,i(),n,s).intersects(r)}const s=new r;export{a as createQueryGeometry,o as intersectsDrapedGeometry};\n"],"sourceRoot":""}