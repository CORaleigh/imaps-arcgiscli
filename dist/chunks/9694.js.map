{"version":3,"sources":["webpack://imaps/./node_modules/@arcgis/core/core/Handles.js","webpack://imaps/./node_modules/@arcgis/core/core/accessorSupport/originUtils.js","webpack://imaps/./node_modules/@arcgis/core/core/multiOriginJSONSupportUtils.js","webpack://imaps/./node_modules/@arcgis/core/core/watchUtils.js","webpack://imaps/./node_modules/@arcgis/core/webdoc/support/saveUtils.js","webpack://imaps/./node_modules/@arcgis/core/layers/mixins/SceneService.js","webpack://imaps/./node_modules/@arcgis/core/layers/support/I3SLayerDefinitions.js","webpack://imaps/./node_modules/@arcgis/core/layers/support/arcgisLayerUrl.js","webpack://imaps/./node_modules/@arcgis/core/portal/support/resourceUtils.js","webpack://imaps/./node_modules/@arcgis/core/renderers/support/lengthUtils.js"],"names":["h","r","super","this","_groups","Map","removeAll","forEach","e","length","_isHandle","Array","isArray","s","_getOrCreateGroup","push","notifyChange","_getGroup","has","_ensureGroupKey","remove","_deleteGroup","clear","set","get","delete","readOnly","prototype","writtenProperties","t","target","newOrigin","oldOrigin","updateOrigin","propName","i","c","n","o","u","watch","call","f","l","a","m","p","v","reject","d","then","promise","bind","catch","Object","freeze","resolve","value","oldValue","propertyName","indexOf","split","trim","replace","g","y","j","b","A","w","x","O","$","z","N","U","V","k","q","B","C","handle","async","resources","portalItem","Set","paths","toKeep","map","resource","path","toUpdate","content","finish","error","add","toAdd","resourceFromPath","removeResource","filter","errors","addResource","ok","update","T","arguments","spatialReference","fullExtent","heightModelInfo","minScale","maxScale","version","major","Number","NaN","minor","versionString","copyright","sublayerTitleMode","title","layerId","_debouncedSaveOperations","_save","_saveAs","_readSpatialReference","store","indexCRS","geographicCRS","parseInt","substring","lastIndexOf","extent","some","xmin","ymin","xmax","ymax","toString","url","name","_set","_get","_updateExtentFromRootPage","_fetchRootPage","_updateExtentFromRootNode","_fetchRootNode","Math","floor","rootIndex","nodesPerPage","parsedUrl","responseType","signal","data","nodes","obb","center","halfSize","sqrt","zmin","zmax","hasZ","mbs","rootNode","query","test","_fetchFirstLayerId","_fetchServiceLayer","layers","id","ssl","read","origin","validateLayer","load","beforeSave","typeKeywords","getTypeKeywords","clone","portal","_ensureLoadBeforeSave","type","P","messages","blockedRelativeUrls","pendingOperations","write","_validateAgainstJSONSchema","_updateTypeKeywords","_signIn","user","addItem","item","folder","resourceReferences","itemUrl","message","details","validationOptions","ignoreUnsupported","enabled","E","validate","portalItemLayerType","join","failPolicy","concat","combined","json","origins","service","source","String","isRequired","ignoreOrigin","dependsOn","lodSelectionMetricType","factor","baseColorFactor","baseColorTexture","metallicRoughnessTexture","metallicFactor","roughnessFactor","alphaMode","alphaCutoff","doubleSided","cullFace","normalTexture","occlusionTexture","emissiveTexture","emissiveFactor","pbrMetallicRoughness","opaque","mask","blend","Boolean","none","back","front","reader","index","jpg","png","dds","atlas","Float32","UInt64","UInt32","UInt16","UInt8","draco","offset","triangle","RegExp","match","slice","serverType","sublayer","toUpperCase","toLowerCase","S","authority","start","num","sortOrder","sortField","_request","total","nextStart","created","size","Date","hasPath","userItemUrl","FormData","append","access","method","body","deleteAll","Blob","inches","feet","yards","miles","millimeters","centimeters","decimeters","meters","kilometers"],"mappings":"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","file":"chunks/9694.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../chunks/tslib.es6.js\";import{assumeNonNull as e}from\"./maybe.js\";import{property as s}from\"./accessorSupport/decorators/property.js\";import{subclass as t}from\"./accessorSupport/decorators/subclass.js\";import o from\"./Accessor.js\";import i from\"./Collection.js\";let h=class extends o{constructor(r){super(r),this._groups=new Map}destroy(){this.removeAll()}get size(){let r=0;return this._groups.forEach((e=>{r+=e.length})),r}add(r,e){if(!this._isHandle(r)&&!Array.isArray(r)&&!i.isCollection(r))return this;const s=this._getOrCreateGroup(e);return Array.isArray(r)||i.isCollection(r)?r.forEach((r=>this._isHandle(r)&&s.push(r))):s.push(r),this.notifyChange(\"size\"),this}forEach(r,e){if(\"function\"==typeof r)this._groups.forEach((e=>e.forEach(r)));else{const s=this._getGroup(r);s&&e&&s.forEach(e)}}has(r){return this._groups.has(this._ensureGroupKey(r))}remove(r){if(Array.isArray(r)||i.isCollection(r))return r.forEach(this.remove,this),this;if(!this.has(r))return this;const e=this._getGroup(r);for(let r=0;r<e.length;r++)e[r].remove();return this._deleteGroup(r),this.notifyChange(\"size\"),this}removeAll(){return this._groups.forEach((r=>{for(let e=0;e<r.length;e++)r[e].remove()})),this._groups.clear(),this.notifyChange(\"size\"),this}_isHandle(r){return r&&!!r.remove}_getOrCreateGroup(r){if(this.has(r))return this._getGroup(r);const e=[];return this._groups.set(this._ensureGroupKey(r),e),e}_getGroup(r){return e(this._groups.get(this._ensureGroupKey(r)))}_deleteGroup(r){return this._groups.delete(this._ensureGroupKey(r))}_ensureGroupKey(r){return r||\"_default_\"}};r([s({readOnly:!0})],h.prototype,\"size\",null),h=r([t(\"esri.core.Handles\")],h);var u=h;export default u;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{isMultiOriginJSONMixin as i}from\"../multiOriginJSONSupportUtils.js\";function r(r){r&&r.writtenProperties&&r.writtenProperties.forEach((r=>{const t=r.target;r.newOrigin&&r.oldOrigin!==r.newOrigin&&i(t)&&t.updateOrigin(r.propName,r.newOrigin)}))}export{r as updateOrigins};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nfunction i(i){return i&&\"getAtOrigin\"in i&&\"originOf\"in i}export{i as isMultiOriginJSONMixin};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{equals as n}from\"./lang.js\";import{isEventTarget as t,on as r}from\"./events.js\";import{createDeferred as e,onAbort as o,createAbortError as u}from\"./promiseUtils.js\";function c(n,t,r,e,o){const u=n.watch(t,((t,o,u,c)=>{r&&!r(t)||null==e||e.call(n,t,o,u,c)}),o);if(Array.isArray(t))for(const o of t){const u=n.get(o);r&&r(u)&&(null==e||e.call(n,u,u,t,n))}else{const o=n.get(t);r&&r(o)&&(null==e||e.call(n,o,o,t,n))}return u}function i(n,t,r,i,f){const l=\"function\"==typeof i?i:null,s=\"object\"==typeof i?i:null;\"boolean\"==typeof i&&(f=i);let a,m=!1;function p(){a&&(a.remove(),a=null)}const v=e();o(s,(()=>{p(),v.reject(u())}));const d={then:v.promise.then.bind(v.promise),catch:v.promise.catch.bind(v.promise),remove:p};return Object.freeze(d),a=c(n,t,r,((t,r,e,o)=>{m=!0,p(),l&&l.call(n,t,r,e,o),v.resolve({value:t,oldValue:r,propertyName:e,target:o})}),f),m&&p(),d}function f(n){return!!n}function l(n){return!n}function s(n){return!0===n}function a(n){return!1===n}function m(n){return void 0!==n}function p(n){return void 0===n}const v=/\\?(\\.|$)/g;function d(n,t,r,e){const o=Array.isArray(t)?t:t.indexOf(\",\")>-1?t.split(\",\"):[t],u=h(n,t,r,e);for(const t of o){const e=t.trim().replace(v,\"$1\"),o=n.get(e);r.call(n,o,o,e,n)}return u}function h(n,t,r,e){return n.watch(t,r,e)}function g(n,t,r,e){return i(n,t,null,r,e)}function y(n,t,r,e){return c(n,t,f,r,e)}function j(n,t,r,e){return i(n,t,f,r,e)}function b(n,t,r,e){return c(n,t,l,r,e)}function A(n,t,r,e){return i(n,t,l,r,e)}function w(n,t,r,e){return c(n,t,s,r,e)}function x(n,t,r,e){return i(n,t,s,r,e)}function O(n,t,r,e){return c(n,t,a,r,e)}function $(n,t,r,e){return i(n,t,a,r,e)}function z(n,t,r,e){return c(n,t,m,r,e)}function N(n,t,r,e){return i(n,t,m,r,e)}function U(n,t,r,e){return c(n,t,p,r,e)}function V(n,t,r,e){return i(n,t,p,r,e)}function k(t,r,e,o,u){return c(t,r,(t=>n(e,t)),o,u)}function q(t,r,e,o,u){return i(t,r,(t=>n(e,t)),o,u)}function B(n,t,r,e){let o=!1;const u=n.watch(t,((t,e,u,c)=>{o||r.call(n,t,e,u,c)}),e);return{remove(){u.remove()},pause(){o=!0},resume(){o=!1}}}function C(n,e,o,u,c,i,f){const l={};function s(t){const r=l[t];r&&(i&&i(r.target,t,n,o),r.handle.remove(),delete l[t])}const a=d(n,e,((e,i,f)=>{s(f),t(e)&&(l[f]={handle:r(e,o,u),target:e},c&&c(e,f,n,o))}),f);return{remove(){a.remove();for(const n in l)s(n)}}}export{d as init,C as on,g as once,B as pausable,h as watch,y as when,z as whenDefined,N as whenDefinedOnce,k as whenEqual,q as whenEqualOnce,O as whenFalse,$ as whenFalseOnce,b as whenNot,A as whenNotOnce,j as whenOnce,w as whenTrue,x as whenTrueOnce,U as whenUndefined,V as whenUndefinedOnce,i as whenValidOnce};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport r from\"../../core/Error.js\";import{generateUUID as e}from\"../../core/uuid.js\";import{eachAlways as o,throwIfAborted as t}from\"../../core/promiseUtils.js\";import{result as s}from\"../../core/asyncUtils.js\";import{getSiblingOfSameTypeI as c}from\"../../portal/support/resourceUtils.js\";async function a(s,a,u){if(!a||!a.resources)return;const h=a.portalItem===s.portalItem?new Set(s.paths):new Set;s.paths.length=0,s.portalItem=a.portalItem;const i=new Set(a.resources.toKeep.map((r=>r.resource.path))),f=new Set,m=[];i.forEach((r=>{h.delete(r),s.paths.push(r)}));for(const r of a.resources.toUpdate)if(h.delete(r.resource.path),i.has(r.resource.path)||f.has(r.resource.path)){const{resource:o,content:t,finish:a,error:p}=r,h=c(o,e());s.paths.push(h.path),m.push(n({resource:h,content:t,finish:a,error:p},u))}else s.paths.push(r.resource.path),m.push(p(r,u)),f.add(r.resource.path);for(const r of a.resources.toAdd)m.push(n(r,u)),s.paths.push(r.resource.path);if(h.forEach((r=>{const e=a.portalItem.resourceFromPath(r);m.push(e.portalItem.removeResource(e).catch((()=>{})))})),0===m.length)return;const l=await o(m);t(u);const d=l.filter((r=>\"error\"in r)).map((r=>r.error));if(d.length>0)throw new r(\"save:resources\",\"Failed to save one or more resources\",{errors:d})}async function n(r,e){const o=await s(r.resource.portalItem.addResource(r.resource,r.content,e));if(!0!==o.ok)throw r.error&&r.error(o.error),o.error;r.finish&&r.finish(r.resource)}async function p(r,e){const o=await s(r.resource.update(r.content,e));if(!0!==o.ok)throw r.error(o.error),o.error;r.finish(r.resource)}export{a as saveResources};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import{isSome as t}from\"../../core/maybe.js\";import r from\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import{reader as i}from\"../../core/accessorSupport/decorators/reader.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";import{writer as a}from\"../../core/accessorSupport/decorators/writer.js\";import n from\"../../core/Error.js\";import{urlToObject as l,join as p}from\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import{debounce as d,reject as c,all as u}from\"../../core/promiseUtils.js\";import m from\"../../geometry/SpatialReference.js\";import y from\"../../geometry/Extent.js\";import h from\"../../request.js\";import f from\"../../portal/Portal.js\";import v from\"../../portal/PortalItem.js\";import{updateOrigins as g}from\"../../core/accessorSupport/originUtils.js\";import{titleFromUrlAndName as w,parse as S,cleanTitle as I,sanitizeUrlWithLayerId as x,writeUrlWithLayerId as b,isArcGISUrl as j}from\"../support/arcgisLayerUrl.js\";import _ from\"../../geometry/HeightModelInfo.js\";import{saveResources as R}from\"../../webdoc/support/saveUtils.js\";import{url as N}from\"../support/commonProperties.js\";const O=r.getLogger(\"esri.layers.mixins.SceneService\"),T=r=>{let T=class extends r{constructor(){super(...arguments),this.spatialReference=null,this.fullExtent=null,this.heightModelInfo=null,this.minScale=0,this.maxScale=0,this.version={major:Number.NaN,minor:Number.NaN,versionString:\"\"},this.copyright=null,this.sublayerTitleMode=\"item-title\",this.title=null,this.layerId=null,this._debouncedSaveOperations=d((async(e,t,r)=>{switch(e){case 0:return this._save(t);case 1:return this._saveAs(r,t)}}))}readSpatialReference(e,t){return this._readSpatialReference(t)}_readSpatialReference(e){if(null!=e.spatialReference)return m.fromJSON(e.spatialReference);{const t=e.store,r=t.indexCRS||t.geographicCRS,o=r&&parseInt(r.substring(r.lastIndexOf(\"/\")+1,r.length),10);return null!=o?new m(o):null}}readFullExtent(e,t){const r=t.store,o=this._readSpatialReference(t);return null==o||null==r||null==r.extent||!Array.isArray(r.extent)||r.extent.some((e=>e<U))?null:new y({xmin:r.extent[0],ymin:r.extent[1],xmax:r.extent[2],ymax:r.extent[3],spatialReference:o})}readVersion(e,t){const r=t.store,o=null!=r.version?r.version.toString():\"\",i={major:Number.NaN,minor:Number.NaN,versionString:o},s=o.split(\".\");return s.length>=2&&(i.major=parseInt(s[0],10),i.minor=parseInt(s[1],10)),i}readTitlePortalItem(e){return\"item-title\"!==this.sublayerTitleMode?void 0:e}readTitleService(e,r){const o=this.portalItem&&this.portalItem.title;if(\"item-title\"===this.sublayerTitleMode)return w(this.url,r.name);let i=r.name;if(!i&&this.url){const e=S(this.url);t(e)&&(i=e.title)}return\"item-title-and-service-name\"===this.sublayerTitleMode&&o&&(i=o+\" - \"+i),I(i)}set url(e){const t=x(this,e,O);this._set(\"url\",t.url),null!=t.layerId&&this._set(\"layerId\",t.layerId)}writeUrl(e,t,r,o){b(this,e,\"layers\",t,o)}get parsedUrl(){const e=this._get(\"url\");if(!e)return null;const t=l(e);return null!=this.layerId&&j(t.path)&&(t.path=`${t.path}/layers/${this.layerId}`),t}async _verifyRootNodeAndUpdateExtent(e,t){if(e)try{return this._updateExtentFromRootPage(e,await this._fetchRootPage(e,t))}catch(e){}return this._updateExtentFromRootNode(await this._fetchRootNode(t))}async _fetchRootPage(e,t){if(!e)return c();const r=Math.floor(e.rootIndex/e.nodesPerPage),o=`${this.parsedUrl.path}/nodepages/${r}`;return(await h(o,{responseType:\"json\",signal:t})).data}_updateExtentFromRootPage(e,t){if(null==t||null==t.nodes)throw new n(\"sceneservice:invalid-node-page\",\"Inavlid node page.\");const r=t.nodes[e.rootIndex%e.nodesPerPage];if(null==r||null==r.obb||null==r.obb.center||null==r.obb.halfSize)throw new n(\"sceneservice:invalid-node-page\",\"Inavlid node page.\");if(r.obb.center[0]<U)return;const o=r.obb.halfSize,i=r.obb.center[2],s=Math.sqrt(o[0]*o[0]+o[1]*o[1]+o[2]*o[2]);this.fullExtent.zmin=i-s,this.fullExtent.zmax=i+s}_updateExtentFromRootNode(e){if(null==e||null==this.fullExtent||this.fullExtent.hasZ)return;if(!Array.isArray(e.mbs)||4!==e.mbs.length||e.mbs[0]<U)return;const t=e.mbs[2],r=e.mbs[3];this.fullExtent.zmin=t-r,this.fullExtent.zmax=t+r}async _fetchRootNode(e){if(!this.rootNode)return;const t=p(this.parsedUrl.path,this.rootNode);try{return(await h(t,{query:{f:\"json\"},responseType:\"json\",signal:e})).data}catch(e){throw new n(\"sceneservice:root-node-missing\",\"Root node missing.\",{error:e,url:t})}}async _fetchService(e){if(null==this.layerId&&/SceneServer\\/*$/i.test(this.url)){const t=await this._fetchFirstLayerId(e);null!=t&&(this.layerId=t)}return this._fetchServiceLayer(e)}async _fetchFirstLayerId(e){const t=await h(this.url,{query:{f:\"json\"},responseType:\"json\",signal:e});if(t.data&&Array.isArray(t.data.layers)&&t.data.layers.length>0)return t.data.layers[0].id}async _fetchServiceLayer(e){const t=await h(this.parsedUrl.path,{query:{f:\"json\"},responseType:\"json\",signal:e});t.ssl&&(this.url=this.url.replace(/^http:/i,\"https:\"));const r=t.data;this.read(r,{origin:\"service\",url:this.parsedUrl}),this.validateLayer(r)}async _ensureLoadBeforeSave(){await this.load(),\"beforeSave\"in this&&\"function\"==typeof this.beforeSave&&await this.beforeSave()}validateLayer(e){}_updateTypeKeywords(e,t,r){e.typeKeywords||(e.typeKeywords=[]);const o=t.getTypeKeywords();for(const t of o)e.typeKeywords.push(t);e.typeKeywords&&(e.typeKeywords=e.typeKeywords.filter(((e,t,r)=>r.indexOf(e)===t)),1===r&&(e.typeKeywords=e.typeKeywords.filter((e=>\"Hosted Service\"!==e))))}async _saveAs(e,t){const r={...A,...t};let o=v.from(e);o||(O.error(\"_saveAs(): requires a portal item parameter\"),await c(new n(\"sceneservice:portal-item-required\",\"_saveAs() requires a portal item to save to\"))),o.id&&(o=o.clone(),o.id=null);const i=o.portal||f.getDefault();await this._ensureLoadBeforeSave(),o.type=P,o.portal=i;const s={origin:\"portal-item\",url:null,messages:[],portal:i,portalItem:o,writtenProperties:[],blockedRelativeUrls:[],resources:{toAdd:[],toUpdate:[],toKeep:[],pendingOperations:[]}},a={layers:[this.write(null,s)]};return await u(s.resources.pendingOperations),await this._validateAgainstJSONSchema(a,s,r),o.url=this.url,o.title||(o.title=this.title),this._updateTypeKeywords(o,r,1),await i._signIn(),await i.user.addItem({item:o,folder:r&&r.folder,data:a}),await R(this.resourceReferences,s,null),this.portalItem=o,g(s),s.portalItem=o,o}async _save(e){const t={...A,...e};this.portalItem||(O.error(\"_save(): requires the .portalItem property to be set\"),await c(new n(\"sceneservice:portal-item-not-set\",\"Portal item to save to has not been set on this SceneService\"))),this.portalItem.type!==P&&(O.error(\"_save(): Non-matching portal item type. Got \"+this.portalItem.type+\", expected \"+P),await c(new n(\"sceneservice:portal-item-wrong-type\",`Portal item needs to have type \"${P}\"`))),await this._ensureLoadBeforeSave();const r={origin:\"portal-item\",url:this.portalItem.itemUrl&&l(this.portalItem.itemUrl),messages:[],portal:this.portalItem.portal||f.getDefault(),portalItem:this.portalItem,writtenProperties:[],blockedRelativeUrls:[],resources:{toAdd:[],toUpdate:[],toKeep:[],pendingOperations:[]}},o={layers:[this.write(null,r)]};return await u(r.resources.pendingOperations),await this._validateAgainstJSONSchema(o,r,t),this.portalItem.url=this.url,this.portalItem.title||(this.portalItem.title=this.title),this._updateTypeKeywords(this.portalItem,t,0),await this.portalItem.update({data:o}),await R(this.resourceReferences,r,null),g(r),this.portalItem}async _validateAgainstJSONSchema(e,t,r){let o=t.messages.filter((e=>\"error\"===e.type)).map((e=>new n(e.name,e.message,e.details)));if(r&&r.validationOptions.ignoreUnsupported&&(o=o.filter((e=>\"layer:unsupported\"!==e.name&&\"symbol:unsupported\"!==e.name&&\"symbol-layer:unsupported\"!==e.name&&\"property:unsupported\"!==e.name&&\"url:unsupported\"!==e.name&&\"scenemodification:unsupported\"!==e.name))),r.validationOptions.enabled||E){const t=(await import(\"../support/schemaValidator.js\")).validate(e,r.portalItemLayerType);if(t.length>0){const e=`Layer item did not validate:\\n${t.join(\"\\n\")}`;if(O.error(`_validateAgainstJSONSchema(): ${e}`),\"throw\"===r.validationOptions.failPolicy){const e=t.map((e=>new n(\"sceneservice:schema-validation\",e))).concat(o);throw new n(\"sceneservice-validate:error\",\"Failed to save layer item due to schema validation, see `details.errors`.\",{combined:e})}}}if(o.length>0)throw new n(\"sceneservice:save\",\"Failed to save SceneService due to unsupported or invalid content. See 'details.errors' for more detailed information\",{errors:o})}};return e([o({json:{origins:{service:{read:!1},\"portal-item\":{read:!1}}}})],T.prototype,\"id\",void 0),e([o({type:m})],T.prototype,\"spatialReference\",void 0),e([i(\"spatialReference\",[\"spatialReference\",\"store.indexCRS\",\"store.geographicCRS\"])],T.prototype,\"readSpatialReference\",null),e([o({type:y})],T.prototype,\"fullExtent\",void 0),e([i(\"fullExtent\",[\"store.extent\",\"spatialReference\",\"store.indexCRS\",\"store.geographicCRS\"])],T.prototype,\"readFullExtent\",null),e([o({readOnly:!0,type:_})],T.prototype,\"heightModelInfo\",void 0),e([o({type:Number,json:{name:\"layerDefinition.minScale\",write:!0,origins:{service:{read:{source:\"minScale\"},write:!1}}}})],T.prototype,\"minScale\",void 0),e([o({type:Number,json:{name:\"layerDefinition.maxScale\",write:!0,origins:{service:{read:{source:\"maxScale\"},write:!1}}}})],T.prototype,\"maxScale\",void 0),e([o({readOnly:!0})],T.prototype,\"version\",void 0),e([i(\"version\",[\"store.version\"])],T.prototype,\"readVersion\",null),e([o({type:String,json:{read:{source:\"copyrightText\"}}})],T.prototype,\"copyright\",void 0),e([o({type:String,json:{read:!1}})],T.prototype,\"sublayerTitleMode\",void 0),e([o({type:String})],T.prototype,\"title\",void 0),e([i(\"portal-item\",\"title\")],T.prototype,\"readTitlePortalItem\",null),e([i(\"service\",\"title\",[\"name\"])],T.prototype,\"readTitleService\",null),e([o({type:Number,json:{origins:{service:{read:{source:\"id\"}},\"portal-item\":{write:{target:\"id\",isRequired:!0,ignoreOrigin:!0},read:!1}}}})],T.prototype,\"layerId\",void 0),e([o(N)],T.prototype,\"url\",null),e([a(\"url\")],T.prototype,\"writeUrl\",null),e([o({dependsOn:[\"layerId\"]})],T.prototype,\"parsedUrl\",null),e([o({readOnly:!0})],T.prototype,\"store\",void 0),e([o({type:String,readOnly:!0,json:{read:{source:\"store.rootNode\"}}})],T.prototype,\"rootNode\",void 0),T=e([s(\"esri.layers.mixins.SceneService\")],T),T},U=-1e38,E=!1,P=\"Scene Service\",A={getTypeKeywords:()=>[],portalItemLayerType:\"unknown\",validationOptions:{enabled:!0,ignoreUnsupported:!1,failPolicy:\"throw\"}};export{P as SCENE_SERVICE_ITEM_TYPE,T as SceneService};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as t}from\"../../core/accessorSupport/decorators/property.js\";import{enumeration as o}from\"../../core/accessorSupport/decorators/enumeration.js\";import{subclass as r}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import{JSONSupport as p}from\"../../core/JSONSupport.js\";let s=class extends p{constructor(){super(...arguments),this.nodesPerPage=null,this.rootIndex=0,this.lodSelectionMetricType=null}};e([t({type:Number})],s.prototype,\"nodesPerPage\",void 0),e([t({type:Number})],s.prototype,\"rootIndex\",void 0),e([t({type:String})],s.prototype,\"lodSelectionMetricType\",void 0),s=e([r(\"esri.layer.support.I3SNodePageDefinition\")],s);let i=class extends p{constructor(){super(...arguments),this.factor=1}};e([t({type:Number,json:{read:{source:\"textureSetDefinitionId\"}}})],i.prototype,\"id\",void 0),e([t({type:Number})],i.prototype,\"factor\",void 0),i=e([r(\"esri.layer.support.I3SMaterialTexture\")],i);let l=class extends p{constructor(){super(...arguments),this.baseColorFactor=[1,1,1,1],this.baseColorTexture=null,this.metallicRoughnessTexture=null,this.metallicFactor=1,this.roughnessFactor=1}};e([t({type:[Number]})],l.prototype,\"baseColorFactor\",void 0),e([t({type:i})],l.prototype,\"baseColorTexture\",void 0),e([t({type:i})],l.prototype,\"metallicRoughnessTexture\",void 0),e([t({type:Number})],l.prototype,\"metallicFactor\",void 0),e([t({type:Number})],l.prototype,\"roughnessFactor\",void 0),l=e([r(\"esri.layer.support.I3SMaterialPBRMetallicRoughness\")],l);let a=class extends p{constructor(){super(...arguments),this.alphaMode=\"opaque\",this.alphaCutoff=.25,this.doubleSided=!1,this.cullFace=\"none\",this.normalTexture=null,this.occlusionTexture=null,this.emissiveTexture=null,this.emissiveFactor=null,this.pbrMetallicRoughness=null}};e([o({opaque:\"opaque\",mask:\"mask\",blend:\"blend\"})],a.prototype,\"alphaMode\",void 0),e([t({type:Number})],a.prototype,\"alphaCutoff\",void 0),e([t({type:Boolean})],a.prototype,\"doubleSided\",void 0),e([o({none:\"none\",back:\"back\",front:\"front\"})],a.prototype,\"cullFace\",void 0),e([t({type:i})],a.prototype,\"normalTexture\",void 0),e([t({type:i})],a.prototype,\"occlusionTexture\",void 0),e([t({type:i})],a.prototype,\"emissiveTexture\",void 0),e([t({type:[Number]})],a.prototype,\"emissiveFactor\",void 0),e([t({type:l})],a.prototype,\"pbrMetallicRoughness\",void 0),a=e([r(\"esri.layer.support.I3SMaterialDefinition\")],a);let n=class extends p{};e([t({type:String,json:{read:{source:[\"name\",\"index\"],reader:(e,t)=>null!=e?e:`${t.index}`}}})],n.prototype,\"name\",void 0),e([o({jpg:\"jpg\",png:\"png\",dds:\"dds\",\"ktx-etc2\":\"ktx-etc2\"})],n.prototype,\"format\",void 0),n=e([r(\"esri.layer.support.I3STextureFormat\")],n);let u=class extends p{constructor(){super(...arguments),this.atlas=!1}};e([t({type:[n]})],u.prototype,\"formats\",void 0),e([t({type:Boolean})],u.prototype,\"atlas\",void 0),u=e([r(\"esri.layer.support.I3STextureSetDefinition\")],u);let y=class extends p{};e([o({Float32:\"Float32\",UInt64:\"UInt64\",UInt32:\"UInt32\",UInt16:\"UInt16\",UInt8:\"UInt8\"})],y.prototype,\"type\",void 0),e([t({type:Number})],y.prototype,\"component\",void 0),y=e([r(\"esri.layer.support.I3SGeometryAttribute\")],y);let c=class extends p{};e([o({draco:\"draco\"})],c.prototype,\"encoding\",void 0),e([t({type:[String]})],c.prototype,\"attributes\",void 0),c=e([r(\"esri.layer.support.I3SGeometryCompressedAttributes\")],c);let d=class extends p{constructor(){super(...arguments),this.offset=0}};e([t({type:Number})],d.prototype,\"offset\",void 0),e([t({type:y})],d.prototype,\"position\",void 0),e([t({type:y})],d.prototype,\"normal\",void 0),e([t({type:y})],d.prototype,\"uv0\",void 0),e([t({type:y})],d.prototype,\"color\",void 0),e([t({type:y})],d.prototype,\"uvRegion\",void 0),e([t({type:y})],d.prototype,\"featureId\",void 0),e([t({type:y})],d.prototype,\"faceRange\",void 0),e([t({type:c})],d.prototype,\"compressedAttributes\",void 0),d=e([r(\"esri.layer.support.I3SGeometryBuffer\")],d);let m=class extends p{};e([o({triangle:\"triangle\"})],m.prototype,\"topology\",void 0),e([t()],m.prototype,\"geometryBuffers\",void 0),m=e([r(\"esri.layer.support.I3SGeometryDefinition\")],m);export{y as I3SGeometryAttribute,d as I3SGeometryBuffer,c as I3SGeometryCompressedAttributes,m as I3SGeometryDefinition,a as I3SMaterialDefinition,l as I3SMaterialPBRMetallicRoughness,i as I3SMaterialTexture,s as I3SNodePageDefinition,n as I3STextureFormat,u as I3STextureSetDefinition};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../core/maybe.js\";import{urlToObject as r,removeTrailingSlash as t,removeQueryParameters as n,join as s,Url as i,makeAbsolute as o}from\"../../core/urlUtils.js\";import{w as u}from\"../../chunks/persistableUrlUtils.js\";const l=[\"MapServer\",\"ImageServer\",\"FeatureServer\",\"SceneServer\",\"StreamServer\",\"VectorTileServer\"],a=new RegExp(`^((?:https?:)?\\\\/\\\\/\\\\S+?\\\\/rest\\\\/services\\\\/(.+?)\\\\/(${l.join(\"|\")}))(?:\\\\/(?:layers\\\\/)?(\\\\d+))?`,\"i\"),c=new RegExp(`^((?:https?:)?\\\\/\\\\/\\\\S+?\\\\/([^\\\\/\\\\n]+)\\\\/(${l.join(\"|\")}))(?:\\\\/(?:layers\\\\/)?(\\\\d+))?`,\"i\");function f(e){return!!a.test(e)}function p(e){const t=r(e),n=t.path.match(a)||t.path.match(c);if(!n)return null;const[,s,i,o,u]=n,l=i.indexOf(\"/\");return{title:m(-1!==l?i.slice(l+1):i),serverType:o,sublayer:null!=u&&\"\"!==u?parseInt(u,10):null,url:{path:s}}}function m(e){return(e=e.replace(/\\s*[/_]+\\s*/g,\" \"))[0].toUpperCase()+e.slice(1)}function d(r,t){const n=[];if(r){const t=p(r);e(t)&&t.title&&n.push(t.title)}if(t){const e=m(t);n.push(e)}if(2===n.length){if(-1!==n[0].toLowerCase().indexOf(n[1].toLowerCase()))return n[0];if(-1!==n[1].toLowerCase().indexOf(n[0].toLowerCase()))return n[1]}return n.join(\" - \")}function v(e){if(!e)return!1;const r=-1!==(e=e.toLowerCase()).indexOf(\".arcgis.com/\"),t=-1!==e.indexOf(\"//services\")||-1!==e.indexOf(\"//tiles\")||-1!==e.indexOf(\"//features\");return r&&t}function w(e,r){return r&&e&&-1!==e.toLowerCase().indexOf(r.toLowerCase())}function x(e,r){return e?t(n(e,r)):e}function h(s,i,o){if(!i)return{url:i};i=n(i,o);const u=p(r(i).path);let l;return e(u)&&(null!=u.sublayer&&null==s.layerId&&(l=u.sublayer),i=u.url.path),{url:t(i),layerId:l}}function y(e,r,t,n,i){u(r,n,\"url\",i),n.url&&null!=e.layerId&&(n.url=s(n.url,t,e.layerId.toString()))}function O(e){if(!e)return!1;const r=e.toLowerCase(),t=-1!==r.indexOf(\"/services/\"),n=-1!==r.indexOf(\"/mapserver/wmsserver\"),s=-1!==r.indexOf(\"/imageserver/wmsserver\"),i=-1!==r.indexOf(\"/wmsserver\");return t&&(n||s||i)}function S(e){if(!e)return!1;const r=new i(o(e)).authority.toLowerCase();return\"server.arcgisonline.com\"===r||\"services.arcgisonline.com\"===r}export{m as cleanTitle,f as isArcGISUrl,v as isHostedAgolService,w as isHostedSecuredProxyService,S as isServerOrServicesAGOLUrl,O as isWmsServer,p as parse,x as sanitizeUrl,h as sanitizeUrlWithLayerId,l as serverTypes,d as titleFromUrlAndName,y as writeUrlWithLayerId};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{get as e,isSome as t,isNone as r}from\"../../core/maybe.js\";import a from\"../../core/Error.js\";import{join as o,getPathExtension as s}from\"../../core/urlUtils.js\";import n from\"../../request.js\";async function u(t,r={},a){await t.load(a);const s=o(t.itemUrl,\"resources\"),{start:n=1,num:u=10,sortOrder:c=\"asc\",sortField:i=\"created\"}=r,l={query:{start:n,num:u,sortOrder:c,sortField:i},signal:e(a,\"signal\")},p=await t.portal._request(s,l);return{total:p.total,nextStart:p.nextStart,resources:p.resources.map((({created:e,size:r,resource:a})=>({created:new Date(e),size:r,resource:t.resourceFromPath(a)})))}}async function c(r,s,n,u){if(!r.hasPath())throw new a(`portal-item-resource-${s}:invalid-path`,\"Resource does not have a valid path\");await r.portalItem.load(u);const c=o(r.portalItem.userItemUrl,\"add\"===s?\"addResources\":\"updateResources\"),[i,l]=p(r.path),m=await d(n),h=new FormData;return i&&\".\"!==i&&h.append(\"resourcesPrefix\",i),h.append(\"fileName\",l),h.append(\"file\",m,l),h.append(\"f\",\"json\"),t(u)&&u.access&&h.append(\"access\",u.access),await r.portalItem.portal._request(c,{method:\"post\",body:h,signal:e(u,\"signal\")}),r}async function i(t,r,s){if(!r.hasPath())throw new a(\"portal-item-resources-remove:invalid-path\",\"Resource does not have a valid path\");await t.load(s);const n=o(t.userItemUrl,\"removeResources\");await t.portal._request(n,{method:\"post\",query:{resource:r.path},signal:e(s,\"signal\")}),r.portalItem=null}async function l(t,r){await t.load(r);const a=o(t.userItemUrl,\"removeResources\");return t.portal._request(a,{method:\"post\",query:{deleteAll:!0},signal:e(r,\"signal\")})}function p(e){const t=e.lastIndexOf(\"/\");return-1===t?[\".\",e]:[e.slice(0,t),e.slice(t+1)]}function m(e){const[t,a]=function(e){const t=s(e);if(r(t))return[e,\"\"];return[e.slice(0,e.length-t.length-1),`.${t}`]}(e),[o,n]=p(t);return[o,n,a]}async function d(e){if(e instanceof Blob)return e;return(await n(e.url,{responseType:\"blob\"})).data}function h(e,t){if(!e.hasPath())return null;const[r,,a]=m(e.path);return e.portalItem.resourceFromPath(o(r,t+a))}function f(e,t){if(!e.hasPath())return null;const[r,,a]=m(e.path);return e.portalItem.resourceFromPath(o(r,t+a))}export{c as addOrUpdateResource,d as contentToBlob,u as fetchResources,h as getSiblingOfSameType,f as getSiblingOfSameTypeI,l as removeAllResources,i as removeResource,m as splitPrefixFileNameAndExtension};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{earth as e}from\"../../geometry/support/Ellipsoid.js\";import{convertUnit as s,lengthToDegrees as t}from\"../../core/unitUtils.js\";const m={inches:s(1,\"meters\",\"inches\"),feet:s(1,\"meters\",\"feet\"),\"us-feet\":s(1,\"meters\",\"us-feet\"),yards:s(1,\"meters\",\"yards\"),miles:s(1,\"meters\",\"miles\"),\"nautical-miles\":s(1,\"meters\",\"nautical-miles\"),millimeters:s(1,\"meters\",\"millimeters\"),centimeters:s(1,\"meters\",\"centimeters\"),decimeters:s(1,\"meters\",\"decimeters\"),meters:s(1,\"meters\",\"meters\"),kilometers:s(1,\"meters\",\"kilometers\"),\"decimal-degrees\":1/t(1,\"meters\",e.radius)};export{m as meterIn};\n"],"sourceRoot":""}