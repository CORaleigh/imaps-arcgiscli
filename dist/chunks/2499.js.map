{"version":3,"sources":["webpack://imaps/./node_modules/@arcgis/core/core/devEnvironmentUtils.js","webpack://imaps/./node_modules/@arcgis/core/support/featureFlags.js","webpack://imaps/./node_modules/@arcgis/core/symbols/support/styleUtils.js"],"names":["a","e","some","c","t","match","r","m","replace","n","s","o","d","g","styleUrl","S","then","data","baseUrl","styleName","portal","l","url","user","username","load","disableExtraQuery","query","$","E","queryItems","results","toLowerCase","Array","isArray","typeKeywords","type","owner","fetchData","itemUrl","h","w","name","D","U","origin","j","i","items","find","symbolName","cimRef","formatInfos","href","webRef","N","thumbnail","imageData","styleOrigin","symbol","test","responseType","f"],"mappings":"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","file":"chunks/2499.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport c from\"./global.js\";function a(a){return a=a||c.location.hostname,e.some((c=>{var t;return null!=(null==(t=a)?void 0:t.match(c))}))}function t(a,t){return a&&(t=t||c.location.hostname)?null!=t.match(r)||null!=t.match(m)?a.replace(\"static.arcgis.com\",\"staticdev.arcgis.com\"):null!=t.match(n)||null!=t.match(s)?a.replace(\"static.arcgis.com\",\"staticqa.arcgis.com\"):a:a}function o(a){a=a||c.location.hostname;return[/^zrh-.+?\\.esri\\.com$/].concat(e).some((c=>{var t;return null!=(null==(t=a)?void 0:t.match(c))}))}const r=/^devext.arcgis.com$/,n=/^qaext.arcgis.com$/,m=/^[\\w-]*\\.mapsdevext.arcgis.com$/,s=/^[\\w-]*\\.mapsqa.arcgis.com$/,e=[/^([\\w-]*\\.)?[\\w-]*\\.zrh-dev-local.esri.com$/,r,n,/^jsapps.esri.com$/,m,s];export{t as adjustStaticAGOUrl,a as isDevEnvironment,o as isTelemetryDevEnvironment};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport e from\"../core/has.js\";function o(o){return!!e(`enable-feature:${o}`)}const r=()=>o(\"force-wosr\"),t=()=>o(\"disable-context-navigation\");export{t as disableContextNavigation,r as enableWebStyleForceWOSR,o as hasEnableFeature};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport e from\"../../core/Error.js\";import{normalize as t,removeFile as r,urlToObject as o}from\"../../core/urlUtils.js\";import{f as s}from\"../../chunks/persistableUrlUtils.js\";import{reject as n}from\"../../core/promiseUtils.js\";import l from\"../../request.js\";import a from\"../../portal/PortalQueryParams.js\";import i from\"../../portal/Portal.js\";import m from\"./StyleOrigin.js\";import u from\"./Thumbnail.js\";import{f as y,i as f}from\"../../chunks/symbols.js\";import{isDevEnvironment as c,adjustStaticAGOUrl as p}from\"../../core/devEnvironmentUtils.js\";import{enableWebStyleForceWOSR as b}from\"../../support/featureFlags.js\";const d={};function h(t,r,o){const s=r.portal||i.getDefault();let n;const l=`${s.url} - ${s.user&&s.user.username} - ${t}`;return d[l]||(d[l]=function(t,r,o){return r.load(o).then((()=>{const e=new a({disableExtraQuery:!0,query:`owner:${$} AND type:${E} AND typekeywords:\"${t}\"`});return r.queryItems(e,o)})).then((({results:r})=>{let s=null;const n=t.toLowerCase();if(r&&Array.isArray(r))for(const e of r){if(e.typeKeywords.some((e=>e.toLowerCase()===n))&&e.type===E&&e.owner===$){s=e;break}}if(!s)throw new e(\"symbolstyleutils:style-not-found\",`The style '${t}' could not be found`,{styleName:t});return s.load(o)}))}(t,s,o).then((e=>(n=e,e.fetchData()))).then((e=>({data:e,baseUrl:n.itemUrl,styleName:t})))),d[l]}function g(t,o,s){return t.styleUrl?function(e,t){return S(e,t).then((t=>({data:t.data,baseUrl:r(e),styleUrl:e})))}(t.styleUrl,s):t.styleName?h(t.styleName,o,s):n(new e(\"symbolstyleutils:style-url-and-name-missing\",\"Either styleUrl or styleName is required to resolve a style\"))}function w(t,s,l,a){return t.name?t.styleName&&\"Esri2DPointSymbolsStyle\"===t.styleName?function(e,t,s){const n=D.replace(/\\{SymbolName\\}/gi,e.name);return S(n,s).then((e=>{const s=U(e.data);return y(s,{portal:t.portal,url:o(r(n)),origin:\"portal-item\"})}))}(t,s,a):g(t,s,a).then((e=>j(e,t.name,s,l,a))):n(new e(\"symbolstyleutils:style-symbol-reference-name-missing\",\"Missing name in style symbol reference\"))}function j(t,l,a,i,d){const h=t.data,g={portal:a.portal,url:o(t.baseUrl),origin:\"portal-item\"},w=h.items.find((e=>e.name===l));if(!w){return n(new e(\"symbolstyleutils:symbol-name-not-found\",`The symbol name '${l}' could not be found`,{symbolName:l}))}let j=s(function(e,t){if(\"cimRef\"===t)return e.cimRef;if(e.formatInfos&&!b())for(const t of e.formatInfos)if(\"gltf\"===t.type)return t.href;return e.webRef}(w,i),g),N=w.thumbnail&&w.thumbnail.href;const $=w.thumbnail&&w.thumbnail.imageData;c()&&(j=p(j),N=p(N));const E={portal:a.portal,url:o(r(j)),origin:\"portal-item\"};return S(j,d).then((e=>{const r=\"cimRef\"===i?U(e.data):e.data,o=y(r,E);if(o&&f(o)){if(N){const e=s(N,g);o.thumbnail=new u({url:e})}else $&&(o.thumbnail=new u({url:`data:image/png;base64,${$}`}));t.styleUrl?o.styleOrigin=new m({portal:a.portal,styleUrl:t.styleUrl,name:l}):t.styleName&&(o.styleOrigin=new m({portal:a.portal,styleName:t.styleName,name:l}))}return o}))}function U(e){return null===e||\"CIMSymbolReference\"===e.type?e:{type:\"CIMSymbolReference\",symbol:e}}function N(e){for(const t of e.typeKeywords)if(/^Esri.*Style$/.test(t)&&\"Esri Style\"!==t)return t}function S(e,r){const o={responseType:\"json\",query:{f:\"json\"},...r};return l(t(e),o)}const $=\"esri_en\",E=\"Style\",D=\"https://cdn.arcgis.com/sharing/rest/content/items/220936cc6ed342c9937abd8f180e7d1e/resources/styles/cim/{SymbolName}.json?f=json\";export{g as fetchStyle,j as fetchSymbolFromStyle,w as resolveWebStyleSymbol,N as styleNameFromItem};\n"],"sourceRoot":""}