{"version":3,"sources":["webpack://imaps/./node_modules/@arcgis/core/core/LRUCache.js","webpack://imaps/./node_modules/@arcgis/core/core/compilerUtils.js","webpack://imaps/./node_modules/@arcgis/core/renderers/support/LegendOptions.js","webpack://imaps/./node_modules/@arcgis/core/renderers/support/lengthUtils.js","webpack://imaps/./node_modules/@arcgis/core/renderers/visualVariables/SizeVariable.js","webpack://imaps/./node_modules/@arcgis/core/renderers/visualVariables/VisualVariable.js","webpack://imaps/./node_modules/@arcgis/core/renderers/visualVariables/support/SizeStop.js","webpack://imaps/./node_modules/@arcgis/core/renderers/visualVariables/support/SizeVariableLegendOptions.js","webpack://imaps/./node_modules/@arcgis/core/renderers/visualVariables/support/VisualVariableLegendOptions.js","webpack://imaps/./node_modules/@arcgis/core/renderers/visualVariables/support/sizeVariableUtils.js","webpack://imaps/./node_modules/@arcgis/core/renderers/visualVariables/support/visualVariableUtils.js","webpack://imaps/./node_modules/@arcgis/core/symbols/cim/utils.js","webpack://imaps/./node_modules/@arcgis/core/symbols/support/defaults.js","webpack://imaps/./node_modules/@arcgis/core/views/2d/engine/webgl/GeometryUtils.js","webpack://imaps/./node_modules/@arcgis/core/views/2d/engine/webgl/materialKey/MaterialKey.js","webpack://imaps/./node_modules/@arcgis/core/views/2d/engine/webgl/mesh/templates/meshUtils.js","webpack://imaps/./node_modules/@arcgis/core/views/2d/layers/features/processors/BaseProcessor.js","webpack://imaps/./node_modules/@arcgis/core/views/2d/engine/webgl/collisions/CollisionGrid.js","webpack://imaps/./node_modules/@arcgis/core/views/2d/layers/features/processors/SymbolProcessor.js"],"names":["e","r","this","_storage","maxSize","registerRemoveFunc","t","put","pop","get","clearAll","n","o","s","p","super","arguments","title","type","String","json","write","prototype","m","inches","feet","yards","miles","millimeters","centimeters","decimeters","meters","kilometers","S","z","v","width","depth","height","widthAndDepth","all","w","unknown","inch","foot","yard","mile","millimeter","centimeter","decimeter","meter","kilometer","V","g","f","i","read","axis","legendOptions","normalizationField","scaleBy","target","useSymbolValue","valueExpression","valueRepresentation","valueUnit","ipData","_interpolateData","hasExpression","compiledFunc","isScaleDriven","warn","_set","index","minSize","stops","arcadeRequired","minDataValue","maxDataValue","Array","isArray","filter","sort","value","inputValueType","expression","messages","push","instance","propertyName","context","field","valueExpressionTitle","clone","map","transformationType","size","reverse","length","getAttributeHash","readOnly","dependsOn","apiValues","jsonValues","origins","Number","Boolean","a","u","colorInfo","transparencyInfo","rotationInfo","sizeInfo","c","error","label","cast","customValues","showLegend","slice","declaredClass","isNaN","isFinite","l","Math","PI","d","visualVariables","attributes","cache","color","arcade","viewingMode","scale","spatialReference","arcadeUtils","getViewInfo","createExecContext","createSyntaxTree","createFunction","executeFunction","b","h","parseFloat","opacity","rotationType","x","view","shape","pow","sqrt","resolution","y","forEach","variable","some","indexOf","charAt","substr","toLowerCase","toUpperCase","ceil","M","C","I","k","P","floor","abs","data","symbol","J","N","O","j","POSITIVE_INFINITY","log","from","T","E","Error","load","geometryType","_data","shared","bits","setBits","bit","setBit","mapAligned","pattern","sdf","textureBinding","hasVV","vvSizeMinMaxValue","vvSizeScaleStops","vvSizeFieldStops","vvSizeUnitValue","setVV","vvRotation","vvColor","vvOpacity","dotDensity","getVariation","toJSON","constructOnly","_bucketSize","_rowsLength","_colsLength","_elementsPerBucket","_grid","_initGrid","Uint8Array","schema","processors","_schema","console","debug","mesh","why","_factory","_createFactory","update","tileStore","tileScheme","tileInfo","_onTileData","signal","tileKey","id","remoteClient","invoke","objectIdField","fields","service","_store","_matcher","matcher","addOrUpdate","remove","end","clear","_processFeatures","message","transferList","_handleError","hasFeatures","transform","hasZ","hasM","_getLabelInfos","analyze","getCursor","_writeFeatureSet","createMeshData","getApproximateSize","next","getDisplayId","writeCursor","level","_encodeDisplayData","encode","readLegacyPointGeometry","checkOverlap","readLegacyCentroid","markUsed","labels","minScale","maxScale","Map","_shouldDiscard","has","set","readAttribute","getStorage","getComputedStringAtIndex","fieldIndex","toString","getMosaicItem","then","glyphs","glyphMosaicItems","rtl","_markUsed"],"mappings":"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","file":"chunks/9047.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{MemCacheStorage as t}from\"./MemCache.js\";export default class{constructor(e,r){this._storage=new t,this._storage.maxSize=e,r&&this._storage.registerRemoveFunc(\"\",r)}put(t,e,r){this._storage.put(t,e,r,1)}pop(t){return this._storage.pop(t)}get(t){return this._storage.get(t)}clear(){this._storage.clearAll()}destroy(){this._storage.clearAll()}get maxSize(){return this._storage.maxSize}set maxSize(t){this._storage.maxSize=t}}\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport\"./has.js\";function n(n){}function t(n){}function o(n){return()=>n}const c=(...n)=>n;export{n as neverReached,t as neverReachedSilent,c as tuple,o as typeCast};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import{subclass as t}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import{JSONSupport as e}from\"../../core/JSONSupport.js\";var s;let p=s=class extends e{constructor(){super(...arguments),this.title=null}clone(){return new s({title:this.title})}};r([o({type:String,json:{write:!0}})],p.prototype,\"title\",void 0),p=s=r([t(\"esri.renderers.support.LegendOptions\")],p);var i=p;export default i;export{p as LegendOptions};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{earth as e}from\"../../geometry/support/Ellipsoid.js\";import{convertUnit as s,lengthToDegrees as t}from\"../../core/unitUtils.js\";const m={inches:s(1,\"meters\",\"inches\"),feet:s(1,\"meters\",\"feet\"),\"us-feet\":s(1,\"meters\",\"us-feet\"),yards:s(1,\"meters\",\"yards\"),miles:s(1,\"meters\",\"miles\"),\"nautical-miles\":s(1,\"meters\",\"nautical-miles\"),millimeters:s(1,\"meters\",\"millimeters\"),centimeters:s(1,\"meters\",\"centimeters\"),decimeters:s(1,\"meters\",\"decimeters\"),meters:s(1,\"meters\",\"meters\"),kilometers:s(1,\"meters\",\"kilometers\"),\"decimal-degrees\":1/t(1,\"meters\",e.radius)};export{m as meterIn};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import t from\"../../core/Logger.js\";import{property as i}from\"../../core/accessorSupport/decorators/property.js\";import{cast as s}from\"../../core/accessorSupport/decorators/cast.js\";import{JSONMap as r}from\"../../core/jsonMap.js\";import{reader as a}from\"../../core/accessorSupport/decorators/reader.js\";import{subclass as n}from\"../../core/accessorSupport/decorators/subclass.js\";import{writer as o}from\"../../core/accessorSupport/decorators/writer.js\";import l from\"../../core/Error.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import{toPt as p}from\"../../core/screenUtils.js\";import u from\"./VisualVariable.js\";import m from\"./support/SizeStop.js\";import h from\"./support/SizeVariableLegendOptions.js\";import{isSizeVariable as d,getInputValueType as c,getTransformationType as y}from\"./support/sizeVariableUtils.js\";import{viewScaleRE as x}from\"./support/visualVariableUtils.js\";var S;const z=t.getLogger(\"esri.renderers.visualVariables.SizeVariable\"),v=new r({width:\"width\",depth:\"depth\",height:\"height\",widthAndDepth:\"width-and-depth\",all:\"all\"}),w=new r({unknown:\"unknown\",inch:\"inches\",foot:\"feet\",yard:\"yards\",mile:\"miles\",\"nautical-mile\":\"nautical-miles\",millimeter:\"millimeters\",centimeter:\"centimeters\",decimeter:\"decimeters\",meter:\"meters\",kilometer:\"kilometers\",\"decimal-degree\":\"decimal-degrees\"});function V(e){if(null!=e)return\"string\"==typeof e||\"number\"==typeof e?p(e):\"size\"===e.type?d(e)?e:(delete(e={...e}).type,new g(e)):void 0}function f(e,t,i){if(\"object\"!=typeof e)return e;const s=new g;return s.read(e,i),s}let g=S=class extends u{constructor(e){super(e),this.axis=null,this.legendOptions=null,this.normalizationField=null,this.scaleBy=null,this.target=null,this.type=\"size\",this.useSymbolValue=null,this.valueExpression=null,this.valueRepresentation=null,this.valueUnit=null}get cache(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null,isScaleDriven:x.test(this.valueExpression)}}set expression(e){z.warn(\"'expression' is deprecated since version 4.2. Use 'valueExpression' instead. The only supported expression is 'view.scale'.\"),\"view.scale\"===e?(this.valueExpression=\"$view.scale\",this._set(\"expression\",e)):this._set(\"expression\",null)}set index(e){d(this.maxSize)&&(this.maxSize.index=`visualVariables[${e}].maxSize`),d(this.minSize)&&(this.minSize.index=`visualVariables[${e}].minSize`),this._set(\"index\",e)}get inputValueType(){return c(this)}set maxDataValue(e){e&&this.stops&&(z.warn(\"cannot set maxDataValue when stops is not null.\"),e=null),this._set(\"maxDataValue\",e)}set maxSize(e){e&&this.stops&&(z.warn(\"cannot set maxSize when stops is not null.\"),e=null),this._set(\"maxSize\",e)}castMaxSize(e){return V(e)}readMaxSize(e,t,i){return f(e,0,i)}set minDataValue(e){e&&this.stops&&(z.warn(\"cannot set minDataValue when stops is not null.\"),e=null),this._set(\"minDataValue\",e)}set minSize(e){e&&this.stops&&(z.warn(\"cannot set minSize when stops is not null.\"),e=null),this._set(\"minSize\",e)}castMinSize(e){return V(e)}readMinSize(e,t,i){return f(e,0,i)}get arcadeRequired(){return!!this.valueExpression||(this.minSize&&\"object\"==typeof this.minSize&&this.minSize.arcadeRequired||this.maxSize&&\"object\"==typeof this.maxSize&&this.maxSize.arcadeRequired)}set stops(e){null==this.minDataValue&&null==this.maxDataValue&&null==this.minSize&&null==this.maxSize?e&&Array.isArray(e)&&(e=e.filter((e=>!!e))).sort(((e,t)=>e.value-t.value)):e&&(z.warn(\"cannot set stops when one of minDataValue, maxDataValue, minSize or maxSize is not null.\"),e=null),this._set(\"stops\",e)}get transformationType(){return y(this,this.inputValueType)}readValueExpression(e,t){return e||t.expression&&\"$view.scale\"}writeValueExpressionWebScene(e,t,i,s){if(\"$view.scale\"===e){if(s&&s.messages){const e=this.index,t=\"string\"==typeof e?e:`visualVariables[${e}]`;s.messages.push(new l(\"property:unsupported\",this.type+\"VisualVariable.valueExpression = '$view.scale' is not supported in Web Scene. Please remove this property to save the Web Scene.\",{instance:this,propertyName:t+\".valueExpression\",context:s}))}}else t[i]=e}readValueUnit(e){return e?w.read(e):null}clone(){return new S({axis:this.axis,field:this.field,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,maxDataValue:this.maxDataValue,maxSize:d(this.maxSize)?this.maxSize.clone():this.maxSize,minDataValue:this.minDataValue,minSize:d(this.minSize)?this.minSize.clone():this.minSize,normalizationField:this.normalizationField,stops:this.stops&&this.stops.map((e=>e.clone())),target:this.target,useSymbolValue:this.useSymbolValue,valueRepresentation:this.valueRepresentation,valueUnit:this.valueUnit,legendOptions:this.legendOptions&&this.legendOptions.clone()})}flipSizes(){if(\"clamped-linear\"===this.transformationType){const{minSize:e,maxSize:t}=this;return this.minSize=t,this.maxSize=e,this}if(\"stops\"===this.transformationType){const e=this.stops,t=e.map((e=>e.size)).reverse(),i=e.length;for(let s=0;s<i;s++)e[s].size=t[s];return this}return this}getAttributeHash(){return`${super.getAttributeHash()}-${this.target}-${this.normalizationField}`}_interpolateData(){return this.stops&&this.stops.map((e=>e.value||0))}};e([i({readOnly:!0,dependsOn:[\"valueExpression\",\"stops\"]})],g.prototype,\"cache\",null),e([i({type:v.apiValues,json:{type:v.jsonValues,origins:{\"web-map\":{read:!1}},read:v.read,write:v.write}})],g.prototype,\"axis\",void 0),e([i({type:String,value:null,json:{read:!1}})],g.prototype,\"expression\",null),e([i()],g.prototype,\"index\",null),e([i({type:String,readOnly:!0,dependsOn:[\"field\",\"valueExpression\"]})],g.prototype,\"inputValueType\",null),e([i({type:h,json:{write:!0}})],g.prototype,\"legendOptions\",void 0),e([i({type:Number,value:null,json:{write:!0}})],g.prototype,\"maxDataValue\",null),e([i({type:Number,value:null,json:{write:!0}})],g.prototype,\"maxSize\",null),e([s(\"maxSize\")],g.prototype,\"castMaxSize\",null),e([a(\"maxSize\")],g.prototype,\"readMaxSize\",null),e([i({type:Number,value:null,json:{write:!0}})],g.prototype,\"minDataValue\",null),e([i({type:Number,value:null,json:{write:!0}})],g.prototype,\"minSize\",null),e([s(\"minSize\")],g.prototype,\"castMinSize\",null),e([a(\"minSize\")],g.prototype,\"readMinSize\",null),e([i({type:String,json:{write:!0}})],g.prototype,\"normalizationField\",void 0),e([i({readOnly:!0,dependsOn:[\"valueExpression\",\"minSize.arcadeRequired\",\"maxSize.arcadeRequired\"]})],g.prototype,\"arcadeRequired\",null),e([i({type:String})],g.prototype,\"scaleBy\",void 0),e([i({type:[m],value:null,json:{write:!0}})],g.prototype,\"stops\",null),e([i({type:[\"outline\"],json:{write:!0}})],g.prototype,\"target\",void 0),e([i({type:String,readOnly:!0,dependsOn:[\"minDataValue\",\"maxDataValue\",\"minSize\",\"maxSize\",\"valueUnit\",\"inputValueType\",\"stops\"]})],g.prototype,\"transformationType\",null),e([i({type:[\"size\"],json:{type:[\"sizeInfo\"]}})],g.prototype,\"type\",void 0),e([i({type:Boolean,json:{write:!0,origins:{\"web-map\":{read:!1}}}})],g.prototype,\"useSymbolValue\",void 0),e([i({type:String,json:{write:!0}})],g.prototype,\"valueExpression\",void 0),e([a(\"valueExpression\",[\"valueExpression\",\"expression\"])],g.prototype,\"readValueExpression\",null),e([o(\"web-scene\",\"valueExpression\")],g.prototype,\"writeValueExpressionWebScene\",null),e([i({type:[\"radius\",\"diameter\",\"area\",\"width\",\"distance\"],json:{write:!0}})],g.prototype,\"valueRepresentation\",void 0),e([i({type:w.apiValues,json:{write:w.write,origins:{\"web-map\":{read:!1},\"web-scene\":{write:!0}}}})],g.prototype,\"valueUnit\",void 0),e([a(\"valueUnit\")],g.prototype,\"readValueUnit\",null),g=S=e([n(\"esri.renderers.visualVariables.SizeVariable\")],g);var j=g;export default j;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import r from\"../../core/Logger.js\";import{ensureString as o}from\"../../core/accessorSupport/ensureType.js\";import{property as t}from\"../../core/accessorSupport/decorators/property.js\";import{cast as s}from\"../../core/accessorSupport/decorators/cast.js\";import{JSONMap as i}from\"../../core/jsonMap.js\";import{subclass as p}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import{JSONSupport as l}from\"../../core/JSONSupport.js\";import n from\"./support/VisualVariableLegendOptions.js\";const a=r.getLogger(\"esri.renderers.visualVariables.VisualVariable\"),u=new i({colorInfo:\"color\",transparencyInfo:\"opacity\",rotationInfo:\"rotation\",sizeInfo:\"size\"});let c=class extends l{constructor(e){super(e),this.index=null,this.type=null,this.field=null,this.valueExpression=null,this.valueExpressionTitle=null,this.legendOptions=null}castField(e){return null==e?e:\"function\"==typeof e?(a.error(\".field: field must be a string value\"),null):o(e)}get arcadeRequired(){return!!this.valueExpression}clone(){}getAttributeHash(){return`${this.type}-${this.field}-${this.valueExpression}`}};e([t()],c.prototype,\"index\",void 0),e([t({type:u.apiValues,readOnly:!0,json:{read:u.read,write:u.write}})],c.prototype,\"type\",void 0),e([t({type:String,json:{write:!0}})],c.prototype,\"field\",void 0),e([s(\"field\")],c.prototype,\"castField\",null),e([t({type:String,json:{write:!0}})],c.prototype,\"valueExpression\",void 0),e([t({type:String,json:{write:!0}})],c.prototype,\"valueExpressionTitle\",void 0),e([t({readOnly:!0,dependsOn:[\"valueExpression\"]})],c.prototype,\"arcadeRequired\",null),e([t({type:n,json:{write:!0}})],c.prototype,\"legendOptions\",void 0),c=e([p(\"esri.renderers.visualVariables.VisualVariable\")],c);var d=c;export default d;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../chunks/tslib.es6.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import{property as e}from\"../../../core/accessorSupport/decorators/property.js\";import{subclass as o}from\"../../../core/accessorSupport/decorators/subclass.js\";import\"../../../core/urlUtils.js\";import\"../../../core/uuid.js\";import\"../../../portal/support/resourceExtension.js\";import{JSONSupport as s}from\"../../../core/JSONSupport.js\";import{toPt as t}from\"../../../core/screenUtils.js\";var p;let i=p=class extends s{constructor(r){super(r),this.label=null,this.size=null,this.value=null}clone(){return new p({label:this.label,size:this.size,value:this.value})}};r([e({type:String,json:{write:!0}})],i.prototype,\"label\",void 0),r([e({type:Number,cast:t,json:{write:!0}})],i.prototype,\"size\",void 0),r([e({type:Number,json:{write:!0}})],i.prototype,\"value\",void 0),i=p=r([o(\"esri.renderers.visualVariables.support.SizeStop\")],i);var l=i;export default l;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as s}from\"../../../chunks/tslib.es6.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import{subclass as e}from\"../../../core/accessorSupport/decorators/subclass.js\";import\"../../../core/urlUtils.js\";import\"../../../core/uuid.js\";import\"../../../portal/support/resourceExtension.js\";import o from\"./VisualVariableLegendOptions.js\";var t;let i=t=class extends o{constructor(){super(...arguments),this.customValues=null}clone(){return new t({title:this.title,showLegend:this.showLegend,customValues:this.customValues&&this.customValues.slice(0)})}};s([r({type:[Number],json:{write:!0}})],i.prototype,\"customValues\",void 0),i=t=s([e(\"esri.renderers.visualVariables.support.SizeVariableLegendOptions\")],i);var p=i;export default p;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../chunks/tslib.es6.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import{property as o}from\"../../../core/accessorSupport/decorators/property.js\";import{subclass as e}from\"../../../core/accessorSupport/decorators/subclass.js\";import\"../../../core/urlUtils.js\";import\"../../../core/uuid.js\";import\"../../../portal/support/resourceExtension.js\";import s from\"../../support/LegendOptions.js\";var t;let p=t=class extends s{constructor(){super(...arguments),this.showLegend=null}clone(){return new t({title:this.title,showLegend:this.showLegend})}};r([o({type:Boolean,json:{write:!0}})],p.prototype,\"showLegend\",void 0),p=t=r([e(\"esri.renderers.visualVariables.support.VisualVariableLegendOptions\")],p);var i=p;export default i;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nfunction n(n){return n&&\"esri.renderers.visualVariables.SizeVariable\"===n.declaredClass}function e(n){return null!=n&&!isNaN(n)&&isFinite(n)}function i(n){return n.valueExpression?\"expression\":n.field&&\"string\"==typeof n.field?\"field\":\"unknown\"}function l(n,e){const l=e||i(n),a=n.valueUnit||\"unknown\";return\"unknown\"===l?\"constant\":n.stops?\"stops\":null!=n.minSize&&null!=n.maxSize&&null!=n.minDataValue&&null!=n.maxDataValue?\"clamped-linear\":\"unknown\"===a?null!=n.minSize&&null!=n.minDataValue?n.minSize&&n.minDataValue?\"proportional\":\"additive\":\"identity\":\"real-world-size\"}export{i as getInputValueType,l as getTransformationType,n as isSizeVariable,e as isValidNumber};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{neverReached as e}from\"../../../core/compilerUtils.js\";import{isSome as a,isNone as r}from\"../../../core/maybe.js\";import i from\"../../../core/Logger.js\";import t from\"../../../Color.js\";import n from\"../../../Graphic.js\";import{meterIn as s}from\"../../support/lengthUtils.js\";import{isSizeVariable as o,isValidNumber as l}from\"./sizeVariableUtils.js\";const c=i.getLogger(\"esri.renderers.visualVariables.support.visualVariableUtils\"),u=new n,f=Math.PI,p=/^\\s*(return\\s+)?\\$view\\.scale\\s*(;)?\\s*$/i;function d(e,r,i){const n=\"visualVariables\"in e&&e.visualVariables?e.visualVariables.filter((e=>\"color\"===e.type))[0]:e;if(!n)return;if(\"esri.renderers.visualVariables.ColorVariable\"!==n.declaredClass)return void c.warn(\"The visualVariable should be an instance of esri.renderers.visualVariables.ColorVariable\");const s=\"number\"==typeof r,o=s?null:r,l=o&&o.attributes;let u=s?r:null;const f=n.field,{ipData:p,hasExpression:d}=n.cache;let v=n.cache.compiledFunc;if(!f&&!d){const e=n.stops;return e&&e[0]&&e[0].color}if(\"number\"!=typeof u)if(d){if(!a(i)||!a(i.arcade))return void c.error(\"Use of arcade expressions requires an arcade context\");const e={viewingMode:i.viewingMode,scale:i.scale,spatialReference:i.spatialReference},r=i.arcade.arcadeUtils,t=r.getViewInfo(e),s=r.createExecContext(o,t);if(!v){const e=r.createSyntaxTree(n.valueExpression);v=r.createFunction(e),n.cache.compiledFunc=v}u=r.executeFunction(v,s)}else l&&(u=l[f]);const b=n.normalizationField,h=l?parseFloat(l[b]):void 0;if(null!=u&&(!b||s||!isNaN(h)&&0!==h)){isNaN(h)||s||(u/=h);const e=g(u,p);if(e){const r=e[0],s=e[1],o=r===s?n.stops[r].color:t.blendColors(n.stops[r].color,n.stops[s].color,e[2],a(i)?i.color:void 0);return new t(o)}}}function v(e,a,i){const t=\"visualVariables\"in e&&e.visualVariables?e.visualVariables.filter((e=>\"opacity\"===e.type))[0]:e;if(!t)return;if(\"esri.renderers.visualVariables.OpacityVariable\"!==t.declaredClass)return void c.warn(\"The visualVariable should be an instance of esri.renderers.visualVariables.OpacityVariable\");const n=\"number\"==typeof a,s=n?null:a,o=s&&s.attributes;let l=n?a:null;const u=t.field,{ipData:f,hasExpression:p}=t.cache;let d=t.cache.compiledFunc;if(!u&&!p){const e=t.stops;return e&&e[0]&&e[0].opacity}if(\"number\"!=typeof l)if(p){if(r(i)||r(i.arcade))return void c.error(\"Use of arcade expressions requires an arcade context\");const e={viewingMode:i.viewingMode,scale:i.scale,spatialReference:i.spatialReference},a=i.arcade.arcadeUtils,n=a.getViewInfo(e),o=a.createExecContext(s,n);if(!d){const e=a.createSyntaxTree(t.valueExpression);d=a.createFunction(e),t.cache.compiledFunc=d}l=a.executeFunction(d,o)}else o&&(l=o[u]);const v=t.normalizationField,b=o?parseFloat(o[v]):void 0;if(null!=l&&(!v||n||!isNaN(b)&&0!==b)){isNaN(b)||n||(l/=b);const e=g(l,f);if(e){const a=e[0],r=e[1];if(a===r)return t.stops[a].opacity;{const i=t.stops[a].opacity;return i+(t.stops[r].opacity-i)*e[2]}}}}function b(e,a,i){const t=\"visualVariables\"in e&&e.visualVariables?e.visualVariables.filter((e=>\"rotation\"===e.type))[0]:e;if(!t)return;if(\"esri.renderers.visualVariables.RotationVariable\"!==t.declaredClass)return void c.warn(\"The visualVariable should be an instance of esri.renderers.visualVariables.RotationVariable\");const n=t.axis||\"heading\",s=\"heading\"===n&&\"arithmetic\"===t.rotationType?90:0,o=\"heading\"===n&&\"arithmetic\"===t.rotationType?-1:1,l=\"number\"==typeof a?null:a,u=l&&l.attributes,f=t.field,{hasExpression:p}=t.cache;let d=t.cache.compiledFunc,v=0;if(!f&&!p)return v;if(p){if(r(i)||r(i.arcade))return void c.error(\"Use of arcade expressions requires an arcade context\");const e={viewingMode:i.viewingMode,scale:i.scale,spatialReference:i.spatialReference},a=i.arcade.arcadeUtils,n=a.getViewInfo(e),s=a.createExecContext(l,n);if(!d){const e=a.createSyntaxTree(t.valueExpression);d=a.createFunction(e),t.cache.compiledFunc=d}v=a.executeFunction(d,s)}else u&&(v=u[f]||0);return v=\"number\"!=typeof v||isNaN(v)?null:s+o*v,v}function h(e,i,t){const n=\"visualVariables\"in e&&e.visualVariables?e.visualVariables.filter((e=>\"size\"===e.type))[0]:e;if(!n)return;if(\"esri.renderers.visualVariables.SizeVariable\"!==n.declaredClass)return void c.warn(\"The visualVariable should be an instance of esri.renderers.visualVariables.SizeVariable\");const s=x(function(e,i,t){const n=\"number\"==typeof i,s=n?null:i,o=s&&s.attributes;let u=n?i:null;const{isScaleDriven:f}=e.cache;let p=e.cache.compiledFunc;if(f){const r=a(t)?t.scale:void 0,i=a(t)?t.view:void 0;u=null==r||\"3d\"===i?function(e){let a=null,r=null;const i=e.stops;return i?(a=i[0].value,r=i[i.length-1].value):(a=e.minDataValue||0,r=e.maxDataValue||0),(a+r)/2}(e):r}else if(!n)switch(e.inputValueType){case\"expression\":{if(r(t)||r(t.arcade))return void c.error(\"Use of arcade expressions requires an arcade context\");const a={viewingMode:t.viewingMode,scale:t.scale,spatialReference:t.spatialReference},i=t.arcade.arcadeUtils,n=i.getViewInfo(a),o=i.createExecContext(s,n);if(!p){const a=i.createSyntaxTree(e.valueExpression);p=i.createFunction(a),e.cache.compiledFunc=p}u=i.executeFunction(p,o);break}case\"field\":o&&(u=o[e.field]);break;case\"unknown\":u=null}if(!l(u))return null;if(n||!e.normalizationField)return u;const d=o?parseFloat(o[e.normalizationField]):null;return l(d)&&0!==d?u/d:null}(n,i,t),n,i,t,n.cache.ipData);return null==s||isNaN(s)?0:s}function m(e,a,r){return null==e?null:o(e)?h(e,a,r):l(e)?e:null}function V(e,a,r){return l(r)&&e>r?r:l(a)&&e<a?a:e}function x(e,r,i,t,n){switch(r.transformationType){case\"additive\":return function(e,a,r,i){return e+(m(a.minSize,r,i)||a.minDataValue)}(e,r,i,t);case\"constant\":return function(e,a,r){const i=e.stops;let t=i&&i.length&&i[0].size;return null==t&&(t=e.minSize),m(t,a,r)}(r,i,t);case\"clamped-linear\":return function(e,r,i,t){const n=(e-r.minDataValue)/(r.maxDataValue-r.minDataValue),s=m(r.minSize,i,t),o=m(r.maxSize,i,t),l=a(t)?t.shape:void 0;if(e<=r.minDataValue)return s;if(e>=r.maxDataValue)return o;if(\"area\"===r.scaleBy&&l){const e=\"circle\"===l,a=e?f*Math.pow(s/2,2):s*s,r=a+n*((e?f*Math.pow(o/2,2):o*o)-a);return e?2*Math.sqrt(r/f):Math.sqrt(r)}return s+n*(o-s)}(e,r,i,t);case\"proportional\":return function(e,r,i,t){const n=a(t)?t.shape:void 0,s=e/r.minDataValue,o=m(r.minSize,i,t),l=m(r.maxSize,i,t);let c=null;return c=\"circle\"===n?2*Math.sqrt(s*Math.pow(o/2,2)):\"square\"===n||\"diamond\"===n||\"image\"===n?Math.sqrt(s*Math.pow(o,2)):s*o,V(c,o,l)}(e,r,i,t);case\"stops\":return function(e,a,r,i,t){const[n,s,o]=g(e,t);if(n===s)return m(a.stops[n].size,r,i);{const e=m(a.stops[n].size,r,i);return e+(m(a.stops[s].size,r,i)-e)*o}}(e,r,i,t,n);case\"real-world-size\":return function(e,r,i,t){const n=(a(t)&&t.resolution?t.resolution:1)*s[r.valueUnit],o=m(r.minSize,i,t),l=m(r.maxSize,i,t),{valueRepresentation:c}=r;let u=null;return u=\"area\"===c?2*Math.sqrt(e/f)/n:\"radius\"===c||\"distance\"===c?2*e/n:e/n,V(u,o,l)}(e,r,i,t);case\"identity\":return e;case\"unknown\":return null}}function w(e,a,r){const{isScaleDriven:i}=e.cache;if(!(i&&\"3d\"===r||a))return null;const t={scale:a,view:r};let n=m(e.minSize,u,t),s=m(e.maxSize,u,t);if(null!=n||null!=s){if(n>s){const e=s;s=n,n=e}return{minSize:n,maxSize:s}}}function y(e,a,r){if(!e.visualVariables)return;const i=[],t=[],n=[],s=[],o=[];for(const a of e.visualVariables)switch(a.type){case\"color\":t.push(a);break;case\"opacity\":n.push(a);break;case\"rotation\":o.push(a);break;case\"size\":s.push(a)}return t.forEach((e=>{const t=d(e,a,r);i.push({variable:e,value:t})})),n.forEach((e=>{const t=v(e,a,r);i.push({variable:e,value:t})})),o.forEach((e=>{const t=b(e,a,r);i.push({variable:e,value:t})})),s.forEach((e=>{const t=h(e,a,r);i.push({variable:e,value:t})})),i.filter((e=>null!=e.value))}function g(e,a){if(!a)return;let r=0,i=a.length-1;return a.some(((a,t)=>e<a?(i=t,!0):(r=t,!1))),[r,i,(e-a[r])/(a[i]-a[r])]}function z(a,r,i){const t=[\"proportional\",\"proportional\",\"proportional\"];for(const n of a){const a=n.useSymbolValue?\"symbol-value\":h(n,r,i);switch(n.axis){case\"width\":t[0]=a;break;case\"depth\":t[1]=a;break;case\"height\":t[2]=a;break;case\"width-and-depth\":t[0]=a,t[1]=a;break;case\"all\":case void 0:case null:t[0]=a,t[1]=a,t[2]=a;break;default:e(n.axis)}}return t}export{z as getAllSizes,d as getColor,v as getOpacity,b as getRotationAngle,h as getSize,x as getSizeForValue,m as getSizeFromNumberOrVariable,w as getSizeRangeAtScale,y as getVisualVariableValues,p as viewScaleRE};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nfunction t(t,e,r,n){return function(t){return\"function\"==typeof t}(t)?t(e,r,n):t}function e(t){return[t.r,t.g,t.b,t.a]}function r(t,e,r){const a=t=>{let e=t.length;for(;e--;)if(-1===\" /-,\\n\".indexOf(t.charAt(e)))return!1;return!0},i=[];let l=0,o=-1;do{if(o=e.indexOf(\"[\",l),o>=l){if(o>l){const t=e.substr(l,o-l);i.push([t,null,a(t)])}if(l=o+1,o=e.indexOf(\"]\",l),o>=l){if(o>l){const r=t[e.substr(l,o-l)];r&&i.push([null,r,!1])}l=o+1}}}while(-1!==o);if(l<e.length-1){const t=e.substr(l);i.push([t,null,a(t)])}return t=>{let e=\"\",a=null;for(const r of i){const[n,i,l]=r;if(n)l?a=n:(a&&(e+=a,a=null),e+=n);else{const r=t.attributes[i];r&&(a&&(e+=a,a=null),e+=r)}}return n(e,r)}}function n(t,e){switch(\"string\"!=typeof t&&(t=String(t)),e){case\"LowerCase\":return t.toLowerCase();case\"Allcaps\":return t.toUpperCase();default:return t}}function a(t,e,r,n,a,i,l=!0){const o=e/a,c=r/i,u=Math.ceil(o/2),M=Math.ceil(c/2);for(let r=0;r<i;r++)for(let s=0;s<a;s++){const f=4*(s+(l?i-r-1:r)*a);let p=0,C=0,y=0,I=0,h=0,k=0,d=0;const P=(r+.5)*c;for(let n=Math.floor(r*c);n<(r+1)*c;n++){const r=Math.abs(P-(n+.5))/M,a=(s+.5)*o,i=r*r;for(let r=Math.floor(s*o);r<(s+1)*o;r++){let l=Math.abs(a-(r+.5))/u;const o=Math.sqrt(i+l*l);o>=-1&&o<=1&&(p=2*o*o*o-3*o*o+1,p>0&&(l=4*(r+n*e),d+=p*t[l+3],y+=p,t[l+3]<255&&(p=p*t[l+3]/250),I+=p*t[l],h+=p*t[l+1],k+=p*t[l+2],C+=p))}}n[f]=I/C,n[f+1]=h/C,n[f+2]=k/C,n[f+3]=d/y}}function i(t){return t?{r:t[0],g:t[1],b:t[2],a:t[3]/255}:{r:0,g:0,b:0,a:0}}function l(t){var e;return null==(e=t.data)?void 0:e.symbol}function o(t){return\"CIMVectorMarker\"===t.type||\"CIMPictureMarker\"===t.type||\"CIMBarChartMarker\"===t.type||\"CIMCharacterMarker\"===t.type||\"CIMPieChartMarker\"===t.type||\"CIMStackedBarChartMarker\"===t.type}function c(t){return\"CIMGradientStroke\"===t.type||\"CIMPictureStroke\"===t.type||\"CIMSolidStroke\"===t.type}function u(t){return\"CIMGradientFill\"===t.type||\"CIMHatchFill\"===t.type||\"CIMPictureFill\"===t.type||\"CIMSolidFill\"===t.type||\"CIMWaterFill\"===t.type}function M(t){return\"CIMMarkerPlacementAlongLineRandomSize\"===t.type||\"CIMMarkerPlacementAlongLineSameSize\"===t.type||\"CIMMarkerPlacementAlongLineVariableSize\"===t.type||\"CIMMarkerPlacementAtExtremities\"===t.type||\"CIMMarkerPlacementAtMeasuredUnits\"===t.type||\"CIMMarkerPlacementAtRatioPositions\"===t.type||\"CIMMarkerPlacementOnLine\"===t.type||\"CIMMarkerPlacementOnVertices\"===t.type}export{n as _adjustTextCase,e as colorToArray,r as createLabelOverrideFunction,t as evaluateValueOrFunction,i as fromCIMColor,u as isCIMFill,o as isCIMMarker,M as isCIMMarkerStrokePlacement,c as isCIMStroke,a as resampleHermite,l as toCIMSymbolJSON};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport\"../../core/has.js\";import{isNone as r}from\"../../core/maybe.js\";import o from\"../SimpleLineSymbol.js\";import m from\"../SimpleFillSymbol.js\";import e from\"../SimpleMarkerSymbol.js\";import t from\"../TextSymbol.js\";import{defaultPointSymbolJSON as l,defaultPolylineSymbolJSON as i,defaultPolygonSymbolJSON as n,defaultTextSymbolJSON as s,errorPointSymbolJSON as f,errorPolylineSymbolJSON as p,errorPolygonSymbolJSON as S}from\"./defaultsJSON.js\";const c=e.fromJSON(l),u=o.fromJSON(i),a=m.fromJSON(n),y=t.fromJSON(s);function J(o){if(r(o))return null;switch(o.type){case\"mesh\":return null;case\"point\":case\"multipoint\":return c;case\"polyline\":return u;case\"polygon\":case\"extent\":return a}return null}const N=e.fromJSON(f),O=o.fromJSON(p),j=m.fromJSON(S);export{c as defaultPointSymbol2D,a as defaultPolygonSymbol2D,u as defaultPolylineSymbol2D,y as defaultTextSymbol2D,N as errorPointSymbol2D,j as errorPolygonSymbol2D,O as errorPolylineSymbol2D,J as getDefaultSymbol2D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nconst n=Number.POSITIVE_INFINITY,t=Math.PI,r=2*t,u=t/2,o=128/t,e=t/128,c=256/360,f=t/180,i=1.414213562,I=1/1.414213562,N=1/Math.LN2;function a(n,t){return(n%=t)>=0?n:n+t}function h(n){return a(n*o,256)}function M(n){return a(.7111111111111111*n,256)}function P(n){return Math.log(n)*N}function T(n){return n*n}function b(n,t,r){return n*(1-r)+t*r}function g(n,t,r){return n>=t&&n<=r||n>=r&&n<=t}export{e as C_256_TO_RAD,r as C_2PI,c as C_DEG_TO_256,f as C_DEG_TO_RAD,n as C_INFINITY,t as C_PI,u as C_PI_BY_2,o as C_RAD_TO_256,i as C_SQRT2,I as C_SQRT2_INV,g as between,M as degToByte,b as interpolate,P as log2,a as positiveMod,h as radToByte,T as sqr};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport t from\"../../../../../core/Error.js\";import{WGLVVFlag as e,WGLVVTarget as i,WGLGeometryType as s}from\"../enums.js\";import{isMapAligned as r}from\"../mesh/templates/meshUtils.js\";function a(t,s=!1){const r=e.SIZE_FIELD_STOPS|e.SIZE_MINMAX_VALUE|e.SIZE_SCALE_STOPS|e.SIZE_UNIT_VALUE,a=(t&(i.FIELD_TARGETS_OUTLINE|i.MINMAX_TARGETS_OUTLINE|i.SCALE_TARGETS_OUTLINE|i.UNIT_TARGETS_OUTLINE))>>>4;return s?r&a:r&~a}function n(t){const i=a(t,!1);return t&(e.COLOR|e.OPACITY|e.ROTATION|i)}function o(t){return t&(e.COLOR|e.OPACITY)}function v(t,i){if(i){return t&a(t,!0)}const s=a(t,!1);return t&(e.COLOR|e.OPACITY|s)}function h(t){return n(t)}function u(t){return t&a(t,!1)}function S(t,e,i,r,a){switch(t){case s.FILL:return z.from(e,r);case s.LINE:return y.from(e,i);case s.MARKER:return T.from(e);case s.TEXT:return E.from(e);case s.LABEL:return m.from(e,a);default:throw new Error(`Unable to createMaterialKey for unknown geometryType ${t}`)}}function l(t){switch(c.load(t).geometryType){case s.MARKER:return new T(t);case s.FILL:return new z(t);case s.LINE:return new y(t);case s.TEXT:return new E(t);case s.LABEL:return new m(t)}}class c{constructor(t){this._data=0,this._data=t}static load(t){const e=this.shared;return e.data=t,e}set data(t){this._data=t}get data(){return this._data}get geometryType(){return this.bits(8,11)}set geometryType(t){this.setBits(t,8,11)}get mapAligned(){return!!this.bit(20)}set mapAligned(t){this.setBit(20,t)}get sdf(){return!!this.bit(11)}set sdf(t){this.setBit(11,t)}get pattern(){return!!this.bit(12)}set pattern(t){this.setBit(12,t)}get textureBinding(){return this.bits(0,8)}set textureBinding(t){this.setBits(t,0,8)}get geometryTypeString(){switch(this.geometryType){case s.FILL:return\"fill\";case s.MARKER:return\"marker\";case s.LINE:return\"line\";case s.TEXT:return\"text\";case s.LABEL:return\"label\";default:throw new t(`Unable to handle unknown geometryType: ${this.geometryType}`)}}setBit(t,e){const i=1<<t;e?this._data|=i:this._data&=~i}bit(t){return(this._data&1<<t)>>t}setBits(t,e,i){for(let s=e,r=0;s<i;s++,r++)this.setBit(s,0!=(t&1<<r))}bits(t,e){let i=0;for(let s=t,r=0;s<e;s++,r++)i|=this.bit(s)<<r;return i}hasVV(){return!1}setVV(t,e){}getVariation(){return{mapAligned:this.mapAligned,pattern:this.pattern,sdf:this.sdf}}getVariationHash(){return this._data&~(7&this.textureBinding)}}c.shared=new c(0);const d=t=>class extends t{get vvSizeMinMaxValue(){return 0!==this.bit(16)}set vvSizeMinMaxValue(t){this.setBit(16,t)}get vvSizeScaleStops(){return 0!==this.bit(17)}set vvSizeScaleStops(t){this.setBit(17,t)}get vvSizeFieldStops(){return 0!==this.bit(18)}set vvSizeFieldStops(t){this.setBit(18,t)}get vvSizeUnitValue(){return 0!==this.bit(19)}set vvSizeUnitValue(t){this.setBit(19,t)}hasVV(){return super.hasVV()||this.vvSizeMinMaxValue||this.vvSizeScaleStops||this.vvSizeFieldStops||this.vvSizeUnitValue}setVV(t,i){super.setVV(t,i);const s=a(t,i)&t;this.vvSizeMinMaxValue=!!(s&e.SIZE_MINMAX_VALUE),this.vvSizeFieldStops=!!(s&e.SIZE_FIELD_STOPS),this.vvSizeUnitValue=!!(s&e.SIZE_UNIT_VALUE),this.vvSizeScaleStops=!!(s&e.SIZE_SCALE_STOPS)}},V=t=>class extends t{get vvRotation(){return 0!==this.bit(15)}set vvRotation(t){this.setBit(15,t)}hasVV(){return super.hasVV()||this.vvRotation}setVV(t,i){super.setVV(t,i),this.vvRotation=!i&&!!(t&e.ROTATION)}},p=t=>class extends t{get vvColor(){return 0!==this.bit(13)}set vvColor(t){this.setBit(13,t)}hasVV(){return super.hasVV()||this.vvColor}setVV(t,i){super.setVV(t,i),this.vvColor=!i&&!!(t&e.COLOR)}},g=t=>class extends t{get vvOpacity(){return 0!==this.bit(14)}set vvOpacity(t){this.setBit(14,t)}hasVV(){return super.hasVV()||this.vvOpacity}setVV(t,i){super.setVV(t,i),this.vvOpacity=!i&&!!(t&e.OPACITY)}};class z extends(p(g(c))){static load(t){const e=this.shared;return e.data=t,e}static from(t,e){const i=this.load(0);return i.geometryType=s.FILL,e?i.dotDensity=!0:i.setVV(t,!1),i.data}getVariation(){return{...super.getVariation(),dotDensity:this.dotDensity,vvColor:this.vvColor,vvOpacity:this.vvOpacity}}get dotDensity(){return!!this.bit(15)}set dotDensity(t){this.setBit(15,t)}}z.shared=new z(0);class T extends(p(g(V(d(c))))){static load(t){const e=this.shared;return e.data=t,e}static from(t){const e=this.load(0);return e.geometryType=s.MARKER,e.setVV(t,!1),e.data}getVariation(){return{...super.getVariation(),vvColor:this.vvColor,vvRotation:this.vvRotation,vvOpacity:this.vvOpacity,vvSizeFieldStops:this.vvSizeFieldStops,vvSizeMinMaxValue:this.vvSizeMinMaxValue,vvSizeScaleStops:this.vvSizeScaleStops,vvSizeUnitValue:this.vvSizeUnitValue}}}T.shared=new T(0);class y extends(p(g(d(c)))){static load(t){const e=this.shared;return e.data=t,e}static from(t,e){const i=this.load(0);return i.geometryType=s.LINE,i.setVV(t,e),i.data}getVariation(){return{...super.getVariation(),vvColor:this.vvColor,vvOpacity:this.vvOpacity,vvSizeFieldStops:this.vvSizeFieldStops,vvSizeMinMaxValue:this.vvSizeMinMaxValue,vvSizeScaleStops:this.vvSizeScaleStops,vvSizeUnitValue:this.vvSizeUnitValue}}}y.shared=new y(0);class E extends(p(g(V(d(c))))){static load(t){const e=this.shared;return e.data=t,e}static from(t){const e=this.load(t);return e.geometryType=s.TEXT,e.setVV(t,!1),e.data}getVariation(){return{...super.getVariation(),vvColor:this.vvColor,vvOpacity:this.vvOpacity,vvRotation:this.vvRotation,vvSizeFieldStops:this.vvSizeFieldStops,vvSizeMinMaxValue:this.vvSizeMinMaxValue,vvSizeScaleStops:this.vvSizeScaleStops,vvSizeUnitValue:this.vvSizeUnitValue}}}E.shared=new E(0);class m extends(d(c)){static load(t){const e=this.shared;return e.data=t,e}static from(t,e){const i=this.load(0);return i.geometryType=s.LABEL,i.setVV(t,!1),i.mapAligned=!!r(e),i.data}getVariation(){return{...super.getVariation(),vvSizeFieldStops:this.vvSizeFieldStops,vvSizeMinMaxValue:this.vvSizeMinMaxValue,vvSizeScaleStops:this.vvSizeScaleStops,vvSizeUnitValue:this.vvSizeUnitValue}}}m.shared=new m(0);export{z as FillMaterialKey,m as LabelMaterialKey,y as LineMaterialKey,T as MarkerMaterialKey,c as MaterialKeyBase,E as TextMaterialKey,S as createMaterialKey,o as getFillVVFlags,u as getLabelVVFlags,v as getLineVVFlags,n as getMarkerVVFlags,a as getSizeFlagsMask,h as getTextVVFlags,l as hydrateMaterialKey};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nfunction e(e){switch(e){case\"above-along\":case\"below-along\":case\"center-along\":return 1;default:return 0}}export{e as isMapAligned};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import\"../../../../../core/has.js\";import\"../../../../../core/Logger.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import{property as r}from\"../../../../../core/accessorSupport/decorators/property.js\";import{subclass as t}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import\"../../../../../core/urlUtils.js\";import\"../../../../../core/uuid.js\";import\"../../../../../portal/support/resourceExtension.js\";import{HandleOwner as o}from\"../../../../../core/HandleOwner.js\";let s=class extends o{initialize(){}destroy(){}get supportsTileUpdates(){return!1}get spatialReference(){const e=this.get(\"tileStore.tileScheme.spatialReference\");return e&&e.toJSON()||null}};e([r({readOnly:!0})],s.prototype,\"supportsTileUpdates\",null),e([r({constructOnly:!0})],s.prototype,\"remoteClient\",void 0),e([r({constructOnly:!0})],s.prototype,\"service\",void 0),e([r({dependsOn:[\"tileStore.tileScheme.spatialReference\"]})],s.prototype,\"spatialReference\",null),e([r({constructOnly:!0})],s.prototype,\"tileInfo\",void 0),e([r({constructOnly:!0})],s.prototype,\"tileStore\",void 0),s=e([t(\"esri.views.2d.layers.features.processors.BaseProcessor\")],s);var p=s;export default p;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{TILE_SIZE as t}from\"../definitions.js\";class i{constructor(i,s=2){this._bucketSize=i,this._rowsLength=t/i,this._colsLength=t/i,this._elementsPerBucket=s,this._grid=this._initGrid()}checkOverlap(t,i){const s=Math.floor(t/this._bucketSize),e=Math.floor(i/this._bucketSize);return s<0||s>=this._rowsLength||e<0||e>=this._colsLength||this._grid[e*this._colsLength+s]>=this._elementsPerBucket}markUsed(t,i){const s=Math.floor(t/this._bucketSize),e=Math.floor(i/this._bucketSize);this._grid[e*this._colsLength+s]+=1}reset(){this._grid=this._initGrid()}_initGrid(){return new Uint8Array(this._rowsLength*this._colsLength)}}export{i as CollisionGrid};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import t from\"../../../../../core/has.js\";import{andThen as r,unwrap as s,isNone as o,isSome as i}from\"../../../../../core/maybe.js\";import a from\"../../../../../core/Logger.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import\"../../../../../core/accessorSupport/decorators/property.js\";import{subclass as n}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import\"../../../../../core/Error.js\";import\"../../../../../core/urlUtils.js\";import\"../../../../../core/uuid.js\";import\"../../../../../portal/support/resourceExtension.js\";import{throwIfAborted as c,isAbortError as l}from\"../../../../../core/promiseUtils.js\";import m from\"../../../../../geometry/SpatialReference.js\";import{diff as p,hasDiff as d}from\"../../../../../core/accessorSupport/diffUtils.js\";import{COLLISION_EARLY_REJECT_BUCKET_SIZE as u}from\"../../../engine/webgl/definitions.js\";import{bidiText as h}from\"../../../engine/webgl/util/BidiText.js\";import{createMatcher as g}from\"../../../engine/webgl/mesh/factories/matcherUtils.js\";import{codepoints as y}from\"../textUtils.js\";import{WGLTemplateStore as f}from\"../../../engine/webgl/mesh/templates/WGLTemplateStore.js\";import{WGLMeshFactory as _}from\"../../../engine/webgl/mesh/factories/WGLMeshFactory.js\";import{isAggregateId as b}from\"../support/AttributeStore.js\";import{CollisionGrid as j}from\"../../../engine/webgl/collisions/CollisionGrid.js\";import w from\"./BaseProcessor.js\";a.getLogger(\"esri.views.2d.layers.features.processors.SymbolProcessor\");let S=class extends w{constructor(){super(...arguments),this.type=\"symbol\"}destroy(){}get supportsTileUpdates(){return!0}async update(e,r){const s=r.schema.processors[0];if(\"symbol\"!==s.type)return;const o=p(this._schema,s);d(o,\"mesh\")&&(t(\"esri-2d-update-debug\")&&console.debug(\"Applying Update - Processor:\",o),e.mesh=!0,e.why.mesh.push(\"Symbology changed\"),this._schema=s,this._factory=this._createFactory(s),this._factory.update(s,this.tileStore.tileScheme.tileInfo))}onTileData(e,t,r){return c(r),this._onTileData(e,t,r)}onTileError(e,t,r){const s=r.signal,o={tileKey:e.id,error:t};return this.remoteClient.invoke(\"tileRenderer.onTileError\",o,{signal:s})}_createFactory(e){const{geometryType:t,objectIdField:r,fields:s}=this.service,o={geometryType:t,fields:s,spatialReference:m.fromJSON(this.spatialReference)},i=new f(((e,t)=>this.remoteClient.invoke(\"tileRenderer.getMaterialItems\",e,t)),!1);return this._store=i,this._matcher=g(e.mesh.matcher,i,o),new _(t,r,i)}async _onTileData(e,t,o){const{type:i,addOrUpdate:a,remove:n,end:l}=t;if(!a){const t={type:i,addOrUpdate:null,remove:n,clear:!1,end:l};return this.remoteClient.invoke(\"tileRenderer.onTileData\",{tileKey:e.id,data:t},o)}const m=this._processFeatures(e,a,o),p=o.signal;try{const t=await m,o=r(t,(e=>e.message)),a=r(t,(e=>e.transferList))||[],d={type:i,addOrUpdate:o,remove:n,clear:!1,end:l},u={transferList:s(a)||[],signal:p};return c(u),this.remoteClient.invoke(\"tileRenderer.onTileData\",{tileKey:e.id,data:d},u)}catch(t){this._handleError(e,t,o)}}async _processFeatures(e,t,r){if(o(t)||!t.hasFeatures)return null;const s={transform:e.transform,hasZ:!1,hasM:!1},i=this._factory,a={viewingMode:\"\",scale:e.scale},n=await this._matcher;c(r);const l=this._getLabelInfos(e,t);return await i.analyze(t.getCursor(),n,s,a),c(r),this._writeFeatureSet(e,t,s,l,i)}_writeFeatureSet(e,t,r,s,o){const a=o.createMeshData(t.getApproximateSize()),n={viewingMode:\"\",scale:e.scale},c=t.getCursor();for(;c.next();)try{const t=c.getDisplayId(),l=i(s)?s.get(t):null;o.writeCursor(a,c,r,n,e.level,l)}catch(e){}return this._encodeDisplayData(a)}_encodeDisplayData(e){const t={},r=new Array;return e.encode(t,r),{message:t,transferList:r}}_handleError(e,t,r){if(!l(t)){const s={tileKey:e.id,error:t.message};return this.remoteClient.invoke(\"tileRenderer.onTileError\",s,{signal:r.signal})}}_shouldDiscard(e,t){switch(this.service.geometryType){case\"esriGeometryPoint\":{const r=t.readLegacyPointGeometry();return!r||e.checkOverlap(r.x,r.y)}case\"esriGeometryPolygon\":{const r=t.readLegacyCentroid();return!r||e.checkOverlap(r.x,r.y)}default:return!1}}_markUsed(e,t){switch(this.service.geometryType){case\"esriGeometryPoint\":{const{x:r,y:s}=t.readLegacyPointGeometry();return e.markUsed(r,s)}case\"esriGeometryPolygon\":{const{x:r,y:s}=t.readLegacyCentroid();return e.markUsed(r,s)}}}_getLabelInfos(e,t){const s=this._schema.mesh.labels,i=r(s,(t=>t.filter((t=>function(e,t){return(!e.minScale||e.minScale>=t)&&(!e.maxScale||e.maxScale<=t)}(t,e.scale)))));if(o(i)||0===i.length)return null;const a=new Map,n=new j(u),c=t.getCursor();for(;c.next();){const e=c.getDisplayId();if(this._shouldDiscard(n,c)){a.has(e)||a.set(e,null);continue}let t=!1;const r=[],s=b(e),o=s&&1!==c.readAttribute(\"cluster_count\")?\"aggregate\":\"feature\";for(const a of i){if(a.target!==o)continue;const i=c.getStorage(),n=s&&\"feature\"===o?i.getComputedStringAtIndex(c.readAttribute(\"referenceId\"),a.fieldIndex):i.getComputedStringAtIndex(e,a.fieldIndex);if(!n)continue;const l=h(n.toString()),m=l[0],p=l[1];this._store.getMosaicItem(a.symbol,y(m)).then((e=>{r[a.index]={glyphs:e.glyphMosaicItems,rtl:p,index:a.index}})),t=!0}a.set(e,r),t&&this._markUsed(n,c)}return a}};S=e([n(\"esri.views.2d.layers.features.processors.SymbolProcessor\")],S);var x=S;export default x;\n"],"sourceRoot":""}