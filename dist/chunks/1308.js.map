{"version":3,"sources":["webpack://imaps/./node_modules/@arcgis/core/views/2d/engine/webgl/Rect.js","webpack://imaps/./node_modules/@arcgis/core/views/2d/engine/webgl/TileContainer.js","webpack://imaps/./node_modules/@arcgis/core/views/layers/support/ClipArea.js","webpack://imaps/./node_modules/@arcgis/core/views/layers/support/ClipRect.js","webpack://imaps/./node_modules/@arcgis/core/views/layers/support/Geometry.js","webpack://imaps/./node_modules/@arcgis/core/views/layers/support/Path.js","webpack://imaps/./node_modules/@arcgis/core/views/2d/layers/LayerView2D.js","webpack://imaps/./node_modules/@arcgis/core/views/2d/engine/vectorTiles/RectangleBinPack.js","webpack://imaps/./node_modules/@arcgis/core/views/2d/engine/vectorTiles/GlyphMosaic.js","webpack://imaps/./node_modules/@arcgis/core/views/2d/engine/vectorTiles/GlyphSource.js","webpack://imaps/./node_modules/@arcgis/core/views/2d/engine/vectorTiles/SpriteMosaic.js","webpack://imaps/./node_modules/@arcgis/core/views/2d/engine/vectorTiles/decluttering/debugging.js","webpack://imaps/./node_modules/@arcgis/core/views/2d/engine/vectorTiles/TileHandler.js","webpack://imaps/./node_modules/@arcgis/core/views/2d/engine/vectorTiles/TileManager.js","webpack://imaps/./node_modules/@arcgis/core/views/2d/engine/vectorTiles/decluttering/jobs.js","webpack://imaps/./node_modules/@arcgis/core/views/2d/engine/vectorTiles/decluttering/SymbolDeclutterer.js","webpack://imaps/./node_modules/@arcgis/core/views/2d/engine/vectorTiles/decluttering/SymbolRepository.js","webpack://imaps/./node_modules/@arcgis/core/views/2d/engine/vectorTiles/decluttering/SymbolFader.js","webpack://imaps/./node_modules/@arcgis/core/views/2d/engine/vectorTiles/VectorTileContainer.js","webpack://imaps/./node_modules/@arcgis/core/views/2d/tiling/TileInfoViewPOT.js","webpack://imaps/./node_modules/@arcgis/core/views/2d/layers/VectorTileLayerView2D.js","webpack://imaps/./node_modules/@arcgis/core/views/layers/LayerView.js"],"names":["t","h","i","s","this","x","y","width","height","Math","min","max","n","e","r","key","level","row","col","super","_tileInfoView","sortChildren","setStencilReference","renderChildren","state","createRenderParams","requiredLevel","getClosestInfoForScale","scale","displayLevel","tileInfo","scaleToZoom","registerRenderPass","name","brushes","drawPhase","target","getStencilTarget","children","has","prepareRenderPasses","getTileResolution","setTransform","stencilRef","arguments","type","left","right","top","bottom","_get","Number","String","json","write","prototype","readOnly","dependsOn","base","typeMap","extent","polygon","c","geometry","clone","types","read","path","rect","o","clips","moving","attached","lastUpdateId","updateRequested","container","fadeTransitionEnabled","opacity","handles","add","visible","view","requestUpdate","layer","blendMode","effect","on","notifyChange","whenLayerView","then","destroyed","attach","when","detach","remove","suspended","isUpdating","minScale","maxScale","a","isFulfilled","isResolved","_set","update","canResume","isVisibleAtScale","_width","_height","_free","push","length","w","splice","release","_dirties","_glyphData","_currentPage","_glyphIndex","_textures","_rangePromises","Map","_glyphSource","_binPack","Uint8Array","Set","floor","forEach","get","getRange","delete","set","sdf","metrics","page","code","getGlyph","l","allocate","isEmpty","bitmap","g","p","tileIDs","size","pixelFormat","dataType","setSamplingMode","setData","bindTexture","dispose","_metrics","_bitmaps","next","tag","getMessage","getUInt32","getBytes","getSInt32","skip","advance","_ranges","_glyphInfo","_baseURL","_getFontStack","replace","responseType","addRange","data","DataView","catch","getMetrics","getBitmap","_size","_mosaicsData","_maxItemSize","_pageWidth","_pageHeight","_mosaicRects","pixelRatio","console","error","devicePixelRatio","Uint32Array","_sprites","loadStatus","getSpriteInfo","_","_allocateImage","_copy","simplePattern","spriteNames","getSpriteItem","tl","br","wrapMode","buffer","image","_copyBits","fillStyle","fillRect","strokeStyle","strokeRect","cellSize","rows","columns","cells","d","fillText","window","COLLISION_XRAY","unique","show","colliders","enabled","parts","partIndex","xScreen","yScreen","m","dxScreen","dyScreen","globalAlpha","R","v","S","_vectorTileLayer","_styleRepository","_memCache","_spriteMosaic","_glyphMosaic","_connection","_ongoingTileRequests","_ongoingRequestToController","abortAll","close","_spriteSourcePromise","sourceNameToSource","_fetchTileMap","loadSpriteSource","setSpriteSource","glyphs","_broadcastPromise","client","scheduler","signal","broadcast","style","currentStyleInfo","vectorTileLayerMaxBuffers","id","reference","_getVectorTileData","getTileBounds","tileData","getMemoryUsage","put","referenced","updateSize","_getRefKeys","_getSourcesData","sourceName2DataAndRefKey","transferList","Object","keys","getAvailableClient","invoke","styleLayerUIDs","refKey","refKeys","abort","clear","getSpriteItems","getGlyphItems","font","codePoints","milliseconds","PERFORMANCE_RECORDING_STORAGE","perf","start","time","samples","unit","getSourceTileUrl","protobuff","sourceName","capabilities","operations","supportsTileMap","tileIndex","tileMapURL","Array","getRefKey","value","_getTilePayload","byteLength","AbortController","_getParsedVectorTileData","fetchTileData","parseTileData","_tiles","_tileCache","_viewSize","_visibleTiles","acquireTile","releaseTile","tileInfoView","_container","_updateCacheSize","getTileCoverage","spans","lodInfo","colFrom","colTo","normalizeCol","getWorldForColumn","_getOrAcquireTile","processed","_addToContainer","isCoverage","_findPlaceholdersForMissingTiles","neededForCoverage","isHoldingForFade","intersects","isFading","_releaseTile","_addPlaceholderChild","reduce","abs","_addPlaceholderParent","hasData","world","_getTile","pop","_removeFromContainer","contains","_canConnectDirectly","childrenTiles","parentTile","addChild","removeChild","ceil","maxSize","split","parseInt","iconRotationAlignment","textRotationAlignment","iconTranslate","iconTranslateAnchor","textTranslate","textTranslateAnchor","u","minLod","maxLod","xTile","yTile","dxPixels","dyPixels","_symbols","_zoom","_currentLayerCursor","_currentSymbolCursor","_styleProps","_allNeededMatrices","_gridIndex","_si","sin","PI","_co","cos","symbols","tile","transforms","tileUnitsToPixels","getCellSpan","performance","now","_getProperties","styleLayerUID","iconAllowOverlap","iconIgnorePlacement","textAllowOverlap","textIgnorePlacement","hard","getStyleLayerByUID","getLayoutValue","getPaintValue","priority","_symbolRepository","_createCollisionJob","_assignTileSymbolsOpacity","_symbolLayerSorter","_isLayerVisible","_selectionJob","_selectionJobCompleted","_collisionJob","_collisionJobCompleted","_opacityJob","_opacityJobCompleted","_running","_screenWidth","_screenHeight","restart","_createSelectionJob","work","sortedSymbols","_createOpacityJob","uniqueSymbols","tileSymbols","selectedForRendering","sort","targetOpacity","startOpacity","startTime","tileCoordRange","_createUnique","_uniqueSymbolsReferences","_uniqueSymbolLayerArray","_createUniqueSymbolLayerArray","layerData","_removeSymbols","flat","index","getCell","_addSymbols","equals","_matchSymbols","symbol","xTransformed","yTransformed","f","hash","styleRepository","_tileToHandle","_viewState","rotation","center","_declutterViewState","_completed","_symbolDeclutterer","allSymbolsFadingOut","lastOpacityUpdate","decluttered","requestRender","z","getLayoutProperty","getValue","restartDeclutter","removeTile","_continueDeclutter","_notifyUnstable","_declutterZoom","deleteStyleLayers","stale","running","setScreenSize","continue","_scheduleNotifyStable","_stableNotificationHandle","clearTimeout","setTimeout","emit","minzoom","maxzoom","_backgroundTiles","_pointToCallbacks","_fading","destroy","removeAllChildren","_symbolFader","promise","invalidating","renderPass","styleLayer","glyphMosaic","spriteMosaic","hasClipping","_clippingInfos","doRender","addTile","_doRender","context","getBoundFramebufferObject","painter","effects","hittest","bind","draw","bindFramebuffer","filter","layers","backgroundBucketIds","_renderBackgroundLayers","triangleCount","setStencilWriteMask","setColorMask","setStencilOp","setStencilTestEnabled","setBlendingEnabled","setDepthTestEnabled","setDepthWriteEnabled","setDepthFunction","setClearDepth","gl","DEPTH_BUFFER_BIT","_renderStyleLayer","setBlendFunctionSeparate","bindVAO","_fade","COLLISION_DEBUG_CTX","clearRect","canvas","COLLISION_SHOW_GRID","uid","renderObjects","getLayerById","b","T","_renderPasses","prepareState","drawMany","C","F","bounds","coords","setStencilFunction","_fullCacheLodInfos","_levelByScale","_initializeFullCacheLODs","_lodInfos","map","resolution","spatialReference","lods","H","_styleChanges","_handles","_fetchQueue","_parseQueue","_isTileHandlerReady","fading","addResolvingPromise","spriteUrl","glyphsUrl","fullExtent","_vectorTileContainer","_tileHandler","_stop","_tileHandlerPromise","hitTest","getStyleLayerIndex","attributes","layerId","layerName","layerUID","sourceLayer","_start","_applyStyleChanges","pause","_tileManager","resume","isDataDriven","setPaintProperties","paint","layout","diff","oldValue","newValue","added","changed","removed","setLayoutProperties","setStyleLayerVisibility","visibility","_loadStyle","removeAll","layerDefinition","updating","_createVectorTile","once","process","_getTileData","concurrency","_parseTileData","setStyleResources","_tileHandlerAbortController","clearCache","updateStyle","message","deleteStyleLayer","setStyleLayer","deleteLayerData","setStyle","aborted","parent","title","declaredClass","getSuspendInfo","legendEnabled","updatingHandles","_override","_clearOverride","suspendInfo","ready","viewNotReady","loaded","layerNotLoaded","layerInvisible","Boolean"],"mappings":"gHAIA,cAAqB,YAAYA,EAAE,EAAEC,EAAE,EAAEC,EAAE,EAAEC,EAAE,GAAGC,KAAKC,EAAEL,EAAEI,KAAKE,EAAEL,EAAEG,KAAKG,MAAML,EAAEE,KAAKI,OAAOL,EAAE,cAAc,OAAOC,KAAKG,OAAO,GAAGH,KAAKI,QAAQ,EAAE,MAAMR,GAAGI,KAAKC,EAAEI,KAAKC,IAAIN,KAAKC,EAAEL,EAAEK,GAAGD,KAAKE,EAAEG,KAAKC,IAAIN,KAAKE,EAAEN,EAAEM,GAAGF,KAAKG,MAAME,KAAKE,IAAIP,KAAKG,MAAMP,EAAEO,OAAOH,KAAKI,OAAOC,KAAKE,IAAIP,KAAKI,OAAOR,EAAEQ,W,8FCA9H,MAAMI,EAAE,CAACC,EAAEC,IAAID,EAAEE,IAAIC,MAAMF,EAAEC,IAAIC,OAAO,EAAEH,EAAEE,IAAIC,MAAMF,EAAEC,IAAIC,MAAMH,EAAEE,IAAIE,IAAIH,EAAEC,IAAIE,KAAK,EAAEJ,EAAEE,IAAIE,IAAIH,EAAEC,IAAIE,IAAIJ,EAAEE,IAAIG,IAAIJ,EAAEC,IAAIG,IAAI,gBAA6B,IAAE,YAAYL,GAAGM,QAAQf,KAAKgB,cAAcP,EAAE,eAAeA,GAAGT,KAAKiB,aAAaT,GAAGR,KAAKkB,sBAAsBH,MAAMI,eAAeV,GAAG,mBAAmBA,GAAG,MAAMW,MAAMV,GAAGD,EAAE,MAAM,IAAIM,MAAMM,mBAAmBZ,GAAGa,cAActB,KAAKgB,cAAcO,uBAAuBb,EAAEc,OAAOZ,MAAMa,aAAazB,KAAKgB,cAAcU,SAASC,YAAYjB,EAAEc,QAAQ,oBAAoB5B,GAAG,MAAMY,EAAEZ,EAAEgC,mBAAmB,CAACC,KAAK,UAAUC,QAAQ,CAAC,KAAGC,UAAU,WAAQ,SAAM,eAAYC,OAAO,IAAIhC,KAAKiC,qBAAqBnC,EAAEF,EAAEgC,mBAAmB,CAACC,KAAK,WAAWC,QAAQ,CAAC,KAAGC,UAAU,WAAQC,OAAO,IAAIhC,KAAKkC,SAASC,IAAI,qBAAqB,MAAM,IAAIpB,MAAMqB,oBAAoBxC,GAAGY,EAAEV,GAAG,mBAAmB,OAAOE,KAAKkC,SAAS,iBAAiBzB,GAAG,IAAI,MAAMC,KAAKV,KAAKkC,SAAS,CAAC,MAAMnC,EAAEC,KAAKgB,cAAcqB,kBAAkB3B,EAAEC,KAAKD,EAAE4B,aAAa7B,EAAEV,IAAI,sBAAsB,IAAIU,EAAE,EAAE,IAAI,MAAMC,KAAKV,KAAKkC,SAASxB,EAAE6B,WAAW9B,O,yLCAluB,IAAIA,EAAE,cAAc,OAAIA,GAAE,OAAE,EAAC,OAAE,uCAAuCA,GAAW,QAAFA,ECA1F,IAAIV,EAAE,IAAI,EAAEA,EAAE,cAAc,EAAE,cAAcgB,SAASyB,WAAWxC,KAAKyC,KAAK,OAAOzC,KAAK0C,KAAK,KAAK1C,KAAK2C,MAAM,KAAK3C,KAAK4C,IAAI,KAAK5C,KAAK6C,OAAO,KAAK,QAAQ,OAAO,IAAI9C,EAAE,CAAC2C,KAAK1C,KAAK0C,KAAKC,MAAM3C,KAAK2C,MAAMC,IAAI5C,KAAK4C,IAAIC,OAAO7C,KAAK6C,SAAS,cAAc,OAAO7C,KAAK8C,KAAK,YAAY,GAAG,KAAI,OAAE,EAAC,QAAE,CAACL,KAAK,CAACM,OAAOC,QAAQC,KAAK,CAACC,OAAM,MAAO,EAAEC,UAAU,YAAO,IAAQ,OAAE,EAAC,QAAE,CAACV,KAAK,CAACM,OAAOC,QAAQC,KAAK,CAACC,OAAM,MAAO,EAAEC,UAAU,aAAQ,IAAQ,OAAE,EAAC,QAAE,CAACV,KAAK,CAACM,OAAOC,QAAQC,KAAK,CAACC,OAAM,MAAO,EAAEC,UAAU,WAAM,IAAQ,OAAE,EAAC,QAAE,CAACV,KAAK,CAACM,OAAOC,QAAQC,KAAK,CAACC,OAAM,MAAO,EAAEC,UAAU,cAAS,IAAQ,OAAE,EAAC,QAAE,CAACC,UAAS,EAAGC,UAAU,CAAC,OAAO,QAAQ,MAAM,aAAa,EAAEF,UAAU,UAAU,MAAM,EAAEpD,GAAE,OAAE,EAAC,OAAE,uCAAuC,GAAW,QAAF,E,ICA5eS,E,gEAAE,MAAMN,EAAE,CAACoD,KAAK,IAAE3C,IAAI,OAAO4C,QAAQ,CAACC,OAAO,IAAEC,QAAQ,MAAI,IAAIC,EAAElD,EAAE,cAAc,EAAE,cAAcO,SAASyB,WAAWxC,KAAKyC,KAAK,WAAWzC,KAAK2D,SAAS,KAAK,cAAc,OAAO3D,KAAK8C,KAAK,YAAY,GAAG,EAAE,QAAQ,OAAO,IAAItC,EAAE,CAACmD,SAAS3D,KAAK2D,SAASC,aAAY,OAAE,EAAC,QAAE,CAACC,MAAM3D,EAAE+C,KAAK,CAACa,KAAK,KAAEZ,OAAM,MAAOQ,EAAEP,UAAU,gBAAW,IAAQ,OAAE,EAAC,QAAE,CAACC,UAAS,EAAGC,UAAU,CAAC,eAAeK,EAAEP,UAAU,UAAU,MAAMO,EAAElD,GAAE,OAAE,EAAC,OAAE,uCAAuCkD,GAAW,QAAFA,ECArrB,IAAI9D,EAAE,cAAc,EAAE,cAAcmB,SAASyB,WAAWxC,KAAKyC,KAAK,OAAOzC,KAAK+D,KAAK,GAAG,cAAc,OAAO/D,KAAK8C,KAAK,YAAY,GAAG,KAAI,OAAE,EAAC,QAAE,CAACL,KAAK,CAAC,CAAC,CAACM,UAAUE,KAAK,CAACC,OAAM,MAAOtD,EAAEuD,UAAU,YAAO,IAAQ,OAAE,EAAC,QAAE,CAACC,UAAS,EAAGC,UAAU,CAAC,WAAWzD,EAAEuD,UAAU,UAAU,MAAMvD,GAAE,OAAE,EAAC,OAAE,mCAAmCA,GAAW,QAAFA,ECAoD,EAAE,WAAS,CAACe,IAAI,OAAO2C,KAAK,EAAEC,QAAQ,CAACS,KAAK,EAAED,KAAK,EAAEJ,SAAS,KAAK,EAAE7D,IAAI,IAAImE,EAAE,cAAcnE,EAAE,cAAciB,SAASyB,WAAWxC,KAAKkE,MAAM,IAAI,EAAElE,KAAKmE,QAAO,EAAGnE,KAAKoE,UAAS,EAAGpE,KAAKqE,cAAc,EAAErE,KAAKsE,iBAAgB,EAAG,aAAa,IAAI7D,EAAET,KAAKuE,YAAYvE,KAAKuE,UAAU,IAAI,KAAGvE,KAAKuE,UAAUC,uBAAsB,EAAGxE,KAAKuE,UAAUE,QAAQ,EAAEzE,KAAKuE,UAAUL,MAAMlE,KAAKkE,MAAMlE,KAAK0E,QAAQC,IAAI,EAAC,UAAE3E,KAAK,aAAaS,IAAIT,KAAKuE,YAAYvE,KAAKuE,UAAUK,SAASnE,GAAGT,KAAK6E,OAAOpE,GAAGT,KAAKsE,iBAAiBtE,KAAK6E,KAAKC,mBAAkB,IAAI,UAAE9E,KAAK,CAAC,gBAAgB,cAAa,KAAM,IAAIS,EAAEb,EAAEI,KAAKuE,YAAYvE,KAAKuE,UAAUE,QAAQ,OAAOhE,EAAE,OAAOb,EAAEI,KAAK+E,YAAO,EAAOnF,EAAE6E,SAAShE,EAAE,MAAK,IAAI,UAAET,KAAK,CAAC,oBAAoBS,IAAIT,KAAKuE,YAAYvE,KAAKuE,UAAUS,UAAUvE,MAAK,IAAI,UAAET,KAAK,CAAC,iBAAiBS,IAAIT,KAAKuE,YAAYvE,KAAKuE,UAAUU,OAAOxE,MAAK,GAAIT,KAAKkE,MAAMgB,GAAG,UAAS,KAAMlF,KAAKuE,UAAUL,MAAMlE,KAAKkE,MAAMlE,KAAKmF,aAAa,cAAc,OAAO1E,EAAET,KAAK6E,OAAOpE,EAAE2E,cAAcpF,KAAK6E,KAAKO,cAAcpF,KAAK+E,OAAOM,MAAM5E,IAAIA,IAAIT,MAAMA,KAAKoE,UAAUpE,KAAKsF,YAAYtF,KAAKuF,SAASvF,KAAK8E,gBAAgB9E,KAAKoE,UAAS,MAAM,SAAUpE,KAAKwF,OAAOH,MAAK,KAAMrF,KAAKoE,UAAUpE,KAAKsF,YAAYtF,KAAKuF,SAASvF,KAAK8E,gBAAgB9E,KAAKoE,UAAS,MAAM,SAAU,UAAUpE,KAAKoE,WAAWpE,KAAKyF,SAASzF,KAAKoE,UAAS,GAAIpE,KAAK0E,QAAQgB,OAAO,cAAc1F,KAAKsE,iBAAgB,EAAG,eAAe,OAAOtE,KAAKoE,WAAWpE,KAAK2F,YAAY3F,KAAKsE,iBAAiBtE,KAAK4F,cAAc,iBAAiBnF,GAAG,IAAIb,GAAE,EAAG,MAAMG,EAAEC,KAAK+E,MAAMjF,EAAEC,EAAE8F,SAASnF,EAAEX,EAAE+F,SAAS,GAAG,MAAMhG,GAAG,MAAMY,EAAE,CAAC,IAAIX,GAAGD,EAAEiG,GAAGrF,GAAGX,GAAGU,GAAGX,IAAIC,GAAE,IAAKgG,GAAGtF,GAAGC,IAAIqF,GAAE,GAAInG,EAAEG,GAAGgG,EAAE,OAAOnG,EAAE,gBAAgBI,KAAKsE,kBAAkBtE,KAAKsE,iBAAgB,EAAGtE,KAAK2F,WAAW3F,KAAK6E,KAAKC,iBAAiB,cAAcrE,IAAIT,KAAKgG,eAAehG,KAAKiG,cAAcjG,KAAKkG,KAAK,mBAAmBzF,GAAGT,KAAKsE,kBAAkBtE,KAAK2F,YAAY3F,KAAKsE,iBAAgB,EAAGtE,KAAKmG,OAAO1F,KAAKT,KAAKsE,iBAAgB,EAAG,aAAa,OAAM,EAAG,cAAc,OAAM,EAAG,YAAY,QAAQvD,MAAMqF,aAAapG,KAAKqG,iBAAiBrG,KAAK6E,KAAKrD,SAAS,OAAO,OAAE,EAAC,QAAE,CAACiB,KAAK,EAAE,IAAIhC,GAAG,MAAMb,GAAE,OAAEa,EAAET,KAAK8C,KAAK,SAAS,GAAG9C,KAAKkG,KAAK,QAAQtG,OAAOqE,EAAEd,UAAU,aAAQ,IAAQ,OAAE,EAAC,WAAKc,EAAEd,UAAU,cAAS,IAAQ,OAAE,EAAC,WAAKc,EAAEd,UAAU,gBAAW,IAAQ,OAAE,EAAC,WAAKc,EAAEd,UAAU,iBAAY,IAAQ,OAAE,EAAC,QAAE,CAACE,UAAU,CAAC,aAAa,iBAAiB,qBAAqBY,EAAEd,UAAU,iBAAY,IAAQ,OAAE,EAAC,QAAE,CAACC,UAAS,KAAMa,EAAEd,UAAU,wBAAmB,IAAQ,OAAE,EAAC,WAAKc,EAAEd,UAAU,uBAAkB,IAAQ,OAAE,EAAC,QAAE,CAACE,UAAU,CAAC,WAAW,kBAAkB,gBAAgBY,EAAEd,UAAU,WAAW,OAAM,OAAE,EAAC,WAAKc,EAAEd,UAAU,YAAO,GAAQc,GAAE,OAAE,EAAC,OAAE,qCAAqCA,GAAGA,I,sZCAx4G,cAAqB,YAAYxD,EAAEb,GAAGI,KAAKsG,OAAO,EAAEtG,KAAKuG,QAAQ,EAAEvG,KAAKwG,MAAM,GAAGxG,KAAKsG,OAAO7F,EAAET,KAAKuG,QAAQ3G,EAAEI,KAAKwG,MAAMC,KAAK,IAAI,IAAE,EAAE,EAAEhG,EAAEb,IAAI,YAAY,OAAOI,KAAKsG,OAAO,aAAa,OAAOtG,KAAKuG,QAAQ,SAAS9F,EAAEb,GAAG,GAAGa,EAAET,KAAKsG,QAAQ1G,EAAEI,KAAKuG,QAAQ,OAAO,IAAI,IAAE,IAAIzG,EAAE,KAAKC,GAAG,EAAE,IAAI,IAAIF,EAAE,EAAEA,EAAEG,KAAKwG,MAAME,SAAS7G,EAAE,CAAC,MAAM8G,EAAE3G,KAAKwG,MAAM3G,GAAGY,GAAGkG,EAAExG,OAAOP,GAAG+G,EAAEvG,SAAS,OAAON,GAAG6G,EAAEzG,GAAGJ,EAAEI,GAAGyG,EAAE1G,GAAGH,EAAEG,KAAKH,EAAE6G,EAAE5G,EAAEF,GAAG,OAAO,OAAOC,EAAE,IAAI,KAAGE,KAAKwG,MAAMI,OAAO7G,EAAE,GAAGD,EAAEK,MAAML,EAAEM,QAAQN,EAAEK,MAAMM,GAAGT,KAAKwG,MAAMC,KAAK,IAAI,IAAE3G,EAAEG,EAAEQ,EAAEX,EAAEI,EAAEJ,EAAEK,MAAMM,EAAEb,IAAIE,EAAEM,OAAOR,GAAGI,KAAKwG,MAAMC,KAAK,IAAI,IAAE3G,EAAEG,EAAEH,EAAEI,EAAEN,EAAEE,EAAEK,MAAML,EAAEM,OAAOR,MAAME,EAAEK,MAAMM,GAAGT,KAAKwG,MAAMC,KAAK,IAAI,IAAE3G,EAAEG,EAAEQ,EAAEX,EAAEI,EAAEJ,EAAEK,MAAMM,EAAEX,EAAEM,SAASN,EAAEM,OAAOR,GAAGI,KAAKwG,MAAMC,KAAK,IAAI,IAAE3G,EAAEG,EAAEH,EAAEI,EAAEN,EAAEa,EAAEX,EAAEM,OAAOR,KAAK,IAAI,IAAEE,EAAEG,EAAEH,EAAEI,EAAEO,EAAEb,IAAI,QAAQC,GAAG,IAAI,IAAIY,EAAE,EAAEA,EAAET,KAAKwG,MAAME,SAASjG,EAAE,CAAC,MAAMb,EAAEI,KAAKwG,MAAM/F,GAAG,GAAGb,EAAEM,IAAIL,EAAEK,GAAGN,EAAEQ,SAASP,EAAEO,QAAQR,EAAEK,EAAEL,EAAEO,QAAQN,EAAEI,EAAEL,EAAEO,OAAON,EAAEM,WAAW,GAAGP,EAAEK,IAAIJ,EAAEI,GAAGL,EAAEO,QAAQN,EAAEM,OAAOP,EAAEM,EAAEN,EAAEQ,SAASP,EAAEK,EAAEN,EAAEQ,QAAQP,EAAEO,YAAY,GAAGP,EAAEK,IAAIN,EAAEM,GAAGL,EAAEO,SAASR,EAAEQ,QAAQP,EAAEI,EAAEJ,EAAEM,QAAQP,EAAEK,EAAEL,EAAEK,EAAEJ,EAAEI,EAAEL,EAAEO,OAAON,EAAEM,UAAU,CAAC,GAAGN,EAAEI,IAAIL,EAAEK,GAAGJ,EAAEM,QAAQP,EAAEO,OAAON,EAAEK,EAAEL,EAAEO,SAASR,EAAEM,EAAE,SAASN,EAAEM,EAAEL,EAAEK,EAAEN,EAAEQ,QAAQP,EAAEO,OAAOJ,KAAKwG,MAAMI,OAAOnG,EAAE,GAAGT,KAAK6G,QAAQhH,GAAGG,KAAKwG,MAAMC,KAAK5G,KCAh4B,QAAqB,YAAYD,EAAEa,EAAEX,GAAGE,KAAKG,MAAM,EAAEH,KAAKI,OAAO,EAAEJ,KAAK8G,SAAS,GAAG9G,KAAK+G,WAAW,GAAG/G,KAAKgH,aAAa,EAAEhH,KAAKiH,YAAY,GAAGjH,KAAKkH,UAAU,GAAGlH,KAAKmH,eAAe,IAAIC,IAAIpH,KAAKG,MAAMP,EAAEI,KAAKI,OAAOK,EAAET,KAAKqH,aAAavH,EAAEE,KAAKsH,SAAS,IAAI,EAAE1H,EAAE,EAAEa,EAAE,GAAGT,KAAK+G,WAAWN,KAAK,IAAIc,WAAW3H,EAAEa,IAAIT,KAAK8G,SAASL,MAAK,GAAIzG,KAAKkH,UAAUT,UAAK,GAAQ,cAAchG,EAAEZ,GAAG,MAAMa,EAAE,GAAGF,EAAER,KAAKqH,aAAapD,EAAE,IAAIuD,IAAI,IAAI,MAAM5H,KAAKC,EAAE,CAAC,MAAMY,EAAEJ,KAAKoH,MAAM,UAAU7H,GAAGqE,EAAEU,IAAIlE,GAAG,MAAMsF,EAAE,GAAG,OAAO9B,EAAEyD,SAAS9H,IAAI,GAAGA,GAAG,IAAI,CAAC,MAAME,EAAEW,EAAEb,EAAE,GAAGI,KAAKmH,eAAehF,IAAIrC,GAAGiG,EAAEU,KAAKzG,KAAKmH,eAAeQ,IAAI7H,QAAQ,CAAC,MAAMC,EAAES,EAAEoH,SAASnH,EAAEb,GAAGyF,MAAK,KAAMrF,KAAKmH,eAAeU,OAAO/H,MAAK,KAAME,KAAKmH,eAAeU,OAAO/H,MAAME,KAAKmH,eAAeW,IAAIhI,EAAEC,GAAGgG,EAAEU,KAAK1G,SAAQ,SAAEgG,GAAGV,MAAK,KAAM,IAAIzF,EAAEqE,EAAEjE,KAAKiH,YAAYxG,GAAGwD,IAAIA,EAAE,GAAGjE,KAAKiH,YAAYxG,GAAGwD,GAAGrE,EAAEC,EAAE,IAAI,MAAMA,KAAKD,EAAE,CAAC,MAAMA,EAAEqE,EAAEpE,GAAG,GAAGD,EAAE,CAACc,EAAEb,GAAG,CAACkI,KAAI,EAAG/D,KAAKpE,EAAEoE,KAAKgE,QAAQpI,EAAEoI,QAAQC,KAAKrI,EAAEqI,KAAKC,KAAKrI,GAAG,SAAS,MAAMkG,EAAEvF,EAAE2H,SAAS1H,EAAEZ,GAAG,IAAIkG,IAAIA,EAAEiC,QAAQ,SAAS,MAAMtE,EAAEqC,EAAEiC,QAAQ,IAAII,EAAE,GAAG,IAAI1E,EAAEvD,MAAMiI,EAAE,IAAI,IAAE,EAAE,EAAE,EAAE,OAAO,CAAC,MAAMxI,EAAE,EAAEa,EAAEiD,EAAEvD,MAAM,EAAEP,EAAEE,EAAE4D,EAAEtD,OAAO,EAAER,EAAE,IAAIC,EAAEY,EAAE,EAAE,EAAEA,EAAE,EAAE,EAAEC,EAAEZ,EAAE,EAAE,EAAEA,EAAE,EAAE,EAAE,IAAID,IAAIA,EAAE,GAAG,IAAIa,IAAIA,EAAE,GAAG0H,EAAEpI,KAAKsH,SAASe,SAAS5H,EAAEZ,EAAEC,EAAEY,GAAG0H,EAAEE,UAAUtI,KAAK8G,SAAS9G,KAAKgH,gBAAgBhH,KAAK+G,WAAW/G,KAAKgH,cAAc,MAAMhH,KAAKgH,aAAahH,KAAK+G,WAAWL,OAAO1G,KAAK+G,WAAWN,KAAK,IAAIc,WAAWvH,KAAKG,MAAMH,KAAKI,SAASJ,KAAK8G,SAASL,MAAK,GAAIzG,KAAKkH,UAAUT,UAAK,GAAQzG,KAAKsH,SAAS,IAAI,EAAEtH,KAAKG,MAAM,EAAEH,KAAKI,OAAO,GAAGgI,EAAEpI,KAAKsH,SAASe,SAAS5H,EAAEZ,EAAEC,EAAEY,IAAI,MAAMF,EAAER,KAAK+G,WAAW/G,KAAKgH,cAAc/C,EAAE8B,EAAEwC,OAAO,IAAIC,EAAEC,EAAE,GAAGxE,EAAE,IAAI,IAAIrE,EAAE,EAAEA,EAAEE,EAAEF,IAAI,CAAC4I,EAAE/H,EAAEb,EAAE6I,EAAEzI,KAAKG,OAAOiI,EAAElI,EAAEN,EAAE,GAAGwI,EAAEnI,EAAE,IAAI,IAAIL,EAAE,EAAEA,EAAEa,EAAEb,IAAIY,EAAEiI,EAAE7I,EAAE,GAAGqE,EAAEuE,EAAE5I,IAAIqE,EAAEpE,GAAG,CAACmE,KAAKoE,EAAEJ,QAAQtE,EAAEgF,QAAQ,KAAKT,KAAKjI,KAAKgH,cAActG,EAAEb,GAAG,CAACkI,KAAI,EAAG/D,KAAKoE,EAAEJ,QAAQtE,EAAEuE,KAAKjI,KAAKgH,aAAakB,KAAKrI,GAAGG,KAAK8G,SAAS9G,KAAKgH,eAAc,EAAG,OAAOtG,KAAK,aAAad,GAAG,IAAI,MAAMa,KAAKT,KAAKiH,YAAY,CAAC,MAAMnH,EAAEE,KAAKiH,YAAYxG,GAAG,IAAIX,EAAE,SAAS,IAAIC,EAAE,IAAI,MAAMU,KAAKX,EAAE,GAAGC,EAAED,EAAEW,GAAGV,EAAE2I,QAAQb,OAAOjI,GAAG,IAAIG,EAAE2I,QAAQC,KAAK,CAAC,MAAM/I,EAAEI,KAAK+G,WAAWhH,EAAEkI,MAAMpI,EAAEE,EAAEiE,KAAK,IAAItD,EAAEF,EAAE,IAAI,IAAIC,EAAE,EAAEA,EAAEZ,EAAEO,OAAOK,IAAI,IAAIC,EAAEV,KAAKG,OAAON,EAAEK,EAAEO,GAAGZ,EAAEI,EAAEO,EAAE,EAAEA,EAAEX,EAAEM,MAAMK,IAAIZ,EAAEc,EAAEF,GAAG,SAASV,EAAEW,GAAGT,KAAK8G,SAAS/G,EAAEkI,OAAM,IAAK,KAAKrI,EAAEE,EAAEC,EAAEF,EAAE,GAAGG,KAAKkH,UAAUnH,KAAKC,KAAKkH,UAAUnH,GAAG,IAAI,IAAEH,EAAE,CAACgJ,YAAY,KAAKC,SAAS,KAAK1I,MAAMH,KAAKG,MAAMC,OAAOJ,KAAKI,QAAQ,IAAImH,WAAWvH,KAAKG,MAAMH,KAAKI,UAAU,MAAMM,EAAEV,KAAKkH,UAAUnH,GAAGW,EAAEoI,gBAAgBhJ,GAAGE,KAAK8G,SAAS/G,IAAIW,EAAEqI,QAAQ/I,KAAK+G,WAAWhH,IAAIH,EAAEoJ,YAAYtI,EAAEb,GAAGG,KAAK8G,SAAS/G,IAAG,EAAG,UAAUC,KAAKsH,SAAS,KAAK,IAAI,MAAM1H,KAAKI,KAAKkH,UAAUtH,GAAGA,EAAEqJ,UAAUjJ,KAAKkH,UAAUR,OAAO,I,eCAzqF,MAAMX,EAAE,YAAYnG,GAAG,GAAGI,KAAKkJ,SAAS,GAAGlJ,KAAKmJ,SAAS,GAAGvJ,EAAE,KAAKA,EAAEwJ,QAAQ,OAAOxJ,EAAEyJ,OAAO,KAAK,EAAE,CAAC,MAAM5I,EAAEb,EAAE0J,aAAa,KAAK7I,EAAE2I,QAAQ,OAAO3I,EAAE4I,OAAO,KAAK,EAAE,CAAC,MAAMzJ,EAAEa,EAAE6I,aAAa,IAAIvJ,EAAEgG,EAAErF,EAAEF,EAAEV,EAAE4D,EAAE8E,EAAE,KAAK5I,EAAEwJ,QAAQ,OAAOxJ,EAAEyJ,OAAO,KAAK,EAAEtJ,EAAEH,EAAE2J,YAAY,MAAM,KAAK,EAAExD,EAAEnG,EAAE4J,WAAW,MAAM,KAAK,EAAE9I,EAAEd,EAAE2J,YAAY,MAAM,KAAK,EAAE/I,EAAEZ,EAAE2J,YAAY,MAAM,KAAK,EAAEzJ,EAAEF,EAAE6J,YAAY,MAAM,KAAK,EAAE/F,EAAE9D,EAAE6J,YAAY,MAAM,KAAK,EAAEjB,EAAE5I,EAAE2J,YAAY,MAAM,QAAQ3J,EAAE8J,OAAO9J,EAAEiH,UAAU9G,IAAIC,KAAKkJ,SAASnJ,GAAG,CAACI,MAAMO,EAAEN,OAAOI,EAAEkC,KAAK5C,EAAE8C,IAAIc,EAAEiG,QAAQnB,GAAGxI,KAAKmJ,SAASpJ,GAAGgG,GAAG,MAAM,QAAQtF,EAAEiJ,OAAOjJ,EAAEoG,UAAU,MAAM,QAAQjH,EAAE8J,QAAQ,WAAW9J,GAAG,OAAOI,KAAKkJ,SAAStJ,GAAG,UAAUA,GAAG,OAAOI,KAAKmJ,SAASvJ,IAAI,MAAMc,EAAE,cAAcV,KAAK4J,QAAQ,GAAG,SAAShK,GAAG,OAAOI,KAAK4J,QAAQhK,GAAG,SAASA,EAAEa,GAAGT,KAAK4J,QAAQhK,GAAGa,GAAG,cAAqB,YAAYb,GAAGI,KAAK6J,WAAW,GAAG7J,KAAK8J,SAASlK,EAAE,SAASc,EAAEF,GAAG,MAAMV,EAAEE,KAAK+J,cAAcrJ,GAAG,GAAGZ,EAAE8H,SAASpH,GAAG,OAAO,eAAI,MAAMkD,EAAE,IAAIlD,EAAEgI,EAAE9E,EAAE,IAAIO,EAAEjE,KAAK8J,SAASE,QAAQ,cAActJ,GAAGsJ,QAAQ,UAAUtG,EAAE,IAAI8E,GAAG,OAAO,aAAEvE,EAAE,CAACgG,aAAa,iBAAiB5E,MAAMzF,IAAIE,EAAEoK,SAAS1J,EAAE,IAAIuF,EAAE,IAAI,IAAE,IAAIwB,WAAW3H,EAAEuK,MAAM,IAAIC,SAASxK,EAAEuK,YAAYE,OAAM,KAAMvK,EAAEoK,SAAS1J,EAAE,IAAIuF,MAAM,SAASnG,EAAEa,GAAG,MAAMV,EAAEC,KAAK+J,cAAcnK,GAAG,IAAIG,EAAE,OAAO,MAAMgG,EAAE1F,KAAKoH,MAAMhH,EAAE,KAAK,GAAGsF,EAAE,IAAI,OAAO,MAAMrF,EAAEX,EAAE6H,SAAS7B,GAAG,OAAOrF,EAAE,CAACsH,QAAQtH,EAAE4J,WAAW7J,GAAG8H,OAAO7H,EAAE6J,UAAU9J,SAAI,EAAO,cAAcb,GAAG,IAAIa,EAAET,KAAK6J,WAAWjK,GAAG,OAAOa,IAAIA,EAAET,KAAK6J,WAAWjK,GAAG,IAAIc,GAAGD,ICAv0C,MAAMV,EAAE,YAAYH,EAAEE,EAAEC,EAAE,GAAGC,KAAKwK,MAAM,GAAGxK,KAAKyK,aAAa,GAAGzK,KAAKkH,UAAU,GAAGlH,KAAK8G,SAAS,GAAG9G,KAAK0K,aAAa,EAAE1K,KAAKgH,aAAa,EAAEhH,KAAK2K,WAAW,EAAE3K,KAAK4K,YAAY,EAAE5K,KAAK6K,aAAa,GAAG7K,KAAK8K,WAAW,GAAGlL,GAAG,GAAGE,GAAG,IAAIiL,QAAQC,MAAM,4EAA4EhL,KAAK2K,WAAW/K,EAAEI,KAAK4K,YAAY9K,EAAEC,EAAE,IAAIC,KAAK0K,aAAa3K,GAAGC,KAAKsH,SAAS,IAAI,EAAE1H,EAAE,EAAEE,EAAE,GAAG,SAASF,GAAG,OAAOA,GAAGI,KAAKwK,MAAM9D,QAAQ,EAAE1G,KAAKwK,MAAM5K,GAAG,GAAG,UAAUA,GAAG,OAAOA,GAAGI,KAAKwK,MAAM9D,QAAQ,EAAE1G,KAAKwK,MAAM5K,GAAG,GAAG,gBAAgBA,GAAG,GAAGI,KAAKiJ,UAAUjJ,KAAK8K,WAAWlL,EAAEqL,iBAAiB,IAAIjL,KAAKyK,aAAa/D,OAAO,CAAC1G,KAAKsH,SAAS,IAAI,EAAEtH,KAAK2K,WAAW,EAAE3K,KAAK4K,YAAY,GAAG,MAAMhL,EAAES,KAAKoH,MAAMzH,KAAK2K,YAAY7K,EAAEO,KAAKoH,MAAMzH,KAAK4K,aAAa7K,EAAE,IAAImL,YAAYtL,EAAEE,GAAGE,KAAKyK,aAAa,GAAG1K,EAAEC,KAAK8G,SAASL,MAAK,GAAIzG,KAAKwK,MAAM/D,KAAK,CAACzG,KAAK2K,WAAW3K,KAAK4K,cAAc5K,KAAKkH,UAAUT,UAAK,GAAQzG,KAAKmL,SAASvL,EAAE,cAAcA,EAAEE,GAAE,GAAI,IAAIW,EAAET,KAAK6K,aAAajL,GAAG,GAAGa,EAAE,OAAOA,EAAE,IAAIT,KAAKmL,UAAU,WAAWnL,KAAKmL,SAASC,WAAW,OAAO,KAAK,MAAMrL,EAAEC,KAAKmL,SAASE,cAAczL,GAAG,IAAIG,IAAIA,EAAEI,QAAQJ,EAAEK,QAAQL,EAAEI,MAAM,GAAGJ,EAAEK,OAAO,EAAE,OAAO,KAAK,MAAMP,EAAEE,EAAEI,MAAM4F,EAAEhG,EAAEK,QAAQM,EAAEuD,EAAEqH,GAAGtL,KAAKuL,eAAe1L,EAAEkG,GAAG,OAAOrF,EAAEP,OAAO,EAAE,MAAMH,KAAKwL,MAAM9K,EAAEX,EAAEkE,EAAEqH,EAAExL,GAAGW,EAAE,CAACuD,KAAKtD,EAAEP,MAAMN,EAAEO,OAAO2F,EAAEgC,IAAIhI,EAAEgI,IAAI0D,eAAc,EAAGX,WAAW/K,EAAE+K,WAAW7C,KAAKhE,GAAGjE,KAAK6K,aAAajL,GAAGa,EAAEA,GAAG,qBAAqB,IAAI,MAAMb,KAAKI,KAAKmL,SAASO,YAAY1L,KAAK2L,cAAc/L,GAAE,GAAI,eAAeA,GAAG,MAAME,EAAE,GAAG,IAAI,MAAMW,KAAKb,EAAEE,EAAEW,GAAGT,KAAK2L,cAAclL,GAAG,OAAOX,EAAE,sBAAsBF,EAAEE,GAAG,MAAMW,EAAET,KAAK2L,cAAc/L,EAAEE,GAAGC,EAAEU,GAAGA,EAAEuD,KAAK,IAAIjE,EAAE,OAAO,KAAKA,EAAEI,MAAMM,EAAEN,MAAMJ,EAAEK,OAAOK,EAAEL,OAAO,MAAMP,EAAEY,EAAEN,MAAM4F,EAAEtF,EAAEL,OAAOM,EAAEV,KAAKwK,MAAM/J,EAAEwH,MAAM,MAAM,CAACU,KAAK,CAAClI,EAAEN,MAAMM,EAAEL,QAAQwL,GAAG,EAAE7L,EAAEE,EAAE,GAAGS,EAAE,IAAIX,EAAEG,EAAE,GAAGQ,EAAE,IAAImL,GAAG,EAAE9L,EAAEE,EAAE,EAAEJ,GAAGa,EAAE,IAAIX,EAAEG,EAAE,EAAE6F,GAAGrF,EAAE,IAAIuH,KAAKxH,EAAEwH,MAAM,KAAKnI,EAAEW,EAAEV,EAAE,EAAEF,EAAE,GAAGG,KAAKkH,UAAUnH,KAAKC,KAAKkH,UAAUnH,GAAG,IAAI,IAAED,EAAE,CAAC8I,YAAY,KAAKC,SAAS,KAAKiD,SAAS,MAAM3L,MAAMH,KAAKwK,MAAMzK,GAAG,GAAGK,OAAOJ,KAAKwK,MAAMzK,GAAG,IAAI,IAAIwH,WAAWvH,KAAKyK,aAAa1K,GAAGgM,UAAU,MAAMhG,EAAE/F,KAAKkH,UAAUnH,GAAGgG,EAAE+C,gBAAgBrI,GAAGT,KAAK8G,SAAS/G,IAAIgG,EAAEgD,QAAQ,IAAIxB,WAAWvH,KAAKyK,aAAa1K,GAAGgM,SAASjM,EAAEkJ,YAAYjD,EAAElG,GAAGG,KAAK8G,SAAS/G,IAAG,EAAG,iBAAiBH,EAAEE,EAAEW,EAAEV,EAAEF,EAAEkG,EAAErF,EAAEuD,EAAEqH,EAAE9K,EAAEgI,GAAG,IAAIC,EAAE1I,EAAED,EAAEW,EAAEiD,EAAEO,EAAE8B,EAAErF,EAAE,GAAG8H,EAAE,CAAC9E,GAAGqC,EAAE,IAAI,IAAIrF,GAAG,EAAEA,GAAGF,EAAEE,IAAI+H,IAAI/H,EAAEF,GAAGA,EAAET,GAAGD,EAAEW,EAAEiD,GAAGqC,EAAE,IAAI,IAAIjG,GAAG,EAAEA,GAAGwL,EAAExL,IAAID,EAAE6D,EAAE5D,GAAGF,EAAE6I,GAAG3I,EAAEwL,GAAGA,QAAQ,IAAI,IAAI7K,EAAE,EAAEA,EAAED,EAAEC,IAAI,CAAC,IAAI,IAAIX,EAAE,EAAEA,EAAEwL,EAAExL,IAAID,EAAE6D,EAAE5D,GAAGF,EAAE6I,EAAE3I,GAAG2I,GAAG3I,EAAE4D,GAAGqC,GAAG,MAAMnG,EAAEE,EAAEW,EAAEZ,EAAEkG,EAAErF,GAAG,IAAIV,KAAKmL,UAAU,WAAWnL,KAAKmL,SAASC,YAAY3K,GAAGT,KAAKyK,aAAa/D,OAAO,OAAO,MAAMzC,EAAE,IAAIiH,YAAYxK,EAAEA,EAAEqL,OAAO/L,KAAKmL,SAASa,MAAMD,QAAQT,EAAEtL,KAAKyK,aAAahK,GAAG6K,GAAGrH,GAAG8G,QAAQC,MAAM,8CAA8C,MAAMxK,EAAEE,EAAEZ,EAAEK,MAAMH,KAAKmL,SAAShL,MAAMJ,EAAEkM,UAAUhI,EAAEzD,EAAEV,EAAEG,EAAEH,EAAEI,EAAEoL,EAAEzL,EAAE,GAAGD,EAAEK,EAAE,EAAEL,EAAEM,EAAE,EAAEJ,EAAEK,MAAML,EAAEM,OAAO2F,GAAG/F,KAAK8G,SAASrG,IAAG,EAAG,eAAeb,EAAEG,GAAGH,GAAG,EAAEG,GAAG,EAAE,MAAMF,EAAEQ,KAAKE,IAAIX,EAAEG,GAAG,GAAGC,KAAK0K,cAAc1K,KAAK0K,aAAa7K,EAAE,CAAC,MAAMY,EAAE,IAAI,IAAE,EAAE,EAAEb,EAAEG,GAAG,OAAOC,KAAKyK,aAAahE,KAAK,IAAIyE,YAAYtL,EAAEG,IAAIC,KAAK8G,SAASL,MAAK,GAAIzG,KAAKwK,MAAM/D,KAAK,CAAC7G,EAAEG,IAAIC,KAAKkH,UAAUT,UAAK,GAAQ,CAAChG,EAAET,KAAKyK,aAAa/D,OAAO,EAAE,CAAC9G,EAAEG,IAAI,IAAIgG,EAAEnG,EAAE,EAAE,EAAEA,EAAE,EAAE,EAAEc,EAAEX,EAAE,EAAE,EAAEA,EAAE,EAAE,EAAE,IAAIgG,IAAIA,EAAE,GAAG,IAAIrF,IAAIA,EAAE,GAAG,MAAMuD,EAAEjE,KAAKsH,SAASe,SAASzI,EAAEmG,EAAEhG,EAAEW,GAAG,OAAOuD,EAAE9D,OAAO,GAAGH,KAAK8G,SAAS9G,KAAKgH,gBAAgBhH,KAAKyK,aAAazK,KAAKgH,cAAc,MAAMhH,KAAKgH,aAAahH,KAAKyK,aAAa/D,OAAO1G,KAAKyK,aAAahE,KAAK,IAAIyE,YAAYlL,KAAK2K,WAAW3K,KAAK4K,cAAc5K,KAAK8G,SAASL,MAAK,GAAIzG,KAAKwK,MAAM/D,KAAK,CAACzG,KAAK2K,WAAW3K,KAAK4K,cAAc5K,KAAKkH,UAAUT,UAAK,GAAQzG,KAAKsH,SAAS,IAAI,EAAEtH,KAAK2K,WAAW,EAAE3K,KAAK4K,YAAY,GAAG5K,KAAKuL,eAAe3L,EAAEG,IAAI,CAACkE,EAAEjE,KAAKgH,aAAa,CAAChH,KAAK2K,WAAW3K,KAAK4K,cAAc,UAAU5K,KAAKsH,SAAS,KAAKtH,KAAK6K,aAAa,GAAG,IAAI,MAAMjL,KAAKI,KAAKkH,UAAUtH,GAAGA,EAAEqJ,UAAUjJ,KAAKkH,UAAUR,OAAO,GAAG,UCAz7H,SAAS9G,EAAEA,EAAEa,EAAED,EAAEyD,EAAEmE,EAAEtI,GAAGF,EAAEsM,UAAUzL,EAAEb,EAAEuM,SAAS3L,EAAEyD,EAAEmE,EAAEtI,GAAG,SAASW,EAAEb,EAAEa,EAAED,EAAEyD,EAAEmE,EAAEtI,GAAGF,EAAEwM,YAAY3L,EAAEb,EAAEyM,WAAW7L,EAAEyD,EAAEmE,EAAEtI,GAAG,SAAS,EAAEF,EAAEa,GAAGb,EAAEwM,YAAY,QAAQ,MAAM5L,EAAEC,EAAE6L,SAASrI,EAAExD,EAAE8L,KAAKnE,EAAE3H,EAAE+L,QAAQ,IAAI,IAAI1M,EAAE,EAAEA,EAAEmE,EAAEnE,IAAI,CAAC,MAAMmE,EAAExD,EAAEgM,MAAM3M,GAAGY,EAAEZ,EAAEU,EAAET,GAAGD,EAAE,GAAGU,EAAE,IAAI,IAAIC,EAAE,EAAEA,EAAE2H,EAAE3H,IAAI,CAAC,MAAM2H,EAAEnE,EAAExD,GAAGX,EAAEW,EAAED,EAAEkM,GAAGjM,EAAE,GAAGD,EAAEZ,EAAEyM,WAAWvM,EAAEY,EAAEgM,EAAE5M,EAAEC,EAAEW,GAAGd,EAAE+M,SAAS,SAASvE,EAAE1B,SAAS5G,EAAE,EAAEY,EAAE,MAAM,SAAS,EAAEF,EAAEyD,GAAG,MAAMmE,EAAEwE,OAAOC,eAAe,IAAI,IAAI/M,EAAE,EAAEA,EAAEmE,EAAEyC,SAAS5G,EAAE,CAAC,MAAMY,GAAGuD,EAAEnE,GAAGgN,OAAOC,KAAK,GAAG3E,IAAI1H,EAAE,IAAI,MAAMX,KAAKkE,EAAEnE,GAAGkN,UAAU,CAAC,IAAIjN,EAAEkN,QAAQ,SAAS,MAAMP,GAAGzI,EAAEnE,GAAGgN,OAAOI,MAAMnN,EAAEoN,WAAWJ,KAAK,IAAI3E,GAAGsE,EAAE,SAAS,MAAM3G,EAAEhG,EAAEqN,QAAQ1J,EAAE3D,EAAEsN,QAAQC,EAAEvN,EAAEwN,SAAS1N,EAAEE,EAAEyN,SAAShN,EAAEiN,YAAY/M,GAAGgM,EAAE,GAAG,EAAE9M,EAAEY,EAAE,QAAQuF,EAAE,EAAErC,EAAE,EAAE,EAAE,GAAGjD,EAAED,EAAE,MAAMuF,EAAEuH,EAAE5J,EAAE7D,EAAEE,EAAEI,MAAMJ,EAAEK,QAAQR,EAAEY,EAAE,OAAOuF,EAAEuH,EAAE,EAAE5J,EAAE7D,EAAE,EAAE,EAAE,GAAGW,EAAEiN,YAAY,ICAP,MAAMC,EAAE,IAAI,IAAE,IAAIC,EAAE,IAAIvG,IAAI,MAAMwG,EAAE,YAAYnN,EAAEb,EAAEG,EAAED,GAAGE,KAAK6N,iBAAiBpN,EAAET,KAAK8N,iBAAiBlO,EAAEI,KAAKiL,iBAAiBlL,EAAEC,KAAK+N,UAAUjO,EAAEE,KAAKgO,cAAc,KAAKhO,KAAKiO,aAAa,KAAKjO,KAAKkO,YAAY,KAAKlO,KAAKmO,qBAAqB,IAAI/G,IAAIpH,KAAKoO,4BAA4B,IAAIhH,IAAI,UAAUpH,KAAKmO,sBAAsBnO,KAAKqO,WAAWrO,KAAKkO,cAAclO,KAAKkO,YAAYI,QAAQtO,KAAKkO,YAAY,MAAMlO,KAAK8N,iBAAiB,KAAK9N,KAAK6N,iBAAiB,KAAK7N,KAAKgO,gBAAgBhO,KAAKgO,cAAc,MAAMhO,KAAKiO,eAAejO,KAAKiO,aAAa,MAAM,mBAAmB,OAAOjO,KAAKuO,qBAAqBlJ,MAAK,IAAKrF,KAAKgO,gBAAgB,kBAAkB,OAAOhO,KAAKiO,aAAa,YAAYrO,GAAG,MAAMG,EAAEC,KAAK6N,iBAAiBnN,EAAEX,EAAEyO,mBAAmBvK,EAAE,GAAG,IAAI,MAAMxD,KAAKC,EAAEuD,EAAEwC,KAAKzG,KAAKyO,cAAc/N,EAAED,GAAGb,IAAII,KAAKuO,qBAAqBvO,KAAK6N,iBAAiBa,iBAAiB1O,KAAKiL,iBAAiBrL,GAAGI,KAAKuO,qBAAqBlJ,MAAM5E,IAAIT,KAAKgO,cAAc,IAAI,EAAE,KAAK,KAAK,KAAKhO,KAAKgO,cAAcW,gBAAgBlO,MAAM,MAAMsF,EAAE/F,KAAK8N,iBAAiBtN,EAAE,IAAI,EAAEuF,EAAE6I,QAAQ,OAAO5O,KAAKiO,aAAa,IAAI,EAAE,KAAK,KAAKzN,GAAGR,KAAK6O,mBAAkB,QAAE,oBAAoB,CAACC,OAAO9O,KAAK+O,UAAUnP,EAAEmP,UAAUC,OAAOpP,EAAEoP,SAAS3J,MAAM3E,IAAIV,KAAKkO,YAAYxN,GAAE,SAAEV,KAAKkO,YAAYe,UAAU,WAAW,CAACC,MAAMnP,EAAEoP,iBAAiBD,MAAME,2BAA0B,OAAE,gCAAgCxP,QAAO,SAAEqE,GAAG,kBAAkBxD,GAAG,aAAaT,KAAK6O,kBAAkB7O,KAAK6O,mBAAkB,aAAE,CAAEjP,EAAEG,MAAK,SAAEC,KAAKkO,YAAYe,UAAU,cAAcxO,IAAI4E,KAAKzF,EAAEG,MAAMC,KAAK6O,kBAAkB,eAAejP,EAAEG,SAASC,KAAK6O,kBAAkB7O,KAAK8N,iBAAiBlO,EAAE,MAAMqE,EAAEjE,KAAK6N,iBAAiBW,mBAAmBzI,EAAE,GAAG,IAAI,MAAMtF,KAAKwD,EAAE8B,EAAEU,KAAKzG,KAAKyO,cAAcxK,EAAExD,GAAG,OAAOT,KAAKuO,qBAAqBvO,KAAK6N,iBAAiBa,iBAAiB1O,KAAKiL,iBAAiB,MAAMjL,KAAKuO,qBAAqBlJ,MAAM5E,IAAIT,KAAKgO,cAAc,IAAI,EAAE,KAAK,KAAK,KAAKhO,KAAKgO,cAAcW,gBAAgBlO,MAAM,MAAMD,EAAE,IAAI,EAAEZ,EAAEgP,QAAQ,OAAO5O,KAAKiO,aAAa,IAAI,EAAE,KAAK,KAAKzN,GAAGR,KAAK6O,mBAAkB,aAAE,CAAEjP,EAAEc,MAAK,SAAEV,KAAKkO,YAAYe,UAAU,WAAW,CAACC,MAAMnP,EAAEqP,2BAA0B,OAAE,kCAAkC/J,KAAKzF,EAAEc,MAAMqF,EAAEU,KAAKzG,KAAK6O,oBAAmB,SAAE9I,GAAG,cAActF,EAAEV,EAAED,EAAEY,GAAG,MAAMF,EAAE,IAAI,IAAEC,EAAEV,EAAED,EAAE,GAAG,IAAG,QAAEE,KAAK+N,WAAW,CAAC,MAAMtN,EAAET,KAAK+N,UAAUpG,IAAInH,EAAE6O,IAAI,IAAG,QAAE5O,GAAG,OAAOA,EAAE6O,aAAY,aAAE7O,GAAG,OAAOT,KAAKuP,mBAAmB/O,GAAG6E,MAAM5E,IAAI,IAAG,oBAAEC,IAAG,QAAEV,KAAK+N,WAAW,CAAC,MAAMtN,EAAET,KAAK+N,UAAUpG,IAAInH,EAAE6O,IAAI,IAAG,QAAE5O,GAAG,OAAOA,EAAE6O,YAAY7O,EAAE,IAAIT,KAAK6N,iBAAiB,OAAO,KAAK,MAAM9N,EAAEC,KAAK6N,iBAAiBnM,SAAS8N,eAAc,UAAIhP,GAAGV,EAAE,IAAI,IAAEU,EAAER,KAAK8N,iBAAiB/N,EAAE,CAAC,IAAI,MAAM,GAAGU,GAAGA,EAAEgP,UAAU,GAAG3P,EAAEiJ,QAAQtI,EAAEgP,WAAU,QAAEzP,KAAK+N,WAAW,CAACjO,EAAEwP,YAAY,MAAM7O,EAAEX,EAAE4P,iBAAiBjP,EAAE,GAAGT,KAAK+N,UAAU4B,IAAI7P,EAAEa,IAAI0O,GAAGvP,EAAEW,EAAEX,EAAE8P,WAAW,YAAS9P,EAAEiJ,QAAQ,MAAM,OAAOjJ,KAAK,kBAAkBW,IAAG,QAAET,KAAK+N,YAAYtN,EAAEoG,WAAW7G,KAAK+N,UAAU8B,WAAWpP,EAAEE,IAAI0O,GAAG5O,EAAEA,EAAEiP,iBAAiBjP,EAAEmP,YAAY,cAAcnP,EAAEb,GAAG,OAAOI,KAAK8P,YAAYrP,EAAEb,GAAGyF,MAAM5E,IAAI,MAAMV,EAAEC,KAAK6N,iBAAiBW,mBAAmB1O,EAAE,GAAG,IAAI,MAAMW,KAAKV,EAAED,EAAE2G,KAAKhG,GAAG,OAAOT,KAAK+P,gBAAgBjQ,EAAEW,EAAEb,MAAM,cAAcA,EAAEG,GAAG,MAAMD,EAAEF,GAAGA,EAAEuK,KAAK,IAAIrK,EAAE,OAAO,aAAE,MAAM,MAAMkQ,yBAAyBtP,EAAEuP,aAAalK,GAAGjG,EAAE,OAAO,IAAIoQ,OAAOC,KAAKzP,GAAGgG,QAAO,aAAE,MAAM1G,KAAK6O,kBAAkBxJ,MAAK,IAAKrF,KAAKkO,YAAYkC,qBAAqB/K,MAAMvF,GAAGA,EAAEuQ,OAAO,qBAAqB,CAAC1P,IAAIf,EAAEe,IAAI0O,GAAGW,yBAAyBtP,EAAE4P,eAAe1Q,EAAE0Q,gBAAgB,IAAIvQ,EAAEkQ,aAAalK,IAAIV,MAAMzF,IAAI,IAAG,OAAE,2BAA2B,CAAC,MAAMa,EAAE,GAAG,IAAI,MAAMb,KAAKc,EAAED,EAAEb,GAAGc,EAAEd,GAAG2Q,OAAO,MAAM,CAACd,SAAS7P,EAAE4Q,QAAQ/P,GAAG,MAAM,CAACgP,SAAS7P,UAAU,eAAe,OAAOI,KAAKmO,qBAAqBxF,KAAK,EAAE,WAAW3I,KAAKoO,4BAA4B1G,SAASjH,GAAGA,EAAEgQ,UAAUzQ,KAAKoO,4BAA4BsC,QAAQ1Q,KAAKmO,qBAAqBuC,QAAQ,iBAAiBjQ,GAAG,aAAaT,KAAKuO,qBAAqBvO,KAAKgO,cAAc2C,eAAelQ,GAAG,UAAUA,GAAG,OAAOT,KAAKiO,aAAa2C,cAAcnQ,EAAEoQ,KAAKpQ,EAAEqQ,YAAY,YAAYnQ,IAAIF,EAAEsQ,aAAanR,KDAz5H,SAAWA,EAAEa,EAAED,GAAG,IAAIoM,OAAOoE,8BAA8B,OAAO,MAAM/M,EAAE2I,OAAOoE,8BAA8B/M,EAAEgN,KAAKhN,EAAEgN,MAAM,GAAG,MAAM7I,EAAEnE,EAAEgN,KAAK7I,EAAExI,GAAGwI,EAAExI,IAAI,CAACsR,MAAM,KAAKC,KAAK,EAAE7Q,SAAI,EAAOC,SAAI,EAAO6Q,QAAQ,GAAGC,KAAK7Q,GAAG4H,EAAExI,GAAGuR,MAAM1Q,EAAE2H,EAAExI,GAAGwR,QAAQ3K,KAAKhG,IAAI,MAAM2H,EAAExI,GAAGU,KAAKG,EAAE2H,EAAExI,GAAGU,OAAO8H,EAAExI,GAAGU,IAAIG,IAAI,MAAM2H,EAAExI,GAAGW,KAAKE,EAAE2H,EAAExI,GAAGW,OAAO6H,EAAExI,GAAGW,IAAIE,GCAilH,CAAEA,EAAEb,EAAE,MAAM,sBAAsBa,EAAEb,EAAEG,GAAG,MAAMD,EAAE,iBAAeW,EAAE4O,IAAI3O,EAAEV,KAAK6N,iBAAiBW,mBAAmB5O,GAAG0R,iBAAiBxR,EAAEc,MAAMd,EAAEe,IAAIf,EAAEgB,KAAK,iBAAehB,GAAG,IAAI,MAAM,CAACyR,iBAAiB,aAAE7Q,EAAE,CAACuJ,aAAa,kBAAkBlK,KAAKoK,KAAKqH,WAAW5R,GAAG,MAAMa,GAAG,IAAG,kBAAEA,GAAG,MAAMA,EAAE,MAAM,CAAC8Q,UAAU,KAAKC,WAAW5R,IAAI,oBAAoBa,EAAEb,GAAG,GAAGa,EAAEgR,aAAaC,WAAWC,iBAAiBlR,EAAEmR,UAAU,OAAO,eAAI,IAAInR,EAAEoR,WAAW,OAAO,MAAM9R,EAAE2N,EAAE/F,IAAIlH,EAAEoR,YAAY,GAAG9R,EAAE,YAAYU,EAAEmR,UAAU7R,GAAG,IAAID,EAAE,GAAG6N,EAAExL,IAAI1B,EAAEoR,YAAY,CAAC,IAAI/R,QAAQ6N,EAAEhG,IAAIlH,EAAEoR,YAAYpR,EAAEmR,UAAU,IAAI,IAAE9R,EAAEqK,MAAM,MAAM1J,GAAG,IAAG,kBAAEA,GAAG,MAAMA,EAAE,OAAO,MAAMC,GAAE,aAAED,EAAEoR,WAAWjS,GAAG+N,EAAE7F,IAAIrH,EAAEoR,WAAWnR,GAAG,IAAIZ,QAAQY,EAAEiN,EAAE9F,OAAOpH,EAAEoR,YAAYnE,EAAEiC,IAAIlP,EAAEoR,WAAWpR,EAAEmR,WAAWnR,EAAEmR,UAAU,IAAI,IAAE9R,EAAEqK,MAAM,MAAMvK,GAAG,GAAG+N,EAAE9F,OAAOpH,EAAEoR,aAAY,kBAAEjS,GAAG,MAAMA,GAAG,YAAYa,EAAEb,GAAG,MAAMG,EAAEC,KAAK6N,iBAAiBW,mBAAmB1O,EAAE,IAAIgS,MAAM,IAAI,MAAMpR,KAAKX,EAAE,CAAC,MAAMkE,EAAElE,EAAEW,GAAGqR,UAAUtR,EAAEb,GAAGE,EAAE2G,KAAKxC,GAAG,OAAO,gBAAEnE,GAAG,gBAAgBW,EAAEb,EAAEG,GAAG,MAAMD,EAAE,GAAG,IAAI,IAAIY,EAAE,EAAEA,EAAEd,EAAE8G,OAAOhG,IAAI,GAAG,MAAMd,EAAEc,GAAGsR,OAAO,MAAMvR,EAAEC,GAAGZ,EAAE2G,KAAK,UAAU,CAAC,MAAMxC,EAAEjE,KAAKiS,gBAAgBrS,EAAEc,GAAGsR,MAAMvR,EAAEC,GAAGX,GAAGD,EAAE2G,KAAKxC,GAAG,OAAO,gBAAEnE,GAAGuF,MAAM5E,IAAI,MAAMV,EAAE,GAAGD,EAAE,GAAG,IAAI,IAAIY,EAAE,EAAEA,EAAED,EAAEiG,OAAOhG,IAAI,GAAGD,EAAEC,GAAGsR,OAAOvR,EAAEC,GAAGsR,OAAOvR,EAAEC,GAAGsR,MAAMT,WAAW9Q,EAAEC,GAAGsR,MAAMT,UAAUW,WAAW,EAAE,CAAC,MAAMjO,EAAErE,EAAEc,GAAGsR,MAAM3C,GAAGtP,EAAEU,EAAEC,GAAGsR,MAAMR,YAAY,CAACjB,OAAOtM,EAAEsN,UAAU9Q,EAAEC,GAAGsR,MAAMT,WAAWzR,EAAE2G,KAAKhG,EAAEC,GAAGsR,MAAMT,WAAW,MAAM,CAACvB,yBAAyBjQ,EAAEkQ,aAAanQ,MAAM,mBAAmBW,GAAG,MAAMb,EAAEa,EAAE4O,GAAG,GAAGrP,KAAKmO,qBAAqBhM,IAAIvC,GAAG,OAAOI,KAAKmO,qBAAqBxG,IAAI/H,GAAG,MAAMG,EAAE,IAAIoS,gBAAgBrS,EAAE,CAACkP,OAAOjP,EAAEiP,QAAQtO,EAAEV,KAAKoS,yBAAyB3R,EAAEX,GAAGuF,MAAM5E,IAAIT,KAAKmO,qBAAqBtG,OAAOjI,GAAGI,KAAKoO,4BAA4BvG,OAAOjI,GAAGa,KAAK4J,OAAM,KAAMrK,KAAKmO,qBAAqBtG,OAAOjI,GAAGI,KAAKoO,4BAA4BvG,OAAOjI,GAAG,QAAQ,OAAOI,KAAKmO,qBAAqBrG,IAAIlI,EAAEc,GAAGV,KAAKoO,4BAA4BtG,IAAIlI,EAAEG,GAAGW,EAAE,yBAAyBD,EAAEb,GAAG,OAAOI,KAAKqS,cAAc5R,EAAEb,GAAGyF,MAAMtF,GAAGC,KAAKsS,cAAc,CAAC3R,IAAIF,EAAE0J,KAAKpK,GAAGH,M,0BCA39M,MAAM,EAAE,CAACa,EAAEX,IAAIW,EAAE,GAAG,GAAG,EAAEX,GAAG,MAAMmE,EAAE,YAAYxD,EAAEX,GAAGE,KAAKuS,OAAO,IAAInL,IAAIpH,KAAKwS,WAAW,IAAI,IAAE,IAAI/R,GAAGA,EAAEwI,YAAYjJ,KAAKyS,UAAU,CAAC,EAAE,GAAGzS,KAAK0S,cAAc,IAAItL,IAAIpH,KAAK2S,YAAYlS,EAAEkS,YAAY3S,KAAK4S,YAAYnS,EAAEmS,YAAY5S,KAAK6S,aAAapS,EAAEoS,aAAa7S,KAAK8S,WAAWhT,EAAE,UAAUE,KAAKuS,OAAO7B,QAAQ1Q,KAAKuS,OAAO,KAAKvS,KAAKwS,WAAW9B,QAAQ1Q,KAAKwS,WAAW,KAAK,OAAO/R,GAAGT,KAAK+S,iBAAiBtS,GAAG,MAAMX,EAAEE,KAAK6S,aAAajT,EAAEE,EAAEkT,gBAAgBvS,EAAEW,MAAM,EAAE,aAAa6R,MAAMvS,EAAEwS,QAAQjP,GAAGrE,GAAGgB,MAAMJ,GAAGyD,EAAE8B,EAAE,IAAIyB,IAAI3H,EAAE,IAAI2H,IAAI,IAAI,MAAM3G,IAAIJ,EAAE0S,QAAQrT,EAAEsT,MAAMxT,KAAKc,EAAE,IAAI,IAAIX,EAAED,EAAEC,GAAGH,EAAEG,IAAI,CAAC,MAAMD,EAAE,UAAQU,EAAEC,EAAEwD,EAAEoP,aAAatT,GAAGkE,EAAEqP,kBAAkBvT,IAAIH,EAAEI,KAAKuT,kBAAkBzT,GAAGiG,EAAEpB,IAAI7E,GAAGF,EAAE4T,YAAYxT,KAAKyT,gBAAgB7T,GAAGC,EAAE8E,IAAI,IAAI,IAAE7E,IAAI,IAAI,MAAMW,EAAEX,KAAKE,KAAKuS,OAAOzS,EAAE4T,WAAW3N,EAAE5D,IAAI1B,GAAG,IAAI,MAAMA,KAAKZ,EAAEG,KAAK2T,iCAAiClT,EAAEsF,GAAG,IAAIrC,GAAE,EAAG,IAAI,MAAMjD,EAAE2H,KAAKpI,KAAKuS,OAAOnK,EAAEwL,kBAAkB7N,EAAE5D,IAAI1B,GAAG2H,EAAEwL,mBAAmBxL,EAAEyL,kBAAkB/T,EAAEgU,WAAWlU,EAAEwI,EAAEzH,MAAMoF,EAAEpB,IAAIlE,GAAG2H,EAAE2L,WAAWrQ,GAAE,GAAI,IAAI,MAAMjD,EAAEX,KAAKE,KAAKuS,OAAOxM,EAAE5D,IAAI1B,IAAIT,KAAKgU,aAAavT,GAAG,OAAO,iBAAeb,IAAI8D,EAAE,QAAQ1D,KAAKuS,OAAO7B,QAAQ1Q,KAAKwS,WAAW9B,QAAQ1Q,KAAK0S,cAAchC,QAAQ,aAAa1Q,KAAKwS,WAAW9B,QAAQ,iCAAiCjQ,EAAEX,GAAG,MAAMF,EAAE,GAAG,IAAI,MAAMwI,EAAErI,KAAKC,KAAKuS,OAAOvS,KAAKiU,qBAAqBrU,EAAEG,EAAEU,EAAEX,GAAG,MAAMsI,EAAExI,EAAEsU,OAAO,EAAE,GAAG7T,KAAK8T,IAAI,EAAE/L,GAAG,MAAMpI,KAAKoU,sBAAsB3T,EAAE4O,GAAGvP,GAAG,qBAAqBW,EAAEX,EAAEF,EAAEwI,GAAGtI,EAAEa,IAAIC,OAAOhB,EAAEgB,QAAQd,EAAEuU,WAAW,SAAS5T,EAAEX,GAAG,MAAMF,EAAEE,EAAEc,MAAMH,EAAEG,MAAM,OAAOH,EAAEI,MAAMf,EAAEe,KAAKjB,GAAGa,EAAEK,MAAMhB,EAAEgB,KAAKlB,GAAGa,EAAE6T,QAAQxU,EAAEwU,MAA7F,CAAoG1U,EAAEE,EAAEa,OAAOX,KAAKyT,gBAAgB3T,GAAGsI,EAAEzD,IAAI7E,EAAEuP,IAAI5O,EAAEgG,KAAK3G,EAAEa,IAAIC,MAAMhB,EAAEgB,QAAQ,sBAAsBH,EAAEX,GAAG,IAAIF,EAAEa,EAAE,OAAO,CAAC,GAAGb,EAAEY,EAAEZ,IAAIA,GAAGE,EAAEqC,IAAIvC,GAAG,OAAO,MAAMa,EAAET,KAAKuU,SAAS3U,GAAG,GAAGa,GAAGA,EAAE4T,UAAU,OAAOrU,KAAKyT,gBAAgBhT,QAAQX,EAAE6E,IAAIlE,EAAE4O,KAAK,kBAAkB5O,GAAG,IAAIX,EAAEE,KAAKuS,OAAO5K,IAAIlH,GAAG,OAAOX,IAAIA,EAAEE,KAAKwS,WAAWgC,IAAI/T,GAAGX,IAAIA,EAAEE,KAAK2S,YAAY,IAAI,IAAElS,KAAKT,KAAKuS,OAAOzK,IAAIrH,EAAEX,GAAGA,GAAG,SAASW,GAAG,IAAIX,EAAEE,KAAKuS,OAAO5K,IAAIlH,GAAG,OAAOX,IAAIA,EAAEE,KAAKwS,WAAWgC,IAAI/T,GAAGX,GAAGE,KAAKuS,OAAOzK,IAAIrH,EAAEX,GAAGA,GAAG,aAAaW,GAAG,MAAMX,EAAEE,KAAKuS,OAAO5K,IAAIlH,GAAGT,KAAK4S,YAAY9S,GAAGE,KAAKyU,qBAAqB3U,GAAGE,KAAKuS,OAAO1K,OAAOpH,GAAGX,EAAEuU,UAAUrU,KAAKwS,WAAW7C,IAAIlP,EAAEX,EAAE,GAAGA,EAAEmJ,UAAU,gBAAgBrJ,GAAG,IAAIwI,EAAE,MAAMrI,EAAE,GAAGW,EAAEV,KAAK8S,WAAW,GAAGpS,EAAEgU,SAAS9U,GAAG,OAAO,MAAMqE,EAAEjE,KAAK0S,cAAc,IAAI,MAAM5S,EAAEY,KAAKuD,EAAEjE,KAAK2U,oBAAoB/U,EAAEc,IAAIX,EAAE0G,KAAK/F,IAAG,QAAE0H,IAAIpI,KAAK2U,oBAAoBjU,EAAEd,KAAKwI,EAAE1H,GAAG,IAAG,QAAE0H,GAAG,CAAC,IAAI,MAAM3H,KAAKV,EAAEqI,EAAEwM,cAAc/M,OAAOpH,GAAGb,EAAEgV,cAAcjQ,IAAIlE,GAAGA,EAAEoU,WAAWjV,EAAEwI,EAAEwM,cAAcjQ,IAAI/E,GAAGA,EAAEiV,WAAWzM,OAAO,IAAI,MAAM3H,KAAKV,EAAEH,EAAEgV,cAAcjQ,IAAIlE,GAAGA,EAAEoU,WAAWjV,EAAEqE,EAAE6D,IAAIlI,EAAEyP,GAAGzP,GAAGc,EAAEoU,SAASlV,GAAG,qBAAqBa,GAAG,GAAGT,KAAK0S,cAAc7K,OAAOpH,EAAE4O,IAAIrP,KAAK8S,WAAWiC,YAAYtU,IAAG,QAAEA,EAAEoU,YAAY,CAACpU,EAAEoU,WAAWD,cAAc/M,OAAOpH,GAAG,IAAI,MAAMb,KAAKa,EAAEmU,eAAc,QAAEnU,EAAEoU,aAAapU,EAAEoU,WAAWD,cAAcjQ,IAAI/E,GAAG,IAAI,MAAME,KAAKW,EAAEmU,cAAc9U,EAAE+U,WAAWpU,EAAEoU,WAAWpU,EAAEoU,WAAW,KAAKpU,EAAEmU,cAAclE,QAAQ,oBAAoBjQ,EAAEX,GAAG,MAAMF,EAAEa,EAAEE,IAAI,IAAIC,MAAMwH,EAAEvH,IAAId,EAAEe,IAAIJ,EAAE4T,MAAMrQ,GAAGnE,EAAEa,IAAI,MAAMH,EAAER,KAAK0S,cAAc,KAAKtK,EAAE,GAAG,CAAC,GAAGA,IAAIrI,IAAI,EAAEW,IAAI,EAAEd,EAAEgB,QAAQwH,GAAGxI,EAAEiB,MAAMd,GAAGH,EAAEkB,MAAMJ,GAAGd,EAAE0U,QAAQrQ,EAAE,OAAM,EAAG,GAAGzD,EAAE2B,IAAI,GAAGiG,KAAKrI,KAAKW,KAAKuD,KAAK,OAAM,EAAG,OAAM,EAAG,iBAAiBxD,GAAG,MAAMX,EAAEW,EAAEW,MAAMuH,KAAK,GAAG7I,EAAE,KAAKE,KAAKyS,UAAU,IAAI3S,EAAE,KAAKE,KAAKyS,UAAU,GAAG,OAAO,MAAM7S,EAAES,KAAK2U,KAAKlV,EAAE,GAAG,KAAK,EAAEsI,EAAE/H,KAAK2U,KAAKlV,EAAE,GAAG,KAAK,EAAEE,KAAKyS,UAAU,GAAG3S,EAAE,GAAGE,KAAKyS,UAAU,GAAG3S,EAAE,GAAGE,KAAKwS,WAAWyC,QAAQ,EAAErV,EAAEwI,GAAG,SAAS5H,EAAEC,GAAG,MAAMX,EAAEF,EAAEwI,EAAErI,GAAGU,EAAEyU,MAAM,KAAKxU,EAAEyU,SAASrV,EAAE,IAAI,OAAO,IAAIY,EAAE,KAAK,GAAGA,EAAE,KAAKyU,SAASvV,EAAE,KAAK,KAAKuV,SAAS/M,EAAE,KAAK,KAAK+M,SAASpV,EAAE,M,6FCAviH,SAAS,GAAEU,EAAEb,EAAEY,EAAEyD,EAAEvD,EAAEX,GAAG,MAAMqV,sBAAsBtV,EAAEuV,sBAAsBjN,EAAEkN,cAAcvP,EAAEwP,oBAAoB7R,EAAE8R,cAAc3V,EAAE4V,oBAAoBC,GAAGzR,EAAE,IAAIyI,EAAE,EAAE,IAAI,MAAMzI,KAAKxD,EAAEuM,UAAU,CAAC,MAAMvM,EAAEP,GAAG,IAAI+D,EAAEkJ,UAAUpH,EAAElG,EAAEI,EAAE,IAAIgE,EAAEkJ,UAAUzJ,EAAEgS,EAAElN,EAAEvE,EAAE0R,QAAQ5V,GAAGA,GAAGkE,EAAE2R,OAAOlJ,GAAGlE,EAAE,EAAE,EAAEvE,EAAEgJ,QAAQzE,EAAEvE,EAAEmJ,QAAQnJ,EAAE4R,MAAMnV,EAAE,GAAGuD,EAAE6R,MAAMpV,EAAE,GAAGA,EAAE,GAAGuD,EAAEoJ,QAAQpJ,EAAE4R,MAAMnV,EAAE,GAAGuD,EAAE6R,MAAMpV,EAAE,GAAGA,EAAE,GAAG,IAAIT,GAAGgE,EAAEmJ,SAAS5M,EAAEC,EAAEb,EAAEM,EAAE+D,EAAEoJ,SAASzN,EAAEa,EAAED,EAAEN,IAAI+D,EAAEmJ,SAAS3M,EAAEwD,EAAEoJ,SAASnN,GAAG,KAAK,IAAI+D,EAAEkJ,UAAUrN,EAAEsI,IAAInE,EAAEsJ,SAAStJ,EAAE8R,SAAS9R,EAAEuJ,SAASvJ,EAAE+R,WAAW/R,EAAEsJ,SAAS/M,GAAGyD,EAAE8R,SAAS9R,EAAE9D,MAAM,GAAGP,GAAGqE,EAAE+R,SAAS/R,EAAE7D,OAAO,GAAG6D,EAAE9D,MAAM,EAAE8D,EAAEuJ,SAAS5N,GAAGqE,EAAE8R,SAAS9R,EAAE9D,MAAM,GAAGK,GAAGyD,EAAE+R,SAAS/R,EAAE7D,OAAO,GAAG6D,EAAE7D,OAAO,GAAGK,EAAEuM,UAAUtG,OAAO,GAAGgG,IAAIjM,EAAEuM,UAAUtG,SAASjG,EAAEqM,OAAOC,MAAK,GAAI,MAAM,GAAE,YAAY9I,EAAEvD,EAAEX,EAAED,EAAEsI,EAAErC,GAAG/F,KAAKiW,SAAShS,EAAEjE,KAAK8N,iBAAiBhO,EAAEE,KAAKkW,MAAM9N,EAAEpI,KAAKmW,oBAAoB,EAAEnW,KAAKoW,qBAAqB,EAAEpW,KAAKqW,YAAY,IAAIjP,IAAIpH,KAAKsW,mBAAmB,IAAIlP,IAAIpH,KAAKuW,WAAW,IAAI,MAAE7V,EAAEX,EAAE,MAAGC,KAAKwW,IAAInW,KAAKoW,IAAIpW,KAAKqW,GAAG3Q,EAAE,KAAK/F,KAAK2W,IAAItW,KAAKuW,IAAIvW,KAAKqW,GAAG3Q,EAAE,KAAK,IAAI,MAAMnG,KAAKqE,EAAE,IAAI,MAAMzD,KAAKZ,EAAEiX,QAAQ7W,KAAKsW,mBAAmBnU,IAAI3B,EAAEsW,OAAO9W,KAAKsW,mBAAmBxO,IAAItH,EAAEsW,MAAK,QAAEtW,EAAEsW,KAAKC,WAAWC,oBAAoB,KAAKvW,GAAG,MAAMb,EAAEI,KAAKuW,WAAW,SAAS/V,EAAEC,GAAG,MAAMD,EAAEC,EAAE2M,QAAQ3M,EAAE8M,SAAStJ,EAAExD,EAAE4M,QAAQ5M,EAAE+M,SAAS9M,EAAEF,EAAEC,EAAEN,MAAMJ,EAAEkE,EAAExD,EAAEL,QAAQN,EAAEsI,EAAErC,EAAErC,GAAG9D,EAAEqX,YAAYzW,EAAEyD,EAAEvD,EAAEX,GAAG,IAAI,IAAIU,EAAE2H,EAAE3H,GAAGiD,EAAEjD,IAAI,IAAI,IAAI2H,EAAEtI,EAAEsI,GAAGrC,EAAEqC,IAAI,CAAC,MAAMtI,EAAEF,EAAE6M,MAAMhM,GAAG2H,GAAG,IAAI,MAAM3H,KAAKX,EAAE,CAAC,MAAMF,EAAEa,EAAE2M,QAAQ3M,EAAE8M,SAASzN,EAAEW,EAAE4M,QAAQ5M,EAAE+M,SAASpF,EAAExI,EAAEa,EAAEN,MAAM4F,EAAEjG,EAAEW,EAAEL,OAAO,KAAKM,EAAEd,GAAGY,EAAE4H,GAAGrI,EAAED,GAAGmE,EAAE8B,GAAG,OAAM,GAAI,OAAM,EAAG,MAAMrF,EAAEwW,YAAYC,MAAM,KAAKnX,KAAKmW,oBAAoBnW,KAAKiW,SAASvP,OAAO1G,KAAKmW,sBAAsBnW,KAAKoW,qBAAqB,EAAE,CAAC,MAAMxW,EAAEI,KAAKiW,SAASjW,KAAKmW,qBAAqBpW,EAAEC,KAAKoX,eAAexX,EAAEyX,eAAe,KAAKrX,KAAKoW,qBAAqBxW,EAAEiX,QAAQnQ,OAAO1G,KAAKoW,uBAAuB,CAAC,GAAGpW,KAAKoW,qBAAqB,KAAK,IAAIc,YAAYC,MAAMzW,EAAED,EAAE,OAAM,EAAG,MAAMX,EAAEF,EAAEiX,QAAQ7W,KAAKoW,sBAAsB,IAAItW,EAAEgN,OAAOC,KAAK,SAAS,GAAEjN,EAAEE,KAAKwW,IAAIxW,KAAK2W,IAAI5W,EAAEC,KAAKsW,mBAAmB3O,IAAI7H,EAAEgX,MAAM9W,KAAKkW,OAAO,MAAM9N,EAAEtI,EAAEgN,OAAO,IAAI1E,EAAE2E,KAAK,SAAS,MAAMuK,iBAAiBvR,EAAEwR,oBAAoB7T,EAAE8T,iBAAiB3X,EAAE4X,oBAAoB/B,GAAG3V,EAAE,IAAI,MAAMU,KAAKX,EAAEkN,UAAU,CAAC,IAAIvM,EAAEwM,QAAQ,SAAS,MAAMrN,EAAEwI,EAAE8E,MAAMzM,EAAE0M,WAAevN,EAAEmN,SAAgBtM,EAAE0M,UAAUtN,EAAEkG,IAAIvF,EAAEC,KAAKA,EAAEiX,KAAKtP,EAAE2E,MAAK,EAAGnN,EAAEmN,MAAK,IAAI,GAAG3E,EAAE2E,KAAK,IAAI,MAAMtM,KAAKX,EAAEkN,UAAU,CAAC,IAAIvM,EAAEwM,QAAQ,SAAS,GAAGxM,EAAE0M,UAAUuI,EAAEhS,EAAE,SAAS,IAAI0E,EAAE8E,MAAMzM,EAAE0M,WAAWJ,KAAK,SAAS,MAAMnN,EAAEa,EAAE2M,QAAQ3M,EAAE8M,SAAS/M,EAAEC,EAAE4M,QAAQ5M,EAAE+M,SAASvJ,EAAErE,EAAEa,EAAEN,MAAMO,EAAEF,EAAEC,EAAEL,QAAQL,EAAED,EAAEiG,EAAElG,GAAGG,KAAKuW,WAAWU,YAAYrX,EAAEY,EAAEyD,EAAEvD,GAAG,IAAI,IAAId,EAAEE,EAAEF,GAAGC,EAAED,IAAI,IAAI,IAAIY,EAAET,EAAES,GAAGuF,EAAEvF,IAAKR,KAAKuW,WAAW9J,MAAM7M,GAAGY,GAAGiG,KAAKhG,KAAM,OAAM,EAAG,eAAeA,GAAG,MAAMb,EAAEI,KAAKqW,YAAY1O,IAAIlH,GAAG,GAAGb,EAAE,OAAOA,EAAE,MAAMY,EAAER,KAAKkW,MAAMjS,EAAEjE,KAAK8N,iBAAiB6J,mBAAmBlX,GAAGC,EAAE,IAAIuD,EAAE2T,eAAe,mBAAmBpX,GAAG,IAAIT,EAAEkE,EAAE2T,eAAe,0BAA0BpX,GAAG,IAAIT,IAAIA,EAAEW,EAAE,EAAE,GAAG,IAAIZ,EAAEmE,EAAE2T,eAAe,0BAA0BpX,GAAG,IAAIV,IAAIA,EAAEY,EAAE,EAAE,GAAG,MAAM0H,EAAEnE,EAAE4T,cAAc,iBAAiBrX,GAAGuF,EAAE9B,EAAE4T,cAAc,wBAAwBrX,GAAGkD,EAAEO,EAAE4T,cAAc,iBAAiBrX,GAAGX,EAAEoE,EAAE4T,cAAc,wBAAwBrX,GAAGkV,EAAE,CAAC4B,iBAAiBrT,EAAE2T,eAAe,qBAAqBpX,GAAG+W,oBAAoBtT,EAAE2T,eAAe,wBAAwBpX,GAAGgX,iBAAiBvT,EAAE2T,eAAe,qBAAqBpX,GAAGiX,oBAAoBxT,EAAE2T,eAAe,wBAAwBpX,GAAG4U,sBAAsBrV,EAAEsV,sBAAsBvV,EAAEyV,oBAAoBxP,EAAEuP,cAAclN,EAAEqN,oBAAoB5V,EAAE2V,cAAc9R,GAAG,OAAO1D,KAAKqW,YAAYvO,IAAIrH,EAAEiV,GAAGA,GCAplH,SAAS,GAAEzR,EAAExD,GAAG,GAAGwD,EAAE6T,SAASrX,EAAEqX,SAAS,OAAO7T,EAAE6T,SAASrX,EAAEqX,SAAS,MAAMlY,EAAEqE,EAAE6S,KAAKnW,IAAIb,EAAEW,EAAEqW,KAAKnW,IAAI,OAAOf,EAAE0U,MAAMxU,EAAEwU,MAAM1U,EAAE0U,MAAMxU,EAAEwU,MAAM1U,EAAEgB,MAAMd,EAAEc,MAAMhB,EAAEgB,MAAMd,EAAEc,MAAMhB,EAAEiB,IAAIf,EAAEe,IAAIjB,EAAEiB,IAAIf,EAAEe,IAAIjB,EAAEkB,IAAIhB,EAAEgB,IAAIlB,EAAEkB,IAAIhB,EAAEgB,IAAImD,EAAE4R,MAAMpV,EAAEoV,MAAM5R,EAAE4R,MAAMpV,EAAEoV,MAAM5R,EAAE6R,MAAMrV,EAAEqV,MAAM,MAAM,GAAE,YAAY7R,EAAExD,EAAEb,EAAEE,EAAEC,EAAEW,GAAGV,KAAK0S,cAAczO,EAAEjE,KAAK+X,kBAAkBtX,EAAET,KAAKgY,oBAAoBpY,EAAEI,KAAKiY,0BAA0BnY,EAAEE,KAAKkY,mBAAmBnY,EAAEC,KAAKmY,gBAAgBzX,EAAEV,KAAKoY,cAAc,KAAKpY,KAAKqY,wBAAuB,EAAGrY,KAAKsY,cAAc,KAAKtY,KAAKuY,wBAAuB,EAAGvY,KAAKwY,YAAY,KAAKxY,KAAKyY,sBAAqB,EAAGzY,KAAK0Y,UAAS,EAAG,cAAc,OAAO1Y,KAAK0Y,SAAS,cAAczU,EAAExD,GAAGT,KAAK2Y,eAAe1U,GAAGjE,KAAK4Y,gBAAgBnY,GAAGT,KAAK6Y,UAAU7Y,KAAK2Y,aAAa1U,EAAEjE,KAAK4Y,cAAcnY,EAAE,UAAUT,KAAKoY,cAAc,KAAKpY,KAAKqY,wBAAuB,EAAGrY,KAAKsY,cAAc,KAAKtY,KAAKuY,wBAAuB,EAAGvY,KAAKwY,YAAY,KAAKxY,KAAKyY,sBAAqB,EAAGzY,KAAK0Y,UAAS,EAAG,SAASzU,GAAG,GAAGjE,KAAKoY,gBAAgBpY,KAAKoY,cAAcpY,KAAK8Y,wBAAwB9Y,KAAKqY,uBAAuB,CAAC,MAAM5X,EAAEyW,YAAYC,MAAM,IAAInX,KAAKoY,cAAcW,KAAK9U,GAAG,OAAM,EAAG,GAAGjE,KAAKqY,wBAAuB,EAAG,KAAKpU,EAAE5D,KAAKE,IAAI,EAAE0D,GAAGiT,YAAYC,MAAM1W,KAAK,OAAM,EAAG,GAAGT,KAAKsY,gBAAgBtY,KAAKsY,cAActY,KAAKgY,oBAAoBhY,KAAKoY,cAAcY,cAAchZ,KAAK2Y,aAAa3Y,KAAK4Y,iBAAiB5Y,KAAKuY,uBAAuB,CAAC,MAAM9X,EAAEyW,YAAYC,MAAM,IAAInX,KAAKsY,cAAcS,KAAK9U,GAAG,OAAM,EAAG,GAAGjE,KAAKuY,wBAAuB,EAAG,KAAKtU,EAAE5D,KAAKE,IAAI,EAAE0D,GAAGiT,YAAYC,MAAM1W,KAAK,OAAM,EAAG,GAAGT,KAAKwY,cAAcxY,KAAKwY,YAAYxY,KAAKiZ,sBAAsBjZ,KAAKyY,qBAAqB,CAAC,MAAMhY,EAAEyW,YAAYC,MAAM,IAAInX,KAAKwY,YAAYO,KAAK9U,GAAG,OAAM,EAAG,GAAGjE,KAAKyY,sBAAqB,EAAG,KAAKxU,EAAE5D,KAAKE,IAAI,EAAE0D,GAAGiT,YAAYC,MAAM1W,KAAK,OAAM,EAAG,OAAOT,KAAK0Y,UAAS,GAAG,EAAG,sBAAsB,MAAMzU,EAAEjE,KAAK+X,kBAAkBmB,cAActZ,EAAE,GAAG,IAAIE,EAAE,EAAEC,EAAE,EAAE,MAAMW,EAAEV,KAAKmY,gBAAsB3X,EAAER,KAAKkY,mBAAmB,MAAM,CAACa,KAAK,SAASvY,GAAG,IAAI4H,EAAE,MAAM1E,EAAEwT,YAAYC,MAAM,KAAKpX,EAAEkE,EAAEyC,OAAO3G,IAAID,EAAE,EAAE,CAAC,MAAMW,EAAEwD,EAAElE,GAAGF,EAAEY,EAAE4W,cAAc,IAAI3W,EAAEb,GAAG,CAACD,EAAEG,KAAKH,EAAEG,GAAG,CAACsX,cAAcxX,EAAEgX,QAAQ,KAAK,SAASjX,EAAEG,GAAGH,EAAEG,IAAI,CAACsX,cAAcxX,EAAEgX,QAAQ,IAAI,MAAM9Q,EAAEnG,EAAEG,GAAG,KAAKD,EAAEW,EAAEyY,cAAcxS,OAAO5G,IAAI,CAAC,GAAGsI,EAAE3H,EAAEyY,cAAcpZ,GAAGA,EAAE,KAAK,IAAIoX,YAAYC,MAAMzT,EAAElD,EAAE,OAAM,EAAG,IAAIyD,EAAE,KAAKrE,GAAE,EAAGG,GAAE,EAAG,IAAI,MAAMU,KAAK2H,EAAE+Q,YAAY,GAAG1Y,EAAE2Y,sBAAqB,GAAIrZ,IAAIH,EAAE,CAAC,MAAME,EAAEW,EAAEqW,OAAO7S,GAAGnE,EAAE4T,YAAY5T,EAAE8T,oBAAoBhU,KAAKqE,EAAExD,GAAGX,EAAE8T,mBAAmB9T,EAAE4T,cAAc3T,GAAE,GAAID,EAAE4T,aAAa9T,GAAE,IAAK,GAAGqE,EAAEmV,sBAAqB,EAAGrZ,EAAE,CAACgG,EAAE8Q,QAAQpQ,KAAKxC,GAAGmE,EAAE2E,MAAK,EAAG,IAAI,MAAM9I,KAAKmE,EAAE8E,MAAMjJ,EAAE8I,MAAK,OAAQ3E,EAAE2E,MAAK,GAAI,IAAI,MAAM9I,KAAKrE,EAAEqE,EAAE4S,QAAQwC,KAAK,IAAG,OAAM,GAAI,oBAAoB,OAAOzZ,EAAEyZ,KAAK7Y,KAAK,oBAAoB,MAAMyD,EAAEjE,KAAKiY,0BAA0BxX,EAAET,KAAK0S,cAAc,IAAI9S,EAAE,EAAE,SAASG,EAAEU,EAAEb,GAAG,MAAMc,EAAED,EAAEoW,QAAQ,IAAI,MAAM5S,EAAExD,KAAKC,EAAE,GAAED,EAAEb,GAAGqE,EAAExD,EAAEb,GAAG,IAAI,MAAMqE,KAAKxD,EAAEmU,cAAc7U,EAAEkE,EAAErE,GAAG,MAAM,CAAC,KAAKqE,GAAG,MAAMnE,EAAEoX,YAAYC,MAAM,KAAKvX,EAAEa,EAAEiG,OAAO9G,IAAI,CAAC,GAAGsX,YAAYC,MAAMrX,EAAEmE,EAAE,OAAM,EAAG,MAAMvD,EAAED,EAAEb,GAAMc,EAAEmU,YAAoB9U,EAAEW,EAAEwW,YAAYC,OAAO,OAAM,KAAM,SAAS,GAAE1W,EAAEb,GAAG,IAAI,MAAME,KAAKW,EAAE,CAAC,MAAMA,EAAEX,EAAEgN,OAAO,IAAI,MAAMhN,KAAKW,EAAEyM,MAAM,CAAC,MAAMnN,EAAED,EAAEwZ,cAAc,GAAG,GAAG,EAAExZ,EAAEyZ,cAAcxZ,IAAIH,EAAEE,EAAE0Z,WAAW,MAAG1Z,EAAEyZ,aAAalZ,KAAKC,IAAID,KAAKE,IAAIT,EAAEyZ,aAAa,GAAG,GAAGzZ,EAAE0Z,UAAU5Z,EAAEE,EAAEwZ,cAAc7Y,EAAEsM,MAAMjN,EAAEiN,KAAK,EAAE,ICAhrG,MAAM,GAAE,YAAYtM,EAAEV,EAAEkE,GAAGjE,KAAKyZ,eAAehZ,EAAET,KAAK0S,cAAc3S,EAAEC,KAAK0Z,cAAczV,EAAEjE,KAAKuS,OAAO,IAAInL,IAAIpH,KAAK2Z,yBAAyB,IAAIvS,IAAI,oBAAoB,OAAO,QAAEpH,KAAK4Z,2BAA2B5Z,KAAK4Z,wBAAwB5Z,KAAK6Z,iCAAiC7Z,KAAK4Z,wBAAwB,IAAInZ,EAAEV,GAAGC,KAAK4Z,wBAAwB,KAAK,IAAIha,EAAEI,KAAKuS,OAAO5K,IAAIlH,EAAE4O,IAAIzP,IAAIA,EAAE,CAACiX,QAAQ,IAAIzP,KAAKpH,KAAKuS,OAAOzK,IAAIrH,EAAE4O,GAAGzP,IAAI,MAAMwI,EAAE,IAAIhB,IAAI,GAAGrH,EAAE,IAAI,MAAMU,KAAKV,EAAEH,EAAEiX,QAAQ1U,IAAI1B,KAAK2H,EAAEN,IAAIrH,EAAEb,EAAEiX,QAAQlP,IAAIlH,IAAIb,EAAEiX,QAAQhP,OAAOpH,SAAS,IAAI,MAAMV,EAAEkE,KAAKxD,EAAEqZ,UAAUla,EAAEiX,QAAQ1U,IAAIpC,KAAKqI,EAAEN,IAAI/H,EAAEH,EAAEiX,QAAQlP,IAAI5H,IAAIH,EAAEiX,QAAQhP,OAAO9H,IAAIC,KAAK+Z,eAAe3R,GAAG,MAAMtI,EAAEW,EAAEoW,QAAQrW,EAAE,IAAI4G,IAAI,IAAI,MAAM3G,EAAEV,KAAKD,EAAE,CAAC,IAAIsI,EAAErI,EAAE2G,OAAO,GAAG0B,GAAG,GAAG,CAAC,IAAItI,EAAEE,KAAKyZ,eAAe,GAAG3Z,GAAG,EAAEsI,GAAG,QAAQA,EAAE,GAAGtI,EAAE,IAAI,MAAMY,EAAE,IAAI,MAAEV,KAAKyZ,eAAezZ,KAAKyZ,eAAe3Z,GAAGU,EAAEsH,IAAIrH,EAAE,CAACuZ,KAAKja,EAAEka,MAAMvZ,IAAId,EAAEiX,QAAQ/O,IAAIrH,EAAE,CAACuZ,KAAKja,EAAEka,MAAMvZ,IAAI,IAAI,MAAMD,KAAKV,EAAEW,EAAEwZ,QAAQzZ,EAAEoV,MAAMpV,EAAEqV,OAAOrP,KAAKhG,QAAQD,EAAEsH,IAAIrH,EAAE,CAACuZ,KAAKja,IAAIH,EAAEiX,QAAQ/O,IAAIrH,EAAE,CAACuZ,KAAKja,IAAIC,KAAKma,YAAY1Z,EAAEE,IAAIb,GAAG,kBAAkBW,GAAGT,KAAK4Z,wBAAwB,KAAK,IAAI,MAAM7Z,EAAEkE,KAAKjE,KAAKuS,OAAO,CAAC,MAAM3S,EAAE,IAAIwH,IAAI,IAAI,MAAMrH,KAAKU,EAAEwD,EAAE4S,QAAQ1U,IAAIpC,KAAKH,EAAEkI,IAAI/H,EAAEkE,EAAE4S,QAAQlP,IAAI5H,IAAIkE,EAAE4S,QAAQhP,OAAO9H,IAAIC,KAAK+Z,eAAena,GAAG,IAAIqE,EAAE4S,QAAQlO,MAAM3I,KAAKuS,OAAO1K,OAAO9H,IAAI,WAAWU,GAAGT,KAAK4Z,wBAAwB,KAAK,MAAM7Z,EAAEC,KAAKuS,OAAO5K,IAAIlH,EAAE4O,IAAI,IAAItP,EAAE,OAAO,MAAMkE,EAAE,IAAImD,IAAI,IAAI,MAAMxH,EAAEwI,KAAK3H,EAAEoW,QAAQ9W,EAAE8W,QAAQ1U,IAAIvC,KAAKqE,EAAE6D,IAAIlI,EAAEG,EAAE8W,QAAQlP,IAAI/H,IAAIG,EAAE8W,QAAQhP,OAAOjI,IAAII,KAAK+Z,eAAe9V,GAAG,IAAIlE,EAAE8W,QAAQlO,MAAM3I,KAAKuS,OAAO1K,OAAOpH,EAAE4O,IAAI,eAAe5O,GAAG,IAAI,MAAMV,GAAGia,KAAK/V,MAAMxD,EAAE,IAAI,MAAMA,KAAKwD,EAAE,CAAC,MAAMA,EAAExD,EAAEqM,OAAOlN,EAAEqE,EAAEkV,YAAY/Q,EAAExI,EAAE8G,OAAO,EAAE,IAAI,IAAI3G,EAAE,EAAEA,EAAEqI,EAAErI,IAAI,GAAGH,EAAEG,KAAKU,EAAE,CAACb,EAAEG,GAAGH,EAAEwI,GAAG,MAAM,GAAGxI,EAAE8G,OAAO0B,EAAE,IAAIA,EAAE,CAAC,MAAM3H,EAAET,KAAK2Z,yBAAyBhS,IAAI5H,GAAGU,EAAEoH,OAAO5D,GAAG,IAAIxD,EAAEkI,MAAM3I,KAAK2Z,yBAAyB9R,OAAO9H,GAAGU,EAAEqM,OAAO,MAAM,YAAY/M,EAAEkE,GAAG,GAAG,IAAIA,EAAE0E,KAAK,OAAO,MAAM/I,EAAEI,KAAK0S,cAAc,IAAI,MAAMjS,KAAKb,EAAEa,EAAEoU,YAAYpU,EAAEE,IAAI2T,QAAQvU,EAAEuU,OAAO7T,EAAEE,IAAIC,QAAQb,EAAEa,QAAQH,EAAEE,IAAIyZ,OAAOra,IAAIC,KAAKqa,cAAc5Z,EAAEV,EAAEkE,GAAG,IAAI,MAAMlE,EAAEH,KAAKqE,EAAE,IAAI,MAAMA,KAAKrE,EAAE,IAAG,QAAEqE,EAAE6I,QAAQ,CAAC,MAAMrM,EAAET,KAAK0Z,gBAAgBzV,EAAE6I,OAAOrM,EAAEA,EAAE0Y,YAAY1S,KAAKxC,GAAG,IAAIrE,EAAEI,KAAK2Z,yBAAyBhS,IAAI5H,GAAGH,IAAIA,EAAE,IAAI4H,IAAIxH,KAAK2Z,yBAAyB7R,IAAI/H,EAAEH,IAAIA,EAAE+E,IAAIlE,IAAI,cAAcA,EAAEwD,EAAEmE,GAAG,GAAG3H,EAAEE,IAAIC,MAAMqD,EAAErD,MAAM,CAAC,MAAMb,EAAEU,EAAEE,IAAIC,MAAMqD,EAAErD,MAAM,GAAGH,EAAEE,IAAIE,KAAKd,IAAIkE,EAAEpD,KAAKJ,EAAEE,IAAIG,KAAKf,IAAIkE,EAAEnD,IAAI,OAAO,GAAGmD,EAAErD,MAAMH,EAAEE,IAAIC,MAAM,CAAC,MAAMb,EAAEkE,EAAErD,MAAMH,EAAEE,IAAIC,MAAM,GAAGqD,EAAEpD,KAAKd,IAAIU,EAAEE,IAAIE,KAAKoD,EAAEnD,KAAKf,IAAIU,EAAEE,IAAIG,IAAI,OAAO,GAAGmD,EAAEmW,OAAO3Z,EAAEE,KAAK,CAAC,IAAI,MAAMZ,KAAKU,EAAEmU,cAAc5U,KAAKqa,cAActa,EAAEkE,EAAEmE,GAAG,OAAO,MAAMtI,EAAE,IAAIsH,IAAI,IAAI,MAAM5G,EAAEE,KAAK0H,EAAE,CAAC,MAAMA,EAAE,GAAG,IAAI,MAAMrI,KAAKW,EAAE,CAAC,MAAMZ,GAAE,SAAEE,KAAKyZ,eAAe1Z,EAAE8V,MAAM5R,EAAErD,MAAMqD,EAAEnD,IAAIL,EAAEE,IAAIC,MAAMH,EAAEE,IAAIG,KAAKN,GAAE,SAAER,KAAKyZ,eAAe1Z,EAAE+V,MAAM7R,EAAErD,MAAMqD,EAAEpD,IAAIJ,EAAEE,IAAIC,MAAMH,EAAEE,IAAIE,KAAKf,GAAG,GAAGA,EAAEE,KAAKyZ,gBAAgBjZ,GAAG,GAAGA,EAAER,KAAKyZ,gBAAgBrR,EAAE3B,KAAK,CAAC6T,OAAOva,EAAEwa,aAAaza,EAAE0a,aAAaha,IAAI,MAAMN,EAAE,GAAG6F,EAAEtF,EAAEE,IAAIC,MAAMqD,EAAErD,MAAM,EAAE,GAAGH,EAAEE,IAAIC,MAAMqD,EAAErD,MAAM6Z,EAAEza,KAAKuS,OAAO5K,IAAIlH,EAAE4O,IAAIwH,QAAQlP,IAAInH,GAAG,GAAGia,EAAE,CAAC,MAAMha,EAAEga,EAAET,KAAK,IAAI,MAAM/V,KAAKmE,EAAE,CAAC,IAAIxI,EAAEwI,GAAE,EAAG,MAAMtI,EAAEmE,EAAEsW,aAAa/Z,EAAEyD,EAAEuW,aAAa5a,GAAE,QAAE6a,EAAER,OAAOQ,EAAER,MAAMC,QAAQpa,EAAEU,GAAGC,EAAE,MAAMC,EAAEuD,EAAEqW,OAAOhN,EAAE5M,EAAEga,KAAK,IAAI,MAAMja,KAAKb,EAAE,GAAG0N,IAAI7M,EAAEia,MAAMra,KAAK8T,IAAIrU,EAAEW,EAAEoV,QAAQ9P,GAAG1F,KAAK8T,IAAI3T,EAAEC,EAAEqV,QAAQ/P,EAAE,CAAC,MAAMhG,EAAEU,EAAEqM,OAAOpM,EAAEoM,OAAO/M,EAAEA,EAAEoZ,YAAY1S,KAAK/F,GAAG0H,GAAE,EAAG,MAAMA,GAAGlI,EAAEuG,KAAK/F,IAAIR,EAAEwG,OAAO,GAAG5G,EAAEgI,IAAItH,EAAEN,GAAG,IAAI,MAAMH,KAAKU,EAAEmU,cAAc5U,KAAKqa,cAActa,EAAEkE,EAAEnE,GAAG,gCAAgC,MAAMW,EAAET,KAAK2Z,yBAAyB5Z,EAAE,IAAI+R,MAAMrR,EAAEkI,MAAM,IAAI1E,EAAErE,EAAE,EAAE,IAAI,MAAMwI,EAAEtI,KAAKW,EAAE,CAAC,MAAMA,EAAE,IAAIqR,MAAMhS,EAAE6I,MAAM1E,EAAE,EAAE,IAAI,MAAMlE,KAAKD,EAAEW,EAAEwD,KAAKlE,EAAEA,EAAEH,GAAG,CAACyX,cAAcjP,EAAE8Q,cAAczY,GAAGb,IAAI,OAAOG,GCAtuG,MAAM2D,WAAU,IAAE,YAAY9D,EAAEa,GAAGM,QAAQf,KAAK2a,gBAAgB/a,EAAEI,KAAK4a,cAAc,IAAIxT,IAAIpH,KAAK6a,WAAW,CAACrZ,MAAM,EAAEsZ,SAAS,EAAEC,OAAO,CAAC,EAAE,GAAGpS,KAAK,CAAC,EAAE,IAAI3I,KAAKgb,oBAAoB,CAACxZ,MAAM,EAAEsZ,SAAS,EAAEC,OAAO,CAAC,EAAE,GAAGpS,KAAK,CAAC,EAAE,IAAI3I,KAAKib,YAAW,EAAGjb,KAAK+X,kBAAkB,IAAI,GAAE,KAAKtX,GAAE,IAAK,IAAI,MAAIT,KAAKkb,mBAAmB,IAAI,GAAEza,EAAET,KAAK+X,mBAAkB,CAAEnY,EAAEa,EAAEX,IAAI,IAAI,GAAEF,EAAEa,EAAEX,EAAEE,KAAK2a,gBAAgB3a,KAAKkW,MAAMlW,KAAK6a,WAAWC,YAAW,CAAElb,EAAEa,KAAKb,EAAEub,qBAAoB,EAAGvb,EAAEwb,kBAAkB3a,GAAE,SAAEb,EAAEa,GAAE,GAAIb,EAAEyb,aAAY,EAAGzb,EAAE0b,mBAAkB,CAAE1b,EAAEa,IAAIT,KAAK2a,gBAAgBhD,mBAAmB/X,EAAEyX,eAAekE,EAAEvb,KAAK2a,gBAAgBhD,mBAAmBlX,EAAE4W,eAAekE,IAAI3b,IAAI,MAAMa,EAAET,KAAK2a,gBAAgBhD,mBAAmB/X,GAAG4b,kBAAkB,cAAc,OAAO/a,GAAG,SAASA,EAAEgb,cAAc,QAAQ7b,GAAGA,EAAEyb,aAAY,EAAGrb,KAAK4a,cAAc9S,IAAIlI,EAAEA,EAAEsF,GAAG,mBAAkB,KAAMlF,KAAK+X,kBAAkBpT,IAAI/E,GAAGI,KAAK0b,uBAAuB1b,KAAK+X,kBAAkBpT,IAAI/E,GAAGI,KAAK0b,mBAAmB,WAAW9b,GAAG,MAAMa,EAAET,KAAK4a,cAAcjT,IAAI/H,GAAGa,IAAIT,KAAK+X,kBAAkB4D,WAAW/b,GAAGI,KAAK0b,mBAAmBjb,EAAEiF,SAAS1F,KAAK4a,cAAc/S,OAAOjI,IAAI,OAAOA,EAAEa,GAAG,OAAOT,KAAKkW,MAAMtW,EAAEI,KAAK6a,WAAW,CAACrZ,MAAMf,EAAEe,MAAMsZ,SAASra,EAAEqa,SAASC,OAAO,CAACta,EAAEsa,OAAO,GAAGta,EAAEsa,OAAO,IAAIpS,KAAK,CAAClI,EAAEkI,KAAK,GAAGlI,EAAEkI,KAAK,KAAK3I,KAAK4b,qBAAqB5b,KAAKib,WAAW,mBAAmBjb,KAAKib,YAAW,EAAGjb,KAAKkb,mBAAmBrC,UAAU7Y,KAAK6b,kBAAkB,QAAQ7b,KAAKib,YAAW,EAAGjb,KAAK+X,kBAAkB,KAAK/X,KAAKkb,mBAAmBrC,UAAU7Y,KAAK4a,cAAclT,SAAS9H,GAAGA,EAAE8F,WAAW1F,KAAK4a,cAAclK,QAAQ,YAAY,OAAO1Q,KAAKkW,QAAQlW,KAAK8b,gBAAgB9b,KAAK6a,WAAWlS,KAAK,KAAK3I,KAAKgb,oBAAoBrS,KAAK,IAAI3I,KAAK6a,WAAWlS,KAAK,KAAK3I,KAAKgb,oBAAoBrS,KAAK,IAAI3I,KAAK6a,WAAWrZ,QAAQxB,KAAKgb,oBAAoBxZ,OAAOxB,KAAK6a,WAAWC,WAAW9a,KAAKgb,oBAAoBF,SAAS,kBAAkBlb,GAAGI,KAAK+X,kBAAkBgE,kBAAkBnc,GAAG,qBAAqBI,KAAKib,aAAajb,KAAKgc,QAAQhc,KAAKkb,mBAAmBe,UAAUjc,KAAK8b,eAAe9b,KAAKkW,MAAMlW,KAAKgb,oBAAoBD,OAAO,GAAG/a,KAAK6a,WAAWE,OAAO,GAAG/a,KAAKgb,oBAAoBD,OAAO,GAAG/a,KAAK6a,WAAWE,OAAO,GAAG/a,KAAKgb,oBAAoBF,SAAS9a,KAAK6a,WAAWC,SAAS9a,KAAKgb,oBAAoBxZ,MAAMxB,KAAK6a,WAAWrZ,MAAMxB,KAAKgb,oBAAoBrS,KAAK,GAAG3I,KAAK6a,WAAWlS,KAAK,GAAG3I,KAAKgb,oBAAoBrS,KAAK,GAAG3I,KAAK6a,WAAWlS,KAAK,GAAG3I,KAAKkb,mBAAmBrC,WAAW7Y,KAAKkb,mBAAmBgB,cAAclc,KAAK6a,WAAWlS,KAAK,GAAG3I,KAAK6a,WAAWlS,KAAK,IAAI3I,KAAKib,WAAWjb,KAAKkb,mBAAmBiB,SAAS,MAAGnc,KAAKib,YAAYjb,KAAKoc,yBAAyB,yBAAwB,QAAEpc,KAAKqc,4BAA4BC,aAAatc,KAAKqc,2BAA2Brc,KAAKqc,0BAA0BE,YAAW,KAAMvc,KAAKqc,0BAA0B,KAAKrc,KAAKwc,KAAK,mBAAmB,IAAI,MAAG,mBAAkB,QAAExc,KAAKqc,6BAA6BC,aAAatc,KAAKqc,2BAA2Brc,KAAKqc,0BAA0B,MAAMrc,KAAKwc,KAAK,eCArvF,SAAS9G,GAAEjV,EAAEb,GAAG,GAAGa,EAAE,CAAC,MAAMV,EAAEU,EAAE+a,kBAAkB,cAAc,IAAIzb,GAAG,SAASA,EAAE0b,kBAAa,IAAShb,EAAEgc,SAAShc,EAAEgc,QAAQ7c,EAAE,aAAQ,IAASa,EAAEic,SAASjc,EAAEic,SAAS9c,EAAE,MAAM,OAAM,EAAG,OAAM,EAAG,MAAM6I,WAAU,IAAE,YAAYhI,GAAGM,MAAMN,GAAGT,KAAK2c,iBAAiB,GAAG3c,KAAK4c,kBAAkB,IAAIxV,IAAIpH,KAAK6c,SAAQ,EAAG,UAAU7c,KAAKkC,SAASwF,SAASjH,GAAGA,EAAEqc,YAAY9c,KAAK+c,oBAAoB/c,KAAKgO,gBAAgBhO,KAAKgO,cAAc/E,UAAUjJ,KAAKgO,cAAc,MAAMhO,KAAKiO,eAAejO,KAAKiO,aAAahF,UAAUjJ,KAAKiO,aAAa,OAAM,QAAEjO,KAAKgd,gBAAgBhd,KAAKgd,aAAatM,QAAQ1Q,KAAKgd,aAAa,MAAMhd,KAAK8N,iBAAiB,KAAK9N,KAAK2c,iBAAiB,GAAG3c,KAAK4c,kBAAkBlM,QAAQ,kBAAkBjQ,EAAEC,EAAEZ,GAAG,GAAGE,KAAKgO,cAAcvN,EAAET,KAAKiO,aAAavN,EAAEV,KAAK8N,iBAAiBhO,GAAE,QAAEE,KAAKgd,cAAc,CAAC,MAAMvc,EAAE,IAAI,GAAET,KAAK8N,iBAAiB9N,KAAKkC,UAAUzB,EAAEyE,GAAG,cAAa,KAAMlF,KAAKwc,KAAK,cAAcxc,KAAK6c,SAAQ,EAAG7c,KAAKsb,mBAAmB7a,EAAEyE,GAAG,iBAAgB,KAAMlF,KAAKwc,KAAK,iBAAiBxc,KAAK6c,SAAQ,EAAG7c,KAAKsb,mBAAmBtb,KAAKgd,aAAavc,GAAE,QAAET,KAAKgd,cAAcrC,gBAAgB7a,EAAE,kBAAkBF,IAAG,QAAEI,KAAKgd,eAAehd,KAAKgd,aAAajB,kBAAkBnc,GAAG,cAAca,EAAEb,GAAG,MAAMG,EAAE,CAACU,EAAEb,GAAGE,GAAE,sBAAI,OAAOE,KAAK4c,kBAAkB9U,IAAI/H,EAAED,GAAGE,KAAKsb,gBAAgBxb,EAAEmd,QAAQ,wBAAwB,IAAI,MAAMxc,KAAKT,KAAKkC,SAASzB,EAAEyc,cAAa,EAAG,mBAAmBzc,GAAG,MAAM,IAAIM,MAAMM,mBAAmBZ,GAAG0c,WAAW,KAAKC,WAAW,KAAK/F,eAAe,EAAEgG,YAAYrd,KAAKiO,aAAaqP,aAAatd,KAAKgO,cAAcuP,cAAcvd,KAAKwd,gBAAgB,SAAS/c,IAAIT,KAAK4E,SAASnE,EAAEsB,YAAY,UAAOtB,EAAEsB,YAAY,iBAAS,IAAS/B,KAAKgO,eAAejN,MAAM0c,SAAShd,GAAG,SAASb,GAAG,OAAOmB,MAAM+T,SAASlV,IAAG,QAAEI,KAAKgd,cAAchd,KAAKgd,aAAaU,QAAQ9d,GAAGA,EAAEyb,aAAY,EAAGrb,KAAKsb,gBAAgB1b,EAAE,YAAYA,GAAG,OAAO,QAAEI,KAAKgd,eAAehd,KAAKgd,aAAarB,WAAW/b,GAAGI,KAAKsb,gBAAgBva,MAAMgU,YAAYnV,GAAG,eAAea,GAAG,GAAGA,EAAEsB,YAAY,YAAS,GAAG/B,KAAK2d,UAAUld,GAAGT,KAAK4c,kBAAkBjU,KAAK,EAAE,CAAC,MAAMiV,QAAQhe,GAAGa,EAAEV,EAAEH,EAAEie,4BAA4Bpd,EAAEsB,UAAU,aAAU,MAAMrB,EAAED,EAAEqd,QAAQC,QAAQC,QAAQtd,EAAEud,KAAKxd,GAAGT,KAAK2d,UAAUld,GAAGC,EAAEwd,KAAKzd,EAAET,KAAK4c,mBAAmBhd,EAAEue,gBAAgBpe,SAASgB,MAAMI,eAAeV,GAAG,oBAAoB,IAAI,IAAIb,EAAE,EAAEA,EAAEI,KAAKkC,SAASwE,OAAO9G,IAAI,CAAC,MAAMG,EAAEC,KAAKkC,SAAStC,IAAG,QAAEI,KAAKgd,eAAehd,KAAKgd,aAAarB,WAAW5b,GAAGA,EAAEkJ,UAAUlI,MAAMgc,oBAAoB,mBAAmB,OAAO/c,KAAKkC,SAASkc,QAAQ3d,GAAGA,EAAEmT,mBAAmBnT,EAAE4T,YAAY,oBAAmB,QAAErU,KAAKgd,eAAehd,KAAKgd,aAAatB,mBAAmB,UAAU9b,GAAG,MAAMge,QAAQ7d,GAAGH,EAAEc,EAAEV,KAAK8N,iBAAiB,IAAIpN,EAAE,OAAO,MAAMZ,EAAEY,EAAE2d,OAAO,IAAIpa,GAAE,EAAGrE,EAAEmC,YAAY,eAAYkC,GAAE,GAAIvD,EAAE4d,oBAAoB5X,OAAO,IAAI9G,EAAEud,WAAW,aAAand,KAAKue,wBAAwB3e,EAAEc,EAAE4d,sBAAsBvd,MAAMI,eAAevB,GAAG,MAAMwI,EAAEpI,KAAKkC,SAASkc,QAAQ3d,GAAGA,EAAEmE,SAASnE,EAAE4T,YAAY,GAAGjM,GAAG,IAAIA,EAAE1B,OAAO,CAAC,IAAI,MAAMjG,KAAK2H,EAAE3H,EAAE+d,cAAc,EAAEze,EAAE0e,oBAAoB,GAAG1e,EAAE2e,cAAa,GAAG,GAAG,GAAG,GAAI3e,EAAE4e,aAAa,KAAK,KAAK,MAAM5e,EAAE6e,uBAAsB,GAAI7e,EAAE8e,oBAAmB,GAAI9e,EAAE+e,qBAAoB,GAAI/e,EAAEgf,sBAAqB,GAAIhf,EAAEif,iBAAiB,KAAKjf,EAAEkf,cAAc,GAAGlf,EAAE2Q,MAAM3Q,EAAEmf,GAAGC,kBAAkBvf,EAAEud,WAAW,SAAS,IAAI,IAAI1c,EAAEX,EAAE4G,OAAO,EAAEjG,GAAG,EAAEA,IAAIT,KAAKof,kBAAkBtf,EAAEW,GAAGb,EAAEwI,GAAGrI,EAAEgf,sBAAqB,GAAIhf,EAAE8e,mBAAmB5a,GAAGlE,EAAEsf,yBAAyB,EAAE,IAAI,EAAE,KAAKzf,EAAEud,WAAW,cAAc,IAAI,IAAI1c,EAAE,EAAEA,EAAEX,EAAE4G,OAAOjG,IAAIT,KAAKof,kBAAkBtf,EAAEW,GAAGb,EAAEwI,GAAGrI,EAAE+e,qBAAoB,GAAIlf,EAAEud,WAAW,SAAS,IAAI,IAAI1c,EAAE,EAAEA,EAAEX,EAAE4G,OAAOjG,IAAIT,KAAKof,kBAAkBtf,EAAEW,GAAGb,EAAEwI,GAAG,GAAGrI,EAAEuf,UAAUvf,EAAE6e,uBAAsB,GAAI7e,EAAE8e,oBAAmB,GAAIjf,EAAEmC,YAAY,SAAM,CAAC/B,KAAKuf,MAAM3f,EAAE6B,aAAa7B,EAAEwB,OAAO,MAAMrB,EAAE6M,OAAO4S,oBAAoB,GAAGzf,IAAG,QAAEC,KAAKgd,gBAAgBjd,EAAE0f,UAAU,EAAE,EAAE1f,EAAE2f,OAAOvf,MAAMJ,EAAE2f,OAAOtf,SAASJ,KAAK6c,SAASjQ,OAAOC,gBAAgB,IAAI,MAAMpM,KAAKT,KAAKkC,SAAS,GAAGzB,EAAEoW,QAAQ,CAAC,MAAMjX,EAAE,GAAG,GAAGa,EAAEoW,QAAQnP,SAASjH,IAAIb,EAAE6G,QAAQhG,MAAMmM,OAAO+S,oBAAoB,CAAC,IAAInf,EAAEkM,EAAExM,EAAE,MAAMO,EAAE,OAAOD,EAAER,KAAKgd,eAAe,OAAOtQ,EAAElM,EAAE0a,qBAAqB,OAAOhb,EAAEwM,EAAE4L,oBAAe,EAAOpY,EAAEqW,WAAW9V,GAAG,EAAEV,EAAEU,GAAG,EAAEV,EAAEH,MAAM,MAAMA,EAAEG,IAAG,QAAEC,KAAKgd,gBAAgBhd,KAAKgd,aAAa7W,OAAOvG,EAAEG,IAAIC,KAAKsb,iBAAiB,kBAAkB7a,EAAEb,EAAEG,GAAG,MAAM+d,QAAQpd,EAAEyc,WAAWrd,GAAGF,EAAE,QAAG,IAASa,EAAE,OAAO,MAAMwD,EAAExD,EAAE+a,kBAAkB,cAAc,GAAGvX,GAAG,SAASA,EAAEwX,WAAW,OAAO,IAAIrT,EAAE,OAAO3H,EAAEgC,MAAM,KAAK,EAAE,OAAO,KAAK,EAAE,GAAG,WAAW3C,GAAG,gBAAgBF,EAAEud,WAAW,OAAO/U,EAAE,UAAU,MAAM,KAAK,EAAE,GAAG,gBAAgBtI,EAAE,OAAOsI,EAAE,UAAU,MAAM,KAAK,EAAE,GAAG,WAAWtI,EAAE,OAAOsI,EAAE,YAAY,MAAM,KAAK,EAAE,GAAG,WAAWtI,EAAE,OAAOsI,EAAE,YAAY,GAAGrI,EAAE,IAAIU,EAAEgC,KAAK1C,EAAEqe,QAAQ3d,GAAGA,EAAE4a,cAActb,EAAEqe,QAAQ3d,GAAGA,EAAEmT,oBAAoB,cAAcxL,EAAE,CAAC,MAAM1H,EAAEd,EAAE6B,aAAa,GAAG,IAAI1B,EAAE2G,aAAQ,IAASjG,EAAEgc,SAAShc,EAAEgc,SAAS/b,EAAE,WAAM,IAASD,EAAEic,SAASjc,EAAEic,QAAQhc,EAAE,KAAK,OAAO,MAAMF,EAAEC,EAAEmf,IAAIhgB,EAAEyX,cAAc7W,EAAEZ,EAAEwd,WAAW3c,EAAE,IAAI,MAAMA,KAAKV,EAAE,GAAGU,EAAEqZ,UAAU3X,IAAI3B,GAAG,CAACE,EAAEmf,cAAcjgB,EAAEG,EAAEqI,GAAG,OAAO,wBAAwBxI,EAAEG,GAAG,MAAM6d,QAAQld,EAAEe,aAAaiL,EAAEoR,QAAQje,EAAEuB,MAAMsC,GAAG9D,EAAEM,EAAEF,KAAK8N,iBAAiB,IAAIrF,GAAE,EAAG,IAAI,MAAMhI,KAAKV,EAAE,GAAG2V,GAAExV,EAAE4f,aAAarf,GAAGiM,GAAG,CAACjE,GAAE,EAAG,MAAM,IAAIA,EAAE,OAAO,MAAM6E,EAAEtN,KAAKgB,cAAcgS,gBAAgBpT,EAAEwB,MAAM,EAAE,aAAa6R,MAAMwH,EAAEvH,QAAQ5H,GAAGgC,GAAG1M,MAAMmf,GAAGzU,EAAE9C,GAAE,UAAIwX,EAAE,GAAG,GAAGhgB,KAAKigB,cAAc,CAAC,MAAMlgB,EAAEC,KAAKigB,cAAc,IAAG,QAAEjgB,KAAKwd,kBAAkBzd,EAAE+B,QAAQ,GAAGoe,aAAatgB,EAAEI,KAAKwd,eAAe,IAAIzd,EAAE+B,QAAQ,GAAGqe,SAASvgB,EAAEI,KAAKwd,iBAAiB,MAAM7P,EAAE3N,KAAK2c,iBAAiB,IAAIyD,EAAEC,EAAE,EAAE,IAAI,MAAMxf,IAAIJ,EAAE0S,QAAQvT,EAAEwT,MAAMrT,KAAK0a,EAAE,IAAI,IAAI/Z,EAAEd,EAAEc,GAAGX,EAAEW,IAAI,CAAC,GAAG2f,EAAE1S,EAAEjH,OAAO0Z,EAAEzS,EAAE0S,GAAGD,EAAEzf,IAAImH,IAAIiY,EAAEtf,EAAE6K,EAAE+H,aAAa3S,GAAG4K,EAAEgI,kBAAkB5S,IAAIV,KAAKgB,cAAcwO,cAAchH,EAAE4X,EAAEzf,KAAI,GAAIyf,EAAEE,OAAO9X,EAAE4X,EAAEG,OAAO,GAAG/X,EAAE,GAAG4X,EAAEG,OAAO,GAAG/X,EAAE,OAAO,CAAC,MAAM5I,EAAE,IAAI,IAAEmgB,EAAEtf,EAAE6K,EAAE+H,aAAa3S,GAAG4K,EAAEgI,kBAAkB5S,IAAI0f,EAAE,IAAI,IAAExgB,EAAEI,KAAKgB,cAAcwO,eAAc,UAAI5P,GAAG,CAAC,IAAI,KAAK,CAAC,KAAK,OAAO+N,EAAElH,KAAK2Z,GAAGA,EAAE9d,aAAaoB,EAAE1D,KAAKgB,cAAcqB,kBAAkB+d,EAAEzf,MAAMqf,EAAEvZ,KAAK2Z,GAAGC,IAAI3f,EAAE+d,oBAAoB,GAAG/d,EAAEge,cAAa,GAAG,GAAG,GAAG,GAAIhe,EAAEie,aAAa,KAAK,KAAK,MAAMje,EAAE8f,mBAAmB,IAAI,EAAE,KAAK,IAAI7Z,GAAE,EAAG/G,EAAEmC,YAAY,eAAY4E,GAAE,GAAIjG,EAAEke,sBAAsBjY,GAAG,IAAI,MAAMlG,KAAKV,EAAE,CAAC,MAAMA,EAAEG,EAAE4f,aAAarf,GAAGiV,GAAE3V,EAAE2M,KAAK9M,EAAEyX,cAActX,EAAE6f,IAAIhgB,EAAEwd,WAAWrd,EAAEF,EAAEggB,cAAcjgB,EAAEogB,EAAE,kBAAkB,iBAAe1S,I,4BCArlN,uBAA6B,KAAE,cAAcvM,SAASyB,WAAWxC,KAAKygB,mBAAmB,KAAKzgB,KAAK0gB,cAAc,GAAG,gBAAgBjgB,GAAG,MAAMV,EAAE,iBAAeU,GAAGb,EAAE,IAAIG,EAAEa,MAAM,KAAK,UAAQb,EAAEa,MAAM,EAAEb,EAAEc,KAAK,EAAEd,EAAEe,KAAK,EAAEf,EAAEuU,OAAO,OAAO,iBAAevU,GAAGH,EAAE,gBAAgBa,EAAE2H,EAAErI,GAAG,MAAMH,EAAEmB,MAAMiS,gBAAgBvS,EAAE2H,EAAErI,GAAG,IAAIH,EAAE,OAAOA,EAAE,MAAMqE,EAAE,GAAGrE,EAAEsT,QAAQtS,MAAM,OAAOhB,EAAEqT,MAAMrT,EAAEqT,MAAMmL,QAAQ3d,GAAGA,EAAEI,KAAK,GAAGJ,EAAEI,IAAIoD,IAAIrE,EAAE,aAAaa,GAAG,GAAGT,KAAKygB,oBAAoBzgB,KAAK2gB,yBAAyB3gB,KAAK4gB,WAAW5gB,KAAK0gB,cAAcjgB,GAAG,OAAOT,KAAK0gB,cAAcjgB,GAAG,CAAC,MAAM2H,EAAEpI,KAAKygB,mBAAmB,GAAGhgB,EAAE2H,EAAE,GAAG5G,MAAM,OAAO4G,EAAE,GAAGxH,MAAM,IAAIb,EAAEH,EAAE,IAAI,IAAIqE,EAAE,EAAEA,EAAEmE,EAAE1B,OAAO,EAAEzC,IAAI,GAAGrE,EAAEwI,EAAEnE,EAAE,GAAGxD,EAAEb,EAAE4B,MAAM,OAAOzB,EAAEqI,EAAEnE,GAAGlE,EAAEa,OAAOb,EAAEyB,MAAMf,IAAIV,EAAEyB,MAAM5B,EAAE4B,OAAO,OAAO4G,EAAEA,EAAE1B,OAAO,GAAG9F,OAAO,yBAAyBwH,GAAG,IAAIrI,EAAE,GAAG,IAAIqI,EAAE,GAAGxH,MAAMb,EAAEqI,EAAEyY,KAAKpgB,IAAG,CAAEG,MAAMH,EAAEG,MAAMkgB,WAAWrgB,EAAEqgB,WAAWtf,MAAMf,EAAEe,cAAc,CAAC,MAAM4G,EAAEpI,KAAK0B,SAASiH,KAAK,GAAG/I,EAAEI,KAAK0B,SAASqf,iBAAiBhhB,EAAE,YAAS,CAAC4I,KAAKP,EAAE2Y,iBAAiBnhB,IAAIohB,KAAKH,KAAKpgB,IAAG,CAAEG,MAAMH,EAAEG,MAAMkgB,WAAWrgB,EAAEqgB,WAAWtf,MAAMf,EAAEe,UAAU,IAAI,IAAIf,EAAE,EAAEA,EAAEV,EAAE2G,OAAOjG,IAAIT,KAAK0gB,cAAc3gB,EAAEU,GAAGe,OAAOzB,EAAEU,GAAGG,MAAMZ,KAAKygB,mBAAmB1gB,ICA8HkhB,GAAE,cAAY,8CAA8C,IAAI,GAAE,eAAc,OAAE,MAAI,cAAclgB,SAASyB,WAAWxC,KAAKkhB,cAAc,GAAGlhB,KAAKmhB,SAAS,IAAI,IAAEnhB,KAAKohB,YAAY,KAAKphB,KAAKqhB,YAAY,KAAKrhB,KAAKshB,qBAAoB,EAAGthB,KAAKuhB,QAAO,EAAG,aAAa,MAAM9gB,EAAET,KAAK+E,MAAMrD,SAAS,KAAKjB,GAAGA,EAAEsgB,kBAAkB3G,OAAOpa,KAAK6E,KAAKkc,kBAAkB,YAAY/gB,KAAKwhB,qBAAoB,YAAE,IAAI,IAAE,2CAA2C,iFAAiF,CAACzc,MAAM/E,KAAK+E,UAAU,MAAMmK,MAAMtP,EAAE6hB,UAAU3hB,EAAE4hB,UAAU3hB,GAAGC,KAAK+E,MAAMoK,iBAAiBnP,KAAK8N,iBAAiB,IAAI,IAAElO,EAAE,CAAC6hB,UAAU3hB,EAAE4hB,UAAU3hB,IAAIC,KAAKgB,cAAc,IAAI,GAAEhB,KAAK+E,MAAMrD,SAAS1B,KAAK+E,MAAM4c,YAAY3hB,KAAK4hB,qBAAqB,IAAI,GAAE5hB,KAAKgB,eAAehB,KAAK6hB,aAAa,IAAI,EAAE7hB,KAAK+E,MAAM/E,KAAK8N,iBAAiBlB,OAAO3B,kBAAkB,EAAE,MAAMjL,KAAKuE,UAAUuQ,SAAS9U,KAAK4hB,sBAAsB5hB,KAAK0E,QAAQC,IAAI,CAAC3E,KAAK4hB,qBAAqB1c,GAAG,cAAa,KAAMlF,KAAKuhB,QAAO,KAAMvhB,KAAK4hB,qBAAqB1c,GAAG,iBAAgB,KAAMlF,KAAKuhB,QAAO,EAAGvhB,KAAK8E,qBAAqB,UAAU,IAAIrE,EAAET,KAAK8hB,QAAQ9hB,KAAKuE,UAAUwY,oBAAoB/c,KAAK4hB,uBAAuB5hB,KAAK4hB,qBAAqB9E,UAAU9c,KAAK4hB,qBAAqB,MAAM,OAAOnhB,EAAET,KAAK6hB,eAAephB,EAAEqc,UAAU9c,KAAK6hB,aAAa,KAAK,cAAcphB,EAAEb,GAAG,GAAGI,KAAK2F,YAAY3F,KAAK+hB,oBAAoB,OAAO,WAAW/hB,KAAK+hB,oBAAoB,MAAMjiB,QAAQE,KAAK4hB,qBAAqBI,QAAQvhB,EAAEb,GAAG,IAAIE,GAAG,IAAIA,EAAE4G,OAAO,OAAO,KAAK,MAAM3G,EAAED,EAAE,GAAG,EAAEY,EAAEV,KAAK8N,iBAAiB/H,EAAErF,EAAEiX,mBAAmB5X,GAAG,IAAIgG,EAAE,OAAO,KAAK,MAAMqC,EAAE1H,EAAEuhB,mBAAmBlc,EAAEsJ,IAAI7O,EAAE,IAAI,IAAE,CAAC0hB,WAAW,CAACC,QAAQ/Z,EAAEga,UAAUrc,EAAEsJ,GAAGgT,SAAStiB,KAAK,OAAOS,EAAEuE,MAAM/E,KAAK+E,MAAMvE,EAAE8hB,YAAYtiB,KAAK+E,MAAMvE,EAAE,OAAOC,GAAG,GAAGT,KAAK+hB,qBAAqB/hB,KAAKshB,oBAAoB,OAAO7gB,EAAEqK,aAAa9K,KAAK6hB,aAAa5W,kBAAkBjL,KAAKuiB,cAAcviB,KAAK6hB,aAAa5W,iBAAiBxK,EAAEqK,kBAAkB9K,KAAKkhB,cAAcxa,OAAO,EAAE1G,KAAK+hB,oBAAoB/hB,KAAKwiB,sBAAsBxiB,KAAKohB,YAAYqB,QAAQziB,KAAKqhB,YAAYoB,QAAQziB,KAAKohB,YAAYhgB,MAAMX,EAAEW,MAAMpB,KAAKqhB,YAAYjgB,MAAMX,EAAEW,MAAMpB,KAAK0iB,aAAavc,OAAO1F,IAAIT,KAAK8E,gBAAgB9E,KAAKqhB,YAAYsB,SAAS3iB,KAAKohB,YAAYuB,WAAW,SAAS3iB,KAAKuiB,SAASviB,KAAKmhB,SAASxc,IAAI,CAAC3E,KAAK+E,MAAMG,GAAG,gBAAgBzE,IAAI,GAAGA,EAAEmiB,aAAa5iB,KAAKkhB,cAAcza,KAAK,CAAChE,KAAK,EAAE0H,KAAK1J,IAAIT,KAAKmF,aAAa,YAAYnF,KAAK8E,oBAAoB,CAAC,MAAMlF,EAAEI,KAAK8N,iBAAiBhO,EAAEF,EAAEkgB,aAAarf,EAAE2hB,WAAW,IAAItiB,EAAE,OAAO,MAAMC,EAAE,IAAID,EAAE2C,KAAK7C,EAAEijB,mBAAmBpiB,EAAE2hB,UAAU3hB,EAAEqiB,OAAO/iB,GAAGC,KAAK4hB,qBAAqBlG,mBAAmB1b,KAAK4hB,qBAAqBtG,oBAAoBtb,KAAK+E,MAAMG,GAAG,iBAAiBzE,IAAI,MAAMX,EAAEE,KAAK8N,iBAAiB/N,EAAED,EAAEggB,aAAarf,EAAEsE,OAAO,IAAIhF,EAAE,OAAO,MAAMW,GAAE,QAAEX,EAAEgjB,OAAOtiB,EAAEsiB,QAAQ,KAAI,QAAEriB,GAAG,CAAC,IAAG,QAAEA,EAAE,eAAe,IAAI,SAASD,GAAG,IAAG,QAAEA,GAAG,OAAO,EAAE,OAAOA,EAAEgC,MAAM,IAAI,UAAU,OAAOyN,OAAOC,KAAK1P,EAAEuiB,MAAMtc,OAAO,IAAI,WAAW,OAAOrG,KAAKE,IAAI2P,OAAOC,KAAK1P,EAAEwiB,UAAUvc,OAAOwJ,OAAOC,KAAK1P,EAAEyiB,UAAUxc,QAAQ,IAAI,aAAa,OAAOwJ,OAAOC,KAAK1P,EAAE0iB,OAAOzc,OAAOwJ,OAAOC,KAAK1P,EAAE2iB,SAAS1c,OAAOwJ,OAAOC,KAAK1P,EAAE4iB,SAAS3c,QAAnS,CAA4ShG,GAAG,OAAOZ,EAAEwjB,oBAAoB7iB,EAAEsE,MAAMtE,EAAEsiB,QAAQ,IAAIhjB,EAAE0C,MAAMzC,KAAK4hB,qBAAqBlG,wBAAwB1b,KAAK4hB,qBAAqBtG,gBAAgBtb,KAAKkhB,cAAcza,KAAK,CAAChE,KAAK,EAAE0H,KAAK1J,IAAIT,KAAKmF,aAAa,YAAYnF,KAAK8E,oBAAoB9E,KAAK+E,MAAMG,GAAG,iCAAiCzE,IAAI,MAAMb,EAAEI,KAAK8N,iBAAiBhO,EAAEF,EAAEkgB,aAAarf,EAAEsE,OAAOjF,IAAIF,EAAE2jB,wBAAwB9iB,EAAEsE,MAAMtE,EAAE+iB,YAAY,IAAI1jB,EAAE2C,MAAMzC,KAAK4hB,qBAAqBlG,mBAAmB1b,KAAK4hB,qBAAqBtG,oBAAoBtb,KAAK+E,MAAMG,GAAG,sBAAsBzE,IAAIT,KAAKkhB,cAAcza,KAAK,CAAChE,KAAK,EAAE0H,KAAK1J,IAAIT,KAAKmF,aAAa,YAAYnF,KAAK8E,mBAAmB9E,KAAK+E,MAAMG,GAAG,sBAAsBzE,IAAIT,KAAKkhB,cAAcza,KAAK,CAAChE,KAAK,EAAE0H,KAAK1J,IAAIT,KAAKmF,aAAa,YAAYnF,KAAK8E,mBAAmB9E,KAAK+E,MAAMG,GAAG,cAAa,IAAKlF,KAAKyjB,iBAAiB,SAASzjB,KAAK8hB,QAAQ9hB,KAAKmhB,SAASuC,YAAY,YAAY1jB,KAAK8E,gBAAgB,aAAa9E,KAAK8E,gBAAgB,UAAU9E,KAAK8E,gBAAgB,YAAY,IAAIrE,EAAEM,MAAMqF,YAAY,MAAMxG,EAAEI,KAAK+E,MAAM,GAAGtE,GAAGb,EAAEuP,iBAAiB,CAAC,MAAMrP,EAAEE,KAAK6E,KAAKrD,MAAMzB,EAAEH,EAAEuP,iBAAiB,GAAGpP,GAAGA,EAAE4jB,gBAAgB,CAAC,MAAM/jB,EAAEG,EAAE4jB,gBAAgB/jB,EAAEiG,UAAUjG,EAAEiG,SAAS/F,IAAIW,GAAE,GAAIb,EAAEkG,UAAUlG,EAAEkG,SAAShG,IAAIW,GAAE,IAAK,OAAOA,EAAE,aAAa,MAAMA,EAAET,KAAK4hB,qBAAqB1f,SAAS,OAAOlC,KAAKshB,sBAAsBthB,KAAKohB,cAAcphB,KAAKqhB,aAAarhB,KAAKohB,YAAYwC,UAAU5jB,KAAKqhB,YAAYuC,UAAUnjB,EAAEiG,OAAO,GAAGjG,EAAE2d,QAAQ3d,GAAGA,EAAEyc,eAAexW,OAAO,GAAG1G,KAAKuhB,OAAO,YAAY9gB,GAAG,MAAMb,EAAEI,KAAK6jB,kBAAkBpjB,GAAG,OAAOT,KAAK+hB,oBAAoB1c,MAAK,KAAMrF,KAAKohB,YAAY3a,KAAK7G,EAAEe,KAAK0E,MAAM5E,GAAGT,KAAKqhB,YAAY5a,KAAK,CAAC9F,IAAIf,EAAEe,IAAIwJ,KAAK1J,MAAM4E,MAAM5E,IAAIb,EAAEkkB,KAAK,UAAS,IAAK9jB,KAAK8E,kBAAkBrE,IAAIb,EAAEmJ,QAAQtI,EAAEgP,UAAUzP,KAAK8E,gBAAgB9E,KAAKmF,aAAa,gBAAgBkF,OAAO5J,IAAIT,KAAKmF,aAAa,aAAY,kBAAE1E,IAAIwgB,GAAEjW,MAAMvK,SAASb,EAAE,YAAYa,GAAG,MAAMb,EAAEa,EAAEE,IAAI0O,GAAGrP,KAAKohB,YAAY3Q,MAAM7Q,GAAGI,KAAKqhB,YAAY5Q,MAAM7Q,GAAGI,KAAK8E,gBAAgB,SAAS,GAAG9E,KAAK8hB,QAAQ9hB,KAAK0iB,aAAa,IAAI,EAAE,CAAC/P,YAAYlS,GAAGT,KAAK2S,YAAYlS,GAAGmS,YAAYnS,GAAGT,KAAK4S,YAAYnS,GAAGoS,aAAa7S,KAAKgB,eAAehB,KAAK4hB,uBAAuB5hB,KAAK+E,MAAMoK,iBAAiB,OAAO,MAAM1O,EAAE,IAAI0R,gBAAgBvS,EAAEI,KAAK6hB,aAAa3Q,MAAM,CAAClC,OAAOvO,EAAEuO,SAAS3J,MAAK,KAAMrF,KAAKohB,YAAY,IAAI,IAAE,CAACvO,aAAa7S,KAAKgB,cAAc+iB,QAAQ,CAACtjB,EAAEb,IAAII,KAAKgkB,aAAavjB,EAAEb,GAAGqkB,YAAY,KAAKjkB,KAAKqhB,YAAY,IAAI,IAAE,CAACxO,aAAa7S,KAAKgB,cAAc+iB,QAAQ,CAACtjB,EAAEb,IAAII,KAAKkkB,eAAezjB,EAAEb,GAAGqkB,YAAY,IAAIjkB,KAAK8E,gBAAgB9E,KAAKshB,qBAAoB,KAAMthB,KAAK6hB,aAAavE,aAAajY,MAAM5E,IAAIT,KAAK4hB,qBAAqBuC,kBAAkB1jB,EAAET,KAAK6hB,aAAaxE,YAAYrd,KAAK8N,kBAAkB9N,KAAK8E,mBAAmB9E,KAAKokB,4BAA4B3jB,EAAET,KAAK+hB,oBAAoBniB,EAAE,QAAQ,IAAII,KAAKokB,8BAA8BpkB,KAAK4hB,qBAAqB,OAAO,MAAMnhB,EAAET,KAAKokB,4BAA4B3jB,GAAGA,EAAEgQ,QAAQzQ,KAAK+hB,oBAAoB,KAAK/hB,KAAKshB,qBAAoB,EAAGthB,KAAKohB,cAAcphB,KAAKohB,YAAYtE,UAAU9c,KAAKohB,YAAY,MAAMphB,KAAKqhB,cAAcrhB,KAAKqhB,YAAYvE,UAAU9c,KAAKqhB,YAAY,MAAMrhB,KAAK0iB,eAAe1iB,KAAK0iB,aAAa5F,UAAU9c,KAAK0iB,aAAa,MAAM1iB,KAAK4hB,qBAAqB7E,oBAAoB,mBAAmBtc,EAAEb,GAAG,MAAME,QAAQE,KAAK6hB,aAAaxP,cAAc5R,EAAEb,GAAG,OAAOI,KAAKmF,aAAa,YAAYrF,EAAE,qBAAqBW,EAAEb,GAAG,OAAOI,KAAK6hB,aAAavP,cAAc7R,EAAEb,GAAG,2BAA2BI,KAAKshB,qBAAoB,EAAGthB,KAAKohB,YAAYqB,QAAQziB,KAAKqhB,YAAYoB,QAAQziB,KAAKohB,YAAY1Q,QAAQ1Q,KAAKqhB,YAAY3Q,QAAQ1Q,KAAK0iB,aAAa2B,aAAa,MAAM5jB,EAAET,KAAKkhB,cAAc,UAAUlhB,KAAK6hB,aAAayC,YAAY7jB,GAAG,MAAMA,GAAGwgB,GAAEjW,MAAM,2CAA2CvK,EAAE8jB,SAASvkB,KAAKohB,YAAYuB,SAAS3iB,KAAKqhB,YAAYsB,SAAS3iB,KAAKshB,qBAAoB,EAAG,MAAM1hB,EAAEI,KAAK8N,iBAAiBhO,EAAE,GAAGW,EAAEiH,SAASjH,IAAI,GAAG,IAAIA,EAAEgC,KAAK,OAAO,MAAM1C,EAAEU,EAAE0J,KAAKzJ,EAAEd,EAAEkgB,aAAa/f,EAAEqiB,WAAW1hB,GAAGZ,EAAE2G,KAAK/F,EAAEkf,QAAQ,MAAM7f,EAAE,GAAG,IAAIW,EAAED,EAAEiH,SAASjH,IAAI,MAAMX,EAAEW,EAAEgC,KAAKsD,EAAEtF,EAAE0J,KAAK,OAAOrK,GAAG,KAAK,EAAEF,EAAEijB,mBAAmB9c,EAAEhB,MAAMgB,EAAE+c,OAAOpiB,EAAEqF,EAAEhB,MAAM,MAAM,KAAK,EAAEnF,EAAE0jB,oBAAoBvd,EAAEhB,MAAMgB,EAAEgd,QAAQriB,EAAEqF,EAAEhB,MAAM,MAAM,KAAK,EAAE,YAAYnF,EAAE4kB,iBAAiBze,EAAEqc,WAAW,KAAK,EAAExiB,EAAE6kB,cAAc1e,EAAEhB,MAAMgB,EAAEkU,OAAOvZ,EAAEqF,EAAEhB,MAAMsK,GAAG,MAAMjH,EAAExI,EAAEkgB,aAAapf,GAAG0H,GAAGrI,EAAE0G,KAAK2B,EAAEwX,QAAQ,MAAM7Z,EAAE/F,KAAK4hB,qBAAqB1f,SAAS,GAAGpC,EAAE4G,OAAO,EAAE,CAAC1G,KAAK4hB,qBAAqB7F,kBAAkBjc,GAAG,IAAI,MAAMW,KAAKsF,EAAEtF,EAAEikB,gBAAgB5kB,GAAG,GAAGE,KAAKohB,YAAYuB,SAAS3iB,KAAKqhB,YAAYsB,SAAS5iB,EAAE2G,OAAO,EAAE,CAAC,MAAMjG,EAAE,GAAG,IAAI,MAAMb,KAAKmG,EAAE,CAAC,MAAMjG,EAAEE,KAAKohB,YAAY3a,KAAK7G,EAAEe,KAAK0E,MAAM5E,GAAGT,KAAKqhB,YAAY5a,KAAK,CAAC9F,IAAIf,EAAEe,IAAIwJ,KAAK1J,EAAE6P,eAAevQ,MAAMsF,MAAM5E,GAAGb,EAAEmJ,QAAQtI,EAAEgP,YAAYhP,EAAEgG,KAAK3G,SAAS,SAAEW,GAAGT,KAAKkhB,cAAc,GAAGlhB,KAAKshB,qBAAoB,EAAGthB,KAAKmF,aAAa,YAAYnF,KAAK8E,gBAAgB,mBAAmB,MAAMoK,MAAMzO,EAAEghB,UAAU7hB,EAAE8hB,UAAU5hB,GAAGE,KAAK+E,MAAMoK,iBAAiBnP,KAAKshB,qBAAoB,EAAGthB,KAAKohB,YAAYqB,QAAQziB,KAAKqhB,YAAYoB,QAAQziB,KAAKohB,YAAY1Q,QAAQ1Q,KAAKqhB,YAAY3Q,QAAQ1Q,KAAKmF,aAAa,YAAYnF,KAAK8N,iBAAiB,IAAI,IAAErN,EAAE,CAACghB,UAAU7hB,EAAE8hB,UAAU5hB,IAAIE,KAAK4hB,qBAAqB9E,UAAU9c,KAAK0iB,aAAahS,QAAQ1Q,KAAKokB,4BAA4B3T,QAAQzQ,KAAKokB,6BAA4B,6BAAI,MAAMpV,OAAOjP,GAAGC,KAAKokB,4BAA4B,GAAGpkB,KAAK+hB,oBAAoB/hB,KAAK6hB,aAAa8C,SAAS3kB,KAAK8N,iBAAiBrN,SAAST,KAAK+hB,oBAAoBhiB,EAAE6kB,QAAQ,OAAO5kB,KAAKohB,YAAYuB,SAAS3iB,KAAKqhB,YAAYsB,SAAS3iB,KAAKshB,qBAAoB,EAAGthB,KAAKmF,aAAa,iBAAiBnF,KAAK8E,gBAAgB,MAAMpE,QAAQV,KAAK6hB,aAAavE,aAAatd,KAAK4hB,qBAAqBuC,kBAAkBzjB,EAAEV,KAAK6hB,aAAaxE,YAAYrd,KAAK8N,kBAAkB9N,KAAKohB,YAAYuB,SAAS3iB,KAAKqhB,YAAYsB,SAAS3iB,KAAKshB,qBAAoB,EAAGthB,KAAKmF,aAAa,YAAYnF,KAAK8E,gBAAgB,kBAAkBrE,GAAG,MAAMb,EAAEI,KAAKgB,cAAcwO,eAAc,UAAI/O,GAAG,OAAO,IAAI,IAAEA,EAAET,KAAK8N,iBAAiBlO,EAAE,CAAC,IAAI,SAAQ,OAAE,EAAC,WAAK,GAAEuD,UAAU,mBAAc,IAAQ,OAAE,EAAC,WAAK,GAAEA,UAAU,mBAAc,IAAQ,OAAE,EAAC,WAAK,GAAEA,UAAU,2BAAsB,IAAQ,OAAE,EAAC,QAAE,CAACE,UAAU,CAAC,aAAa,6BAA6B,GAAEF,UAAU,iBAAY,IAAQ,OAAE,EAAC,WAAK,GAAEA,UAAU,cAAS,IAAQ,OAAE,EAAC,QAAE,CAACE,UAAU,CAAC,iCAAiC,uBAAuB,uBAAuB,aAAa,GAAEF,UAAU,gBAAW,GAAQ,IAAE,OAAE,EAAC,OAAE,+CAA+C,IAAW,SAAF,I,wMCA9/T,IAAIuJ,EAAE,eAAc,QAAE,QAAE,OAAE,iBAAe,eAAO,YAAYjM,GAAGM,MAAMN,GAAGT,KAAK+E,MAAM,KAAK/E,KAAK6kB,OAAO,KAAK,aAAa7kB,KAAKwF,OAAO6E,OAAO5J,IAAI,GAAG,2BAA2BA,EAAEoB,KAAK,CAAC,MAAMnB,EAAEV,KAAK+E,OAAO/E,KAAK+E,MAAMsK,IAAI,QAAQtP,EAAEC,KAAK+E,OAAO/E,KAAK+E,MAAM+f,OAAO,WAAW,MAAM,cAAY9kB,KAAK+kB,eAAe/Z,MAAM,aAAa,+CAA+CjL,YAAYW,MAAMD,GAAGA,MAAM,kBAAkB,MAAMA,EAAEA,GAAG,MAAMA,EAAE,EAAEA,EAAE,OAAOA,EAAET,KAAK2H,IAAI,kBAAkBlH,EAAET,KAAK2H,IAAI,uBAAuB,gBAAgB,OAAO3H,KAAKoG,YAAY,kBAAkB,OAAOpG,KAAKglB,iBAAiB,oBAAoB,OAAOhlB,KAAK2F,YAAW,IAAK3F,KAAK+E,MAAMkgB,cAAc,eAAe,SAASjlB,KAAKklB,iBAAiBllB,KAAKklB,gBAAgBtB,UAAU5jB,KAAK4F,cAAc,cAAc,OAAM,IAAK5F,KAAK2H,IAAI,iBAAiB,YAAYlH,QAAG,IAASA,EAAET,KAAKmlB,UAAU,UAAU1kB,GAAGT,KAAKolB,eAAe,WAAW,YAAY,OAAOplB,KAAK2H,IAAI,qBAAqB3H,KAAK2H,IAAI,eAAe3H,KAAK2H,IAAI,iBAAiB3H,KAAK4E,UAAS,EAAG,iBAAiB,MAAMnE,EAAET,KAAK6kB,QAAQ7kB,KAAK6kB,OAAOlf,UAAU3F,KAAK6kB,OAAOQ,YAAY,GAAG,OAAOrlB,KAAK6E,MAAM7E,KAAK6E,KAAKygB,QAAQ7kB,EAAE8kB,cAAa,GAAIvlB,KAAK+E,OAAO/E,KAAK+E,MAAMygB,SAAS/kB,EAAEglB,gBAAe,GAAIzlB,KAAK4E,UAAUnE,EAAEilB,gBAAe,GAAIjlB,EAAE,aAAa,OAAM,KAAK,OAAE,EAAC,QAAE,CAAC4C,UAAU,CAAC,gBAAgB,yBAAyBqJ,EAAEvJ,UAAU,cAAc,OAAM,OAAE,EAAC,WAAKuJ,EAAEvJ,UAAU,aAAQ,IAAQ,OAAE,EAAC,WAAKuJ,EAAEvJ,UAAU,cAAS,IAAQ,OAAE,EAAC,QAAE,CAACC,UAAS,EAAGC,UAAU,CAAC,UAAU,eAAe,mBAAmB,kBAAkBqJ,EAAEvJ,UAAU,YAAY,OAAM,OAAE,EAAC,QAAE,CAACC,UAAS,EAAGC,UAAU,CAAC,UAAU,eAAe,mBAAmB,kBAAkBqJ,EAAEvJ,UAAU,cAAc,OAAM,OAAE,EAAC,QAAE,CAACC,UAAS,EAAGC,UAAU,CAAC,YAAY,2BAA2BqJ,EAAEvJ,UAAU,gBAAgB,OAAM,OAAE,EAAC,QAAE,CAACV,KAAKkjB,QAAQtiB,UAAU,CAAC,4BAA4BD,UAAS,KAAMsJ,EAAEvJ,UAAU,WAAW,OAAM,OAAE,EAAC,QAAE,CAACE,UAAU,CAAC,oBAAoBqJ,EAAEvJ,UAAU,UAAU,MAAMuJ,GAAE,OAAE,EAAC,OAAE,gCAAgCA,GAAW,QAAFA","file":"chunks/1308.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nexport default class{constructor(t=0,h=0,i=0,s=0){this.x=t,this.y=h,this.width=i,this.height=s}get isEmpty(){return this.width<=0||this.height<=0}union(t){this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.width=Math.max(this.width,t.width),this.height=Math.max(this.height,t.height)}}\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{WGLDrawPhase as e}from\"./enums.js\";import r from\"./brushes/WGLBrushInfo.js\";import s from\"./brushes/WGLBrushStencil.js\";import t from\"./WGLContainer.js\";const n=(e,r)=>e.key.level-r.key.level!=0?e.key.level-r.key.level:e.key.row-r.key.row!=0?e.key.row-r.key.row:e.key.col-r.key.col;export default class extends t{constructor(e){super(),this._tileInfoView=e}renderChildren(e){this.sortChildren(n),this.setStencilReference(),super.renderChildren(e)}createRenderParams(e){const{state:r}=e;return{...super.createRenderParams(e),requiredLevel:this._tileInfoView.getClosestInfoForScale(r.scale).level,displayLevel:this._tileInfoView.tileInfo.scaleToZoom(r.scale)}}prepareRenderPasses(t){const n=t.registerRenderPass({name:\"stencil\",brushes:[s],drawPhase:e.DEBUG|e.MAP|e.HIGHLIGHT,target:()=>this.getStencilTarget()}),i=t.registerRenderPass({name:\"tileInfo\",brushes:[r],drawPhase:e.DEBUG,target:()=>this.children,has:\"esri-tiles-debug\"});return[...super.prepareRenderPasses(t),n,i]}getStencilTarget(){return this.children}updateTransforms(e){for(const r of this.children){const s=this._tileInfoView.getTileResolution(r.key);r.setTransform(e,s)}}setStencilReference(){let e=1;for(const r of this.children)r.stencilRef=e++}}export{n as sortByLevel};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../chunks/tslib.es6.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/accessorSupport/decorators/property.js\";import{subclass as o}from\"../../../core/accessorSupport/decorators/subclass.js\";import\"../../../core/urlUtils.js\";import\"../../../core/uuid.js\";import\"../../../portal/support/resourceExtension.js\";import{JSONSupport as s}from\"../../../core/JSONSupport.js\";let e=class extends s{};e=r([o(\"esri.views.layers.support.ClipArea\")],e);var p=e;export default p;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../chunks/tslib.es6.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import{subclass as o}from\"../../../core/accessorSupport/decorators/subclass.js\";import\"../../../core/urlUtils.js\";import\"../../../core/uuid.js\";import\"../../../portal/support/resourceExtension.js\";import e from\"./ClipArea.js\";var s;let p=s=class extends e{constructor(){super(...arguments),this.type=\"rect\",this.left=null,this.right=null,this.top=null,this.bottom=null}clone(){return new s({left:this.left,right:this.right,top:this.top,bottom:this.bottom})}get version(){return(this._get(\"version\")||0)+1}};t([r({type:[Number,String],json:{write:!0}})],p.prototype,\"left\",void 0),t([r({type:[Number,String],json:{write:!0}})],p.prototype,\"right\",void 0),t([r({type:[Number,String],json:{write:!0}})],p.prototype,\"top\",void 0),t([r({type:[Number,String],json:{write:!0}})],p.prototype,\"bottom\",void 0),t([r({readOnly:!0,dependsOn:[\"left\",\"right\",\"top\",\"bottom\"]})],p.prototype,\"version\",null),p=s=t([o(\"esri.views.layers.support.ClipRect\")],p);var i=p;export default i;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../chunks/tslib.es6.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import{property as e}from\"../../../core/accessorSupport/decorators/property.js\";import{subclass as o}from\"../../../core/accessorSupport/decorators/subclass.js\";import\"../../../core/urlUtils.js\";import\"../../../core/uuid.js\";import\"../../../portal/support/resourceExtension.js\";import t from\"../../../geometry/Geometry.js\";import s from\"../../../geometry/Extent.js\";import p from\"../../../geometry/Polygon.js\";import{fromJSON as m}from\"../../../geometry/support/jsonUtils.js\";import\"../../../geometry.js\";import i from\"./ClipArea.js\";var n;const y={base:t,key:\"type\",typeMap:{extent:s,polygon:p}};let c=n=class extends i{constructor(){super(...arguments),this.type=\"geometry\",this.geometry=null}get version(){return(this._get(\"version\")||0)+1}clone(){return new n({geometry:this.geometry.clone()})}};r([e({types:y,json:{read:m,write:!0}})],c.prototype,\"geometry\",void 0),r([e({readOnly:!0,dependsOn:[\"geometry\"]})],c.prototype,\"version\",null),c=n=r([o(\"esri.views.layers.support.Geometry\")],c);var l=c;export default l;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../chunks/tslib.es6.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import{property as o}from\"../../../core/accessorSupport/decorators/property.js\";import{subclass as s}from\"../../../core/accessorSupport/decorators/subclass.js\";import\"../../../core/urlUtils.js\";import\"../../../core/uuid.js\";import\"../../../portal/support/resourceExtension.js\";import e from\"./ClipArea.js\";let t=class extends e{constructor(){super(...arguments),this.type=\"path\",this.path=[]}get version(){return(this._get(\"version\")||0)+1}};r([o({type:[[[Number]]],json:{write:!0}})],t.prototype,\"path\",void 0),r([o({readOnly:!0,dependsOn:[\"path\"]})],t.prototype,\"version\",null),t=r([s(\"esri.views.layers.support.Path\")],t);var p=t;export default p;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import{property as t}from\"../../../core/accessorSupport/decorators/property.js\";import{subclass as s}from\"../../../core/accessorSupport/decorators/subclass.js\";import\"../../../core/urlUtils.js\";import\"../../../core/uuid.js\";import\"../../../portal/support/resourceExtension.js\";import i from\"../../../core/Collection.js\";import{referenceSetter as r}from\"../../../core/collectionUtils.js\";import{init as a}from\"../../../core/watchUtils.js\";import o from\"../../layers/support/ClipArea.js\";import p from\"../../layers/support/ClipRect.js\";import{Container as n}from\"../engine/Container.js\";import h from\"../../layers/support/Geometry.js\";import d from\"../../layers/support/Path.js\";const c=i.ofType({key:\"type\",base:o,typeMap:{rect:p,path:d,geometry:h}}),l=i=>{let o=class extends i{constructor(){super(...arguments),this.clips=new c,this.moving=!1,this.attached=!1,this.lastUpdateId=-1,this.updateRequested=!1}initialize(){var e;this.container||(this.container=new n),this.container.fadeTransitionEnabled=!0,this.container.opacity=0,this.container.clips=this.clips,this.handles.add([a(this,\"suspended\",(e=>{this.container&&(this.container.visible=!e),this.view&&!e&&this.updateRequested&&this.view.requestUpdate()}),!0),a(this,[\"layer.opacity\",\"container\"],(()=>{var e,t;this.container&&(this.container.opacity=null!=(e=null==(t=this.layer)?void 0:t.opacity)?e:1)}),!0),a(this,[\"layer.blendMode\"],(e=>{this.container&&(this.container.blendMode=e)}),!0),a(this,[\"layer.effect\"],(e=>{this.container&&(this.container.effect=e)}),!0),this.clips.on(\"change\",(()=>{this.container.clips=this.clips,this.notifyChange(\"clips\")}))]),null!=(e=this.view)&&e.whenLayerView?this.view.whenLayerView(this.layer).then((e=>{e!==this||this.attached||this.destroyed||(this.attach(),this.requestUpdate(),this.attached=!0)}),(()=>{})):this.when().then((()=>{this.attached||this.destroyed||(this.attach(),this.requestUpdate(),this.attached=!0)}),(()=>{}))}destroy(){this.attached&&(this.detach(),this.attached=!1),this.handles.remove(\"initialize\"),this.updateRequested=!1}get updating(){return!this.attached||!this.suspended&&(this.updateRequested||this.isUpdating())}isVisibleAtScale(e){let t=!0;const s=this.layer,i=s.minScale,r=s.maxScale;if(null!=i&&null!=r){let s=!i,a=!r;!s&&e<=i&&(s=!0),!a&&e>=r&&(a=!0),t=s&&a}return t}requestUpdate(){this.updateRequested||(this.updateRequested=!0,this.suspended||this.view.requestUpdate())}processUpdate(e){!this.isFulfilled()||this.isResolved()?(this._set(\"updateParameters\",e),this.updateRequested&&!this.suspended&&(this.updateRequested=!1,this.update(e))):this.updateRequested=!1}isUpdating(){return!1}isRendering(){return!1}canResume(){return!!super.canResume()&&this.isVisibleAtScale(this.view.scale)}};return e([t({type:c,set(e){const t=r(e,this._get(\"clips\"),c);this._set(\"clips\",t)}})],o.prototype,\"clips\",void 0),e([t()],o.prototype,\"moving\",void 0),e([t()],o.prototype,\"attached\",void 0),e([t()],o.prototype,\"container\",void 0),e([t({dependsOn:[\"view.scale\",\"layer.minScale\",\"layer.maxScale\"]})],o.prototype,\"suspended\",void 0),e([t({readOnly:!0})],o.prototype,\"updateParameters\",void 0),e([t()],o.prototype,\"updateRequested\",void 0),e([t({dependsOn:[\"attached\",\"updateRequested\",\"suspended\"]})],o.prototype,\"updating\",null),e([t()],o.prototype,\"view\",void 0),o=e([s(\"esri.views.2d.layers.LayerView2D\")],o),o};export{l as LayerView2DMixin};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport h from\"../webgl/Rect.js\";export default class{constructor(e,t){this._width=0,this._height=0,this._free=[],this._width=e,this._height=t,this._free.push(new h(0,0,e,t))}get width(){return this._width}get height(){return this._height}allocate(e,t){if(e>this._width||t>this._height)return new h;let i=null,s=-1;for(let h=0;h<this._free.length;++h){const w=this._free[h];e<=w.width&&t<=w.height&&(null===i||w.y<=i.y&&w.x<=i.x)&&(i=w,s=h)}return null===i?new h:(this._free.splice(s,1),i.width<i.height?(i.width>e&&this._free.push(new h(i.x+e,i.y,i.width-e,t)),i.height>t&&this._free.push(new h(i.x,i.y+t,i.width,i.height-t))):(i.width>e&&this._free.push(new h(i.x+e,i.y,i.width-e,i.height)),i.height>t&&this._free.push(new h(i.x,i.y+t,e,i.height-t))),new h(i.x,i.y,e,t))}release(h){for(let e=0;e<this._free.length;++e){const t=this._free[e];if(t.y===h.y&&t.height===h.height&&t.x+t.width===h.x)t.width+=h.width;else if(t.x===h.x&&t.width===h.width&&t.y+t.height===h.y)t.height+=h.height;else if(h.y===t.y&&h.height===t.height&&h.x+h.width===t.x)t.x=h.x,t.width+=h.width;else{if(h.x!==t.x||h.width!==t.width||h.y+h.height!==t.y)continue;t.y=h.y,t.height+=h.height}this._free.splice(e,1),this.release(h)}this._free.push(h)}}\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport\"../../../../core/has.js\";import{all as t}from\"../../../../core/promiseUtils.js\";import\"../../../../chunks/builtins.js\";import e from\"../../../webgl/Texture.js\";import\"../../../webgl/FramebufferObject.js\";import\"../../../webgl/RenderingContext.js\";import i from\"../webgl/Rect.js\";import s from\"./RectangleBinPack.js\";export default class{constructor(t,e,i){this.width=0,this.height=0,this._dirties=[],this._glyphData=[],this._currentPage=0,this._glyphIndex={},this._textures=[],this._rangePromises=new Map,this.width=t,this.height=e,this._glyphSource=i,this._binPack=new s(t-4,e-4),this._glyphData.push(new Uint8Array(t*e)),this._dirties.push(!0),this._textures.push(void 0)}getGlyphItems(e,h){const r=[],n=this._glyphSource,o=new Set;for(const t of h){const e=Math.floor(.00390625*t);o.add(e)}const a=[];return o.forEach((t=>{if(t<=256){const i=e+t;if(this._rangePromises.has(i))a.push(this._rangePromises.get(i));else{const s=n.getRange(e,t).then((()=>{this._rangePromises.delete(i)}),(()=>{this._rangePromises.delete(i)}));this._rangePromises.set(i,s),a.push(s)}}})),t(a).then((()=>{let t,o=this._glyphIndex[e];o||(o={},this._glyphIndex[e]=o),t=h;for(const h of t){const t=o[h];if(t){r[h]={sdf:!0,rect:t.rect,metrics:t.metrics,page:t.page,code:h};continue}const a=n.getGlyph(e,h);if(!a||!a.metrics)continue;const c=a.metrics;let l;if(0===c.width)l=new i(0,0,0,0);else{const t=3,e=c.width+2*t,i=c.height+2*t;let h=e%4?4-e%4:4,r=i%4?4-i%4:4;1===h&&(h=5),1===r&&(r=5),l=this._binPack.allocate(e+h,i+r),l.isEmpty&&(this._dirties[this._currentPage]||(this._glyphData[this._currentPage]=null),this._currentPage=this._glyphData.length,this._glyphData.push(new Uint8Array(this.width*this.height)),this._dirties.push(!0),this._textures.push(void 0),this._binPack=new s(this.width-4,this.height-4),l=this._binPack.allocate(e+h,i+r));const n=this._glyphData[this._currentPage],o=a.bitmap;let g,p;if(o)for(let t=0;t<i;t++){g=e*t,p=this.width*(l.y+t+1)+l.x;for(let t=0;t<e;t++)n[p+t+1]=o[g+t]}}o[h]={rect:l,metrics:c,tileIDs:null,page:this._currentPage},r[h]={sdf:!0,rect:l,metrics:c,page:this._currentPage,code:h},this._dirties[this._currentPage]=!0}return r}))}removeGlyphs(t){for(const e in this._glyphIndex){const i=this._glyphIndex[e];if(!i)continue;let s;for(const e in i)if(s=i[e],s.tileIDs.delete(t),0===s.tileIDs.size){const t=this._glyphData[s.page],h=s.rect;let r,n;for(let e=0;e<h.height;e++)for(r=this.width*(h.y+e)+h.x,n=0;n<h.width;n++)t[r+n]=0;delete i[e],this._dirties[s.page]=!0}}}bind(t,i,s,h=0){this._textures[s]||(this._textures[s]=new e(t,{pixelFormat:6406,dataType:5121,width:this.width,height:this.height},new Uint8Array(this.width*this.height)));const r=this._textures[s];r.setSamplingMode(i),this._dirties[s]&&r.setData(this._glyphData[s]),t.bindTexture(r,h),this._dirties[s]=!1}dispose(){this._binPack=null;for(const t of this._textures)t&&t.dispose();this._textures.length=0}}\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport\"../../../../core/has.js\";import{resolve as t}from\"../../../../core/promiseUtils.js\";import e from\"../../../../request.js\";import s from\"../../../../core/pbf.js\";class a{constructor(t){if(this._metrics=[],this._bitmaps=[],t)for(;t.next();)switch(t.tag()){case 1:{const e=t.getMessage();for(;e.next();)switch(e.tag()){case 3:{const t=e.getMessage();let s,a,r,n,i,c,g;for(;t.next();)switch(t.tag()){case 1:s=t.getUInt32();break;case 2:a=t.getBytes();break;case 3:r=t.getUInt32();break;case 4:n=t.getUInt32();break;case 5:i=t.getSInt32();break;case 6:c=t.getSInt32();break;case 7:g=t.getUInt32();break;default:t.skip()}t.release(),s&&(this._metrics[s]={width:r,height:n,left:i,top:c,advance:g},this._bitmaps[s]=a);break}default:e.skip()}e.release();break}default:t.skip()}}getMetrics(t){return this._metrics[t]}getBitmap(t){return this._bitmaps[t]}}class r{constructor(){this._ranges=[]}getRange(t){return this._ranges[t]}addRange(t,e){this._ranges[t]=e}}export default class{constructor(t){this._glyphInfo={},this._baseURL=t}getRange(r,n){const i=this._getFontStack(r);if(i.getRange(n))return t();const c=256*n,g=c+255,o=this._baseURL.replace(\"{fontstack}\",r).replace(\"{range}\",c+\"-\"+g);return e(o,{responseType:\"array-buffer\"}).then((t=>{i.addRange(n,new a(new s(new Uint8Array(t.data),new DataView(t.data))))})).catch((()=>{i.addRange(n,new a)}))}getGlyph(t,e){const s=this._getFontStack(t);if(!s)return;const a=Math.floor(e/256);if(a>256)return;const r=s.getRange(a);return r?{metrics:r.getMetrics(e),bitmap:r.getBitmap(e)}:void 0}_getFontStack(t){let e=this._glyphInfo[t];return e||(e=this._glyphInfo[t]=new r),e}}\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport\"../../../../core/has.js\";import\"../../../../chunks/builtins.js\";import t from\"../../../webgl/Texture.js\";import\"../../../webgl/FramebufferObject.js\";import\"../../../webgl/RenderingContext.js\";import i from\"../webgl/Rect.js\";import e from\"./RectangleBinPack.js\";class s{constructor(t,i,s=0){this._size=[],this._mosaicsData=[],this._textures=[],this._dirties=[],this._maxItemSize=0,this._currentPage=0,this._pageWidth=0,this._pageHeight=0,this._mosaicRects={},this.pixelRatio=1,(t<=0||i<=0)&&console.error(\"Sprites mosaic defaultWidth and defaultHeight must be greater than zero!\"),this._pageWidth=t,this._pageHeight=i,s>0&&(this._maxItemSize=s),this._binPack=new e(t-4,i-4)}getWidth(t){return t>=this._size.length?-1:this._size[t][0]}getHeight(t){return t>=this._size.length?-1:this._size[t][1]}setSpriteSource(t){if(this.dispose(),this.pixelRatio=t.devicePixelRatio,0===this._mosaicsData.length){this._binPack=new e(this._pageWidth-4,this._pageHeight-4);const t=Math.floor(this._pageWidth),i=Math.floor(this._pageHeight),s=new Uint32Array(t*i);this._mosaicsData[0]=s,this._dirties.push(!0),this._size.push([this._pageWidth,this._pageHeight]),this._textures.push(void 0)}this._sprites=t}getSpriteItem(t,i=!1){let e=this._mosaicRects[t];if(e)return e;if(!this._sprites||\"loaded\"!==this._sprites.loadStatus)return null;const s=this._sprites.getSpriteInfo(t);if(!s||!s.width||!s.height||s.width<0||s.height<0)return null;const h=s.width,a=s.height,[r,o,_]=this._allocateImage(h,a);return r.width<=0?null:(this._copy(r,s,o,_,i),e={rect:r,width:h,height:a,sdf:s.sdf,simplePattern:!1,pixelRatio:s.pixelRatio,page:o},this._mosaicRects[t]=e,e)}preloadSpriteItems(){for(const t of this._sprites.spriteNames)this.getSpriteItem(t,!0)}getSpriteItems(t){const i={};for(const e of t)i[e]=this.getSpriteItem(e);return i}getMosaicItemPosition(t,i){const e=this.getSpriteItem(t,i),s=e&&e.rect;if(!s)return null;s.width=e.width,s.height=e.height;const h=e.width,a=e.height,r=this._size[e.page];return{size:[e.width,e.height],tl:[(s.x+2)/r[0],(s.y+2)/r[1]],br:[(s.x+2+h)/r[0],(s.y+2+a)/r[1]],page:e.page}}bind(i,e,s=0,h=0){this._textures[s]||(this._textures[s]=new t(i,{pixelFormat:6408,dataType:5121,wrapMode:33071,width:this._size[s][0],height:this._size[s][1]},new Uint8Array(this._mosaicsData[s].buffer)));const a=this._textures[s];a.setSamplingMode(e),this._dirties[s]&&a.setData(new Uint8Array(this._mosaicsData[s].buffer)),i.bindTexture(a,h),this._dirties[s]=!1}static _copyBits(t,i,e,s,h,a,r,o,_,n,g){let p=s*i+e,c=o*a+r;if(g){c-=a;for(let r=-1;r<=n;r++,p=((r+n)%n+s)*i+e,c+=a)for(let i=-1;i<=_;i++)h[c+i]=t[p+(i+_)%_]}else for(let e=0;e<n;e++){for(let i=0;i<_;i++)h[c+i]=t[p+i];p+=i,c+=a}}_copy(t,i,e,h,a,r){if(!this._sprites||\"loaded\"!==this._sprites.loadStatus||e>=this._mosaicsData.length)return;const o=new Uint32Array(r?r.buffer:this._sprites.image.buffer),_=this._mosaicsData[e];_&&o||console.error(\"Source or target images are uninitialized!\");const n=r?i.width:this._sprites.width;s._copyBits(o,n,i.x,i.y,_,h[0],t.x+2,t.y+2,i.width,i.height,a),this._dirties[e]=!0}_allocateImage(t,s){t+=2,s+=2;const h=Math.max(t,s);if(this._maxItemSize&&this._maxItemSize<h){const e=new i(0,0,t,s);return this._mosaicsData.push(new Uint32Array(t*s)),this._dirties.push(!0),this._size.push([t,s]),this._textures.push(void 0),[e,this._mosaicsData.length-1,[t,s]]}let a=t%4?4-t%4:4,r=s%4?4-s%4:4;1===a&&(a=5),1===r&&(r=5);const o=this._binPack.allocate(t+a,s+r);return o.width<=0?(this._dirties[this._currentPage]||(this._mosaicsData[this._currentPage]=null),this._currentPage=this._mosaicsData.length,this._mosaicsData.push(new Uint32Array(this._pageWidth*this._pageHeight)),this._dirties.push(!0),this._size.push([this._pageWidth,this._pageHeight]),this._textures.push(void 0),this._binPack=new e(this._pageWidth-4,this._pageHeight-4),this._allocateImage(t,s)):[o,this._currentPage,[this._pageWidth,this._pageHeight]]}dispose(){this._binPack=null,this._mosaicRects={};for(const t of this._textures)t&&t.dispose();this._textures.length=0}}export default s;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nfunction t(t,e,n,o,l,i){t.fillStyle=e,t.fillRect(n,o,l,i)}function e(t,e,n,o,l,i){t.strokeStyle=e,t.strokeRect(n,o,l,i)}function n(t,e){t.strokeStyle=\"black\";const n=e.cellSize,o=e.rows,l=e.columns;for(let i=0;i<o;i++){const o=e.cells[i],r=i*n,s=(i+1)*n;for(let e=0;e<l;e++){const l=o[e],i=e*n,d=(e+1)*n;t.strokeRect(i,r,d-i,s-r),t.fillText(`cells:${l.length}`,i+4,r+12)}}}function o(n,o){const l=window.COLLISION_XRAY;for(let i=0;i<o.length;++i){const r=!o[i].unique.show;if(l||!r)for(const s of o[i].colliders){if(!s.enabled)continue;const d=!o[i].unique.parts[s.partIndex].show;if(!l&&d)continue;const a=s.xScreen,c=s.yScreen,m=s.dxScreen,h=s.dyScreen;n.globalAlpha=r||d?.2:1,t(n,\"green\",a-1,c-1,3,3),e(n,\"red\",a+m,c+h,s.width,s.height),t(n,\"blue\",a+m-1,c+h-1,3,3),n.globalAlpha=1}}}function l(t,e,n){if(!window.PERFORMANCE_RECORDING_STORAGE)return;const o=window.PERFORMANCE_RECORDING_STORAGE;o.perf=o.perf||{};const l=o.perf;l[t]=l[t]||{start:null,time:0,min:void 0,max:void 0,samples:[],unit:n},l[t].time+=e,l[t].samples.push(e),(null==l[t].min||e<l[t].min)&&(l[t].min=e),(null==l[t].max||e>l[t].max)&&(l[t].max=e)}function i(){if(!window.PERFORMANCE_RECORDING_STORAGE)return;window.PERFORMANCE_RECORDING_STORAGE.perf={}}function r(t,e){return`${Math.round(10*t)/10}${e}`}function s(t){if(!window.PERFORMANCE_RECORDING_STORAGE){const t=document.createElement(\"div\");return t.innerHTML=\"No recorded data is present because performance recording is disabled.\",t}const e=document.createElement(\"div\");let n=\"\";const o=window.PERFORMANCE_RECORDING_STORAGE.perf;n+='<table style=\"border-collapse: collapse;\">',n+=`<tr style=\"text-weight: bold; border-bottom: 1px solid \"${t}\";\"><td>Name</td><td>Total</td><td>Runs</td><td>Average</td><td>Min</td><td>Distribution</td><td>Max</td><td>Histogram (50 bins)</td></tr>`;const l=[];for(const t in o)l.push({name:t,value:o[t].time/o[t].samples.length,sortkey:o[t].max});l.sort(((t,e)=>-(t.sortkey-e.sortkey)));const i=l.map((t=>t.name));for(const t of i)n+=\"<tr>\",n+=`<td>${t}</td>`,n+=`<td>${r(o[t].time,o[t].unit)}</td>`,n+=`<td>${o[t].samples.length}</td>`,n+=`<td>${r(o[t].time/o[t].samples.length,o[t].unit)}</td>`,n+=`<td style=\"text-align: right;\">${r(o[t].min,o[t].unit)}</td>`,n+=\"<td data-distribution='1'></td>\",n+=`<td>${r(o[t].max,o[t].unit)}</td>`,n+=\"<td data-histogram='1'></td>\",n+=\"</tr>\";n+=\"<table>\",e.innerHTML=n;const s=e.querySelectorAll(\"td[data-distribution='1']\"),d=e.querySelectorAll(\"td[data-histogram='1']\");for(let e=0;e<s.length;e++){let n=s[e];{const r=document.createElement(\"canvas\");r.height=10,r.width=100;const s=r.getContext(\"2d\");if(s.strokeStyle=t,s.beginPath(),s.moveTo(0,5),s.lineTo(100,5),o[i[e]].max>o[i[e]].min+.001)for(const t of o[i[e]].samples){const n=(t-o[i[e]].min)/(o[i[e]].max-o[i[e]].min);s.moveTo(100*n,3),s.lineTo(100*n,7)}s.stroke(),s.strokeRect((l[e].value-o[i[e]].min)/(o[i[e]].max-o[i[e]].min)*100-2,0,4,9),n.appendChild(r)}n=d[e];{const l=new Array(50);for(let t=0;t<l.length;t++)l[t]=0;for(const t of o[i[e]].samples){const n=(t-o[i[e]].min)/(o[i[e]].max-o[i[e]].min);l[1===n?l.length-1:Math.floor(n*l.length)]++}const r=document.createElement(\"canvas\");r.height=30,r.width=120;const s=r.getContext(\"2d\");s.strokeStyle=t,s.fillStyle=t;let d=0;for(let t=0;t<l.length;t++){const e=l[t];d=Math.max(d,e)}for(let t=0;t<l.length;t++){const e=l[t];s.fillRect(t*r.width/l.length,r.height*(1-e/d),r.width/l.length,r.height*(e/d))}s.beginPath(),s.moveTo(0,r.height),s.lineTo(r.width,r.height),s.stroke(),n.appendChild(r)}}const a=e.querySelectorAll(\"td\");for(let t=0;t<a.length;t++)a[t].style.padding=\"5px\";return e}export{o as drawColliders,n as drawGridIndex,l as perfAdd,i as perfClear,s as perfElement};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/has.js\";import{isSome as t,isNone as s}from\"../../../../core/maybe.js\";import{all as i,create as r,resolve as o,throwIfAborted as a,isAbortError as n,eachAlways as l}from\"../../../../core/promiseUtils.js\";import c from\"../../../../request.js\";import{create as h}from\"../../../../geometry/support/aaBoundingRect.js\";import{MIN_PRIORITY as u}from\"../../../../core/MemCache.js\";import p from\"../../../../core/ItemCache.js\";import{open as f}from\"../../../../core/workers/workers.js\";import _ from\"../../tiling/TileKey.js\";import y from\"./TileIndex.js\";import{VectorTile as g}from\"./VectorTile.js\";import m from\"./GlyphMosaic.js\";import d from\"./GlyphSource.js\";import T from\"./SpriteMosaic.js\";import{perfAdd as M}from\"./decluttering/debugging.js\";const R=new p(10),v=new Map;class S{constructor(e,t,s,i){this._vectorTileLayer=e,this._styleRepository=t,this.devicePixelRatio=s,this._memCache=i,this._spriteMosaic=null,this._glyphMosaic=null,this._connection=null,this._ongoingTileRequests=new Map,this._ongoingRequestToController=new Map}destroy(){this._ongoingTileRequests&&this.abortAll(),this._connection&&(this._connection.close(),this._connection=null),this._styleRepository=null,this._vectorTileLayer=null,this._spriteMosaic&&(this._spriteMosaic=null),this._glyphMosaic&&(this._glyphMosaic=null)}get spriteMosaic(){return this._spriteSourcePromise.then((()=>this._spriteMosaic))}get glyphMosaic(){return this._glyphMosaic}async start(t){const s=this._vectorTileLayer,r=s.sourceNameToSource,o=[];for(const e in r)o.push(this._fetchTileMap(r[e],t));this._spriteSourcePromise=this._vectorTileLayer.loadSpriteSource(this.devicePixelRatio,t),this._spriteSourcePromise.then((e=>{this._spriteMosaic=new T(1024,1024,250),this._spriteMosaic.setSpriteSource(e)}));const a=this._styleRepository,n=new d(a.glyphs);return this._glyphMosaic=new m(1024,1024,n),this._broadcastPromise=f(\"WorkerTileHandler\",{client:this,scheduler:t.scheduler,signal:t.signal}).then((r=>(this._connection=r,i(this._connection.broadcast(\"setStyle\",{style:s.currentStyleInfo.style,vectorTileLayerMaxBuffers:e(\"vectortilelayer-max-buffers\")},t))))),i(o)}async updateStyle(e){return await this._broadcastPromise,this._broadcastPromise=r(((t,s)=>{i(this._connection.broadcast(\"updateStyle\",e)).then(t,s)})),this._broadcastPromise}async setStyle(t,s){await this._broadcastPromise,this._styleRepository=t;const o=this._vectorTileLayer.sourceNameToSource,a=[];for(const e in o)a.push(this._fetchTileMap(o[e],null));this._spriteSourcePromise=this._vectorTileLayer.loadSpriteSource(this.devicePixelRatio,null),this._spriteSourcePromise.then((e=>{this._spriteMosaic=new T(1024,1024,250),this._spriteMosaic.setSpriteSource(e)}));const n=new d(t.glyphs);return this._glyphMosaic=new m(1024,1024,n),this._broadcastPromise=r(((t,r)=>{i(this._connection.broadcast(\"setStyle\",{style:s,vectorTileLayerMaxBuffers:e(\"vectortilelayer-max-buffers\")})).then(t,r)})),a.push(this._broadcastPromise),i(a)}getVectorTile(e,s,i,r){const n=new _(e,s,i,0);if(t(this._memCache)){const e=this._memCache.get(n.id);if(t(e))return e.reference(),o(e)}return this._getVectorTileData(n).then((e=>{if(a(r),t(this._memCache)){const e=this._memCache.get(n.id);if(t(e))return e.reference(),e}if(!this._vectorTileLayer)return null;const s=this._vectorTileLayer.tileInfo.getTileBounds(h(),n),i=new g(n,this._styleRepository,s,[512,512]);if(e&&e.tileData){if(i.setData(e.tileData),t(this._memCache)){i.reference();const e=i.getMemoryUsage();e>0&&this._memCache.put(i.key.id,i,e*i.referenced,u)}}else i.setData(null);return i}))}releaseVectorTile(e){s(this._memCache)||e.release()||this._memCache.updateSize(e.key.id,e,e.getMemoryUsage()*e.referenced)}fetchTileData(e,t){return this._getRefKeys(e,t).then((e=>{const s=this._vectorTileLayer.sourceNameToSource,i=[];for(const e in s)i.push(e);return this._getSourcesData(i,e,t)}))}parseTileData(t,s){const i=t&&t.data;if(!i)return o(null);const{sourceName2DataAndRefKey:r,transferList:a}=i;return 0===Object.keys(r).length?o(null):this._broadcastPromise.then((()=>this._connection.getAvailableClient().then((i=>i.invoke(\"createTileAndParse\",{key:t.key.id,sourceName2DataAndRefKey:r,styleLayerUIDs:t.styleLayerUIDs},{...s,transferList:a}).then((t=>{if(e(\"esri-vector-tiles-debug\")){const e={};for(const t in r)e[t]=r[t].refKey;return{tileData:t,refKeys:e}}return{tileData:t}}))))))}get updating(){return this._ongoingTileRequests.size>0}abortAll(){this._ongoingRequestToController.forEach((e=>e.abort())),this._ongoingRequestToController.clear(),this._ongoingTileRequests.clear()}async getSprites(e){return await this._spriteSourcePromise,this._spriteMosaic.getSpriteItems(e)}getGlyphs(e){return this._glyphMosaic.getGlyphItems(e.font,e.codePoints)}perfReport({key:e,milliseconds:t}){M(e,t,\"ms\")}async _getTilePayload(e,t,s){const i=_.pool.acquire(e.id),r=this._vectorTileLayer.sourceNameToSource[t].getSourceTileUrl(i.level,i.row,i.col);_.pool.release(i);try{return{protobuff:(await c(r,{responseType:\"array-buffer\",...s})).data,sourceName:t}}catch(e){if(n(e))throw e;return{protobuff:null,sourceName:t}}}async _fetchTileMap(e,t){if(e.capabilities.operations.supportsTileMap&&e.tileIndex)return o();if(!e.tileMapURL)return;const s=R.get(e.tileMapURL);if(s)return void(e.tileIndex=s);let i;if(v.has(e.tileMapURL)){try{i=await v.get(e.tileMapURL),e.tileIndex=new y(i.data)}catch(e){if(n(e))throw e}return}const r=c(e.tileMapURL,t);v.set(e.tileMapURL,r);try{i=await r,v.delete(e.tileMapURL),R.put(e.tileMapURL,e.tileIndex),e.tileIndex=new y(i.data)}catch(t){if(v.delete(e.tileMapURL),n(t))throw t}}_getRefKeys(e,t){const s=this._vectorTileLayer.sourceNameToSource,i=new Array;for(const r in s){const o=s[r].getRefKey(e,t);i.push(o)}return l(i)}_getSourcesData(e,t,s){const i=[];for(let r=0;r<t.length;r++)if(null==t[r].value||null==e[r])i.push(null);else{const o=this._getTilePayload(t[r].value,e[r],s);i.push(o)}return l(i).then((e=>{const s={},i=[];for(let r=0;r<e.length;r++)if(e[r].value&&e[r].value&&e[r].value.protobuff&&e[r].value.protobuff.byteLength>0){const o=t[r].value.id;s[e[r].value.sourceName]={refKey:o,protobuff:e[r].value.protobuff},i.push(e[r].value.protobuff)}return{sourceName2DataAndRefKey:s,transferList:i}}))}_getVectorTileData(e){const t=e.id;if(this._ongoingTileRequests.has(t))return this._ongoingTileRequests.get(t);const s=new AbortController,i={signal:s.signal},r=this._getParsedVectorTileData(e,i).then((e=>(this._ongoingTileRequests.delete(t),this._ongoingRequestToController.delete(t),e))).catch((()=>(this._ongoingTileRequests.delete(t),this._ongoingRequestToController.delete(t),null)));return this._ongoingTileRequests.set(t,r),this._ongoingRequestToController.set(t,s),r}_getParsedVectorTileData(e,t){return this.fetchTileData(e,t).then((s=>this.parseTileData({key:e,data:s},t)))}}export{S as TileHandler};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{isNone as e,isSome as i}from\"../../../../core/maybe.js\";import t from\"../../../../core/LRUCache.js\";import l from\"../../tiling/TileKey.js\";import s from\"../../tiling/TileCoverage.js\";const r=(e,i)=>e+1/(1<<2*i);class o{constructor(e,i){this._tiles=new Map,this._tileCache=new t(40,(e=>e.dispose())),this._viewSize=[0,0],this._visibleTiles=new Map,this.acquireTile=e.acquireTile,this.releaseTile=e.releaseTile,this.tileInfoView=e.tileInfoView,this._container=i}destroy(){this._tiles.clear(),this._tiles=null,this._tileCache.clear(),this._tileCache=null}update(e){this._updateCacheSize(e);const i=this.tileInfoView,t=i.getTileCoverage(e.state,0,\"smallest\"),{spans:r,lodInfo:o}=t,{level:n}=o,a=new Set,h=new Set;for(const{row:e,colFrom:i,colTo:t}of r)for(let s=i;s<=t;s++){const i=l.getId(n,e,o.normalizeCol(s),o.getWorldForColumn(s)),t=this._getOrAcquireTile(i);a.add(i),t.processed()?this._addToContainer(t):h.add(new l(i))}for(const[e,i]of this._tiles)i.isCoverage=a.has(e);for(const e of h)this._findPlaceholdersForMissingTiles(e,a);let c=!1;for(const[e,l]of this._tiles)l.neededForCoverage=a.has(e),l.neededForCoverage||l.isHoldingForFade&&i.intersects(t,l.key)&&a.add(e),l.isFading&&(c=!0);for(const[e,i]of this._tiles)a.has(e)||this._releaseTile(e);return s.pool.release(t),!c}clear(){this._tiles.clear(),this._tileCache.clear(),this._visibleTiles.clear()}clearCache(){this._tileCache.clear()}_findPlaceholdersForMissingTiles(e,i){const t=[];for(const[l,s]of this._tiles)this._addPlaceholderChild(t,s,e,i);const l=t.reduce(r,0);Math.abs(1-l)<1e-6||this._addPlaceholderParent(e.id,i)}_addPlaceholderChild(e,i,t,l){i.key.level<=t.level||!i.hasData()||function(e,i){const t=i.level-e.level;return e.row===i.row>>t&&e.col===i.col>>t&&e.world===i.world}(t,i.key)&&(this._addToContainer(i),l.add(i.id),e.push(i.key.level-t.level))}_addPlaceholderParent(e,i){let t=e;for(;;){if(t=n(t),!t||i.has(t))return;const e=this._getTile(t);if(e&&e.hasData())return this._addToContainer(e),void i.add(e.id)}}_getOrAcquireTile(e){let i=this._tiles.get(e);return i||(i=this._tileCache.pop(e),i||(i=this.acquireTile(new l(e))),this._tiles.set(e,i),i)}_getTile(e){let i=this._tiles.get(e);return i||(i=this._tileCache.pop(e),i&&this._tiles.set(e,i),i)}_releaseTile(e){const i=this._tiles.get(e);this.releaseTile(i),this._removeFromContainer(i),this._tiles.delete(e),i.hasData()?this._tileCache.put(e,i,1):i.dispose()}_addToContainer(t){let l;const s=[],r=this._container;if(r.contains(t))return;const o=this._visibleTiles;for(const[i,r]of o)this._canConnectDirectly(t,r)&&s.push(r),e(l)&&this._canConnectDirectly(r,t)&&(l=r);if(i(l)){for(const e of s)l.childrenTiles.delete(e),t.childrenTiles.add(e),e.parentTile=t;l.childrenTiles.add(t),t.parentTile=l}else for(const e of s)t.childrenTiles.add(e),e.parentTile=t;o.set(t.id,t),r.addChild(t)}_removeFromContainer(e){if(this._visibleTiles.delete(e.id),this._container.removeChild(e),i(e.parentTile)){e.parentTile.childrenTiles.delete(e);for(const t of e.childrenTiles)i(e.parentTile)&&e.parentTile.childrenTiles.add(t)}for(const i of e.childrenTiles)i.parentTile=e.parentTile;e.parentTile=null,e.childrenTiles.clear()}_canConnectDirectly(e,i){const t=e.key;let{level:l,row:s,col:r,world:o}=i.key;const n=this._visibleTiles;for(;l>0;){if(l--,s>>=1,r>>=1,t.level===l&&t.row===s&&t.col===r&&t.world===o)return!0;if(n.has(`${l}/${s}/${r}/${o}`))return!1}return!1}_updateCacheSize(e){const i=e.state.size;if(i[0]===this._viewSize[0]&&i[1]===this._viewSize[1])return;const t=Math.ceil(i[0]/512)+1,l=Math.ceil(i[1]/512)+1;this._viewSize[0]=i[0],this._viewSize[1]=i[1],this._tileCache.maxSize=5*t*l}}function n(e){const[i,t,l,s]=e.split(\"/\"),r=parseInt(i,10);return 0===r?null:`${r-1}/${parseInt(t,10)>>1}/${parseInt(l,10)>>1}/${parseInt(s,10)}`}export{o as TileManager};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{a as e}from\"../../../../../chunks/mat3f32.js\";import{COLLISION_GRID_CELL_SIZE as t}from\"./config.js\";import{GridIndex as n}from\"./util.js\";function o(e,t,n,o,r,s){const{iconRotationAlignment:i,textRotationAlignment:l,iconTranslate:a,iconTranslateAnchor:c,textTranslate:h,textTranslateAnchor:u}=o;let d=0;for(const o of e.colliders){const[e,y]=0===o.partIndex?a:h,x=0===o.partIndex?c:u,g=o.minLod<=s&&s<=o.maxLod;d+=g?0:1,o.enabled=g,o.xScreen=o.xTile*r[0]+o.yTile*r[3]+r[6],o.yScreen=o.xTile*r[1]+o.yTile*r[4]+r[7],0===x?(o.xScreen+=n*e-t*y,o.yScreen+=t*e+n*y):(o.xScreen+=e,o.yScreen+=y),1===(0===o.partIndex?i:l)?(o.dxScreen=o.dxPixels,o.dyScreen=o.dyPixels):(o.dxScreen=n*(o.dxPixels+o.width/2)-t*(o.dyPixels+o.height/2)-o.width/2,o.dyScreen=t*(o.dxPixels+o.width/2)+n*(o.dyPixels+o.height/2)-o.height/2)}e.colliders.length>0&&d===e.colliders.length&&(e.unique.show=!1)}class r{constructor(o,r,s,i,l,a){this._symbols=o,this._styleRepository=i,this._zoom=l,this._currentLayerCursor=0,this._currentSymbolCursor=0,this._styleProps=new Map,this._allNeededMatrices=new Map,this._gridIndex=new n(r,s,t),this._si=Math.sin(Math.PI*a/180),this._co=Math.cos(Math.PI*a/180);for(const t of o)for(const n of t.symbols)this._allNeededMatrices.has(n.tile)||this._allNeededMatrices.set(n.tile,e(n.tile.transforms.tileUnitsToPixels))}work(e){const t=this._gridIndex;function n(e){const n=e.xScreen+e.dxScreen,o=e.yScreen+e.dyScreen,r=n+e.width,s=o+e.height,[i,l,a,c]=t.getCellSpan(n,o,r,s);for(let e=l;e<=c;e++)for(let l=i;l<=a;l++){const i=t.cells[e][l];for(const e of i){const t=e.xScreen+e.dxScreen,i=e.yScreen+e.dyScreen,l=t+e.width,a=i+e.height;if(!(r<t||n>l||s<i||o>a))return!0}}return!1}const r=performance.now();for(;this._currentLayerCursor<this._symbols.length;this._currentLayerCursor++,this._currentSymbolCursor=0){const t=this._symbols[this._currentLayerCursor],s=this._getProperties(t.styleLayerUID);for(;this._currentSymbolCursor<t.symbols.length;this._currentSymbolCursor++){if(this._currentSymbolCursor%100==99&&performance.now()-r>e)return!1;const i=t.symbols[this._currentSymbolCursor];if(!i.unique.show)continue;o(i,this._si,this._co,s,this._allNeededMatrices.get(i.tile),this._zoom);const l=i.unique;if(!l.show)continue;const{iconAllowOverlap:a,iconIgnorePlacement:c,textAllowOverlap:h,textIgnorePlacement:u}=s;for(const e of i.colliders){if(!e.enabled)continue;const t=l.parts[e.partIndex];if(!t.show)continue;!(e.partIndex?h:a)&&n(e)&&(e.hard?l.show=!1:t.show=!1)}if(l.show)for(const e of i.colliders){if(!e.enabled)continue;if(e.partIndex?u:c)continue;if(!l.parts[e.partIndex].show)continue;const t=e.xScreen+e.dxScreen,n=e.yScreen+e.dyScreen,o=t+e.width,r=n+e.height,[s,i,a,h]=this._gridIndex.getCellSpan(t,n,o,r);for(let t=i;t<=h;t++)for(let n=s;n<=a;n++){this._gridIndex.cells[t][n].push(e)}}}}return!0}_getProperties(e){const t=this._styleProps.get(e);if(t)return t;const n=this._zoom,o=this._styleRepository.getStyleLayerByUID(e),r=0!==o.getLayoutValue(\"symbol-placement\",n);let s=o.getLayoutValue(\"icon-rotation-alignment\",n);2===s&&(s=r?0:1);let i=o.getLayoutValue(\"text-rotation-alignment\",n);2===i&&(i=r?0:1);const l=o.getPaintValue(\"icon-translate\",n),a=o.getPaintValue(\"icon-translate-anchor\",n),c=o.getPaintValue(\"text-translate\",n),h=o.getPaintValue(\"text-translate-anchor\",n),u={iconAllowOverlap:o.getLayoutValue(\"icon-allow-overlap\",n),iconIgnorePlacement:o.getLayoutValue(\"icon-ignore-placement\",n),textAllowOverlap:o.getLayoutValue(\"text-allow-overlap\",n),textIgnorePlacement:o.getLayoutValue(\"text-ignore-placement\",n),iconRotationAlignment:s,textRotationAlignment:i,iconTranslateAnchor:a,iconTranslate:l,textTranslateAnchor:h,textTranslate:c};return this._styleProps.set(e,u),u}}export{r as CollisionJob};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{FADE_DURATION as o}from\"./config.js\";function e(o,e){if(o.priority-e.priority)return o.priority-e.priority;const t=o.tile.key,i=e.tile.key;return t.world-i.world?t.world-i.world:t.level-i.level?t.level-i.level:t.row-i.row?t.row-i.row:t.col-i.col?t.col-i.col:o.xTile-e.xTile?o.xTile-e.xTile:o.yTile-e.yTile}class t{constructor(o,e,t,i,s,r){this._visibleTiles=o,this._symbolRepository=e,this._createCollisionJob=t,this._assignTileSymbolsOpacity=i,this._symbolLayerSorter=s,this._isLayerVisible=r,this._selectionJob=null,this._selectionJobCompleted=!1,this._collisionJob=null,this._collisionJobCompleted=!1,this._opacityJob=null,this._opacityJobCompleted=!1,this._running=!0}get running(){return this._running}setScreenSize(o,e){this._screenWidth===o&&this._screenHeight===e||this.restart(),this._screenWidth=o,this._screenHeight=e}restart(){this._selectionJob=null,this._selectionJobCompleted=!1,this._collisionJob=null,this._collisionJobCompleted=!1,this._opacityJob=null,this._opacityJobCompleted=!1,this._running=!0}continue(o){if(this._selectionJob||(this._selectionJob=this._createSelectionJob()),!this._selectionJobCompleted){const e=performance.now();if(!this._selectionJob.work(o))return!1;if(this._selectionJobCompleted=!0,0===(o=Math.max(0,o-(performance.now()-e))))return!1}if(this._collisionJob||(this._collisionJob=this._createCollisionJob(this._selectionJob.sortedSymbols,this._screenWidth,this._screenHeight)),!this._collisionJobCompleted){const e=performance.now();if(!this._collisionJob.work(o))return!1;if(this._collisionJobCompleted=!0,0===(o=Math.max(0,o-(performance.now()-e))))return!1}if(this._opacityJob||(this._opacityJob=this._createOpacityJob()),!this._opacityJobCompleted){const e=performance.now();if(!this._opacityJob.work(o))return!1;if(this._opacityJobCompleted=!0,0===(o=Math.max(0,o-(performance.now()-e))))return!1}return this._running=!1,!0}_createSelectionJob(){const o=this._symbolRepository.uniqueSymbols,t=[];let i=0,s=0;const r=this._isLayerVisible;const n=this._symbolLayerSorter;return{work:function(n){let l;const c=performance.now();for(;s<o.length;s++,i=0){const e=o[s],h=e.styleLayerUID;if(!r(h)){t[s]||(t[s]={styleLayerUID:h,symbols:[]});continue}t[s]=t[s]||{styleLayerUID:h,symbols:[]};const a=t[s];for(;i<e.uniqueSymbols.length;i++){if(l=e.uniqueSymbols[i],i%100==99&&performance.now()-c>n)return!1;let o=null,t=!1,s=!1;for(const e of l.tileSymbols)if(e.selectedForRendering=!1,!s||!t){const i=e.tile;(!o||i.isCoverage||i.neededForCoverage&&!t)&&(o=e,(i.neededForCoverage||i.isCoverage)&&(s=!0),i.isCoverage&&(t=!0))}if(o.selectedForRendering=!0,s){a.symbols.push(o),l.show=!0;for(const o of l.parts)o.show=!0}else l.show=!1}}for(const o of t)o.symbols.sort(e);return!0},get sortedSymbols(){return t.sort(n)}}}_createOpacityJob(){const o=this._assignTileSymbolsOpacity,e=this._visibleTiles;let t=0;function s(e,t){const r=e.symbols;for(const[o,e]of r)i(e,t);o(e,t);for(const o of e.childrenTiles)s(o,t)}return{work(o){const i=performance.now();for(;t<e.length;t++){if(performance.now()-i>o)return!1;const r=e[t];if(r.parentTile)continue;s(r,performance.now())}return!0}}}}function i(e,t){for(const i of e){const e=i.unique;for(const i of e.parts){const s=i.targetOpacity>.5?1:-1;i.startOpacity+=s*((t-i.startTime)/o),i.startOpacity=Math.min(Math.max(i.startOpacity,0),1),i.startTime=t,i.targetOpacity=e.show&&i.show?1:0}}}export{t as SymbolDeclutterer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{isNone as e,isSome as s}from\"../../../../../core/maybe.js\";import{GridIndex as o,tileCoordChange as t}from\"./util.js\";class l{constructor(e,s,o){this.tileCoordRange=e,this._visibleTiles=s,this._createUnique=o,this._tiles=new Map,this._uniqueSymbolsReferences=new Map}get uniqueSymbols(){return e(this._uniqueSymbolLayerArray)&&(this._uniqueSymbolLayerArray=this._createUniqueSymbolLayerArray()),this._uniqueSymbolLayerArray}add(e,s){this._uniqueSymbolLayerArray=null;let t=this._tiles.get(e.id);t||(t={symbols:new Map},this._tiles.set(e.id,t));const l=new Map;if(s)for(const e of s)t.symbols.has(e)&&(l.set(e,t.symbols.get(e)),t.symbols.delete(e));else for(const[s,o]of e.layerData)t.symbols.has(s)&&(l.set(s,t.symbols.get(s)),t.symbols.delete(s));this._removeSymbols(l);const i=e.symbols,n=new Map;for(const[e,s]of i){let l=s.length;if(l>=32){let i=this.tileCoordRange;do{i/=2,l/=4}while(l>8&&i>64);const r=new o(this.tileCoordRange,this.tileCoordRange,i);n.set(e,{flat:s,index:r}),t.symbols.set(e,{flat:s,index:r});for(const e of s)r.getCell(e.xTile,e.yTile).push(e)}else n.set(e,{flat:s}),t.symbols.set(e,{flat:s})}this._addSymbols(e.key,i)}deleteStyleLayers(e){this._uniqueSymbolLayerArray=null;for(const[s,o]of this._tiles){const t=new Map;for(const s of e)o.symbols.has(s)&&(t.set(s,o.symbols.get(s)),o.symbols.delete(s));this._removeSymbols(t),0===o.symbols.size&&this._tiles.delete(s)}}removeTile(e){this._uniqueSymbolLayerArray=null;const s=this._tiles.get(e.id);if(!s)return;const o=new Map;for(const[t,l]of e.symbols)s.symbols.has(t)&&(o.set(t,s.symbols.get(t)),s.symbols.delete(t));this._removeSymbols(o),0===s.symbols.size&&this._tiles.delete(e.id)}_removeSymbols(e){for(const[s,{flat:o}]of e)for(const e of o){const o=e.unique,t=o.tileSymbols,l=t.length-1;for(let s=0;s<l;s++)if(t[s]===e){t[s]=t[l];break}if(t.length=l,0===l){const e=this._uniqueSymbolsReferences.get(s);e.delete(o),0===e.size&&this._uniqueSymbolsReferences.delete(s)}e.unique=null}}_addSymbols(s,o){if(0===o.size)return;const t=this._visibleTiles;for(const e of t)e.parentTile||e.key.world!==s.world||e.key.level===s.level&&!e.key.equals(s)||this._matchSymbols(e,s,o);for(const[s,t]of o)for(const o of t)if(e(o.unique)){const e=this._createUnique();o.unique=e,e.tileSymbols.push(o);let t=this._uniqueSymbolsReferences.get(s);t||(t=new Set,this._uniqueSymbolsReferences.set(s,t)),t.add(e)}}_matchSymbols(e,o,l){if(e.key.level>o.level){const s=e.key.level-o.level;if(e.key.row>>s!==o.row||e.key.col>>s!==o.col)return}if(o.level>e.key.level){const s=o.level-e.key.level;if(o.row>>s!==e.key.row||o.col>>s!==e.key.col)return}if(o.equals(e.key)){for(const s of e.childrenTiles)this._matchSymbols(s,o,l);return}const i=new Map;for(const[n,r]of l){const l=[];for(const s of r){const i=t(this.tileCoordRange,s.xTile,o.level,o.col,e.key.level,e.key.col),n=t(this.tileCoordRange,s.yTile,o.level,o.row,e.key.level,e.key.row);i>=0&&i<this.tileCoordRange&&n>=0&&n<this.tileCoordRange&&l.push({symbol:s,xTransformed:i,yTransformed:n})}const y=[],a=e.key.level<o.level?1:1<<e.key.level-o.level,f=this._tiles.get(e.id).symbols.get(n);if(f){const e=f.flat;for(const o of l){let t,l=!1;const i=o.xTransformed,n=o.yTransformed;t=s(f.index)?f.index.getCell(i,n):e;const r=o.symbol,m=r.hash;for(const e of t)if(m===e.hash&&Math.abs(i-e.xTile)<=a&&Math.abs(n-e.yTile)<=a){const s=e.unique;r.unique=s,s.tileSymbols.push(r),l=!0;break}l||y.push(r)}}y.length>0&&i.set(n,y)}for(const s of e.childrenTiles)this._matchSymbols(s,o,i)}_createUniqueSymbolLayerArray(){const e=this._uniqueSymbolsReferences,s=new Array(e.size);let o,t=0;for(const[l,i]of e){const e=new Array(i.size);o=0;for(const s of i)e[o++]=s;s[t]={styleLayerUID:l,uniqueSymbols:e},t++}return s}}export{l as SymbolRepository};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{isSome as t}from\"../../../../../core/maybe.js\";import e from\"../../../../../core/Evented.js\";import{DECLUTTER_BUDGET as i,FADE_DURATION as s}from\"./config.js\";import{VTLUniqueSymbol as o}from\"./core.js\";import{writeOpacityToBuffers as r}from\"./util.js\";import{CollisionJob as l}from\"./jobs.js\";import{SymbolDeclutterer as a}from\"./SymbolDeclutterer.js\";import{SymbolRepository as h}from\"./SymbolRepository.js\";class c extends e{constructor(t,e){super(),this.styleRepository=t,this._tileToHandle=new Map,this._viewState={scale:0,rotation:0,center:[0,0],size:[0,0]},this._declutterViewState={scale:0,rotation:0,center:[0,0],size:[0,0]},this._completed=!1,this._symbolRepository=new h(4096,e,(()=>new o)),this._symbolDeclutterer=new a(e,this._symbolRepository,((t,e,i)=>new l(t,e,i,this.styleRepository,this._zoom,this._viewState.rotation)),((t,e)=>{t.allSymbolsFadingOut=!0,t.lastOpacityUpdate=e,r(t,e,!0),t.decluttered=!0,t.requestRender()}),((t,e)=>this.styleRepository.getStyleLayerByUID(t.styleLayerUID).z-this.styleRepository.getStyleLayerByUID(e.styleLayerUID).z),(t=>{const e=this.styleRepository.getStyleLayerByUID(t).getLayoutProperty(\"visibility\");return!e||\"none\"!==e.getValue()}))}addTile(t){t.decluttered=!1,this._tileToHandle.set(t,t.on(\"symbols-changed\",(()=>{this._symbolRepository.add(t),this.restartDeclutter()}))),this._symbolRepository.add(t),this.restartDeclutter()}removeTile(t){const e=this._tileToHandle.get(t);e&&(this._symbolRepository.removeTile(t),this.restartDeclutter(),e.remove(),this._tileToHandle.delete(t))}update(t,e){return this._zoom=t,this._viewState={scale:e.scale,rotation:e.rotation,center:[e.center[0],e.center[1]],size:[e.size[0],e.size[1]]},this._continueDeclutter(),this._completed}restartDeclutter(){this._completed=!1,this._symbolDeclutterer.restart(),this._notifyUnstable()}clear(){this._completed=!1,this._symbolRepository=null,this._symbolDeclutterer.restart(),this._tileToHandle.forEach((t=>t.remove())),this._tileToHandle.clear()}get stale(){return this._zoom!==this._declutterZoom||this._viewState.size[0]!==this._declutterViewState.size[0]||this._viewState.size[1]!==this._declutterViewState.size[1]||this._viewState.scale!==this._declutterViewState.scale||this._viewState.rotation!==this._declutterViewState.rotation}deleteStyleLayers(t){this._symbolRepository.deleteStyleLayers(t)}_continueDeclutter(){this._completed&&!this.stale||(this._symbolDeclutterer.running||(this._declutterZoom=this._zoom,this._declutterViewState.center[0]=this._viewState.center[0],this._declutterViewState.center[1]=this._viewState.center[1],this._declutterViewState.rotation=this._viewState.rotation,this._declutterViewState.scale=this._viewState.scale,this._declutterViewState.size[0]=this._viewState.size[0],this._declutterViewState.size[1]=this._viewState.size[1],this._symbolDeclutterer.restart()),this._symbolDeclutterer.setScreenSize(this._viewState.size[0],this._viewState.size[1]),this._completed=this._symbolDeclutterer.continue(i),this._completed&&this._scheduleNotifyStable())}_scheduleNotifyStable(){t(this._stableNotificationHandle)&&clearTimeout(this._stableNotificationHandle),this._stableNotificationHandle=setTimeout((()=>{this._stableNotificationHandle=null,this.emit(\"fade-complete\")}),1.5*s)}_notifyUnstable(){t(this._stableNotificationHandle)&&(clearTimeout(this._stableNotificationHandle),this._stableNotificationHandle=null),this.emit(\"fade-start\")}}export{c as SymbolFader};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{isSome as e,isNone as t,unwrap as s}from\"../../../../core/maybe.js\";import{createResolver as r}from\"../../../../core/promiseUtils.js\";import{create as i}from\"../../../../geometry/support/aaBoundingRect.js\";import o from\"../../tiling/TileKey.js\";import l from\"../../tiling/TileCoverage.js\";import{TiledDisplayObject as n}from\"../webgl/TiledDisplayObject.js\";import{WGLDrawPhase as a}from\"../webgl/enums.js\";import d from\"../webgl/TileContainer.js\";import{drawGridIndex as h,drawColliders as c}from\"./decluttering/debugging.js\";import{SymbolFader as y}from\"./decluttering/SymbolFader.js\";function u(e,t){if(e){const s=e.getLayoutProperty(\"visibility\");if(!s||\"none\"!==s.getValue()&&(void 0===e.minzoom||e.minzoom<t+1e-6)&&(void 0===e.maxzoom||e.maxzoom>=t-1e-6))return!0}return!1}class p extends d{constructor(e){super(e),this._backgroundTiles=[],this._pointToCallbacks=new Map,this._fading=!1}destroy(){this.children.forEach((e=>e.destroy())),this.removeAllChildren(),this._spriteMosaic&&(this._spriteMosaic.dispose(),this._spriteMosaic=null),this._glyphMosaic&&(this._glyphMosaic.dispose(),this._glyphMosaic=null),e(this._symbolFader)&&(this._symbolFader.clear(),this._symbolFader=null),this._styleRepository=null,this._backgroundTiles=[],this._pointToCallbacks.clear()}setStyleResources(e,r,i){if(this._spriteMosaic=e,this._glyphMosaic=r,this._styleRepository=i,t(this._symbolFader)){const e=new y(this._styleRepository,this.children);e.on(\"fade-start\",(()=>{this.emit(\"fade-start\"),this._fading=!0,this.requestRender()})),e.on(\"fade-complete\",(()=>{this.emit(\"fade-complete\"),this._fading=!1,this.requestRender()})),this._symbolFader=e}s(this._symbolFader).styleRepository=i}deleteStyleLayers(t){e(this._symbolFader)&&this._symbolFader.deleteStyleLayers(t)}async hitTest(e,t){const s=[e,t],i=r();return this._pointToCallbacks.set(s,i),this.requestRender(),i.promise}enterTileInvalidation(){for(const e of this.children)e.invalidating=!0}createRenderParams(e){return{...super.createRenderParams(e),renderPass:null,styleLayer:null,styleLayerUID:-1,glyphMosaic:this._glyphMosaic,spriteMosaic:this._spriteMosaic,hasClipping:!!this._clippingInfos}}doRender(e){!this.visible||e.drawPhase!==a.MAP&&e.drawPhase!==a.DEBUG||void 0===this._spriteMosaic||super.doRender(e)}addChild(t){return super.addChild(t),e(this._symbolFader)?this._symbolFader.addTile(t):t.decluttered=!0,this.requestRender(),t}removeChild(t){return e(this._symbolFader)&&this._symbolFader.removeTile(t),this.requestRender(),super.removeChild(t)}renderChildren(e){if(e.drawPhase!==a.DEBUG){if(this._doRender(e),this._pointToCallbacks.size>0){const{context:t}=e,s=t.getBoundFramebufferObject();e.drawPhase=a.HITTEST;const r=e.painter.effects.hittest;r.bind(e),this._doRender(e),r.draw(e,this._pointToCallbacks),t.bindFramebuffer(s)}}else super.renderChildren(e)}removeAllChildren(){for(let t=0;t<this.children.length;t++){const s=this.children[t];e(this._symbolFader)&&this._symbolFader.removeTile(s),s.dispose()}super.removeAllChildren()}getStencilTarget(){return this.children.filter((e=>e.neededForCoverage&&e.hasData()))}restartDeclutter(){e(this._symbolFader)&&this._symbolFader.restartDeclutter()}_doRender(t){const{context:s}=t,r=this._styleRepository;if(!r)return;const i=r.layers;let o=!0;t.drawPhase===a.HITTEST&&(o=!1),r.backgroundBucketIds.length>0&&(t.renderPass=\"background\",this._renderBackgroundLayers(t,r.backgroundBucketIds)),super.renderChildren(t);const l=this.children.filter((e=>e.visible&&e.hasData()));if(l&&0!==l.length){for(const e of l)e.triangleCount=0;s.setStencilWriteMask(0),s.setColorMask(!0,!0,!0,!0),s.setStencilOp(7680,7680,7681),s.setStencilTestEnabled(!0),s.setBlendingEnabled(!1),s.setDepthTestEnabled(!0),s.setDepthWriteEnabled(!0),s.setDepthFunction(515),s.setClearDepth(1),s.clear(s.gl.DEPTH_BUFFER_BIT),t.renderPass=\"opaque\";for(let e=i.length-1;e>=0;e--)this._renderStyleLayer(i[e],t,l);s.setDepthWriteEnabled(!1),s.setBlendingEnabled(o),s.setBlendFunctionSeparate(1,771,1,771),t.renderPass=\"translucent\";for(let e=0;e<i.length;e++)this._renderStyleLayer(i[e],t,l);s.setDepthTestEnabled(!1),t.renderPass=\"symbol\";for(let e=0;e<i.length;e++)this._renderStyleLayer(i[e],t,l);if(s.bindVAO(),s.setStencilTestEnabled(!0),s.setBlendingEnabled(!0),t.drawPhase===a.MAP){this._fade(t.displayLevel,t.state);const s=window.COLLISION_DEBUG_CTX;if(s&&e(this._symbolFader)&&(s.clearRect(0,0,s.canvas.width,s.canvas.height),!this._fading||window.COLLISION_XRAY))for(const e of this.children)if(e.symbols){const t=[];if(e.symbols.forEach((e=>{t.push(...e)})),window.COLLISION_SHOW_GRID){var n,d,y;const e=null==(n=this._symbolFader)||null==(d=n._symbolDeclutterer)||null==(y=d._collisionJob)?void 0:y._gridIndex;e&&h(s,e)}c(s,t)}}}}_fade(t,s){e(this._symbolFader)&&(this._symbolFader.update(t,s)||this.requestRender())}_renderStyleLayer(e,t,s){const{painter:r,renderPass:i}=t;if(void 0===e)return;const o=e.getLayoutProperty(\"visibility\");if(o&&\"none\"===o.getValue())return;let l;switch(e.type){case 0:return;case 1:if(\"opaque\"!==i&&\"translucent\"!==t.renderPass)return;l=\"vtlFill\";break;case 2:if(\"translucent\"!==i)return;l=\"vtlLine\";break;case 4:if(\"symbol\"!==i)return;l=\"vtlCircle\";break;case 3:if(\"symbol\"!==i)return;l=\"vtlSymbol\"}if(s=3===e.type?s.filter((e=>e.decluttered)):s.filter((e=>e.neededForCoverage)),\"vtlSymbol\"!==l){const r=t.displayLevel;if(0===s.length||void 0!==e.minzoom&&e.minzoom>=r+1e-6||void 0!==e.maxzoom&&e.maxzoom<r-1e-6)return}const n=e.uid;t.styleLayerUID=n,t.styleLayer=e;for(const e of s)if(e.layerData.has(n)){r.renderObjects(t,s,l);break}}_renderBackgroundLayers(t,s){const{context:r,displayLevel:d,painter:h,state:c}=t,y=this._styleRepository;let p=!1;for(const e of s)if(u(y.getLayerById(e),d)){p=!0;break}if(!p)return;const m=this._tileInfoView.getTileCoverage(t.state,0,\"smallest\"),{spans:f,lodInfo:_}=m,{level:b}=_,g=i(),T=[];if(this._renderPasses){const s=this._renderPasses[0];e(this._clippingInfos)&&(s.brushes[0].prepareState(t,this._clippingInfos[0]),s.brushes[0].drawMany(t,this._clippingInfos))}const v=this._backgroundTiles;let C,F=0;for(const{row:e,colFrom:t,colTo:s}of f)for(let r=t;r<=s;r++){if(F<v.length)C=v[F],C.key.set(b,e,_.normalizeCol(r),_.getWorldForColumn(r)),this._tileInfoView.getTileBounds(g,C.key,!1),C.bounds=g,C.coords[0]=g[0],C.coords[1]=g[3];else{const t=new o(b,e,_.normalizeCol(r),_.getWorldForColumn(r));C=new n(t,this._tileInfoView.getTileBounds(i(),t),[512,512],[4096,4096]),v.push(C)}C.setTransform(c,this._tileInfoView.getTileResolution(C.key)),T.push(C),F++}r.setStencilWriteMask(0),r.setColorMask(!0,!0,!0,!0),r.setStencilOp(7680,7680,7681),r.setStencilFunction(514,0,255);let w=!0;t.drawPhase===a.HITTEST&&(w=!1),r.setStencilTestEnabled(w);for(const e of s){const s=y.getLayerById(e);u(s,d)&&(t.styleLayerUID=s.uid,t.styleLayer=s,h.renderObjects(t,T,\"vtlBackground\"))}l.pool.release(m)}}export{p as VectorTileContainer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport e from\"../../../layers/support/TileInfo.js\";import l from\"./TileKey.js\";import s from\"./TileInfoView.js\";export default class extends s{constructor(){super(...arguments),this._fullCacheLodInfos=null,this._levelByScale={}}getTileParentId(e){const s=l.pool.acquire(e),t=0===s.level?null:l.getId(s.level-1,s.row>>1,s.col>>1,s.world);return l.pool.release(s),t}getTileCoverage(e,l,s){const t=super.getTileCoverage(e,l,s);if(!t)return t;const o=1<<t.lodInfo.level;return t.spans=t.spans.filter((e=>e.row>=0&&e.row<o)),t}scaleToLevel(e){if(this._fullCacheLodInfos||this._initializeFullCacheLODs(this._lodInfos),this._levelByScale[e])return this._levelByScale[e];{const l=this._fullCacheLodInfos;if(e>l[0].scale)return l[0].level;let s,t;for(let o=0;o<l.length-1;o++)if(t=l[o+1],e>t.scale)return s=l[o],s.level+(s.scale-e)/(s.scale-t.scale);return l[l.length-1].level}}_initializeFullCacheLODs(l){let s;if(0===l[0].level)s=l.map((e=>({level:e.level,resolution:e.resolution,scale:e.scale})));else{const l=this.tileInfo.size[0],t=this.tileInfo.spatialReference;s=e.create({size:l,spatialReference:t}).lods.map((e=>({level:e.level,resolution:e.resolution,scale:e.scale})))}for(let e=0;e<s.length;e++)this._levelByScale[s[e].scale]=s[e].level;this._fullCacheLodInfos=s}}\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import\"../../../core/has.js\";import{isNone as t}from\"../../../core/maybe.js\";import i from\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import{property as s}from\"../../../core/accessorSupport/decorators/property.js\";import{subclass as r}from\"../../../core/accessorSupport/decorators/subclass.js\";import a from\"../../../core/Error.js\";import\"../../../core/urlUtils.js\";import\"../../../core/uuid.js\";import\"../../../portal/support/resourceExtension.js\";import{reject as l,isAbortError as n,all as o,createAbortController as h}from\"../../../core/promiseUtils.js\";import u from\"../../../Graphic.js\";import y from\"../../../core/Handles.js\";import{create as c}from\"../../../geometry/support/aaBoundingRect.js\";import{diff as p,hasDiff as d}from\"../../../core/accessorSupport/diffUtils.js\";import _ from\"../engine/vectorTiles/style/StyleRepository.js\";import f from\"../tiling/TileQueue.js\";import{VectorTile as g}from\"../engine/vectorTiles/VectorTile.js\";import m from\"../../layers/LayerView.js\";import{LayerView2DMixin as T}from\"./LayerView2D.js\";import{TileHandler as v}from\"../engine/vectorTiles/TileHandler.js\";import{TileManager as C}from\"../engine/vectorTiles/TileManager.js\";import{VectorTileContainer as w}from\"../engine/vectorTiles/VectorTileContainer.js\";import Q from\"../tiling/TileInfoViewPOT.js\";const H=i.getLogger(\"esri.views.2d.layers.VectorTileLayerView2D\");let R=class extends(T(m)){constructor(){super(...arguments),this._styleChanges=[],this._handles=new y,this._fetchQueue=null,this._parseQueue=null,this._isTileHandlerReady=!1,this.fading=!1}initialize(){const e=this.layer.tileInfo;if(!(e&&e.spatialReference).equals(this.view.spatialReference))return void this.addResolvingPromise(l(new a(\"layerview:spatial-reference-incompatible\",\"The spatial reference of this layer does not meet the requirements of the view\",{layer:this.layer})));const{style:t,spriteUrl:i,glyphsUrl:s}=this.layer.currentStyleInfo;this._styleRepository=new _(t,{spriteUrl:i,glyphsUrl:s}),this._tileInfoView=new Q(this.layer.tileInfo,this.layer.fullExtent),this._vectorTileContainer=new w(this._tileInfoView),this._tileHandler=new v(this.layer,this._styleRepository,window.devicePixelRatio||1,null),this.container.addChild(this._vectorTileContainer),this.handles.add([this._vectorTileContainer.on(\"fade-start\",(()=>{this.fading=!0})),this._vectorTileContainer.on(\"fade-complete\",(()=>{this.fading=!1,this.requestUpdate()}))])}destroy(){var e;this._stop(),this.container.removeAllChildren(),this._vectorTileContainer&&(this._vectorTileContainer.destroy(),this._vectorTileContainer=null),null==(e=this._tileHandler)||e.destroy(),this._tileHandler=null}async hitTest(e,t){if(this.suspended||!this._tileHandlerPromise)return null;await this._tileHandlerPromise;const i=await this._vectorTileContainer.hitTest(e,t);if(!i||0===i.length)return null;const s=i[0]-1,r=this._styleRepository,a=r.getStyleLayerByUID(s);if(!a)return null;const l=r.getStyleLayerIndex(a.id),n=new u({attributes:{layerId:l,layerName:a.id,layerUID:s}});return n.layer=this.layer,n.sourceLayer=this.layer,n}update(e){if(this._tileHandlerPromise&&this._isTileHandlerReady)return e.pixelRatio!==this._tileHandler.devicePixelRatio?(this._start(),void(this._tileHandler.devicePixelRatio=e.pixelRatio)):void(this._styleChanges.length>0?this._tileHandlerPromise=this._applyStyleChanges():(this._fetchQueue.pause(),this._parseQueue.pause(),this._fetchQueue.state=e.state,this._parseQueue.state=e.state,this._tileManager.update(e)||this.requestUpdate(),this._parseQueue.resume(),this._fetchQueue.resume()))}attach(){this._start(),this._handles.add([this.layer.on(\"paint-change\",(e=>{if(e.isDataDriven)this._styleChanges.push({type:0,data:e}),this.notifyChange(\"updating\"),this.requestUpdate();else{const t=this._styleRepository,i=t.getLayerById(e.layerName);if(!i)return;const s=3===i.type;t.setPaintProperties(e.layerName,e.paint),s&&this._vectorTileContainer.restartDeclutter(),this._vectorTileContainer.requestRender()}})),this.layer.on(\"layout-change\",(e=>{const i=this._styleRepository,s=i.getLayerById(e.layer);if(!s)return;const r=p(s.layout,e.layout);if(!t(r)){if(d(r,\"visibility\")&&1===function(e){if(t(e))return 0;switch(e.type){case\"partial\":return Object.keys(e.diff).length;case\"complete\":return Math.max(Object.keys(e.oldValue).length,Object.keys(e.newValue).length);case\"collection\":return Object.keys(e.added).length+Object.keys(e.changed).length+Object.keys(e.removed).length}}(r))return i.setLayoutProperties(e.layer,e.layout),3===s.type&&this._vectorTileContainer.restartDeclutter(),void this._vectorTileContainer.requestRender();this._styleChanges.push({type:1,data:e}),this.notifyChange(\"updating\"),this.requestUpdate()}})),this.layer.on(\"style-layer-visibility-change\",(e=>{const t=this._styleRepository,i=t.getLayerById(e.layer);i&&(t.setStyleLayerVisibility(e.layer,e.visibility),3===i.type&&this._vectorTileContainer.restartDeclutter(),this._vectorTileContainer.requestRender())})),this.layer.on(\"style-layer-change\",(e=>{this._styleChanges.push({type:2,data:e}),this.notifyChange(\"updating\"),this.requestUpdate()})),this.layer.on(\"delete-style-layer\",(e=>{this._styleChanges.push({type:3,data:e}),this.notifyChange(\"updating\"),this.requestUpdate()})),this.layer.on(\"load-style\",(()=>this._loadStyle()))])}detach(){this._stop(),this._handles.removeAll()}moveStart(){this.requestUpdate()}viewChange(){this.requestUpdate()}moveEnd(){this.requestUpdate()}canResume(){let e=super.canResume();const t=this.layer;if(e&&t.currentStyleInfo){const i=this.view.scale,s=t.currentStyleInfo;if(s&&s.layerDefinition){const t=s.layerDefinition;t.minScale&&t.minScale<i&&(e=!1),t.maxScale&&t.maxScale>i&&(e=!1)}}return e}isUpdating(){const e=this._vectorTileContainer.children;return!this._isTileHandlerReady||!this._fetchQueue||!this._parseQueue||this._fetchQueue.updating||this._parseQueue.updating||e.length>0&&e.filter((e=>e.invalidating)).length>0||this.fading}acquireTile(e){const t=this._createVectorTile(e);return this._tileHandlerPromise.then((()=>{this._fetchQueue.push(t.key).then((e=>this._parseQueue.push({key:t.key,data:e}))).then((e=>{t.once(\"attach\",(()=>this.requestUpdate())),e&&(t.setData(e.tileData),this.requestUpdate(),this.notifyChange(\"updating\"))})).catch((e=>{this.notifyChange(\"updating\"),n(e)||H.error(e)}))})),t}releaseTile(e){const t=e.key.id;this._fetchQueue.abort(t),this._parseQueue.abort(t),this.requestUpdate()}_start(){if(this._stop(),this._tileManager=new C({acquireTile:e=>this.acquireTile(e),releaseTile:e=>this.releaseTile(e),tileInfoView:this._tileInfoView},this._vectorTileContainer),!this.layer.currentStyleInfo)return;const e=new AbortController,t=this._tileHandler.start({signal:e.signal}).then((()=>{this._fetchQueue=new f({tileInfoView:this._tileInfoView,process:(e,t)=>this._getTileData(e,t),concurrency:15}),this._parseQueue=new f({tileInfoView:this._tileInfoView,process:(e,t)=>this._parseTileData(e,t),concurrency:8}),this.requestUpdate(),this._isTileHandlerReady=!0}));this._tileHandler.spriteMosaic.then((e=>{this._vectorTileContainer.setStyleResources(e,this._tileHandler.glyphMosaic,this._styleRepository),this.requestUpdate()})),this._tileHandlerAbortController=e,this._tileHandlerPromise=t}_stop(){if(!this._tileHandlerAbortController||!this._vectorTileContainer)return;const e=this._tileHandlerAbortController;e&&e.abort(),this._tileHandlerPromise=null,this._isTileHandlerReady=!1,this._fetchQueue&&(this._fetchQueue.destroy(),this._fetchQueue=null),this._parseQueue&&(this._parseQueue.destroy(),this._parseQueue=null),this._tileManager&&(this._tileManager.destroy(),this._tileManager=null),this._vectorTileContainer.removeAllChildren()}async _getTileData(e,t){const i=await this._tileHandler.fetchTileData(e,t);return this.notifyChange(\"updating\"),i}async _parseTileData(e,t){return this._tileHandler.parseTileData(e,t)}async _applyStyleChanges(){this._isTileHandlerReady=!1,this._fetchQueue.pause(),this._parseQueue.pause(),this._fetchQueue.clear(),this._parseQueue.clear(),this._tileManager.clearCache();const e=this._styleChanges;try{await this._tileHandler.updateStyle(e)}catch(e){H.error(\"error applying vector-tiles style update\",e.message),this._fetchQueue.resume(),this._parseQueue.resume(),this._isTileHandlerReady=!0}const t=this._styleRepository,i=[];e.forEach((e=>{if(3!==e.type)return;const s=e.data,r=t.getLayerById(s.layerName);r&&i.push(r.uid)}));const s=[];let r;e.forEach((e=>{const i=e.type,a=e.data;switch(i){case 0:t.setPaintProperties(a.layer,a.paint),r=a.layer;break;case 1:t.setLayoutProperties(a.layer,a.layout),r=a.layer;break;case 3:return void t.deleteStyleLayer(a.layerName);case 2:t.setStyleLayer(a.layer,a.index),r=a.layer.id}const l=t.getLayerById(r);l&&s.push(l.uid)}));const a=this._vectorTileContainer.children;if(i.length>0){this._vectorTileContainer.deleteStyleLayers(i);for(const e of a)e.deleteLayerData(i)}if(this._fetchQueue.resume(),this._parseQueue.resume(),s.length>0){const e=[];for(const t of a){const i=this._fetchQueue.push(t.key).then((e=>this._parseQueue.push({key:t.key,data:e,styleLayerUIDs:s}))).then((e=>t.setData(e.tileData)));e.push(i)}await o(e)}this._styleChanges=[],this._isTileHandlerReady=!0,this.notifyChange(\"updating\"),this.requestUpdate()}async _loadStyle(){const{style:e,spriteUrl:t,glyphsUrl:i}=this.layer.currentStyleInfo;this._isTileHandlerReady=!1,this._fetchQueue.pause(),this._parseQueue.pause(),this._fetchQueue.clear(),this._parseQueue.clear(),this.notifyChange(\"updating\"),this._styleRepository=new _(e,{spriteUrl:t,glyphsUrl:i}),this._vectorTileContainer.destroy(),this._tileManager.clear(),this._tileHandlerAbortController.abort(),this._tileHandlerAbortController=h();const{signal:s}=this._tileHandlerAbortController;if(this._tileHandlerPromise=this._tileHandler.setStyle(this._styleRepository,e),await this._tileHandlerPromise,s.aborted)return this._fetchQueue.resume(),this._parseQueue.resume(),this._isTileHandlerReady=!0,this.notifyChange(\"updating\"),void this.requestUpdate();const r=await this._tileHandler.spriteMosaic;this._vectorTileContainer.setStyleResources(r,this._tileHandler.glyphMosaic,this._styleRepository),this._fetchQueue.resume(),this._parseQueue.resume(),this._isTileHandlerReady=!0,this.notifyChange(\"updating\"),this.requestUpdate()}_createVectorTile(e){const t=this._tileInfoView.getTileBounds(c(),e);return new g(e,this._styleRepository,t,[512,512])}};e([s()],R.prototype,\"_fetchQueue\",void 0),e([s()],R.prototype,\"_parseQueue\",void 0),e([s()],R.prototype,\"_isTileHandlerReady\",void 0),e([s({dependsOn:[\"view.scale\",\"layer.currentStyleInfo\"]})],R.prototype,\"suspended\",void 0),e([s()],R.prototype,\"fading\",void 0),e([s({dependsOn:[\"_isTileHandlerPromiseFulfilled\",\"_parseQueue.updating\",\"_parseQueue.updating\",\"fading\"]})],R.prototype,\"updating\",void 0),R=e([r(\"esri.views.2d.layers.VectorTileLayerView2D\")],R);var U=R;export default U;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import t from\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import i from\"../../core/Accessor.js\";import n from\"../../core/Evented.js\";import{IdentifiableMixin as o}from\"../../core/Identifiable.js\";import{EsriPromiseMixin as l}from\"../../core/Promise.js\";import{HandleOwnerMixin as a}from\"../../core/HandleOwner.js\";let d=class extends(a(o(l(n.EventedMixin(i))))){constructor(e){super(e),this.layer=null,this.parent=null}initialize(){this.when().catch((e=>{if(\"layerview:create-error\"!==e.name){const r=this.layer&&this.layer.id||\"no id\",s=this.layer&&this.layer.title||\"no title\";throw t.getLogger(this.declaredClass).error(\"#resolve()\",`Failed to resolve layer view (layer title: '${s}', id: '${r}')`,e),e}}))}get fullOpacity(){const e=e=>null==e?1:e;return e(this.get(\"layer.opacity\"))*e(this.get(\"parent.fullOpacity\"))}get suspended(){return!this.canResume()}get suspendInfo(){return this.getSuspendInfo()}get legendEnabled(){return!this.suspended&&!0===this.layer.legendEnabled}get updating(){return!!(this.updatingHandles&&this.updatingHandles.updating||this.isUpdating())}get visible(){return!0===this.get(\"layer.visible\")}set visible(e){void 0!==e?this._override(\"visible\",e):this._clearOverride(\"visible\")}canResume(){return!this.get(\"parent.suspended\")&&this.get(\"view.ready\")&&this.get(\"layer.loaded\")&&this.visible||!1}getSuspendInfo(){const e=this.parent&&this.parent.suspended?this.parent.suspendInfo:{};return this.view&&this.view.ready||(e.viewNotReady=!0),this.layer&&this.layer.loaded||(e.layerNotLoaded=!0),this.visible||(e.layerInvisible=!0),e}isUpdating(){return!1}};e([r({dependsOn:[\"layer.opacity\",\"parent.fullOpacity\"]})],d.prototype,\"fullOpacity\",null),e([r()],d.prototype,\"layer\",void 0),e([r()],d.prototype,\"parent\",void 0),e([r({readOnly:!0,dependsOn:[\"visible\",\"layer.loaded\",\"parent.suspended\",\"view?.ready\"]})],d.prototype,\"suspended\",null),e([r({readOnly:!0,dependsOn:[\"visible\",\"layer.loaded\",\"parent.suspended\",\"view?.ready\"]})],d.prototype,\"suspendInfo\",null),e([r({readOnly:!0,dependsOn:[\"suspended\",\"layer.legendEnabled?\"]})],d.prototype,\"legendEnabled\",null),e([r({type:Boolean,dependsOn:[\"updatingHandles.updating\"],readOnly:!0})],d.prototype,\"updating\",null),e([r({dependsOn:[\"layer.visible\"]})],d.prototype,\"visible\",null),d=e([s(\"esri.views.layers.LayerView\")],d);var p=d;export default p;\n"],"sourceRoot":""}