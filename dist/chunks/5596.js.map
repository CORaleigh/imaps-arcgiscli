{"version":3,"sources":["webpack://imaps/./node_modules/@arcgis/core/renderers/support/clickToleranceUtils.js","webpack://imaps/./node_modules/@arcgis/core/views/draw/support/input/GraphicMoverEvents.js","webpack://imaps/./node_modules/@arcgis/core/views/draw/support/GraphicMover.js","webpack://imaps/./node_modules/@arcgis/core/views/draw/support/Reshape.js","webpack://imaps/./node_modules/@arcgis/core/views/draw/support/settings.js","webpack://imaps/./node_modules/@arcgis/core/views/interactive/GraphicManipulator.js","webpack://imaps/./node_modules/@arcgis/core/views/support/drapedUtils.js"],"names":["t","e","xoffset","Math","max","abs","yoffset","stops","length","n","r","s","size","renderer","event","pointerType","o","filter","type","map","maxSize","minSize","f","floor","visualVariables","symbol","uniqueValueInfos","forEach","classBreakInfos","i","h","this","graphic","index","x","y","viewEvent","c","a","p","allGraphics","dx","dy","totalDx","totalDy","defaultPrevented","k","super","_activeGraphic","_dragEvent","_handles","_hoverGraphic","_initialDragGeometry","_viewHandles","_manipulators","callbacks","enableMoveAllGraphics","graphics","view","_setUpManipulators","add","on","_clickHandler","_doubleClickHandler","_pointerDownHandler","_pointerMoveHandler","_pointerUpHandler","_dragHandler","_keyDownHandler","reset","destroy","removeAll","get","set","_findTargetGraphic","indexOf","emit","onGraphicClick","onGraphicDoubleClick","onGraphicPointerDown","onGraphicPointerUp","onGraphicPointerOut","onGraphicPointerOver","action","geometry","stopPropagation","origin","onGraphicMoveStart","onGraphicMove","onGraphicMoveStop","key","state","Number","MAX_VALUE","intersectionDistance","prototype","readOnly","dependsOn","mover","selected","b","G","S","w","M","added","removed","H","oldGraphic","vertices","E","I","removeVertex","R","C","default","style","vertex","color","outline","outlineColor","width","hover","hoverSize","hoverColor","hoverOutlineColor","midpoints","midpoint","j","_graphicAttributes","esriSketchTool","_mover","_totalDx","_totalDy","enableMidpoints","handleGraphics","layer","midpointGraphics","midpointSymbol","selectedHandles","_setup","refresh","_clearSelection","_resetGraphics","_reset","_set","push","concat","includes","_removeVertex","_setupGraphics","_setupMover","_resetGraphicStateVars","cursor","removeMany","clone","pop","_createHandleGraphics","_createMidpointGraphics","_saveRelatedIndices","addMany","symbols","spatialReference","attributes","pathIndex","pointIndex","d","m","v","_","pointIndexStart","pointIndexEnd","relatedGraphicIndices","_onGraphicClickCallback","_onGraphicMoveStartCallback","_onGraphicMoveCallback","_onGraphicMoveStopCallback","_onGraphicPointerOverCallback","_onGraphicPointerOutCallback","clearSelection","_isMidpoint","button","_createHandleFromMidpoint","_emitVertexAddEvent","_isHandle","native","shiftKey","_removeFromSelection","_addToSelection","visible","_emitMoveStartEvent","_emitReshapeStartEvent","_emitMoveEvent","_syncGeometryAfterHandleMove","_emitReshapeEvent","_syncGraphicsWithGeometry","_emitMoveStopEvent","_emitReshapeStopEvent","paths","rings","_updateHandleGraphicLocations","_updateMidpointGraphicLocations","l","_isSelected","_updateHoverCursor","splice","coordinates","componentIndex","vertexIndex","_emitSelectEvent","_emitDeselectEvent","repeat","_removeHandles","_emitVertexRemoveEvent","onMoveStart","onMove","onMoveStop","onReshapeStart","onReshape","onReshapeStop","onVertexSelect","onVertexDeselect","onVertexAdd","onVertexRemove","value","main","selectedOutline","hoverOutline","secondary","secondaryOutline","transparent","stagedColor","stagedOutlineColor","center","fill","line","reshapeGraphics","transformGraphics","interactive","selectable","grabbable","dragging","events","_circleCollisionCache","_graphicSymbolChangedHandle","_originalSymbol","attachSymbolChanged","error","elevationInfo","offset","mode","_get","_updateGraphicSymbol","detachSymbolChanged","_resetGraphicSymbol","_intersectDistance2D","_intersectDistance3D","remove","watch","focusedSymbol","_focused","originalPoint","equals","mapPoint","radiusPx","toScreen","toMap","include","renderSpatialReference","camera","eye","constructOnly","nonNullable","resolution","overlayPixelSizeInMapUnits","basemapSpatialReference","xmin","min","ymin","xmax","ymax","intersects"],"mappings":"oGAIA,SAASA,EAAEA,EAAEC,GAAG,OAAOA,EAAE,YAAYA,GAAGA,EAAEC,QAAQC,KAAKC,IAAIJ,EAAEG,KAAKE,IAAIJ,EAAEC,UAAU,YAAYD,GAAGA,EAAEK,QAAQH,KAAKC,IAAIJ,EAAEG,KAAKE,IAAIJ,EAAEK,SAAS,IAAIN,EAAEA,EAAE,SAASC,EAAED,EAAEC,GAAG,MAAM,iBAAiBD,EAAEA,EAAEA,GAAGA,EAAEO,OAAOP,EAAEO,MAAMC,OAAO,SAASR,GAAG,IAAIC,EAAE,EAAEQ,EAAE,EAAE,IAAI,IAAIC,EAAE,EAAEA,EAAEV,EAAEQ,OAAOE,IAAI,CAAC,MAAMC,EAAEX,EAAEU,GAAGE,KAAK,iBAAiBD,IAAIV,GAAGU,EAAEF,KAAK,OAAOR,EAAEQ,EAA9G,CAAiHT,EAAEO,OAAON,EAAE,SAASQ,EAAEA,GAAG,MAAMC,EAAED,GAAGA,EAAEI,SAASF,EAAE,WAAWF,GAAGA,EAAEK,OAAOL,EAAEK,MAAMC,aAAa,EAAE,EAAE,IAAIL,EAAE,OAAOC,EAAE,MAAMK,EAAE,oBAAoBN,EAAE,SAASV,EAAES,GAAG,IAAIA,EAAE,OAAOT,EAAE,MAAMU,EAAED,EAAEQ,QAAQjB,GAAG,SAASA,EAAEkB,OAAOC,KAAKV,IAAI,MAAMW,QAAQV,EAAEW,QAAQV,GAAGF,EAAE,OAAOR,EAAES,EAAEV,GAAGC,EAAEU,EAAEX,IAAI,KAAK,IAAIW,EAAE,EAAE,MAAMK,EAAEN,EAAEF,OAAO,GAAG,IAAIQ,EAAE,OAAOhB,EAAE,IAAI,IAAIA,EAAE,EAAEA,EAAEgB,EAAEhB,IAAIW,GAAGD,EAAEV,GAAG,MAAMsB,EAAEnB,KAAKoB,MAAMZ,EAAEK,GAAG,OAAOb,KAAKC,IAAIkB,EAAEtB,GAAtP,CAA0PW,EAAED,EAAEc,iBAAiBb,EAAE,GAAG,WAAWD,EAAEQ,KAAK,OAAOlB,EAAEgB,EAAEN,EAAEe,QAAQ,GAAG,iBAAiBf,EAAEQ,KAAK,CAAC,IAAIjB,EAAEe,EAAE,OAAON,EAAEgB,iBAAiBC,SAASlB,IAAIR,EAAED,EAAEC,EAAEQ,EAAEgB,WAAWxB,EAAE,GAAG,iBAAiBS,EAAEQ,KAAK,CAAC,IAAIjB,EAAEe,EAAE,OAAON,EAAEkB,gBAAgBD,SAASlB,IAAIR,EAAED,EAAEC,EAAEQ,EAAEgB,WAAWxB,EAAE,OAAOS,EAAEQ,KAAKF,E,gRCA/9B,MAAM,EAAE,YAAYhB,EAAE6B,EAAElB,EAAEmB,EAAE7B,GAAG8B,KAAKC,QAAQhC,EAAE+B,KAAKE,MAAMJ,EAAEE,KAAKG,EAAEvB,EAAEoB,KAAKI,EAAEL,EAAEC,KAAKK,UAAUnC,EAAE8B,KAAKb,KAAK,iBAAiB,MAAM,EAAE,YAAYlB,EAAE6B,EAAElB,EAAEmB,EAAE7B,GAAG8B,KAAKC,QAAQhC,EAAE+B,KAAKE,MAAMJ,EAAEE,KAAKG,EAAEvB,EAAEoB,KAAKI,EAAEL,EAAEC,KAAKK,UAAUnC,EAAE8B,KAAKb,KAAK,wBAAwB,MAAM,EAAE,YAAYlB,EAAE6B,EAAElB,EAAEmB,EAAE7B,EAAES,EAAE2B,EAAEC,EAAE7B,EAAE8B,GAAGR,KAAKC,QAAQhC,EAAE+B,KAAKS,YAAYX,EAAEE,KAAKE,MAAMtB,EAAEoB,KAAKG,EAAEJ,EAAEC,KAAKI,EAAElC,EAAE8B,KAAKU,GAAG/B,EAAEqB,KAAKW,GAAGL,EAAEN,KAAKY,QAAQL,EAAEP,KAAKa,QAAQnC,EAAEsB,KAAKK,UAAUG,EAAER,KAAKc,kBAAiB,EAAGd,KAAKb,KAAK,qBAAqB,iBAAiBa,KAAKc,kBAAiB,GAAI,MAAM,EAAE,YAAY7C,EAAE6B,EAAElB,EAAEmB,EAAE7B,EAAES,EAAE2B,EAAEC,EAAE7B,EAAE8B,GAAGR,KAAKC,QAAQhC,EAAE+B,KAAKS,YAAYX,EAAEE,KAAKE,MAAMtB,EAAEoB,KAAKG,EAAEJ,EAAEC,KAAKI,EAAElC,EAAE8B,KAAKU,GAAG/B,EAAEqB,KAAKW,GAAGL,EAAEN,KAAKY,QAAQL,EAAEP,KAAKa,QAAQnC,EAAEsB,KAAKK,UAAUG,EAAER,KAAKc,kBAAiB,EAAGd,KAAKb,KAAK,eAAe,iBAAiBa,KAAKc,kBAAiB,GAAI,MAAM,EAAE,YAAY7C,EAAE6B,EAAElB,EAAEmB,EAAE7B,EAAES,EAAE2B,EAAEC,EAAE7B,EAAE8B,GAAGR,KAAKC,QAAQhC,EAAE+B,KAAKS,YAAYX,EAAEE,KAAKE,MAAMtB,EAAEoB,KAAKG,EAAEJ,EAAEC,KAAKI,EAAElC,EAAE8B,KAAKU,GAAG/B,EAAEqB,KAAKW,GAAGL,EAAEN,KAAKY,QAAQL,EAAEP,KAAKa,QAAQnC,EAAEsB,KAAKK,UAAUG,EAAER,KAAKc,kBAAiB,EAAGd,KAAKb,KAAK,oBAAoB,iBAAiBa,KAAKc,kBAAiB,GAAI,MAAM,EAAE,YAAY7C,EAAE6B,EAAElB,EAAEmB,EAAE7B,GAAG8B,KAAKC,QAAQhC,EAAE+B,KAAKE,MAAMJ,EAAEE,KAAKG,EAAEvB,EAAEoB,KAAKI,EAAEL,EAAEC,KAAKK,UAAUnC,EAAE8B,KAAKb,KAAK,wBAAwB,MAAMmB,EAAE,YAAYrC,EAAE6B,EAAElB,EAAEmB,EAAE7B,GAAG8B,KAAKC,QAAQhC,EAAE+B,KAAKE,MAAMJ,EAAEE,KAAKG,EAAEvB,EAAEoB,KAAKI,EAAEL,EAAEC,KAAKK,UAAUnC,EAAE8B,KAAKb,KAAK,uBAAuB,MAAMoB,EAAE,YAAYtC,EAAE6B,EAAElB,EAAEmB,EAAE7B,GAAG8B,KAAKC,QAAQhC,EAAE+B,KAAKE,MAAMJ,EAAEE,KAAKG,EAAEvB,EAAEoB,KAAKI,EAAEL,EAAEC,KAAKK,UAAUnC,EAAE8B,KAAKb,KAAK,wBAAwB,MAAMT,EAAE,YAAYT,EAAE6B,EAAElB,EAAEmB,EAAE7B,GAAG8B,KAAKC,QAAQhC,EAAE+B,KAAKE,MAAMJ,EAAEE,KAAKG,EAAEvB,EAAEoB,KAAKI,EAAEL,EAAEC,KAAKK,UAAUnC,EAAE8B,KAAKb,KAAK,sBCAnU,IAAI4B,EAAE,cAAc,oBAAkB,YAAYjB,GAAGkB,MAAMlB,GAAGE,KAAKiB,eAAe,KAAKjB,KAAKkB,WAAW,KAAKlB,KAAKmB,SAAS,IAAI,IAAEnB,KAAKoB,cAAc,KAAKpB,KAAKqB,qBAAqB,KAAKrB,KAAKsB,aAAa,IAAI,IAAEtB,KAAKuB,cAAc,GAAGvB,KAAKb,KAAK,gBAAgBa,KAAKwB,UAAU,CAAC,mBAAmB,yBAAyB,uBAAuB,kBAAkB,sBAAsB,yBAAyB,wBAAwB,yBAAyB,wBAAwBxB,KAAKyB,uBAAsB,EAAGzB,KAAK0B,SAAS,GAAG1B,KAAK2B,KAAK,KAAK,aAAa3B,KAAK4B,qBAAqB5B,KAAKmB,SAASU,IAAI,EAAC,WAAE7B,KAAK,CAAC,WAAW,oBAAmB,KAAMA,KAAK4B,yBAAwB,cAAE5B,KAAK,cAAa,KAAMA,KAAKsB,aAAaO,IAAI,CAAC7B,KAAK2B,KAAKG,GAAG,mBAAmBhC,GAAGE,KAAK+B,cAAcjC,IAAI,UAAQE,KAAK2B,KAAKG,GAAG,gBAAgBhC,GAAGE,KAAKgC,oBAAoBlC,IAAI,UAAQE,KAAK2B,KAAKG,GAAG,gBAAgBhC,GAAGE,KAAKiC,oBAAoBnC,IAAI,UAAQE,KAAK2B,KAAKG,GAAG,gBAAgBhC,GAAGE,KAAKkC,oBAAoBpC,IAAI,UAAQE,KAAK2B,KAAKG,GAAG,cAAchC,GAAGE,KAAKmC,kBAAkBrC,IAAI,UAAQE,KAAK2B,KAAKG,GAAG,QAAQhC,GAAGE,KAAKoC,aAAatC,IAAI,UAAQE,KAAK2B,KAAKG,GAAG,YAAYhC,GAAGE,KAAKqC,gBAAgBvC,IAAI,iBAAe,UAAUE,KAAKsC,QAAQtC,KAAKuB,cAAc3B,SAASE,GAAGA,EAAEyC,YAAYvC,KAAKuB,cAAc,KAAKvB,KAAKsB,aAAakB,YAAYxC,KAAKmB,SAASqB,YAAY,YAAY,MAAM1C,IAAIE,KAAKyC,IAAI,cAAcxE,IAAI+B,KAAKyC,IAAI,mBAAmBvE,EAAE8B,KAAKiB,eAAe,OAAOnB,GAAG7B,EAAEC,EAAE,SAAS,SAAS4B,EAAE,QAAQ,WAAW,QAAQE,KAAKiB,eAAe,KAAKjB,KAAKoB,cAAc,KAAKpB,KAAKkB,WAAW,KAAK,eAAepB,EAAE7B,GAAG,MAAMC,EAAE8B,KAAK0B,SAAS5B,GAAG5B,GAAGA,EAAEwE,IAAI,WAAWzE,GAAG,cAAc6B,GAAG,MAAM7B,EAAE+B,KAAK2C,oBAAmB,QAAE7C,IAAI,GAAG7B,EAAE,CAAC,MAAMC,EAAE,IAAI,EAAED,EAAE+B,KAAK0B,SAASkB,QAAQ3E,GAAG6B,EAAEK,EAAEL,EAAEM,EAAEN,GAAGE,KAAK6C,KAAK,gBAAgB3E,GAAG8B,KAAKwB,UAAUsB,gBAAgB9C,KAAKwB,UAAUsB,eAAe5E,IAAI,oBAAoB4B,GAAG,MAAM7B,EAAE+B,KAAK2C,oBAAmB,QAAE7C,IAAI,GAAG7B,EAAE,CAAC,MAAMC,EAAE,IAAI,EAAED,EAAE+B,KAAK0B,SAASkB,QAAQ3E,GAAG6B,EAAEK,EAAEL,EAAEM,EAAEN,GAAGE,KAAK6C,KAAK,uBAAuB3E,GAAG8B,KAAKwB,UAAUuB,sBAAsB/C,KAAKwB,UAAUuB,qBAAqB7E,IAAI,oBAAoB4B,GAAG,MAAM7B,EAAE+B,KAAK2C,oBAAmB,QAAE7C,IAAI,GAAG7B,EAAE,CAAC+B,KAAKiB,eAAehD,EAAE,MAAMkC,EAAEjC,EAAEkC,EAAEzB,GAAGmB,EAAElB,EAAE,IAAI,EAAEX,EAAE+B,KAAK0B,SAASkB,QAAQ3E,GAAGC,EAAES,EAAEmB,GAAGE,KAAK6C,KAAK,uBAAuBjE,GAAGoB,KAAKwB,UAAUwB,sBAAsBhD,KAAKwB,UAAUwB,qBAAqBpE,QAAQoB,KAAKiB,eAAe,KAAK,kBAAkBnB,GAAG,GAAGE,KAAKiB,eAAe,CAAC,MAAMd,EAAElC,EAAEmC,EAAElC,GAAG4B,EAAEnB,EAAEqB,KAAK0B,SAASkB,QAAQ5C,KAAKiB,gBAAgBrC,EAAE,IAAI,EAAEoB,KAAKiB,eAAetC,EAAEV,EAAEC,EAAE4B,GAAGE,KAAK6C,KAAK,qBAAqBjE,GAAGoB,KAAKwB,UAAUyB,oBAAoBjD,KAAKwB,UAAUyB,mBAAmBrE,IAAI,oBAAoBkB,GAAG,GAAGE,KAAKkB,WAAW,OAAO,MAAMjD,EAAE+B,KAAK2C,oBAAmB,QAAE7C,IAAI,GAAG7B,EAAE,CAAC,MAAMkC,EAAEjC,EAAEkC,EAAEzB,GAAGmB,EAAE,GAAGE,KAAKoB,cAAc,CAAC,GAAGpB,KAAKoB,gBAAgBnD,EAAE,OAAO,MAAMW,EAAEoB,KAAK0B,SAASkB,QAAQ5C,KAAKoB,eAAeb,EAAE,IAAI,EAAEP,KAAK0B,SAAS9C,GAAGA,EAAEV,EAAES,EAAEmB,GAAGE,KAAKoB,cAAc,KAAKpB,KAAK6C,KAAK,sBAAsBtC,GAAGP,KAAKwB,UAAU0B,qBAAqBlD,KAAKwB,UAAU0B,oBAAoB3C,GAAG,MAAM3B,EAAEoB,KAAK0B,SAASkB,QAAQ3E,GAAGsC,EAAE,IAAI,EAAEtC,EAAEW,EAAEV,EAAES,EAAEmB,GAAG,OAAOE,KAAKoB,cAAcnD,EAAE+B,KAAK6C,KAAK,uBAAuBtC,QAAQP,KAAKwB,UAAU2B,sBAAsBnD,KAAKwB,UAAU2B,qBAAqB5C,IAAI,GAAGP,KAAKoB,cAAc,CAAC,MAAMjB,EAAElC,EAAEmC,EAAElC,GAAG4B,EAAEnB,EAAEqB,KAAK0B,SAASkB,QAAQ5C,KAAKoB,eAAexC,EAAE,IAAI,EAAEoB,KAAK0B,SAAS/C,GAAGA,EAAEV,EAAEC,EAAE4B,GAAGE,KAAKoB,cAAc,KAAKpB,KAAK6C,KAAK,sBAAsBjE,GAAGoB,KAAKwB,UAAU0B,qBAAqBlD,KAAKwB,UAAU0B,oBAAoBtE,IAAI,aAAakB,GAAG,GAAG,UAAUA,EAAEsD,SAASpD,KAAKkB,aAAalB,KAAKiB,iBAAiBjB,KAAKiB,eAAeoC,SAAS,OAAOvD,EAAEwD,kBAAkB,MAAMF,OAAOlF,EAAEiC,EAAExB,EAAEyB,EAAExB,GAAGkB,EAAES,EAAEP,KAAK0B,SAASkB,QAAQ5C,KAAKiB,gBAAgBhC,EAAEe,KAAKiB,eAAeoC,SAAStD,EAAEC,KAAKkB,WAAWvC,EAAEqB,KAAKkB,WAAWf,EAAE,EAAEG,EAAEN,KAAKkB,WAAWtC,EAAEoB,KAAKkB,WAAWd,EAAE,EAAE1B,EAAEC,EAAEmB,EAAEyD,OAAOpD,EAAEK,EAAE5B,EAAEkB,EAAEyD,OAAOnD,EAAE,GAAGJ,KAAKiB,eAAeoC,UAAS,QAAEpE,EAAEc,EAAEO,EAAEN,KAAK2B,MAAM3B,KAAKyB,uBAAuBzB,KAAK0B,SAAS9B,SAASE,IAAIA,IAAIE,KAAKiB,iBAAiBnB,EAAEuD,UAAS,QAAEvD,EAAEuD,SAAStD,EAAEO,EAAEN,KAAK2B,UAAU3B,KAAKkB,WAAWpB,EAAE,UAAU5B,EAAE,CAAC8B,KAAKqB,sBAAqB,QAAEpC,GAAG,MAAMf,EAAE,IAAI,EAAE8B,KAAKiB,eAAejB,KAAK0B,SAASnB,EAAE5B,EAAEC,EAAEmB,EAAEO,EAAE5B,EAAE8B,EAAEV,GAAGE,KAAK6C,KAAK,qBAAqB3E,GAAG8B,KAAKwB,UAAUgC,oBAAoBxD,KAAKwB,UAAUgC,mBAAmBtF,GAAGA,EAAE4C,kBAAkBd,KAAKiB,eAAeyB,IAAI,WAAWzD,QAAQ,GAAG,WAAWf,EAAE,CAAC,MAAMD,EAAE,IAAI,EAAE+B,KAAKiB,eAAejB,KAAK0B,SAASnB,EAAE5B,EAAEC,EAAEmB,EAAEO,EAAE5B,EAAE8B,EAAEV,GAAGE,KAAK6C,KAAK,eAAe5E,GAAG+B,KAAKwB,UAAUiC,eAAezD,KAAKwB,UAAUiC,cAAcxF,GAAGA,EAAE6C,kBAAkBd,KAAKiB,eAAeyB,IAAI,WAAWzD,OAAO,CAAC,MAAMhB,EAAE,IAAI,EAAE+B,KAAKiB,eAAejB,KAAK0B,SAASnB,EAAE5B,EAAEC,EAAEmB,EAAEO,EAAE5B,EAAE8B,EAAEV,GAAGE,KAAKkB,WAAW,KAAKlB,KAAKiB,eAAe,KAAKjB,KAAK6C,KAAK,oBAAoB5E,GAAG+B,KAAKwB,UAAUkC,mBAAmB1D,KAAKwB,UAAUkC,kBAAkBzF,GAAGA,EAAE6C,kBAAkBd,KAAK0B,SAASnB,GAAGmC,IAAI,WAAW1C,KAAKqB,sBAAsBrB,KAAKqB,qBAAqB,MAAM,gBAAgBvB,GAAG,MAAMA,EAAE6D,KAAK,MAAM7D,EAAE6D,KAAK,MAAM7D,EAAE6D,KAAK,WAAW3D,KAAK4D,OAAO9D,EAAEwD,kBAAkB,mBAAmBxD,GAAG,IAAI7B,EAAE,KAAKU,EAAEkF,OAAOC,UAAU,OAAO9D,KAAKuB,cAAc3B,SAAShB,IAAI,MAAM2B,EAAE3B,EAAEmF,qBAAqBjE,IAAG,QAAES,IAAIA,EAAE5B,IAAIA,EAAE4B,EAAEtC,EAAEW,EAAEqB,YAAYhC,EAAE,qBAAqB,MAAMyD,SAAS5B,EAAE6B,KAAK1D,GAAG+B,KAAKA,KAAKuB,cAAc3B,SAASE,GAAGA,EAAEyC,YAAYvC,KAAKuB,cAAc,MAAMzB,GAAGA,EAAErB,OAAOqB,EAAEV,KAAKU,GAAG,IAAI,IAAE,CAACG,QAAQH,EAAE6B,KAAK1D,MAAM,MAAK,OAAE,EAAC,WAAK8C,EAAEiD,UAAU,sBAAiB,IAAQ,OAAE,EAAC,QAAE,CAACC,UAAS,KAAMlD,EAAEiD,UAAU,YAAO,IAAQ,OAAE,EAAC,WAAKjD,EAAEiD,UAAU,iBAAY,IAAQ,OAAE,EAAC,WAAKjD,EAAEiD,UAAU,6BAAwB,IAAQ,OAAE,EAAC,WAAKjD,EAAEiD,UAAU,gBAAW,IAAQ,OAAE,EAAC,QAAE,CAACE,UAAU,CAAC,aAAa,kBAAkB,kBAAkBD,UAAS,KAAMlD,EAAEiD,UAAU,QAAQ,OAAM,OAAE,EAAC,WAAKjD,EAAEiD,UAAU,YAAO,GAAQjD,GAAE,OAAE,EAAC,OAAE,yCAAyCA,GAAW,QAAFA,G,sTCAloL,MAAMxB,EAAE,YAAYrB,EAAED,EAAEW,GAAGoB,KAAKC,QAAQ/B,EAAE8B,KAAKmE,MAAMlG,EAAE+B,KAAKoE,SAASxF,EAAEoB,KAAKb,KAAK,iBAAiB,MAAMgB,EAAE,YAAYjC,EAAED,EAAEW,GAAGoB,KAAKC,QAAQ/B,EAAE8B,KAAKmE,MAAMlG,EAAE+B,KAAKoE,SAASxF,EAAEoB,KAAKb,KAAK,WAAW,MAAMkF,EAAE,YAAYnG,EAAED,EAAEW,GAAGoB,KAAKC,QAAQ/B,EAAE8B,KAAKmE,MAAMlG,EAAE+B,KAAKoE,SAASxF,EAAEoB,KAAKb,KAAK,gBAAgB,MAAMmF,EAAE,YAAYpG,EAAED,EAAEW,GAAGoB,KAAKmE,MAAMjG,EAAE8B,KAAKU,GAAGzC,EAAE+B,KAAKW,GAAG/B,EAAEoB,KAAKb,KAAK,cAAc,MAAMoF,EAAE,YAAYrG,EAAED,EAAEW,GAAGoB,KAAKmE,MAAMjG,EAAE8B,KAAKU,GAAGzC,EAAE+B,KAAKW,GAAG/B,EAAEoB,KAAKb,KAAK,QAAQ,MAAMqF,EAAE,YAAYtG,EAAED,EAAEW,GAAGoB,KAAKmE,MAAMjG,EAAE8B,KAAKU,GAAGzC,EAAE+B,KAAKW,GAAG/B,EAAEoB,KAAKb,KAAK,aAAa,MAAMsF,EAAE,YAAYvG,GAAG8B,KAAK0E,MAAMxG,EAAE8B,KAAKb,KAAK,iBAAiB,MAAM4B,EAAE,YAAY7C,GAAG8B,KAAK2E,QAAQzG,EAAE8B,KAAKb,KAAK,mBAAmB,MAAMyF,EAAE,YAAY1G,EAAED,EAAEW,EAAEkB,GAAGE,KAAK0E,MAAMxG,EAAE8B,KAAKC,QAAQhC,EAAE+B,KAAK6E,WAAWjG,EAAEoB,KAAK8E,SAAShF,EAAEE,KAAKb,KAAK,cAAc,MAAM4F,EAAE,YAAY7G,EAAED,EAAEW,EAAEkB,GAAGE,KAAK2E,QAAQzG,EAAE8B,KAAKC,QAAQhC,EAAE+B,KAAK6E,WAAWjG,EAAEoB,KAAK8E,SAAShF,EAAEE,KAAKb,KAAK,iBAAiB,MAAM6F,EAAE,CAACC,aAAa,CAAC,YAAY,WAAWC,EAAE,oBAAkBC,EAAE,CAACL,SAAS,CAACM,QAAQ,IAAI,IAAE,CAACC,MAAM,SAASxG,KAAKqG,EAAEI,OAAOzG,KAAK0G,MAAML,EAAEI,OAAOC,MAAMC,QAAQ,CAACD,MAAML,EAAEI,OAAOG,aAAaC,MAAM,KAAKC,MAAM,IAAI,IAAE,CAACN,MAAM,SAASxG,KAAKqG,EAAEI,OAAOM,UAAUL,MAAML,EAAEI,OAAOO,WAAWL,QAAQ,CAACD,MAAML,EAAEI,OAAOQ,kBAAkBJ,MAAM,KAAKtB,SAAS,IAAI,IAAE,CAACiB,MAAM,SAASxG,KAAKqG,EAAEd,SAASvF,KAAK0G,MAAML,EAAEd,SAASmB,MAAMC,QAAQ,CAACD,MAAML,EAAEd,SAASqB,aAAaC,MAAM,MAAMK,UAAU,CAACX,QAAQ,IAAI,IAAE,CAACC,MAAM,SAASxG,KAAKqG,EAAEc,SAASnH,KAAK0G,MAAML,EAAEc,SAAST,MAAMC,QAAQ,CAACD,MAAML,EAAEc,SAASP,aAAaC,MAAM,KAAKC,MAAM,IAAI,IAAE,CAACN,MAAM,SAASxG,KAAKqG,EAAEc,SAASnH,KAAK0G,MAAML,EAAEc,SAAST,MAAMC,QAAQ,CAACD,MAAML,EAAEc,SAASP,aAAaC,MAAM,OAAO,IAAIO,EAAE,cAAc,oBAAkB,YAAY/H,GAAG8C,MAAM9C,GAAG8B,KAAKmB,SAAS,IAAI,IAAEnB,KAAKkG,mBAAmB,CAACC,eAAe,OAAOnG,KAAKoG,OAAO,KAAKpG,KAAKsB,aAAa,IAAI,IAAEtB,KAAKqG,SAAS,EAAErG,KAAKsG,SAAS,EAAEtG,KAAKwB,UAAU,CAAC,mBAAmB,cAAc,kBAAkB,gBAAgB,WAAW,eAAe,oBAAoBxB,KAAKuG,iBAAgB,EAAGvG,KAAKC,QAAQ,KAAKD,KAAKwG,eAAe,GAAGxG,KAAKyG,MAAM,KAAKzG,KAAK0G,iBAAiB,GAAG1G,KAAK2G,eAAe,IAAI,IAAE,CAACtB,MAAM,SAASxG,KAAK,EAAE0G,MAAM,CAAC,IAAI,IAAI,KAAKC,QAAQ,CAACD,MAAM,CAAC,IAAI,IAAI,KAAKG,MAAM,KAAK1F,KAAK4G,gBAAgB,GAAG5G,KAAKb,KAAK,UAAUa,KAAK2B,KAAK,KAAK,aAAa3B,KAAK6G,SAAS7G,KAAKmB,SAASU,IAAI,EAAC,cAAE7B,KAAK,cAAa,KAAM,MAAMyG,MAAMvI,EAAEyD,KAAK1D,GAAG+B,MAAK,OAAE/B,EAAEC,GAAG8B,KAAKsB,aAAaO,IAAI,CAAC5D,EAAE6D,GAAG,YAAY5D,GAAG8B,KAAKqC,gBAAgBnE,IAAI,gBAAa,cAAE8B,KAAK,WAAU,IAAKA,KAAK8G,aAAY,cAAE9G,KAAK,SAAQ,CAAE9B,EAAED,KAAKA,IAAI+B,KAAK+G,kBAAkB/G,KAAKgH,eAAe/I,IAAI+B,KAAK8G,cAAa,cAAE9G,KAAK,mBAAkB,KAAMA,KAAK8G,eAAe,UAAU9G,KAAKiH,SAASjH,KAAKoG,QAAQpG,KAAKoG,OAAO7D,UAAUvC,KAAKoG,OAAO,KAAKpG,KAAKmB,SAASqB,YAAYxC,KAAKmB,SAAS,KAAKnB,KAAKsB,aAAakB,YAAYxC,KAAKsB,aAAa,KAAK,YAAY,MAAMpD,IAAI8B,KAAKyC,IAAI,cAAcxE,KAAK+B,KAAKyC,IAAI,aAAazC,KAAKyC,IAAI,UAAU,OAAOvE,GAAGD,EAAE,SAASC,EAAE,QAAQ,WAAW,YAAYA,GAAG,MAAM6H,UAAU9H,EAAEkH,EAAEY,UAAUjB,SAASlG,EAAEuG,EAAEL,UAAU5G,GAAG,GAAG8B,KAAKkH,KAAK,UAAU,CAACnB,UAAU9H,EAAE6G,SAASlG,IAAI,YAAYV,GAAG,MAAMD,EAAE,GAAG,OAAO+B,KAAKC,SAAShC,EAAEkJ,KAAKnH,KAAKC,SAAShC,EAAEmJ,OAAOpH,KAAKwG,eAAexG,KAAK0G,kBAAkBzI,EAAEQ,QAAQR,EAAEoJ,SAASnJ,GAAG,UAAU8B,KAAKiH,SAASjH,KAAK6G,SAAS,QAAQ7G,KAAKC,QAAQ,KAAK,iBAAiBD,KAAK+G,kBAAkB,wBAAwB/G,KAAK4G,gBAAgBnI,QAAQuB,KAAKsH,cAActH,KAAK4G,iBAAiB,SAAS5G,KAAKC,SAASD,KAAKyG,QAAQzG,KAAKuH,iBAAiBvH,KAAKwH,eAAe,SAASxH,KAAK+G,kBAAkB/G,KAAKyH,yBAAyBzH,KAAKgH,iBAAiBhH,KAAKoG,QAAQpG,KAAKoG,OAAO7D,UAAUvC,KAAKoG,OAAO,KAAKpG,KAAK2B,KAAK+F,OAAO,UAAU,yBAAyB1H,KAAKqG,SAAS,EAAErG,KAAKsG,SAAS,EAAE,eAAepI,GAAG,MAAMD,EAAEC,GAAG8B,KAAKyG,MAAMxI,IAAIA,EAAE0J,WAAW3H,KAAKwG,gBAAgBvI,EAAE0J,WAAW3H,KAAK0G,mBAAmB1G,KAAKwG,eAAe5G,SAAS1B,GAAGA,EAAEqE,YAAYvC,KAAK0G,iBAAiB9G,SAAS1B,GAAGA,EAAEqE,YAAYvC,KAAKkH,KAAK,iBAAiB,IAAIlH,KAAKkH,KAAK,mBAAmB,IAAIlH,KAAKkH,KAAK,kBAAkB,IAAI,iBAAiB,MAAMhJ,GAAE,QAAE8B,KAAKC,QAAQoD,UAAUzE,GAAE,QAAEV,EAAE0J,SAAS,GAAG,YAAY1J,EAAEiB,KAAK,IAAI,MAAMjB,KAAKU,EAAE,CAAC,MAAMX,EAAEC,EAAEA,EAAEO,OAAO,GAAGP,EAAE,GAAG,KAAKD,EAAE,IAAIC,EAAE,GAAG,KAAKD,EAAE,IAAIC,EAAEO,OAAO,GAAGP,EAAE2J,MAAM7H,KAAKkH,KAAK,iBAAiBlH,KAAK8H,sBAAsBlJ,IAAIoB,KAAKuG,iBAAiBvG,KAAKkH,KAAK,mBAAmBlH,KAAK+H,wBAAwBnJ,IAAIoB,KAAKgI,oBAAoBhI,KAAKwG,gBAAgBxG,KAAKyG,MAAMwB,QAAQjI,KAAK0G,kBAAkB1G,KAAKyG,MAAMwB,QAAQjI,KAAKwG,gBAAgB,sBAAsBtI,GAAG,MAAMgI,mBAAmBjI,EAAEiK,QAAQtJ,EAAE+C,MAAMwG,iBAAiBrI,IAAIE,KAAKf,EAAE,GAAG,OAAO,MAAMf,GAAGA,EAAE0B,SAAQ,CAAE1B,EAAE6B,KAAK7B,EAAE0B,SAAQ,CAAE1B,EAAEqC,KAAK,IAAID,EAAE,MAAM5B,EAAE8B,GAAGtC,EAAEe,EAAEkI,KAAK,IAAI,IAAE,CAAC9D,SAAS,IAAI,IAAE,CAAClD,EAAEzB,EAAE0B,EAAEI,EAAE2H,iBAAiBrI,IAAIJ,OAAO,MAAMd,GAAG,OAAO0B,EAAE1B,EAAEkG,eAAU,EAAOxE,EAAE8E,QAAQgD,WAAW,IAAInK,EAAEoK,UAAUtI,EAAEuI,WAAW/H,YAAYtB,EAAE,wBAAwBf,GAAG,MAAMgI,mBAAmBjI,EAAEiK,QAAQpI,EAAE6B,MAAMwG,iBAAiBlJ,IAAIe,KAAKD,EAAE,GAAG,OAAO,MAAM7B,GAAGA,EAAE0B,SAAQ,CAAE1B,EAAEoC,KAAKpC,EAAE0B,SAAQ,CAAElB,EAAE8B,KAAK,MAAM+H,EAAEC,GAAG9J,EAAE+J,EAAEvK,EAAEsC,EAAE,GAAGA,EAAE,EAAE,EAAE,GAAG,aAAY,QAAER,KAAKC,QAAQoD,SAAS,SAAS,IAAIoF,EAAE,CAAC,MAAM7J,EAAEF,GAAGR,EAAEuK,IAAIrI,EAAEsI,IAAG,QAAE,CAACH,EAAEC,GAAG,CAAC5J,EAAEF,IAAIqB,EAAEoH,KAAK,IAAI,IAAE,CAAC9D,SAAS,IAAI,IAAE,CAAClD,EAAEC,EAAEA,EAAEsI,EAAEP,iBAAiBlJ,IAAIS,OAAOI,EAAEiG,UAAUX,QAAQgD,WAAW,IAAInK,EAAEoK,UAAU/H,EAAEqI,gBAAgBnI,EAAEoI,cAAcH,aAAa1I,EAAE,oBAAoB7B,GAAG,IAAIA,EAAE,OAAO,MAAMD,EAAEC,EAAEkB,KAAI,EAAGiE,SAASnF,MAAK,CAAEiC,EAAEjC,EAAEiC,EAAEC,EAAElC,EAAEkC,MAAM,IAAI,IAAIxB,EAAE,EAAEA,EAAEX,EAAEQ,OAAOG,IAAI,CAAC,MAAMkB,EAAE,GAAG,IAAI,IAAI5B,EAAE,EAAEA,EAAED,EAAEQ,OAAOP,IAAI,CAAC,GAAGU,IAAIV,EAAE,SAAS,MAAMe,EAAEhB,EAAEW,GAAGD,EAAEV,EAAEC,GAAGe,EAAEkB,IAAIxB,EAAEwB,GAAGlB,EAAEmB,IAAIzB,EAAEyB,GAAGN,EAAEqH,KAAKjJ,GAAGA,EAAEU,GAAGwJ,WAAWS,sBAAsB/I,GAAG,cAAcE,KAAKoG,OAAO,IAAI,UAAE,CAAC3E,uBAAsB,EAAGC,SAAS,GAAG0F,OAAOpH,KAAKwG,eAAexG,KAAK0G,iBAAiB1G,KAAKC,SAAS0B,KAAK3B,KAAK2B,KAAKH,UAAU,CAACsB,eAAe5E,GAAG8B,KAAK8I,wBAAwB5K,GAAGsF,mBAAmBtF,GAAG8B,KAAK+I,4BAA4B7K,GAAGuF,cAAcvF,GAAG8B,KAAKgJ,uBAAuB9K,GAAGwF,kBAAkBxF,GAAG8B,KAAKiJ,2BAA2B/K,GAAGiF,qBAAqBjF,GAAG8B,KAAKkJ,8BAA8BhL,GAAGgF,oBAAoBhF,GAAG8B,KAAKmJ,6BAA6BjL,MAAM,wBAAwBA,GAAGA,EAAEmC,UAAUiD,kBAAkB,MAAMrF,EAAEC,EAAE+B,QAAQ,GAAGhC,IAAI+B,KAAKC,QAAQD,KAAKoJ,iBAAiBpJ,KAAK6C,KAAK,gBAAgB3E,GAAG8B,KAAKwB,UAAUsB,gBAAgB9C,KAAKwB,UAAUsB,eAAe5E,QAAQ,GAAG8B,KAAKqJ,YAAYpL,GAAG,CAAC,GAAG,IAAIC,EAAEmC,UAAUiJ,OAAO,OAAO,MAAM1K,EAAEoB,KAAKC,QAAQ2H,QAAQ9H,EAAEE,KAAKuJ,0BAA0BtL,GAAG+B,KAAK8G,UAAU9G,KAAKwJ,oBAAoB,CAACvL,GAAGW,EAAEkB,QAAWE,KAAKyJ,UAAUxL,KAAMC,EAAEmC,UAAUiD,kBAAkB,IAAIpF,EAAEmC,UAAUiJ,OAAOtJ,KAAKsH,cAAcrJ,IAAQC,EAAEmC,UAAUqJ,OAAOC,UAAU3J,KAAK+G,kBAAkB/G,KAAK4G,gBAAgBS,SAASpJ,GAAG+B,KAAK4J,qBAAqB3L,GAAE,GAAI+B,KAAK6J,gBAAgB5L,KAAI,4BAA4BC,GAAG,MAAMD,EAAEC,EAAE+B,QAAQ,GAAGD,KAAKyH,yBAAyBxJ,IAAI+B,KAAKC,QAAQ,CAAC,MAAMS,GAAGzC,EAAE0C,GAAG/B,GAAGV,EAAE,OAAO8B,KAAKwG,eAAe5G,SAAS1B,GAAGA,EAAE4L,SAAQ,IAAK9J,KAAK0G,iBAAiB9G,SAAS1B,GAAGA,EAAE4L,SAAQ,IAAK9J,KAAK+G,uBAAuB/G,KAAK+J,oBAAoB9L,EAAEW,GAAG,GAAGoB,KAAKqJ,YAAYpL,GAAG,CAAC+B,KAAK+G,kBAAkB,MAAM7I,EAAE8B,KAAKC,QAAQ2H,QAAQhJ,EAAEoB,KAAKuJ,0BAA0BtL,GAAG+B,KAAKwJ,oBAAoB,CAACvL,GAAGC,EAAEU,GAAGoB,KAAK6J,gBAAgB5L,QAAQ+B,KAAK4G,gBAAgBS,SAASpJ,KAAK+B,KAAK+G,kBAAkB/G,KAAK6J,gBAAgB5L,IAAI+B,KAAKgK,uBAAuB/L,GAAG,uBAAuBC,GAAG,MAAM+B,QAAQhC,EAAEyC,GAAG9B,EAAE+B,GAAGb,GAAG5B,EAAE8B,KAAKqG,UAAUzH,EAAEoB,KAAKsG,UAAUxG,EAAE7B,IAAI+B,KAAKC,QAAQD,KAAKiK,eAAerL,EAAEkB,IAAIE,KAAKkK,6BAA6BjM,EAAEW,EAAEkB,GAAGE,KAAKmK,kBAAkBlM,IAAI,2BAA2BC,GAAG,MAAM+B,QAAQhC,EAAEyC,GAAG9B,EAAE+B,GAAGb,GAAG5B,EAAE,GAAG8B,KAAKqG,UAAUzH,EAAEoB,KAAKsG,UAAUxG,EAAE7B,IAAI+B,KAAKC,QAAQ,CAAC,IAAI,MAAM/B,IAAI,GAAGkJ,OAAOpH,KAAKwG,eAAexG,KAAK0G,kBAAkBxI,EAAE4L,SAAQ,EAAG9J,KAAKoK,4BAA4BpK,KAAKqK,0BAA0BrK,KAAKkK,6BAA6BjM,EAAEW,EAAEkB,GAAGE,KAAKqJ,YAAYpL,IAAI+B,KAAK8G,UAAU9G,KAAKsK,sBAAsBrM,GAAG+B,KAAKyH,yBAAyB,4BAA4B,MAAMvJ,EAAE8B,KAAKC,QAAQoD,SAASpF,EAAE,aAAaC,EAAEiB,KAAKjB,EAAEqM,MAAMrM,EAAEsM,MAAMxK,KAAKyK,8BAA8BxM,GAAG+B,KAAK0K,gCAAgCzM,GAAG,8BAA8BC,GAAG,IAAI,MAAMD,KAAK+B,KAAKwG,eAAe,CAAC,MAAM6B,UAAUzJ,EAAE0J,WAAWxI,GAAG7B,EAAEmK,YAAYnJ,EAAEc,GAAG7B,EAAEU,GAAGkB,GAAG7B,EAAEyE,IAAI,WAAW,IAAI,IAAEzD,EAAEc,EAAEC,KAAK2B,KAAKwG,oBAAoB,gCAAgCjK,GAAG,IAAI,MAAMD,KAAK+B,KAAK0G,iBAAiB,CAAC,MAAM2B,UAAUzJ,EAAE+J,gBAAgB7I,EAAE8I,cAAc3J,GAAGhB,EAAEmK,YAAYrI,EAAEO,GAAGpC,EAAEU,GAAGkB,IAAIpB,EAAEiM,GAAGzM,EAAEU,GAAGK,IAAIuB,EAAE+H,IAAG,QAAE,CAACxI,EAAEO,GAAG,CAAC5B,EAAEiM,IAAI1M,EAAEoF,SAAS,IAAI,IAAE,CAAClD,EAAEK,EAAEJ,EAAEmI,EAAEJ,iBAAiBnI,KAAK2B,KAAKwG,oBAAoB,6BAA6BjK,EAAEU,EAAEkB,GAAG,MAAMb,GAAE,QAAEe,KAAKC,QAAQoD,UAAUuE,QAAQjJ,EAAE,aAAaM,EAAEE,KAAKF,EAAEsL,MAAMtL,EAAEuL,OAAOnC,UAAUtI,EAAEuI,WAAW/H,GAAGrC,EAAEkK,YAAYjI,EAAEG,EAAEF,EAAE1B,GAAGR,EAAEmF,SAASsH,EAAEhM,EAAEoB,GAAGtB,OAAO,EAAE,GAAGE,EAAEoB,GAAGQ,GAAG,CAACD,EAAE5B,GAAG,YAAYO,EAAEE,OAAO,IAAIoB,EAAE5B,EAAEoB,GAAG4K,GAAG,CAACrK,EAAE5B,GAAG6B,IAAIoK,IAAIhM,EAAEoB,GAAG,GAAG,CAACO,EAAE5B,KAAKsB,KAAKyJ,UAAUvL,GAAG,CAAC,MAAM2K,sBAAsB5K,GAAGC,EAAEkK,WAAW,IAAI,MAAMxJ,KAAKX,EAAE,CAAC,MAAMA,EAAE+B,KAAKwG,eAAe5H,IAAIyJ,UAAUvI,EAAEwI,WAAWrJ,GAAGhB,EAAEmK,WAAWzJ,EAAEmB,GAAGb,GAAG,CAACqB,EAAE5B,GAAGT,EAAEoF,SAASnF,EAAEmF,SAAS,IAAI,MAAMpF,KAAK+B,KAAK4G,gBAAgB,GAAG3I,IAAIC,EAAE,CAAC,MAAMmK,UAAUnK,EAAEoK,WAAWvI,EAAE8I,sBAAsBtI,GAAGtC,EAAEmK,WAAW9H,GAAE,QAAErC,EAAEoF,SAASzE,EAAEkB,EAAEE,KAAK2B,MAAMjD,EAAEC,EAAET,GAAGO,OAAO,EAAEE,EAAET,GAAG6B,GAAG,CAACO,EAAEH,EAAEG,EAAEF,GAAGnC,EAAEoF,SAAS/C,EAAE,YAAYrB,EAAEE,OAAO,IAAIY,EAAEpB,EAAET,GAAGQ,GAAG,CAAC4B,EAAEH,EAAEG,EAAEF,GAAGL,IAAIrB,IAAIC,EAAET,GAAG,GAAG,CAACoC,EAAEH,EAAEG,EAAEF,KAAK,IAAI,MAAMlC,KAAKqC,EAAE,CAAC,MAAMtC,EAAE+B,KAAKwG,eAAetI,IAAImK,UAAUzJ,EAAE0J,WAAWxI,GAAG7B,EAAEmK,WAAWzJ,EAAEC,GAAGkB,GAAG,CAACQ,EAAEH,EAAEG,EAAEF,GAAGnC,EAAEoF,SAAS/C,GAAGN,KAAK0K,gCAAgC/L,GAAGqB,KAAKC,QAAQoD,SAASpE,EAAE,8BAA8Bf,GAAG,MAAMD,EAAEC,EAAE+B,QAAQD,KAAKyJ,UAAUxL,KAAK+B,KAAK4K,YAAY3M,KAAKA,EAAEyB,OAAOM,KAAKkI,QAAQpD,SAASa,OAAO3F,KAAK6K,mBAAmB5M,GAAG,6BAA6BC,GAAG,MAAMD,EAAEC,EAAE+B,QAAQD,KAAKyJ,UAAUxL,KAAK+B,KAAK4K,YAAY3M,KAAKA,EAAEyB,OAAOM,KAAKkI,QAAQpD,SAASM,SAASpF,KAAK2B,KAAK+F,OAAO,UAAU,0BAA0BxJ,GAAG,MAAMgI,mBAAmBtH,GAAGoB,KAAKF,EAAE,GAAGb,GAAE,QAAEe,KAAKC,QAAQoD,UAAUuE,SAASS,UAAU1J,EAAEgK,gBAAgB5I,EAAE6I,cAAcrI,GAAGrC,EAAEkK,YAAYjI,EAAEG,EAAEF,EAAE1B,GAAGR,EAAEmF,SAASsH,EAAE,IAAIpK,EAAER,EAAE,EAAEQ,EAAEC,EAAE,aAAavB,EAAEE,KAAKF,EAAEsL,MAAMtL,EAAEuL,MAAM,OAAOhK,EAAE7B,GAAGmM,OAAOH,EAAE,EAAE,CAACrK,EAAE5B,IAAIR,EAAEkK,WAAW,IAAIxJ,EAAEyJ,UAAU1J,EAAE2J,WAAWqC,EAAE9B,sBAAsB,IAAI/I,EAAEqH,KAAK,CAAC4D,YAAYvK,EAAE7B,GAAGgM,GAAGK,eAAerM,EAAEsM,YAAYN,IAAI3K,KAAKC,QAAQoD,SAASpE,EAAEa,EAAE,eAAe5B,GAAG,MAAMU,GAAE,QAAEoB,KAAKC,QAAQoD,UAAUuE,QAAQ9H,EAAE,YAAYlB,EAAEO,KAAKP,EAAE4L,MAAM5L,EAAE2L,MAAMtL,EAAE,GAAGf,aAAa,MAAIA,EAAE,CAACA,IAAI,IAAI,MAAMD,KAAKC,EAAE,CAAC,MAAMiC,EAAEjC,EAAEkC,EAAExB,GAAGX,EAAEoF,SAAS,IAAI,IAAIpF,EAAE,EAAEA,EAAE6B,EAAErB,OAAOR,IAAI,CAAC,MAAMU,EAAEmB,EAAE7B,GAAG,IAAI,IAAI8B,EAAE,EAAEA,EAAEpB,EAAEF,OAAOsB,IAAI,CAAC,MAAMQ,EAAED,GAAG3B,EAAEoB,GAAG7B,IAAIqC,GAAG3B,IAAI0B,IAAIrB,EAAEkI,KAAK,CAAC4D,YAAYjL,EAAE7B,GAAG8B,GAAGiL,eAAe/M,EAAEgN,YAAYlL,IAAID,EAAE7B,GAAG6M,OAAOjH,OAAO9D,GAAG,MAAM,GAAG,YAAYnB,EAAEO,KAAK,IAAI,MAAMjB,KAAK4B,EAAE,CAAC,MAAM7B,EAAEW,GAAGV,EAAE,IAAIe,EAAEN,GAAGT,EAAEA,EAAEO,OAAO,IAAI,IAAIP,EAAEO,QAAQP,EAAEO,OAAO,GAAGR,IAAIgB,GAAGL,IAAID,IAAImB,EAAEgL,OAAOhL,EAAE8C,QAAQ1E,GAAG,GAAGA,EAAEO,OAAO,IAAIR,IAAIgB,GAAGL,IAAID,IAAIT,EAAEiJ,KAAKjJ,EAAE,SAAS,IAAI,MAAMA,KAAK4B,EAAE,IAAI5B,EAAEO,QAAQqB,EAAEgL,OAAOhL,EAAE8C,QAAQ1E,GAAG,GAAG,OAAO8B,KAAKC,QAAQoD,SAASzE,EAAEK,EAAE,gBAAgBf,GAAGA,aAAa,MAAIA,EAAE,CAACA,IAAI,IAAI,MAAMD,KAAKC,EAAED,EAAEyB,OAAOM,KAAKkI,QAAQpD,SAASV,SAASpE,KAAKkH,KAAK,kBAAkBlH,KAAK4G,gBAAgBQ,OAAOlJ,IAAI8B,KAAKkL,iBAAiBhN,GAAG,qBAAqBA,EAAED,GAAG,MAAM6G,SAASlG,GAAGoB,KAAKkI,QAAQpI,EAAE7B,EAAEW,EAAE+G,MAAM/G,EAAEwG,QAAQlH,aAAa,MAAIA,EAAE,CAACA,IAAI,IAAI,MAAMD,KAAKC,EAAE8B,KAAK4G,gBAAgBkE,OAAO9K,KAAK4G,gBAAgBhE,QAAQ3E,GAAG,GAAG+B,KAAKkH,KAAK,kBAAkBlH,KAAK4G,iBAAiB3I,EAAEyE,IAAI,SAAS5C,GAAGE,KAAKmL,mBAAmBjN,GAAG,kBAAkB,GAAG8B,KAAK4G,gBAAgBnI,OAAO,CAAC,MAAMP,EAAE8B,KAAK4G,gBAAgB,IAAI,MAAM1I,KAAK8B,KAAK4G,gBAAgB1I,EAAEwE,IAAI,SAAS1C,KAAKkI,QAAQpD,SAASM,SAASpF,KAAKkH,KAAK,kBAAkB,IAAIlH,KAAKmL,mBAAmBjN,IAAI,gBAAgBA,GAAG8G,EAAEC,aAAaoC,SAASnJ,EAAEyF,OAAOzF,EAAEkN,QAAQpL,KAAK4G,gBAAgBnI,QAAQuB,KAAKsH,cAActH,KAAK4G,iBAAiB,cAAc1I,GAAG,GAAG,YAAY8B,KAAKC,QAAQoD,SAASlE,MAAMa,KAAKwG,eAAe/H,OAAO,GAAGuB,KAAKwG,eAAe/H,OAAO,EAAE,OAAO,MAAMR,EAAE+B,KAAKC,QAAQ2H,QAAQ1J,aAAa,MAAIA,EAAE,CAACA,IAAI,MAAMU,EAAEoB,KAAKqL,eAAenN,GAAG8B,KAAK8G,UAAU9G,KAAKsL,uBAAuBpN,EAAED,EAAEW,GAAG,UAAUV,GAAG,OAAO8B,KAAKwG,eAAea,SAASnJ,GAAG,YAAYA,GAAG,OAAO8B,KAAKyJ,UAAUvL,IAAI8B,KAAK4G,gBAAgBS,SAASnJ,GAAG,YAAYA,GAAG,OAAO8B,KAAK0G,iBAAiBW,SAASnJ,GAAG,mBAAmBA,GAAG8B,KAAK2B,KAAK+F,OAAO1H,KAAKqJ,YAAYnL,GAAG,OAAO,OAAO,oBAAoBA,EAAED,GAAG,MAAMW,EAAE,IAAI0F,EAAEtE,KAAKC,QAAQ/B,EAAED,GAAG+B,KAAK6C,KAAK,aAAajE,GAAGoB,KAAKwB,UAAU+J,aAAavL,KAAKwB,UAAU+J,YAAY3M,GAAG,eAAeV,EAAED,GAAG,MAAMW,EAAE,IAAI2F,EAAEvE,KAAKC,QAAQ/B,EAAED,GAAG+B,KAAK6C,KAAK,OAAOjE,GAAGoB,KAAKwB,UAAUgK,QAAQxL,KAAKwB,UAAUgK,OAAO5M,GAAG,qBAAqB,MAAMV,EAAE,IAAIsG,EAAExE,KAAKC,QAAQD,KAAKqG,SAASrG,KAAKsG,UAAUtG,KAAK6C,KAAK,YAAY3E,GAAG8B,KAAKwB,UAAUiK,YAAYzL,KAAKwB,UAAUiK,WAAWvN,GAAG,uBAAuBA,GAAG,MAAMD,EAAE,IAAIsB,EAAES,KAAKC,QAAQ/B,EAAE8B,KAAK4G,iBAAiB5G,KAAK6C,KAAK,gBAAgB5E,GAAG+B,KAAKwB,UAAUkK,gBAAgB1L,KAAKwB,UAAUkK,eAAezN,GAAG,kBAAkBC,GAAG,MAAMD,EAAE,IAAIkC,EAAEH,KAAKC,QAAQ/B,EAAE8B,KAAK4G,iBAAiB5G,KAAK6C,KAAK,UAAU5E,GAAG+B,KAAKwB,UAAUmK,WAAW3L,KAAKwB,UAAUmK,UAAU1N,GAAG,sBAAsBC,GAAG,MAAMD,EAAE,IAAIoG,EAAErE,KAAKC,QAAQ/B,EAAE8B,KAAK4G,iBAAiB5G,KAAK6C,KAAK,eAAe5E,GAAG+B,KAAKwB,UAAUoK,eAAe5L,KAAKwB,UAAUoK,cAAc3N,GAAG,iBAAiBC,GAAG,MAAMD,EAAE,IAAIwG,EAAEvG,GAAG8B,KAAK6C,KAAK,SAAS5E,GAAG+B,KAAKwB,UAAUqK,gBAAgB7L,KAAKwB,UAAUqK,eAAe5N,GAAG,mBAAmBC,GAAG,MAAMD,EAAE,IAAI8C,EAAE7C,GAAG8B,KAAK6C,KAAK,WAAW5E,GAAG+B,KAAKwB,UAAUsK,kBAAkB9L,KAAKwB,UAAUsK,iBAAiB7N,GAAG,oBAAoBC,EAAED,EAAEW,GAAG,MAAMkB,EAAE,IAAI8E,EAAE1G,EAAE8B,KAAKC,QAAQhC,EAAEW,GAAGoB,KAAK6C,KAAK,aAAa/C,GAAGE,KAAKwB,UAAUuK,aAAa/L,KAAKwB,UAAUuK,YAAYjM,GAAG,uBAAuB5B,EAAED,EAAEW,GAAG,MAAMkB,EAAE,IAAIiF,EAAE7G,EAAE8B,KAAKC,QAAQhC,EAAEW,GAAGoB,KAAK6C,KAAK,gBAAgB/C,GAAGE,KAAKwB,UAAUwK,gBAAgBhM,KAAKwB,UAAUwK,eAAelM,MAAK,OAAE,EAAC,WAAKmG,EAAEjC,UAAU,iBAAY,IAAQ,OAAE,EAAC,WAAKiC,EAAEjC,UAAU,uBAAkB,IAAQ,OAAE,EAAC,WAAKiC,EAAEjC,UAAU,eAAU,IAAQ,OAAE,EAAC,QAAE,CAACC,UAAS,KAAMgC,EAAEjC,UAAU,sBAAiB,IAAQ,OAAE,EAAC,WAAKiC,EAAEjC,UAAU,aAAQ,IAAQ,OAAE,EAAC,QAAE,CAACC,UAAS,KAAMgC,EAAEjC,UAAU,wBAAmB,IAAQ,OAAE,EAAC,WAAKiC,EAAEjC,UAAU,sBAAiB,IAAQ,OAAE,EAAC,QAAE,CAACC,UAAS,KAAMgC,EAAEjC,UAAU,uBAAkB,IAAQ,OAAE,EAAC,QAAE,CAACE,UAAU,CAAC,aAAa,UAAU,SAASD,UAAS,KAAMgC,EAAEjC,UAAU,QAAQ,OAAM,OAAE,EAAC,QAAE,CAACiI,MAAM9G,KAAKc,EAAEjC,UAAU,UAAU,OAAM,OAAE,EAAC,QAAE,CAACC,UAAS,KAAMgC,EAAEjC,UAAU,YAAO,IAAQ,OAAE,EAAC,WAAKiC,EAAEjC,UAAU,YAAO,GAAQiC,GAAE,OAAE,EAAC,OAAE,oCAAoCA,GAAW,QAAFA,G,6DCA71d,MAAMhH,EAAE,CAACiN,KAAK,IAAI,IAAE,CAAC,IAAI,IAAI,IAAI9H,SAAS,IAAI,IAAE,CAAC,IAAI,IAAI,MAAMoB,QAAQ,IAAI,IAAE,CAAC,EAAE,EAAE,EAAE,KAAK2G,gBAAgB,IAAI,IAAE,CAAC,IAAI,IAAI,MAAMC,aAAa,IAAI,IAAE,CAAC,IAAI,IAAI,MAAMC,UAAU,IAAI,IAAE,CAAC,IAAI,IAAI,MAAMC,iBAAiB,IAAI,IAAE,CAAC,IAAI,IAAI,MAAMC,YAAY,IAAI,IAAE,CAAC,EAAE,EAAE,EAAE,KAAK,SAAStO,EAAEC,EAAEe,GAAG,GAAGA,EAAE,IAAI,MAAMhB,KAAKgB,EAAEf,EAAED,GAAGgB,EAAEhB,GAAG,MAAMW,EAAE,YAAYV,GAAG8B,KAAKnB,KAAK,EAAEmB,KAAK4F,UAAU,GAAG5F,KAAKuF,MAAMtG,EAAEiN,KAAKlM,KAAK6F,WAAW5G,EAAEiN,KAAKlM,KAAKyF,aAAaxG,EAAEuG,QAAQxF,KAAK8F,kBAAkB7G,EAAEmN,aAAanO,EAAE+B,KAAK9B,IAAI,MAAMQ,EAAE,YAAYR,GAAG8B,KAAKuF,MAAMtG,EAAEoN,UAAUrM,KAAK6F,WAAW5G,EAAEiN,KAAKjO,EAAE+B,KAAK9B,IAAI,MAAMS,EAAE,YAAYT,GAAG8B,KAAKuF,MAAMtG,EAAEsN,YAAYvM,KAAK6F,WAAW5G,EAAEsN,YAAYvM,KAAKyF,aAAaxG,EAAEiN,KAAKlM,KAAK8F,kBAAkB7G,EAAEiN,KAAKlM,KAAKwM,YAAYvN,EAAEsN,YAAYvM,KAAKyM,mBAAmBxN,EAAEoN,UAAUpO,EAAE+B,KAAK9B,IAAI,MAAM4B,EAAE,YAAY5B,GAAG8B,KAAKsF,OAAO,IAAI1G,EAAEoB,KAAKgG,SAAS,IAAIpH,EAAE,CAAC2G,MAAMtG,EAAEoN,UAAU5G,aAAaxG,EAAEqN,iBAAiBzN,KAAK,IAAImB,KAAKoE,SAAS,IAAIxF,EAAE,CAAC2G,MAAMtG,EAAEmF,SAASyB,WAAW5G,EAAEmF,SAAS0B,kBAAkB7G,EAAEmN,eAAenO,EAAE+B,KAAK9B,IAAI,MAAMyM,EAAE,YAAYzM,GAAG8B,KAAK0M,OAAO,IAAI9N,EAAE,CAAC2G,MAAMtG,EAAEqN,mBAAmBtM,KAAK2M,KAAK,IAAIhO,EAAEqB,KAAK4M,KAAK,IAAIlO,EAAEsB,KAAKsF,OAAO,IAAI1G,EAAE,CAAC2G,MAAMtG,EAAEmF,SAASqB,aAAaxG,EAAEiN,KAAKrG,WAAW5G,EAAEmF,SAAS0B,kBAAkB7G,EAAEqN,mBAAmBrO,EAAE+B,KAAK9B,IAAI,MAAMoC,EAAE,IAAI,MAAM,YAAYpC,GAAG8B,KAAK6M,gBAAgB,IAAI/M,EAAEE,KAAK8M,kBAAkB,IAAInC,EAAE1M,EAAE+B,KAAK9B,M,oRCAzK,MAAM+H,EAAE,cAAY,6CAA6C,IAAId,EAAE,cAAc,UAAE,YAAYjH,GAAG8C,MAAM9C,GAAG8B,KAAKyG,MAAM,KAAKzG,KAAK+M,aAAY,EAAG/M,KAAKgN,YAAW,EAAGhN,KAAKiN,WAAU,EAAGjN,KAAKkN,UAAS,EAAGlN,KAAK0H,OAAO,KAAK1H,KAAKmN,OAAO,IAAI,iBAAenN,KAAKoN,sBAAsB,KAAKpN,KAAKqN,4BAA4B,KAAKrN,KAAKsN,gBAAgB,KAAK,YAAYpP,GAAG,UAAS,QAAEA,EAAEmF,SAAS,SAASrD,KAAKoN,sBAAsB,KAAKpN,KAAKsN,gBAAgBpP,EAAEwB,OAAOM,KAAKkH,KAAK,UAAUhJ,GAAG8B,KAAKuN,uBAAuBtH,EAAEuH,MAAM,qCAAqC,oBAAoB,MAAMtP,EAAE,kBAAkB8B,KAAKC,QAAQwG,OAAOzG,KAAKC,QAAQwG,MAAMgH,cAAcxP,GAAE,QAAE+B,KAAKC,SAASH,EAAE5B,EAAEA,EAAEwP,OAAO,EAAE,OAAO,IAAI,IAAE,CAACC,KAAK1P,EAAEyP,OAAO5N,IAAI,kBAAkB5B,GAAGA,IAAI8B,KAAK4N,KAAK,mBAAmB5N,KAAKkH,KAAK,gBAAgBhJ,GAAG8B,KAAK6N,uBAAuB7N,KAAKoN,sBAAsB,MAAM,oBAAoB,OAAM,EAAG,aAAalP,GAAGA,IAAI8B,KAAK4N,KAAK,cAAc5N,KAAKkH,KAAK,WAAWhJ,GAAG8B,KAAK6N,wBAAwB,aAAa3P,GAAGA,IAAI8B,KAAK4N,KAAK,cAAc5N,KAAKkH,KAAK,WAAWhJ,GAAG8B,KAAK6N,wBAAwB,aAAa3P,GAAGA,IAAI8B,KAAK4N,KAAK,cAAc5N,KAAKkH,KAAK,WAAWhJ,GAAG8B,KAAK6N,uBAAuB7N,KAAKmN,OAAOtK,KAAK,iBAAiB,CAACO,OAAOlF,EAAE,SAAS,cAAc,eAAe,OAAO8B,KAAK4N,KAAK,aAAa5N,KAAK4N,KAAK,YAAY,UAAU5N,KAAK8N,sBAAsB9N,KAAK+N,sBAAsB/N,KAAKkH,KAAK,OAAO,MAAM,qBAAqBhJ,GAAG,MAAMD,EAAE+B,KAAK4N,KAAK,WAAW,IAAG,IAAK3P,EAAE6L,QAAQ,OAAO,KAAK,MAAMlL,EAAEoB,KAAK4N,KAAK,iBAAiBjP,GAAE,QAAEC,GAAGA,EAAEX,EAAEyB,OAAOiL,EAAE1M,EAAEoF,SAAS,OAAO,QAAEsH,GAAG,KAAK,OAAO3K,KAAK2B,KAAKxC,KAAKa,KAAKgO,qBAAqBhO,KAAK2B,KAAKzD,EAAEyM,EAAEhM,GAAGqB,KAAKiO,qBAAqBjO,KAAK2B,KAAKzD,EAAED,GAAG,SAAS+B,KAAKuN,uBAAsB,QAAEvN,KAAKyG,QAAQzG,KAAKyG,MAAM5E,IAAI7B,KAAKC,SAAS,SAASD,KAAK8N,sBAAsB9N,KAAK+N,uBAAsB,QAAE/N,KAAKyG,QAAQzG,KAAKyG,MAAMyH,OAAOlO,KAAKC,SAAS,sBAAsBD,KAAK8N,sBAAsB9N,KAAKqN,4BAA4BrN,KAAKC,QAAQkO,MAAM,UAAUjQ,KAAI,QAAEA,IAAIA,IAAI8B,KAAKoO,eAAelQ,IAAI8B,KAAKsN,kBAAkBtN,KAAKsN,gBAAgBpP,EAAE8B,KAAKqO,WAAU,QAAErO,KAAKoO,iBAAiBpO,KAAKC,QAAQP,OAAOM,KAAKoO,mBAAkB,GAAI,uBAAsB,QAAEpO,KAAKqN,+BAA+BrN,KAAKqN,4BAA4Ba,SAASlO,KAAKqN,4BAA4B,MAAM,uBAAuBrN,KAAKC,QAAQP,OAAOM,KAAKqO,WAAU,QAAErO,KAAKoO,eAAepO,KAAKoO,cAAcpO,KAAKsN,gBAAgB,sBAAsBtN,KAAKC,QAAQP,OAAOM,KAAKsN,gBAAgB,qBAAqBpP,EAAED,EAAEW,EAAED,GAAG,GAAGA,EAAEA,IAAG,QAAEC,IAAG,QAAED,GAAG,OAAO,KAAK,IAAIgM,EAAE3K,KAAKoN,sBAAsB,GAAG,UAAUxO,EAAEO,MAAM,kBAAkBR,EAAEQ,KAAK,OAAO,OAAElB,EAAEW,EAAEV,GAAG,EAAE,KAAK,IAAG,QAAEyM,KAAKA,EAAE2D,cAAcC,OAAO3P,GAAG,CAAC,MAAMX,EAAEW,EAAEkB,EAAE5B,EAAEiK,iBAAiB,IAAG,QAAElK,EAAEkK,iBAAiBrI,GAAG,CAAC,MAAM5B,GAAE,QAAED,EAAE6B,GAAG6K,EAAE,CAAC2D,cAAcrQ,EAAE2J,QAAQ4G,SAAStQ,EAAEuQ,UAAS,QAAE9P,EAAEE,OAAOmB,KAAKoN,sBAAsBzC,GAAG,IAAG,QAAEA,GAAG,CAAC,MAAM7K,GAAE,QAAE7B,EAAEqG,GAAGrF,EAAEf,EAAEwQ,SAAS/D,EAAE6D,UAAU5P,EAAE+L,EAAE8D,SAASlO,EAAEtB,EAAEkB,GAAE,QAAExB,EAAER,SAASO,EAAEO,EAAEmB,GAAE,QAAEzB,EAAEJ,SAAS,OAAO,OAAEuB,EAAE,CAACS,EAAE7B,IAAIE,EAAEA,EAAE,EAAE,KAAK,OAAO,KAAK,qBAAqBV,EAAED,EAAE6B,GAAG,MAAMb,EAAEf,EAAEyQ,MAAM1Q,EAAE,CAAC2Q,QAAQ,CAAC9O,KAAK,OAAOb,IAAG,QAAEA,EAAEuF,EAAEtG,EAAE2Q,yBAAwB,OAAErK,EAAEtG,EAAE0F,MAAMkL,OAAOC,KAAK,QAAO,OAAE,EAAC,QAAE,CAACC,eAAc,EAAGC,aAAY,KAAM9J,EAAEnB,UAAU,UAAU,OAAM,OAAE,EAAC,QAAE,CAACC,UAAS,EAAGC,UAAU,CAAC,cAAciB,EAAEnB,UAAU,gBAAgB,OAAM,OAAE,EAAC,QAAE,CAACgL,eAAc,EAAGC,aAAY,KAAM9J,EAAEnB,UAAU,YAAO,IAAQ,OAAE,EAAC,QAAE,CAACiI,MAAM,QAAQ9G,EAAEnB,UAAU,gBAAgB,OAAM,OAAE,EAAC,QAAE,CAACgL,eAAc,KAAM7J,EAAEnB,UAAU,aAAQ,IAAQ,OAAE,EAAC,WAAKmB,EAAEnB,UAAU,mBAAc,IAAQ,OAAE,EAAC,WAAKmB,EAAEnB,UAAU,kBAAa,IAAQ,OAAE,EAAC,WAAKmB,EAAEnB,UAAU,iBAAY,IAAQ,OAAE,EAAC,QAAE,CAACiI,OAAM,KAAM9G,EAAEnB,UAAU,WAAW,OAAM,OAAE,EAAC,WAAKmB,EAAEnB,UAAU,gBAAW,IAAQ,OAAE,EAAC,WAAKmB,EAAEnB,UAAU,WAAW,OAAM,OAAE,EAAC,QAAE,CAACiI,OAAM,KAAM9G,EAAEnB,UAAU,WAAW,OAAM,OAAE,EAAC,WAAKmB,EAAEnB,UAAU,cAAS,GAAQmB,GAAE,OAAE,EAAC,OAAE,8CAA8CA,GAAG,MAAMX,GAAE,SAAIF,GAAE,W,iHCAhoJ,SAAS/D,EAAEtC,EAAE6B,EAAES,EAAEtB,EAAE,IAAI,KAAG,IAAIL,EAAE,GAAG,OAAO2B,EAAEpB,KAAKP,EAAEkB,EAAES,EAAE2O,gBAAgB,GAAG,OAAO3O,EAAEpB,KAAK,CAAC,MAAMR,EAAE4B,EAAE4O,2BAA2BlR,GAAGgB,EAAEsB,EAAE6O,wBAAwBxQ,GAAE,QAAEK,KAAKA,EAAEsP,OAAOhO,EAAE4H,mBAAkB,QAAElJ,IAAG,QAAEsB,EAAE4H,kBAAkBrI,EAAEnB,EAAE,MAAM6J,EAAEvK,EAAEkC,EAAEvB,EAAE4B,EAAEvC,EAAEmC,EAAExB,EAAE0B,EAAErC,EAAEkC,EAAEvB,EAAE+L,EAAE1M,EAAEmC,EAAExB,GAAGuJ,iBAAiB5I,GAAGgB,EAAE,OAAOtB,EAAEoQ,KAAKjR,KAAKkR,IAAI9G,EAAElI,GAAGrB,EAAEsQ,KAAKnR,KAAKkR,IAAI9O,EAAEmK,GAAG1L,EAAEuQ,KAAKpR,KAAKC,IAAImK,EAAElI,GAAGrB,EAAEwQ,KAAKrR,KAAKC,IAAImC,EAAEmK,GAAG1L,EAAEkJ,iBAAiB5I,EAAEN,EAAE,SAASA,EAAEf,EAAES,EAAED,GAAG,MAAMO,EAAEP,EAAEiQ,MAAMzQ,GAAG,QAAG,QAAEe,IAAmBsB,EAAEtB,GAAE,SAAIP,EAAEE,GAAG8Q,WAAW/Q,GAAG,MAAMC,EAAE,IAAI","file":"chunks/5596.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nfunction t(t,e){return e?\"xoffset\"in e&&e.xoffset?Math.max(t,Math.abs(e.xoffset)):\"yoffset\"in e&&e.yoffset?Math.max(t,Math.abs(e.yoffset||0)):t:t}function e(t,e){return\"number\"==typeof t?t:t&&t.stops&&t.stops.length?function(t){let e=0,n=0;for(let r=0;r<t.length;r++){const s=t[r].size;\"number\"==typeof s&&(e+=s,n++)}return e/n}(t.stops):e}function n(n){const r=n&&n.renderer,s=\"touch\"===(n&&n.event&&n.event.pointerType)?9:6;if(!r)return s;const o=\"visualVariables\"in r?function(t,n){if(!n)return t;const r=n.filter((t=>\"size\"===t.type)).map((n=>{const{maxSize:r,minSize:s}=n;return(e(r,t)+e(s,t))/2}));let s=0;const o=r.length;if(0===o)return t;for(let t=0;t<o;t++)s+=r[t];const f=Math.floor(s/o);return Math.max(f,t)}(s,r.visualVariables):s;if(\"simple\"===r.type)return t(o,r.symbol);if(\"unique-value\"===r.type){let e=o;return r.uniqueValueInfos.forEach((n=>{e=t(e,n.symbol)})),e}if(\"class-breaks\"===r.type){let e=o;return r.classBreakInfos.forEach((n=>{e=t(e,n.symbol)})),e}return r.type,o}export{n as calculateTolerance};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nclass t{constructor(t,i,s,h,e){this.graphic=t,this.index=i,this.x=s,this.y=h,this.viewEvent=e,this.type=\"graphic-click\"}}class i{constructor(t,i,s,h,e){this.graphic=t,this.index=i,this.x=s,this.y=h,this.viewEvent=e,this.type=\"graphic-double-click\"}}class s{constructor(t,i,s,h,e,r,c,a,n,p){this.graphic=t,this.allGraphics=i,this.index=s,this.x=h,this.y=e,this.dx=r,this.dy=c,this.totalDx=a,this.totalDy=n,this.viewEvent=p,this.defaultPrevented=!1,this.type=\"graphic-move-start\"}preventDefault(){this.defaultPrevented=!0}}class h{constructor(t,i,s,h,e,r,c,a,n,p){this.graphic=t,this.allGraphics=i,this.index=s,this.x=h,this.y=e,this.dx=r,this.dy=c,this.totalDx=a,this.totalDy=n,this.viewEvent=p,this.defaultPrevented=!1,this.type=\"graphic-move\"}preventDefault(){this.defaultPrevented=!0}}class e{constructor(t,i,s,h,e,r,c,a,n,p){this.graphic=t,this.allGraphics=i,this.index=s,this.x=h,this.y=e,this.dx=r,this.dy=c,this.totalDx=a,this.totalDy=n,this.viewEvent=p,this.defaultPrevented=!1,this.type=\"graphic-move-stop\"}preventDefault(){this.defaultPrevented=!0}}class r{constructor(t,i,s,h,e){this.graphic=t,this.index=i,this.x=s,this.y=h,this.viewEvent=e,this.type=\"graphic-pointer-over\"}}class c{constructor(t,i,s,h,e){this.graphic=t,this.index=i,this.x=s,this.y=h,this.viewEvent=e,this.type=\"graphic-pointer-out\"}}class a{constructor(t,i,s,h,e){this.graphic=t,this.index=i,this.x=s,this.y=h,this.viewEvent=e,this.type=\"graphic-pointer-down\"}}class n{constructor(t,i,s,h,e){this.graphic=t,this.index=i,this.x=s,this.y=h,this.viewEvent=e,this.type=\"graphic-pointer-up\"}}export{t as GraphicClickEvent,i as GraphicDoubleClickEvent,h as GraphicMoveEvent,s as GraphicMoveStartEvent,e as GraphicMoveStopEvent,a as GraphicPointerDownEvent,c as GraphicPointerOutEvent,r as GraphicPointerOverEvent,n as GraphicPointerUpEvent};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as i}from\"../../../chunks/tslib.es6.js\";import\"../../../core/has.js\";import{clone as t}from\"../../../core/lang.js\";import{isSome as e}from\"../../../core/maybe.js\";import\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import{subclass as s}from\"../../../core/accessorSupport/decorators/subclass.js\";import\"../../../core/urlUtils.js\";import\"../../../core/uuid.js\";import\"../../../portal/support/resourceExtension.js\";import a from\"../../../core/Evented.js\";import o from\"../../../core/Handles.js\";import{watch as h,whenOnce as c}from\"../../../core/watchUtils.js\";import{ViewEventPriorities as n}from\"../../input/InputManager.js\";import{createScreenPointFromEvent as p}from\"../../support/screenUtils.js\";import{cloneMove as l}from\"./drawUtils.js\";import{GraphicManipulator as v}from\"../../interactive/GraphicManipulator.js\";import{GraphicClickEvent as d,GraphicDoubleClickEvent as g,GraphicPointerDownEvent as _,GraphicPointerUpEvent as G,GraphicPointerOutEvent as m,GraphicMoveStartEvent as u,GraphicMoveEvent as y,GraphicMoveStopEvent as f,GraphicPointerOverEvent as w}from\"./input/GraphicMoverEvents.js\";let k=class extends a.EventedAccessor{constructor(i){super(i),this._activeGraphic=null,this._dragEvent=null,this._handles=new o,this._hoverGraphic=null,this._initialDragGeometry=null,this._viewHandles=new o,this._manipulators=[],this.type=\"graphic-mover\",this.callbacks={onGraphicClick(){},onGraphicDoubleClick(){},onGraphicMoveStart(){},onGraphicMove(){},onGraphicMoveStop(){},onGraphicPointerOver(){},onGraphicPointerOut(){},onGraphicPointerDown(){},onGraphicPointerUp(){}},this.enableMoveAllGraphics=!1,this.graphics=[],this.view=null}initialize(){this._setUpManipulators(),this._handles.add([h(this,[\"graphics\",\"graphics.length\"],(()=>{this._setUpManipulators()})),c(this,\"view.ready\",(()=>{this._viewHandles.add([this.view.on(\"immediate-click\",(i=>this._clickHandler(i)),n.TOOL),this.view.on(\"double-click\",(i=>this._doubleClickHandler(i)),n.TOOL),this.view.on(\"pointer-down\",(i=>this._pointerDownHandler(i)),n.TOOL),this.view.on(\"pointer-move\",(i=>this._pointerMoveHandler(i)),n.TOOL),this.view.on(\"pointer-up\",(i=>this._pointerUpHandler(i)),n.TOOL),this.view.on(\"drag\",(i=>this._dragHandler(i)),n.TOOL),this.view.on(\"key-down\",(i=>this._keyDownHandler(i)),n.TOOL)])}))])}destroy(){this.reset(),this._manipulators.forEach((i=>i.destroy())),this._manipulators=null,this._viewHandles.removeAll(),this._handles.removeAll()}get state(){const i=!!this.get(\"view.ready\"),t=!!this.get(\"graphics.length\"),e=this._activeGraphic;return i&&t?e?\"moving\":\"active\":i?\"ready\":\"disabled\"}reset(){this._activeGraphic=null,this._hoverGraphic=null,this._dragEvent=null}updateGeometry(i,t){const e=this.graphics[i];e&&e.set(\"geometry\",t)}_clickHandler(i){const t=this._findTargetGraphic(p(i));if(t){const e=new d(t,this.graphics.indexOf(t),i.x,i.y,i);this.emit(\"graphic-click\",e),this.callbacks.onGraphicClick&&this.callbacks.onGraphicClick(e)}}_doubleClickHandler(i){const t=this._findTargetGraphic(p(i));if(t){const e=new g(t,this.graphics.indexOf(t),i.x,i.y,i);this.emit(\"graphic-double-click\",e),this.callbacks.onGraphicDoubleClick&&this.callbacks.onGraphicDoubleClick(e)}}_pointerDownHandler(i){const t=this._findTargetGraphic(p(i));if(t){this._activeGraphic=t;const{x:e,y:r}=i,s=new _(t,this.graphics.indexOf(t),e,r,i);this.emit(\"graphic-pointer-down\",s),this.callbacks.onGraphicPointerDown&&this.callbacks.onGraphicPointerDown(s)}else this._activeGraphic=null}_pointerUpHandler(i){if(this._activeGraphic){const{x:t,y:e}=i,r=this.graphics.indexOf(this._activeGraphic),s=new G(this._activeGraphic,r,t,e,i);this.emit(\"graphic-pointer-up\",s),this.callbacks.onGraphicPointerUp&&this.callbacks.onGraphicPointerUp(s)}}_pointerMoveHandler(i){if(this._dragEvent)return;const t=this._findTargetGraphic(p(i));if(t){const{x:e,y:r}=i;if(this._hoverGraphic){if(this._hoverGraphic===t)return;const s=this.graphics.indexOf(this._hoverGraphic),a=new m(this.graphics[s],s,e,r,i);this._hoverGraphic=null,this.emit(\"graphic-pointer-out\",a),this.callbacks.onGraphicPointerOut&&this.callbacks.onGraphicPointerOut(a)}const s=this.graphics.indexOf(t),a=new w(t,s,e,r,i);return this._hoverGraphic=t,this.emit(\"graphic-pointer-over\",a),void(this.callbacks.onGraphicPointerOver&&this.callbacks.onGraphicPointerOver(a))}if(this._hoverGraphic){const{x:t,y:e}=i,r=this.graphics.indexOf(this._hoverGraphic),s=new m(this.graphics[r],r,t,e,i);this._hoverGraphic=null,this.emit(\"graphic-pointer-out\",s),this.callbacks.onGraphicPointerOut&&this.callbacks.onGraphicPointerOut(s)}}_dragHandler(i){if(\"start\"!==i.action&&!this._dragEvent||!this._activeGraphic||!this._activeGraphic.geometry)return;i.stopPropagation();const{action:e,x:r,y:s}=i,a=this.graphics.indexOf(this._activeGraphic),o=this._activeGraphic.geometry,h=this._dragEvent?r-this._dragEvent.x:0,c=this._dragEvent?s-this._dragEvent.y:0,n=r-i.origin.x,p=s-i.origin.y;if(this._activeGraphic.geometry=l(o,h,c,this.view),this.enableMoveAllGraphics&&this.graphics.forEach((i=>{i!==this._activeGraphic&&(i.geometry=l(i.geometry,h,c,this.view))})),this._dragEvent=i,\"start\"===e){this._initialDragGeometry=t(o);const e=new u(this._activeGraphic,this.graphics,a,r,s,h,c,n,p,i);this.emit(\"graphic-move-start\",e),this.callbacks.onGraphicMoveStart&&this.callbacks.onGraphicMoveStart(e),e.defaultPrevented&&this._activeGraphic.set(\"geometry\",o)}else if(\"update\"===e){const t=new y(this._activeGraphic,this.graphics,a,r,s,h,c,n,p,i);this.emit(\"graphic-move\",t),this.callbacks.onGraphicMove&&this.callbacks.onGraphicMove(t),t.defaultPrevented&&this._activeGraphic.set(\"geometry\",o)}else{const t=new f(this._activeGraphic,this.graphics,a,r,s,h,c,n,p,i);this._dragEvent=null,this._activeGraphic=null,this.emit(\"graphic-move-stop\",t),this.callbacks.onGraphicMoveStop&&this.callbacks.onGraphicMoveStop(t),t.defaultPrevented&&this.graphics[a].set(\"geometry\",this._initialDragGeometry),this._initialDragGeometry=null}}_keyDownHandler(i){\"a\"!==i.key&&\"d\"!==i.key&&\"n\"!==i.key||\"moving\"!==this.state||i.stopPropagation()}_findTargetGraphic(i){let t=null,r=Number.MAX_VALUE;return this._manipulators.forEach((s=>{const a=s.intersectionDistance(i);e(a)&&a<r&&(r=a,t=s.graphic)})),t}_setUpManipulators(){const{graphics:i,view:t}=this;this._manipulators.forEach((i=>i.destroy())),this._manipulators=null!=i&&i.length?i.map((i=>new v({graphic:i,view:t}))):[]}};i([r()],k.prototype,\"_activeGraphic\",void 0),i([r({readOnly:!0})],k.prototype,\"type\",void 0),i([r()],k.prototype,\"callbacks\",void 0),i([r()],k.prototype,\"enableMoveAllGraphics\",void 0),i([r()],k.prototype,\"graphics\",void 0),i([r({dependsOn:[\"view.ready\",\"graphics.length\",\"_activeGraphic\"],readOnly:!0})],k.prototype,\"state\",null),i([r()],k.prototype,\"view\",void 0),k=i([s(\"esri.views.draw.support.GraphicMover\")],k);var b=k;export default b;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import\"../../../core/has.js\";import{unwrap as t,get as s}from\"../../../core/maybe.js\";import\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import{property as i}from\"../../../core/accessorSupport/decorators/property.js\";import{subclass as o}from\"../../../core/accessorSupport/decorators/subclass.js\";import\"../../../core/urlUtils.js\";import\"../../../core/uuid.js\";import\"../../../portal/support/resourceExtension.js\";import r from\"../../../geometry/Point.js\";import{geometryToCoordinates as h,getMidpoint as a}from\"../../../geometry/support/coordsUtils.js\";import\"../../../geometry.js\";import c from\"../../../core/Evented.js\";import n from\"../../../symbols/SimpleMarkerSymbol.js\";import l from\"../../../Graphic.js\";import p from\"../../../core/Handles.js\";import{whenOnce as d,pausable as m}from\"../../../core/watchUtils.js\";import{ViewEventPriorities as v}from\"../../input/InputManager.js\";import{cloneMove as y}from\"./drawUtils.js\";import{addUniqueLayer as _}from\"./layerUtils.js\";import u from\"./GraphicMover.js\";import{settings as g}from\"./settings.js\";class f{constructor(e,t,s){this.graphic=e,this.mover=t,this.selected=s,this.type=\"reshape-start\"}}class x{constructor(e,t,s){this.graphic=e,this.mover=t,this.selected=s,this.type=\"reshape\"}}class b{constructor(e,t,s){this.graphic=e,this.mover=t,this.selected=s,this.type=\"reshape-stop\"}}class G{constructor(e,t,s){this.mover=e,this.dx=t,this.dy=s,this.type=\"move-start\"}}class S{constructor(e,t,s){this.mover=e,this.dx=t,this.dy=s,this.type=\"move\"}}class w{constructor(e,t,s){this.mover=e,this.dx=t,this.dy=s,this.type=\"move-stop\"}}class M{constructor(e){this.added=e,this.type=\"vertex-select\"}}class k{constructor(e){this.removed=e,this.type=\"vertex-deselect\"}}class H{constructor(e,t,s,i){this.added=e,this.graphic=t,this.oldGraphic=s,this.vertices=i,this.type=\"vertex-add\"}}class E{constructor(e,t,s,i){this.removed=e,this.graphic=t,this.oldGraphic=s,this.vertices=i,this.type=\"vertex-remove\"}}const I={removeVertex:[\"Backspace\",\"Delete\"]},R=g.reshapeGraphics,C={vertices:{default:new n({style:\"circle\",size:R.vertex.size,color:R.vertex.color,outline:{color:R.vertex.outlineColor,width:1}}),hover:new n({style:\"circle\",size:R.vertex.hoverSize,color:R.vertex.hoverColor,outline:{color:R.vertex.hoverOutlineColor,width:1}}),selected:new n({style:\"circle\",size:R.selected.size,color:R.selected.color,outline:{color:R.selected.outlineColor,width:1}})},midpoints:{default:new n({style:\"circle\",size:R.midpoint.size,color:R.midpoint.color,outline:{color:R.midpoint.outlineColor,width:1}}),hover:new n({style:\"circle\",size:R.midpoint.size,color:R.midpoint.color,outline:{color:R.midpoint.outlineColor,width:1}})}};let j=class extends c.EventedAccessor{constructor(e){super(e),this._handles=new p,this._graphicAttributes={esriSketchTool:\"box\"},this._mover=null,this._viewHandles=new p,this._totalDx=0,this._totalDy=0,this.callbacks={onReshapeStart(){},onReshape(){},onReshapeStop(){},onMoveStart(){},onMove(){},onMoveStop(){},onGraphicClick(){}},this.enableMidpoints=!0,this.graphic=null,this.handleGraphics=[],this.layer=null,this.midpointGraphics=[],this.midpointSymbol=new n({style:\"circle\",size:6,color:[200,200,200],outline:{color:[100,100,100],width:1}}),this.selectedHandles=[],this.type=\"reshape\",this.view=null}initialize(){this._setup(),this._handles.add([d(this,\"view.ready\",(()=>{const{layer:e,view:t}=this;_(t,e),this._viewHandles.add([t.on(\"key-down\",(e=>this._keyDownHandler(e)),v.TOOL)])})),m(this,\"graphic\",(()=>this.refresh())),m(this,\"layer\",((e,t)=>{t&&(this._clearSelection(),this._resetGraphics(t)),this.refresh()})),m(this,\"enableMidpoints\",(()=>{this.refresh()}))])}destroy(){this._reset(),this._mover&&this._mover.destroy(),this._mover=null,this._handles.removeAll(),this._handles=null,this._viewHandles.removeAll(),this._viewHandles=null}get state(){const e=!!this.get(\"view.ready\"),t=!(!this.get(\"graphic\")||!this.get(\"layer\"));return e&&t?\"active\":e?\"ready\":\"disabled\"}set symbols(e){const{midpoints:t=C.midpoints,vertices:s=C.vertices}=e||{};this._set(\"symbols\",{midpoints:t,vertices:s})}isUIGraphic(e){const t=[];return this.graphic&&t.push(this.graphic),t.concat(this.handleGraphics,this.midpointGraphics),t.length&&t.includes(e)}refresh(){this._reset(),this._setup()}reset(){this.graphic=null}clearSelection(){this._clearSelection()}removeSelectedHandles(){this.selectedHandles.length&&this._removeVertex(this.selectedHandles)}_setup(){this.graphic&&this.layer&&(this._setupGraphics(),this._setupMover())}_reset(){this._clearSelection(),this._resetGraphicStateVars(),this._resetGraphics(),this._mover&&this._mover.destroy(),this._mover=null,this.view.cursor=\"default\"}_resetGraphicStateVars(){this._totalDx=0,this._totalDy=0}_resetGraphics(e){const t=e||this.layer;t&&(t.removeMany(this.handleGraphics),t.removeMany(this.midpointGraphics)),this.handleGraphics.forEach((e=>e.destroy())),this.midpointGraphics.forEach((e=>e.destroy())),this._set(\"handleGraphics\",[]),this._set(\"midpointGraphics\",[]),this._set(\"selectedHandles\",[])}_setupGraphics(){const e=t(this.graphic.geometry),s=h(e.clone());if(\"polygon\"===e.type)for(const e of s){const t=e[e.length-1];e[0][0]===t[0]&&e[0][1]===t[1]&&e.length>2&&e.pop()}this._set(\"handleGraphics\",this._createHandleGraphics(s)),this.enableMidpoints&&this._set(\"midpointGraphics\",this._createMidpointGraphics(s)),this._saveRelatedIndices(this.handleGraphics),this.layer.addMany(this.midpointGraphics),this.layer.addMany(this.handleGraphics)}_createHandleGraphics(e){const{_graphicAttributes:t,symbols:s,view:{spatialReference:i}}=this,o=[];return null==e||e.forEach(((e,h)=>{e.forEach(((e,a)=>{var c;const[n,p]=e;o.push(new l({geometry:new r({x:n,y:p,spatialReference:i}),symbol:null==s||null==(c=s.vertices)?void 0:c.default,attributes:{...t,pathIndex:h,pointIndex:a}}))}))})),o}_createMidpointGraphics(e){const{_graphicAttributes:t,symbols:i,view:{spatialReference:o}}=this,h=[];return null==e||e.forEach(((e,c)=>{e.forEach(((n,p)=>{const[d,m]=n,v=e[p+1]?p+1:0;if(\"polygon\"===s(this.graphic.geometry,\"type\")||0!==v){const[s,n]=e[v],[y,_]=a([d,m],[s,n]);h.push(new l({geometry:new r({x:y,y:_,spatialReference:o}),symbol:i.midpoints.default,attributes:{...t,pathIndex:c,pointIndexStart:p,pointIndexEnd:v}}))}}))})),h}_saveRelatedIndices(e){if(!e)return;const t=e.map((({geometry:e})=>({x:e.x,y:e.y})));for(let s=0;s<t.length;s++){const i=[];for(let e=0;e<t.length;e++){if(s===e)continue;const o=t[s],r=t[e];o.x===r.x&&o.y===r.y&&i.push(e)}e[s].attributes.relatedGraphicIndices=i}}_setupMover(){this._mover=new u({enableMoveAllGraphics:!1,graphics:[].concat(this.handleGraphics,this.midpointGraphics,this.graphic),view:this.view,callbacks:{onGraphicClick:e=>this._onGraphicClickCallback(e),onGraphicMoveStart:e=>this._onGraphicMoveStartCallback(e),onGraphicMove:e=>this._onGraphicMoveCallback(e),onGraphicMoveStop:e=>this._onGraphicMoveStopCallback(e),onGraphicPointerOver:e=>this._onGraphicPointerOverCallback(e),onGraphicPointerOut:e=>this._onGraphicPointerOutCallback(e)}})}_onGraphicClickCallback(e){e.viewEvent.stopPropagation();const t=e.graphic;if(t===this.graphic)this.clearSelection(),this.emit(\"graphic-click\",e),this.callbacks.onGraphicClick&&this.callbacks.onGraphicClick(e);else if(this._isMidpoint(t)){if(2===e.viewEvent.button)return;const s=this.graphic.clone(),i=this._createHandleFromMidpoint(t);this.refresh(),this._emitVertexAddEvent([t],s,i)}else if(this._isHandle(t))if(e.viewEvent.stopPropagation(),2===e.viewEvent.button)this._removeVertex(t);else{e.viewEvent.native.shiftKey||this._clearSelection(),this.selectedHandles.includes(t)?this._removeFromSelection(t,!0):this._addToSelection(t)}}_onGraphicMoveStartCallback(e){const t=e.graphic;if(this._resetGraphicStateVars(),t===this.graphic){const{dx:t,dy:s}=e;return this.handleGraphics.forEach((e=>e.visible=!1)),this.midpointGraphics.forEach((e=>e.visible=!1)),this._clearSelection(),void this._emitMoveStartEvent(t,s)}if(this._isMidpoint(t)){this._clearSelection();const e=this.graphic.clone(),s=this._createHandleFromMidpoint(t);this._emitVertexAddEvent([t],e,s),this._addToSelection(t)}else this.selectedHandles.includes(t)||(this._clearSelection(),this._addToSelection(t));this._emitReshapeStartEvent(t)}_onGraphicMoveCallback(e){const{graphic:t,dx:s,dy:i}=e;this._totalDx+=s,this._totalDy+=i,t===this.graphic?this._emitMoveEvent(s,i):(this._syncGeometryAfterHandleMove(t,s,i),this._emitReshapeEvent(t))}_onGraphicMoveStopCallback(e){const{graphic:t,dx:s,dy:i}=e;if(this._totalDx+=s,this._totalDy+=i,t===this.graphic){for(const e of[].concat(this.handleGraphics,this.midpointGraphics))e.visible=!0;this._syncGraphicsWithGeometry(),this._emitMoveStopEvent()}else this._syncGeometryAfterHandleMove(t,s,i),this._isMidpoint(t)&&this.refresh(),this._emitReshapeStopEvent(t);this._resetGraphicStateVars()}_syncGraphicsWithGeometry(){const e=this.graphic.geometry,t=\"polyline\"===e.type?e.paths:e.rings;this._updateHandleGraphicLocations(t),this._updateMidpointGraphicLocations(t)}_updateHandleGraphicLocations(e){for(const t of this.handleGraphics){const{pathIndex:s,pointIndex:i}=t.attributes,[o,h]=e[s][i];t.set(\"geometry\",new r(o,h,this.view.spatialReference))}}_updateMidpointGraphicLocations(e){for(const t of this.midpointGraphics){const{pathIndex:s,pointIndexStart:i,pointIndexEnd:o}=t.attributes,[h,c]=e[s][i],[n,l]=e[s][o],[p,d]=a([h,c],[n,l]);t.geometry=new r({x:p,y:d,spatialReference:this.view.spatialReference})}}_syncGeometryAfterHandleMove(e,s,i){const o=t(this.graphic.geometry).clone(),r=\"polyline\"===o.type?o.paths:o.rings,{pathIndex:h,pointIndex:a}=e.attributes,{x:c,y:n}=e.geometry,l=r[h].length-1;if(r[h][a]=[c,n],\"polygon\"===o.type&&(0===a?r[h][l]=[c,n]:a===l&&(r[h][0]=[c,n])),this._isHandle(e)){const{relatedGraphicIndices:t}=e.attributes;for(const s of t){const t=this.handleGraphics[s],{pathIndex:i,pointIndex:o}=t.attributes;r[i][o]=[c,n],t.geometry=e.geometry}for(const t of this.selectedHandles)if(t!==e){const{pathIndex:e,pointIndex:h,relatedGraphicIndices:a}=t.attributes,c=y(t.geometry,s,i,this.view),n=r[e].length-1;r[e][h]=[c.x,c.y],t.geometry=c,\"polygon\"===o.type&&(0===h?r[e][n]=[c.x,c.y]:h===n&&(r[e][0]=[c.x,c.y]));for(const e of a){const t=this.handleGraphics[e],{pathIndex:s,pointIndex:i}=t.attributes;r[s][i]=[c.x,c.y],t.geometry=c}}this._updateMidpointGraphicLocations(r)}this.graphic.geometry=o}_onGraphicPointerOverCallback(e){const t=e.graphic;this._isHandle(t)&&!this._isSelected(t)&&(t.symbol=this.symbols.vertices.hover),this._updateHoverCursor(t)}_onGraphicPointerOutCallback(e){const t=e.graphic;this._isHandle(t)&&!this._isSelected(t)&&(t.symbol=this.symbols.vertices.default),this.view.cursor=\"default\"}_createHandleFromMidpoint(e){const{_graphicAttributes:s}=this,i=[],o=t(this.graphic.geometry).clone(),{pathIndex:r,pointIndexStart:h,pointIndexEnd:a}=e.attributes,{x:c,y:n}=e.geometry,l=0===a?h+1:a,p=\"polyline\"===o.type?o.paths:o.rings;return p[r].splice(l,0,[c,n]),e.attributes={...s,pathIndex:r,pointIndex:l,relatedGraphicIndices:[]},i.push({coordinates:p[r][l],componentIndex:r,vertexIndex:l}),this.graphic.geometry=o,i}_removeHandles(e){const s=t(this.graphic.geometry).clone(),i=\"polygon\"===s.type?s.rings:s.paths,o=[];e instanceof l&&(e=[e]);for(const t of e){const{x:e,y:s}=t.geometry;for(let t=0;t<i.length;t++){const r=i[t];for(let h=0;h<r.length;h++){const[a,c]=r[h];e===a&&s===c&&(o.push({coordinates:i[t][h],componentIndex:t,vertexIndex:h}),i[t].splice(Number(h),1))}}}if(\"polygon\"===s.type)for(const e of i){const[t,s]=e[0],[o,r]=e[e.length-1];(1===e.length||e.length<3&&t===o&&s===r)&&i.splice(i.indexOf(e),1),e.length>2&&(t!==o||s!==r)&&e.push(e[0])}else for(const e of i)1===e.length&&i.splice(i.indexOf(e),1);return this.graphic.geometry=s,o}_addToSelection(e){e instanceof l&&(e=[e]);for(const t of e)t.symbol=this.symbols.vertices.selected;this._set(\"selectedHandles\",this.selectedHandles.concat(e)),this._emitSelectEvent(e)}_removeFromSelection(e,t){const{vertices:s}=this.symbols,i=t?s.hover:s.default;e instanceof l&&(e=[e]);for(const t of e)this.selectedHandles.splice(this.selectedHandles.indexOf(t),1),this._set(\"selectedHandles\",this.selectedHandles),t.set(\"symbol\",i);this._emitDeselectEvent(e)}_clearSelection(){if(this.selectedHandles.length){const e=this.selectedHandles;for(const e of this.selectedHandles)e.set(\"symbol\",this.symbols.vertices.default);this._set(\"selectedHandles\",[]),this._emitDeselectEvent(e)}}_keyDownHandler(e){I.removeVertex.includes(e.key)&&!e.repeat&&this.selectedHandles.length&&this._removeVertex(this.selectedHandles)}_removeVertex(e){if(\"polygon\"===this.graphic.geometry.type&&this.handleGraphics.length<4||this.handleGraphics.length<3)return;const t=this.graphic.clone();e instanceof l&&(e=[e]);const s=this._removeHandles(e);this.refresh(),this._emitVertexRemoveEvent(e,t,s)}_isHandle(e){return this.handleGraphics.includes(e)}_isSelected(e){return this._isHandle(e)&&this.selectedHandles.includes(e)}_isMidpoint(e){return this.midpointGraphics.includes(e)}_updateHoverCursor(e){this.view.cursor=this._isMidpoint(e)?\"copy\":\"move\"}_emitMoveStartEvent(e,t){const s=new G(this.graphic,e,t);this.emit(\"move-start\",s),this.callbacks.onMoveStart&&this.callbacks.onMoveStart(s)}_emitMoveEvent(e,t){const s=new S(this.graphic,e,t);this.emit(\"move\",s),this.callbacks.onMove&&this.callbacks.onMove(s)}_emitMoveStopEvent(){const e=new w(this.graphic,this._totalDx,this._totalDy);this.emit(\"move-stop\",e),this.callbacks.onMoveStop&&this.callbacks.onMoveStop(e)}_emitReshapeStartEvent(e){const t=new f(this.graphic,e,this.selectedHandles);this.emit(\"reshape-start\",t),this.callbacks.onReshapeStart&&this.callbacks.onReshapeStart(t)}_emitReshapeEvent(e){const t=new x(this.graphic,e,this.selectedHandles);this.emit(\"reshape\",t),this.callbacks.onReshape&&this.callbacks.onReshape(t)}_emitReshapeStopEvent(e){const t=new b(this.graphic,e,this.selectedHandles);this.emit(\"reshape-stop\",t),this.callbacks.onReshapeStop&&this.callbacks.onReshapeStop(t)}_emitSelectEvent(e){const t=new M(e);this.emit(\"select\",t),this.callbacks.onVertexSelect&&this.callbacks.onVertexSelect(t)}_emitDeselectEvent(e){const t=new k(e);this.emit(\"deselect\",t),this.callbacks.onVertexDeselect&&this.callbacks.onVertexDeselect(t)}_emitVertexAddEvent(e,t,s){const i=new H(e,this.graphic,t,s);this.emit(\"vertex-add\",i),this.callbacks.onVertexAdd&&this.callbacks.onVertexAdd(i)}_emitVertexRemoveEvent(e,t,s){const i=new E(e,this.graphic,t,s);this.emit(\"vertex-remove\",i),this.callbacks.onVertexRemove&&this.callbacks.onVertexRemove(i)}};e([i()],j.prototype,\"callbacks\",void 0),e([i()],j.prototype,\"enableMidpoints\",void 0),e([i()],j.prototype,\"graphic\",void 0),e([i({readOnly:!0})],j.prototype,\"handleGraphics\",void 0),e([i()],j.prototype,\"layer\",void 0),e([i({readOnly:!0})],j.prototype,\"midpointGraphics\",void 0),e([i()],j.prototype,\"midpointSymbol\",void 0),e([i({readOnly:!0})],j.prototype,\"selectedHandles\",void 0),e([i({dependsOn:[\"view.ready\",\"graphic\",\"layer\"],readOnly:!0})],j.prototype,\"state\",null),e([i({value:C})],j.prototype,\"symbols\",null),e([i({readOnly:!0})],j.prototype,\"type\",void 0),e([i()],j.prototype,\"view\",void 0),j=e([o(\"esri.views.draw.support.Reshape\")],j);var V=j;export default V;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport e from\"../../../Color.js\";const o={main:new e([255,127,0]),selected:new e([255,255,255]),outline:new e([0,0,0,.5]),selectedOutline:new e([255,255,255]),hoverOutline:new e([255,255,255]),secondary:new e([255,255,255]),secondaryOutline:new e([100,100,100]),transparent:new e([0,0,0,0])};function t(e,o){if(o)for(const t in o)e[t]=o[t]}class s{constructor(e){this.size=8,this.hoverSize=10,this.color=o.main,this.hoverColor=o.main,this.outlineColor=o.outline,this.hoverOutlineColor=o.hoverOutline,t(this,e)}}class n{constructor(e){this.color=o.secondary,this.hoverColor=o.main,t(this,e)}}class r{constructor(e){this.color=o.transparent,this.hoverColor=o.transparent,this.outlineColor=o.main,this.hoverOutlineColor=o.main,this.stagedColor=o.transparent,this.stagedOutlineColor=o.secondary,t(this,e)}}class i{constructor(e){this.vertex=new s,this.midpoint=new s({color:o.secondary,outlineColor:o.secondaryOutline,size:6}),this.selected=new s({color:o.selected,hoverColor:o.selected,hoverOutlineColor:o.hoverOutline}),t(this,e)}}class l{constructor(e){this.center=new s({color:o.secondaryOutline}),this.fill=new r,this.line=new n,this.vertex=new s({color:o.selected,outlineColor:o.main,hoverColor:o.selected,hoverOutlineColor:o.secondaryOutline}),t(this,e)}}const c=new class{constructor(e){this.reshapeGraphics=new i,this.transformGraphics=new l,t(this,e)}};export{o as colors,c as settings};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import{get as t,isSome as i,isNone as o}from\"../../core/maybe.js\";import s from\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import{subclass as l}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import a from\"../../core/Accessor.js\";import n from\"../../core/Evented.js\";import{pt2px as c,screenPointObjectToArray as h,createScreenPointArray as p}from\"../../core/screenUtils.js\";import{c as m}from\"../../chunks/vec3f64.js\";import{k as u}from\"../../chunks/vec3.js\";import{canProjectWithoutEngine as g,project as y,projectPointToVector as d}from\"../../geometry/projection.js\";import b from\"../../symbols/support/ElevationInfo.js\";import{getDefaultSymbol2D as f}from\"../../symbols/support/defaults.js\";import{j as _}from\"../../chunks/vec2.js\";import{getGraphicEffectiveElevationMode as v}from\"../../support/elevationInfoUtils.js\";import{intersectsDrapedGeometry as S}from\"../support/drapedUtils.js\";const j=s.getLogger(\"esri.views.interactive.GraphicManipulator\");let C=class extends a{constructor(e){super(e),this.layer=null,this.interactive=!0,this.selectable=!1,this.grabbable=!0,this.dragging=!1,this.cursor=null,this.events=new n.EventEmitter,this._circleCollisionCache=null,this._graphicSymbolChangedHandle=null,this._originalSymbol=null}set graphic(e){\"mesh\"!==t(e.geometry,\"type\")?(this._circleCollisionCache=null,this._originalSymbol=e.symbol,this._set(\"graphic\",e),this.attachSymbolChanged()):j.error(\"Mesh geometries are not supported\")}get elevationInfo(){const e=\"elevationInfo\"in this.graphic.layer&&this.graphic.layer.elevationInfo,t=v(this.graphic),i=e?e.offset:0;return new b({mode:t,offset:i})}set focusedSymbol(e){e!==this._get(\"focusedSymbol\")&&(this._set(\"focusedSymbol\",e),this._updateGraphicSymbol(),this._circleCollisionCache=null)}grabbableForEvent(){return!0}set grabbing(e){e!==this._get(\"grabbing\")&&(this._set(\"grabbing\",e),this._updateGraphicSymbol())}set hovering(e){e!==this._get(\"hovering\")&&(this._set(\"hovering\",e),this._updateGraphicSymbol())}set selected(e){e!==this._get(\"selected\")&&(this._set(\"selected\",e),this._updateGraphicSymbol(),this.events.emit(\"select-changed\",{action:e?\"select\":\"deselect\"}))}get _focused(){return this._get(\"hovering\")||this._get(\"grabbing\")}destroy(){this.detachSymbolChanged(),this._resetGraphicSymbol(),this._set(\"view\",null)}intersectionDistance(e){const t=this._get(\"graphic\");if(!1===t.visible)return null;const s=this._get(\"focusedSymbol\"),r=i(s)?s:t.symbol,l=t.geometry;return o(l)?null:\"2d\"===this.view.type?this._intersectDistance2D(this.view,e,l,r):this._intersectDistance3D(this.view,e,t)}attach(){this.attachSymbolChanged(),i(this.layer)&&this.layer.add(this.graphic)}detach(){this.detachSymbolChanged(),this._resetGraphicSymbol(),i(this.layer)&&this.layer.remove(this.graphic)}attachSymbolChanged(){this.detachSymbolChanged(),this._graphicSymbolChangedHandle=this.graphic.watch(\"symbol\",(e=>{i(e)&&e!==this.focusedSymbol&&e!==this._originalSymbol&&(this._originalSymbol=e,this._focused&&i(this.focusedSymbol)&&(this.graphic.symbol=this.focusedSymbol))}),!0)}detachSymbolChanged(){i(this._graphicSymbolChangedHandle)&&(this._graphicSymbolChangedHandle.remove(),this._graphicSymbolChangedHandle=null)}_updateGraphicSymbol(){this.graphic.symbol=this._focused&&i(this.focusedSymbol)?this.focusedSymbol:this._originalSymbol}_resetGraphicSymbol(){this.graphic.symbol=this._originalSymbol}_intersectDistance2D(e,t,s,r){if(r=r||f(s),o(r))return null;let l=this._circleCollisionCache;if(\"point\"!==s.type||\"simple-marker\"!==r.type)return S(t,s,e)?1:null;if(o(l)||!l.originalPoint.equals(s)){const t=s,i=e.spatialReference;if(g(t.spatialReference,i)){const e=y(t,i);l={originalPoint:t.clone(),mapPoint:e,radiusPx:c(r.size)},this._circleCollisionCache=l}}if(i(l)){const i=h(t,G),o=e.toScreen(l.mapPoint),s=l.radiusPx,a=o.x+c(r.xoffset),n=o.y-c(r.yoffset);return _(i,[a,n])<s*s?1:null}return null}_intersectDistance3D(e,t,i){const o=e.toMap(t,{include:[i]});return o&&d(o,w,e.renderSpatialReference)?u(w,e.state.camera.eye):null}};e([r({constructOnly:!0,nonNullable:!0})],C.prototype,\"graphic\",null),e([r({readOnly:!0,dependsOn:[\"graphic\"]})],C.prototype,\"elevationInfo\",null),e([r({constructOnly:!0,nonNullable:!0})],C.prototype,\"view\",void 0),e([r({value:null})],C.prototype,\"focusedSymbol\",null),e([r({constructOnly:!0})],C.prototype,\"layer\",void 0),e([r()],C.prototype,\"interactive\",void 0),e([r()],C.prototype,\"selectable\",void 0),e([r()],C.prototype,\"grabbable\",void 0),e([r({value:!1})],C.prototype,\"grabbing\",null),e([r()],C.prototype,\"dragging\",void 0),e([r()],C.prototype,\"hovering\",null),e([r({value:!1})],C.prototype,\"selected\",null),e([r()],C.prototype,\"cursor\",void 0),C=e([l(\"esri.views.interactive.GraphicManipulator\")],C);const w=m(),G=p();export{C as GraphicManipulator};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{isSome as e,isNone as t}from\"../../core/maybe.js\";import r from\"../../geometry/Extent.js\";import\"../../geometry.js\";import{getMetersPerUnitForSR as n}from\"../../core/unitUtils.js\";import{calculateTolerance as i}from\"../../renderers/support/clickToleranceUtils.js\";function a(t,i,a,o=new r){let s;if(\"2d\"===a.type)s=i*a.resolution;else if(\"3d\"===a.type){const r=a.overlayPixelSizeInMapUnits(t),o=a.basemapSpatialReference;s=e(o)&&!o.equals(a.spatialReference)?n(o)/n(a.spatialReference):i*r}const m=t.x-s,p=t.y-s,c=t.x+s,l=t.y+s,{spatialReference:f}=a;return o.xmin=Math.min(m,c),o.ymin=Math.min(p,l),o.xmax=Math.max(m,c),o.ymax=Math.max(p,l),o.spatialReference=f,o}function o(e,r,n){const o=n.toMap(e);if(t(o))return!1;return a(o,i(),n,s).intersects(r)}const s=new r;export{a as createQueryGeometry,o as intersectsDrapedGeometry};\n"],"sourceRoot":""}