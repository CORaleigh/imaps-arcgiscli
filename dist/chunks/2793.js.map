{"version":3,"sources":["webpack://imaps/./node_modules/@arcgis/core/chunks/MeasurementArrow.glsl.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/support/PropertiesPool.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/interactive/graphics/DirectLineMeasurement3D.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/interactive/measurementTools/directLineMeasurement3D/DirectLineMeasurement3DModel.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/interactive/visualElements/LabelVisualElement.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/interactive/visualElements/LineVisualElement.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/MeasurementArrowTechnique.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/webgl-engine/materials/MeasurementArrowMaterial.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/interactive/visualElements/MeasurementArrowVisualElement.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/interactive/visualElements/support/Segment.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/interactive/measurementTools/directLineMeasurement3D/DirectLineMeasurement3DView.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/interactive/measurementTools/directLineMeasurement3D/DirectLineMeasurement3DTool.js","webpack://imaps/./node_modules/@arcgis/core/widgets/DirectLineMeasurement3D/DirectLineMeasurement3DViewModel.js","webpack://imaps/./node_modules/@arcgis/core/widgets/DirectLineMeasurement3D.js"],"names":["o","vertex","uniforms","add","attributes","varyings","code","fragment","r","Math","sqrt","Object","freeze","__proto__","build","this","owner","properties","afterDispatchHandle","t","s","e","pool","acquired","release","remove","destroy","_get","acquire","push","length","i","super","arguments","settings","n","measurement","_set","clone","prototype","value","unit","E","_tempStartPosition","_tempEndPosition","_tempCornerPosition","_unitNormalizer","_handles","_propertiesPool","startPoint","endPoint","model","cursorPoint","state","mode","active","geodesicMeasurementDistanceThreshold","watch","_updateMeasurement","then","messages","sceneView","_sphericalPCPF","spatialReference","reset","startPointSurfaceLocation","endPointSurfaceLocation","horizontalDistance","geodesicDistanceExceeded","clearMeasurement","_clearOverride","_isOverridden","measurementSurfaceLocation","camera","aboveGround","_override","metersPerDegree","G","U","abs","sin","cos","a","c","distance","angle","_fallbackGeodesicAngle","paths","isGeographic","isWebMercator","_fallbackGeodesicDistance","z","d","l","m","u","normalizeDistance","h","p","g","direct","horizontal","vertical","_euclideanDistances","_exactGeodesicDistanceAndAngle","directDistance","verticalDistance","geodesicDistance","geodesicAngle","constructOnly","dependsOn","readOnly","x","view","_textItem","_calloutItem","_showCallout","_showText","_geometry","_text","_fontSize","_distance","_anchor","applyProps","_updateLabelPosition","attached","text","fontSize","geometry","_stage","type","_computeLabelPositionFromPoint","f","position","anchor","_computeLabelPositionFromSegment","y","visible","startPosition","endPosition","updateVisibility","renderCoordsHelper","toRenderCoords","w","getCamera","projectToRenderScreen","renderToScreen","startRenderSpace","endRenderSpace","b","v","eval","pixelRatio","width","overlay","items","addMany","destroyed","removeMany","removeAll","_","_origin","_renderOccluded","_width","_color","_innerWidth","_innerColor","_stipplePattern","_stippleOffColor","_stippleIntegerRepeats","_writeDepthEnabled","_falloff","_polygonOffset","lines","forEach","origin","endpoint","points","createRenderGeometry","_updateMaterial","recreateGeometry","recreate","_material","materialParameters","_createLineGeometries","addGeometry","color","stippleOffColor","stipplePattern","isClosed","falloff","innerColor","innerWidth","stippleIntegerRepeats","polygonOffset","renderOccluded","writeDepth","setParameterValues","Float64Array","attributeData","removeDuplicateStartEnd","shader","get","rctx","generateSource","program","projectionMatrix","setUniform1f","outlineSize","setUniform4fv","outlineColor","stripeLength","stripeEvenColor","stripeOddColor","configuration","polygonOffsetEnabled","factor","units","depthTest","func","depthWrite","colorWrite","techniqueConfig","params","C","output","updateParameters","technique","techniqueRep","acquireAndReleaseExisting","material","getTechniqueConfig","bindProgram","bindPass","getPassParameters","vec3f","vec2f","f32","O","q","P","vertexBufferLayout","createBuffer","indices","vertexAttr","data","console","warn","A","transformation","L","invTranspTransformation","M","T","normal","j","uv0","I","setVec","set","auxpos1","_parameters","_originTransform","_arrowCenter","_stripeLength","_arrowMaterial","geometryChanged","arrowOutlineColor","arrowStripeEvenColor","arrowStripeOddColor","viewChanged","_createArrowGeometry","worldUpAtPosition","arrowSubdivisions","ready","computeScreenPixelSizeAt","arrowWidth","arrowOutlineWidth","arrowStripeLength","normals","renderSpatialReference","_start","_end","_pcpf","_project","_projectIn","B","J","laserLineGlowColor","laserLineGlowWidth","laserLineGlowFalloff","laserLineInnerColor","laserLineInnerWidth","laserLineGlobalAlpha","laserLineEnabled","handleColor","handleOpacity","handleRadius","triangleColor","triangleLineWidth","triangleCornerSize","triangleSubdivisions","geodesicProjectionLineWidth","geodesicProjectionLineColor","guideLineWidth","guideLineColor","guideStippleLengthPixels","labelDistance","direcLabelFontSize","horizontalLabelFontSize","verticalLabelFontSize","K","_visible","_measurementArrow","_horizontalAndVerticalSegmentLines","_rightAngleQuad","_directSegmentLabel","_verticalSegmentLabel","_horizontalSegmentLabel","_projectedGeodesicLine","_geodesicStartHint","_geodesicEndHint","_laserLine","_directSegmentLabelMeasurement","_horizontalSegmentLabelMeasurement","_verticalSegmentLabelMeasurement","_listenerHandles","_cursorPosition","_startPosition","_endPosition","_cornerPosition","_lastDraggedHandle","_viewMode","X","None","_viewModeDirty","_triangleCollapseRatioThreshold","_model","_view","_params","R","_intersector","options","store","_initializeListeners","hide","_destroyListeners","show","_computeViewMode","measurementMode","equals","Direct","_requiresGeodesicGuideAt","ProjectedGeodesic","min","triangleCollapseRatioThreshold","Triangle","_geometryChanged","testData","labels","laserLineRenderer","heightManifoldEnabled","heightManifoldTarget","pointDistanceEnabled","pointDistanceOrigin","pointDistanceTarget","lineVerticalPlaneEnabled","_computeMeasurementArrowStripeLength","available","radius","location","grabbing","_updateLaserLine","events","on","start","end","style","glowColor","glowWidth","glowFalloff","globalAlpha","_updateCursorPosition","_updateStartPosition","_updateEndPosition","cursor","screenPoint","sceneIntersectionHelper","intersectToolIntersectorScreen","results","getIntersectionPoint","PickResult","fromRenderCoords","intersector","basemapTerrain","elevationProvider","Y","horizontalDistanceText","viewMode","getAltitude","_getLabelPositions","setAltitude","setGeometryFromSegment","previous","center","next","_updateLabelText","toUnit","_getFocusPosition","pointDistanceLine","_getFocusSpherePosition","target","lineVerticalPlaneSegment","Z","PickRequest","scenePoint","mapPoint","_cachedPickRequest","_cachedPickResult","_isAnyPointerDown","deferCreation","startManipulator","endManipulator","create","complete","directLineMeasurementView","createManipulators","action","mapEnd","_surfaceLocation","surfaceType","finishMeasurement","manipulators","isMeasuring","_updateManipulatorVisibility","_handleImmediateClick","_handlePointerMove","_handlePointerDown","_handlePointerUp","_clearCachedPickRequest","pointerType","_hoverAt","emit","stopPropagation","button","interactive","requiresCursorPoint","_pick","pick","getElevation","supportedViewType","_userUnitOptions","_userUnit","tool","isDisabled","directLabelText","horizontalLabelText","verticalLabelText","_filteredOrAllUnits","_findSelectableUnit","notifyChange","defaultUnit","createTool","removeTool","clear","toolConstructor","constructorArguments","error","unitOptions","indexOf","filter","D","iconClass","label","messagesUnits","viewModel","isSupported","$","key","class","hint","unsupported","classes","H","id","for","V","onchange","_changeUnit","bind","map","systems","pluralCapitalized","W","disabled","onclick","_newMeasurement","newMeasurement","F","role","selectedIndex","aliasOf","source","overridable"],"mappings":"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","file":"chunks/2793.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../views/3d/webgl-engine/core/shaderModules/interfaces.js\";import{ShaderBuilder as t}from\"../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js\";function o(){const o=new t;o.vertex.uniforms.add(\"proj\",\"mat4\").add(\"view\",\"mat4\").add(\"width\",\"float\"),o.attributes.add(\"position\",\"vec3\"),o.attributes.add(\"normal\",\"vec3\"),o.attributes.add(\"uv0\",\"vec2\"),o.attributes.add(\"auxpos1\",\"float\"),o.varyings.add(\"vtc\",\"vec2\"),o.varyings.add(\"vlength\",\"float\"),o.varyings.add(\"vradius\",\"float\"),o.vertex.code.add(e`\n    void main(void) {\n      vec3 bitangent = normal;\n\n      vtc = uv0;\n      vlength = auxpos1;\n      vradius = 0.5 * width;\n\n      vec4 pos = view * vec4(position + vradius * bitangent * uv0.y, 1.0);\n      gl_Position = proj * pos;\n    }\n  `),o.fragment.uniforms.add(\"outlineSize\",\"float\").add(\"outlineColor\",\"vec4\").add(\"stripeLength\",\"float\").add(\"stripeEvenColor\",\"vec4\").add(\"stripeOddColor\",\"vec4\");const r=1/Math.sqrt(2);return o.fragment.code.add(e`\n    const float INV_SQRT2 = ${e.float(r)};\n\n    vec4 arrowColor(vec2 tc, float len) {\n      float d = INV_SQRT2 * (tc.x - abs(tc.y));\n      d = min(d, INV_SQRT2 * (len - tc.x - abs(tc.y)));\n      d = min(d, 1.0 - abs(tc.y));\n\n      if (d < 0.0) {\n        return vec4(0.0);\n      } else if (d < outlineSize) {\n        return outlineColor;\n      } else {\n        return fract(0.5 / stripeLength * tc.x * vradius) >= 0.5 ? stripeOddColor : stripeEvenColor;\n      }\n    }\n\n    void main(void) {\n      vec2 ntc = vec2(vtc.x / vradius, vtc.y);\n      vec4 color = arrowColor(ntc, vlength / vradius);\n      if (color.a == 0.0) {\n        discard;\n      }\n      gl_FragColor = color;\n    }\n  `),o}var r=Object.freeze({__proto__:null,build:o});export{r as M,o as b};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{ReentrantObjectPool as e}from\"../../../core/ReentrantObjectPool.js\";import{afterDispatch as t,isValueInUse as r}from\"../../../core/accessorSupport/watch.js\";class o{constructor(r,o){this.owner=o,this.properties={},this.afterDispatchHandle=null;for(const t in r){const o=r[t],s=new e(o,null,null,2,2);this.properties[t]={pool:s,acquired:[]}}this.afterDispatchHandle=t((()=>this.release()))}destroy(){this.afterDispatchHandle&&(this.afterDispatchHandle.remove(),this.afterDispatchHandle=null);for(const e in this.properties){const t=this.properties[e];for(const e of t.acquired)r(e)||t.pool.release(e);t.pool.destroy(),t.pool=null,t.acquired=null}this.properties=null,this.owner=null}get(e){const t=this.owner._get(e),r=this.properties[e];let o=r.pool.acquire();for(r.acquired.push(o);o===t;)r.acquired.push(o),o=r.pool.acquire();return o}release(){for(const e in this.properties){const t=this.properties[e];let o=0;for(const e of t.acquired)r(e)?t.acquired[o++]=e:t.pool.release(e);t.acquired.length=o}}}export default o;export{o as PropertiesPool};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../chunks/tslib.es6.js\";import\"../../../../core/has.js\";import{isSome as e}from\"../../../../core/maybe.js\";import\"../../../../core/Logger.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{property as s}from\"../../../../core/accessorSupport/decorators/property.js\";import{subclass as r}from\"../../../../core/accessorSupport/decorators/subclass.js\";import\"../../../../core/urlUtils.js\";import\"../../../../core/uuid.js\";import\"../../../../portal/support/resourceExtension.js\";import o from\"../../../../core/Accessor.js\";let i=class extends o{constructor(){super(...arguments),this.settings=new n,this.measurement=null}destroy(){this.settings.destroy()}set startPoint(t){this.measurement=null,this._set(\"startPoint\",e(t)?t.clone():null)}set endPoint(t){this.measurement=null,this._set(\"endPoint\",e(t)?t.clone():null)}};t([s()],i.prototype,\"settings\",void 0),t([s({value:null})],i.prototype,\"startPoint\",null),t([s({value:null})],i.prototype,\"endPoint\",null),t([s()],i.prototype,\"measurement\",void 0),i=t([r(\"esri.views.3d.interactive.graphics.DirectLineMeasurement3D\")],i);let n=class extends o{constructor(){super(...arguments),this.unit=\"metric\"}};t([s({value:\"metric\"})],n.prototype,\"unit\",void 0),n=t([r(\"esri.views.3d.interactive.graphics.directLineMeasurement3D.Settings\")],n);export{i as DirectLineMeasurement3D,n as Settings};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import\"../../../../../core/has.js\";import{isSome as t,isNone as s}from\"../../../../../core/maybe.js\";import\"../../../../../core/Logger.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import{property as o}from\"../../../../../core/accessorSupport/decorators/property.js\";import{aliasOf as i}from\"../../../../../core/accessorSupport/decorators/aliasOf.js\";import{subclass as r}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import\"../../../../../core/urlUtils.js\";import\"../../../../../core/uuid.js\";import\"../../../../../portal/support/resourceExtension.js\";import n from\"../../../../../core/Accessor.js\";import a from\"../../../../../geometry/Point.js\";import c from\"../../../../../geometry/Polyline.js\";import{onLocaleChange as d}from\"../../../../../intl/locale.js\";import{rad2deg as l,acosClamped as m,deg2rad as u}from\"../../../../../core/mathUtils.js\";import{fetchMessageBundle as h}from\"../../../../../intl/messages.js\";import\"../../../../../intl.js\";import{c as p}from\"../../../../../chunks/vec3f64.js\";import{k as f}from\"../../../../../chunks/vec3.js\";import g from\"../../../../../core/Handles.js\";import{init as P}from\"../../../../../core/watchUtils.js\";import{getSphericalPCPF as _,getReferenceEllipsoid as v,SphericalECEFSpatialReference as y,WGS84ECEFSpatialReference as j}from\"../../../../../geometry/projectionEllipsoid.js\";import{canProjectWithoutEngine as M,projectPointToWGS84ComparableLonLat as D,projectPointToVector as w}from\"../../../../../geometry/projection.js\";import b from\"../../../../../core/Quantity.js\";import{inverseGeodeticSolver as S,isSupported as L,geodesicLengths as z}from\"../../../../../geometry/support/geodesicUtils.js\";import{geodesicLength as O}from\"../../../../../geometry/geometryEngine.js\";import{PropertiesPool as k}from\"../../../support/PropertiesPool.js\";import x from\"../support/UnitNormalizer.js\";import{DirectLineMeasurement3D as A}from\"../../graphics/DirectLineMeasurement3D.js\";let E=class extends n{constructor(){super(...arguments),this._tempStartPosition=p(),this._tempEndPosition=p(),this._tempCornerPosition=p(),this._unitNormalizer=new x,this._handles=new g,this._propertiesPool=new k({startPoint:a,endPoint:a},this),this.model=new A,this.cursorPoint=null,this.state=\"initial\",this.mode=\"auto\",this.active=!1,this.geodesicMeasurementDistanceThreshold=1e5}initialize(){this._handles.add([this.model.watch(\"startPoint\",(()=>this._updateMeasurement()),!0),this.model.watch(\"endPoint\",(()=>this._updateMeasurement()),!0),this.model.watch(\"settings\",(()=>this._updateMeasurement()),!0)],\"model\"),h(\"esri/core/t9n/Units\").then((e=>{this.messages=e})),this._handles.add(d((async()=>{this.messages=await h(\"esri/core/t9n/Units\")}))),this._handles.add(P(this.sceneView,\"spatialReference\",(e=>{const t=_(e),s=t===y?j:t;this._sphericalPCPF=s;const o=M(e,s);this._unitNormalizer.spatialReference=o?s:e})),\"scene-view\"),this.reset()}destroy(){this._handles.destroy(),this._handles=null,this._propertiesPool.destroy(),this._propertiesPool=null,this.model.destroy()}set startPointSurfaceLocation(e){this._set(\"startPointSurfaceLocation\",e),this._updateMeasurement()}set endPointSurfaceLocation(e){this._set(\"endPointSurfaceLocation\",e),this._updateMeasurement()}get measurementSurfaceLocation(){const e=this.startPointSurfaceLocation,t=this.endPointSurfaceLocation;return null==e||null==t||\"above-the-surface\"===e&&\"below-the-surface\"===t||\"below-the-surface\"===e&&\"above-the-surface\"===t||\"on-the-surface\"===e&&\"on-the-surface\"===t?\"camera-dependent\":\"above-the-surface\"===e||\"above-the-surface\"===t?\"above-the-surface\":\"below-the-surface\"}get validMeasurement(){return t(this.model.startPoint)&&t(this.model.endPoint)}get isMeasuring(){return!!this.startPoint}get geodesicDistanceExceeded(){return t(this.model.measurement)&&this.model.measurement.horizontalDistance&&this.model.measurement.horizontalDistance.value>this.geodesicMeasurementDistanceThreshold}get measurementMode(){let e=this.mode;return\"auto\"===e&&(e=\"euclidean\",\"degrees\"!==this.unit&&\"degrees-minutes-seconds\"!==this.unit||(e=\"geodesic\"),this.geodesicDistanceExceeded&&(e=\"geodesic\")),e}reset(){this.clearMeasurement()}clearMeasurement(){this.state=\"initial\",this.startPoint=null,this.endPoint=null,this.cursorPoint=null,this._clearOverride(\"measurementSurfaceLocation\"),this._updateMeasurement()}finishMeasurement(){if(!this._isOverridden(\"measurementSurfaceLocation\")){const e=this.measurementSurfaceLocation,t=\"camera-dependent\"===e?this.sceneView.state.camera.aboveGround?\"above-the-surface\":\"below-the-surface\":e;this._override(\"measurementSurfaceLocation\",t)}this.state=\"measured\"}_fallbackGeodesicAngle(e,t){return e/v(t).metersPerDegree}_fallbackGeodesicDistance(e,t,s){if(D(e,G)){D(t,U);const e=u(G[0]),s=u(G[1]),o=u(U[0]),i=u(U[1]),r=Math.abs(o-e),n=m(Math.sin(s)*Math.sin(i)+Math.cos(s)*Math.cos(i)*Math.cos(r)),a=l(n),c={distance:0};return S(c,[G[0],G[1]],[U[0],U[1]]),{distance:c.distance,angle:a}}{const t=e.spatialReference,o=s;return{distance:o,angle:this._fallbackGeodesicAngle(o,t)}}}_exactGeodesicDistanceAndAngle(e,t,s){const o=e.spatialReference,i=new c({paths:[e,t],spatialReference:o}),r=o.isGeographic&&L(o)?z([i],\"meters\")[0]:o.isWebMercator?O(i,\"meters\"):void 0,{distance:n,angle:a}=r?{distance:r,angle:this._fallbackGeodesicAngle(r,o)}:this._fallbackGeodesicDistance(e,t,s);return{distance:new b(n,\"meters\"),angle:new b(a,\"degrees\")}}_euclideanDistances(e,t){e.z>t.z&&(e=[e,e=t][0]);const s=e.clone();s.z=t.z;const o=this._tempStartPosition,i=this._tempEndPosition,r=this._tempCornerPosition,n=this.sceneView.spatialReference,a=this._sphericalPCPF,c=M(n,a)?a:n;w(e,o,c),w(t,i,c),w(s,r,c);const d=f(o,i),l=f(r,i),m=Math.abs(t.z-e.z),u=e=>this._unitNormalizer.normalizeDistance(e),h=u(d),p=u(l),g=u(m);return{direct:new b(h,\"meters\"),horizontal:new b(p,\"meters\"),vertical:new b(g,\"meters\")}}_updateMeasurement(){if(s(this.startPoint)||s(this.endPoint))return void(this.model.measurement=null);const e=this._euclideanDistances(this.startPoint,this.endPoint),t=this._exactGeodesicDistanceAndAngle(this.startPoint,this.endPoint,e.horizontal.value);this.model.measurement={directDistance:e.direct,horizontalDistance:e.horizontal,verticalDistance:e.vertical,geodesicDistance:t.distance,geodesicAngle:t.angle}}};e([o()],E.prototype,\"messages\",void 0),e([o({constructOnly:!0})],E.prototype,\"sceneView\",void 0),e([o()],E.prototype,\"model\",void 0),e([i(\"model.startPoint\")],E.prototype,\"startPoint\",void 0),e([o({value:null})],E.prototype,\"startPointSurfaceLocation\",null),e([i(\"model.endPoint\")],E.prototype,\"endPoint\",void 0),e([o({value:null})],E.prototype,\"endPointSurfaceLocation\",null),e([o({dependsOn:[\"startPointSurfaceLocation\",\"endPointSurfaceLocation\"]})],E.prototype,\"measurementSurfaceLocation\",null),e([o()],E.prototype,\"cursorPoint\",void 0),e([o()],E.prototype,\"state\",void 0),e([o()],E.prototype,\"mode\",void 0),e([i(\"model.settings.unit\")],E.prototype,\"unit\",void 0),e([o()],E.prototype,\"active\",void 0),e([o({readOnly:!0,dependsOn:[\"model.startPoint\",\"model.endPoint\"]})],E.prototype,\"validMeasurement\",null),e([o({readOnly:!0,dependsOn:[\"startPoint\"]})],E.prototype,\"isMeasuring\",null),e([o()],E.prototype,\"geodesicMeasurementDistanceThreshold\",void 0),e([o({readOnly:!0,dependsOn:[\"model.measurement\",\"geodesicMeasurementDistanceThreshold\"]})],E.prototype,\"geodesicDistanceExceeded\",null),e([o({readOnly:!0,dependsOn:[\"unit\",\"geodesicDistanceExceeded\"]})],E.prototype,\"measurementMode\",null),E=e([r(\"esri.views.3d.interactive.measurementTools.directLineMeasurement3D.DirectLineMeasurement3DModel\")],E);const G=p(),U=p();var R=E;export default R;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{isSome as t,unwrap as e}from\"../../../../core/maybe.js\";import{createRenderScreenPointArray as s,createRenderScreenPointArray3 as i,createScreenPointArray as o}from\"../../../../core/screenUtils.js\";import{c as h}from\"../../../../chunks/vec3f64.js\";import r from\"../../../../core/Handles.js\";import{s as a,n,l,a as c,h as m}from\"../../../../chunks/vec2.js\";import{VisualElement as _}from\"./VisualElement.js\";import u from\"../../../overlay/LineOverlayItem.js\";import d from\"../../../overlay/TextOverlayItem.js\";import{screenSpaceTangent as p}from\"../measurementTools/support/viewUtils.js\";class x extends _{constructor(t){super(t.view),this._handles=new r,this._textItem=null,this._calloutItem=null,this._showCallout=!0,this._showText=!0,this._geometry=null,this._text=null,this._fontSize=14,this._distance=25,this._anchor=\"right\",this.applyProps(t)}get geometry(){return this._geometry}set geometry(t){this._geometry=t,this._updateLabelPosition()}get textItem(){return this._textItem}get text(){return this._text}set text(t){this._text=t,this.attached&&(this._textItem.text=this._text)}get fontSize(){return this._fontSize}set fontSize(t){this._fontSize=t,this.attached&&(this._textItem.fontSize=this._fontSize)}get distance(){return this._distance}set distance(t){this._distance!==t&&(this._distance=t,this._updateLabelPosition())}get anchor(){return this._anchor}set anchor(t){this._anchor!==t&&(this._anchor=t,this._updateLabelPosition())}_updateLabelPosition(){if(this.attached&&t(this.geometry)&&this.view._stage)switch(this.geometry.type){case\"point\":this._computeLabelPositionFromPoint(this.geometry,f)?(this._textItem.position=[f[0],f[1]],this._textItem.anchor=\"center\",this._showText=!0):this._showText=!1,this._showCallout=!1;break;case\"euclidean\":case\"geodesic\":if(this._computeLabelPositionFromSegment(this.geometry,this._distance,this._anchor,f,y)){const t=y[0]-f[0],e=y[1]-f[1];this._textItem.position=[y[0],y[1]],this._textItem.anchor=Math.abs(t)>Math.abs(e)?t>0?\"left\":\"right\":e>0?\"top\":\"bottom\",this._textItem.visible=this.visible,this._calloutItem.startPosition=[f[0],f[1]],this._calloutItem.endPosition=[y[0],y[1]],this._showText=!0,this._showCallout=!0}else this._showText=!1,this._showCallout=!1}this.updateVisibility(this.visible)}_computeLabelPositionFromPoint(t,e){this.view.renderCoordsHelper.toRenderCoords(t,w);const s=this.view._stage.getCamera();return s.projectToRenderScreen(w,g),!(g[2]<0||g[2]>1)&&(s.renderToScreen(g,e),!0)}_computeLabelPositionFromSegment(t,e,s,i,o){if(!t)return!1;const h=this.view._stage.getCamera();p(t.startRenderSpace,t.endRenderSpace,b,h),a(v,-b[1],b[0]);let r=!1;switch(s){case\"top\":r=v[1]<0;break;case\"bottom\":r=v[1]>0;break;case\"left\":r=v[0]>0;break;case\"right\":r=v[0]<0}if(r&&n(v,v),0===l(v))switch(s){case\"top\":v[1]=1;break;case\"bottom\":v[1]=-1;break;case\"left\":v[0]=-1;break;case\"right\":v[0]=1}return t.eval(.5,w),h.projectToRenderScreen(w,g),!(g[2]<0||g[2]>1)&&(h.renderToScreen(g,i),c(v,v,e*h.pixelRatio),m(v,v,g),h.renderToScreen(v,o),!0)}createResources(){this._textItem=new d({visible:!0}),this._textItem.text=e(this._text),this._textItem.fontSize=this._fontSize,this._calloutItem=new u({visible:!0,width:2}),this._updateLabelPosition(),this.view.overlay.items.addMany([this._textItem,this._calloutItem]),this._handles.add(this.view.state.watch(\"camera\",(()=>{this._updateLabelPosition()})))}destroyResources(){this.view.overlay&&!this.view.overlay.destroyed&&this.view.overlay.items.removeMany([this._textItem,this._calloutItem]),this._handles.removeAll()}updateVisibility(t){this._textItem.visible=this._showText&&t,this._calloutItem.visible=this._showCallout&&t}}const b=s(),v=s(),w=h(),g=i(),f=o(),y=o();export{x as LabelVisualElement};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{isSome as e,isNone as t}from\"../../../../core/maybe.js\";import{c as r}from\"../../../../chunks/vec3f64.js\";import{s as i}from\"../../../../chunks/vec3.js\";import{g as s,c as o}from\"../../../../chunks/vec4.js\";import n from\"../../webgl-engine/lib/Geometry.js\";import{RibbonLineMaterial as l}from\"../../webgl-engine/materials/RibbonLineMaterial.js\";import{createGeometryData as h}from\"../../layers/graphics/lineUtils.js\";import{f as a,c as p,a as d}from\"../../../../chunks/vec4f32.js\";import{Object3DVisualElement as _}from\"./Object3DVisualElement.js\";class f extends _{constructor(e){super(e),this._origin=r(),this._renderOccluded=4,this._width=1,this._color=a(1,0,1,1),this._innerWidth=1,this._innerColor=null,this._stipplePattern=null,this._stippleOffColor=null,this._stippleIntegerRepeats=!1,this._writeDepthEnabled=!0,this._falloff=0,this._polygonOffset=!1,this.applyProps(e)}setGeometryFromExtent(e){const t=this.view.spatialReference,s=r(),o=r(),n=100,l=[];i(s,e[0],e[1],n),this.view.renderCoordsHelper.toRenderCoords(s,t,o),l.push([o[0],o[1],o[2]]),i(s,e[2],e[1],n),this.view.renderCoordsHelper.toRenderCoords(s,t,o),l.push([o[0],o[1],o[2]]),i(s,e[2],e[3],n),this.view.renderCoordsHelper.toRenderCoords(s,t,o),l.push([o[0],o[1],o[2]]),i(s,e[0],e[3],n),this.view.renderCoordsHelper.toRenderCoords(s,t,o),l.push([o[0],o[1],o[2]]),i(s,e[0],e[1],n),this.view.renderCoordsHelper.toRenderCoords(s,t,o),l.push([o[0],o[1],o[2]]),i(s,e[0],e[1],n),this.view.renderCoordsHelper.toRenderCoords(s,t,o),l.push([o[0],o[1],o[2]]),this.geometry=[l]}setGeometryFromFrustum(e){const t=[];e.lines.forEach((e=>{t.push([e.origin[0],e.origin[1],e.origin[2]]),t.push([e.endpoint[0],e.endpoint[1],e.endpoint[2]])})),this.geometry=[t]}setGeometryFromSegment(e){const{points:t}=e.createRenderGeometry(this._origin,this.view.renderCoordsHelper);this.geometry=[t]}get renderOccluded(){return this._renderOccluded}set renderOccluded(e){e!==this._renderOccluded&&(this._renderOccluded=e,this._updateMaterial())}get geometry(){return this._geometry}set geometry(e){this._geometry=e,this.recreateGeometry()}get width(){return this._width}set width(e){e!==this._width&&(this._width=e,this._updateMaterial())}get color(){return this._color}set color(e){s(e,this._color)||(o(this._color,e),this._updateMaterial())}get innerWidth(){return this._innerWidth}set innerWidth(e){e!==this._innerWidth&&(this._innerWidth=e,this._updateMaterial())}get innerColor(){return this._innerColor}set innerColor(e){s(e,this._innerColor)||(this._innerColor=o(p(),e),this._updateMaterial())}get stipplePattern(){return this._stipplePattern}set stipplePattern(t){const r=e(t)!==e(this._stipplePattern);this._stipplePattern=t,r?this.recreate():this._updateMaterial()}get stippleOffColor(){return this._stippleOffColor}set stippleOffColor(r){(t(r)||t(this._stippleOffColor)||!s(r,this._stippleOffColor))&&(this._stippleOffColor=e(r)?d(r):null,this._updateMaterial())}get stippleIntegerRepeats(){return this._stippleIntegerRepeats}set stippleIntegerRepeats(e){this._stippleIntegerRepeats!==e&&(this._stippleIntegerRepeats=e,this._updateMaterial())}get writeDepthEnabled(){return this._writeDepthEnabled}set writeDepthEnabled(e){this._writeDepthEnabled!==e&&(this._writeDepthEnabled=e,this._updateMaterial())}get falloff(){return this._falloff}set falloff(e){e!==this._falloff&&(this._falloff=e,this._updateMaterial())}get polygonOffset(){return this._polygonOffset}set polygonOffset(e){e!==this._polygonOffset&&(this._polygonOffset=e,this._updateMaterial())}createExternalResources(){this._material=new l(this.materialParameters,\"lineVisualElement\")}destroyExternalResources(){this._material=null}createGeometries(e){const t=this._createLineGeometries();if(0!==t.length)for(let r=0;r<t.length;++r){const i=h(t[r]),s=new n(i,\"lineVisualElement\");e.addGeometry(s,this._material)}}forEachExternalResource(e){e(this._material)}get materialParameters(){return{width:this._width,color:this._color,stippleOffColor:this._stippleOffColor,stipplePattern:this._stipplePattern,isClosed:!1,falloff:this._falloff,innerColor:this._innerColor,innerWidth:this._innerWidth,stippleIntegerRepeats:this._stippleIntegerRepeats,polygonOffset:this._polygonOffset,renderOccluded:this._renderOccluded,writeDepth:this._writeDepthEnabled}}_updateMaterial(){this.attached&&this._material.setParameterValues(this.materialParameters)}_createLineGeometries(){const e=this.geometry;if(t(e))return[];const r=[];return e.forEach((e=>{const t=e.length,i=new Float64Array(3*t);e.forEach(((e,t)=>{i[3*t+0]=e[0],i[3*t+1]=e[1],i[3*t+2]=e[2]}));const s={attributeData:{position:i},removeDuplicateStartEnd:0};r.push(s)})),r}}export{f as LineVisualElement};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../../chunks/tslib.es6.js\";import{ReloadableShaderModule as e}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as t}from\"../core/shaderTechnique/ShaderTechnique.js\";import{ShaderTechniqueConfiguration as o,parameter as i}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{Default3D as s}from\"../lib/DefaultVertexAttributeLocations.js\";import n from\"../../../webgl/Program.js\";import{makePipelineState as a,defaultDepthWriteParams as m,defaultColorWriteParams as l}from\"../../../webgl/renderState.js\";import{View as p}from\"../core/shaderLibrary/util/View.glsl.js\";import{M as f}from\"../../../../chunks/MeasurementArrow.glsl.js\";class h extends t{constructor(r,e){super(r,e)}initializeProgram(r){const e=h.shader.get().build();return new n(r.rctx,e.generateSource(\"vertex\"),e.generateSource(\"fragment\"),s)}bindPass(r,e,t){p.bindProjectionMatrix(this.program,t.camera.projectionMatrix),this.program.setUniform1f(\"width\",e.width),this.program.setUniform1f(\"outlineSize\",e.outlineSize),this.program.setUniform4fv(\"outlineColor\",e.outlineColor),this.program.setUniform1f(\"stripeLength\",e.stripeLength),this.program.setUniform4fv(\"stripeEvenColor\",e.stripeEvenColor),this.program.setUniform4fv(\"stripeOddColor\",e.stripeOddColor)}bindDraw(r){p.bindView(this.program,r)}initializePipeline(){return a({polygonOffset:this.configuration.polygonOffsetEnabled&&{factor:0,units:-4},depthTest:{func:513},depthWrite:m,colorWrite:l})}get primitiveType(){return 5}}h.shader=new e(f,(()=>import(\"./MeasurementArrow.glsl.js\")));class d extends o{constructor(){super(...arguments),this.polygonOffsetEnabled=!1}}r([i()],d.prototype,\"polygonOffsetEnabled\",void 0);export{h as MeasurementArrowTechnique,d as MeasurementArrowTechniqueConfiguration};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{c as e}from\"../../../../chunks/vec3f64.js\";import{s as t,n as s,f as r,c as i,k as n,i as o}from\"../../../../chunks/vec3.js\";import{newLayout as a}from\"../../support/buffer/InterleavedLayout.js\";import{VertexAttrConstants as c}from\"../lib/Util.js\";import u from\"../lib/GLMaterial.js\";import{Material as f,materialParametersDefaults as l}from\"../lib/Material.js\";import{MeasurementArrowTechniqueConfiguration as h,MeasurementArrowTechnique as p}from\"../shaders/MeasurementArrowTechnique.js\";class m extends f{constructor(e,t){super(t,e,g),this.techniqueConfig=new h}getTechniqueConfig(){return this.techniqueConfig.polygonOffsetEnabled=this.params.polygonOffset,this.techniqueConfig}dispose(){}getPassParameters(){return this.params}intersect(){}createBufferWriter(){return new C}getGLMaterial(e){return 0===e.output?new d(e):void 0}}class d extends u{constructor(e){super(e),this.updateParameters()}updateParameters(){this.technique=this.techniqueRep.acquireAndReleaseExisting(p,this.material.getTechniqueConfig(),this.technique)}beginSlot(e){return 3===e}bind(e,t){e.bindProgram(this.technique.program),this.technique.bindPass(e,this.material.getPassParameters(),t)}}const g={width:32,outlineSize:.2,outlineColor:[1,.5,0,1],stripeLength:1,stripeEvenColor:[1,1,1,1],stripeOddColor:[1,.5,0,1],polygonOffset:!1,...l},v=a().vec3f(c.POSITION).vec3f(c.NORMAL).vec2f(c.UV0).f32(c.AUXPOS1),O=e(),q=e(),P=e(),b=e(),x=e();class C{constructor(){this.vertexBufferLayout=v}allocate(e){return this.vertexBufferLayout.createBuffer(e)}elementCount(e){return 2*(e.indices[c.POSITION].length/2+1)}write(e,a,u,f){const l=a.vertexAttr[c.POSITION].data,h=a.vertexAttr[c.NORMAL].data,p=l.length/3,m=a&&a.indices&&a.indices.position;m&&m.length!==2*(p-1)&&console.warn(\"MeasurementArrowMaterial does not support indices\");const d=O,g=q,v=P,C=b,w=x,A=e.transformation,L=e.invTranspTransformation,M=u.position,T=u.normal,j=u.uv0;let I=0;for(let e=0;e<p;++e){const a=3*e;if(t(d,l[a],l[a+1],l[a+2]),e<p-1){const n=3*(e+1);t(g,l[n],l[n+1],l[n+2]),t(w,h[n],h[n+1],h[n+2]),s(w,w),r(v,g,d),s(v,v),i(C,w,v),s(C,C)}const c=n(d,g);A&&L&&(o(d,d,A),o(g,g,A),o(C,C,L));const u=f+2*e,m=u+1;M.setVec(u,d),M.setVec(m,d),T.setVec(u,C),T.setVec(m,C),j.set(u,0,I),j.set(u,1,-1),j.set(m,0,I),j.set(m,1,1),e<p-1&&(I+=c)}const y=u.auxpos1;for(let e=0;e<2*p;++e)y.set(f+e,I)}}export{m as MeasurementArrowMaterial};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{isNone as e,isSome as r}from\"../../../../core/maybe.js\";import{c as t}from\"../../../../chunks/vec3f64.js\";import{f as s}from\"../../../../chunks/vec3.js\";import i from\"../../../../core/Handles.js\";import{a as o}from\"../../../../chunks/mat4f64.js\";import{sv3d as a}from\"../../support/stack.js\";import n from\"../../webgl-engine/lib/GeometryUtil.js\";import h from\"../../webgl-engine/lib/Geometry.js\";import{Object3DVisualElement as l}from\"./Object3DVisualElement.js\";import{MeasurementArrowMaterial as d}from\"../../webgl-engine/materials/MeasurementArrowMaterial.js\";class m extends l{constructor(e){super(e),this._parameters=c,this._handles=null,this._origin=t(),this._originTransform=o(),this._arrowCenter=t(),this._renderOccluded=4,this._geometry=null,this._stripeLength=1,this.applyProps(e)}get renderOccluded(){return this._renderOccluded}set renderOccluded(e){e!==this._renderOccluded&&(this._renderOccluded=e,this._arrowMaterial&&this._arrowMaterial.setParameterValues({renderOccluded:e}))}get geometry(){return this._geometry}set geometry(e){this._geometry=e,this.geometryChanged()}get stripeLength(){return this._stripeLength}set stripeLength(e){this._stripeLength=e,this.attached&&this._arrowMaterial.setParameterValues({stripeLength:this._stripeLength})}createExternalResources(){this._arrowMaterial=new d({outlineColor:this._parameters.arrowOutlineColor,stripeEvenColor:this._parameters.arrowStripeEvenColor,stripeOddColor:this._parameters.arrowStripeOddColor,renderOccluded:this.renderOccluded,polygonOffset:!0},\"arrow\"),this._handles=new i,this._handles.add(this.view.state.watch(\"camera\",(()=>{this.viewChanged()})))}destroyExternalResources(){this._arrowMaterial=null,this._handles.destroy(),this._handles=null}forEachExternalResource(e){e(this._arrowMaterial)}createGeometries(r){if(e(this._geometry)||e(this._geometry.startRenderSpace)||e(this._geometry.endRenderSpace))return;const t=this._createArrowGeometry(this._geometry.startRenderSpace,this._geometry.endRenderSpace,this._origin,this._geometry);r.addGeometry(t,this._arrowMaterial,this._originTransform),this.viewChanged()}_createArrowGeometry(e,r,t,i){const o=this.view.renderCoordsHelper,l=[],d=[],m=(e,r)=>{const i=a.get();s(i,e,t),l.push(i),d.push(r)};if(\"euclidean\"===i.type){i.eval(.5,this._arrowCenter);const t=a.get();o.worldUpAtPosition(this._arrowCenter,t),m(e,t),m(r,t)}else{i.eval(.5,this._arrowCenter);const e=this._parameters.arrowSubdivisions+1&-2;for(let r=0;r<e;++r){const t=r/(e-1),s=a.get(),n=a.get();i.eval(t,s),o.worldUpAtPosition(s,n),m(s,n)}}return new h(n.createPolylineGeometry(l,d),\"arrow\")}geometryChanged(){this.recreateGeometry()}viewChanged(){if(this.view.ready&&this.attached&&r(this._geometry)){const e=this.view._stage.getCamera().computeScreenPixelSizeAt(this._arrowCenter);this._arrowMaterial.setParameterValues({width:this._parameters.arrowWidth*e})}}}const c={arrowWidth:16,arrowOutlineColor:[1,.5,0,1],arrowOutlineWidth:.2,arrowStripeEvenColor:[1,1,1,1],arrowStripeOddColor:[1,.5,0,1],arrowStripeLength:16,arrowSubdivisions:128};export{m as MeasurementArrowVisualElement};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{c as t}from\"../../../../../chunks/vec3f64.js\";import{e,g as s,f as r}from\"../../../../../chunks/vec3.js\";import{slerp as i}from\"../../../support/mathUtils.js\";import{getSphericalPCPF as o}from\"../../../../../geometry/projectionEllipsoid.js\";import{canProjectWithoutEngine as n,projectVectorToVector as p}from\"../../../../../geometry/projection.js\";import{sv3d as c}from\"../../../support/stack.js\";class a{constructor(e=t(),s=t()){this.startRenderSpace=e,this.endRenderSpace=s,this.type=\"euclidean\"}eval(t,s){return e(s,this.startRenderSpace,this.endRenderSpace,t)}createRenderGeometry(t,e){const s=[],i=[],o=(e,o)=>{const n=m;r(n,e,t),s.push([n[0],n[1],n[2]]),i.push([o[0],o[1],o[2]])},n=e.worldUpAtPosition(this.eval(.5,d),c.get());return o(this.startRenderSpace,n),o(this.endRenderSpace,n),{points:s,normals:i}}}class h{constructor(e,s,r){this.startRenderSpace=e,this.endRenderSpace=s,this.renderSpatialReference=r,this.type=\"geodesic\",this._start=t(),this._end=t(),this._pcpf=o(r),this._project=n(r,this._pcpf),this._projectIn(e,this._start),this._projectIn(s,this._end)}_projectIn(t,e){this._project?p(t,this.renderSpatialReference,e,this._pcpf):s(e,t)}eval(t,s){return this._project?(i(this._start,this._end,t,s),p(s,this._pcpf,s,this.renderSpatialReference)):e(s,this._start,this._end,t),s}createRenderGeometry(t,e){const s=[],i=[],o=(e,o)=>{const n=l;r(n,e,t),s.push([n[0],n[1],n[2]]),i.push([o[0],o[1],o[2]])};for(let t=0;t<128;++t){const s=t/127,r=d,i=m;this.eval(s,r),e.worldUpAtPosition(r,i),o(r,i)}return{points:s,normals:i}}}const d=t(),m=t(),l=t();export{a as EuclideanSegment,h as GeodesicSegment};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{isNone as e,isSome as t,unwrap as i}from\"../../../../../core/maybe.js\";import{sign as s,nextHighestPowerOfTen as n,deg2rad as r}from\"../../../../../core/mathUtils.js\";import{screenPointObjectToArray as o,castRenderScreenPointArray3 as a,castRenderScreenPointArray as l}from\"../../../../../core/screenUtils.js\";import{c as h}from\"../../../../../chunks/vec3f64.js\";import{a as d,b as c,g as _}from\"../../../../../chunks/vec3.js\";import m from\"../../../../../core/Handles.js\";import{getReferenceEllipsoid as g}from\"../../../../../geometry/projectionEllipsoid.js\";import{preferredImperialLengthUnit as u,convertUnit as v}from\"../../../../../core/unitUtils.js\";import{i as p,t as b}from\"../../../../../chunks/mat4.js\";import{a as L}from\"../../../../../chunks/mat4f64.js\";import{formatDecimal as w,formatDMS as S,formatImperialLength as P,formatImperialVerticalLength as f,formatMetricLength as D,formatMetricVerticalLength as z}from\"../../../../../core/quantityFormatUtils.js\";import{g as y}from\"../../../../../chunks/vec2.js\";import{getElevationAtPoint as C}from\"../../../support/ElevationProvider.js\";import{sv3d as M,sv2d as j}from\"../../../support/stack.js\";import{lineSegment as A}from\"../../../support/geometryUtils.js\";import{Intersector as H}from\"../../../webgl-engine/lib/Intersector.js\";import{createStipplePatternSimple as E}from\"../../../webgl-engine/materials/lineStippleUtils.js\";import{f as T}from\"../../../../../chunks/vec4f32.js\";import{LaserlineVisualElement as G}from\"../../visualElements/LaserlineVisualElement.js\";import{RightAngleQuadVisualElement as R}from\"../../visualElements/RightAngleQuadVisualElement.js\";import{createSphereManipulator as x}from\"../../manipulatorUtils.js\";import{copyParameter as k,pointToPointScreenDistance as V,screenSpaceTangent as F,midpoint as O}from\"../support/viewUtils.js\";import{mirrorPosition as W}from\"../support/labelUtils.js\";import{LabelVisualElement as U}from\"../../visualElements/LabelVisualElement.js\";import{LineVisualElement as I}from\"../../visualElements/LineVisualElement.js\";import{MeasurementArrowVisualElement as Q}from\"../../visualElements/MeasurementArrowVisualElement.js\";import{GeodesicSegment as q,EuclideanSegment as N}from\"../../visualElements/support/Segment.js\";const B=T(1,.5,0,.75),J={laserLineGlowColor:[1,.5,0],laserLineGlowWidth:8,laserLineGlowFalloff:8,laserLineInnerColor:[1,1,1],laserLineInnerWidth:.75,laserLineGlobalAlpha:.75,laserLineEnabled:!0,handleColor:[1,.5,0],handleOpacity:.5,handleRadius:5,triangleColor:B,triangleLineWidth:3,triangleCornerSize:32,triangleSubdivisions:128,arrowWidth:16,arrowOutlineColor:[1,.5,0,1],arrowOutlineWidth:.2,arrowStripeEvenColor:[1,1,1,1],arrowStripeOddColor:[1,.5,0,1],arrowStripeLength:16,arrowSubdivisions:128,geodesicProjectionLineWidth:2,geodesicProjectionLineColor:B,guideLineWidth:2,guideLineColor:B,guideStippleLengthPixels:6,labelDistance:25,direcLabelFontSize:16,horizontalLabelFontSize:12,verticalLabelFontSize:12};class K{constructor(e,t={}){this._visible=!1,this._measurementArrow=null,this._horizontalAndVerticalSegmentLines=null,this._rightAngleQuad=null,this._directSegmentLabel=null,this._verticalSegmentLabel=null,this._horizontalSegmentLabel=null,this._projectedGeodesicLine=null,this._geodesicStartHint=null,this._geodesicEndHint=null,this._laserLine=null,this._directSegmentLabelMeasurement=\"directDistance\",this._horizontalSegmentLabelMeasurement=\"horizontalDistance\",this._verticalSegmentLabelMeasurement=\"verticalDistance\",this._handles=new m,this._listenerHandles=null,this._cursorPosition=h(),this._startPosition=h(),this._endPosition=h(),this._cornerPosition=h(),this._origin=h(),this._originTransform=L(),this._lastDraggedHandle=null,this._viewMode=X.None,this._viewModeDirty=!0,this._triangleCollapseRatioThreshold=.03,this._model=e,this._view=e.sceneView,this._params=k(J,t),this._measurementArrow=new Q({attached:!0,view:this._view,geometry:null,renderOccluded:4}),this._horizontalAndVerticalSegmentLines=new I({attached:!0,view:this._view,width:this._params.triangleLineWidth,color:this._params.triangleColor,renderOccluded:4}),this._rightAngleQuad=new R({attached:!0,view:this._view,color:B,renderOccluded:4}),this._directSegmentLabel=new U({attached:!0,view:this._view,fontSize:this._params.direcLabelFontSize}),this._verticalSegmentLabel=new U({attached:!0,view:this._view,fontSize:this._params.verticalLabelFontSize}),this._horizontalSegmentLabel=new U({attached:!0,view:this._view,fontSize:this._params.horizontalLabelFontSize}),this._projectedGeodesicLine=new I({attached:!0,view:this._view,width:this._params.geodesicProjectionLineWidth,color:this._params.geodesicProjectionLineColor,polygonOffset:!0,stipplePattern:E(this._params.guideStippleLengthPixels),stippleIntegerRepeats:!1,renderOccluded:4}),this._geodesicStartHint=new I({attached:!0,view:this._view,width:this._params.guideLineWidth,color:this._params.geodesicProjectionLineColor,polygonOffset:!0,stipplePattern:E(this._params.guideStippleLengthPixels),stippleIntegerRepeats:!1,renderOccluded:4}),this._geodesicEndHint=new I({attached:!0,view:this._view,width:this._params.guideLineWidth,color:this._params.geodesicProjectionLineColor,polygonOffset:!0,stipplePattern:E(this._params.guideStippleLengthPixels),stippleIntegerRepeats:!1,renderOccluded:4}),this._laserLine=new G({view:this._view,attached:!0}),this._intersector=new H(this._view.state.mode),this._intersector.options.store=0,this._initializeListeners()}destroy(){this.hide(),this._destroyListeners(),this._handles.destroy(),this._handles=null,this._measurementArrow.destroy(),this._measurementArrow=null,this._horizontalAndVerticalSegmentLines.destroy(),this._horizontalAndVerticalSegmentLines=null,this._rightAngleQuad.destroy(),this._rightAngleQuad=null,this._directSegmentLabel.destroy(),this._directSegmentLabel=null,this._verticalSegmentLabel.destroy(),this._verticalSegmentLabel=null,this._horizontalSegmentLabel.destroy(),this._horizontalSegmentLabel=null,this._projectedGeodesicLine.destroy(),this._projectedGeodesicLine=null,this._geodesicStartHint.destroy(),this._geodesicStartHint=null,this._geodesicEndHint.destroy(),this._geodesicEndHint=null}get requiresCursorPoint(){return\"initial\"===this._model.state&&this._model.active}get cameraAboveGround(){return this._view.state.camera.aboveGround}get visible(){return this._visible}set visible(e){e?this.show():this.hide()}get viewMode(){return this._viewModeDirty&&(this._viewMode=this._computeViewMode()),this._viewMode}_computeViewMode(){this._viewModeDirty=!1;const t=this._model,i=t.model,s=i.measurement,n=\"geodesic\"===t.measurementMode;if(e(i.startPoint)||e(i.endPoint)||i.startPoint.equals(i.endPoint))return X.None;if(n){if(!this._model.geodesicDistanceExceeded)return X.Direct;if(this._requiresGeodesicGuideAt(this._startPosition)||this._requiresGeodesicGuideAt(this._endPosition))return X.ProjectedGeodesic}if(e(s))return X.Direct;return Math.min(s.verticalDistance.value/s.horizontalDistance.value,s.horizontalDistance.value/s.verticalDistance.value)<this.triangleCollapseRatioThreshold?X.Direct:X.Triangle}get triangleCollapseRatioThreshold(){return this._triangleCollapseRatioThreshold}set triangleCollapseRatioThreshold(e){this._triangleCollapseRatioThreshold=e,this._viewModeDirty=!0,this._geometryChanged()}get testData(){const e=this._laserLine.testData,i=\"geodesic\"===this._model.measurementMode;return{labels:{direct:i?this._horizontalSegmentLabel:this._directSegmentLabel,horizontal:i?this._directSegmentLabel:this._horizontalSegmentLabel,vertical:this._verticalSegmentLabel},laserLineRenderer:{heightManifoldEnabled:!!t(e)&&e.heightManifoldEnabled,heightManifoldTarget:t(e)?e.heightManifoldTarget:null,pointDistanceEnabled:!!t(e)&&e.pointDistanceEnabled,pointDistanceOrigin:t(e)?e.pointDistanceOrigin:null,pointDistanceTarget:t(e)?e.pointDistanceTarget:null,lineVerticalPlaneEnabled:!!t(e)&&e.lineVerticalPlaneEnabled},stripeLength:this._computeMeasurementArrowStripeLength(this._model.model)}}get directLabelText(){return this._directSegmentLabel.text}get horizontalLabelText(){return this._horizontalSegmentLabel.text}get verticalLabelText(){return this._verticalSegmentLabel.text}createManipulators(){const e=()=>{const e=x(this._view,this._params.handleColor,this._params.handleOpacity);return e.available=!1,e.radius=this._params.handleRadius,e},t=e(),s=e();this._model.startPoint&&(t.location=i(this._model.startPoint),t.available=!0),this._model.endPoint&&(s.location=i(this._model.endPoint),s.available=!0);const n=()=>{let e=this._lastDraggedHandle;t.grabbing&&!s.grabbing&&(e=\"start\"),s.grabbing&&!t.grabbing&&(e=\"end\"),t.grabbing||s.grabbing||(e=null);const i=e!==this._lastDraggedHandle;this._lastDraggedHandle=e,i&&this.visible&&this._updateLaserLine()};return this._handles.add([t.events.on(\"grab-changed\",(()=>{n()})),s.events.on(\"grab-changed\",(()=>{n()}))]),{start:t,end:s}}show(){this._visible||(this._visible=!0,this._laserLine.style={innerColor:this._params.laserLineInnerColor,innerWidth:this._params.laserLineInnerWidth,glowColor:this._params.laserLineGlowColor,glowWidth:this._params.laserLineGlowWidth,glowFalloff:this._params.laserLineGlowFalloff,globalAlpha:this._params.laserLineGlobalAlpha},this._laserLine.visible=!0,this._viewModeDirty=!0,this._updateCursorPosition(),this._updateStartPosition(),this._updateEndPosition(),this._updateLaserLine(),this._geometryChanged())}hide(){this._visible&&(this._visible=!1,this._measurementArrow.visible=!1,this._horizontalAndVerticalSegmentLines.visible=!1,this._rightAngleQuad.visible=!1,this._directSegmentLabel.visible=!1,this._verticalSegmentLabel.visible=!1,this._horizontalSegmentLabel.visible=!1,this._projectedGeodesicLine.visible=!1,this._geodesicStartHint.visible=!1,this._geodesicEndHint.visible=!1,this._laserLine.visible=!1,this._view.cursor=null)}pick(e){const t=this._view.spatialReference,i=o(e.screenPoint);this._view.sceneIntersectionHelper.intersectToolIntersectorScreen(i,this._intersector);const s=this._intersector.results.min,n=h();if(!s.getIntersectionPoint(n))return new K.PickResult;const r=this._view.renderCoordsHelper.fromRenderCoords(n,t),a=\"TerrainRenderer\"===s.intersector?\"ground\":\"feature\";return new K.PickResult(a,n,r)}getElevation(e){return this._view.basemapTerrain.ready&&C(this._view.elevationProvider,e)||0}overlappingHandles(e,t){return V(e,t,this._view)<=this._params.handleRadius}_getLabelPositions(e,t,i,n,r){const o=this._viewMode!==X.Triangle,h=a(M.get()),d=a(M.get());r.projectToRenderScreen(i,h),r.projectToRenderScreen(t,d);const c={direct:o?\"top\":\"bottom\",horizontal:\"top\",vertical:h[0]<d[0]?\"left\":\"right\"};if(!o){const n=j.get(),o=j.get();if(F(e,i,n,r),F(e,t,o,r),y(n,o)>=Y)c.direct=s(n[1])===s(o[1])?W(c.vertical):c.vertical;else{const e=l(j.get());F(i,t,e,r),y(e,o)>=Y&&(c.direct=s(e[0])===s(o[0])?W(c.horizontal):c.horizontal)}}if(\"below-the-surface\"===n){const e=e=>\"top\"===e?\"bottom\":\"top\";c.direct=e(c.direct),c.horizontal=e(c.horizontal),c.vertical=e(c.vertical)}return c}_updateLabelText(){const t=this._model.model.measurement;if(e(t)||!this._model.messages)return;const i={verticalDistance:\"\",horizontalDistance:\"\",directDistance:\"\",geodesicDistance:\"\"},s=this._model.messages,n=t.directDistance,r=t.horizontalDistance,o=t.verticalDistance,a=t.geodesicDistance,l=t.geodesicAngle;switch(this._model.unit){case\"metric\":i.directDistance=n&&D(s,n),i.horizontalDistance=r&&D(s,r),i.verticalDistance=o&&z(s,o),i.geodesicDistance=a&&D(s,a);break;case\"imperial\":i.directDistance=n&&P(s,n),i.horizontalDistance=r&&P(s,r),i.verticalDistance=o&&f(s,o),i.geodesicDistance=a&&P(s,a);break;case\"degrees\":{const e=l&&w(s,l,\"degrees\");i.directDistance=e,i.horizontalDistance=e,i.geodesicDistance=e;break}case\"degrees-minutes-seconds\":i.horizontalDistanceText=l&&S(l);break;default:i.directDistance=n&&w(s,n,this._model.unit),i.horizontalDistance=r&&w(s,r,this._model.unit),i.verticalDistance=o&&w(s,o,this._model.unit),i.geodesicDistance=a&&w(s,a,this._model.unit)}this._directSegmentLabel.text=i[this._directSegmentLabelMeasurement],this._horizontalSegmentLabel.text=i[this._horizontalSegmentLabelMeasurement],this._verticalSegmentLabel.text=i[this._verticalSegmentLabelMeasurement]}_geometryChanged(){const e=this._view,t=e.state.camera,i=this._model,s=i.measurementMode,n=e.renderCoordsHelper,r=this.viewMode;if(r===X.None)return this._rightAngleQuad.visible=!1,this._horizontalAndVerticalSegmentLines.visible=!1,this._directSegmentLabel.visible=!1,this._horizontalSegmentLabel.visible=!1,this._verticalSegmentLabel.visible=!1,this._measurementArrow.visible=!1,this._projectedGeodesicLine.visible=!1,this._geodesicStartHint.visible=!1,void(this._geodesicEndHint.visible=!1);let o=this._startPosition,a=this._endPosition;const l=\"camera-dependent\"===i.measurementSurfaceLocation?this._view.state.camera.aboveGround?\"above-the-surface\":\"below-the-surface\":i.measurementSurfaceLocation,h=\"above-the-surface\"===l?1:-1,m=h*(e.renderCoordsHelper.getAltitude(a)-e.renderCoordsHelper.getAltitude(o));m<0&&(o=this._endPosition,a=this._startPosition);const g=this._cornerPosition;e.renderCoordsHelper.worldUpAtPosition(o,g),d(g,g,h*Math.abs(m)),c(g,g,o);const u=\"geodesic\"===s,v=u?new q(this._startPosition,this._endPosition,this._view.renderCoordsHelper.spatialReference):new N(this._startPosition,this._endPosition),L=this._getLabelPositions(o,a,g,l,t);switch(O([o,a,g],this._origin),p(this._originTransform),b(this._originTransform,this._originTransform,this._origin),this._measurementArrow.geometry=v,this._measurementArrow.stripeLength=this._computeMeasurementArrowStripeLength(this._model.model),this._measurementArrow.visible=!0,this._directSegmentLabel.anchor=L.direct,this._directSegmentLabel.geometry=v,this._directSegmentLabel.visible=!0,this._directSegmentLabelMeasurement=\"geodesic\"===s?\"geodesicDistance\":\"directDistance\",r){case X.Direct:this._horizontalSegmentLabelMeasurement=u?\"geodesicDistance\":\"horizontalDistance\",this._rightAngleQuad.visible=!1,this._horizontalAndVerticalSegmentLines.visible=!1,this._horizontalSegmentLabel.visible=!1,this._verticalSegmentLabel.visible=!1,this._projectedGeodesicLine.visible=!1,this._geodesicStartHint.visible=!1,this._geodesicEndHint.visible=!1;break;case X.ProjectedGeodesic:{const e=_(M.get(),this._startPosition),t=_(M.get(),this._endPosition);n.setAltitude(0,e),n.setAltitude(0,t);const i=new q(e,t,this._view.renderCoordsHelper.spatialReference);this._projectedGeodesicLine.setGeometryFromSegment(i),this._projectedGeodesicLine.visible=!0,this._geodesicStartHint.setGeometryFromSegment(new N(e,this._startPosition)),this._geodesicStartHint.visible=!0,this._geodesicEndHint.setGeometryFromSegment(new N(t,this._endPosition)),this._geodesicEndHint.visible=!0,this._directSegmentLabel.geometry=i,this._directSegmentLabelMeasurement=\"geodesicDistance\",this._rightAngleQuad.visible=!1,this._horizontalAndVerticalSegmentLines.visible=!1,this._horizontalSegmentLabel.visible=!1,this._verticalSegmentLabel.visible=!1;break}case X.Triangle:{this._horizontalAndVerticalSegmentLines.geometry=[[[o[0],o[1],o[2]],[g[0],g[1],g[2]],[a[0],a[1],a[2]]]],this._horizontalAndVerticalSegmentLines.visible=!0;const e=new N(o,g);this._verticalSegmentLabel.visible=!0,this._verticalSegmentLabel.geometry=e,this._verticalSegmentLabel.anchor=L.vertical,this._verticalSegmentLabelMeasurement=\"verticalDistance\";const t=new N(g,a);this._horizontalSegmentLabel.visible=!0,this._horizontalSegmentLabel.geometry=t,this._horizontalSegmentLabel.anchor=L.horizontal,this._horizontalSegmentLabelMeasurement=\"horizontalDistance\",this._rightAngleQuad.geometry={previous:o,center:g,next:a},this._rightAngleQuad.visible=!0,this._projectedGeodesicLine.visible=!1,this._geodesicStartHint.visible=!1,this._geodesicEndHint.visible=!1;break}}this._updateLabelText()}_computeMeasurementArrowStripeLength(e){let i=null;if(t(e.measurement)){const t=e.measurement.directDistance;switch(this._model.model.settings.unit){case\"metric\":i=t&&t.toUnit(\"meters\");break;case\"imperial\":i=t&&t.toUnit(u(t.value,t.unit));break;case\"degrees\":case\"degrees-minutes-seconds\":{const t=e.measurement.geodesicAngle;i=t&&t.toUnit(\"degrees\");break}default:i=t&&t.toUnit(this._model.model.settings.unit)}}let s=1;return i&&(s=n(i.value/30),s*=\"degrees\"===i.unit?g(this._view.spatialReference).metersPerDegree:v(1,i.unit,\"meters\")),s}_requiresGeodesicGuideAt(e){if(!this._view.state)return!1;const t=this._view.state.camera,i=this._view.renderCoordsHelper,s=t.computeScreenPixelSizeAt(e);return i.getAltitude(e)/s>=10}_updateCursorPosition(){this._model.cursorPoint&&this._view.renderCoordsHelper.toRenderCoords(this._model.cursorPoint,this._cursorPosition)}_updateStartPosition(){t(this._model.startPoint)&&this._view.renderCoordsHelper.toRenderCoords(this._model.startPoint,this._startPosition)}_updateEndPosition(){t(this._model.endPoint)&&this._view.renderCoordsHelper.toRenderCoords(this._model.endPoint,this._endPosition)}_getFocusPosition(){const e=this._model,t=this.viewMode===X.Direct&&\"euclidean\"===e.measurementMode;switch(e.state){case\"drawing\":return t?this._startPosition:e.endPoint?this._endPosition:this._startPosition;case\"editing\":return t?\"start\"===this._lastDraggedHandle?this._endPosition:this._startPosition:\"start\"===this._lastDraggedHandle?this._startPosition:this._endPosition;default:return e.cursorPoint?this._cursorPosition:null}}_getFocusSpherePosition(){return\"drawing\"===this._model.state||\"end\"===this._lastDraggedHandle?this._startPosition:this._endPosition}_updateLaserLine(){const e=this._model,t=this._getFocusPosition(),i=this.viewMode,s=this._params.laserLineEnabled&&!!t&&\"measured\"!==e.state&&e.active;if(s){const n=s&&\"euclidean\"===e.measurementMode;this._laserLine.heightManifoldTarget=n?t:null;const r=s&&!!e.startPoint&&\"geodesic\"===e.measurementMode;this._laserLine.pointDistanceLine=r?{origin:this._getFocusSpherePosition(),target:t}:null;const o=s&&i===X.Triangle;this._laserLine.lineVerticalPlaneSegment=o?A.fromPoints(this._startPosition,this._endPosition,Z):null}else this._laserLine.heightManifoldTarget=null,this._laserLine.pointDistanceLine=null,this._laserLine.lineVerticalPlaneSegment=null}_initializeListeners(){this._listenerHandles=new m,this._listenerHandles.add([this._model.watch(\"state\",(()=>{this._visible&&this._updateLaserLine()}),!0),this._model.watch(\"measurementMode\",(()=>{this._viewModeDirty=!0,this._visible&&this._updateLaserLine()}),!0),this._model.watch(\"hoveredHandle\",(()=>{this._visible&&this._geometryChanged()}),!0),this._model.watch(\"cursorPoint\",(()=>{this._updateCursorPosition(),this._visible&&this._updateLaserLine()}),!0),this._model.model.watch(\"startPoint\",(()=>{this._updateStartPosition(),this._viewModeDirty=!0,this._visible&&(this._updateLaserLine(),this._geometryChanged())}),!0),this._model.model.watch(\"endPoint\",(()=>{this._updateEndPosition(),this._viewModeDirty=!0,this._visible&&(this._updateLaserLine(),this._geometryChanged())}),!0),this._model.watch(\"messages\",(()=>{this._viewModeDirty=!0,this._visible&&this._geometryChanged(),this._updateLabelText()}),!0),this._model.watch(\"unit\",(()=>{this._viewModeDirty=!0,this._visible&&this._geometryChanged()}),!0),this._model.watch(\"active\",(()=>{this._visible&&(this._updateLaserLine(),this._geometryChanged())}),!0),this._view.state.watch(\"camera\",(()=>{this._visible&&this._geometryChanged()}),!0),this._model.model.watch(\"measurement\",(()=>{this._viewModeDirty=!0,this._visible?this._geometryChanged():this._updateLabelText()}),!0)])}_destroyListeners(){this._listenerHandles.destroy(),this._listenerHandles=null}}var X;!function(e){e.PickRequest=class{};e.PickResult=class{constructor(e=null,t=null,i=null){this.type=e,this.scenePoint=t,this.mapPoint=i}}}(K||(K={})),function(e){e[e.Triangle=0]=\"Triangle\",e[e.ProjectedGeodesic=1]=\"ProjectedGeodesic\",e[e.Direct=2]=\"Direct\",e[e.None=3]=\"None\"}(X||(X={}));const Y=Math.cos(r(12)),Z=A.create();var $=K;export default $;export{K as DirectLineMeasurement3DView,X as ViewMode};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import\"../../../../../core/has.js\";import{unwrap as t}from\"../../../../../core/maybe.js\";import\"../../../../../core/Logger.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import{property as i}from\"../../../../../core/accessorSupport/decorators/property.js\";import{aliasOf as s}from\"../../../../../core/accessorSupport/decorators/aliasOf.js\";import{subclass as r}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import\"../../../../../core/urlUtils.js\";import\"../../../../../core/uuid.js\";import\"../../../../../portal/support/resourceExtension.js\";import o from\"../../../../../geometry/Point.js\";import\"../../../../../geometry.js\";import n from\"../../../../../core/Handles.js\";import{init as a}from\"../../../../../core/watchUtils.js\";import{createScreenPointFromEvent as d}from\"../../../../support/screenUtils.js\";import{clonePoint as l}from\"../../../../../layers/graphics/hydratedFeatures.js\";import{createManipulatorDragEventPipeline as c,resetProperties as h}from\"../../../../interactive/dragEventPipeline.js\";import{InteractiveToolBase as u}from\"../../../../interactive/InteractiveToolBase.js\";import{screenToMap3D as m,hideManipulatorWhileDragging as p}from\"../../editingTools/dragEventPipeline3D.js\";import v from\"./DirectLineMeasurement3DModel.js\";import{DirectLineMeasurement3DView as P}from\"./DirectLineMeasurement3DView.js\";let y=class extends u{constructor(e){super(e),this._handles=new n,this._cachedPickRequest=new P.PickRequest,this._cachedPickResult=new P.PickResult,this._isAnyPointerDown=!1,this.deferCreation=!0,this.startManipulator=null,this.endManipulator=null,this.model=new v({sceneView:e.view})}initialize(){this._set(\"directLineMeasurementView\",new P(this.model));const e=a(this,\"state\",(e=>{\"ready\"!==e&&this.create(),\"measured\"===e&&this.complete()}),!0);this._handles.add(e);const{start:i,end:s}=this.directLineMeasurementView.createManipulators(),r=(e,i,s)=>c(e,((e,r,o)=>{const n=p(e);r.next(n).next(m(this.view)).next((e=>\"start\"!==e.action?e:null)).next((t=>{const r=l(t.mapEnd,M);this.model[i]=r,e.location=r,this.model[s]=this._surfaceLocation(r,t.surfaceType)})),o.next(n).next(h(this.model,[i,s])).next((()=>{e.location=t(this.model[i])}))}));this._handles.add([r(i,\"startPoint\",\"startPointSurfaceLocation\"),r(s,\"endPoint\",\"endPointSurfaceLocation\")]),[i,s].forEach((e=>{this._handles.add([e.events.on(\"grab-changed\",(()=>{const e=i.grabbing||s.grabbing;e&&\"measured\"===this.model.state&&(this.model.state=\"editing\"),e||(this.model.finishMeasurement(),\"editing\"===this.model.state&&(this.model.state=\"measured\"))}))])})),this.manipulators.add(i),this.manipulators.add(s),this.startManipulator=i,this.endManipulator=s}destroy(){this.directLineMeasurementView.destroy(),this._set(\"directLineMeasurementView\",null),this.model.destroy(),this._set(\"model\",null),this._handles.destroy(),this._handles=null}get state(){var e;return null!=(e=this.model)&&e.isMeasuring?\"measured\"===this.model.state?\"measured\":\"measuring\":\"ready\"}get creating(){return\"initial\"===this.model.state||\"drawing\"===this.model.state}get isSupported(){return\"3d\"===this.get(\"view.type\")}get cursor(){var e;return null==(e=this.model)||!e.active||\"drawing\"!==this.model.state&&\"initial\"!==this.model.state?null:\"crosshair\"}activate(){this.model.active=!0}deactivate(){this.model.active=!1}onDetach(){this.model.reset()}onShow(){this.directLineMeasurementView.show(),this._updateManipulatorVisibility()}onHide(){this.directLineMeasurementView.hide()}onInputEvent(e){switch(e.type){case\"immediate-click\":this._handleImmediateClick(e);break;case\"pointer-move\":this._handlePointerMove(e);break;case\"pointer-down\":this._handlePointerDown();break;case\"pointer-up\":this._handlePointerUp()}this._updateManipulatorVisibility()}_handlePointerMove(e){this._clearCachedPickRequest();const t=d(e);\"mouse\"===e.pointerType&&(this._hoverAt(t),\"drawing\"===this.model.state&&(this.endManipulator.events.emit(\"drag\",{action:\"update\",start:t,screenPoint:t}),e.stopPropagation()))}_handlePointerDown(){this._isAnyPointerDown=!0}_handlePointerUp(){this._isAnyPointerDown=!1}_handleImmediateClick(e){if(this._clearCachedPickRequest(),!function(e){return\"mouse\"!==e.pointerType||0===e.button}(e))return;const t=d(e),i=e.pointerType;let s=!1;if(this.model.active)switch(this.model.state){case\"initial\":this.startManipulator.events.emit(\"drag\",{action:\"start\",pointerType:i,start:t,screenPoint:t}),this.startManipulator.events.emit(\"drag\",{action:\"end\",start:t,screenPoint:t}),this.model.startPoint&&(this.startManipulator.interactive=!1,this.endManipulator.interactive=!1,this.model.state=\"drawing\",this.endManipulator.events.emit(\"drag\",{action:\"start\",pointerType:i,start:t,screenPoint:t}),s=!0);break;case\"drawing\":this.endManipulator.events.emit(\"drag\",{action:\"update\",start:t,screenPoint:t}),null!=this.model.endPoint&&(this.endManipulator.events.emit(\"drag\",{action:\"end\",start:t,screenPoint:t}),this.startManipulator.interactive=!0,this.endManipulator.interactive=!0,this.model.finishMeasurement(),s=!0)}s&&e.stopPropagation(),\"mouse\"===e.pointerType&&this._hoverAt(t)}_hoverAt(e){const t=this._isAnyPointerDown&&\"drawing\"!==this.model.state&&\"editing\"!==this.model.state;if(this.directLineMeasurementView.requiresCursorPoint&&!t){const t=this._pick(e);t.mapPoint&&(this.model.cursorPoint=t.mapPoint)}else this.model.cursorPoint=null}_pick(e){const t=this._cachedPickRequest.screenPoint;return t&&t.x===e.x&&t.y===e.y||(this._cachedPickRequest.screenPoint=e,this._cachedPickResult=this.directLineMeasurementView.pick(this._cachedPickRequest)),this._cachedPickResult}_clearCachedPickRequest(){this._cachedPickRequest.screenPoint=null}_surfaceLocation(e,t){return 0===t?\"on-the-surface\":e.z>=this.directLineMeasurementView.getElevation(e)?\"above-the-surface\":\"below-the-surface\"}_updateManipulatorVisibility(){this.startManipulator.available=null!=this.model.startPoint,this.endManipulator.available=null!=this.model.endPoint}};e([i({dependsOn:[\"model.isMeasuring\",\"model.state\"],readOnly:!0})],y.prototype,\"state\",null),e([i({dependsOn:[\"model.state\"],readOnly:!0})],y.prototype,\"creating\",null),e([i({dependsOn:[\"view.type\"],readOnly:!0})],y.prototype,\"isSupported\",null),e([i({dependsOn:[\"model.active\",\"model.state\"],readOnly:!0})],y.prototype,\"cursor\",null),e([i({constructOnly:!0})],y.prototype,\"model\",void 0),e([i({constructOnly:!0})],y.prototype,\"directLineMeasurementView\",void 0),e([s(\"model.mode\")],y.prototype,\"mode\",void 0),e([s(\"model.unit\")],y.prototype,\"unit\",void 0),e([s(\"model.validMeasurement\")],y.prototype,\"validMeasurement\",void 0),y=e([r(\"esri.views.3d.interactive.measurementTools.directLineMeasurement3D.DirectLineMeasurement3DTool\")],y);const M=new o;var _=y;export default _;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import{isSome as t}from\"../../core/maybe.js\";import i from\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import{ignoreAbortErrors as o}from\"../../core/promiseUtils.js\";import n from\"../../core/Handles.js\";import{init as l}from\"../../core/watchUtils.js\";import{measurementLengthUnits as a}from\"../../core/unitUtils.js\";import{defaultUnitPropertyMetadata as u}from\"../support/commonProperties.js\";import{InteractiveToolViewModel as d}from\"../support/InteractiveToolViewModel.js\";import m from\"../../views/3d/interactive/measurementTools/directLineMeasurement3D/DirectLineMeasurement3DTool.js\";const p=i.getLogger(\"esri.widgets.DirectLineMeasurement3D.DirectLineMeasurement3DViewModel\");let c=class extends d{constructor(e){super(e),this.supportedViewType=\"3d\",this._handles=new n,this._userUnitOptions=null,this._userUnit=null}initialize(){this._handles.add([l(this,\"unit\",(e=>{this.tool&&(this.tool.model.unit=e)}))])}destroy(){this._handles.destroy(),this._handles=null}get state(){return this.isDisabled?\"disabled\":this.tool?this.tool.state:\"ready\"}get measurement(){if(!this.tool)return null;const e=this.tool.model,i=e.measurementMode,r=\"geodesic\"===i,s=t(e.model.measurement),o=this.tool.directLineMeasurementView;return{mode:i,directDistance:{text:r?null:o.directLabelText,state:s&&!r?\"available\":\"unavailable\"},horizontalDistance:{text:o.horizontalLabelText,state:s?\"available\":\"unavailable\"},verticalDistance:{text:o.verticalLabelText,state:s?\"available\":\"unavailable\"}}}set unitOptions(e){this._userUnitOptions=e,this._set(\"unitOptions\",this._filteredOrAllUnits(this._userUnitOptions))}get unitOptions(){return this._filteredOrAllUnits(this._userUnitOptions)}set unit(e){this._userUnit=e?this._findSelectableUnit(e,this._userUnit):null,this.notifyChange(\"unit\")}get unit(){return this._userUnit?(this._userUnit=this._findSelectableUnit(this._userUnit,this.defaultUnit),this._userUnit):this._findSelectableUnit(this.defaultUnit)}start(){return this.createTool()}clear(){this.removeTool()}newMeasurement(){o(this.start())}clearMeasurement(){this.clear()}createToolParams(){return{toolConstructor:m,constructorArguments:()=>({unit:this.unit})}}logUnsupportedError(){p.error(\"DirectLineMeasurement3D widget is not implemented for MapView\")}logError(...e){p.error(...e)}_findSelectableUnit(e,t){const i=this.unitOptions;return-1!==i.indexOf(e)?e:t?this._findSelectableUnit(t):i[0]}_filteredOrAllUnits(e){if(!e)return a.slice();const t=e.filter((e=>-1!==a.indexOf(e)));return 0===t.length?a.slice():t}};e([r({dependsOn:[\"isDisabled\",\"tool.state\"],readOnly:!0})],c.prototype,\"state\",null),e([r({dependsOn:[\"view.ready\",\"unit\",\"tool.model.messages\",\"tool.model.startPoint\",\"tool.model.endPoint\",\"tool.directLineMeasurementView.triangleCollapseRatioThreshold\",\"tool.model.model.measurement\",\"tool.model.measurementMode\"],readOnly:!0})],c.prototype,\"measurement\",null),e([r()],c.prototype,\"tool\",void 0),e([r(u)],c.prototype,\"defaultUnit\",void 0),e([r({dependsOn:[\"view.spatialReference\"]})],c.prototype,\"unitOptions\",null),e([r({dependsOn:[\"unitOptions\",\"defaultUnit\"]})],c.prototype,\"unit\",null),c=e([s(\"esri.widgets.DirectLineMeasurement3D.DirectLineMeasurement3DViewModel\")],c);var h=c;export default h;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import\"../core/has.js\";import\"../core/Logger.js\";import\"../core/accessorSupport/ensureType.js\";import{property as s}from\"../core/accessorSupport/decorators/property.js\";import{aliasOf as t}from\"../core/accessorSupport/decorators/aliasOf.js\";import{subclass as i}from\"../core/accessorSupport/decorators/subclass.js\";import\"../core/urlUtils.js\";import\"../core/uuid.js\";import\"../portal/support/resourceExtension.js\";import{ignoreAbortErrors as r}from\"../core/promiseUtils.js\";import{isMeasurementSystem as n}from\"../core/unitUtils.js\";import\"./support/widgetUtils.js\";import{accessibleHandler as o}from\"./support/decorators/accessibleHandler.js\";import{messageBundle as a}from\"./support/decorators/messageBundle.js\";import{renderable as l}from\"./support/decorators/renderable.js\";import{j as d}from\"../chunks/index.js\";import c from\"./Widget.js\";import u from\"./DirectLineMeasurement3D/DirectLineMeasurement3DViewModel.js\";const m=\"esri-button esri-button--secondary\",p=\"esri-button--disabled\",v=\"esri-direct-line-measurement-3d\",_=\"esri-widget\",h=\"esri-widget--panel\",w=\"esri-direct-line-measurement-3d__container\",b=\"esri-direct-line-measurement-3d__hint\",y=\"esri-direct-line-measurement-3d__hint-text\",g=\"esri-direct-line-measurement-3d__panel--error\",M=\"esri-direct-line-measurement-3d__measurement\",j=\"esri-direct-line-measurement-3d__measurement-item\",f=\"esri-direct-line-measurement-3d__measurement-item--disabled\",D=\"esri-direct-line-measurement-3d__measurement-item-title\",k=\"esri-direct-line-measurement-3d__measurement-item-value\",U=\"esri-direct-line-measurement-3d__settings\",x=\"esri-direct-line-measurement-3d__units\",L=\"esri-direct-line-measurement-3d__units-label\",O=\"esri-direct-line-measurement-3d__units-select esri-select\",S=\"esri-direct-line-measurement-3d__units-select-wrapper\",z=\"esri-direct-line-measurement-3d__actions\",C=\"esri-direct-line-measurement-3d__clear-button\",$=\"esri-icon-measure-line\";let B=class extends c{constructor(e,s){super(e,s),this.view=null,this.visible=null,this.iconClass=$,this.label=void 0,this.messages=null,this.messagesUnits=null,this.viewModel=new u,this.unitOptions=null,this.unit=null}render(){const{isSupported:e,active:s,state:t,measurement:i,unit:r}=this.viewModel,o=\"disabled\"===t,a=\"ready\"===t,l=\"measuring\"===t||\"measured\"===t,{messages:c,messagesUnits:u}=this,$=s&&a?d(\"section\",{key:\"esri-direct-line-measurement-3d__hint\",class:b},d(\"p\",{class:y},c.hint)):null,B=e?null:d(\"section\",{key:\"esri-direct-line-measurement-3d__unsupported\",class:g},d(\"p\",null,c.unsupported)),E=(e,s,t)=>{switch(s.state){case\"available\":return d(\"div\",{key:`${t}-enabled`,class:j},d(\"span\",{class:D},e),d(\"span\",{class:k},s.text));case\"unavailable\":return d(\"div\",{key:`${t}-disabled`,class:this.classes(j,f)},d(\"span\",{class:D},e))}},H=l?d(\"section\",{key:\"esri-direct-line-measurement-3d__measurement\",class:M},E(c.direct,i.directDistance,\"direct\"),E(c.horizontal,i.horizontalDistance,\"horizontal\"),E(c.vertical,i.verticalDistance,\"vertical\")):null,I=`${this.id}__units`,T=d(\"label\",{class:L,for:I},c.unit),V=d(\"div\",{class:S},d(\"select\",{class:O,id:I,onchange:this._changeUnit,bind:this,value:r},this.viewModel.unitOptions.map((e=>{var s;return d(\"option\",{key:e,value:e},n(e)?u.systems[e]:null==(s=u.units[e])?void 0:s.pluralCapitalized)})))),W=d(\"section\",{key:\"esri-direct-line-measurement-3d__units\",class:x},T,V),q=l?d(\"div\",{key:\"settings\",class:U},W):null,A=!e||s&&!l?null:d(\"div\",{class:z},d(\"button\",{disabled:o,class:this.classes(m,C,o&&p),bind:this,onclick:this._newMeasurement,type:\"button\"},c.newMeasurement)),F=this.visible?d(\"div\",{class:w},B,$,q,H,A):null;return d(\"div\",{key:\"\",class:this.classes(v,_,h),role:\"presentation\"},F)}_newMeasurement(){r(this.viewModel.start())}_changeUnit(e){const s=e.target,t=s.options[s.selectedIndex];t&&(this.unit=t.value)}};e([t(\"viewModel.view\")],B.prototype,\"view\",void 0),e([t(\"viewModel.visible\"),l()],B.prototype,\"visible\",void 0),e([t(\"viewModel.active\"),l()],B.prototype,\"active\",void 0),e([s()],B.prototype,\"iconClass\",void 0),e([s({aliasOf:{source:\"messages.widgetLabel\",overridable:!0}})],B.prototype,\"label\",void 0),e([s(),l(),a(\"esri/widgets/DirectLineMeasurement3D/t9n/DirectLineMeasurement3D\")],B.prototype,\"messages\",void 0),e([s(),l(),a(\"esri/core/t9n/Units\")],B.prototype,\"messagesUnits\",void 0),e([s({type:u}),l([\"viewModel.state\",\"viewModel.unitOptions\",\"viewModel.unit\",\"viewModel.measurement\"])],B.prototype,\"viewModel\",void 0),e([t(\"viewModel.unitOptions\")],B.prototype,\"unitOptions\",void 0),e([t(\"viewModel.unit\")],B.prototype,\"unit\",void 0),e([o()],B.prototype,\"_newMeasurement\",null),e([o()],B.prototype,\"_changeUnit\",null),B=e([i(\"esri.widgets.DirectLineMeasurement3D\")],B);var E=B;export default E;\n"],"sourceRoot":""}