{"version":3,"sources":["webpack://imaps/./node_modules/@arcgis/core/chunks/MeasurementArrow.glsl.js","webpack://imaps/./node_modules/@arcgis/core/core/Quantity.js","webpack://imaps/./node_modules/@arcgis/core/core/quantityFormatUtils.js","webpack://imaps/./node_modules/@arcgis/core/libs/maquette/h.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/interactive/measurementTools/support/UnitNormalizer.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/interactive/measurementTools/support/labelUtils.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/interactive/measurementTools/support/viewUtils.js","webpack://imaps/./node_modules/@arcgis/core/views/overlay/LineOverlayItem.js","webpack://imaps/./node_modules/@arcgis/core/views/overlay/TextOverlayItem.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/support/PropertiesPool.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/interactive/graphics/DirectLineMeasurement3D.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/interactive/measurementTools/directLineMeasurement3D/DirectLineMeasurement3DModel.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/interactive/visualElements/LabelVisualElement.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/interactive/visualElements/LineVisualElement.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/MeasurementArrowTechnique.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/webgl-engine/materials/MeasurementArrowMaterial.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/interactive/visualElements/MeasurementArrowVisualElement.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/interactive/visualElements/support/Segment.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/interactive/measurementTools/directLineMeasurement3D/DirectLineMeasurement3DView.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/interactive/measurementTools/directLineMeasurement3D/DirectLineMeasurement3DTool.js","webpack://imaps/./node_modules/@arcgis/core/widgets/DirectLineMeasurement3D/DirectLineMeasurement3DViewModel.js","webpack://imaps/./node_modules/@arcgis/core/widgets/DirectLineMeasurement3D.js","webpack://imaps/./node_modules/@arcgis/core/widgets/support/InteractiveToolViewModel.js"],"names":["o","vertex","uniforms","add","attributes","varyings","code","fragment","r","Math","sqrt","Object","freeze","__proto__","build","e","i","s","this","measure","value","unit","t","toUnit","l","a","n","f","Error","h","b","g","length","Array","isArray","vnodeSelector","properties","children","text","toString","domNode","push","hasOwnProperty","spatialReference","_updateNormalizationFactors","_spatialReference","_metersPerDistanceUnit","_metersPerElevationUnit","_squareMetersPerAreaUnit","m","S","projectToRenderScreen","w","renderToScreen","U","updatePosition","c","p","start","end","R","v","d","origin","pixelRatio","T","q","k","j","pop","x","H","state","camera","renderCoordsHelper","toRenderCoords","C","y","z","super","startX","startY","endX","endY","width","color","visible","_set","height","left","top","x1","x2","y1","y2","calculateCoordinates","strokeStyle","lineCap","classes","styles","visibility","style","lineWidth","beginPath","moveTo","lineTo","stroke","min","max","prototype","dependsOn","readOnly","bottom","center","right","fontSize","anchor","backgroundColor","textColor","textShadowColor","textShadowSize","_cssClasses","floor","padding","borderRadius","textShadow","font","replace","measureText","textAlign","textBaseline","roundedRect","fillStyle","fill","_renderTextShadow","fillText","lineJoin","arcTo","closePath","cos","PI","sin","owner","afterDispatchHandle","pool","acquired","release","remove","destroy","_get","acquire","arguments","settings","measurement","clone","E","_tempStartPosition","_tempEndPosition","_tempCornerPosition","_unitNormalizer","_handles","_propertiesPool","startPoint","endPoint","model","cursorPoint","mode","active","geodesicMeasurementDistanceThreshold","watch","_updateMeasurement","then","messages","sceneView","_sphericalPCPF","reset","startPointSurfaceLocation","endPointSurfaceLocation","horizontalDistance","geodesicDistanceExceeded","clearMeasurement","_clearOverride","_isOverridden","measurementSurfaceLocation","aboveGround","_override","metersPerDegree","G","abs","distance","angle","_fallbackGeodesicAngle","paths","isGeographic","isWebMercator","_fallbackGeodesicDistance","u","normalizeDistance","direct","horizontal","vertical","_euclideanDistances","_exactGeodesicDistanceAndAngle","directDistance","verticalDistance","geodesicDistance","geodesicAngle","constructOnly","view","_textItem","_calloutItem","_showCallout","_showText","_geometry","_text","_fontSize","_distance","_anchor","applyProps","_updateLabelPosition","attached","geometry","_stage","type","_computeLabelPositionFromPoint","position","_computeLabelPositionFromSegment","startPosition","endPosition","updateVisibility","getCamera","startRenderSpace","endRenderSpace","eval","overlay","items","addMany","destroyed","removeMany","removeAll","_","_origin","_renderOccluded","_width","_color","_innerWidth","_innerColor","_stipplePattern","_stippleOffColor","_stippleIntegerRepeats","_writeDepthEnabled","_falloff","_polygonOffset","lines","forEach","endpoint","points","createRenderGeometry","_updateMaterial","recreateGeometry","recreate","_material","materialParameters","_createLineGeometries","addGeometry","stippleOffColor","stipplePattern","isClosed","falloff","innerColor","innerWidth","stippleIntegerRepeats","polygonOffset","renderOccluded","writeDepth","setParameterValues","Float64Array","attributeData","removeDuplicateStartEnd","shader","get","rctx","generateSource","program","projectionMatrix","setUniform1f","outlineSize","setUniform4fv","outlineColor","stripeLength","stripeEvenColor","stripeOddColor","configuration","polygonOffsetEnabled","factor","units","depthTest","func","depthWrite","colorWrite","techniqueConfig","params","output","updateParameters","technique","techniqueRep","acquireAndReleaseExisting","material","getTechniqueConfig","bindProgram","bindPass","getPassParameters","vec3f","vec2f","f32","O","P","vertexBufferLayout","createBuffer","indices","vertexAttr","data","console","warn","A","transformation","L","invTranspTransformation","M","normal","uv0","I","setVec","set","auxpos1","_parameters","_originTransform","_arrowCenter","_stripeLength","_arrowMaterial","geometryChanged","arrowOutlineColor","arrowStripeEvenColor","arrowStripeOddColor","viewChanged","_createArrowGeometry","worldUpAtPosition","arrowSubdivisions","ready","computeScreenPixelSizeAt","arrowWidth","arrowOutlineWidth","arrowStripeLength","normals","renderSpatialReference","_start","_end","_pcpf","_project","_projectIn","B","J","laserLineGlowColor","laserLineGlowWidth","laserLineGlowFalloff","laserLineInnerColor","laserLineInnerWidth","laserLineGlobalAlpha","laserLineEnabled","handleColor","handleOpacity","handleRadius","triangleColor","triangleLineWidth","triangleCornerSize","triangleSubdivisions","geodesicProjectionLineWidth","geodesicProjectionLineColor","guideLineWidth","guideLineColor","guideStippleLengthPixels","labelDistance","direcLabelFontSize","horizontalLabelFontSize","verticalLabelFontSize","K","_visible","_measurementArrow","_horizontalAndVerticalSegmentLines","_rightAngleQuad","_directSegmentLabel","_verticalSegmentLabel","_horizontalSegmentLabel","_projectedGeodesicLine","_geodesicStartHint","_geodesicEndHint","_laserLine","_directSegmentLabelMeasurement","_horizontalSegmentLabelMeasurement","_verticalSegmentLabelMeasurement","_listenerHandles","_cursorPosition","_startPosition","_endPosition","_cornerPosition","_lastDraggedHandle","_viewMode","X","None","_viewModeDirty","_triangleCollapseRatioThreshold","_model","_view","_params","_intersector","options","store","_initializeListeners","hide","_destroyListeners","show","_computeViewMode","measurementMode","equals","Direct","_requiresGeodesicGuideAt","ProjectedGeodesic","triangleCollapseRatioThreshold","Triangle","_geometryChanged","testData","labels","laserLineRenderer","heightManifoldEnabled","heightManifoldTarget","pointDistanceEnabled","pointDistanceOrigin","pointDistanceTarget","lineVerticalPlaneEnabled","_computeMeasurementArrowStripeLength","available","radius","location","grabbing","_updateLaserLine","events","on","glowColor","glowWidth","glowFalloff","globalAlpha","_updateCursorPosition","_updateStartPosition","_updateEndPosition","cursor","screenPoint","sceneIntersectionHelper","intersectToolIntersectorScreen","results","getIntersectionPoint","PickResult","fromRenderCoords","intersector","basemapTerrain","elevationProvider","Y","horizontalDistanceText","viewMode","getAltitude","_getLabelPositions","setAltitude","setGeometryFromSegment","previous","next","_updateLabelText","_getFocusPosition","pointDistanceLine","_getFocusSpherePosition","target","lineVerticalPlaneSegment","Z","PickRequest","scenePoint","mapPoint","_cachedPickRequest","_cachedPickResult","_isAnyPointerDown","deferCreation","startManipulator","endManipulator","create","complete","directLineMeasurementView","createManipulators","action","mapEnd","_surfaceLocation","surfaceType","finishMeasurement","manipulators","isMeasuring","_updateManipulatorVisibility","_handleImmediateClick","_handlePointerMove","_handlePointerDown","_handlePointerUp","_clearCachedPickRequest","pointerType","_hoverAt","emit","stopPropagation","button","interactive","requiresCursorPoint","_pick","pick","getElevation","supportedViewType","_userUnitOptions","_userUnit","tool","isDisabled","directLabelText","horizontalLabelText","verticalLabelText","_filteredOrAllUnits","_findSelectableUnit","notifyChange","defaultUnit","createTool","removeTool","clear","toolConstructor","constructorArguments","error","unitOptions","indexOf","filter","D","iconClass","label","messagesUnits","viewModel","isSupported","$","key","class","hint","unsupported","id","for","V","onchange","_changeUnit","bind","map","systems","pluralCapitalized","W","disabled","onclick","_newMeasurement","newMeasurement","F","role","selectedIndex","aliasOf","source","overridable","_baseHandles","_loggedUnsupportedErrorOnce","_creationAbortController","logUnsupportedError","tools","removed","abort","createToolParams","AbortController","signal","Boolean"],"mappings":"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","file":"chunks/2793.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../views/3d/webgl-engine/core/shaderModules/interfaces.js\";import{ShaderBuilder as t}from\"../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js\";function o(){const o=new t;o.vertex.uniforms.add(\"proj\",\"mat4\").add(\"view\",\"mat4\").add(\"width\",\"float\"),o.attributes.add(\"position\",\"vec3\"),o.attributes.add(\"normal\",\"vec3\"),o.attributes.add(\"uv0\",\"vec2\"),o.attributes.add(\"auxpos1\",\"float\"),o.varyings.add(\"vtc\",\"vec2\"),o.varyings.add(\"vlength\",\"float\"),o.varyings.add(\"vradius\",\"float\"),o.vertex.code.add(e`\n    void main(void) {\n      vec3 bitangent = normal;\n\n      vtc = uv0;\n      vlength = auxpos1;\n      vradius = 0.5 * width;\n\n      vec4 pos = view * vec4(position + vradius * bitangent * uv0.y, 1.0);\n      gl_Position = proj * pos;\n    }\n  `),o.fragment.uniforms.add(\"outlineSize\",\"float\").add(\"outlineColor\",\"vec4\").add(\"stripeLength\",\"float\").add(\"stripeEvenColor\",\"vec4\").add(\"stripeOddColor\",\"vec4\");const r=1/Math.sqrt(2);return o.fragment.code.add(e`\n    const float INV_SQRT2 = ${e.float(r)};\n\n    vec4 arrowColor(vec2 tc, float len) {\n      float d = INV_SQRT2 * (tc.x - abs(tc.y));\n      d = min(d, INV_SQRT2 * (len - tc.x - abs(tc.y)));\n      d = min(d, 1.0 - abs(tc.y));\n\n      if (d < 0.0) {\n        return vec4(0.0);\n      } else if (d < outlineSize) {\n        return outlineColor;\n      } else {\n        return fract(0.5 / stripeLength * tc.x * vradius) >= 0.5 ? stripeOddColor : stripeEvenColor;\n      }\n    }\n\n    void main(void) {\n      vec2 ntc = vec2(vtc.x / vradius, vtc.y);\n      vec4 color = arrowColor(ntc, vlength / vradius);\n      if (color.a == 0.0) {\n        discard;\n      }\n      gl_FragColor = color;\n    }\n  `),o}var r=Object.freeze({__proto__:null,build:o});export{r as M,o as b};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{measureForUnit as t,isBaseUnit as i,convertUnit as s,baseUnitForUnit as n}from\"./unitUtils.js\";class e{constructor(i,s){this.measure=t(s),this.value=i,this.unit=s}get isBaseUnit(){return i(this.unit)}toUnit(t){return new e(s(this.value,this.unit,t),t)}toBaseUnit(){return this.toUnit(n(this.unit))}}export default e;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{formatDecimal as r,formatMetricLength as t,formatMetricVerticalLength as a,formatMetricArea as n,formatImperialLength as e,formatImperialVerticalLength as i,formatImperialArea as u,formatDMS as o}from\"./unitFormatUtils.js\";function l(t,a,n,e=2,i=\"abbr\"){return r(t,a.toUnit(n).value,n,e,i)}function f(r,a,n=2,e=\"abbr\"){if(\"length\"!==a.measure)throw new Error(\"quantity is not a length\");return t(r,a.value,a.unit,n,e)}function s(r,t,n=2,e=\"abbr\"){if(\"length\"!==t.measure)throw new Error(\"quantity is not a length\");return a(r,t.value,t.unit,n,e)}function m(r,t,a=2,e=\"abbr\"){if(\"area\"!==t.measure)throw new Error(\"quantity is not an area\");return n(r,t.value,t.unit,a,e)}function h(r,t,a=2,n=\"abbr\"){if(\"length\"!==t.measure)throw new Error(\"quantity is not a length\");return e(r,t.value,t.unit,a,n)}function b(r,t,a=2,n=\"abbr\"){if(\"length\"!==t.measure)throw new Error(\"quantity is not a length\");return i(r,t.value,t.unit,a,n)}function c(r,t,a=2,n=\"abbr\"){if(\"area\"!==t.measure)throw new Error(\"quantity is not an area\");return u(r,t.value,t.unit,a,n)}function g(r){if(\"angle\"!==r.measure)throw new Error(\"quantity is not an angle\");return o(r.value,r.unit)}export{g as formatDMS,l as formatDecimal,c as formatImperialArea,h as formatImperialLength,b as formatImperialVerticalLength,m as formatMetricArea,f as formatMetricLength,s as formatMetricVerticalLength};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nconst e=(r,t,o)=>{for(let n=0,i=t.length;n<i;n++){let i=t[n];Array.isArray(i)?e(r,i,o):null!=i&&!1!==i&&(\"string\"==typeof i&&(i={vnodeSelector:\"\",properties:void 0,children:void 0,text:i.toString(),domNode:null}),o.push(i))}};function r(r,t,o){if(Array.isArray(t))o=t,t=void 0;else if(t&&(\"string\"==typeof t||t.hasOwnProperty(\"vnodeSelector\"))||o&&(\"string\"==typeof o||o.hasOwnProperty(\"vnodeSelector\")))throw new Error(\"h called with invalid arguments\");let n,i;return o&&1===o.length&&\"string\"==typeof o[0]?n=o[0]:o&&(i=[],e(r,o,i),0===i.length&&(i=void 0)),{vnodeSelector:r,properties:t,children:i,text:\"\"===n?void 0:n,domNode:null}}export{r as h};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{getMetersPerUnitForSR as e}from\"../../../../../core/unitUtils.js\";export default class{constructor(e=null){this.spatialReference=e,this._updateNormalizationFactors}get spatialReference(){return this._spatialReference}set spatialReference(e){e!==this._spatialReference&&(this._spatialReference=e,this._updateNormalizationFactors())}normalizeDistance(e){return e*this._metersPerDistanceUnit}normalizeElevation(e){return e*this._metersPerElevationUnit}normalizeArea(e){return e*this._squareMetersPerAreaUnit}_updateNormalizationFactors(){this._metersPerDistanceUnit=e(this._spatialReference,1),this._metersPerElevationUnit=e(this._spatialReference,1),this._squareMetersPerAreaUnit=this._metersPerDistanceUnit*this._metersPerDistanceUnit}}\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{createRenderScreenPointArray as e,createRenderScreenPointArray3 as r,createScreenPointArray as t}from\"../../../../../core/screenUtils.js\";import{c as n}from\"../../../../../chunks/vec3f64.js\";import{b as o}from\"../../../../../chunks/vec3.js\";import{s as c,n as s,l as i,a,h as u,e as p,d}from\"../../../../../chunks/vec2.js\";import{screenSpaceTangent as f}from\"./viewUtils.js\";function m(e){switch(e){case\"top\":return\"bottom\";case\"right\":return\"left\";case\"bottom\":return\"top\";case\"left\":return\"right\"}}function l(e,r,t){return e.projectToRenderScreen(r,w),!(w[2]<0||w[2]>1)&&(e.renderToScreen(w,t),!0)}function S(e,r,t){const n=l(t,r,U);return n&&e.updatePosition(U,null),n}function T(e,r,t,n,o,p){if(!r)return!1;f(r.start,r.end,R,e),c(v,-R[1],R[0]);let d=!1;switch(n){case\"top\":d=v[1]<0;break;case\"bottom\":d=v[1]>0;break;case\"left\":d=v[0]>0;break;case\"right\":d=v[0]<0}if(d&&s(v,v),0===i(v))switch(n){case\"top\":v[1]=1;break;case\"bottom\":v[1]=-1;break;case\"left\":v[0]=-1;break;case\"right\":v[0]=1}return e.projectToRenderScreen(r.origin,w),!(w[2]<0||w[2]>1)&&(e.renderToScreen(w,o),a(v,v,t*e.pixelRatio),u(v,v,w),e.renderToScreen(v,p),!0)}function b(e,r,t,n,o){const c=T(o,r,t,n,U,q);return c&&e.updatePosition(U,q),c}function h(e,r,t,n,o,c){return!(!r||!t)&&(f(r.end,r.start,R,e),f(t.start,t.end,g,e),u(v,R,g),s(v,v),p(v,v),e.projectToRenderScreen(r.end,w),!(w[2]<0||w[2]>1)&&(e.renderToScreen(w,o),a(v,v,n*e.pixelRatio),u(v,v,w),e.renderToScreen(v,c),!0))}function j(e,r,t,n,c,s){return e.projectToRenderScreen(r,w),o(P,r,t),e.projectToRenderScreen(P,x),!(w[2]<0||w[2]>1||x[2]<0||x[2]>1)&&(d(v,x,w),p(v,v),e.renderToScreen(w,c),a(v,v,n*e.pixelRatio),u(v,v,w),e.renderToScreen(v,s),!0)}function k(e,r,t,n,o){const c=h(o,r,t,n,U,q);return c&&e.updatePosition(U,q),c}const R=e(),g=e(),v=e(),w=r(),x=r(),P=n(),U=t(),q=t();export{h as computeLabelPositionFromCorner,j as computeLabelPositionFromPlane,l as computeLabelPositionFromPoint,T as computeLabelPositionFromSegment,m as mirrorPosition,k as positionLabelOnCorner,S as positionLabelOnPoint,b as positionLabelOnSegment};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{mixin as e,clone as n}from\"../../../../../core/lang.js\";import{createRenderScreenPointArray3 as r,createScreenPointArray as o}from\"../../../../../core/screenUtils.js\";import{c as t}from\"../../../../../chunks/vec3f64.js\";import{s,b as c,a as f}from\"../../../../../chunks/vec3.js\";import{i as a,t as i,s as u}from\"../../../../../chunks/mat4.js\";import{d as m,e as p,i as h}from\"../../../../../chunks/vec2.js\";const l=t();function d(r,o){const t=e({},r),s=n(o);return e(t,s),t}function j(e,n,r,o){for(;e.length<n;)e.push(r());if(o)for(;e.length>n;){o(e.pop())}else e.length=n}function g(e,n,r){a(r),i(r,r,n),s(l,e,e,e),u(r,r,l)}function k(e,n){if(s(n,0,0,0),e.length>0){for(let r=0;r<e.length;++r)c(n,n,e[r]);f(n,n,1/e.length)}}function R(e,n,r,o){o.projectToRenderScreen(e,x),o.projectToRenderScreen(n,U),m(r,q,H),p(r,r)}function S(e,n,r){const o=r.state.camera;r.renderCoordsHelper.toRenderCoords(e,C),o.projectToRenderScreen(C,b),r.state.camera.renderToScreen(b,n)}function T(e,n,r){return S(e,y,r),S(n,z,r),h(y,z)}function v(e,n,r){return S(e,w,r),h(w,n)}const C=t(),b=r(),x=r(),H=x,U=r(),q=U,w=o(),y=o(),z=o();export{d as copyParameter,k as midpoint,T as pointToPointScreenDistance,v as pointToScreenPositionDistance,j as resizeArray,g as scaleTranslateMatrix,R as screenSpaceTangent};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as e}from\"../../core/accessorSupport/decorators/property.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import i from\"../../core/Accessor.js\";import\"../../libs/maquette/projection.js\";import{h as o}from\"../../libs/maquette/h.js\";import\"../../libs/maquette/projector.js\";let r=class extends i{constructor(t){super(t),this.startX=0,this.startY=0,this.endX=0,this.endY=0,this.width=1,this.color=[0,0,0,.5],this.visible=!0}get startPosition(){return[this.startX,this.startY]}set startPosition(t){this._set(\"startX\",t[0]),this._set(\"startY\",t[1])}get endPosition(){return[this.endX,this.endY]}set endPosition(t){this._set(\"endX\",t[0]),this._set(\"endY\",t[1])}get strokeStyle(){const t=this.color;return`rgba(${t[0]}, ${t[1]}, ${t[2]}, ${t[3]})`}get lineCap(){return\"round\"}render(){const{height:t,left:e,top:s,width:i,x1:r,x2:h,y1:p,y2:a}=this.calculateCoordinates(n),l=`stroke: ${this.strokeStyle}; stroke-width: ${this.width}; stroke-linecap: ${this.lineCap};`;return o(\"div\",{classes:{\"esri-line-overlay-item\":!0},styles:{left:e+\"px\",top:s+\"px\",width:i+\"px\",height:t+\"px\",visibility:this.visible?\"visible\":\"hidden\"}},[o(\"svg\",{width:i,height:t},[o(\"line\",{x1:r,y1:p,x2:h,y2:a,style:l})])])}renderCanvas(t){if(!this.visible)return;t.strokeStyle=this.strokeStyle,t.lineWidth=this.width,t.lineCap=this.lineCap;const e=this.calculateCoordinates(n);t.beginPath(),t.moveTo(e.left+e.x1,e.top+e.y1),t.lineTo(e.left+e.x2,e.top+e.y2),t.stroke()}calculateCoordinates(t){const e=Math.min(this.startX,this.endX),s=Math.max(this.startX,this.endX),i=Math.min(this.startY,this.endY),o=Math.max(this.startY,this.endY),r=this.width;return t.left=e-r,t.top=i-r,t.width=s-e+2*r,t.height=Math.max(20,o-i+2*r),t.x1=this.startX-e+r,t.y1=this.startY-i+r,t.x2=this.endX-e+r,t.y2=this.endY-i+r,t}};t([e()],r.prototype,\"startX\",void 0),t([e()],r.prototype,\"startY\",void 0),t([e()],r.prototype,\"endX\",void 0),t([e()],r.prototype,\"endY\",void 0),t([e({dependsOn:[\"startX\",\"startY\"]})],r.prototype,\"startPosition\",null),t([e({dependsOn:[\"endX\",\"endY\"]})],r.prototype,\"endPosition\",null),t([e()],r.prototype,\"width\",void 0),t([e()],r.prototype,\"color\",void 0),t([e()],r.prototype,\"visible\",void 0),t([e({readOnly:!0,dependsOn:[\"color\"]})],r.prototype,\"strokeStyle\",null),r=t([s(\"esri.views.overlay.LineOverlayItem\")],r);const n={left:0,top:0,width:0,height:0,x1:0,y1:0,x2:0,y2:0};var h=r;export default h;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as e}from\"../../core/accessorSupport/decorators/property.js\";import{subclass as o}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import i from\"../../core/Accessor.js\";import\"../../libs/maquette/projection.js\";import{h as r}from\"../../libs/maquette/h.js\";import\"../../libs/maquette/projector.js\";const s={bottom:\"esri-text-overlay-item-anchor-bottom\",\"bottom-right\":\"esri-text-overlay-item-anchor-bottom-right\",\"bottom-left\":\"esri-text-overlay-item-anchor-bottom-left\",top:\"esri-text-overlay-item-anchor-top\",\"top-right\":\"esri-text-overlay-item-anchor-top-right\",\"top-left\":\"esri-text-overlay-item-anchor-top-left\",center:\"esri-text-overlay-item-anchor-center\",right:\"esri-text-overlay-item-anchor-right\",left:\"esri-text-overlay-item-anchor-left\"};let l=class extends i{constructor(t){super(t),this.x=0,this.y=0,this.text=\"-\",this.fontSize=14,this.anchor=\"center\",this.visible=!0,this.backgroundColor=\"rgba(0, 0, 0, 0.6)\",this.textColor=\"white\",this.textShadowColor=[0,0,0],this.textShadowSize=1}get position(){return[this.x,this.y]}set position(t){this._set(\"x\",t[0]),this._set(\"y\",t[1])}get padding(){return.5*this.fontSize}render(){return r(\"div\",{classes:this._cssClasses(),styles:{left:Math.floor(this.x)+\"px\",top:Math.floor(this.y)+\"px\",visibility:this.visible?\"visible\":\"hidden\",fontSize:this.fontSize+\"px\",backgroundColor:this.backgroundColor,color:this.textColor,padding:this.padding+\"px\",borderRadius:this.padding+\"px\",textShadow:`0 0 ${this.textShadowSize}px rgb(${this.textShadowColor[0]}, ${this.textShadowColor[1]}, ${this.textShadowColor[2]})`}},[this.text])}renderCanvas(t){if(!this.visible)return;const e=t.font.replace(/^(.*?)px/,\"\");t.font=`${this.fontSize}px ${e}`;const o=this.padding,i=this.padding,r=t.measureText(this.text).width,s=this.fontSize,l=n[this.anchor];t.textAlign=\"center\",t.textBaseline=\"middle\";const h=r+2*o,a=s+2*o,x=this.x+l.x*h,p=this.y+l.y*a;this.roundedRect(t,x,p,h,a,i),t.fillStyle=this.backgroundColor,t.fill();const c=this.x+(l.x+.5)*h,d=this.y+(l.y+.5)*a;this._renderTextShadow(t,this.text,c,d),t.fillStyle=this.textColor,t.fillText(this.text,c,d)}_renderTextShadow(t,e,o,i){t.lineJoin=\"miter\",t.fillStyle=`rgba(${this.textShadowColor[0]}, ${this.textShadowColor[1]}, ${this.textShadowColor[2]}, ${1/h.length})`;const r=this.textShadowSize;for(const[s,l]of h)t.fillText(e,o+r*s,i+r*l)}roundedRect(t,e,o,i,r,s){t.beginPath(),t.moveTo(e,o+s),t.arcTo(e,o,e+s,o,s),t.lineTo(e+i-s,o),t.arcTo(e+i,o,e+i,o+s,s),t.lineTo(e+i,o+r-s),t.arcTo(e+i,o+r,e+i-s,o+r,s),t.lineTo(e+s,o+r),t.arcTo(e,o+r,e,o+r-s,s),t.closePath()}_cssClasses(){const t={\"esri-text-overlay-item\":!0};for(const e in s)t[s[e]]=this.anchor===e;return t}};t([e()],l.prototype,\"x\",void 0),t([e()],l.prototype,\"y\",void 0),t([e({dependsOn:[\"x\",\"y\"]})],l.prototype,\"position\",null),t([e()],l.prototype,\"text\",void 0),t([e()],l.prototype,\"fontSize\",void 0),t([e()],l.prototype,\"anchor\",void 0),t([e()],l.prototype,\"visible\",void 0),t([e({dependsOn:[\"fontSize\"]})],l.prototype,\"padding\",null),l=t([o(\"esri.views.overlay.TextOverlayItem\")],l);const n={bottom:{x:-.5,y:-1,textAlign:\"center\",textBaseline:\"bottom\"},\"bottom-left\":{x:0,y:-1,textAlign:\"left\",textBaseline:\"bottom\"},\"bottom-right\":{x:-1,y:-1,textAlign:\"right\",textBaseline:\"bottom\"},center:{x:-.5,y:-.5,textAlign:\"center\",textBaseline:\"middle\"},left:{x:0,y:-.5,textAlign:\"left\",textBaseline:\"middle\"},right:{x:-1,y:-.5,textAlign:\"right\",textBaseline:\"middle\"},top:{x:-.5,y:0,textAlign:\"center\",textBaseline:\"top\"},\"top-left\":{x:0,y:0,textAlign:\"left\",textBaseline:\"top\"},\"top-right\":{x:-1,y:0,textAlign:\"right\",textBaseline:\"top\"}},h=[];{const t=16;for(let e=0;e<360;e+=360/t)h.push([Math.cos(Math.PI*e/180),Math.sin(Math.PI*e/180)])}var a=l;export default a;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{ReentrantObjectPool as e}from\"../../../core/ReentrantObjectPool.js\";import{afterDispatch as t,isValueInUse as r}from\"../../../core/accessorSupport/watch.js\";class o{constructor(r,o){this.owner=o,this.properties={},this.afterDispatchHandle=null;for(const t in r){const o=r[t],s=new e(o,null,null,2,2);this.properties[t]={pool:s,acquired:[]}}this.afterDispatchHandle=t((()=>this.release()))}destroy(){this.afterDispatchHandle&&(this.afterDispatchHandle.remove(),this.afterDispatchHandle=null);for(const e in this.properties){const t=this.properties[e];for(const e of t.acquired)r(e)||t.pool.release(e);t.pool.destroy(),t.pool=null,t.acquired=null}this.properties=null,this.owner=null}get(e){const t=this.owner._get(e),r=this.properties[e];let o=r.pool.acquire();for(r.acquired.push(o);o===t;)r.acquired.push(o),o=r.pool.acquire();return o}release(){for(const e in this.properties){const t=this.properties[e];let o=0;for(const e of t.acquired)r(e)?t.acquired[o++]=e:t.pool.release(e);t.acquired.length=o}}}export default o;export{o as PropertiesPool};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../chunks/tslib.es6.js\";import\"../../../../core/has.js\";import{isSome as e}from\"../../../../core/maybe.js\";import\"../../../../core/Logger.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{property as s}from\"../../../../core/accessorSupport/decorators/property.js\";import{subclass as r}from\"../../../../core/accessorSupport/decorators/subclass.js\";import\"../../../../core/urlUtils.js\";import\"../../../../core/uuid.js\";import\"../../../../portal/support/resourceExtension.js\";import o from\"../../../../core/Accessor.js\";let i=class extends o{constructor(){super(...arguments),this.settings=new n,this.measurement=null}destroy(){this.settings.destroy()}set startPoint(t){this.measurement=null,this._set(\"startPoint\",e(t)?t.clone():null)}set endPoint(t){this.measurement=null,this._set(\"endPoint\",e(t)?t.clone():null)}};t([s()],i.prototype,\"settings\",void 0),t([s({value:null})],i.prototype,\"startPoint\",null),t([s({value:null})],i.prototype,\"endPoint\",null),t([s()],i.prototype,\"measurement\",void 0),i=t([r(\"esri.views.3d.interactive.graphics.DirectLineMeasurement3D\")],i);let n=class extends o{constructor(){super(...arguments),this.unit=\"metric\"}};t([s({value:\"metric\"})],n.prototype,\"unit\",void 0),n=t([r(\"esri.views.3d.interactive.graphics.directLineMeasurement3D.Settings\")],n);export{i as DirectLineMeasurement3D,n as Settings};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import\"../../../../../core/has.js\";import{isSome as t,isNone as s}from\"../../../../../core/maybe.js\";import\"../../../../../core/Logger.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import{property as o}from\"../../../../../core/accessorSupport/decorators/property.js\";import{aliasOf as i}from\"../../../../../core/accessorSupport/decorators/aliasOf.js\";import{subclass as r}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import\"../../../../../core/urlUtils.js\";import\"../../../../../core/uuid.js\";import\"../../../../../portal/support/resourceExtension.js\";import n from\"../../../../../core/Accessor.js\";import a from\"../../../../../geometry/Point.js\";import c from\"../../../../../geometry/Polyline.js\";import{onLocaleChange as d}from\"../../../../../intl/locale.js\";import{rad2deg as l,acosClamped as m,deg2rad as u}from\"../../../../../core/mathUtils.js\";import{fetchMessageBundle as h}from\"../../../../../intl/messages.js\";import\"../../../../../intl.js\";import{c as p}from\"../../../../../chunks/vec3f64.js\";import{k as f}from\"../../../../../chunks/vec3.js\";import g from\"../../../../../core/Handles.js\";import{init as P}from\"../../../../../core/watchUtils.js\";import{getSphericalPCPF as _,getReferenceEllipsoid as v,SphericalECEFSpatialReference as y,WGS84ECEFSpatialReference as j}from\"../../../../../geometry/projectionEllipsoid.js\";import{canProjectWithoutEngine as M,projectPointToWGS84ComparableLonLat as D,projectPointToVector as w}from\"../../../../../geometry/projection.js\";import b from\"../../../../../core/Quantity.js\";import{inverseGeodeticSolver as S,isSupported as L,geodesicLengths as z}from\"../../../../../geometry/support/geodesicUtils.js\";import{geodesicLength as O}from\"../../../../../geometry/geometryEngine.js\";import{PropertiesPool as k}from\"../../../support/PropertiesPool.js\";import x from\"../support/UnitNormalizer.js\";import{DirectLineMeasurement3D as A}from\"../../graphics/DirectLineMeasurement3D.js\";let E=class extends n{constructor(){super(...arguments),this._tempStartPosition=p(),this._tempEndPosition=p(),this._tempCornerPosition=p(),this._unitNormalizer=new x,this._handles=new g,this._propertiesPool=new k({startPoint:a,endPoint:a},this),this.model=new A,this.cursorPoint=null,this.state=\"initial\",this.mode=\"auto\",this.active=!1,this.geodesicMeasurementDistanceThreshold=1e5}initialize(){this._handles.add([this.model.watch(\"startPoint\",(()=>this._updateMeasurement()),!0),this.model.watch(\"endPoint\",(()=>this._updateMeasurement()),!0),this.model.watch(\"settings\",(()=>this._updateMeasurement()),!0)],\"model\"),h(\"esri/core/t9n/Units\").then((e=>{this.messages=e})),this._handles.add(d((async()=>{this.messages=await h(\"esri/core/t9n/Units\")}))),this._handles.add(P(this.sceneView,\"spatialReference\",(e=>{const t=_(e),s=t===y?j:t;this._sphericalPCPF=s;const o=M(e,s);this._unitNormalizer.spatialReference=o?s:e})),\"scene-view\"),this.reset()}destroy(){this._handles.destroy(),this._handles=null,this._propertiesPool.destroy(),this._propertiesPool=null,this.model.destroy()}set startPointSurfaceLocation(e){this._set(\"startPointSurfaceLocation\",e),this._updateMeasurement()}set endPointSurfaceLocation(e){this._set(\"endPointSurfaceLocation\",e),this._updateMeasurement()}get measurementSurfaceLocation(){const e=this.startPointSurfaceLocation,t=this.endPointSurfaceLocation;return null==e||null==t||\"above-the-surface\"===e&&\"below-the-surface\"===t||\"below-the-surface\"===e&&\"above-the-surface\"===t||\"on-the-surface\"===e&&\"on-the-surface\"===t?\"camera-dependent\":\"above-the-surface\"===e||\"above-the-surface\"===t?\"above-the-surface\":\"below-the-surface\"}get validMeasurement(){return t(this.model.startPoint)&&t(this.model.endPoint)}get isMeasuring(){return!!this.startPoint}get geodesicDistanceExceeded(){return t(this.model.measurement)&&this.model.measurement.horizontalDistance&&this.model.measurement.horizontalDistance.value>this.geodesicMeasurementDistanceThreshold}get measurementMode(){let e=this.mode;return\"auto\"===e&&(e=\"euclidean\",\"degrees\"!==this.unit&&\"degrees-minutes-seconds\"!==this.unit||(e=\"geodesic\"),this.geodesicDistanceExceeded&&(e=\"geodesic\")),e}reset(){this.clearMeasurement()}clearMeasurement(){this.state=\"initial\",this.startPoint=null,this.endPoint=null,this.cursorPoint=null,this._clearOverride(\"measurementSurfaceLocation\"),this._updateMeasurement()}finishMeasurement(){if(!this._isOverridden(\"measurementSurfaceLocation\")){const e=this.measurementSurfaceLocation,t=\"camera-dependent\"===e?this.sceneView.state.camera.aboveGround?\"above-the-surface\":\"below-the-surface\":e;this._override(\"measurementSurfaceLocation\",t)}this.state=\"measured\"}_fallbackGeodesicAngle(e,t){return e/v(t).metersPerDegree}_fallbackGeodesicDistance(e,t,s){if(D(e,G)){D(t,U);const e=u(G[0]),s=u(G[1]),o=u(U[0]),i=u(U[1]),r=Math.abs(o-e),n=m(Math.sin(s)*Math.sin(i)+Math.cos(s)*Math.cos(i)*Math.cos(r)),a=l(n),c={distance:0};return S(c,[G[0],G[1]],[U[0],U[1]]),{distance:c.distance,angle:a}}{const t=e.spatialReference,o=s;return{distance:o,angle:this._fallbackGeodesicAngle(o,t)}}}_exactGeodesicDistanceAndAngle(e,t,s){const o=e.spatialReference,i=new c({paths:[e,t],spatialReference:o}),r=o.isGeographic&&L(o)?z([i],\"meters\")[0]:o.isWebMercator?O(i,\"meters\"):void 0,{distance:n,angle:a}=r?{distance:r,angle:this._fallbackGeodesicAngle(r,o)}:this._fallbackGeodesicDistance(e,t,s);return{distance:new b(n,\"meters\"),angle:new b(a,\"degrees\")}}_euclideanDistances(e,t){e.z>t.z&&(e=[e,e=t][0]);const s=e.clone();s.z=t.z;const o=this._tempStartPosition,i=this._tempEndPosition,r=this._tempCornerPosition,n=this.sceneView.spatialReference,a=this._sphericalPCPF,c=M(n,a)?a:n;w(e,o,c),w(t,i,c),w(s,r,c);const d=f(o,i),l=f(r,i),m=Math.abs(t.z-e.z),u=e=>this._unitNormalizer.normalizeDistance(e),h=u(d),p=u(l),g=u(m);return{direct:new b(h,\"meters\"),horizontal:new b(p,\"meters\"),vertical:new b(g,\"meters\")}}_updateMeasurement(){if(s(this.startPoint)||s(this.endPoint))return void(this.model.measurement=null);const e=this._euclideanDistances(this.startPoint,this.endPoint),t=this._exactGeodesicDistanceAndAngle(this.startPoint,this.endPoint,e.horizontal.value);this.model.measurement={directDistance:e.direct,horizontalDistance:e.horizontal,verticalDistance:e.vertical,geodesicDistance:t.distance,geodesicAngle:t.angle}}};e([o()],E.prototype,\"messages\",void 0),e([o({constructOnly:!0})],E.prototype,\"sceneView\",void 0),e([o()],E.prototype,\"model\",void 0),e([i(\"model.startPoint\")],E.prototype,\"startPoint\",void 0),e([o({value:null})],E.prototype,\"startPointSurfaceLocation\",null),e([i(\"model.endPoint\")],E.prototype,\"endPoint\",void 0),e([o({value:null})],E.prototype,\"endPointSurfaceLocation\",null),e([o({dependsOn:[\"startPointSurfaceLocation\",\"endPointSurfaceLocation\"]})],E.prototype,\"measurementSurfaceLocation\",null),e([o()],E.prototype,\"cursorPoint\",void 0),e([o()],E.prototype,\"state\",void 0),e([o()],E.prototype,\"mode\",void 0),e([i(\"model.settings.unit\")],E.prototype,\"unit\",void 0),e([o()],E.prototype,\"active\",void 0),e([o({readOnly:!0,dependsOn:[\"model.startPoint\",\"model.endPoint\"]})],E.prototype,\"validMeasurement\",null),e([o({readOnly:!0,dependsOn:[\"startPoint\"]})],E.prototype,\"isMeasuring\",null),e([o()],E.prototype,\"geodesicMeasurementDistanceThreshold\",void 0),e([o({readOnly:!0,dependsOn:[\"model.measurement\",\"geodesicMeasurementDistanceThreshold\"]})],E.prototype,\"geodesicDistanceExceeded\",null),e([o({readOnly:!0,dependsOn:[\"unit\",\"geodesicDistanceExceeded\"]})],E.prototype,\"measurementMode\",null),E=e([r(\"esri.views.3d.interactive.measurementTools.directLineMeasurement3D.DirectLineMeasurement3DModel\")],E);const G=p(),U=p();var R=E;export default R;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{isSome as t,unwrap as e}from\"../../../../core/maybe.js\";import{createRenderScreenPointArray as s,createRenderScreenPointArray3 as i,createScreenPointArray as o}from\"../../../../core/screenUtils.js\";import{c as h}from\"../../../../chunks/vec3f64.js\";import r from\"../../../../core/Handles.js\";import{s as a,n,l,a as c,h as m}from\"../../../../chunks/vec2.js\";import{VisualElement as _}from\"./VisualElement.js\";import u from\"../../../overlay/LineOverlayItem.js\";import d from\"../../../overlay/TextOverlayItem.js\";import{screenSpaceTangent as p}from\"../measurementTools/support/viewUtils.js\";class x extends _{constructor(t){super(t.view),this._handles=new r,this._textItem=null,this._calloutItem=null,this._showCallout=!0,this._showText=!0,this._geometry=null,this._text=null,this._fontSize=14,this._distance=25,this._anchor=\"right\",this.applyProps(t)}get geometry(){return this._geometry}set geometry(t){this._geometry=t,this._updateLabelPosition()}get textItem(){return this._textItem}get text(){return this._text}set text(t){this._text=t,this.attached&&(this._textItem.text=this._text)}get fontSize(){return this._fontSize}set fontSize(t){this._fontSize=t,this.attached&&(this._textItem.fontSize=this._fontSize)}get distance(){return this._distance}set distance(t){this._distance!==t&&(this._distance=t,this._updateLabelPosition())}get anchor(){return this._anchor}set anchor(t){this._anchor!==t&&(this._anchor=t,this._updateLabelPosition())}_updateLabelPosition(){if(this.attached&&t(this.geometry)&&this.view._stage)switch(this.geometry.type){case\"point\":this._computeLabelPositionFromPoint(this.geometry,f)?(this._textItem.position=[f[0],f[1]],this._textItem.anchor=\"center\",this._showText=!0):this._showText=!1,this._showCallout=!1;break;case\"euclidean\":case\"geodesic\":if(this._computeLabelPositionFromSegment(this.geometry,this._distance,this._anchor,f,y)){const t=y[0]-f[0],e=y[1]-f[1];this._textItem.position=[y[0],y[1]],this._textItem.anchor=Math.abs(t)>Math.abs(e)?t>0?\"left\":\"right\":e>0?\"top\":\"bottom\",this._textItem.visible=this.visible,this._calloutItem.startPosition=[f[0],f[1]],this._calloutItem.endPosition=[y[0],y[1]],this._showText=!0,this._showCallout=!0}else this._showText=!1,this._showCallout=!1}this.updateVisibility(this.visible)}_computeLabelPositionFromPoint(t,e){this.view.renderCoordsHelper.toRenderCoords(t,w);const s=this.view._stage.getCamera();return s.projectToRenderScreen(w,g),!(g[2]<0||g[2]>1)&&(s.renderToScreen(g,e),!0)}_computeLabelPositionFromSegment(t,e,s,i,o){if(!t)return!1;const h=this.view._stage.getCamera();p(t.startRenderSpace,t.endRenderSpace,b,h),a(v,-b[1],b[0]);let r=!1;switch(s){case\"top\":r=v[1]<0;break;case\"bottom\":r=v[1]>0;break;case\"left\":r=v[0]>0;break;case\"right\":r=v[0]<0}if(r&&n(v,v),0===l(v))switch(s){case\"top\":v[1]=1;break;case\"bottom\":v[1]=-1;break;case\"left\":v[0]=-1;break;case\"right\":v[0]=1}return t.eval(.5,w),h.projectToRenderScreen(w,g),!(g[2]<0||g[2]>1)&&(h.renderToScreen(g,i),c(v,v,e*h.pixelRatio),m(v,v,g),h.renderToScreen(v,o),!0)}createResources(){this._textItem=new d({visible:!0}),this._textItem.text=e(this._text),this._textItem.fontSize=this._fontSize,this._calloutItem=new u({visible:!0,width:2}),this._updateLabelPosition(),this.view.overlay.items.addMany([this._textItem,this._calloutItem]),this._handles.add(this.view.state.watch(\"camera\",(()=>{this._updateLabelPosition()})))}destroyResources(){this.view.overlay&&!this.view.overlay.destroyed&&this.view.overlay.items.removeMany([this._textItem,this._calloutItem]),this._handles.removeAll()}updateVisibility(t){this._textItem.visible=this._showText&&t,this._calloutItem.visible=this._showCallout&&t}}const b=s(),v=s(),w=h(),g=i(),f=o(),y=o();export{x as LabelVisualElement};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{isSome as e,isNone as t}from\"../../../../core/maybe.js\";import{c as r}from\"../../../../chunks/vec3f64.js\";import{s as i}from\"../../../../chunks/vec3.js\";import{g as s,c as o}from\"../../../../chunks/vec4.js\";import n from\"../../webgl-engine/lib/Geometry.js\";import{RibbonLineMaterial as l}from\"../../webgl-engine/materials/RibbonLineMaterial.js\";import{createGeometryData as h}from\"../../layers/graphics/lineUtils.js\";import{f as a,c as p,a as d}from\"../../../../chunks/vec4f32.js\";import{Object3DVisualElement as _}from\"./Object3DVisualElement.js\";class f extends _{constructor(e){super(e),this._origin=r(),this._renderOccluded=4,this._width=1,this._color=a(1,0,1,1),this._innerWidth=1,this._innerColor=null,this._stipplePattern=null,this._stippleOffColor=null,this._stippleIntegerRepeats=!1,this._writeDepthEnabled=!0,this._falloff=0,this._polygonOffset=!1,this.applyProps(e)}setGeometryFromExtent(e){const t=this.view.spatialReference,s=r(),o=r(),n=100,l=[];i(s,e[0],e[1],n),this.view.renderCoordsHelper.toRenderCoords(s,t,o),l.push([o[0],o[1],o[2]]),i(s,e[2],e[1],n),this.view.renderCoordsHelper.toRenderCoords(s,t,o),l.push([o[0],o[1],o[2]]),i(s,e[2],e[3],n),this.view.renderCoordsHelper.toRenderCoords(s,t,o),l.push([o[0],o[1],o[2]]),i(s,e[0],e[3],n),this.view.renderCoordsHelper.toRenderCoords(s,t,o),l.push([o[0],o[1],o[2]]),i(s,e[0],e[1],n),this.view.renderCoordsHelper.toRenderCoords(s,t,o),l.push([o[0],o[1],o[2]]),i(s,e[0],e[1],n),this.view.renderCoordsHelper.toRenderCoords(s,t,o),l.push([o[0],o[1],o[2]]),this.geometry=[l]}setGeometryFromFrustum(e){const t=[];e.lines.forEach((e=>{t.push([e.origin[0],e.origin[1],e.origin[2]]),t.push([e.endpoint[0],e.endpoint[1],e.endpoint[2]])})),this.geometry=[t]}setGeometryFromSegment(e){const{points:t}=e.createRenderGeometry(this._origin,this.view.renderCoordsHelper);this.geometry=[t]}get renderOccluded(){return this._renderOccluded}set renderOccluded(e){e!==this._renderOccluded&&(this._renderOccluded=e,this._updateMaterial())}get geometry(){return this._geometry}set geometry(e){this._geometry=e,this.recreateGeometry()}get width(){return this._width}set width(e){e!==this._width&&(this._width=e,this._updateMaterial())}get color(){return this._color}set color(e){s(e,this._color)||(o(this._color,e),this._updateMaterial())}get innerWidth(){return this._innerWidth}set innerWidth(e){e!==this._innerWidth&&(this._innerWidth=e,this._updateMaterial())}get innerColor(){return this._innerColor}set innerColor(e){s(e,this._innerColor)||(this._innerColor=o(p(),e),this._updateMaterial())}get stipplePattern(){return this._stipplePattern}set stipplePattern(t){const r=e(t)!==e(this._stipplePattern);this._stipplePattern=t,r?this.recreate():this._updateMaterial()}get stippleOffColor(){return this._stippleOffColor}set stippleOffColor(r){(t(r)||t(this._stippleOffColor)||!s(r,this._stippleOffColor))&&(this._stippleOffColor=e(r)?d(r):null,this._updateMaterial())}get stippleIntegerRepeats(){return this._stippleIntegerRepeats}set stippleIntegerRepeats(e){this._stippleIntegerRepeats!==e&&(this._stippleIntegerRepeats=e,this._updateMaterial())}get writeDepthEnabled(){return this._writeDepthEnabled}set writeDepthEnabled(e){this._writeDepthEnabled!==e&&(this._writeDepthEnabled=e,this._updateMaterial())}get falloff(){return this._falloff}set falloff(e){e!==this._falloff&&(this._falloff=e,this._updateMaterial())}get polygonOffset(){return this._polygonOffset}set polygonOffset(e){e!==this._polygonOffset&&(this._polygonOffset=e,this._updateMaterial())}createExternalResources(){this._material=new l(this.materialParameters,\"lineVisualElement\")}destroyExternalResources(){this._material=null}createGeometries(e){const t=this._createLineGeometries();if(0!==t.length)for(let r=0;r<t.length;++r){const i=h(t[r]),s=new n(i,\"lineVisualElement\");e.addGeometry(s,this._material)}}forEachExternalResource(e){e(this._material)}get materialParameters(){return{width:this._width,color:this._color,stippleOffColor:this._stippleOffColor,stipplePattern:this._stipplePattern,isClosed:!1,falloff:this._falloff,innerColor:this._innerColor,innerWidth:this._innerWidth,stippleIntegerRepeats:this._stippleIntegerRepeats,polygonOffset:this._polygonOffset,renderOccluded:this._renderOccluded,writeDepth:this._writeDepthEnabled}}_updateMaterial(){this.attached&&this._material.setParameterValues(this.materialParameters)}_createLineGeometries(){const e=this.geometry;if(t(e))return[];const r=[];return e.forEach((e=>{const t=e.length,i=new Float64Array(3*t);e.forEach(((e,t)=>{i[3*t+0]=e[0],i[3*t+1]=e[1],i[3*t+2]=e[2]}));const s={attributeData:{position:i},removeDuplicateStartEnd:0};r.push(s)})),r}}export{f as LineVisualElement};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../../chunks/tslib.es6.js\";import{ReloadableShaderModule as e}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as t}from\"../core/shaderTechnique/ShaderTechnique.js\";import{ShaderTechniqueConfiguration as o,parameter as i}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{Default3D as s}from\"../lib/DefaultVertexAttributeLocations.js\";import n from\"../../../webgl/Program.js\";import{makePipelineState as a,defaultDepthWriteParams as m,defaultColorWriteParams as l}from\"../../../webgl/renderState.js\";import{View as p}from\"../core/shaderLibrary/util/View.glsl.js\";import{M as f}from\"../../../../chunks/MeasurementArrow.glsl.js\";class h extends t{constructor(r,e){super(r,e)}initializeProgram(r){const e=h.shader.get().build();return new n(r.rctx,e.generateSource(\"vertex\"),e.generateSource(\"fragment\"),s)}bindPass(r,e,t){p.bindProjectionMatrix(this.program,t.camera.projectionMatrix),this.program.setUniform1f(\"width\",e.width),this.program.setUniform1f(\"outlineSize\",e.outlineSize),this.program.setUniform4fv(\"outlineColor\",e.outlineColor),this.program.setUniform1f(\"stripeLength\",e.stripeLength),this.program.setUniform4fv(\"stripeEvenColor\",e.stripeEvenColor),this.program.setUniform4fv(\"stripeOddColor\",e.stripeOddColor)}bindDraw(r){p.bindView(this.program,r)}initializePipeline(){return a({polygonOffset:this.configuration.polygonOffsetEnabled&&{factor:0,units:-4},depthTest:{func:513},depthWrite:m,colorWrite:l})}get primitiveType(){return 5}}h.shader=new e(f,(()=>import(\"./MeasurementArrow.glsl.js\")));class d extends o{constructor(){super(...arguments),this.polygonOffsetEnabled=!1}}r([i()],d.prototype,\"polygonOffsetEnabled\",void 0);export{h as MeasurementArrowTechnique,d as MeasurementArrowTechniqueConfiguration};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{c as e}from\"../../../../chunks/vec3f64.js\";import{s as t,n as s,f as r,c as i,k as n,i as o}from\"../../../../chunks/vec3.js\";import{newLayout as a}from\"../../support/buffer/InterleavedLayout.js\";import{VertexAttrConstants as c}from\"../lib/Util.js\";import u from\"../lib/GLMaterial.js\";import{Material as f,materialParametersDefaults as l}from\"../lib/Material.js\";import{MeasurementArrowTechniqueConfiguration as h,MeasurementArrowTechnique as p}from\"../shaders/MeasurementArrowTechnique.js\";class m extends f{constructor(e,t){super(t,e,g),this.techniqueConfig=new h}getTechniqueConfig(){return this.techniqueConfig.polygonOffsetEnabled=this.params.polygonOffset,this.techniqueConfig}dispose(){}getPassParameters(){return this.params}intersect(){}createBufferWriter(){return new C}getGLMaterial(e){return 0===e.output?new d(e):void 0}}class d extends u{constructor(e){super(e),this.updateParameters()}updateParameters(){this.technique=this.techniqueRep.acquireAndReleaseExisting(p,this.material.getTechniqueConfig(),this.technique)}beginSlot(e){return 3===e}bind(e,t){e.bindProgram(this.technique.program),this.technique.bindPass(e,this.material.getPassParameters(),t)}}const g={width:32,outlineSize:.2,outlineColor:[1,.5,0,1],stripeLength:1,stripeEvenColor:[1,1,1,1],stripeOddColor:[1,.5,0,1],polygonOffset:!1,...l},v=a().vec3f(c.POSITION).vec3f(c.NORMAL).vec2f(c.UV0).f32(c.AUXPOS1),O=e(),q=e(),P=e(),b=e(),x=e();class C{constructor(){this.vertexBufferLayout=v}allocate(e){return this.vertexBufferLayout.createBuffer(e)}elementCount(e){return 2*(e.indices[c.POSITION].length/2+1)}write(e,a,u,f){const l=a.vertexAttr[c.POSITION].data,h=a.vertexAttr[c.NORMAL].data,p=l.length/3,m=a&&a.indices&&a.indices.position;m&&m.length!==2*(p-1)&&console.warn(\"MeasurementArrowMaterial does not support indices\");const d=O,g=q,v=P,C=b,w=x,A=e.transformation,L=e.invTranspTransformation,M=u.position,T=u.normal,j=u.uv0;let I=0;for(let e=0;e<p;++e){const a=3*e;if(t(d,l[a],l[a+1],l[a+2]),e<p-1){const n=3*(e+1);t(g,l[n],l[n+1],l[n+2]),t(w,h[n],h[n+1],h[n+2]),s(w,w),r(v,g,d),s(v,v),i(C,w,v),s(C,C)}const c=n(d,g);A&&L&&(o(d,d,A),o(g,g,A),o(C,C,L));const u=f+2*e,m=u+1;M.setVec(u,d),M.setVec(m,d),T.setVec(u,C),T.setVec(m,C),j.set(u,0,I),j.set(u,1,-1),j.set(m,0,I),j.set(m,1,1),e<p-1&&(I+=c)}const y=u.auxpos1;for(let e=0;e<2*p;++e)y.set(f+e,I)}}export{m as MeasurementArrowMaterial};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{isNone as e,isSome as r}from\"../../../../core/maybe.js\";import{c as t}from\"../../../../chunks/vec3f64.js\";import{f as s}from\"../../../../chunks/vec3.js\";import i from\"../../../../core/Handles.js\";import{a as o}from\"../../../../chunks/mat4f64.js\";import{sv3d as a}from\"../../support/stack.js\";import n from\"../../webgl-engine/lib/GeometryUtil.js\";import h from\"../../webgl-engine/lib/Geometry.js\";import{Object3DVisualElement as l}from\"./Object3DVisualElement.js\";import{MeasurementArrowMaterial as d}from\"../../webgl-engine/materials/MeasurementArrowMaterial.js\";class m extends l{constructor(e){super(e),this._parameters=c,this._handles=null,this._origin=t(),this._originTransform=o(),this._arrowCenter=t(),this._renderOccluded=4,this._geometry=null,this._stripeLength=1,this.applyProps(e)}get renderOccluded(){return this._renderOccluded}set renderOccluded(e){e!==this._renderOccluded&&(this._renderOccluded=e,this._arrowMaterial&&this._arrowMaterial.setParameterValues({renderOccluded:e}))}get geometry(){return this._geometry}set geometry(e){this._geometry=e,this.geometryChanged()}get stripeLength(){return this._stripeLength}set stripeLength(e){this._stripeLength=e,this.attached&&this._arrowMaterial.setParameterValues({stripeLength:this._stripeLength})}createExternalResources(){this._arrowMaterial=new d({outlineColor:this._parameters.arrowOutlineColor,stripeEvenColor:this._parameters.arrowStripeEvenColor,stripeOddColor:this._parameters.arrowStripeOddColor,renderOccluded:this.renderOccluded,polygonOffset:!0},\"arrow\"),this._handles=new i,this._handles.add(this.view.state.watch(\"camera\",(()=>{this.viewChanged()})))}destroyExternalResources(){this._arrowMaterial=null,this._handles.destroy(),this._handles=null}forEachExternalResource(e){e(this._arrowMaterial)}createGeometries(r){if(e(this._geometry)||e(this._geometry.startRenderSpace)||e(this._geometry.endRenderSpace))return;const t=this._createArrowGeometry(this._geometry.startRenderSpace,this._geometry.endRenderSpace,this._origin,this._geometry);r.addGeometry(t,this._arrowMaterial,this._originTransform),this.viewChanged()}_createArrowGeometry(e,r,t,i){const o=this.view.renderCoordsHelper,l=[],d=[],m=(e,r)=>{const i=a.get();s(i,e,t),l.push(i),d.push(r)};if(\"euclidean\"===i.type){i.eval(.5,this._arrowCenter);const t=a.get();o.worldUpAtPosition(this._arrowCenter,t),m(e,t),m(r,t)}else{i.eval(.5,this._arrowCenter);const e=this._parameters.arrowSubdivisions+1&-2;for(let r=0;r<e;++r){const t=r/(e-1),s=a.get(),n=a.get();i.eval(t,s),o.worldUpAtPosition(s,n),m(s,n)}}return new h(n.createPolylineGeometry(l,d),\"arrow\")}geometryChanged(){this.recreateGeometry()}viewChanged(){if(this.view.ready&&this.attached&&r(this._geometry)){const e=this.view._stage.getCamera().computeScreenPixelSizeAt(this._arrowCenter);this._arrowMaterial.setParameterValues({width:this._parameters.arrowWidth*e})}}}const c={arrowWidth:16,arrowOutlineColor:[1,.5,0,1],arrowOutlineWidth:.2,arrowStripeEvenColor:[1,1,1,1],arrowStripeOddColor:[1,.5,0,1],arrowStripeLength:16,arrowSubdivisions:128};export{m as MeasurementArrowVisualElement};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{c as t}from\"../../../../../chunks/vec3f64.js\";import{e,g as s,f as r}from\"../../../../../chunks/vec3.js\";import{slerp as i}from\"../../../support/mathUtils.js\";import{getSphericalPCPF as o}from\"../../../../../geometry/projectionEllipsoid.js\";import{canProjectWithoutEngine as n,projectVectorToVector as p}from\"../../../../../geometry/projection.js\";import{sv3d as c}from\"../../../support/stack.js\";class a{constructor(e=t(),s=t()){this.startRenderSpace=e,this.endRenderSpace=s,this.type=\"euclidean\"}eval(t,s){return e(s,this.startRenderSpace,this.endRenderSpace,t)}createRenderGeometry(t,e){const s=[],i=[],o=(e,o)=>{const n=m;r(n,e,t),s.push([n[0],n[1],n[2]]),i.push([o[0],o[1],o[2]])},n=e.worldUpAtPosition(this.eval(.5,d),c.get());return o(this.startRenderSpace,n),o(this.endRenderSpace,n),{points:s,normals:i}}}class h{constructor(e,s,r){this.startRenderSpace=e,this.endRenderSpace=s,this.renderSpatialReference=r,this.type=\"geodesic\",this._start=t(),this._end=t(),this._pcpf=o(r),this._project=n(r,this._pcpf),this._projectIn(e,this._start),this._projectIn(s,this._end)}_projectIn(t,e){this._project?p(t,this.renderSpatialReference,e,this._pcpf):s(e,t)}eval(t,s){return this._project?(i(this._start,this._end,t,s),p(s,this._pcpf,s,this.renderSpatialReference)):e(s,this._start,this._end,t),s}createRenderGeometry(t,e){const s=[],i=[],o=(e,o)=>{const n=l;r(n,e,t),s.push([n[0],n[1],n[2]]),i.push([o[0],o[1],o[2]])};for(let t=0;t<128;++t){const s=t/127,r=d,i=m;this.eval(s,r),e.worldUpAtPosition(r,i),o(r,i)}return{points:s,normals:i}}}const d=t(),m=t(),l=t();export{a as EuclideanSegment,h as GeodesicSegment};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{isNone as e,isSome as t,unwrap as i}from\"../../../../../core/maybe.js\";import{sign as s,nextHighestPowerOfTen as n,deg2rad as r}from\"../../../../../core/mathUtils.js\";import{screenPointObjectToArray as o,castRenderScreenPointArray3 as a,castRenderScreenPointArray as l}from\"../../../../../core/screenUtils.js\";import{c as h}from\"../../../../../chunks/vec3f64.js\";import{a as d,b as c,g as _}from\"../../../../../chunks/vec3.js\";import m from\"../../../../../core/Handles.js\";import{getReferenceEllipsoid as g}from\"../../../../../geometry/projectionEllipsoid.js\";import{preferredImperialLengthUnit as u,convertUnit as v}from\"../../../../../core/unitUtils.js\";import{i as p,t as b}from\"../../../../../chunks/mat4.js\";import{a as L}from\"../../../../../chunks/mat4f64.js\";import{formatDecimal as w,formatDMS as S,formatImperialLength as P,formatImperialVerticalLength as f,formatMetricLength as D,formatMetricVerticalLength as z}from\"../../../../../core/quantityFormatUtils.js\";import{g as y}from\"../../../../../chunks/vec2.js\";import{getElevationAtPoint as C}from\"../../../support/ElevationProvider.js\";import{sv3d as M,sv2d as j}from\"../../../support/stack.js\";import{lineSegment as A}from\"../../../support/geometryUtils.js\";import{Intersector as H}from\"../../../webgl-engine/lib/Intersector.js\";import{createStipplePatternSimple as E}from\"../../../webgl-engine/materials/lineStippleUtils.js\";import{f as T}from\"../../../../../chunks/vec4f32.js\";import{LaserlineVisualElement as G}from\"../../visualElements/LaserlineVisualElement.js\";import{RightAngleQuadVisualElement as R}from\"../../visualElements/RightAngleQuadVisualElement.js\";import{createSphereManipulator as x}from\"../../manipulatorUtils.js\";import{copyParameter as k,pointToPointScreenDistance as V,screenSpaceTangent as F,midpoint as O}from\"../support/viewUtils.js\";import{mirrorPosition as W}from\"../support/labelUtils.js\";import{LabelVisualElement as U}from\"../../visualElements/LabelVisualElement.js\";import{LineVisualElement as I}from\"../../visualElements/LineVisualElement.js\";import{MeasurementArrowVisualElement as Q}from\"../../visualElements/MeasurementArrowVisualElement.js\";import{GeodesicSegment as q,EuclideanSegment as N}from\"../../visualElements/support/Segment.js\";const B=T(1,.5,0,.75),J={laserLineGlowColor:[1,.5,0],laserLineGlowWidth:8,laserLineGlowFalloff:8,laserLineInnerColor:[1,1,1],laserLineInnerWidth:.75,laserLineGlobalAlpha:.75,laserLineEnabled:!0,handleColor:[1,.5,0],handleOpacity:.5,handleRadius:5,triangleColor:B,triangleLineWidth:3,triangleCornerSize:32,triangleSubdivisions:128,arrowWidth:16,arrowOutlineColor:[1,.5,0,1],arrowOutlineWidth:.2,arrowStripeEvenColor:[1,1,1,1],arrowStripeOddColor:[1,.5,0,1],arrowStripeLength:16,arrowSubdivisions:128,geodesicProjectionLineWidth:2,geodesicProjectionLineColor:B,guideLineWidth:2,guideLineColor:B,guideStippleLengthPixels:6,labelDistance:25,direcLabelFontSize:16,horizontalLabelFontSize:12,verticalLabelFontSize:12};class K{constructor(e,t={}){this._visible=!1,this._measurementArrow=null,this._horizontalAndVerticalSegmentLines=null,this._rightAngleQuad=null,this._directSegmentLabel=null,this._verticalSegmentLabel=null,this._horizontalSegmentLabel=null,this._projectedGeodesicLine=null,this._geodesicStartHint=null,this._geodesicEndHint=null,this._laserLine=null,this._directSegmentLabelMeasurement=\"directDistance\",this._horizontalSegmentLabelMeasurement=\"horizontalDistance\",this._verticalSegmentLabelMeasurement=\"verticalDistance\",this._handles=new m,this._listenerHandles=null,this._cursorPosition=h(),this._startPosition=h(),this._endPosition=h(),this._cornerPosition=h(),this._origin=h(),this._originTransform=L(),this._lastDraggedHandle=null,this._viewMode=X.None,this._viewModeDirty=!0,this._triangleCollapseRatioThreshold=.03,this._model=e,this._view=e.sceneView,this._params=k(J,t),this._measurementArrow=new Q({attached:!0,view:this._view,geometry:null,renderOccluded:4}),this._horizontalAndVerticalSegmentLines=new I({attached:!0,view:this._view,width:this._params.triangleLineWidth,color:this._params.triangleColor,renderOccluded:4}),this._rightAngleQuad=new R({attached:!0,view:this._view,color:B,renderOccluded:4}),this._directSegmentLabel=new U({attached:!0,view:this._view,fontSize:this._params.direcLabelFontSize}),this._verticalSegmentLabel=new U({attached:!0,view:this._view,fontSize:this._params.verticalLabelFontSize}),this._horizontalSegmentLabel=new U({attached:!0,view:this._view,fontSize:this._params.horizontalLabelFontSize}),this._projectedGeodesicLine=new I({attached:!0,view:this._view,width:this._params.geodesicProjectionLineWidth,color:this._params.geodesicProjectionLineColor,polygonOffset:!0,stipplePattern:E(this._params.guideStippleLengthPixels),stippleIntegerRepeats:!1,renderOccluded:4}),this._geodesicStartHint=new I({attached:!0,view:this._view,width:this._params.guideLineWidth,color:this._params.geodesicProjectionLineColor,polygonOffset:!0,stipplePattern:E(this._params.guideStippleLengthPixels),stippleIntegerRepeats:!1,renderOccluded:4}),this._geodesicEndHint=new I({attached:!0,view:this._view,width:this._params.guideLineWidth,color:this._params.geodesicProjectionLineColor,polygonOffset:!0,stipplePattern:E(this._params.guideStippleLengthPixels),stippleIntegerRepeats:!1,renderOccluded:4}),this._laserLine=new G({view:this._view,attached:!0}),this._intersector=new H(this._view.state.mode),this._intersector.options.store=0,this._initializeListeners()}destroy(){this.hide(),this._destroyListeners(),this._handles.destroy(),this._handles=null,this._measurementArrow.destroy(),this._measurementArrow=null,this._horizontalAndVerticalSegmentLines.destroy(),this._horizontalAndVerticalSegmentLines=null,this._rightAngleQuad.destroy(),this._rightAngleQuad=null,this._directSegmentLabel.destroy(),this._directSegmentLabel=null,this._verticalSegmentLabel.destroy(),this._verticalSegmentLabel=null,this._horizontalSegmentLabel.destroy(),this._horizontalSegmentLabel=null,this._projectedGeodesicLine.destroy(),this._projectedGeodesicLine=null,this._geodesicStartHint.destroy(),this._geodesicStartHint=null,this._geodesicEndHint.destroy(),this._geodesicEndHint=null}get requiresCursorPoint(){return\"initial\"===this._model.state&&this._model.active}get cameraAboveGround(){return this._view.state.camera.aboveGround}get visible(){return this._visible}set visible(e){e?this.show():this.hide()}get viewMode(){return this._viewModeDirty&&(this._viewMode=this._computeViewMode()),this._viewMode}_computeViewMode(){this._viewModeDirty=!1;const t=this._model,i=t.model,s=i.measurement,n=\"geodesic\"===t.measurementMode;if(e(i.startPoint)||e(i.endPoint)||i.startPoint.equals(i.endPoint))return X.None;if(n){if(!this._model.geodesicDistanceExceeded)return X.Direct;if(this._requiresGeodesicGuideAt(this._startPosition)||this._requiresGeodesicGuideAt(this._endPosition))return X.ProjectedGeodesic}if(e(s))return X.Direct;return Math.min(s.verticalDistance.value/s.horizontalDistance.value,s.horizontalDistance.value/s.verticalDistance.value)<this.triangleCollapseRatioThreshold?X.Direct:X.Triangle}get triangleCollapseRatioThreshold(){return this._triangleCollapseRatioThreshold}set triangleCollapseRatioThreshold(e){this._triangleCollapseRatioThreshold=e,this._viewModeDirty=!0,this._geometryChanged()}get testData(){const e=this._laserLine.testData,i=\"geodesic\"===this._model.measurementMode;return{labels:{direct:i?this._horizontalSegmentLabel:this._directSegmentLabel,horizontal:i?this._directSegmentLabel:this._horizontalSegmentLabel,vertical:this._verticalSegmentLabel},laserLineRenderer:{heightManifoldEnabled:!!t(e)&&e.heightManifoldEnabled,heightManifoldTarget:t(e)?e.heightManifoldTarget:null,pointDistanceEnabled:!!t(e)&&e.pointDistanceEnabled,pointDistanceOrigin:t(e)?e.pointDistanceOrigin:null,pointDistanceTarget:t(e)?e.pointDistanceTarget:null,lineVerticalPlaneEnabled:!!t(e)&&e.lineVerticalPlaneEnabled},stripeLength:this._computeMeasurementArrowStripeLength(this._model.model)}}get directLabelText(){return this._directSegmentLabel.text}get horizontalLabelText(){return this._horizontalSegmentLabel.text}get verticalLabelText(){return this._verticalSegmentLabel.text}createManipulators(){const e=()=>{const e=x(this._view,this._params.handleColor,this._params.handleOpacity);return e.available=!1,e.radius=this._params.handleRadius,e},t=e(),s=e();this._model.startPoint&&(t.location=i(this._model.startPoint),t.available=!0),this._model.endPoint&&(s.location=i(this._model.endPoint),s.available=!0);const n=()=>{let e=this._lastDraggedHandle;t.grabbing&&!s.grabbing&&(e=\"start\"),s.grabbing&&!t.grabbing&&(e=\"end\"),t.grabbing||s.grabbing||(e=null);const i=e!==this._lastDraggedHandle;this._lastDraggedHandle=e,i&&this.visible&&this._updateLaserLine()};return this._handles.add([t.events.on(\"grab-changed\",(()=>{n()})),s.events.on(\"grab-changed\",(()=>{n()}))]),{start:t,end:s}}show(){this._visible||(this._visible=!0,this._laserLine.style={innerColor:this._params.laserLineInnerColor,innerWidth:this._params.laserLineInnerWidth,glowColor:this._params.laserLineGlowColor,glowWidth:this._params.laserLineGlowWidth,glowFalloff:this._params.laserLineGlowFalloff,globalAlpha:this._params.laserLineGlobalAlpha},this._laserLine.visible=!0,this._viewModeDirty=!0,this._updateCursorPosition(),this._updateStartPosition(),this._updateEndPosition(),this._updateLaserLine(),this._geometryChanged())}hide(){this._visible&&(this._visible=!1,this._measurementArrow.visible=!1,this._horizontalAndVerticalSegmentLines.visible=!1,this._rightAngleQuad.visible=!1,this._directSegmentLabel.visible=!1,this._verticalSegmentLabel.visible=!1,this._horizontalSegmentLabel.visible=!1,this._projectedGeodesicLine.visible=!1,this._geodesicStartHint.visible=!1,this._geodesicEndHint.visible=!1,this._laserLine.visible=!1,this._view.cursor=null)}pick(e){const t=this._view.spatialReference,i=o(e.screenPoint);this._view.sceneIntersectionHelper.intersectToolIntersectorScreen(i,this._intersector);const s=this._intersector.results.min,n=h();if(!s.getIntersectionPoint(n))return new K.PickResult;const r=this._view.renderCoordsHelper.fromRenderCoords(n,t),a=\"TerrainRenderer\"===s.intersector?\"ground\":\"feature\";return new K.PickResult(a,n,r)}getElevation(e){return this._view.basemapTerrain.ready&&C(this._view.elevationProvider,e)||0}overlappingHandles(e,t){return V(e,t,this._view)<=this._params.handleRadius}_getLabelPositions(e,t,i,n,r){const o=this._viewMode!==X.Triangle,h=a(M.get()),d=a(M.get());r.projectToRenderScreen(i,h),r.projectToRenderScreen(t,d);const c={direct:o?\"top\":\"bottom\",horizontal:\"top\",vertical:h[0]<d[0]?\"left\":\"right\"};if(!o){const n=j.get(),o=j.get();if(F(e,i,n,r),F(e,t,o,r),y(n,o)>=Y)c.direct=s(n[1])===s(o[1])?W(c.vertical):c.vertical;else{const e=l(j.get());F(i,t,e,r),y(e,o)>=Y&&(c.direct=s(e[0])===s(o[0])?W(c.horizontal):c.horizontal)}}if(\"below-the-surface\"===n){const e=e=>\"top\"===e?\"bottom\":\"top\";c.direct=e(c.direct),c.horizontal=e(c.horizontal),c.vertical=e(c.vertical)}return c}_updateLabelText(){const t=this._model.model.measurement;if(e(t)||!this._model.messages)return;const i={verticalDistance:\"\",horizontalDistance:\"\",directDistance:\"\",geodesicDistance:\"\"},s=this._model.messages,n=t.directDistance,r=t.horizontalDistance,o=t.verticalDistance,a=t.geodesicDistance,l=t.geodesicAngle;switch(this._model.unit){case\"metric\":i.directDistance=n&&D(s,n),i.horizontalDistance=r&&D(s,r),i.verticalDistance=o&&z(s,o),i.geodesicDistance=a&&D(s,a);break;case\"imperial\":i.directDistance=n&&P(s,n),i.horizontalDistance=r&&P(s,r),i.verticalDistance=o&&f(s,o),i.geodesicDistance=a&&P(s,a);break;case\"degrees\":{const e=l&&w(s,l,\"degrees\");i.directDistance=e,i.horizontalDistance=e,i.geodesicDistance=e;break}case\"degrees-minutes-seconds\":i.horizontalDistanceText=l&&S(l);break;default:i.directDistance=n&&w(s,n,this._model.unit),i.horizontalDistance=r&&w(s,r,this._model.unit),i.verticalDistance=o&&w(s,o,this._model.unit),i.geodesicDistance=a&&w(s,a,this._model.unit)}this._directSegmentLabel.text=i[this._directSegmentLabelMeasurement],this._horizontalSegmentLabel.text=i[this._horizontalSegmentLabelMeasurement],this._verticalSegmentLabel.text=i[this._verticalSegmentLabelMeasurement]}_geometryChanged(){const e=this._view,t=e.state.camera,i=this._model,s=i.measurementMode,n=e.renderCoordsHelper,r=this.viewMode;if(r===X.None)return this._rightAngleQuad.visible=!1,this._horizontalAndVerticalSegmentLines.visible=!1,this._directSegmentLabel.visible=!1,this._horizontalSegmentLabel.visible=!1,this._verticalSegmentLabel.visible=!1,this._measurementArrow.visible=!1,this._projectedGeodesicLine.visible=!1,this._geodesicStartHint.visible=!1,void(this._geodesicEndHint.visible=!1);let o=this._startPosition,a=this._endPosition;const l=\"camera-dependent\"===i.measurementSurfaceLocation?this._view.state.camera.aboveGround?\"above-the-surface\":\"below-the-surface\":i.measurementSurfaceLocation,h=\"above-the-surface\"===l?1:-1,m=h*(e.renderCoordsHelper.getAltitude(a)-e.renderCoordsHelper.getAltitude(o));m<0&&(o=this._endPosition,a=this._startPosition);const g=this._cornerPosition;e.renderCoordsHelper.worldUpAtPosition(o,g),d(g,g,h*Math.abs(m)),c(g,g,o);const u=\"geodesic\"===s,v=u?new q(this._startPosition,this._endPosition,this._view.renderCoordsHelper.spatialReference):new N(this._startPosition,this._endPosition),L=this._getLabelPositions(o,a,g,l,t);switch(O([o,a,g],this._origin),p(this._originTransform),b(this._originTransform,this._originTransform,this._origin),this._measurementArrow.geometry=v,this._measurementArrow.stripeLength=this._computeMeasurementArrowStripeLength(this._model.model),this._measurementArrow.visible=!0,this._directSegmentLabel.anchor=L.direct,this._directSegmentLabel.geometry=v,this._directSegmentLabel.visible=!0,this._directSegmentLabelMeasurement=\"geodesic\"===s?\"geodesicDistance\":\"directDistance\",r){case X.Direct:this._horizontalSegmentLabelMeasurement=u?\"geodesicDistance\":\"horizontalDistance\",this._rightAngleQuad.visible=!1,this._horizontalAndVerticalSegmentLines.visible=!1,this._horizontalSegmentLabel.visible=!1,this._verticalSegmentLabel.visible=!1,this._projectedGeodesicLine.visible=!1,this._geodesicStartHint.visible=!1,this._geodesicEndHint.visible=!1;break;case X.ProjectedGeodesic:{const e=_(M.get(),this._startPosition),t=_(M.get(),this._endPosition);n.setAltitude(0,e),n.setAltitude(0,t);const i=new q(e,t,this._view.renderCoordsHelper.spatialReference);this._projectedGeodesicLine.setGeometryFromSegment(i),this._projectedGeodesicLine.visible=!0,this._geodesicStartHint.setGeometryFromSegment(new N(e,this._startPosition)),this._geodesicStartHint.visible=!0,this._geodesicEndHint.setGeometryFromSegment(new N(t,this._endPosition)),this._geodesicEndHint.visible=!0,this._directSegmentLabel.geometry=i,this._directSegmentLabelMeasurement=\"geodesicDistance\",this._rightAngleQuad.visible=!1,this._horizontalAndVerticalSegmentLines.visible=!1,this._horizontalSegmentLabel.visible=!1,this._verticalSegmentLabel.visible=!1;break}case X.Triangle:{this._horizontalAndVerticalSegmentLines.geometry=[[[o[0],o[1],o[2]],[g[0],g[1],g[2]],[a[0],a[1],a[2]]]],this._horizontalAndVerticalSegmentLines.visible=!0;const e=new N(o,g);this._verticalSegmentLabel.visible=!0,this._verticalSegmentLabel.geometry=e,this._verticalSegmentLabel.anchor=L.vertical,this._verticalSegmentLabelMeasurement=\"verticalDistance\";const t=new N(g,a);this._horizontalSegmentLabel.visible=!0,this._horizontalSegmentLabel.geometry=t,this._horizontalSegmentLabel.anchor=L.horizontal,this._horizontalSegmentLabelMeasurement=\"horizontalDistance\",this._rightAngleQuad.geometry={previous:o,center:g,next:a},this._rightAngleQuad.visible=!0,this._projectedGeodesicLine.visible=!1,this._geodesicStartHint.visible=!1,this._geodesicEndHint.visible=!1;break}}this._updateLabelText()}_computeMeasurementArrowStripeLength(e){let i=null;if(t(e.measurement)){const t=e.measurement.directDistance;switch(this._model.model.settings.unit){case\"metric\":i=t&&t.toUnit(\"meters\");break;case\"imperial\":i=t&&t.toUnit(u(t.value,t.unit));break;case\"degrees\":case\"degrees-minutes-seconds\":{const t=e.measurement.geodesicAngle;i=t&&t.toUnit(\"degrees\");break}default:i=t&&t.toUnit(this._model.model.settings.unit)}}let s=1;return i&&(s=n(i.value/30),s*=\"degrees\"===i.unit?g(this._view.spatialReference).metersPerDegree:v(1,i.unit,\"meters\")),s}_requiresGeodesicGuideAt(e){if(!this._view.state)return!1;const t=this._view.state.camera,i=this._view.renderCoordsHelper,s=t.computeScreenPixelSizeAt(e);return i.getAltitude(e)/s>=10}_updateCursorPosition(){this._model.cursorPoint&&this._view.renderCoordsHelper.toRenderCoords(this._model.cursorPoint,this._cursorPosition)}_updateStartPosition(){t(this._model.startPoint)&&this._view.renderCoordsHelper.toRenderCoords(this._model.startPoint,this._startPosition)}_updateEndPosition(){t(this._model.endPoint)&&this._view.renderCoordsHelper.toRenderCoords(this._model.endPoint,this._endPosition)}_getFocusPosition(){const e=this._model,t=this.viewMode===X.Direct&&\"euclidean\"===e.measurementMode;switch(e.state){case\"drawing\":return t?this._startPosition:e.endPoint?this._endPosition:this._startPosition;case\"editing\":return t?\"start\"===this._lastDraggedHandle?this._endPosition:this._startPosition:\"start\"===this._lastDraggedHandle?this._startPosition:this._endPosition;default:return e.cursorPoint?this._cursorPosition:null}}_getFocusSpherePosition(){return\"drawing\"===this._model.state||\"end\"===this._lastDraggedHandle?this._startPosition:this._endPosition}_updateLaserLine(){const e=this._model,t=this._getFocusPosition(),i=this.viewMode,s=this._params.laserLineEnabled&&!!t&&\"measured\"!==e.state&&e.active;if(s){const n=s&&\"euclidean\"===e.measurementMode;this._laserLine.heightManifoldTarget=n?t:null;const r=s&&!!e.startPoint&&\"geodesic\"===e.measurementMode;this._laserLine.pointDistanceLine=r?{origin:this._getFocusSpherePosition(),target:t}:null;const o=s&&i===X.Triangle;this._laserLine.lineVerticalPlaneSegment=o?A.fromPoints(this._startPosition,this._endPosition,Z):null}else this._laserLine.heightManifoldTarget=null,this._laserLine.pointDistanceLine=null,this._laserLine.lineVerticalPlaneSegment=null}_initializeListeners(){this._listenerHandles=new m,this._listenerHandles.add([this._model.watch(\"state\",(()=>{this._visible&&this._updateLaserLine()}),!0),this._model.watch(\"measurementMode\",(()=>{this._viewModeDirty=!0,this._visible&&this._updateLaserLine()}),!0),this._model.watch(\"hoveredHandle\",(()=>{this._visible&&this._geometryChanged()}),!0),this._model.watch(\"cursorPoint\",(()=>{this._updateCursorPosition(),this._visible&&this._updateLaserLine()}),!0),this._model.model.watch(\"startPoint\",(()=>{this._updateStartPosition(),this._viewModeDirty=!0,this._visible&&(this._updateLaserLine(),this._geometryChanged())}),!0),this._model.model.watch(\"endPoint\",(()=>{this._updateEndPosition(),this._viewModeDirty=!0,this._visible&&(this._updateLaserLine(),this._geometryChanged())}),!0),this._model.watch(\"messages\",(()=>{this._viewModeDirty=!0,this._visible&&this._geometryChanged(),this._updateLabelText()}),!0),this._model.watch(\"unit\",(()=>{this._viewModeDirty=!0,this._visible&&this._geometryChanged()}),!0),this._model.watch(\"active\",(()=>{this._visible&&(this._updateLaserLine(),this._geometryChanged())}),!0),this._view.state.watch(\"camera\",(()=>{this._visible&&this._geometryChanged()}),!0),this._model.model.watch(\"measurement\",(()=>{this._viewModeDirty=!0,this._visible?this._geometryChanged():this._updateLabelText()}),!0)])}_destroyListeners(){this._listenerHandles.destroy(),this._listenerHandles=null}}var X;!function(e){e.PickRequest=class{};e.PickResult=class{constructor(e=null,t=null,i=null){this.type=e,this.scenePoint=t,this.mapPoint=i}}}(K||(K={})),function(e){e[e.Triangle=0]=\"Triangle\",e[e.ProjectedGeodesic=1]=\"ProjectedGeodesic\",e[e.Direct=2]=\"Direct\",e[e.None=3]=\"None\"}(X||(X={}));const Y=Math.cos(r(12)),Z=A.create();var $=K;export default $;export{K as DirectLineMeasurement3DView,X as ViewMode};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import\"../../../../../core/has.js\";import{unwrap as t}from\"../../../../../core/maybe.js\";import\"../../../../../core/Logger.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import{property as i}from\"../../../../../core/accessorSupport/decorators/property.js\";import{aliasOf as s}from\"../../../../../core/accessorSupport/decorators/aliasOf.js\";import{subclass as r}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import\"../../../../../core/urlUtils.js\";import\"../../../../../core/uuid.js\";import\"../../../../../portal/support/resourceExtension.js\";import o from\"../../../../../geometry/Point.js\";import\"../../../../../geometry.js\";import n from\"../../../../../core/Handles.js\";import{init as a}from\"../../../../../core/watchUtils.js\";import{createScreenPointFromEvent as d}from\"../../../../support/screenUtils.js\";import{clonePoint as l}from\"../../../../../layers/graphics/hydratedFeatures.js\";import{createManipulatorDragEventPipeline as c,resetProperties as h}from\"../../../../interactive/dragEventPipeline.js\";import{InteractiveToolBase as u}from\"../../../../interactive/InteractiveToolBase.js\";import{screenToMap3D as m,hideManipulatorWhileDragging as p}from\"../../editingTools/dragEventPipeline3D.js\";import v from\"./DirectLineMeasurement3DModel.js\";import{DirectLineMeasurement3DView as P}from\"./DirectLineMeasurement3DView.js\";let y=class extends u{constructor(e){super(e),this._handles=new n,this._cachedPickRequest=new P.PickRequest,this._cachedPickResult=new P.PickResult,this._isAnyPointerDown=!1,this.deferCreation=!0,this.startManipulator=null,this.endManipulator=null,this.model=new v({sceneView:e.view})}initialize(){this._set(\"directLineMeasurementView\",new P(this.model));const e=a(this,\"state\",(e=>{\"ready\"!==e&&this.create(),\"measured\"===e&&this.complete()}),!0);this._handles.add(e);const{start:i,end:s}=this.directLineMeasurementView.createManipulators(),r=(e,i,s)=>c(e,((e,r,o)=>{const n=p(e);r.next(n).next(m(this.view)).next((e=>\"start\"!==e.action?e:null)).next((t=>{const r=l(t.mapEnd,M);this.model[i]=r,e.location=r,this.model[s]=this._surfaceLocation(r,t.surfaceType)})),o.next(n).next(h(this.model,[i,s])).next((()=>{e.location=t(this.model[i])}))}));this._handles.add([r(i,\"startPoint\",\"startPointSurfaceLocation\"),r(s,\"endPoint\",\"endPointSurfaceLocation\")]),[i,s].forEach((e=>{this._handles.add([e.events.on(\"grab-changed\",(()=>{const e=i.grabbing||s.grabbing;e&&\"measured\"===this.model.state&&(this.model.state=\"editing\"),e||(this.model.finishMeasurement(),\"editing\"===this.model.state&&(this.model.state=\"measured\"))}))])})),this.manipulators.add(i),this.manipulators.add(s),this.startManipulator=i,this.endManipulator=s}destroy(){this.directLineMeasurementView.destroy(),this._set(\"directLineMeasurementView\",null),this.model.destroy(),this._set(\"model\",null),this._handles.destroy(),this._handles=null}get state(){var e;return null!=(e=this.model)&&e.isMeasuring?\"measured\"===this.model.state?\"measured\":\"measuring\":\"ready\"}get creating(){return\"initial\"===this.model.state||\"drawing\"===this.model.state}get isSupported(){return\"3d\"===this.get(\"view.type\")}get cursor(){var e;return null==(e=this.model)||!e.active||\"drawing\"!==this.model.state&&\"initial\"!==this.model.state?null:\"crosshair\"}activate(){this.model.active=!0}deactivate(){this.model.active=!1}onDetach(){this.model.reset()}onShow(){this.directLineMeasurementView.show(),this._updateManipulatorVisibility()}onHide(){this.directLineMeasurementView.hide()}onInputEvent(e){switch(e.type){case\"immediate-click\":this._handleImmediateClick(e);break;case\"pointer-move\":this._handlePointerMove(e);break;case\"pointer-down\":this._handlePointerDown();break;case\"pointer-up\":this._handlePointerUp()}this._updateManipulatorVisibility()}_handlePointerMove(e){this._clearCachedPickRequest();const t=d(e);\"mouse\"===e.pointerType&&(this._hoverAt(t),\"drawing\"===this.model.state&&(this.endManipulator.events.emit(\"drag\",{action:\"update\",start:t,screenPoint:t}),e.stopPropagation()))}_handlePointerDown(){this._isAnyPointerDown=!0}_handlePointerUp(){this._isAnyPointerDown=!1}_handleImmediateClick(e){if(this._clearCachedPickRequest(),!function(e){return\"mouse\"!==e.pointerType||0===e.button}(e))return;const t=d(e),i=e.pointerType;let s=!1;if(this.model.active)switch(this.model.state){case\"initial\":this.startManipulator.events.emit(\"drag\",{action:\"start\",pointerType:i,start:t,screenPoint:t}),this.startManipulator.events.emit(\"drag\",{action:\"end\",start:t,screenPoint:t}),this.model.startPoint&&(this.startManipulator.interactive=!1,this.endManipulator.interactive=!1,this.model.state=\"drawing\",this.endManipulator.events.emit(\"drag\",{action:\"start\",pointerType:i,start:t,screenPoint:t}),s=!0);break;case\"drawing\":this.endManipulator.events.emit(\"drag\",{action:\"update\",start:t,screenPoint:t}),null!=this.model.endPoint&&(this.endManipulator.events.emit(\"drag\",{action:\"end\",start:t,screenPoint:t}),this.startManipulator.interactive=!0,this.endManipulator.interactive=!0,this.model.finishMeasurement(),s=!0)}s&&e.stopPropagation(),\"mouse\"===e.pointerType&&this._hoverAt(t)}_hoverAt(e){const t=this._isAnyPointerDown&&\"drawing\"!==this.model.state&&\"editing\"!==this.model.state;if(this.directLineMeasurementView.requiresCursorPoint&&!t){const t=this._pick(e);t.mapPoint&&(this.model.cursorPoint=t.mapPoint)}else this.model.cursorPoint=null}_pick(e){const t=this._cachedPickRequest.screenPoint;return t&&t.x===e.x&&t.y===e.y||(this._cachedPickRequest.screenPoint=e,this._cachedPickResult=this.directLineMeasurementView.pick(this._cachedPickRequest)),this._cachedPickResult}_clearCachedPickRequest(){this._cachedPickRequest.screenPoint=null}_surfaceLocation(e,t){return 0===t?\"on-the-surface\":e.z>=this.directLineMeasurementView.getElevation(e)?\"above-the-surface\":\"below-the-surface\"}_updateManipulatorVisibility(){this.startManipulator.available=null!=this.model.startPoint,this.endManipulator.available=null!=this.model.endPoint}};e([i({dependsOn:[\"model.isMeasuring\",\"model.state\"],readOnly:!0})],y.prototype,\"state\",null),e([i({dependsOn:[\"model.state\"],readOnly:!0})],y.prototype,\"creating\",null),e([i({dependsOn:[\"view.type\"],readOnly:!0})],y.prototype,\"isSupported\",null),e([i({dependsOn:[\"model.active\",\"model.state\"],readOnly:!0})],y.prototype,\"cursor\",null),e([i({constructOnly:!0})],y.prototype,\"model\",void 0),e([i({constructOnly:!0})],y.prototype,\"directLineMeasurementView\",void 0),e([s(\"model.mode\")],y.prototype,\"mode\",void 0),e([s(\"model.unit\")],y.prototype,\"unit\",void 0),e([s(\"model.validMeasurement\")],y.prototype,\"validMeasurement\",void 0),y=e([r(\"esri.views.3d.interactive.measurementTools.directLineMeasurement3D.DirectLineMeasurement3DTool\")],y);const M=new o;var _=y;export default _;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import{isSome as t}from\"../../core/maybe.js\";import i from\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import{ignoreAbortErrors as o}from\"../../core/promiseUtils.js\";import n from\"../../core/Handles.js\";import{init as l}from\"../../core/watchUtils.js\";import{measurementLengthUnits as a}from\"../../core/unitUtils.js\";import{defaultUnitPropertyMetadata as u}from\"../support/commonProperties.js\";import{InteractiveToolViewModel as d}from\"../support/InteractiveToolViewModel.js\";import m from\"../../views/3d/interactive/measurementTools/directLineMeasurement3D/DirectLineMeasurement3DTool.js\";const p=i.getLogger(\"esri.widgets.DirectLineMeasurement3D.DirectLineMeasurement3DViewModel\");let c=class extends d{constructor(e){super(e),this.supportedViewType=\"3d\",this._handles=new n,this._userUnitOptions=null,this._userUnit=null}initialize(){this._handles.add([l(this,\"unit\",(e=>{this.tool&&(this.tool.model.unit=e)}))])}destroy(){this._handles.destroy(),this._handles=null}get state(){return this.isDisabled?\"disabled\":this.tool?this.tool.state:\"ready\"}get measurement(){if(!this.tool)return null;const e=this.tool.model,i=e.measurementMode,r=\"geodesic\"===i,s=t(e.model.measurement),o=this.tool.directLineMeasurementView;return{mode:i,directDistance:{text:r?null:o.directLabelText,state:s&&!r?\"available\":\"unavailable\"},horizontalDistance:{text:o.horizontalLabelText,state:s?\"available\":\"unavailable\"},verticalDistance:{text:o.verticalLabelText,state:s?\"available\":\"unavailable\"}}}set unitOptions(e){this._userUnitOptions=e,this._set(\"unitOptions\",this._filteredOrAllUnits(this._userUnitOptions))}get unitOptions(){return this._filteredOrAllUnits(this._userUnitOptions)}set unit(e){this._userUnit=e?this._findSelectableUnit(e,this._userUnit):null,this.notifyChange(\"unit\")}get unit(){return this._userUnit?(this._userUnit=this._findSelectableUnit(this._userUnit,this.defaultUnit),this._userUnit):this._findSelectableUnit(this.defaultUnit)}start(){return this.createTool()}clear(){this.removeTool()}newMeasurement(){o(this.start())}clearMeasurement(){this.clear()}createToolParams(){return{toolConstructor:m,constructorArguments:()=>({unit:this.unit})}}logUnsupportedError(){p.error(\"DirectLineMeasurement3D widget is not implemented for MapView\")}logError(...e){p.error(...e)}_findSelectableUnit(e,t){const i=this.unitOptions;return-1!==i.indexOf(e)?e:t?this._findSelectableUnit(t):i[0]}_filteredOrAllUnits(e){if(!e)return a.slice();const t=e.filter((e=>-1!==a.indexOf(e)));return 0===t.length?a.slice():t}};e([r({dependsOn:[\"isDisabled\",\"tool.state\"],readOnly:!0})],c.prototype,\"state\",null),e([r({dependsOn:[\"view.ready\",\"unit\",\"tool.model.messages\",\"tool.model.startPoint\",\"tool.model.endPoint\",\"tool.directLineMeasurementView.triangleCollapseRatioThreshold\",\"tool.model.model.measurement\",\"tool.model.measurementMode\"],readOnly:!0})],c.prototype,\"measurement\",null),e([r()],c.prototype,\"tool\",void 0),e([r(u)],c.prototype,\"defaultUnit\",void 0),e([r({dependsOn:[\"view.spatialReference\"]})],c.prototype,\"unitOptions\",null),e([r({dependsOn:[\"unitOptions\",\"defaultUnit\"]})],c.prototype,\"unit\",null),c=e([s(\"esri.widgets.DirectLineMeasurement3D.DirectLineMeasurement3DViewModel\")],c);var h=c;export default h;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import\"../core/has.js\";import\"../core/Logger.js\";import\"../core/accessorSupport/ensureType.js\";import{property as s}from\"../core/accessorSupport/decorators/property.js\";import{aliasOf as t}from\"../core/accessorSupport/decorators/aliasOf.js\";import{subclass as i}from\"../core/accessorSupport/decorators/subclass.js\";import\"../core/urlUtils.js\";import\"../core/uuid.js\";import\"../portal/support/resourceExtension.js\";import{ignoreAbortErrors as r}from\"../core/promiseUtils.js\";import{isMeasurementSystem as n}from\"../core/unitUtils.js\";import\"./support/widgetUtils.js\";import{accessibleHandler as o}from\"./support/decorators/accessibleHandler.js\";import{messageBundle as a}from\"./support/decorators/messageBundle.js\";import{renderable as l}from\"./support/decorators/renderable.js\";import{j as d}from\"../chunks/index.js\";import c from\"./Widget.js\";import u from\"./DirectLineMeasurement3D/DirectLineMeasurement3DViewModel.js\";const m=\"esri-button esri-button--secondary\",p=\"esri-button--disabled\",v=\"esri-direct-line-measurement-3d\",_=\"esri-widget\",h=\"esri-widget--panel\",w=\"esri-direct-line-measurement-3d__container\",b=\"esri-direct-line-measurement-3d__hint\",y=\"esri-direct-line-measurement-3d__hint-text\",g=\"esri-direct-line-measurement-3d__panel--error\",M=\"esri-direct-line-measurement-3d__measurement\",j=\"esri-direct-line-measurement-3d__measurement-item\",f=\"esri-direct-line-measurement-3d__measurement-item--disabled\",D=\"esri-direct-line-measurement-3d__measurement-item-title\",k=\"esri-direct-line-measurement-3d__measurement-item-value\",U=\"esri-direct-line-measurement-3d__settings\",x=\"esri-direct-line-measurement-3d__units\",L=\"esri-direct-line-measurement-3d__units-label\",O=\"esri-direct-line-measurement-3d__units-select esri-select\",S=\"esri-direct-line-measurement-3d__units-select-wrapper\",z=\"esri-direct-line-measurement-3d__actions\",C=\"esri-direct-line-measurement-3d__clear-button\",$=\"esri-icon-measure-line\";let B=class extends c{constructor(e,s){super(e,s),this.view=null,this.visible=null,this.iconClass=$,this.label=void 0,this.messages=null,this.messagesUnits=null,this.viewModel=new u,this.unitOptions=null,this.unit=null}render(){const{isSupported:e,active:s,state:t,measurement:i,unit:r}=this.viewModel,o=\"disabled\"===t,a=\"ready\"===t,l=\"measuring\"===t||\"measured\"===t,{messages:c,messagesUnits:u}=this,$=s&&a?d(\"section\",{key:\"esri-direct-line-measurement-3d__hint\",class:b},d(\"p\",{class:y},c.hint)):null,B=e?null:d(\"section\",{key:\"esri-direct-line-measurement-3d__unsupported\",class:g},d(\"p\",null,c.unsupported)),E=(e,s,t)=>{switch(s.state){case\"available\":return d(\"div\",{key:`${t}-enabled`,class:j},d(\"span\",{class:D},e),d(\"span\",{class:k},s.text));case\"unavailable\":return d(\"div\",{key:`${t}-disabled`,class:this.classes(j,f)},d(\"span\",{class:D},e))}},H=l?d(\"section\",{key:\"esri-direct-line-measurement-3d__measurement\",class:M},E(c.direct,i.directDistance,\"direct\"),E(c.horizontal,i.horizontalDistance,\"horizontal\"),E(c.vertical,i.verticalDistance,\"vertical\")):null,I=`${this.id}__units`,T=d(\"label\",{class:L,for:I},c.unit),V=d(\"div\",{class:S},d(\"select\",{class:O,id:I,onchange:this._changeUnit,bind:this,value:r},this.viewModel.unitOptions.map((e=>{var s;return d(\"option\",{key:e,value:e},n(e)?u.systems[e]:null==(s=u.units[e])?void 0:s.pluralCapitalized)})))),W=d(\"section\",{key:\"esri-direct-line-measurement-3d__units\",class:x},T,V),q=l?d(\"div\",{key:\"settings\",class:U},W):null,A=!e||s&&!l?null:d(\"div\",{class:z},d(\"button\",{disabled:o,class:this.classes(m,C,o&&p),bind:this,onclick:this._newMeasurement,type:\"button\"},c.newMeasurement)),F=this.visible?d(\"div\",{class:w},B,$,q,H,A):null;return d(\"div\",{key:\"\",class:this.classes(v,_,h),role:\"presentation\"},F)}_newMeasurement(){r(this.viewModel.start())}_changeUnit(e){const s=e.target,t=s.options[s.selectedIndex];t&&(this.unit=t.value)}};e([t(\"viewModel.view\")],B.prototype,\"view\",void 0),e([t(\"viewModel.visible\"),l()],B.prototype,\"visible\",void 0),e([t(\"viewModel.active\"),l()],B.prototype,\"active\",void 0),e([s()],B.prototype,\"iconClass\",void 0),e([s({aliasOf:{source:\"messages.widgetLabel\",overridable:!0}})],B.prototype,\"label\",void 0),e([s(),l(),a(\"esri/widgets/DirectLineMeasurement3D/t9n/DirectLineMeasurement3D\")],B.prototype,\"messages\",void 0),e([s(),l(),a(\"esri/core/t9n/Units\")],B.prototype,\"messagesUnits\",void 0),e([s({type:u}),l([\"viewModel.state\",\"viewModel.unitOptions\",\"viewModel.unit\",\"viewModel.measurement\"])],B.prototype,\"viewModel\",void 0),e([t(\"viewModel.unitOptions\")],B.prototype,\"unitOptions\",void 0),e([t(\"viewModel.unit\")],B.prototype,\"unit\",void 0),e([o()],B.prototype,\"_newMeasurement\",null),e([o()],B.prototype,\"_changeUnit\",null),B=e([i(\"esri.widgets.DirectLineMeasurement3D\")],B);var E=B;export default E;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import{subclass as e}from\"../../core/accessorSupport/decorators/subclass.js\";import r from\"../../core/Error.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import{reject as s}from\"../../core/promiseUtils.js\";import i from\"../../core/Accessor.js\";import l from\"../../core/Handles.js\";import{init as n}from\"../../core/watchUtils.js\";import{evaluateToolConstructorArguments as p}from\"../../views/interactive/interactiveToolUtils.js\";let a=class extends i{constructor(t){super(t),this.tool=null,this._baseHandles=new l,this._loggedUnsupportedErrorOnce=!1,this._creationAbortController=null,t&&null!=t.visible&&(this.visible=t.visible)}initialize(){this._baseHandles.add(n(this,[\"view.ready\",\"isSupported\"],(()=>{this.view&&this.view.ready&&!this.isSupported?this._loggedUnsupportedErrorOnce||(this.logUnsupportedError(),this._loggedUnsupportedErrorOnce=!0):this._loggedUnsupportedErrorOnce=!1})))}destroy(){this.removeTool(),this.view=null,this._baseHandles.destroy(),this._baseHandles=null}get isSupported(){return!this.view||this.view.type===this.supportedViewType}get view(){return this._get(\"view\")}set view(t){if(t===this.view)return;this.removeTool(),this._set(\"view\",t);const o=\"tools\";this._baseHandles.remove(o),t&&this._baseHandles.add(t.tools.on(\"change\",(t=>{if(this.tool)for(const o of t.removed)if(this.tool===o){o.destroyed||o.destroy(),this._set(\"tool\",null);break}})),o)}set visible(t){this._set(\"visible\",t),this.tool&&(this.tool.visible=t),!t&&this._creationAbortController&&(this._creationAbortController.abort(),this._creationAbortController=null)}get active(){return null!=this._creationAbortController||null!=this.tool&&this.tool.active}get isDisabled(){return!this.view||!this.view.ready||!this.isSupported}get creatingTool(){return!!this._creationAbortController}async createTool(){if(this.removeTool(),!this.isSupported)return s(new r(\"tool:create\",\"The view does not support the tool\"));const t=this.createToolParams(),o=()=>{const o=p(t.constructorArguments);return{visible:this.visible,...o}},e=new AbortController,i=e.signal;this._creationAbortController=e;const l=()=>{e===this._creationAbortController&&(this._creationAbortController=null)};try{const e=await this.view.createTool(t.toolConstructor,o,{signal:i});this._set(\"tool\",e),l()}catch(t){throw l(),t}}removeTool(){this._creationAbortController&&this._creationAbortController.abort(),this._creationAbortController=null;const t=this.tool;t&&(this.view&&this.view.tools&&this.view.tools.remove(t),t.destroyed||t.destroy(),this._set(\"tool\",null))}};t([o({constructOnly:!0})],a.prototype,\"tool\",void 0),t([o({dependsOn:[\"view.type\"]})],a.prototype,\"isSupported\",null),t([o({value:null})],a.prototype,\"view\",null),t([o({type:Boolean,value:!0})],a.prototype,\"visible\",null),t([o({dependsOn:[\"_creationAbortController\",\"tool.active\"]})],a.prototype,\"active\",null),t([o({dependsOn:[\"view\",\"view.ready\",\"isSupported\"]})],a.prototype,\"isDisabled\",null),t([o()],a.prototype,\"_creationAbortController\",void 0),t([o({readOnly:!0,dependsOn:[\"_creationAbortController\"]})],a.prototype,\"creatingTool\",null),a=t([e(\"esri.widgets.support.InteractiveToolViewModel\")],a);export{a as InteractiveToolViewModel};\n"],"sourceRoot":""}