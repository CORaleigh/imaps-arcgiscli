{"version":3,"sources":["webpack://imaps/./node_modules/@arcgis/core/symbols/support/symbolLayerUtils3D.js","webpack://imaps/./node_modules/@arcgis/core/symbols/support/symbolLayerUtils.js"],"names":["n","o","c","e","m","y","f","l","type","h","b","async","p","r","then","size","isPrimitive","t","width","depth","height","s","i","u","resource","href","responseType","data","primitive","get","fetch","disableTextures","put","referenceBoundingBox","length"],"mappings":"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","file":"chunks/6856.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport\"../../core/has.js\";import{f as e}from\"../../chunks/vec3f64.js\";import{fromValues as r}from\"../../geometry/support/aaBoundingBox.js\";function t(r,{isPrimitive:t,width:n,depth:o,height:c}){const s=t?10:1;if(null==n&&null==c&&null==o)return[s*r[0],s*r[1],s*r[2]];const i=e(n,o,c);let u;for(let e=0;e<3;e++){const t=i[e];if(null!=t){u=t/r[e];break}}for(let e=0;e<3;e++)null==i[e]&&(i[e]=r[e]*u);return i}const n=r(-.5,-.5,-.5,.5,.5,.5),o=r(-.5,-.5,0,.5,.5,1),c=r(-.5,-.5,0,.5,.5,.5);function s(e){switch(e){case\"sphere\":case\"cube\":case\"diamond\":return n;case\"cylinder\":case\"cone\":case\"inverted-cone\":return o;case\"tetrahedron\":return c;default:return}}export{c as OBJECT_SYMBOL_LAYER_BOUNDING_BOX_TETRAHEDRON,n as OBJECT_SYMBOL_LAYER_BOUNDING_BOX_UNIT_CUBE,o as OBJECT_SYMBOL_LAYER_BOUNDING_BOX_UNIT_CYLINDER,s as objectSymbolLayerPrimitiveBoundingBox,t as objectSymbolLayerSizeWithResourceSize};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../core/maybe.js\";import r from\"../../core/Error.js\";import{resolve as o,reject as t}from\"../../core/promiseUtils.js\";import i from\"../../request.js\";import n from\"../../core/ItemCache.js\";import{size as s,create as u}from\"../../geometry/support/aaBoundingBox.js\";import{objectSymbolLayerSizeWithResourceSize as c,objectSymbolLayerPrimitiveBoundingBox as a}from\"./symbolLayerUtils3D.js\";let m=y();function y(){return new n(50)}function f(){m=y()}function l(e,o){if(\"icon\"===e.type)return h(e,o);if(\"object\"===e.type)return b(e,o);throw new r(\"symbol3d:unsupported-symbol-layer\",\"computeLayerSize only works with symbol layers of type Icon and Object\")}async function p(e,o){if(\"icon\"===e.type)return function(e,r){return h(e,r).then((r=>{if(null==e.size)return r;const o=r[0]/r[1];return o>1?[e.size,e.size/o]:[e.size*o,e.size]}))}(e,o);if(\"object\"===e.type)return async function(e,r){const o=await b(e,r);return c(o,e)}(e,o);throw new r(\"symbol3d:unsupported-symbol-layer\",\"computeLayerSize only works with symbol layers of type Icon and Object\")}async function h(o,t){if(o.resource.href)return(n=o.resource.href,i(n,{responseType:\"image\"}).then((e=>e.data))).then((e=>[e.width,e.height]));var n;if(o.resource.primitive)return e(t)?[t,t]:[256,256];throw new r(\"symbol3d:invalid-symbol-layer\",\"symbol layers of type Icon must have either an href or a primitive resource\")}function b(i,n){return async function(i,n){if(!i.isPrimitive){const e=i.resource.href,r=m.get(e);if(void 0!==r)return o(r);const t=await import(\"../../views/3d/layers/graphics/objectResourceUtils.js\"),n=await t.fetch(e,{disableTextures:!0});return m.put(e,n.referenceBoundingBox),n.referenceBoundingBox}let s=null;if(i.resource&&i.resource.primitive&&(s=u(a(i.resource.primitive)),e(n)))for(let e=0;e<s.length;e++)s[e]*=n;return s?o(s):t(new r(\"symbol:invalid-resource\",\"The symbol does not have a valid resource\"))}(i,n).then((e=>s(e)))}export{f as clearBoundingBoxCache,h as computeIconLayerResourceSize,l as computeLayerResourceSize,p as computeLayerSize,b as computeObjectLayerResourceSize};\n"],"sourceRoot":""}