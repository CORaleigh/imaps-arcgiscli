(self.webpackChunkimaps=self.webpackChunkimaps||[]).push([[6801,6194],{97849:(e,t,r)=>{"use strict";r.d(t,{ld:()=>p,B5:()=>u,M8:()=>y,h3:()=>v,G:()=>g,Qc:()=>f,Nm:()=>h,XG:()=>m,a7:()=>c,wH:()=>d});var n=r(59472),o=r(10923),i=r(37704);const s=["MapServer","ImageServer","FeatureServer","SceneServer","StreamServer","VectorTileServer"],l=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/rest\\/services\\/(.+?)\\/(${s.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),a=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/([^\\/\\n]+)\\/(${s.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i");function u(e){return!!l.test(e)}function f(e){const t=(0,o.mN)(e),r=t.path.match(l)||t.path.match(a);if(!r)return null;const[,n,i,s,u]=r,f=i.indexOf("/");return{title:p(-1!==f?i.slice(f+1):i),serverType:s,sublayer:null!=u&&""!==u?parseInt(u,10):null,url:{path:n}}}function p(e){return(e=e.replace(/\s*[/_]+\s*/g," "))[0].toUpperCase()+e.slice(1)}function c(e,t){const r=[];if(e){const t=f(e);(0,n.pC)(t)&&t.title&&r.push(t.title)}if(t){const e=p(t);r.push(e)}if(2===r.length){if(-1!==r[0].toLowerCase().indexOf(r[1].toLowerCase()))return r[0];if(-1!==r[1].toLowerCase().indexOf(r[0].toLowerCase()))return r[1]}return r.join(" - ")}function y(e){if(!e)return!1;const t=-1!==(e=e.toLowerCase()).indexOf(".arcgis.com/"),r=-1!==e.indexOf("//services")||-1!==e.indexOf("//tiles")||-1!==e.indexOf("//features");return t&&r}function h(e,t){return e?(0,o.Qj)((0,o.Hu)(e,t)):e}function m(e,t,r){if(!t)return{url:t};t=(0,o.Hu)(t,r);const i=f((0,o.mN)(t).path);let s;return(0,n.pC)(i)&&(null!=i.sublayer&&null==e.layerId&&(s=i.sublayer),t=i.url.path),{url:(0,o.Qj)(t),layerId:s}}function d(e,t,r,n,s){(0,i.w)(t,n,"url",s),n.url&&null!=e.layerId&&(n.url=(0,o.v_)(n.url,r,e.layerId.toString()))}function g(e){if(!e)return!1;const t=e.toLowerCase(),r=-1!==t.indexOf("/services/"),n=-1!==t.indexOf("/mapserver/wmsserver"),o=-1!==t.indexOf("/imageserver/wmsserver"),i=-1!==t.indexOf("/wmsserver");return r&&(n||o||i)}function v(e){if(!e)return!1;const t=new o.R9((0,o.hF)(e)).authority.toLowerCase();return"server.arcgisonline.com"===t||"services.arcgisonline.com"===t}},89867:(e,t,r)=>{"use strict";r.d(t,{p:()=>o});var n=r(72094);function o(e,t,r){if(!r||!r.features||!r.hasZ)return;const o=(0,n.k)(r.geometryType,t,e.outSpatialReference);if(o)for(const e of r.features)o(e.geometry)}},72094:(e,t,r)=>{"use strict";r.d(t,{k:()=>s,P:()=>a});var n=r(59472),o=r(27780),i=r(93533);function s(e,t,r){if((0,n.Wi)(t)||(0,n.Wi)(r)||r.vcsWkid||(0,o.fS)(t,r))return null;const s=(0,i._R)(t)/(0,i._R)(r);if(1===s)return null;switch(e){case"point":case"esriGeometryPoint":return e=>{return r=s,void((t=e)&&null!=t.z&&(t.z*=r));var t,r};case"polyline":case"esriGeometryPolyline":return e=>function(e,t){if(e)for(const r of e.paths)for(const e of r)e.length>2&&(e[2]*=t)}(e,s);case"polygon":case"esriGeometryPolygon":return e=>function(e,t){if(e)for(const r of e.rings)for(const e of r)e.length>2&&(e[2]*=t)}(e,s);case"multipoint":case"esriGeometryMultipoint":return e=>function(e,t){if(e)for(const r of e.points)r.length>2&&(r[2]*=t)}(e,s);default:return null}}function l(e,t,r){if(null==e.hasM||e.hasZ)for(const e of t)for(const t of e)t.length>2&&(t[2]*=r)}function a(e,t,r){if(!e&&!t||!r)return;const n=(0,i._R)(r);u(e,r,n),u(t,r,n)}function u(e,t,r){if(e)for(const n of e)f(n.geometry,t,r)}function f(e,t,r){if(!e||!e.spatialReference||(0,o.fS)(e.spatialReference,t))return;const n=(0,i._R)(e.spatialReference)/r;if(1!==n)if("x"in e)null!=e.z&&(e.z*=n);else if("rings"in e)l(e,e.rings,n);else if("paths"in e)l(e,e.paths,n);else if("points"in e&&(null==e.hasM||e.hasZ))for(const t of e.points)t.length>2&&(t[2]*=n)}},76194:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>v});var n=r(56140),o=(r(95830),r(59472)),i=(r(36544),r(68055),r(79881)),s=r(56274),l=r(30590),a=r(87566),u=r(60538),f=(r(10923),r(57002),r(86035),r(58385)),p=r(73032),c=r(56885),y=r(36348),h=r(15988),m=r(70834);const d=new s.Xn({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh","":null});let g=class extends f.wq{constructor(e){super(e),this.displayFieldName=null,this.exceededTransferLimit=!1,this.features=[],this.fields=null,this.geometryType=null,this.hasM=!1,this.hasZ=!1,this.queryGeometry=null,this.spatialReference=null}readFeatures(e,t){const r=p.Z.fromJSON(t.spatialReference),n=[];for(let t=0;t<e.length;t++){const i=e[t],s=h.Z.fromJSON(i),l=i.geometry&&i.geometry.spatialReference;(0,o.pC)(s.geometry)&&!l&&(s.geometry.spatialReference=r),n.push(s)}return n}writeGeometryType(e,t,r,n){if(e)return void d.write(e,t,r,n);const{features:i}=this;if(i)for(const e of i)if(e&&(0,o.pC)(e.geometry))return void d.write(e.geometry.type,t,r,n)}readQueryGeometry(e,t){if(!e)return null;const r=!!e.spatialReference,n=(0,c.im)(e);return!r&&t.spatialReference&&(n.spatialReference=p.Z.fromJSON(t.spatialReference)),n}writeSpatialReference(e,t){if(e)return void(t.spatialReference=e.toJSON());const{features:r}=this;if(r)for(const e of r)e&&(0,o.pC)(e.geometry)&&e.geometry.spatialReference&&(t.spatialReference=e.geometry.spatialReference.toJSON())}toJSON(e){const t=this.write(null);if(t.features&&Array.isArray(e)&&e.length>0)for(let r=0;r<t.features.length;r++){const n=t.features[r];if(n.geometry){const t=e&&e[r];n.geometry=t&&t.toJSON()||n.geometry}}return t}quantize(e){const{scale:[t,r],translate:[n,i]}=e,s=this.features,l=this._getQuantizationFunction(this.geometryType,(e=>Math.round((e-n)/t)),(e=>Math.round((i-e)/r)));for(let e=0,t=s.length;e<t;e++)l((0,o.Wg)(s[e].geometry))||(s.splice(e,1),e--,t--);return this.transform=e,this}unquantize(){const{geometryType:e,features:t,transform:r}=this;if(!r)return this;const{translate:[n,i],scale:[s,l]}=r,a=this._getHydrationFunction(e,(e=>e*s+n),(e=>i-e*l));for(const{geometry:e}of t)(0,o.pC)(e)&&a(e);return this.transform=null,this}_quantizePoints(e,t,r){let n,o;const i=[];for(let s=0,l=e.length;s<l;s++){const l=e[s];if(s>0){const e=t(l[0]),s=r(l[1]);e===n&&s===o||(i.push([e-n,s-o]),n=e,o=s)}else n=t(l[0]),o=r(l[1]),i.push([n,o])}return i.length>0?i:null}_getQuantizationFunction(e,t,r){return"point"===e?e=>(e.x=t(e.x),e.y=r(e.y),e):"polyline"===e||"polygon"===e?e=>{const n=(0,c.oU)(e)?e.rings:e.paths,o=[];for(let e=0,i=n.length;e<i;e++){const i=n[e],s=this._quantizePoints(i,t,r);s&&o.push(s)}return o.length>0?((0,c.oU)(e)?e.rings=o:e.paths=o,e):null}:"multipoint"===e?e=>{let n;return n=this._quantizePoints(e.points,t,r),n.length>0?(e.points=n,e):null}:"extent"===e?e=>e:null}_getHydrationFunction(e,t,r){return"point"===e?e=>{e.x=t(e.x),e.y=r(e.y)}:"polyline"===e||"polygon"===e?e=>{const n=(0,c.oU)(e)?e.rings:e.paths;let o,i;for(let e=0,s=n.length;e<s;e++){const s=n[e];for(let e=0,n=s.length;e<n;e++){const n=s[e];e>0?(o+=n[0],i+=n[1]):(o=n[0],i=n[1]),n[0]=t(o),n[1]=r(i)}}}:"extent"===e?e=>{e.xmin=t(e.xmin),e.ymin=r(e.ymin),e.xmax=t(e.xmax),e.ymax=r(e.ymax)}:"multipoint"===e?e=>{const n=e.points;let o,i;for(let e=0,s=n.length;e<s;e++){const s=n[e];e>0?(o+=s[0],i+=s[1]):(o=s[0],i=s[1]),s[0]=t(o),s[1]=r(i)}}:void 0}};(0,n._)([(0,i.Cb)({type:String,json:{write:!0}})],g.prototype,"displayFieldName",void 0),(0,n._)([(0,i.Cb)({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],g.prototype,"exceededTransferLimit",void 0),(0,n._)([(0,i.Cb)({type:[h.Z],json:{write:!0}})],g.prototype,"features",void 0),(0,n._)([(0,l.r)("features")],g.prototype,"readFeatures",null),(0,n._)([(0,i.Cb)({type:[m.Z],json:{write:!0}})],g.prototype,"fields",void 0),(0,n._)([(0,i.Cb)({type:["point","multipoint","polyline","polygon","extent","mesh"],json:{read:{reader:d.read}}})],g.prototype,"geometryType",void 0),(0,n._)([(0,u.c)("geometryType")],g.prototype,"writeGeometryType",null),(0,n._)([(0,i.Cb)({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],g.prototype,"hasM",void 0),(0,n._)([(0,i.Cb)({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],g.prototype,"hasZ",void 0),(0,n._)([(0,i.Cb)({types:y.qM,json:{write:!0}})],g.prototype,"queryGeometry",void 0),(0,n._)([(0,l.r)("queryGeometry")],g.prototype,"readQueryGeometry",null),(0,n._)([(0,i.Cb)({type:p.Z,json:{write:!0}})],g.prototype,"spatialReference",void 0),(0,n._)([(0,u.c)("spatialReference")],g.prototype,"writeSpatialReference",null),(0,n._)([(0,i.Cb)({json:{write:!0}})],g.prototype,"transform",void 0),g=(0,n._)([(0,a.j)("esri.tasks.support.FeatureSet")],g),g.prototype.toJSON.isDefaultToJSON=!0,g||(g={});const v=g}}]);
//# sourceMappingURL=6801.js.map