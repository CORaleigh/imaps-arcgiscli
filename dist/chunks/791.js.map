{"version":3,"sources":["webpack://imaps/./node_modules/@arcgis/core/tasks/geometry/simplify.js","webpack://imaps/./node_modules/@arcgis/core/geometry/support/normalizeUtils.js","webpack://imaps/./node_modules/@arcgis/core/tasks/geometry/cut.js","webpack://imaps/./node_modules/@arcgis/core/layers/graphics/editingSupport.js"],"names":["async","i","n","f","m","p","spatialReference","a","u","query","sr","wkid","JSON","stringify","geometries","r","geometryType","map","toJSON","t","o","fromJSON","path","data","g","102100","maxX","minX","plus180Line","paths","minus180Line","4326","x","e","type","y","w","rings","R","Math","ceil","d","M","error","s","push","length","l","sqrt","c","floor","L","b","Array","isArray","clone","offset","P","url","j","X","U","W","k","A","S","v","isWebMercator","points","_normalize","extent","xmin","intersects","xmax","z","G","I","q","addPath","cutIndexes","some","Number","toFixed","getPoint","setPoint","addRing","target","cutter","shift","D","valid","capabilities","operations","supportsEditing","editingEnabled","edits","result","emit","results","load","applyEdits","layer","addFeatures","updateFeatures","deleteFeatures","addAttachments","updateAttachments","deleteAttachments","isVersioned","gdbVersion","editing","supportsRollbackOnFailure","rollbackOnFailureEnabled","supportsGlobalId","globalIdUsed","toArray","supportsAdd","supportsUpdate","supportsDelete","forEach","h","concat","geometry","slice","addFeatureResults","updateFeatureResults","deleteFeatureResults","addAttachmentResults","updateAttachmentResults","deleteAttachmentResults","filter","addedFeatures","updatedFeatures","deletedFeatures","addedAttachments","updatedAttachments","deletedAttachments","attributes","globalIdField","globalId","hasZ","supportsZ","hasM","supportsM","feature","attachment","uploadId","File","name","supportsUploadWithItemId","isBase64"],"mappings":"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","file":"chunks/791.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{urlToObject as r}from\"../../core/urlUtils.js\";import{getJsonType as t,getGeometryType as e}from\"../../geometry/support/jsonUtils.js\";import o from\"../../request.js\";async function i(i,n,f){const m=\"string\"==typeof i?r(i):i,p=n[0].spatialReference,a=t(n[0]),u={...f,query:{...m.query,f:\"json\",sr:p.wkid?p.wkid:JSON.stringify(p),geometries:JSON.stringify(s(n))}};return function(r,t,o){const i=e(t);return r.map((r=>{const t=i.fromJSON(r);return t.spatialReference=o,t}))}((await o(m.path+\"/simplify\",u)).data,a,p)}function s(r){return{geometryType:t(r[0]),geometries:r.map((r=>r.toJSON()))}}export{i as simplify};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport e from\"../../config.js\";import{isNone as t,isSome as n}from\"../../core/maybe.js\";import s from\"../../core/Logger.js\";import o from\"../../core/Error.js\";import{resolve as r}from\"../../core/promiseUtils.js\";import{getInfo as i}from\"./spatialReferenceUtils.js\";import f from\"../SpatialReference.js\";import{geographicToWebMercator as l,webMercatorToGeographic as c}from\"./webMercatorUtils.js\";import p from\"../Polygon.js\";import a from\"../Polyline.js\";import{cut as u}from\"../../tasks/geometry/cut.js\";import{simplify as h}from\"../../tasks/geometry/simplify.js\";const m=s.getLogger(\"esri.geometry.support.normalizeUtils\"),g={102100:{maxX:20037508.342788905,minX:-20037508.342788905,plus180Line:new a({paths:[[[20037508.342788905,-20037508.342788905],[20037508.342788905,20037508.342788905]]],spatialReference:f.WebMercator}),minus180Line:new a({paths:[[[-20037508.342788905,-20037508.342788905],[-20037508.342788905,20037508.342788905]]],spatialReference:f.WebMercator})},4326:{maxX:180,minX:-180,plus180Line:new a({paths:[[[180,-180],[180,180]]],spatialReference:f.WGS84}),minus180Line:new a({paths:[[[-180,-180],[-180,180]]],spatialReference:f.WGS84})}};function x(e){return\"polygon\"===e.type}function y(e){return\"polyline\"===e[0].type}function w(e){return x(e)?e.rings:e.paths}function R(e,t){return Math.ceil((e-t)/(2*t))}function d(e,t){const n=w(e);for(const e of n)for(const n of e)n[0]+=t;return e}function j(e){const t=[];let n=0,s=0;for(let o=0;o<e.length;o++){const r=e[o];let i=null;for(let e=0;e<r.length;e++)i=r[e],t.push(i),0===e?(n=i[0],s=n):(n=Math.min(n,i[0]),s=Math.max(s,i[0]));i&&t.push([(n+s)/2,0])}return t}function M(e,t){if(!(e instanceof a||e instanceof p)){const e=\"straightLineDensify: the input geometry is neither polyline nor polygon\";throw m.error(e),new o(e)}const n=w(e),s=[];for(const e of n){const n=[];s.push(n),n.push([e[0][0],e[0][1]]);for(let s=0;s<e.length-1;s++){const o=e[s][0],r=e[s][1],i=e[s+1][0],f=e[s+1][1],l=Math.sqrt((i-o)*(i-o)+(f-r)*(f-r)),c=(f-r)/l,p=(i-o)/l,a=l/t;if(a>1){for(let e=1;e<=a-1;e++){const s=e*t,i=p*s+o,f=c*s+r;n.push([i,f])}const e=(l+Math.floor(a-1)*t)/2,s=p*e+o,i=c*e+r;n.push([s,i])}n.push([i,f])}}return x(e)?new p({rings:s,spatialReference:e.spatialReference}):new a({paths:s,spatialReference:e.spatialReference})}function L(e,t,n){if(t){const t=M(e,1e6);e=c(t,!0)}return n&&(e=d(e,n)),e}function b(e,t,n){if(Array.isArray(e)){const s=e[0];if(s>t){const n=R(s,t);e[0]=s+n*(-2*t)}else if(s<n){const t=R(s,n);e[0]=s+t*(-2*n)}}else{const s=e.x;if(s>t){const n=R(s,t);e=e.clone().offset(n*(-2*t),0)}else if(s<n){const t=R(s,n);e=e.clone().offset(t*(-2*n),0)}}return e}async function P(s,o,f){if(!Array.isArray(s))return P([s],o);const c=o?o.url:e.geometryServiceUrl;let m,x,j,M,X,U,W,k,A=0;const S=[],v=[];for(const e of s)if(t(e))v.push(e);else if(m||(m=e.spatialReference,x=i(m),j=m.isWebMercator,U=j?102100:4326,M=g[U].maxX,X=g[U].minX,W=g[U].plus180Line,k=g[U].minus180Line),x)if(\"mesh\"===e.type)v.push(e);else if(\"point\"===e.type)v.push(b(e.clone(),M,X));else if(\"multipoint\"===e.type){const t=e.clone();t.points=t.points.map((e=>b(e,M,X))),v.push(t)}else if(\"extent\"===e.type){const t=e.clone()._normalize(!1,!1,x);v.push(t.rings?new p(t):t)}else if(e.extent){const t=e.extent,n=R(t.xmin,X)*(2*M);let s=0===n?e.clone():d(e.clone(),n);t.offset(n,0),t.intersects(W)&&t.xmax!==M?(A=t.xmax>A?t.xmax:A,s=L(s,j),S.push(s),v.push(\"cut\")):t.intersects(k)&&t.xmin!==X?(A=t.xmax*(2*M)>A?t.xmax*(2*M):A,s=L(s,j,360),S.push(s),v.push(\"cut\")):v.push(s)}else v.push(e.clone());else v.push(e);let z=R(A,M),G=-90;const I=z,q=new a;for(;z>0;){const e=360*z-180;q.addPath([[e,G],[e,-1*G]]),G*=-1,z--}if(S.length>0&&I>0){const e=function(e,t){let n=-1;for(let s=0;s<t.cutIndexes.length;s++){const o=t.cutIndexes[s],r=t.geometries[s],i=w(r);for(let e=0;e<i.length;e++){const t=i[e];t.some((n=>{if(n[0]<180)return!0;{let n=0;for(let e=0;e<t.length;e++){const s=t[e][0];n=s>n?s:n}n=Number(n.toFixed(9));const s=-360*R(n,180);for(let n=0;n<t.length;n++){const t=r.getPoint(e,n);r.setPoint(e,n,t.clone().offset(s,0))}return!0}}))}if(o===n){if(\"polygon\"===e[0].type)for(const t of w(r))e[o]=e[o].addRing(t);else if(y(e))for(const t of w(r))e[o]=e[o].addPath(t)}else n=o,e[o]=r}return e}(S,await u(c,S,q,f)),t=[],o=[];for(let r=0;r<v.length;r++){const i=v[r];if(\"cut\"!==i)o.push(i);else{const i=e.shift(),f=s[r];n(f)&&\"polygon\"===f.type&&f.rings&&f.rings.length>1&&i.rings.length>=f.rings.length?(t.push(i),o.push(\"simplify\")):o.push(j?l(i):i)}}if(!t.length)return o;const r=await h(c,t,f),i=[];for(let e=0;e<o.length;e++){const t=o[e];\"simplify\"!==t?i.push(t):i.push(j?l(r.shift()):r.shift())}return i}const D=[];for(let e=0;e<v.length;e++){const t=v[e];if(\"cut\"!==t)D.push(t);else{const e=S.shift();D.push(!0===j?l(e):e)}}return r(D)}function X(e){if(!e)return null;const t=e.extent;if(!t)return null;const n=e.spatialReference&&i(e.spatialReference);if(!n)return t;const[s,o]=n.valid,r=2*o,{width:f}=t;let l,{xmin:c,xmax:p}=t;if([c,p]=[p,c],\"extent\"===e.type||0===f||f<=o||f>r||c<s||p>o)return t;switch(e.type){case\"polygon\":if(!(e.rings.length>1))return t;l=j(e.rings);break;case\"polyline\":if(!(e.paths.length>1))return t;l=j(e.paths);break;case\"multipoint\":l=e.points}const a=t.clone();for(let e=0;e<l.length;e++){let t=l[e][0];t<0?(t+=o,p=Math.max(t,p)):(t-=o,c=Math.min(t,c))}return a.xmin=c,a.xmax=p,a.width<f?(a.xmin-=o,a.xmax-=o,a):t}function U(e,t){const n=i(t);if(n){const[t,s]=n.valid,o=s-t;if(e<t)for(;e<t;)e+=o;if(e>s)for(;e>s;)e-=o}return e}export{X as getDenormalizedExtent,P as normalizeCentralMeridian,U as normalizeMapX,M as straightLineDensify};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{urlToObject as e}from\"../../core/urlUtils.js\";import{getJsonType as t,fromJSON as r}from\"../../geometry/support/jsonUtils.js\";import\"../../geometry.js\";import s from\"../../request.js\";async function o(o,i,n,m){const p=\"string\"==typeof o?e(o):o,a=i[0].spatialReference,u={...m,query:{...p.query,f:\"json\",sr:JSON.stringify(a),target:JSON.stringify({geometryType:t(i[0]),geometries:i}),cutter:JSON.stringify(n)}},c=await s(p.path+\"/cut\",u),{cutIndexes:f,geometries:g=[]}=c.data;return{cutIndexes:f,geometries:g.map((e=>{const t=r(e);return t.spatialReference=a,t}))}}export{o as cut};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{clone as e}from\"../../core/lang.js\";import{isSome as t}from\"../../core/maybe.js\";import a from\"../../core/Error.js\";import{dataComponents as r}from\"../../core/urlUtils.js\";import{create as s,reject as d}from\"../../core/promiseUtils.js\";import i from\"../../core/Collection.js\";import l from\"../../Graphic.js\";import{normalizeCentralMeridian as n}from\"../../geometry/support/normalizeUtils.js\";function o(e){var t,a;return!0===(null==e||null==(t=e.capabilities)||null==(a=t.operations)?void 0:a.supportsEditing)&&e&&(!(\"editingEnabled\"in e)||e.editingEnabled)}async function u(t,r,l,o){let u,m;const y={edits:l,result:s(((e,t)=>{u=e,m=t}))};t.emit(\"apply-edits\",y);try{const{results:s,edits:m}=await async function(e,t,r,s){if(await e.load(),!function(e){return e&&null!=e.applyEdits}(t))return d(new a(`${e.type}-layer:no-editing-support`,\"Layer source does not support applyEdits capability\",{layer:e}));if(!e.editingEnabled)throw new a(`${e.type}-layer:editing-disabled`,\"Editing is disabled for layer\",{layer:e});const l=await function(e,t,r){const s=t&&(t.addFeatures||t.updateFeatures||t.deleteFeatures),d=t&&(t.addAttachments||t.updateAttachments||t.deleteAttachments);if(!t||!s&&!d)throw new a(`${e.type}-layer:missing-parameters`,\"'addFeatures', 'updateFeatures', 'deleteFeatures', 'addAttachments', 'updateAttachments' or 'deleteAttachments' parameter is required\");if(!e.capabilities.data.isVersioned&&r&&r.gdbVersion)throw new a(`${e.type}-layer:invalid-parameter`,\"'gdbVersion' is applicable only if the layer supports versioned data. See: 'capabilities.data.isVersioned'\");if(!e.capabilities.editing.supportsRollbackOnFailure&&r&&r.rollbackOnFailureEnabled)throw new a(`${e.type}-layer:invalid-parameter`,\"This layer does not support 'rollbackOnFailureEnabled' parameter. See: 'capabilities.editing.supportsRollbackOnFailure'\");if(!e.capabilities.editing.supportsGlobalId&&r&&r.globalIdUsed)throw new a(`${e.type}-layer:invalid-parameter`,\"This layer does not support 'globalIdUsed' parameter. See: 'capabilities.editing.supportsGlobalId'\");if(!e.capabilities.editing.supportsGlobalId&&d)throw new a(`${e.type}-layer:invalid-parameter`,\"'addAttachments', 'updateAttachments' and 'deleteAttachments' are applicable only if the layer supports global ids. See: 'capabilities.editing.supportsGlobalId'\");if((!r||!r.globalIdUsed)&&d)throw new a(`${e.type}-layer:invalid-parameter`,\"When 'addAttachments', 'updateAttachments' or 'deleteAttachments' is specified, globalIdUsed should be set to true\");const l={...t};if(l.addFeatures=t&&i.isCollection(t.addFeatures)?t.addFeatures.toArray():l.addFeatures||[],l.updateFeatures=t&&i.isCollection(t.updateFeatures)?t.updateFeatures.toArray():l.updateFeatures||[],l.deleteFeatures=t&&i.isCollection(t.deleteFeatures)?t.deleteFeatures.toArray():l.deleteFeatures||[],l.addFeatures.length&&!e.capabilities.operations.supportsAdd)throw new a(`${e.type}-layer:unsupported-operation`,\"Layer does not support adding features.\");if(l.updateFeatures.length&&!e.capabilities.operations.supportsUpdate)throw new a(`${e.type}-layer:unsupported-operation`,\"Layer does not support updating features.\");if(l.deleteFeatures.length&&!e.capabilities.operations.supportsDelete)throw new a(`${e.type}-layer:unsupported-operation`,\"Layer does not support deleting features.\");l.addAttachments=l.addAttachments||[],l.updateAttachments=l.updateAttachments||[],l.deleteAttachments=l.deleteAttachments||[],l.addFeatures=l.addFeatures.map(c),l.updateFeatures=l.updateFeatures.map(c);const o=r&&r.globalIdUsed;return l.addFeatures.forEach((t=>p(t,e,o))),l.updateFeatures.forEach((t=>p(t,e,o))),l.deleteFeatures.forEach((t=>p(t,e,o))),l.addAttachments.forEach((t=>h(t,e))),l.updateAttachments.forEach((t=>h(t,e))),async function(e){const t=e.addFeatures,a=e.updateFeatures,r=t.concat(a).map((e=>e.geometry)),s=await n(r),d=t.length,i=a.length;return s.slice(0,d).forEach(((t,a)=>{e.addFeatures[a].geometry=t})),s.slice(d,d+i).forEach(((t,a)=>{e.updateFeatures[a].geometry=t})),e}(l)}(e,r,s);if(!(l.addFeatures.length||l.updateFeatures.length||l.deleteFeatures.length||l.addAttachments.length||l.updateAttachments.length||l.deleteAttachments.length))return{edits:l,results:{addFeatureResults:[],updateFeatureResults:[],deleteFeatureResults:[],addAttachmentResults:[],updateAttachmentResults:[],deleteAttachmentResults:[]}};return{edits:l,results:await t.applyEdits(l,s)}}(t,r,l,o),y=t=>t.filter((e=>!e.error)).map(e),f={edits:m,addedFeatures:y(s.addFeatureResults),updatedFeatures:y(s.updateFeatureResults),deletedFeatures:y(s.deleteFeatureResults),addedAttachments:y(s.addAttachmentResults),updatedAttachments:y(s.updateAttachmentResults),deletedAttachments:y(s.deleteAttachmentResults)};return(f.addedFeatures.length||f.updatedFeatures.length||f.deletedFeatures.length||f.addedAttachments.length||f.updatedAttachments.length||f.deletedAttachments.length)&&t.emit(\"edits\",f),u(f),s}catch(e){throw m(e),e}}function p(e,r,s){if(s){if(\"attributes\"in e&&!e.attributes[r.globalIdField])throw new a(`${r.type}-layer:invalid-parameter`,\"Feature should have 'globalId' when 'globalIdUsed' is true\");if(!(\"attributes\"in e)&&!e.globalId)throw new a(`${r.type}-layer:invalid-parameter`,\"'globalId' of the feature should be passed when 'globalIdUsed' is true\")}if(\"geometry\"in e&&t(e.geometry)){if(e.geometry.hasZ&&!1===r.capabilities.data.supportsZ)throw new a(`${r.type}-layer:z-unsupported`,\"Layer does not support z values while feature has z values.\");if(e.geometry.hasM&&!1===r.capabilities.data.supportsM)throw new a(`${r.type}-layer:m-unsupported`,\"Layer does not support m values while feature has m values.\")}}function h(e,t){const{feature:s,attachment:d}=e;if(!s||\"attributes\"in s&&!s.attributes[t.globalIdField])throw new a(`${t.type}-layer:invalid-parameter`,\"Attachment should have reference to a feature with 'globalId'\");if(!(\"attributes\"in s)&&!s.globalId)throw new a(`${t.type}-layer:invalid-parameter`,\"Attachment should have reference to 'globalId' of the parent feature\");if(!d.globalId)throw new a(`${t.type}-layer:invalid-parameter`,\"Attachment should have 'globalId'\");if(!d.data&&!d.uploadId)throw new a(`${t.type}-layer:invalid-parameter`,\"Attachment should have 'data' or 'uploadId'\");if(!(d.data instanceof File&&!!d.data.name)&&!d.name)throw new a(`${t.type}-layer:invalid-parameter`,\"'name' is required when attachment is specified as Base64 encoded string using 'data'\");if(!t.capabilities.editing.supportsUploadWithItemId&&d.uploadId)throw new a(`${t.type}-layer:invalid-parameter`,\"This layer does not support 'uploadId' parameter. See: 'capabilities.editing.supportsUploadWithItemId'\");if(\"string\"==typeof d.data){const e=r(d.data);if(e&&!e.isBase64)throw new a(`${t.type}-layer:invalid-parameter`,\"Attachment 'data' should be a Blob, File or Base64 encoded string\")}}function c(e){const t=new l;return e.attributes||(e.attributes={}),t.geometry=e.geometry,t.attributes=e.attributes,t}export{u as applyEdits,o as isEditableLayer};\n"],"sourceRoot":""}